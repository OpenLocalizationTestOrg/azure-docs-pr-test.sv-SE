---
title: "aaaUsing belastningsutjämning tjänster i Azure | Microsoft Docs"
description: "Den här kursen visar hur toocreate ett scenario med hjälp av hello Azure belastningsutjämning portfölj: Traffic Manager Application Gateway och belastningsutjämnare."
services: traffic-manager
documentationcenter: 
author: liumichelle
manager: vitinnan
editor: 
ms.assetid: f89be3be-a16f-4d47-bcae-db2ab72ade17
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 10/27/2016
ms.author: limichel
ms.openlocfilehash: d217047102d8c4828250dc0733e8ec9ee1e84b3f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="using-load-balancing-services-in-azure"></a><span data-ttu-id="3bd2f-103">Med belastningsutjämning tjänster i Azure</span><span class="sxs-lookup"><span data-stu-id="3bd2f-103">Using load-balancing services in Azure</span></span>

## <a name="introduction"></a><span data-ttu-id="3bd2f-104">Introduktion</span><span class="sxs-lookup"><span data-stu-id="3bd2f-104">Introduction</span></span>

<span data-ttu-id="3bd2f-105">Microsoft Azure tillhandahåller flera tjänster för att hantera hur nätverkstrafik distribueras och Utjämning av nätverksbelastning.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-105">Microsoft Azure provides multiple services for managing how network traffic is distributed and load balanced.</span></span> <span data-ttu-id="3bd2f-106">Du kan använda dessa tjänster individuellt eller kombinera deras metoder, beroende på dina behov, toobuild hello optimal lösning.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-106">You can use these services individually or combine their methods, depending on your needs, toobuild hello optimal solution.</span></span>

<span data-ttu-id="3bd2f-107">I den här självstudiekursen kommer vi först definiera kunden användningsfall och se hur det kan göras mer robusta och performant genom att använda följande Azure belastningsutjämning portfölj hello: Traffic Manager Application Gateway och belastningsutjämnare.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-107">In this tutorial, we first define a customer use case and see how it can be made more robust and performant by using hello following Azure load-balancing portfolio: Traffic Manager, Application Gateway, and Load Balancer.</span></span> <span data-ttu-id="3bd2f-108">Vi ger sedan stegvisa instruktioner för hur du skapar en distribution som är geografiskt redundant, distribuerar trafik tooVMs och hjälper dig att hantera olika typer av begäranden.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-108">We then provide step-by-step instructions for creating a deployment that is geographically redundant, distributes traffic tooVMs, and helps you manage different types of requests.</span></span>

<span data-ttu-id="3bd2f-109">På en konceptuell nivå spelar var och en av dessa tjänster en specifik roll i hello belastningsutjämning hierarki.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-109">At a conceptual level, each of these services plays a distinct role in hello load-balancing hierarchy.</span></span>

* <span data-ttu-id="3bd2f-110">**Traffic Manager** innehåller globala DNS belastningsutjämning.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-110">**Traffic Manager** provides global DNS load balancing.</span></span> <span data-ttu-id="3bd2f-111">Det ser ut på DNS-förfrågningar och svarar med en felfri slutpunkt, i enlighet med hello routning princip hello kunden har valts.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-111">It looks at incoming DNS requests and responds with a healthy endpoint, in accordance with hello routing policy hello customer has selected.</span></span> <span data-ttu-id="3bd2f-112">Alternativ för routningsmetoder är:</span><span class="sxs-lookup"><span data-stu-id="3bd2f-112">Options for routing methods are:</span></span>
  * <span data-ttu-id="3bd2f-113">Prestanda routning toosend hello begärande toohello närmaste slutpunkt med avseende på latens.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-113">Performance routing toosend hello requestor toohello closest endpoint in terms of latency.</span></span>
  * <span data-ttu-id="3bd2f-114">Prioritet och routning toodirect alla trafik tooan slutpunkt med andra slutpunkter som säkerhetskopia.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-114">Priority routing toodirect all traffic tooan endpoint, with other endpoints as backup.</span></span>
  * <span data-ttu-id="3bd2f-115">Viktad resursallokering routning, som distribuerar trafik utifrån hello-värde som är tilldelad tooeach slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-115">Weighted round-robin routing, which distributes traffic based on hello weighting that is assigned tooeach endpoint.</span></span>

  <span data-ttu-id="3bd2f-116">hello klienten ansluter direkt toothat slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-116">hello client connects directly toothat endpoint.</span></span> <span data-ttu-id="3bd2f-117">Azure Traffic Manager identifierar när en slutpunkt har dåligt hälsotillstånd och sedan omdirigerar hello klienter tooanother felfri instans.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-117">Azure Traffic Manager detects when an endpoint is unhealthy and then redirects hello clients tooanother healthy instance.</span></span> <span data-ttu-id="3bd2f-118">Se för[Azure Traffic Manager-dokumentationen](traffic-manager-overview.md) toolearn mer om hello-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-118">Refer too[Azure Traffic Manager documentation](traffic-manager-overview.md) toolearn more about hello service.</span></span>
* <span data-ttu-id="3bd2f-119">**Programgateway** ger programmet leverans domänkontrollant (ADC) som en tjänst som erbjuder olika Layer 7 belastningsutjämning funktioner för ditt program.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-119">**Application Gateway** provides application delivery controller (ADC) as a service, offering various Layer 7 load-balancing capabilities for your application.</span></span> <span data-ttu-id="3bd2f-120">Det gör att kunder toooptimize web servergruppen produktivitet genom att avlasta processorintensiva SSL-avslutning toohello Programgateway.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-120">It allows customers toooptimize web farm productivity by offloading CPU-intensive SSL termination toohello application gateway.</span></span> <span data-ttu-id="3bd2f-121">Andra lager 7 routningsfunktionerna inkluderar resursallokering distribution av inkommande trafik, cookie-baserad session tillhörighet, URL-sökväg-baserad Routning och hello möjlighet toohost flera webbplatser bakom en enda Programgateway.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-121">Other Layer 7 routing capabilities include round-robin distribution of incoming traffic, cookie-based session affinity, URL path-based routing, and hello ability toohost multiple websites behind a single application gateway.</span></span> <span data-ttu-id="3bd2f-122">Programgateway kan konfigureras som en mot Internet-gateway, en endast internt-gateway eller en kombination av båda.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-122">Application Gateway can be configured as an Internet-facing gateway, an internal-only gateway, or a combination of both.</span></span> <span data-ttu-id="3bd2f-123">Programgateway är fullständigt Azure hanterade, skalbara och hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-123">Application Gateway is fully Azure managed, scalable, and highly available.</span></span> <span data-ttu-id="3bd2f-124">För att få en bättre hantering ingår en omfattande uppsättning diagnostik- och loggningsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-124">It provides a rich set of diagnostics and logging capabilities for better manageability.</span></span>
* <span data-ttu-id="3bd2f-125">**Belastningsutjämnaren** är en integrerad del av hello Azure SDN stacken, hög prestanda, låg latens lager 4 belastningsutjämning tjänster för alla UDP och TCP-protokoll.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-125">**Load Balancer** is an integral part of hello Azure SDN stack, providing high-performance, low-latency Layer 4 load-balancing services for all UDP and TCP protocols.</span></span> <span data-ttu-id="3bd2f-126">Den hanterar inkommande och utgående anslutningar.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-126">It manages inbound and outbound connections.</span></span> <span data-ttu-id="3bd2f-127">Du kan konfigurera offentliga och interna belastningsutjämnade slutpunkter och definiera regler toomap inkommande anslutningar tooback slutpunkt pool mål med hjälp av TCP- och HTTP-avsökning av hälsotillstånd alternativ toomanage tjänsttillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-127">You can configure public and internal load-balanced endpoints and define rules toomap inbound connections tooback-end pool destinations by using TCP and HTTP health-probing options toomanage service availability.</span></span>

## <a name="scenario"></a><span data-ttu-id="3bd2f-128">Scenario</span><span class="sxs-lookup"><span data-stu-id="3bd2f-128">Scenario</span></span>

<span data-ttu-id="3bd2f-129">I det här exemplet använder vi en enkel webbplats som har två typer av innehåll: bilder och dynamiskt återgivna webbsidor.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-129">In this example scenario, we use a simple website that serves two types of content: images and dynamically rendered webpages.</span></span> <span data-ttu-id="3bd2f-130">hello webbplats måste vara geografiskt redundant och den bör hantera sina användare från hello närmaste (lägsta svarstid) plats toothem.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-130">hello website must be geographically redundant, and it should serve its users from hello closest (lowest latency) location toothem.</span></span> <span data-ttu-id="3bd2f-131">hello programutvecklaren har beslutat att hello eventuella webbadresser som matchar mönstret/bilder / * hanteras från en dedikerad pool för virtuella datorer som skiljer sig från hello resten av hello webbservergrupp.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-131">hello application developer has decided that any URLs that match hello pattern /images/* are served from a dedicated pool of VMs that are different from hello rest of hello web farm.</span></span>

<span data-ttu-id="3bd2f-132">Dessutom måste hello VM Standardpool betjänar hello dynamiskt innehåll tootalk tooa backend-databas som finns på ett kluster med hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-132">Additionally, hello default VM pool serving hello dynamic content needs tootalk tooa back-end database that is hosted on a high-availability cluster.</span></span> <span data-ttu-id="3bd2f-133">hello hela distributionen har ställts in via Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-133">hello entire deployment is set up through Azure Resource Manager.</span></span>

<span data-ttu-id="3bd2f-134">Med hjälp av Traffic Manager Application Gateway och belastningsutjämnare kan den här webbplatsen tooachieve dessa utforma mål:</span><span class="sxs-lookup"><span data-stu-id="3bd2f-134">Using Traffic Manager, Application Gateway, and Load Balancer allows this website tooachieve these design goals:</span></span>

* <span data-ttu-id="3bd2f-135">**Flera geo-redundans**: om en region kraschar Traffic Manager vägar sömlöst trafik toohello närmaste region utan någon åtgärd från hello programmet ägare.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-135">**Multi-geo redundancy**: If one region goes down, Traffic Manager routes traffic seamlessly toohello closest region without any intervention from hello application owner.</span></span>
* <span data-ttu-id="3bd2f-136">**Kortare svarstider**: eftersom Traffic Manager dirigerar automatiskt hello kunden toohello närmaste region, hello kund får kortare svarstid när du begär hello webbsidan innehållet.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-136">**Reduced latency**: Because Traffic Manager automatically directs hello customer toohello closest region, hello customer experiences lower latency when requesting hello webpage contents.</span></span>
* <span data-ttu-id="3bd2f-137">**Oberoende skalbarhet**: eftersom hello web application arbetsbelastning avgränsas av typ av innehåll, hello programmet ägare kan skala hello begäran arbetsbelastningar är oberoende av varandra.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-137">**Independent scalability**: Because hello web application workload is separated by type of content, hello application owner can scale hello request workloads independent of each other.</span></span> <span data-ttu-id="3bd2f-138">Programgateway garanterar att hello trafik dirigeras toohello rätt poolerna baserat på angivna hello hello programmet hello hälsa och regler.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-138">Application Gateway ensures that hello traffic is routed toohello right pools based on hello specified rules and hello health of hello application.</span></span>
* <span data-ttu-id="3bd2f-139">**Intern belastningsutjämning**: eftersom belastningsutjämnare är framför hello kluster med hög tillgänglighet, hello aktiva och felfri slutpunkt för en databas är utsatta toohello program.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-139">**Internal load balancing**: Because Load Balancer is in front of hello high-availability cluster, only hello active and healthy endpoint for a database is exposed toohello application.</span></span> <span data-ttu-id="3bd2f-140">Dessutom kan en databasadministratör optimera hello arbetsbelastning genom att distribuera aktiva och passiva repliker över hello kluster oberoende av hello klientprogrammet.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-140">Additionally, a database administrator can optimize hello workload by distributing active and passive replicas across hello cluster independent of hello front-end application.</span></span> <span data-ttu-id="3bd2f-141">Belastningsutjämnaren ger anslutningar toohello kluster med hög tillgänglighet och säkerställer att endast felfri databaser tar emot anslutningsbegäranden.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-141">Load Balancer delivers connections toohello high-availability cluster and ensures that only healthy databases receive connection requests.</span></span>

<span data-ttu-id="3bd2f-142">hello visar följande diagram hello arkitekturen i det här scenariot:</span><span class="sxs-lookup"><span data-stu-id="3bd2f-142">hello following diagram shows hello architecture of this scenario:</span></span>

![Diagram över belastningsutjämning arkitektur](./media/traffic-manager-load-balancing-azure/scenario-diagram.png)

> [!NOTE]
> <span data-ttu-id="3bd2f-144">Det här exemplet är endast ett av många möjliga konfigurationer hello belastningsutjämning tjänster som Azure erbjuder.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-144">This example is only one of many possible configurations of hello load-balancing services that Azure offers.</span></span> <span data-ttu-id="3bd2f-145">Traffic Manager Application Gateway och belastningsutjämnare kan vara mixed och matchade toobest passar dina behov för belastningsutjämning.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-145">Traffic Manager, Application Gateway, and Load Balancer can be mixed and matched toobest suit your load-balancing needs.</span></span> <span data-ttu-id="3bd2f-146">Till exempel om SSL-avlastning eller Layer 7 bearbetning behövs inte kan belastningsutjämnaren användas i stället för Programgateway.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-146">For example, if SSL offload or Layer 7 processing is not necessary, Load Balancer can be used in place of Application Gateway.</span></span>

## <a name="setting-up-hello-load-balancing-stack"></a><span data-ttu-id="3bd2f-147">Konfigurera hello belastningsutjämning stack</span><span class="sxs-lookup"><span data-stu-id="3bd2f-147">Setting up hello load-balancing stack</span></span>

### <a name="step-1-create-a-traffic-manager-profile"></a><span data-ttu-id="3bd2f-148">Steg 1: Skapa en trafikhanterarprofil</span><span class="sxs-lookup"><span data-stu-id="3bd2f-148">Step 1: Create a Traffic Manager profile</span></span>

1. <span data-ttu-id="3bd2f-149">I hello Azure-portalen klickar du på **ny**, och sedan söka hello marketplace för ”trafikhanterarprofil”.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-149">In hello Azure portal, click **New**, and then search hello marketplace for "Traffic Manager profile."</span></span>
2. <span data-ttu-id="3bd2f-150">På hello **skapa Traffic Manager-profilen** bladet ange hello följande grundläggande information:</span><span class="sxs-lookup"><span data-stu-id="3bd2f-150">On hello **Create Traffic Manager profile** blade, enter hello following basic information:</span></span>

  * <span data-ttu-id="3bd2f-151">**Namnet**: ge din Traffic Manager-profil en DNS-Prefixnamn.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-151">**Name**: Give your Traffic Manager profile a DNS prefix name.</span></span>
  * <span data-ttu-id="3bd2f-152">**Routningsmetoden**: Välj hello princip för routning av nätverkstrafik metod.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-152">**Routing method**: Select hello traffic-routing method policy.</span></span> <span data-ttu-id="3bd2f-153">Mer information om hello metoder finns [om Traffic Manager-trafikroutningsmetoder](traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="3bd2f-153">For more information about hello methods, see [About Traffic Manager traffic routing methods](traffic-manager-routing-methods.md).</span></span>
  * <span data-ttu-id="3bd2f-154">**Prenumerationen**: Välj hello-prenumeration som innehåller hello-profil.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-154">**Subscription**: Select hello subscription that contains hello profile.</span></span>
  * <span data-ttu-id="3bd2f-155">**Resursgruppen**: Välj hello resursgruppen som innehåller hello-profil.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-155">**Resource group**: Select hello resource group that contains hello profile.</span></span> <span data-ttu-id="3bd2f-156">Det kan vara en ny eller befintlig resursgrupp.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-156">It can be a new or existing resource group.</span></span>
  * <span data-ttu-id="3bd2f-157">**Resursgruppens plats**: Traffic Manager-tjänsten är global och inte knuten tooa plats.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-157">**Resource group location**: Traffic Manager service is global and not bound tooa location.</span></span> <span data-ttu-id="3bd2f-158">Du måste dock ange en region för hello grupp där hello metadata som associeras med hello Traffic Manager-profilen finns.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-158">However, you must specify a region for hello group where hello metadata associated with hello Traffic Manager profile resides.</span></span> <span data-ttu-id="3bd2f-159">Den här platsen påverkar inte hello runtime tillgängligheten för hello profil.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-159">This location has no impact on hello runtime availability of hello profile.</span></span>

3. <span data-ttu-id="3bd2f-160">Klicka på **skapa** toogenerate hello Traffic Manager-profilen.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-160">Click **Create** toogenerate hello Traffic Manager profile.</span></span>

  ![”Skapa Traffic Manager” bladet](./media/traffic-manager-load-balancing-azure/s1-create-tm-blade.png)

### <a name="step-2-create-hello-application-gateways"></a><span data-ttu-id="3bd2f-162">Steg 2: Skapa hello programgatewayer</span><span class="sxs-lookup"><span data-stu-id="3bd2f-162">Step 2: Create hello application gateways</span></span>

1. <span data-ttu-id="3bd2f-163">Klicka i hello Azure-portalen hello vänster **ny** > **nätverk** > **Programgateway**.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-163">In hello Azure portal, in hello left pane, click **New** > **Networking** > **Application Gateway**.</span></span>
2. <span data-ttu-id="3bd2f-164">Ange följande grundläggande information om hello Programgateway hello:</span><span class="sxs-lookup"><span data-stu-id="3bd2f-164">Enter hello following basic information about hello application gateway:</span></span>

  * <span data-ttu-id="3bd2f-165">**Namnet**: hello namnet på hello Programgateway.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-165">**Name**: hello name of hello application gateway.</span></span>
  * <span data-ttu-id="3bd2f-166">**SKU-storleken**: hello storleken på hello Programgateway, tillgänglig som små, medelstora eller stora.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-166">**SKU size**: hello size of hello application gateway, available as Small, Medium, or Large.</span></span>
  * <span data-ttu-id="3bd2f-167">**Instansen antal**: hello antalet instanser, ett värde mellan 2 och 10.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-167">**Instance count**: hello number of instances, a value from 2 through 10.</span></span>
  * <span data-ttu-id="3bd2f-168">**Resursgruppen**: hello resursgruppen som innehåller hello Programgateway.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-168">**Resource group**: hello resource group that holds hello application gateway.</span></span> <span data-ttu-id="3bd2f-169">Det kan vara en befintlig resursgrupp eller en ny.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-169">It can be an existing resource group or a new one.</span></span>
  * <span data-ttu-id="3bd2f-170">**Plats**: hello region för hello Programgateway, vilket är hello samma plats som hello resursgruppen.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-170">**Location**: hello region for hello application gateway, which is hello same location as hello resource group.</span></span> <span data-ttu-id="3bd2f-171">hello platsen är viktig, eftersom hello virtuella nätverk och offentliga IP-Adressen måste vara i hello samma plats som hello gateway.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-171">hello location is important, because hello virtual network and public IP must be in hello same location as hello gateway.</span></span>
3. <span data-ttu-id="3bd2f-172">Klicka på **OK**.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-172">Click **OK**.</span></span>
4. <span data-ttu-id="3bd2f-173">Definiera hello virtuellt nätverk, undernät, IP frontend- och lyssnare konfigurationer för hello Programgateway.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-173">Define hello virtual network, subnet, front-end IP, and listener configurations for hello application gateway.</span></span> <span data-ttu-id="3bd2f-174">I det här scenariot hello frontend IP-adressen är **offentliga**, vilket gör att det toobe som lagts till som en slutpunkt toohello trafikhanterarprofil vid ett senare tillfälle.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-174">In this scenario, hello front-end IP address is **Public**, which allows it toobe added as an endpoint toohello Traffic Manager profile later on.</span></span>
5. <span data-ttu-id="3bd2f-175">Konfigurera hello lyssnare med något av följande alternativ för hello:</span><span class="sxs-lookup"><span data-stu-id="3bd2f-175">Configure hello listener with one of hello following options:</span></span>
    * <span data-ttu-id="3bd2f-176">Om du använder HTTP, det finns inget tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-176">If you use HTTP, there is nothing tooconfigure.</span></span> <span data-ttu-id="3bd2f-177">Klicka på **OK**.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-177">Click **OK**.</span></span>
    * <span data-ttu-id="3bd2f-178">Om du använder HTTPS ytterligare krävs konfiguration.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-178">If you use HTTPS, further configuration is required.</span></span> <span data-ttu-id="3bd2f-179">Se för[skapa en Programgateway](../application-gateway/application-gateway-create-gateway-portal.md)början från steg 9.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-179">Refer too[Create an application gateway](../application-gateway/application-gateway-create-gateway-portal.md), starting at step 9.</span></span> <span data-ttu-id="3bd2f-180">När du har slutfört hello konfiguration, klickar du på **OK**.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-180">When you have completed hello configuration, click **OK**.</span></span>

#### <a name="configure-url-routing-for-application-gateways"></a><span data-ttu-id="3bd2f-181">Konfigurera URL routning för programgatewayer</span><span class="sxs-lookup"><span data-stu-id="3bd2f-181">Configure URL routing for application gateways</span></span>

<span data-ttu-id="3bd2f-182">När du väljer en backend-adresspool tar en Programgateway som är konfigurerad med en sökväg-baserade regel en sökvägar för hello URL: en i tillägg tooround robin-distribution.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-182">When you choose a back-end pool, an application gateway that's configured with a path-based rule takes a path pattern of hello request URL in addition tooround-robin distribution.</span></span> <span data-ttu-id="3bd2f-183">I det här scenariot vi lägger till en sökväg-baserade regler toodirect alla URL: en med ”/images/\*” toohello bild serverpoolen.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-183">In this scenario, we are adding a path-based rule toodirect any URL with "/images/\*" toohello image server pool.</span></span> <span data-ttu-id="3bd2f-184">Mer information om hur du konfigurerar URL sökväg-baserade routning för en Programgateway finns för[skapa en sökväg-baserade regel för en Programgateway](../application-gateway/application-gateway-create-url-route-portal.md).</span><span class="sxs-lookup"><span data-stu-id="3bd2f-184">For more information about configuring URL path-based routing for an application gateway, refer too[Create a path-based rule for an application gateway](../application-gateway/application-gateway-create-url-route-portal.md).</span></span>

![Diagram över webbnivå Gateway](./media/traffic-manager-load-balancing-azure/web-tier-diagram.png)

1. <span data-ttu-id="3bd2f-186">Gå toohello instans av hello Programgateway som du skapade i föregående avsnitt hello från din resursgrupp.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-186">From your resource group, go toohello instance of hello application gateway that you created in hello preceding section.</span></span>
2. <span data-ttu-id="3bd2f-187">Under **inställningar**väljer **serverdelspooler**, och välj sedan **Lägg till** tooadd hello virtuella datorer som du vill tooassociate med hello webbnivå backend-pooler.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-187">Under **Settings**, select **Backend pools**, and then select **Add** tooadd hello VMs that you want tooassociate with hello web-tier back-end pools.</span></span>
3. <span data-ttu-id="3bd2f-188">På hello **lägga till serverdelspoolen** bladet anger hello namnet på hello backend-poolen och alla hello IP-adresser hello-datorer som finns i hello pool.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-188">On hello **Add backend pool** blade, enter hello name of hello back-end pool and all hello IP addresses of hello machines that reside in hello pool.</span></span> <span data-ttu-id="3bd2f-189">I det här scenariot ansluter vi två backend-server-pooler med virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-189">In this scenario, we are connecting two back-end server pools of virtual machines.</span></span>

  ![Programmet Gateway ”Lägg till serverdelspoolen” bladet](./media/traffic-manager-load-balancing-azure/s2-appgw-add-bepool.png)

4. <span data-ttu-id="3bd2f-191">Under **inställningar** hello Programgateway väljer **regler**, och klicka sedan på hello **sökväg baserat** knappen tooadd en regel.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-191">Under **Settings** of hello application gateway, select **Rules**, and then click hello **Path based** button tooadd a rule.</span></span>

  ![Programmet Gateway regler ”sökväg baserad” knappen](./media/traffic-manager-load-balancing-azure/s2-appgw-add-pathrule.png)

5. <span data-ttu-id="3bd2f-193">På hello **Lägg till sökväg-baserade regler** bladet konfigurera hello regel genom att tillhandahålla hello följande information.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-193">On hello **Add path-based rule** blade, configure hello rule by providing hello following information.</span></span>

   <span data-ttu-id="3bd2f-194">Grundläggande inställningar:</span><span class="sxs-lookup"><span data-stu-id="3bd2f-194">Basic settings:</span></span>

   + <span data-ttu-id="3bd2f-195">**Namnet**: hello eget namn för hello-regel som är tillgänglig i hello-portalen.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-195">**Name**: hello friendly name of hello rule that is accessible in hello portal.</span></span>
   + <span data-ttu-id="3bd2f-196">**Lyssnare**: hello lyssnare som används för hello regeln.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-196">**Listener**: hello listener that is used for hello rule.</span></span>
   + <span data-ttu-id="3bd2f-197">**Standard serverdelspool**: hello backend-adresspool toobe används med hello Standardregeln.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-197">**Default backend pool**: hello back-end pool toobe used with hello default rule.</span></span>
   + <span data-ttu-id="3bd2f-198">**Standardinställningarna för HTTP-**: hello HTTP inställningar toobe används med hello Standardregeln.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-198">**Default HTTP settings**: hello HTTP settings toobe used with hello default rule.</span></span>

   <span data-ttu-id="3bd2f-199">Sökväg-baserade regler:</span><span class="sxs-lookup"><span data-stu-id="3bd2f-199">Path-based rules:</span></span>

   + <span data-ttu-id="3bd2f-200">**Namnet**: hello eget namn för hello sökväg-baserade regler.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-200">**Name**: hello friendly name of hello path-based rule.</span></span>
   + <span data-ttu-id="3bd2f-201">**Sökvägar**: hello sökvägsregeln som används för att vidarebefordra trafik.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-201">**Paths**: hello path rule that is used for forwarding traffic.</span></span>
   + <span data-ttu-id="3bd2f-202">**Serverdelspool**: hello backend-adresspool toobe används med den här regeln.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-202">**Backend Pool**: hello back-end pool toobe used with this rule.</span></span>
   + <span data-ttu-id="3bd2f-203">**HTTP-inställningen**: hello HTTP inställningar toobe används med den här regeln.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-203">**HTTP Setting**: hello HTTP settings toobe used with this rule.</span></span>

   > [!IMPORTANT]
   > <span data-ttu-id="3bd2f-204">Sökvägar: Giltiga sökvägar måste inledas med ”/”.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-204">Paths: Valid paths must start with "/".</span></span> <span data-ttu-id="3bd2f-205">Hej jokertecknet ”\*” tillåts endast i slutet av hello.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-205">hello wildcard "\*" is allowed only at hello end.</span></span> <span data-ttu-id="3bd2f-206">Giltiga exempel är /xyz /xyz\*, eller /xyz/\*.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-206">Valid examples are /xyz, /xyz\*, or /xyz/\*.</span></span>

   ![Programmet Gateway ”Lägg till sökväg-baserade regeln” bladet](./media/traffic-manager-load-balancing-azure/s2-appgw-pathrule-blade.png)

### <a name="step-3-add-application-gateways-toohello-traffic-manager-endpoints"></a><span data-ttu-id="3bd2f-208">Steg 3: Lägga till programslutpunkter gateways toohello Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="3bd2f-208">Step 3: Add application gateways toohello Traffic Manager endpoints</span></span>

<span data-ttu-id="3bd2f-209">I det här scenariot är Traffic Manager anslutna tooapplication gateways (som konfigurerats i hello föregående steg) som finns i olika regioner.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-209">In this scenario, Traffic Manager is connected tooapplication gateways (as configured in hello preceding steps) that reside in different regions.</span></span> <span data-ttu-id="3bd2f-210">Hej programgatewayer är konfigurerat hello nästa steg är tooconnect dem tooyour Traffic Manager-profilen.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-210">Now that hello application gateways are configured, hello next step is tooconnect them tooyour Traffic Manager profile.</span></span>

1. <span data-ttu-id="3bd2f-211">Öppna Traffic Manager-profilen.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-211">Open your Traffic Manager profile.</span></span> <span data-ttu-id="3bd2f-212">toodo alltså se i resursgruppen eller Sök efter hello namnet på hello Traffic Manager-profilen från **alla resurser**.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-212">toodo so, look in your resource group or search for hello name of hello Traffic Manager profile from **All Resources**.</span></span>
2. <span data-ttu-id="3bd2f-213">I hello vänster och välj **slutpunkter**, och klicka sedan på **Lägg till** tooadd en slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-213">In hello left pane, select **Endpoints**, and then click **Add** tooadd an endpoint.</span></span>

  ![Traffic Manager slutpunkter ”Lägg till”-knappen](./media/traffic-manager-load-balancing-azure/s3-tm-add-endpoint.png)

3. <span data-ttu-id="3bd2f-215">På hello **lägga till slutpunkten** bladet, skapa en slutpunkt genom att ange hello följande information:</span><span class="sxs-lookup"><span data-stu-id="3bd2f-215">On hello **Add endpoint** blade, create an endpoint by entering hello following information:</span></span>

  * <span data-ttu-id="3bd2f-216">**Typen**: Ange hello endpoint tooload-saldot.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-216">**Type**: Select hello type of endpoint tooload-balance.</span></span> <span data-ttu-id="3bd2f-217">I det här scenariot väljer **Azure endpoint** eftersom vi ansluter den toohello programmet gateway-instanser som har konfigurerats tidigare.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-217">In this scenario, select **Azure endpoint** because we are connecting it toohello application gateway instances that were configured previously.</span></span>
  * <span data-ttu-id="3bd2f-218">**Namnet**: Ange hello namnet på hello slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-218">**Name**: Enter hello name of hello endpoint.</span></span>
  * <span data-ttu-id="3bd2f-219">**Rikta resurstypen**: Välj **offentliga IP-adressen** och under **mål resurs**, Välj hello offentliga IP-Adressen för hello Programgateway som konfigurerats tidigare.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-219">**Target resource type**: Select **Public IP address** and then, under **Target resource**, select hello public IP of hello application gateway that was configured previously.</span></span>

   ![Traffic Manager ”Lägg till slutpunkten” bladet](./media/traffic-manager-load-balancing-azure/s3-tm-add-endpoint-blade.png)

4. <span data-ttu-id="3bd2f-221">Nu kan du testa din konfiguration genom att öppna den med hello DNS för din Traffic Manager-profil (i det här exemplet: TrafficManagerScenario.trafficmanager.net).</span><span class="sxs-lookup"><span data-stu-id="3bd2f-221">Now you can test your setup by accessing it with hello DNS of your Traffic Manager profile (in this example: TrafficManagerScenario.trafficmanager.net).</span></span> <span data-ttu-id="3bd2f-222">Du kan skicka begäranden, registreringspunkter eller avslutar virtuella datorer och servrar som har skapats i olika regioner och ändra hello Traffic Manager-profilen inställningar tootest din konfiguration.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-222">You can resend requests, bring up or bring down VMs and web servers that were created in different regions, and change hello Traffic Manager profile settings tootest your setup.</span></span>

### <a name="step-4-create-a-load-balancer"></a><span data-ttu-id="3bd2f-223">Steg 4: Skapa en belastningsutjämnare</span><span class="sxs-lookup"><span data-stu-id="3bd2f-223">Step 4: Create a load balancer</span></span>

<span data-ttu-id="3bd2f-224">I det här scenariot distribuerar belastningsutjämnare anslutningar från hello web nivå toohello databaser inom ett kluster med hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-224">In this scenario, Load Balancer distributes connections from hello web tier toohello databases within a high-availability cluster.</span></span>

<span data-ttu-id="3bd2f-225">Om ditt kluster med hög tillgänglighet databasen använder SQL Server AlwaysOn, se för[konfigurera en eller flera alltid på tillgänglighet Tillgänglighetsgruppslyssnarnas](../virtual-machines/windows/sql/virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md) stegvisa instruktioner.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-225">If your high-availability database cluster is using SQL Server AlwaysOn, refer too[Configure one or more Always On Availability Group Listeners](../virtual-machines/windows/sql/virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md) for step-by-step instructions.</span></span>

<span data-ttu-id="3bd2f-226">Mer information om hur du konfigurerar en intern belastningsutjämnare finns [skapa en intern belastningsutjämnare i hello Azure-portalen](../load-balancer/load-balancer-get-started-ilb-arm-portal.md).</span><span class="sxs-lookup"><span data-stu-id="3bd2f-226">For more information about configuring an internal load balancer, see [Create an Internal load balancer in hello Azure portal](../load-balancer/load-balancer-get-started-ilb-arm-portal.md).</span></span>

1. <span data-ttu-id="3bd2f-227">Klicka i hello Azure-portalen hello vänster **ny** > **nätverk** > **belastningsutjämnaren**.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-227">In hello Azure portal, in hello left pane, click **New** > **Networking** > **Load balancer**.</span></span>
2. <span data-ttu-id="3bd2f-228">På hello **skapa belastningsutjämnaren** bladet Välj ett namn för din belastningsutjämnare.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-228">On hello **Create load balancer** blade, choose a name for your load balancer.</span></span>
3. <span data-ttu-id="3bd2f-229">Ange hello **typen** för**internt**, och välj hello lämpliga virtuella nätverk och undernät för hello load balancer tooreside i.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-229">Set hello **Type** too**Internal**, and choose hello appropriate virtual network and subnet for hello load balancer tooreside in.</span></span>
4. <span data-ttu-id="3bd2f-230">Under **IP-adresstilldelning**, väljer du antingen **dynamiska** eller **statiska**.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-230">Under **IP address assignment**, select either **Dynamic** or **Static**.</span></span>
5. <span data-ttu-id="3bd2f-231">Under **resursgruppen**, väljer hello resursgrupp för hello belastningsutjämnaren.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-231">Under **Resource group**, choose hello resource group for hello load balancer.</span></span>
6. <span data-ttu-id="3bd2f-232">Under **plats**, Välj hello rätt region för hello belastningsutjämnaren.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-232">Under **Location**, choose hello appropriate region for hello load balancer.</span></span>
7. <span data-ttu-id="3bd2f-233">Klicka på **skapa** toogenerate hello belastningsutjämnaren.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-233">Click **Create** toogenerate hello load balancer.</span></span>

#### <a name="connect-a-back-end-database-tier-toohello-load-balancer"></a><span data-ttu-id="3bd2f-234">Ansluta en backend-databasens nivå toohello belastningsutjämnare</span><span class="sxs-lookup"><span data-stu-id="3bd2f-234">Connect a back-end database tier toohello load balancer</span></span>

1. <span data-ttu-id="3bd2f-235">Hitta hello belastningsutjämnare som skapades i föregående steg i hello från din resursgrupp.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-235">From your resource group, find hello load balancer that was created in hello previous steps.</span></span>
2. <span data-ttu-id="3bd2f-236">Under **inställningar**, klickar du på **serverdelspooler**, och klicka sedan på **Lägg till** tooadd en backend-adresspool.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-236">Under **Settings**, click **Backend pools**, and then click **Add** tooadd a back-end pool.</span></span>

  ![Läsa in belastningsutjämning ”Lägg till serverdelspoolen” bladet](./media/traffic-manager-load-balancing-azure/s4-ilb-add-bepool.png)

3. <span data-ttu-id="3bd2f-238">På hello **lägga till serverdelspoolen** bladet anger hello namnet på hello backend-adresspool.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-238">On hello **Add backend pool** blade, enter hello name of hello back-end pool.</span></span>
4. <span data-ttu-id="3bd2f-239">Lägga till enskilda datorer eller en tillgänglighet set toohello backend-adresspool.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-239">Add either individual machines or an availability set toohello back-end pool.</span></span>

#### <a name="configure-a-probe"></a><span data-ttu-id="3bd2f-240">Konfigurera en avsökning</span><span class="sxs-lookup"><span data-stu-id="3bd2f-240">Configure a probe</span></span>

1. <span data-ttu-id="3bd2f-241">I din belastningsutjämnare under **inställningar**väljer **avsökningar**, och klicka sedan på **Lägg till** tooadd en avsökning.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-241">In your load balancer, under **Settings**, select **Probes**, and then click **Add** tooadd a probe.</span></span>

 ![Läsa in belastningsutjämning ”Lägg till avsökning” bladet](./media/traffic-manager-load-balancing-azure/s4-ilb-add-probe.png)

2. <span data-ttu-id="3bd2f-243">På hello **Lägg till avsökning** bladet ange hello namn för hello avsökningen.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-243">On hello **Add probe** blade, enter hello name for hello probe.</span></span>
3. <span data-ttu-id="3bd2f-244">Välj hello **protokollet** för hello avsökningen.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-244">Select hello **Protocol** for hello probe.</span></span> <span data-ttu-id="3bd2f-245">Du kanske vill en TCP-avsökning i stället för en HTTP-avsökningen för en databas.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-245">For a database, you might want a TCP probe rather than an HTTP probe.</span></span> <span data-ttu-id="3bd2f-246">toolearn mer om belastningsutjämnare avsökningar, se för[förstå load balancer avsökningar](../load-balancer/load-balancer-custom-probe-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3bd2f-246">toolearn more about load-balancer probes, refer too[Understand load balancer probes](../load-balancer/load-balancer-custom-probe-overview.md).</span></span>
4. <span data-ttu-id="3bd2f-247">Ange hello **Port** för din databas toobe som används för att komma åt hello avsökning.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-247">Enter hello **Port** of your database toobe used for accessing hello probe.</span></span>
5. <span data-ttu-id="3bd2f-248">Under **intervall**, ange hur ofta tooprobe hello program.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-248">Under **Interval**, specify how frequently tooprobe hello application.</span></span>
6. <span data-ttu-id="3bd2f-249">Under **tröskelvärde för ohälsosamt värde**, ange hello antal kontinuerlig avsökningen fel som måste ske för hello backend-VM toobe anses vara felaktigt.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-249">Under **Unhealthy threshold**, specify hello number of continuous probe failures that must occur for hello back-end VM toobe considered unhealthy.</span></span>
7. <span data-ttu-id="3bd2f-250">Klicka på **OK** toocreate hello avsökning.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-250">Click **OK** toocreate hello probe.</span></span>

#### <a name="configure-hello-load-balancing-rules"></a><span data-ttu-id="3bd2f-251">Konfigurera regler för belastningsutjämning av hello</span><span class="sxs-lookup"><span data-stu-id="3bd2f-251">Configure hello load-balancing rules</span></span>

1. <span data-ttu-id="3bd2f-252">Under **inställningar** din belastningsutjämnare väljer **belastningsutjämningsregler**, och klicka sedan på **Lägg till** toocreate en regel.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-252">Under **Settings** of your load balancer, select **Load balancing rules**, and then click **Add** toocreate a rule.</span></span>
2. <span data-ttu-id="3bd2f-253">På hello **Lägg till regel för belastningsutjämning** bladet ange hello **namn** för hello belastningsutjämning regeln.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-253">On hello **Add load balancing rule** blade, enter hello **Name** for hello load-balancing rule.</span></span>
3. <span data-ttu-id="3bd2f-254">Välj hello **Klientdelens IP-adress** av hello belastningsutjämnare **protokollet**, och **Port**.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-254">Choose hello **Frontend IP Address** of hello load balancer, **Protocol**, and **Port**.</span></span>
4. <span data-ttu-id="3bd2f-255">Under **serverdelsport**, ange hello port toobe används i hello backend-adresspool.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-255">Under **Backend port**, specify hello port toobe used in hello back-end pool.</span></span>
5. <span data-ttu-id="3bd2f-256">Välj hello **serverdelspool** och hello **avsökning** som har skapats i hello föregående steg tooapply hello regeln ska.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-256">Select hello **Backend pool** and hello **Probe** that were created in hello previous steps tooapply hello rule to.</span></span>
6. <span data-ttu-id="3bd2f-257">Under **sessionspersistence**, väljer du hur hello sessioner toopersist.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-257">Under **Session persistence**, choose how you want hello sessions toopersist.</span></span>
7. <span data-ttu-id="3bd2f-258">Under **timeout vid inaktivitet**, ange hello antalet minuter innan en timeout för inaktivitet.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-258">Under **Idle timeouts**, specify hello number of minutes before an idle timeout.</span></span>
8. <span data-ttu-id="3bd2f-259">Under **flytande IP**, väljer du antingen **inaktiverad** eller **aktiverad**.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-259">Under **Floating IP**, select either **Disabled** or **Enabled**.</span></span>
9. <span data-ttu-id="3bd2f-260">Klicka på **OK** toocreate hello regeln.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-260">Click **OK** toocreate hello rule.</span></span>

### <a name="step-5-connect-web-tier-vms-toohello-load-balancer"></a><span data-ttu-id="3bd2f-261">Steg 5: Anslut webbnivå VMs toohello belastningsutjämnare</span><span class="sxs-lookup"><span data-stu-id="3bd2f-261">Step 5: Connect web-tier VMs toohello load balancer</span></span>

<span data-ttu-id="3bd2f-262">Vi nu konfigurera hello IP-adress och belastningsutjämnare frontend-port i hello-program som körs på din webbnivå virtuella datorer för alla anslutningar.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-262">Now we configure hello IP address and load-balancer front-end port in hello applications that are running on your web-tier VMs for any database connections.</span></span> <span data-ttu-id="3bd2f-263">Den här konfigurationen är särskilda toohello program som körs på dessa virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-263">This configuration is specific toohello applications that run on these VMs.</span></span> <span data-ttu-id="3bd2f-264">tooconfigure hello mål-IP-adress och port, referera toohello dokumentationen.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-264">tooconfigure hello destination IP address and port, refer toohello application documentation.</span></span> <span data-ttu-id="3bd2f-265">toofind hello IP-adressen för hello klientdelen i hello Azure-portalen går toohello frontend IP-adresspool på hello **inställningar för belastningsutjämnare** bladet.</span><span class="sxs-lookup"><span data-stu-id="3bd2f-265">toofind hello IP address of hello front end, in hello Azure portal, go toohello front-end IP pool on hello **Load balancer settings** blade.</span></span>

![Läsa in belastningsutjämning ”Frontend IP-pool” navigeringsfönstret](./media/traffic-manager-load-balancing-azure/s5-ilb-frontend-ippool.png)

## <a name="next-steps"></a><span data-ttu-id="3bd2f-267">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="3bd2f-267">Next steps</span></span>

* [<span data-ttu-id="3bd2f-268">Översikt över Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="3bd2f-268">Overview of Traffic Manager</span></span>](traffic-manager-overview.md)
* [<span data-ttu-id="3bd2f-269">Översikt över Gateway</span><span class="sxs-lookup"><span data-stu-id="3bd2f-269">Application Gateway overview</span></span>](../application-gateway/application-gateway-introduction.md)
* [<span data-ttu-id="3bd2f-270">Översikt över Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="3bd2f-270">Azure Load Balancer overview</span></span>](../load-balancer/load-balancer-overview.md)
