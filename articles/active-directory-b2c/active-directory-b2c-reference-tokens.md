---
title: 'Azure Active Directory B2C: Token referens | Microsoft Docs'
description: "hello typer av token som utfärdats i Azure Active Directory B2C"
services: active-directory-b2c
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 6df79878-65cb-4dfc-98bb-2b328055bc2e
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 3/17/2017
ms.author: dastrock
ms.openlocfilehash: 776bc88cc0308875ac6e576f19ac9edf50319d08
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-b2c-token-reference"></a><span data-ttu-id="1ef21-103">Azure AD B2C: Token-referens</span><span class="sxs-lookup"><span data-stu-id="1ef21-103">Azure AD B2C: Token reference</span></span>
<span data-ttu-id="1ef21-104">Azure Active Directory B2C (Azure AD B2C) genererar flera typer av säkerhetstoken som den behandlar varje [autentiseringsflödet](active-directory-b2c-apps.md).</span><span class="sxs-lookup"><span data-stu-id="1ef21-104">Azure Active Directory B2C (Azure AD B2C) emits several types of security tokens as it processes each [authentication flow](active-directory-b2c-apps.md).</span></span> <span data-ttu-id="1ef21-105">Det här dokumentet beskriver hello format, säkerhet egenskaperna och innehållet i varje typ av token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-105">This document describes hello format, security characteristics, and contents of each type of token.</span></span>

## <a name="types-of-tokens"></a><span data-ttu-id="1ef21-106">Typer av token</span><span class="sxs-lookup"><span data-stu-id="1ef21-106">Types of tokens</span></span>
<span data-ttu-id="1ef21-107">Azure AD B2C stöder hello [OAuth 2.0-protokollet för auktorisering](active-directory-b2c-reference-protocols.md), som utnyttjar både token uppdatera token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-107">Azure AD B2C supports hello [OAuth 2.0 authorization protocol](active-directory-b2c-reference-protocols.md), which makes use of both access tokens and refresh tokens.</span></span> <span data-ttu-id="1ef21-108">Det stöder också autentisering och logga in via [OpenID Connect](active-directory-b2c-reference-protocols.md), som innehåller en tredje typ av token: hello-ID-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-108">It also supports authentication and sign-in via [OpenID Connect](active-directory-b2c-reference-protocols.md), which introduces a third type of token: hello ID token.</span></span> <span data-ttu-id="1ef21-109">Var och en av dessa token representeras som ett ägartoken.</span><span class="sxs-lookup"><span data-stu-id="1ef21-109">Each of these tokens is represented as a bearer token.</span></span>

<span data-ttu-id="1ef21-110">Ett ägartoken är en förenklad säkerhetstoken som ger hello ”ägar” åtkomst tooa skyddad resurs.</span><span class="sxs-lookup"><span data-stu-id="1ef21-110">A bearer token is a lightweight security token that grants hello "bearer" access tooa protected resource.</span></span> <span data-ttu-id="1ef21-111">hello ägar är någon part som kan utgöra hello-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-111">hello bearer is any party that can present hello token.</span></span> <span data-ttu-id="1ef21-112">Azure AD måste de först autentisera en part innan det kan ta emot ett ägartoken.</span><span class="sxs-lookup"><span data-stu-id="1ef21-112">Azure AD must first authenticate a party before it can receive a bearer token.</span></span> <span data-ttu-id="1ef21-113">Men om det behövs hello åtgärder inte vidtas toosecure hello token i överföringen och lagringen kan snappas upp och används av en oavsiktlig part.</span><span class="sxs-lookup"><span data-stu-id="1ef21-113">But if hello required steps are not taken toosecure hello token in transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="1ef21-114">Vissa säkerhetstoken har en inbyggd mekanism för att förhindra att obehöriga personer använder dem, men ägar-token har inte den här mekanismen.</span><span class="sxs-lookup"><span data-stu-id="1ef21-114">Some security tokens have a built-in mechanism for preventing unauthorized parties from using them, but bearer tokens do not have this mechanism.</span></span> <span data-ttu-id="1ef21-115">De måste transporteras i en säker kanal, till exempel transport layer security (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="1ef21-115">They must be transported in a secure channel, such as transport layer security (HTTPS).</span></span>

<span data-ttu-id="1ef21-116">Om ett ägartoken överförs utanför en säker kanal, kan en obehörig part använder en man-in-the-middle-attack tooacquire hello token och använda den toogain obehörig åtkomst tooa skyddade resursen.</span><span class="sxs-lookup"><span data-stu-id="1ef21-116">If a bearer token is transmitted outside a secure channel, a malicious party can use a man-in-the-middle attack tooacquire hello token and use it toogain unauthorized access tooa protected resource.</span></span> <span data-ttu-id="1ef21-117">hello samma säkerhetsprinciper gäller när ägar-token lagras eller cachelagras för senare användning.</span><span class="sxs-lookup"><span data-stu-id="1ef21-117">hello same security principles apply when bearer tokens are stored or cached for later use.</span></span> <span data-ttu-id="1ef21-118">Se alltid till att appen skickar och lagrar ägar-token på ett säkert sätt.</span><span class="sxs-lookup"><span data-stu-id="1ef21-118">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span>

<span data-ttu-id="1ef21-119">Ytterligare information om säkerhet på ägar-token finns [RFC 6750 avsnitt 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="1ef21-119">For additional security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="1ef21-120">Många av hello-token som Azure AD B2C utfärdar implementeras som JSON web token (JWTs).</span><span class="sxs-lookup"><span data-stu-id="1ef21-120">Many of hello tokens that Azure AD B2C issues are implemented as JSON web tokens (JWTs).</span></span> <span data-ttu-id="1ef21-121">En JWT är ett kompakt, URL-säkert sätt att överföra information mellan två parter.</span><span class="sxs-lookup"><span data-stu-id="1ef21-121">A JWT is a compact, URL-safe means of transferring information between two parties.</span></span> <span data-ttu-id="1ef21-122">JWTs innehåller information som kallas anspråk.</span><span class="sxs-lookup"><span data-stu-id="1ef21-122">JWTs contain information known as claims.</span></span> <span data-ttu-id="1ef21-123">Dessa är intyg för information om hello ägar- och hello ämnet för hello-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-123">These are assertions of information about hello bearer and hello subject of hello token.</span></span> <span data-ttu-id="1ef21-124">hello anspråk i JWTs är JSON-objekt som är kodade och serialiseras för överföring.</span><span class="sxs-lookup"><span data-stu-id="1ef21-124">hello claims in JWTs are JSON objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="1ef21-125">Eftersom hello JWTs som utfärdats av Azure AD B2C signerad men inte krypterad, kan du enkelt inspektera hello innehållet i en JWT toodebug den.</span><span class="sxs-lookup"><span data-stu-id="1ef21-125">Because hello JWTs issued by Azure AD B2C are signed but not encrypted, you can easily inspect hello contents of a JWT toodebug it.</span></span> <span data-ttu-id="1ef21-126">Det finns flera verktyg som kan göra detta, inklusive [calebb.net](http://calebb.net).</span><span class="sxs-lookup"><span data-stu-id="1ef21-126">Several tools are available that can do this, including [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="1ef21-127">Mer information om JWTs finns för[JWT specifikationer](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="1ef21-127">For more information about JWTs, refer too[JWT specifications](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="1ef21-128">ID-token</span><span class="sxs-lookup"><span data-stu-id="1ef21-128">ID tokens</span></span>
<span data-ttu-id="1ef21-129">En ID-token är en typ av säkerhetstoken som din app som tar emot från hello Azure AD B2C `authorize` och `token` slutpunkter.</span><span class="sxs-lookup"><span data-stu-id="1ef21-129">An ID token is a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="1ef21-130">ID-token representeras som [JWTs](#types-of-tokens), och de innehåller anspråk som du kan använda tooidentify användare i din app.</span><span class="sxs-lookup"><span data-stu-id="1ef21-130">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify users in your app.</span></span> <span data-ttu-id="1ef21-131">När du har köpt ID-token från hello `authorize` slutpunkt, de är ofta använda toosign i användare tooweb program.</span><span class="sxs-lookup"><span data-stu-id="1ef21-131">When ID tokens are acquired from hello `authorize` endpoint, they are often used toosign in users tooweb applications.</span></span> <span data-ttu-id="1ef21-132">När du har köpt ID-token från hello `token` slutpunkt, de kan skickas i HTTP-begäranden under kommunikation mellan två komponenter i hello samma program eller tjänst.</span><span class="sxs-lookup"><span data-stu-id="1ef21-132">When ID tokens are acquired from hello `token` endpoint, they can be sent in HTTP requests during communication between two components of hello same application or service.</span></span> <span data-ttu-id="1ef21-133">Du kan använda hello anspråk i en ID-token som du vill.</span><span class="sxs-lookup"><span data-stu-id="1ef21-133">You can use hello claims in an ID token as you see fit.</span></span> <span data-ttu-id="1ef21-134">De är vanliga toodisplay konto information eller toomake besluten om åtkomstkontroll i en app.</span><span class="sxs-lookup"><span data-stu-id="1ef21-134">They are commonly used toodisplay account information or toomake access control decisions in an app.</span></span>  

<span data-ttu-id="1ef21-135">ID-token är signerat, men de för närvarande är krypterade inte.</span><span class="sxs-lookup"><span data-stu-id="1ef21-135">ID tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="1ef21-136">När din app eller API får du en ID-token, måste [Validera hello signatur](#token-validation) tooprove hello token är autentiska.</span><span class="sxs-lookup"><span data-stu-id="1ef21-136">When your app or API receives an ID token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="1ef21-137">Din app eller API måste du också verifiera några anspråk i hello token tooprove att det är giltigt.</span><span class="sxs-lookup"><span data-stu-id="1ef21-137">Your app or API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="1ef21-138">Hello anspråk validerad av en app kan variera beroende på krav för scenarier med hello, men din app måste utföra vissa [vanliga anspråk verifieringar](#token-validation) i varje scenario.</span><span class="sxs-lookup"><span data-stu-id="1ef21-138">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="1ef21-139">Exempel-ID-token</span><span class="sxs-lookup"><span data-stu-id="1ef21-139">Sample ID token</span></span>
```
// Line breaks for display purposes only

eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IklkVG9rZW5TaWduaW5nS2V5Q29udGFpbmVyIn0.
eyJleHAiOjE0NDIzNjAwMzQsIm5iZiI6MTQ0MjM1NjQzNCwidmVyIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9s
b2dpbi5taWNyb3NvZnRvbmxpbmUuY29tLzc3NTUyN2ZmLTlhMzctNDMwNy04YjNkLWNjMzExZjU4ZDkyNS92
Mi4wLyIsImFjciI6ImIyY18xX3NpZ25faW5fc3RvY2siLCJzdWIiOiJOb3Qgc3VwcG9ydGVkIGN1cnJlbnRs
eS4gVXNlIG9pZCBjbGFpbS4iLCJhdWQiOiI5MGMwZmU2My1iY2YyLTQ0ZDUtOGZiNy1iOGJiYzBiMjlkYzYi
LCJpYXQiOjE0NDIzNTY0MzQsImF1dGhfdGltZSI6MTQ0MjM1NjQzNCwiaWRwIjoiZmFjZWJvb2suY29tIn0.
h-uiKcrT882pSKUtWCpj-_3b3vPs3bOWsESAhPMrL-iIIacKc6_uZrWxaWvIYkLra5czBcGKWrYwrAC8ZvQe
DJWZ50WXQrZYODEW1OUwzaD_I1f1HE0c2uvaWdGXBpDEVdsD3ExKaFlKGjFR2V7F-fPThkVDdKmkUDQX3bVc
yyj2V2nlCQ9jd7aGnokTPfLfpOjuIrTsAdPcGpe5hfSEuwYDmqOJjGs9Jp1f-eSNEiCDQOaTBSvr479L5ptP
XWeQZyX2SypN05Rjr05bjZh3j70ZUimiocfJzjibeoDCaQTz907yAg91WYuFOrQxb-5BaUoR7K-O7vxr2M-_
CQhoFA

```

### <a name="access-tokens"></a><span data-ttu-id="1ef21-140">Åtkomst-token</span><span class="sxs-lookup"><span data-stu-id="1ef21-140">Access tokens</span></span>
<span data-ttu-id="1ef21-141">En åtkomst-token är också en typ av säkerhetstoken som din app som tar emot från hello Azure AD B2C `authorize` och `token` slutpunkter.</span><span class="sxs-lookup"><span data-stu-id="1ef21-141">An access token is also a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="1ef21-142">Åtkomsttoken även visas i form av [JWTs](#types-of-tokens), och de innehåller anspråk som du kan använda tooidentify hello beviljats behörighet tooyour API: er.</span><span class="sxs-lookup"><span data-stu-id="1ef21-142">Access tokens are also represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify hello granted permissions tooyour APIs.</span></span> <span data-ttu-id="1ef21-143">Åtkomsttoken är signerat, men de för närvarande är krypterade inte.</span><span class="sxs-lookup"><span data-stu-id="1ef21-143">Access tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="1ef21-144">Åtkomst-token ska använda tooprovide tooAPIs och resurs klientåtkomstservrar.</span><span class="sxs-lookup"><span data-stu-id="1ef21-144">Access tokens should be used tooprovide access tooAPIs and resource servers.</span></span> <span data-ttu-id="1ef21-145">Läs mer om hur för[använder åtkomsttoken](active-directory-b2c-access-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="1ef21-145">Learn more about how too[use access tokens](active-directory-b2c-access-tokens.md).</span></span> 

<span data-ttu-id="1ef21-146">När din API tar emot en åtkomst-token, måste [Validera hello signatur](#token-validation) tooprove hello token är autentiska.</span><span class="sxs-lookup"><span data-stu-id="1ef21-146">When your API receives an access token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="1ef21-147">Din API måste också verifiera några anspråk i hello token tooprove att det är giltigt.</span><span class="sxs-lookup"><span data-stu-id="1ef21-147">Your API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="1ef21-148">Hello anspråk validerad av en app kan variera beroende på krav för scenarier med hello, men din app måste utföra vissa [vanliga anspråk verifieringar](#token-validation) i varje scenario.</span><span class="sxs-lookup"><span data-stu-id="1ef21-148">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

### <a name="claims-in-id-and-access-tokens"></a><span data-ttu-id="1ef21-149">Anspråk i ID och åtkomst-token</span><span class="sxs-lookup"><span data-stu-id="1ef21-149">Claims in ID and access tokens</span></span>
<span data-ttu-id="1ef21-150">När du använder Azure AD B2C har detaljerad kontroll över hello innehåll av dina token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-150">When you use Azure AD B2C, you have fine-grained control over hello content of your tokens.</span></span> <span data-ttu-id="1ef21-151">Du kan konfigurera [principer](active-directory-b2c-reference-policies.md) toosend vissa anger användardata i anspråk som appen kräver för åtgärderna.</span><span class="sxs-lookup"><span data-stu-id="1ef21-151">You can configure [policies](active-directory-b2c-reference-policies.md) toosend certain sets of user data in claims that your app requires for its operations.</span></span> <span data-ttu-id="1ef21-152">Dessa anspråk kan innehålla standardegenskaper till exempel hello användare `displayName` och `emailAddress`.</span><span class="sxs-lookup"><span data-stu-id="1ef21-152">These claims can include standard properties such as hello user's `displayName` and `emailAddress`.</span></span> <span data-ttu-id="1ef21-153">De kan även inkludera [anpassade användarattribut](active-directory-b2c-reference-custom-attr.md) som du kan definiera i din B2C-katalog.</span><span class="sxs-lookup"><span data-stu-id="1ef21-153">They can also include [custom user attributes](active-directory-b2c-reference-custom-attr.md) that you can define in your B2C directory.</span></span> <span data-ttu-id="1ef21-154">Varje ID och åtkomst-token som visas innehåller en viss uppsättning säkerhetsrelaterade anspråk.</span><span class="sxs-lookup"><span data-stu-id="1ef21-154">Every ID and access token that you receive contains a certain set of security-related claims.</span></span> <span data-ttu-id="1ef21-155">Dina program kan använda dessa anspråk toosecurely autentisera användare och förfrågningar.</span><span class="sxs-lookup"><span data-stu-id="1ef21-155">Your applications can use these claims toosecurely authenticate users and requests.</span></span>

<span data-ttu-id="1ef21-156">Observera att hello anspråk i ID-token inte returneras i någon särskild ordning.</span><span class="sxs-lookup"><span data-stu-id="1ef21-156">Note that hello claims in ID tokens are not returned in any particular order.</span></span> <span data-ttu-id="1ef21-157">Dessutom kan du introduceras nya anspråk i ID-token när som helst.</span><span class="sxs-lookup"><span data-stu-id="1ef21-157">In addition, new claims can be introduced in ID tokens at any time.</span></span> <span data-ttu-id="1ef21-158">Din app bryter bör inte när nya anspråk introduceras.</span><span class="sxs-lookup"><span data-stu-id="1ef21-158">Your app should not break as new claims are introduced.</span></span> <span data-ttu-id="1ef21-159">Här följer hello anspråk som du förväntar dig tooexist i ID och åtkomst-token som utfärdats av Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="1ef21-159">Here are hello claims that you expect tooexist in ID and access tokens issued by Azure AD B2C.</span></span> <span data-ttu-id="1ef21-160">Ytterligare anspråk bestäms av principer.</span><span class="sxs-lookup"><span data-stu-id="1ef21-160">Any additional claims are determined by policies.</span></span> <span data-ttu-id="1ef21-161">Försök undersöks hello anspråk i hello exempel ID token genom att klistra in det i övningen [calebb.net](http://calebb.net).</span><span class="sxs-lookup"><span data-stu-id="1ef21-161">For practice, try inspecting hello claims in hello sample ID token by pasting it into [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="1ef21-162">Mer information finns i hello [OpenID Connect specifikationen](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="1ef21-162">Further details can be found in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

| <span data-ttu-id="1ef21-163">Namn</span><span class="sxs-lookup"><span data-stu-id="1ef21-163">Name</span></span> | <span data-ttu-id="1ef21-164">Begär</span><span class="sxs-lookup"><span data-stu-id="1ef21-164">Claim</span></span> | <span data-ttu-id="1ef21-165">Exempelvärde</span><span class="sxs-lookup"><span data-stu-id="1ef21-165">Example value</span></span> | <span data-ttu-id="1ef21-166">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="1ef21-166">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1ef21-167">Målgrupp</span><span class="sxs-lookup"><span data-stu-id="1ef21-167">Audience</span></span> |`aud` |`90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6` |<span data-ttu-id="1ef21-168">En målgrupp anspråk identifierar hello avsedda mottagaren av hello-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-168">An audience claim identifies hello intended recipient of hello token.</span></span> <span data-ttu-id="1ef21-169">För Azure AD B2C är hello din app program-ID som tilldelats tooyour app i portalen för registrering av hello-app.</span><span class="sxs-lookup"><span data-stu-id="1ef21-169">For Azure AD B2C, hello audience is your app's application ID, as assigned tooyour app in hello app registration portal.</span></span> <span data-ttu-id="1ef21-170">Din app ska verifiera det här värdet och avvisa hello token om det inte matchar.</span><span class="sxs-lookup"><span data-stu-id="1ef21-170">Your app should validate this value and reject hello token if it does not match.</span></span> |
| <span data-ttu-id="1ef21-171">Utfärdaren</span><span class="sxs-lookup"><span data-stu-id="1ef21-171">Issuer</span></span> |`iss` |`https://login.microsoftonline.com/775527ff-9a37-4307-8b3d-cc311f58d925/v2.0/` |<span data-ttu-id="1ef21-172">Det här anspråket identifierar hello säkerhetstokentjänst (STS) som skapar och returnerar hello-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-172">This claim identifies hello security token service (STS) that constructs and returns hello token.</span></span> <span data-ttu-id="1ef21-173">Den visar även hello Azure AD-katalog i vilka hello användaren autentiserades.</span><span class="sxs-lookup"><span data-stu-id="1ef21-173">It also identifies hello Azure AD directory in which hello user was authenticated.</span></span> <span data-ttu-id="1ef21-174">Appen bör verifiera hello utfärdaren anspråk tooensure hello token kom från hello Azure Active Directory v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="1ef21-174">Your app should validate hello issuer claim tooensure that hello token came from hello Azure Active Directory v2.0 endpoint.</span></span> |
| <span data-ttu-id="1ef21-175">Utfärdat till</span><span class="sxs-lookup"><span data-stu-id="1ef21-175">Issued at</span></span> |`iat` |`1438535543` |<span data-ttu-id="1ef21-176">Detta anspråk är hello tid vid vilken hello token har utfärdats, representeras i epok tid.</span><span class="sxs-lookup"><span data-stu-id="1ef21-176">This claim is hello time at which hello token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="1ef21-177">Förfallotid</span><span class="sxs-lookup"><span data-stu-id="1ef21-177">Expiration time</span></span> |`exp` |`1438539443` |<span data-ttu-id="1ef21-178">hello finns Förfallodatum tid hello tid vid vilken hello token blir ogiltig, representeras i epok tid.</span><span class="sxs-lookup"><span data-stu-id="1ef21-178">hello expiration time claim is hello time at which hello token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="1ef21-179">Din app ska använda det här anspråket tooverify hello giltighet hello livslängd för token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-179">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="1ef21-180">Inte före</span><span class="sxs-lookup"><span data-stu-id="1ef21-180">Not before</span></span> |`nbf` |`1438535543` |<span data-ttu-id="1ef21-181">Detta anspråk är hello tid vid vilken hello token blir giltigt, representeras i epok tid.</span><span class="sxs-lookup"><span data-stu-id="1ef21-181">This claim is hello time at which hello token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="1ef21-182">Detta är vanligtvis hello samma som hello tid hello token har utfärdats.</span><span class="sxs-lookup"><span data-stu-id="1ef21-182">This is usually hello same as hello time hello token was issued.</span></span> <span data-ttu-id="1ef21-183">Din app ska använda det här anspråket tooverify hello giltighet hello livslängd för token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-183">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="1ef21-184">Version</span><span class="sxs-lookup"><span data-stu-id="1ef21-184">Version</span></span> |`ver` |`1.0` |<span data-ttu-id="1ef21-185">Detta är hello version av hello-ID-token som definierats av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1ef21-185">This is hello version of hello ID token, as defined by Azure AD.</span></span> |
| <span data-ttu-id="1ef21-186">Koden hash</span><span class="sxs-lookup"><span data-stu-id="1ef21-186">Code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="1ef21-187">En kod hash ingår i en ID-token endast när hello token utfärdas tillsammans med en kod för auktorisering av OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="1ef21-187">A code hash is included in an ID token only when hello token is issued together with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="1ef21-188">En kod hash kan vara används toovalidate hello äkthet en auktoriseringskod.</span><span class="sxs-lookup"><span data-stu-id="1ef21-188">A code hash can be used toovalidate hello authenticity of an authorization code.</span></span> <span data-ttu-id="1ef21-189">Mer information om hur tooperform denna validering kan se hello [OpenID Connect specifikationen](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="1ef21-189">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>  |
| <span data-ttu-id="1ef21-190">Åtkomst-token hash</span><span class="sxs-lookup"><span data-stu-id="1ef21-190">Access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="1ef21-191">En åtkomst-token hash ingår i en ID-token endast när hello token utfärdas tillsammans med en OAuth 2.0-åtkomsttoken.</span><span class="sxs-lookup"><span data-stu-id="1ef21-191">An access token hash is included in an ID token only when hello token is issued together with an OAuth 2.0 access token.</span></span> <span data-ttu-id="1ef21-192">En åtkomst-token-hash kan vara används toovalidate hello äkthet en åtkomst-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-192">An access token hash can be used toovalidate hello authenticity of an access token.</span></span> <span data-ttu-id="1ef21-193">Mer information om hur tooperform denna validering kan se hello [OpenID Connect-specifikationen](http://openid.net/specs/openid-connect-core-1_0.html)</span><span class="sxs-lookup"><span data-stu-id="1ef21-193">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html)</span></span>  |
| <span data-ttu-id="1ef21-194">temporärt ID</span><span class="sxs-lookup"><span data-stu-id="1ef21-194">Nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="1ef21-195">Ett temporärt ID är en strategi används toomitigate token replay-attacker.</span><span class="sxs-lookup"><span data-stu-id="1ef21-195">A nonce is a strategy used toomitigate token replay attacks.</span></span> <span data-ttu-id="1ef21-196">Appen kan ange ett temporärt ID i en auktoriseringsbegäran om med hjälp av hello `nonce` Frågeparametern.</span><span class="sxs-lookup"><span data-stu-id="1ef21-196">Your app can specify a nonce in an authorization request by using hello `nonce` query parameter.</span></span> <span data-ttu-id="1ef21-197">hello-värde som du anger i hello begäran kommer orsakat oförändrade i hello `nonce` anspråk för en ID-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-197">hello value you provide in hello request will be emitted unmodified in hello `nonce` claim of an ID token only.</span></span> <span data-ttu-id="1ef21-198">Detta gör att din app tooverify hello värde mot hello-värdet som det anges på hello begäran, som associerar hello app-session med en viss ID-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-198">This allows your app tooverify hello value against hello value it specified on hello request, which associates hello app's session with a given ID token.</span></span> <span data-ttu-id="1ef21-199">Din app ska utföra den här verifieringen under verifieringsprocessen för hello-ID-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-199">Your app should perform this validation during hello ID token validation process.</span></span> |
| <span data-ttu-id="1ef21-200">Ämne</span><span class="sxs-lookup"><span data-stu-id="1ef21-200">Subject</span></span> |`sub` |`884408e1-2918-4cz0-b12d-3aa027d7563b` |<span data-ttu-id="1ef21-201">Detta är hello principal om vilka hello token Assert information, till exempel hello användare av en app.</span><span class="sxs-lookup"><span data-stu-id="1ef21-201">This is hello principal about which hello token asserts information, such as hello user of an app.</span></span> <span data-ttu-id="1ef21-202">Det här värdet är oföränderlig och kan inte tilldela om eller återanvänds.</span><span class="sxs-lookup"><span data-stu-id="1ef21-202">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="1ef21-203">Det kan vara används tooperform auktoriseringskontroller på ett säkert sätt, till exempel när hello token används tooaccess en resurs.</span><span class="sxs-lookup"><span data-stu-id="1ef21-203">It can be used tooperform authorization checks safely, such as when hello token is used tooaccess a resource.</span></span> <span data-ttu-id="1ef21-204">Som standard fylls hello ämne anspråk med hello objekt-ID för hello användare i hello-katalogen.</span><span class="sxs-lookup"><span data-stu-id="1ef21-204">By default, hello subject claim is populated with hello object ID of hello user in hello directory.</span></span> <span data-ttu-id="1ef21-205">Det finns fler toolearn [Azure Active Directory B2C: Token, session och enkel inloggning konfiguration](active-directory-b2c-token-session-sso.md).</span><span class="sxs-lookup"><span data-stu-id="1ef21-205">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="1ef21-206">Autentisering kontexten klassreferens</span><span class="sxs-lookup"><span data-stu-id="1ef21-206">Authentication context class reference</span></span> |`acr` |<span data-ttu-id="1ef21-207">Inte tillämpligt</span><span class="sxs-lookup"><span data-stu-id="1ef21-207">Not applicable</span></span> |<span data-ttu-id="1ef21-208">Inte används för närvarande, förutom i hello skiftläget för äldre principer.</span><span class="sxs-lookup"><span data-stu-id="1ef21-208">Not used currently, except in hello case of older policies.</span></span> <span data-ttu-id="1ef21-209">Det finns fler toolearn [Azure Active Directory B2C: Token, session och enkel inloggning konfiguration](active-directory-b2c-token-session-sso.md).</span><span class="sxs-lookup"><span data-stu-id="1ef21-209">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="1ef21-210">Förtroende framework-princip</span><span class="sxs-lookup"><span data-stu-id="1ef21-210">Trust framework policy</span></span> |`tfp` |`b2c_1_sign_in` |<span data-ttu-id="1ef21-211">Det här är hello hello-princip som har använt tooacquire hello-ID-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-211">This is hello name of hello policy that was used tooacquire hello ID token.</span></span> |
| <span data-ttu-id="1ef21-212">Autentisering</span><span class="sxs-lookup"><span data-stu-id="1ef21-212">Authentication time</span></span> |`auth_time` |`1438535543` |<span data-ttu-id="1ef21-213">Detta anspråk är hello tid då en sista angivna autentiseringsuppgifter, som representeras i epok tid.</span><span class="sxs-lookup"><span data-stu-id="1ef21-213">This claim is hello time at which a user last entered credentials, represented in epoch time.</span></span> |

### <a name="refresh-tokens"></a><span data-ttu-id="1ef21-214">Uppdatera token</span><span class="sxs-lookup"><span data-stu-id="1ef21-214">Refresh tokens</span></span>
<span data-ttu-id="1ef21-215">Uppdatera token är säkerhetstokens som din app använder tooacquire nya ID-token och få åtkomst till token i en OAuth 2.0-flödet.</span><span class="sxs-lookup"><span data-stu-id="1ef21-215">Refresh tokens are security tokens that your app can use tooacquire new ID tokens and access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="1ef21-216">De ger din app med långsiktig åtkomst tooresources åt användare utan interaktion med användare.</span><span class="sxs-lookup"><span data-stu-id="1ef21-216">They provide your app with long-term access tooresources on behalf of users without requiring interaction with those users.</span></span>

<span data-ttu-id="1ef21-217">tooreceive en uppdateringstoken i ett token svar din app måste begära hello `offline_acesss` omfång.</span><span class="sxs-lookup"><span data-stu-id="1ef21-217">tooreceive a refresh token in a token response, your app must request hello `offline_acesss` scope.</span></span> <span data-ttu-id="1ef21-218">Mer om hello toolearn `offline_access` omfång, se toohello [protokollreferens för Azure AD B2C](active-directory-b2c-reference-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="1ef21-218">toolearn more about hello `offline_access` scope, refer toohello [Azure AD B2C protocol reference](active-directory-b2c-reference-protocols.md).</span></span>

<span data-ttu-id="1ef21-219">Uppdatera token är och ska alltid vara helt ogenomskinlig tooyour app.</span><span class="sxs-lookup"><span data-stu-id="1ef21-219">Refresh tokens are, and will always be, completely opaque tooyour app.</span></span> <span data-ttu-id="1ef21-220">De kan har utfärdats av Azure AD och granskas och tolkas bara av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1ef21-220">They are issued by Azure AD and can be inspected and interpreted only by Azure AD.</span></span> <span data-ttu-id="1ef21-221">De är långlivade, men din app ska inte skrivas med hello förväntan som en uppdateringstoken ska gälla för en viss tidsperiod.</span><span class="sxs-lookup"><span data-stu-id="1ef21-221">They are long-lived, but your app should not be written with hello expectation that a refresh token will last for a specific period of time.</span></span> <span data-ttu-id="1ef21-222">Uppdaterings-tokens kan vara inaktuella när som helst för en mängd olika skäl.</span><span class="sxs-lookup"><span data-stu-id="1ef21-222">Refresh tokens can be invalidated at any moment for a variety of reasons.</span></span> <span data-ttu-id="1ef21-223">Hej sätt för din app tooknow om en uppdateringstoken är giltig är tooattempt tooredeem den genom att göra en tokenbegäran tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="1ef21-223">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request tooAzure AD.</span></span>

<span data-ttu-id="1ef21-224">När du lösa in en uppdateringstoken för en ny token (och om din app har beviljats hello `offline_access` omfattning), du får en ny uppdateringstoken i hello token svar.</span><span class="sxs-lookup"><span data-stu-id="1ef21-224">When you redeem a refresh token for a new token (and if your app has been granted hello `offline_access` scope), you will receive a new refresh token in hello token response.</span></span> <span data-ttu-id="1ef21-225">Du bör spara hello nyligen utfärdade uppdateringstoken.</span><span class="sxs-lookup"><span data-stu-id="1ef21-225">You should save hello newly issued refresh token.</span></span> <span data-ttu-id="1ef21-226">Den ska ersätta hello uppdateringstoken som du tidigare använt i hello-begäran.</span><span class="sxs-lookup"><span data-stu-id="1ef21-226">It should replace hello refresh token you previously used in hello request.</span></span> <span data-ttu-id="1ef21-227">Detta hjälper garantera att uppdaterings-tokens vara giltigt så länge som möjligt.</span><span class="sxs-lookup"><span data-stu-id="1ef21-227">This helps guarantee that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="token-validation"></a><span data-ttu-id="1ef21-228">Token-verifiering</span><span class="sxs-lookup"><span data-stu-id="1ef21-228">Token validation</span></span>
<span data-ttu-id="1ef21-229">toovalidate en token som din app ska kontrollera både hello signatur och anspråk för hello-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-229">toovalidate a token, your app should check both hello signature and claims of hello token.</span></span>

<span data-ttu-id="1ef21-230">Många bibliotek med öppen källkod är tillgängliga för att validera JWTs, beroende på ditt språk.</span><span class="sxs-lookup"><span data-stu-id="1ef21-230">Many open source libraries are available for validating JWTs, depending on your preferred language.</span></span> <span data-ttu-id="1ef21-231">Vi rekommenderar att du utforska alternativen i stället för att implementera din egen valideringslogik.</span><span class="sxs-lookup"><span data-stu-id="1ef21-231">We recommend that you explore those options rather than implement your own validation logic.</span></span> <span data-ttu-id="1ef21-232">hello informationen i den här guiden hjälper dig Lär dig hur tooproperly använda dessa bibliotek.</span><span class="sxs-lookup"><span data-stu-id="1ef21-232">hello information in this guide can help you learn how tooproperly use those libraries.</span></span>

### <a name="validate-hello-signature"></a><span data-ttu-id="1ef21-233">Validera hello signatur</span><span class="sxs-lookup"><span data-stu-id="1ef21-233">Validate hello signature</span></span>
<span data-ttu-id="1ef21-234">En JWT innehåller tre segment, avgränsade med hello `.` tecken.</span><span class="sxs-lookup"><span data-stu-id="1ef21-234">A JWT contains three segments, separated by hello `.` character.</span></span> <span data-ttu-id="1ef21-235">första hello-segment är hello *huvud*, hello är andra hello *brödtext*, och hello tredje hello *signatur*.</span><span class="sxs-lookup"><span data-stu-id="1ef21-235">hello first segment is hello *header*, hello second is hello *body*, and hello third is hello *signature*.</span></span> <span data-ttu-id="1ef21-236">hello signatur segment kan vara används toovalidate hello äkthet hello token så att den kan vara betrott av din app.</span><span class="sxs-lookup"><span data-stu-id="1ef21-236">hello signature segment can be used toovalidate hello authenticity of hello token so that it can be trusted by your app.</span></span>

<span data-ttu-id="1ef21-237">Azure AD B2C-token är signerade med branschstandard asymmetriska krypteringsalgoritmer, till exempel RSA-256.</span><span class="sxs-lookup"><span data-stu-id="1ef21-237">Azure AD B2C tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="1ef21-238">hello-huvud för hello token innehåller information om hello nyckel och krypteringsmetod används toosign hello token:</span><span class="sxs-lookup"><span data-stu-id="1ef21-238">hello header of hello token contains information about hello key and encryption method used toosign hello token:</span></span>

```
{
        "typ": "JWT",
        "alg": "RS256",
        "kid": "GvnPApfWMdLRi8PDmisFn7bprKg"
}
```

<span data-ttu-id="1ef21-239">Hej `alg` anspråk anger hello-algoritmen som har använt toosign hello-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-239">hello `alg` claim indicates hello algorithm that was used toosign hello token.</span></span> <span data-ttu-id="1ef21-240">Hej `kid` anspråk anger hello viss offentlig nyckel som har använt toosign hello-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-240">hello `kid` claim indicates hello particular public key that was used toosign hello token.</span></span>

<span data-ttu-id="1ef21-241">Azure AD kan logga en token med hjälp av någon av en viss uppsättning privat-offentligt nyckelpar vid en given tidpunkt.</span><span class="sxs-lookup"><span data-stu-id="1ef21-241">At any given time, Azure AD can sign a token by using any one of a certain set of public-private key pairs.</span></span> <span data-ttu-id="1ef21-242">Azure AD roterar hello möjliga uppsättning nycklar med jämna mellanrum, så att din app ska skrivas toohandle dessa nyckel ändras automatiskt.</span><span class="sxs-lookup"><span data-stu-id="1ef21-242">Azure AD rotates hello possible set of keys periodically, so your app should be written toohandle those key changes automatically.</span></span> <span data-ttu-id="1ef21-243">En rimlig frekvens toocheck för uppdateringar toohello offentliga nycklar som används av Azure AD är 24 timmar.</span><span class="sxs-lookup"><span data-stu-id="1ef21-243">A reasonable frequency toocheck for updates toohello public keys used by Azure AD is every 24 hours.</span></span>

<span data-ttu-id="1ef21-244">Azure AD B2C har en slutpunkt för OpenID Connect metadata.</span><span class="sxs-lookup"><span data-stu-id="1ef21-244">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="1ef21-245">Detta gör apparna toofetch information om Azure AD B2C vid körning.</span><span class="sxs-lookup"><span data-stu-id="1ef21-245">This allows apps toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="1ef21-246">Informationen omfattar slutpunkter, token innehåll och nycklar för tokensignering.</span><span class="sxs-lookup"><span data-stu-id="1ef21-246">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="1ef21-247">Din B2C-katalog innehåller en JSON-dokumentet för metadata för varje princip.</span><span class="sxs-lookup"><span data-stu-id="1ef21-247">Your B2C directory contains a JSON metadata document for each policy.</span></span> <span data-ttu-id="1ef21-248">Till exempel hello Metadatadokumentet för hello `b2c_1_sign_in` princip i `fabrikamb2c.onmicrosoft.com` finns på:</span><span class="sxs-lookup"><span data-stu-id="1ef21-248">For example, hello metadata document for hello `b2c_1_sign_in` policy in  `fabrikamb2c.onmicrosoft.com` is located at:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in
```

<span data-ttu-id="1ef21-249">`fabrikamb2c.onmicrosoft.com`är hello B2C-katalog som används för tooauthenticate hello användaren och `b2c_1_sign_in` är hello principen används tooacquire hello-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-249">`fabrikamb2c.onmicrosoft.com` is hello B2C directory used tooauthenticate hello user, and `b2c_1_sign_in` is hello policy used tooacquire hello token.</span></span> <span data-ttu-id="1ef21-250">toodetermine vilken princip du har använt toosign en token (och där toogo toofetch hello metadata), har du två alternativ.</span><span class="sxs-lookup"><span data-stu-id="1ef21-250">toodetermine which policy was used toosign a token (and where toogo toofetch hello metadata), you have two options.</span></span> <span data-ttu-id="1ef21-251">Först hello principnamn ingår i hello `acr` anspråk i hello-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-251">First, hello policy name is included in hello `acr` claim in hello token.</span></span> <span data-ttu-id="1ef21-252">Du kan parsa anspråk utanför hello brödtext hello JWT av Base64-avkodning hello brödtext och avserialisering av hello JSON sträng som uppstår.</span><span class="sxs-lookup"><span data-stu-id="1ef21-252">You can parse claims out of hello body of hello JWT by base-64 decoding hello body and deserializing hello JSON string that results.</span></span> <span data-ttu-id="1ef21-253">Hej `acr` anspråk kommer att hello namnet på hello-princip som har använt tooissue hello-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-253">hello `acr` claim will be hello name of hello policy that was used tooissue hello token.</span></span>  <span data-ttu-id="1ef21-254">Ett annat alternativ är tooencode hello princip i hello värdet för hello `state` parameter när du skickar hello begäran och sedan avkoda toodetermine vilken princip som har använts.</span><span class="sxs-lookup"><span data-stu-id="1ef21-254">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request, and then decode it toodetermine which policy was used.</span></span> <span data-ttu-id="1ef21-255">Antingen metoden är giltig.</span><span class="sxs-lookup"><span data-stu-id="1ef21-255">Either method is valid.</span></span>

<span data-ttu-id="1ef21-256">hello Metadatadokumentet är ett JSON-objekt som innehåller flera användbara uppgifter.</span><span class="sxs-lookup"><span data-stu-id="1ef21-256">hello metadata document is a JSON object that contains several useful pieces of information.</span></span> <span data-ttu-id="1ef21-257">Dessa inkluderar hello platsen för hello slutpunkter krävs tooperform OpenID Connect autentisering.</span><span class="sxs-lookup"><span data-stu-id="1ef21-257">These include hello location of hello endpoints required tooperform OpenID Connect authentication.</span></span> <span data-ttu-id="1ef21-258">De omfattar också `jwks_uri`, vilket ger hello platsen för hello uppsättning offentliga nycklar som används toosign token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-258">They also include `jwks_uri`, which gives hello location of hello set of public keys that are used toosign tokens.</span></span> <span data-ttu-id="1ef21-259">Den platsen som anges här, men det är bästa toofetch hello plats dynamiskt med hjälp av hello Metadatadokumentet och parsning ut `jwks_uri`:</span><span class="sxs-lookup"><span data-stu-id="1ef21-259">That location is provided here, but it is best toofetch hello location dynamically by using hello metadata document and parsing out `jwks_uri`:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in
```

<span data-ttu-id="1ef21-260">hello JSON-dokumentet på URL: en innehåller alla hello offentlig nyckelinformation används vid en viss tidpunkt.</span><span class="sxs-lookup"><span data-stu-id="1ef21-260">hello JSON document located at this URL contains all hello public key information in use at a particular moment.</span></span> <span data-ttu-id="1ef21-261">Din app kan använda hello `kid` anspråk i hello JWT huvud tooselect hello offentliga nyckeln i hello JSON-dokument som har använt toosign en viss token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-261">Your app can use hello `kid` claim in hello JWT header tooselect hello public key in hello JSON document that is used toosign a particular token.</span></span> <span data-ttu-id="1ef21-262">Den kan utföra signaturverifiering med hjälp av hello rätt offentlig nyckel och hello angivna algoritm.</span><span class="sxs-lookup"><span data-stu-id="1ef21-262">It can then perform signature validation by using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="1ef21-263">En beskrivning av hur tooperform signaturverifiering är utanför hello omfånget för det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="1ef21-263">A description of how tooperform signature validation is outside hello scope of this document.</span></span> <span data-ttu-id="1ef21-264">Många bibliotek med öppen källkod är tillgängliga toohelp du med det här om du behöver den.</span><span class="sxs-lookup"><span data-stu-id="1ef21-264">Many open source libraries are available toohelp you with this if you need it.</span></span>

### <a name="validate-hello-claims"></a><span data-ttu-id="1ef21-265">Validera hello anspråk</span><span class="sxs-lookup"><span data-stu-id="1ef21-265">Validate hello claims</span></span>
<span data-ttu-id="1ef21-266">När din app eller API får du en ID-token, bör det också utföra flera kontroller mot hello anspråk i hello-ID-token.</span><span class="sxs-lookup"><span data-stu-id="1ef21-266">When your app or API receives an ID token, it should also perform several checks against hello claims in hello ID token.</span></span> <span data-ttu-id="1ef21-267">Dessa inkludera, men är inte begränsade till:</span><span class="sxs-lookup"><span data-stu-id="1ef21-267">These include, but are not limited to:</span></span>

* <span data-ttu-id="1ef21-268">Hej **målgruppen** anspråk: Detta verifierar token som hello-ID var avsedda toobe angivna tooyour app.</span><span class="sxs-lookup"><span data-stu-id="1ef21-268">hello **audience** claim: This verifies that hello ID token was intended toobe given tooyour app.</span></span>
* <span data-ttu-id="1ef21-269">Hej **inte före** och **förfallotid** anspråk: dessa kontrollerar du att hello-ID-token inte har upphört att gälla.</span><span class="sxs-lookup"><span data-stu-id="1ef21-269">hello **not before** and **expiration time** claims: These verify that hello ID token has not expired.</span></span>
* <span data-ttu-id="1ef21-270">Hej **utfärdaren** anspråk: Detta verifierar att hello-token har utfärdats tooyour app av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="1ef21-270">hello **issuer** claim: This verifies that hello token was issued tooyour app by Azure AD.</span></span>
* <span data-ttu-id="1ef21-271">Hej **temporärt ID**: Detta är en strategi för tokenrepetition attack lösning.</span><span class="sxs-lookup"><span data-stu-id="1ef21-271">hello **nonce**: This is a strategy for token replay attack mitigation.</span></span>

<span data-ttu-id="1ef21-272">En fullständig lista över verifieringar som din app ska utföra finns toohello [OpenID Connect specifikationen](https://openid.net).</span><span class="sxs-lookup"><span data-stu-id="1ef21-272">For a full list of validations your app should perform, refer toohello [OpenID Connect specification](https://openid.net).</span></span> <span data-ttu-id="1ef21-273">Information om hello förväntade värden för dessa anspråk som ingår i föregående hello [token avsnittet](#types-of-tokens).</span><span class="sxs-lookup"><span data-stu-id="1ef21-273">Details of hello expected values for these claims are included in hello preceding [token section](#types-of-tokens).</span></span>  

## <a name="token-lifetimes"></a><span data-ttu-id="1ef21-274">Livslängd för token</span><span class="sxs-lookup"><span data-stu-id="1ef21-274">Token lifetimes</span></span>
<span data-ttu-id="1ef21-275">hello följande livstid för token är angivna toofurther din vetskap.</span><span class="sxs-lookup"><span data-stu-id="1ef21-275">hello following token lifetimes are provided toofurther your knowledge.</span></span> <span data-ttu-id="1ef21-276">De kan hjälpa dig när du utvecklar och felsöka appar.</span><span class="sxs-lookup"><span data-stu-id="1ef21-276">They can help you when you develop and debug apps.</span></span> <span data-ttu-id="1ef21-277">Observera att dina appar inte får vara skrivs tooexpect någon av dessa livslängd tooremain konstant.</span><span class="sxs-lookup"><span data-stu-id="1ef21-277">Note that your apps should not be written tooexpect any of these lifetimes tooremain constant.</span></span> <span data-ttu-id="1ef21-278">De kan och kommer att ändras.</span><span class="sxs-lookup"><span data-stu-id="1ef21-278">They can and will change.</span></span> <span data-ttu-id="1ef21-279">Läs mer om hello [anpassning av token livslängd](active-directory-b2c-token-session-sso.md) i Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="1ef21-279">Read more about hello [customization of token lifetimes](active-directory-b2c-token-session-sso.md) in Azure AD B2C.</span></span>

| <span data-ttu-id="1ef21-280">Token</span><span class="sxs-lookup"><span data-stu-id="1ef21-280">Token</span></span> | <span data-ttu-id="1ef21-281">Livslängd</span><span class="sxs-lookup"><span data-stu-id="1ef21-281">Lifetime</span></span> | <span data-ttu-id="1ef21-282">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="1ef21-282">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1ef21-283">ID-token</span><span class="sxs-lookup"><span data-stu-id="1ef21-283">ID tokens</span></span> |<span data-ttu-id="1ef21-284">En timme</span><span class="sxs-lookup"><span data-stu-id="1ef21-284">One hour</span></span> |<span data-ttu-id="1ef21-285">ID-token gäller vanligtvis i en timme.</span><span class="sxs-lookup"><span data-stu-id="1ef21-285">ID tokens are typically valid for an hour.</span></span> <span data-ttu-id="1ef21-286">Ditt webbprogram kan använda den här livstid toomaintain sin egen sessioner med användare (rekommenderas).</span><span class="sxs-lookup"><span data-stu-id="1ef21-286">Your web app can use this lifetime toomaintain its own sessions with users (recommended).</span></span> <span data-ttu-id="1ef21-287">Du kan också välja en annan session livslängd.</span><span class="sxs-lookup"><span data-stu-id="1ef21-287">You can also choose a different session lifetime.</span></span> <span data-ttu-id="1ef21-288">Om din app måste tooget en ny token ID, måste den helt enkelt toomake en ny begäran om inloggning tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="1ef21-288">If your app needs tooget a new ID token, it simply needs toomake a new sign-in request tooAzure AD.</span></span> <span data-ttu-id="1ef21-289">Om en användare har en giltig webbläsarsession med Azure AD kan kanske användaren inte nödvändiga tooenter autentiseringsuppgifter igen.</span><span class="sxs-lookup"><span data-stu-id="1ef21-289">If a user has a valid browser session with Azure AD, that user might not be required tooenter credentials again.</span></span> |
| <span data-ttu-id="1ef21-290">Uppdatera token</span><span class="sxs-lookup"><span data-stu-id="1ef21-290">Refresh tokens</span></span> |<span data-ttu-id="1ef21-291">In too14 dagar</span><span class="sxs-lookup"><span data-stu-id="1ef21-291">Up too14 days</span></span> |<span data-ttu-id="1ef21-292">En enskild uppdateringstoken är giltig för 14 dagar.</span><span class="sxs-lookup"><span data-stu-id="1ef21-292">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="1ef21-293">En uppdateringstoken kan dock bli ogiltiga när som helst för en rad orsaker.</span><span class="sxs-lookup"><span data-stu-id="1ef21-293">However, a refresh token can become invalid at any time for a number of reasons.</span></span> <span data-ttu-id="1ef21-294">Din app ska fortsätta tootry toouse en uppdateringstoken förrän hello begäran misslyckas eller din app ersätter hello uppdateringstoken med en ny.</span><span class="sxs-lookup"><span data-stu-id="1ef21-294">Your app should continue tootry toouse a refresh token until hello request fails, or until your app replaces hello refresh token with a new one.</span></span> <span data-ttu-id="1ef21-295">En uppdateringstoken kan också blir ogiltiga om 90 dagar har gått sedan hello användaren senast angivna autentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="1ef21-295">A refresh token can also become invalid if 90 days have passed since hello user last entered credentials.</span></span> |
| <span data-ttu-id="1ef21-296">Auktoriseringskoder</span><span class="sxs-lookup"><span data-stu-id="1ef21-296">Authorization codes</span></span> |<span data-ttu-id="1ef21-297">Fem minuter</span><span class="sxs-lookup"><span data-stu-id="1ef21-297">Five minutes</span></span> |<span data-ttu-id="1ef21-298">Auktoriseringskoder är avsiktligt tillfällig.</span><span class="sxs-lookup"><span data-stu-id="1ef21-298">Authorization codes are intentionally short-lived.</span></span> <span data-ttu-id="1ef21-299">De bör lösas omedelbart för åtkomst-token, ID-token eller uppdateringstoken när de tas emot.</span><span class="sxs-lookup"><span data-stu-id="1ef21-299">They should be redeemed immediately for access tokens, ID tokens, or refresh tokens when they are received.</span></span> |

