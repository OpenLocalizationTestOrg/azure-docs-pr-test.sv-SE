---
title: 'Azure Active Directory B2C: Anpassade principer | Microsoft Docs'
description: "Ett ämne på Azure Active Directory B2C anpassade principer"
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: 1ff398a4-2079-4615-94f1-57de22c0aad6
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/04/2017
ms.author: parakhj
ms.openlocfilehash: bada9cf5f1a86f3dd047536f6fd9359c0231a384
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-custom-policies"></a><span data-ttu-id="05a83-103">Azure Active Directory B2C: Anpassade policys</span><span class="sxs-lookup"><span data-stu-id="05a83-103">Azure Active Directory B2C: Custom policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

## <a name="what-are-custom-policies"></a><span data-ttu-id="05a83-104">Vad är anpassade principer?</span><span class="sxs-lookup"><span data-stu-id="05a83-104">What are custom policies?</span></span>

<span data-ttu-id="05a83-105">Anpassade principer är konfigurationsfiler som definierar hello beteende för din Azure AD B2C-klient.</span><span class="sxs-lookup"><span data-stu-id="05a83-105">Custom policies are configuration files that define hello behavior of your Azure AD B2C tenant.</span></span> <span data-ttu-id="05a83-106">Medan **inbyggda principer** är fördefinierade i hello Azure AD B2C portal hello vanligaste identitet uppgifter, anpassade principer kan vara helt redigeras av en identitet developer toocomplete en nära obegränsat antal uppgifter.</span><span class="sxs-lookup"><span data-stu-id="05a83-106">Whereas **built-in policies** are predefined in hello Azure AD B2C portal for hello most common identity tasks, custom policies can be fully edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="05a83-107">Läsa på toodetermine om anpassade principer är rätt för dig och din identitet scenario.</span><span class="sxs-lookup"><span data-stu-id="05a83-107">Read on toodetermine if custom policies are right for you and your identity scenario.</span></span>

<span data-ttu-id="05a83-108">**Redigera anpassad princip är inte för alla.**</span><span class="sxs-lookup"><span data-stu-id="05a83-108">**Custom policy editing is not for everyone.**</span></span> <span data-ttu-id="05a83-109">hello inlärningskurvan krävande hello starttiden är längre och framtida ändringar toocustom principer kräver liknande expertis toomaintain.</span><span class="sxs-lookup"><span data-stu-id="05a83-109">hello learning curve is demanding, hello startup time is longer, and future changes toocustom policies will require similar expertise toomaintain.</span></span> <span data-ttu-id="05a83-110">Inbyggda principer bör planeras noggrant först för ditt scenario innan du använder anpassade principer.</span><span class="sxs-lookup"><span data-stu-id="05a83-110">Built-in policies should be carefully considered first for your scenario before using custom policies.</span></span>

## <a name="comparing-built-in-policies-and-custom-policies"></a><span data-ttu-id="05a83-111">Jämföra inbyggda och anpassade principer</span><span class="sxs-lookup"><span data-stu-id="05a83-111">Comparing built-in policies and custom policies</span></span>

| | <span data-ttu-id="05a83-112">Inbyggda principer</span><span class="sxs-lookup"><span data-stu-id="05a83-112">Built-in policies</span></span> | <span data-ttu-id="05a83-113">anpassade principer</span><span class="sxs-lookup"><span data-stu-id="05a83-113">Custom policies</span></span> |
|-|-------------------|-----------------|
|<span data-ttu-id="05a83-114">Målgruppsanvändare</span><span class="sxs-lookup"><span data-stu-id="05a83-114">Target users</span></span> | <span data-ttu-id="05a83-115">Alla utvecklare av program med eller utan kunskaper identitet</span><span class="sxs-lookup"><span data-stu-id="05a83-115">All app developers with or without identity expertise</span></span> | <span data-ttu-id="05a83-116">Identity-tekniker: systemintegrerare, konsulter och interna identitet team.</span><span class="sxs-lookup"><span data-stu-id="05a83-116">Identity pros: systems integrators, consultants and in-house identity teams.</span></span> <span data-ttu-id="05a83-117">De är nöjd med OpenIDConnect flöden och förstå identitetsleverantörer och Anspråksbaserad autentisering</span><span class="sxs-lookup"><span data-stu-id="05a83-117">They are comfortable with OpenIDConnect flows, and understand identity providers and claims-based authentication</span></span> |
|<span data-ttu-id="05a83-118">Metod för principkonfiguration</span><span class="sxs-lookup"><span data-stu-id="05a83-118">Configuration method</span></span> | <span data-ttu-id="05a83-119">Azure-portalen med ett användarvänligt gränssnitt</span><span class="sxs-lookup"><span data-stu-id="05a83-119">Azure portal with a user-friendly UI</span></span> | <span data-ttu-id="05a83-120">Direkt redigera XML-filer och sedan överföra toohello Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="05a83-120">Directly editing XML files and then uploading toohello Azure portal</span></span> |
|<span data-ttu-id="05a83-121">Anpassning av Användargränssnittet</span><span class="sxs-lookup"><span data-stu-id="05a83-121">UI customization</span></span> | <span data-ttu-id="05a83-122">Fullständig anpassning av Användargränssnittet, inklusive stöd för HTML, CSS och jscript (kräver anpassade domäner)</span><span class="sxs-lookup"><span data-stu-id="05a83-122">Full UI customization, including HTML, CSS, and jscript support(requires custom domain)</span></span><br><br><span data-ttu-id="05a83-123">Stöd för flera språk med anpassade strängar</span><span class="sxs-lookup"><span data-stu-id="05a83-123">Multilanguage support with Custom strings</span></span> | <span data-ttu-id="05a83-124">samma</span><span class="sxs-lookup"><span data-stu-id="05a83-124">Same</span></span> |
| <span data-ttu-id="05a83-125">Attributanpassning</span><span class="sxs-lookup"><span data-stu-id="05a83-125">Attribute customization</span></span> | <span data-ttu-id="05a83-126">Standard- och anpassade attribut</span><span class="sxs-lookup"><span data-stu-id="05a83-126">Standard and custom attributes</span></span> | <span data-ttu-id="05a83-127">samma</span><span class="sxs-lookup"><span data-stu-id="05a83-127">Same</span></span> |
|<span data-ttu-id="05a83-128">Hantering av token och session</span><span class="sxs-lookup"><span data-stu-id="05a83-128">Token and session management</span></span> | <span data-ttu-id="05a83-129">Anpassade token och flera olika sessionsalternativ för</span><span class="sxs-lookup"><span data-stu-id="05a83-129">Custom token and multiple session options</span></span> | <span data-ttu-id="05a83-130">samma</span><span class="sxs-lookup"><span data-stu-id="05a83-130">Same</span></span> |
|<span data-ttu-id="05a83-131">Identitetsleverantörer</span><span class="sxs-lookup"><span data-stu-id="05a83-131">Identity Providers</span></span>| <span data-ttu-id="05a83-132">**Idag**: fördefinierade lokal, sociala provider</span><span class="sxs-lookup"><span data-stu-id="05a83-132">**Today**: predefined local, social provider</span></span><br><br><span data-ttu-id="05a83-133">**Framtida**: standardbaserad OIDC SAML OAuth</span><span class="sxs-lookup"><span data-stu-id="05a83-133">**Future**: Standards-based OIDC, SAML, OAuth</span></span> | <span data-ttu-id="05a83-134">**Idag**: standardbaserad OIDC OAUTH SAML</span><span class="sxs-lookup"><span data-stu-id="05a83-134">**Today**: Standards-based OIDC, OAUTH, SAML</span></span><br><br><span data-ttu-id="05a83-135">**Framtida**: WsFed</span><span class="sxs-lookup"><span data-stu-id="05a83-135">**Future**: WsFed</span></span> |
|<span data-ttu-id="05a83-136">Identitet uppgifter (exempel)</span><span class="sxs-lookup"><span data-stu-id="05a83-136">Identity Tasks (examples)</span></span> | <span data-ttu-id="05a83-137">Registrering eller inloggning med lokala och många sociala konton</span><span class="sxs-lookup"><span data-stu-id="05a83-137">Signup or SignIn with local and many social accounts</span></span><br><br><span data-ttu-id="05a83-138">Återställning av lösenord för självbetjäning</span><span class="sxs-lookup"><span data-stu-id="05a83-138">Self-Service Password Reset</span></span><br><br><span data-ttu-id="05a83-139">Redigera profil</span><span class="sxs-lookup"><span data-stu-id="05a83-139">Profile Edit</span></span><br><br><span data-ttu-id="05a83-140">Multi-Factor Authentication-scenarier</span><span class="sxs-lookup"><span data-stu-id="05a83-140">Multi-Factor Auth scenarios</span></span><br><br><span data-ttu-id="05a83-141">Anpassa token och sessioner</span><span class="sxs-lookup"><span data-stu-id="05a83-141">Customize Tokens and sessions</span></span><br><br><span data-ttu-id="05a83-142">Åtkomsttoken flödar</span><span class="sxs-lookup"><span data-stu-id="05a83-142">Access Token flows</span></span> | <span data-ttu-id="05a83-143">Slutföra hello samma uppgifter som inbyggda principer med hjälp av anpassade identitetsleverantörer eller använda anpassade omfattningar</span><span class="sxs-lookup"><span data-stu-id="05a83-143">Complete hello same tasks as built-in policies using custom identity providers or use custom scopes</span></span><br><br><span data-ttu-id="05a83-144">Etablera användare i ett annat system hello för närvarande av registrering</span><span class="sxs-lookup"><span data-stu-id="05a83-144">Provision user in another system at hello time of registration</span></span><br><br><span data-ttu-id="05a83-145">Skicka ett välkomstmeddelande med din egen e-post-leverantör</span><span class="sxs-lookup"><span data-stu-id="05a83-145">Send a welcome email using your own email service provider</span></span><br><br><span data-ttu-id="05a83-146">Använd en användararkivet utanför B2C</span><span class="sxs-lookup"><span data-stu-id="05a83-146">Use a user store outside B2C</span></span><br><br><span data-ttu-id="05a83-147">Verifiera användarens angivna information med en betrodd dator via API</span><span class="sxs-lookup"><span data-stu-id="05a83-147">Validate user provided information with a trusted system via API</span></span> |

## <a name="policy-files"></a><span data-ttu-id="05a83-148">Principfiler</span><span class="sxs-lookup"><span data-stu-id="05a83-148">Policy files</span></span>

<span data-ttu-id="05a83-149">En anpassad princip representeras som en eller flera XML-formaterade filer som finns tooeach andra i en hierarkisk kedja.</span><span class="sxs-lookup"><span data-stu-id="05a83-149">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="05a83-150">Definiera hello XML-element: anspråk schemat anspråk omvandlingar, definitioner av innehåll, anspråk providers-tekniska profiler och Userjourney orchestration-steg, bland annat.</span><span class="sxs-lookup"><span data-stu-id="05a83-150">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>

<span data-ttu-id="05a83-151">Vi rekommenderar hello användning av tre typer av principfiler:</span><span class="sxs-lookup"><span data-stu-id="05a83-151">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="05a83-152">**En grundläggande fil**, som innehåller de flesta av hello definitioner och för som Azure tillhandahåller ett fullständigt exempel.</span><span class="sxs-lookup"><span data-stu-id="05a83-152">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="05a83-153">Vi rekommenderar att du gör ett minsta antal ändringar toothis filen toohelp med felsökning och långsiktig underhåll av dina principer</span><span class="sxs-lookup"><span data-stu-id="05a83-153">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="05a83-154">**en fil i tillägg** som innehåller hello unika konfigurationsändringar för din klient</span><span class="sxs-lookup"><span data-stu-id="05a83-154">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="05a83-155">**en förlitande part (RP)-fil** hello enda fokuserad aktivitet filen som anropas direkt av hello programmet eller tjänsten (även kallat förlitande part).</span><span class="sxs-lookup"><span data-stu-id="05a83-155">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="05a83-156">Läs hello artikel om principdefinitioner för mer information.</span><span class="sxs-lookup"><span data-stu-id="05a83-156">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="05a83-157">Varje unik aktiviteten kräver sin egen RP och beroende på anpassningen krav hello antalet vara ”Totalt program x Totalt antal användningsområden”.</span><span class="sxs-lookup"><span data-stu-id="05a83-157">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>


<span data-ttu-id="05a83-158">Inbyggda principer i Azure AD B2C följer hello 3-fil mönster som beskrivs ovan, men hello developer endast ser hello förlitande part (RP)-fil, medan hello portal gör ändringar i hello bakgrund toohello EXTenstions-filen.</span><span class="sxs-lookup"><span data-stu-id="05a83-158">Built-in policies in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>

## <a name="core-concepts-you-should-know-when-using-custom-policies"></a><span data-ttu-id="05a83-159">Grundläggande begrepp som du bör känna till när du använder anpassade principer</span><span class="sxs-lookup"><span data-stu-id="05a83-159">Core concepts you should know when using custom policies</span></span>

### <a name="azure-active-directory-b2c"></a><span data-ttu-id="05a83-160">Azure Active Directory B2C</span><span class="sxs-lookup"><span data-stu-id="05a83-160">Azure Active Directory B2C</span></span>

<span data-ttu-id="05a83-161">Azures identitets- och hantering (CIAM) kundtjänst.</span><span class="sxs-lookup"><span data-stu-id="05a83-161">Azure’s customer identity and access management (CIAM) service.</span></span> <span data-ttu-id="05a83-162">hello tjänsten omfattar:</span><span class="sxs-lookup"><span data-stu-id="05a83-162">hello service includes:</span></span>

1. <span data-ttu-id="05a83-163">En användarkatalog i hello form av en särskild syfte Azure Active Directory tillgänglig via Microsoft Graph och som innehåller användardata för både lokala och konton för federerade</span><span class="sxs-lookup"><span data-stu-id="05a83-163">A user directory in hello form of a special-purpose Azure Active Directory accessible via Microsoft Graph and which holds user data for both local accounts and federated accounts</span></span> 
2. <span data-ttu-id="05a83-164">Komma åt toohello **identitet upplevelse Framework** som samordnar förtroende mellan användare och enheter och skickar anspråk mellan dem toocomplete en identity-/ access management-aktivitet</span><span class="sxs-lookup"><span data-stu-id="05a83-164">Access toohello **Identity Experience Framework** which orchestrates trust between users and entities and passes claims between them toocomplete an identity/access management task</span></span> 
3. <span data-ttu-id="05a83-165">En säkerhetstokentjänst (STS) utfärda id token, uppdatera token och åtkomst-token (och motsvarande SAML intyg) och godkänna dem tooprotect resurser.</span><span class="sxs-lookup"><span data-stu-id="05a83-165">A security token service (STS) issuing id tokens, refresh tokens, and access tokens (and equivalent SAML assertions) and validating them tooprotect resources.</span></span>

<span data-ttu-id="05a83-166">Azure AD B2C samverkar med identitetsleverantörer, användare, andra system och hello lokala användarkatalog i sekvens tooachieve en identity-aktivitet (t.ex. en användare logga in registrera en ny användare, återställa ett lösenord).</span><span class="sxs-lookup"><span data-stu-id="05a83-166">Azure AD B2C interacts with identity providers, users, other systems, and with hello local user directory in sequence tooachieve an identity task (e.g. login a user, register a new user, reset a password).</span></span> <span data-ttu-id="05a83-167">hello underliggande plattformen som upprättar flerparti förtroende och utför dessa steg kallas hello identitet upplevelse Framework och en princip (kallas även för en användare resa eller en förtroendeprincipen framework) definierar hello aktörer, hello åtgärder hello protokoll och hello serie steg toocomplete.</span><span class="sxs-lookup"><span data-stu-id="05a83-167">hello underlying platform which establishes multi-party trust and executes these steps is called hello Identity Experience Framework and a policy (also called an user journey or a Trust framework policy) explicitly defines hello actors, hello actions, hello protocols, and hello sequence of steps toocomplete.</span></span>

### <a name="identity-experience-framework"></a><span data-ttu-id="05a83-168">Identity Experience Framework</span><span class="sxs-lookup"><span data-stu-id="05a83-168">Identity Experience Framework</span></span>

<span data-ttu-id="05a83-169">Ett fullständigt konfigurerbara, principer, molnbaserad Azure-plattformen som samordnar förtroende mellan enheter (brett Anspråksproviders) i standardprotokoll format, till exempel OpenIDConnect, OAuth, SAML, WSFed och några standardmässiga format (t.ex. REST API-baserade system till anspråk utbyte).</span><span class="sxs-lookup"><span data-stu-id="05a83-169">A fully configurable, policy-driven, cloud-based Azure platform that orchestrates trust between entities (broadly Claims Providers) in standard protocol formats such as OpenIDConnect, OAuth, SAML, WSFed, and a few non-standard ones (e.g. REST API-based system-to-system claims exchanges).</span></span> <span data-ttu-id="05a83-170">Hej I2E skapar användarvänliga, whitelabelled inträffar som stöd för HTML, CSS och jscript.</span><span class="sxs-lookup"><span data-stu-id="05a83-170">hello I2E creates user-friendly, whitelabelled experiences that support HTML, CSS, and jscript.</span></span>  <span data-ttu-id="05a83-171">Idag hello identitet upplevelse Framework finns bara i hello hello Azure AD B2C-tjänsten och prioriteras för uppgifter relaterade tooCIAM.</span><span class="sxs-lookup"><span data-stu-id="05a83-171">Today, hello Identity Experience Framework is available only in hello context of hello Azure AD B2C service and prioritized for tasks related tooCIAM.</span></span>

### <a name="built-in-policies"></a><span data-ttu-id="05a83-172">Inbyggda principer</span><span class="sxs-lookup"><span data-stu-id="05a83-172">Built-in policies</span></span>

<span data-ttu-id="05a83-173">Fördefinierade konfigurationsfiler att direkt hello beteendet för Azure AD B2C tooperform hello vanligaste identitet uppgifter (d.v.s. användarregistrering, inloggning, återställning av lösenord) och interagera med betrodda parter vars relation också är fördefinierade i Azure AD B2C ( till exempel Facebook identitetsleverantör, LinkedIn, Account, Google-konton).</span><span class="sxs-lookup"><span data-stu-id="05a83-173">Predefined configuration files that direct hello behavior of Azure AD B2C tooperform hello most commonly used identity tasks (i.e. user registration, signin, password reset) and interact with trusted parties whose relationship is also predefined in Azure AD B2C (e.g. Facebook identity provider, LinkedIn, Microsoft Account, Google accounts).</span></span>  <span data-ttu-id="05a83-174">I framtida hello tillhandahåller också inbyggda principer för anpassning av identitetsleverantörer som vanligtvis är i hello enterprise sfär som Azure Active Directory Premium, Active Directory/ADFS o.s.v. Salesforce-ID-providern.</span><span class="sxs-lookup"><span data-stu-id="05a83-174">In hello future, built-in policies may also provide for customization of identity providers which are typically in hello enterprise realm such as Azure Active Directory Premium, Active Directory/ADFS, Salesforce ID Provider etc.</span></span>


### <a name="custom-policies"></a><span data-ttu-id="05a83-175">anpassade principer</span><span class="sxs-lookup"><span data-stu-id="05a83-175">Custom policies</span></span>

<span data-ttu-id="05a83-176">Konfigurationsfiler som definierar hello beteendet för identitet upplevelse Framework i din Azure AD B2C-klient.</span><span class="sxs-lookup"><span data-stu-id="05a83-176">Configuration files that define hello behavior of Identity Experience Framework in your Azure AD B2C tenant.</span></span> <span data-ttu-id="05a83-177">En anpassad princip är tillgänglig som en eller flera XML-filer (se principfiler definitioner) som körs av hello identitet upplevelse Framework när den anropades av en förlitande part (t.ex. ett program).</span><span class="sxs-lookup"><span data-stu-id="05a83-177">A custom policy is accessible as one or several XML files (see Policy Files definitions) which are executed by hello Identity Experience Framework when invoked by a relying party (e.g. an application).</span></span> <span data-ttu-id="05a83-178">Anpassade principer kan vara direkt redigeras av en identitet developer toocomplete en nära obegränsat antal uppgifter.</span><span class="sxs-lookup"><span data-stu-id="05a83-178">Custom policies can be directly edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="05a83-179">Utvecklare konfigurera anpassade principer måste definiera Hej betrodda relationer i noggrann detalj tooinclude Metadataslutpunkter, exakt anspråk exchange definitioner och konfigurerar hemligheter, nycklar och certifikat som krävs av varje identitetsleverantör.</span><span class="sxs-lookup"><span data-stu-id="05a83-179">Developers configuring custom policies must define hello trusted relationships in careful detail tooinclude metadata endpoints, exact claims exchange definitions, and configure secrets, keys and certificates as needed by each identity provider.</span></span>

## <a name="policy-file-definitions-for-identity-experience-framework-trustframeworks"></a><span data-ttu-id="05a83-180">Princip för definitioner för identitet upplevelse Framework Trustframeworks</span><span class="sxs-lookup"><span data-stu-id="05a83-180">Policy File Definitions for Identity Experience Framework Trustframeworks</span></span>

### <a name="policy-files"></a><span data-ttu-id="05a83-181">Principfiler</span><span class="sxs-lookup"><span data-stu-id="05a83-181">Policy Files</span></span>

<span data-ttu-id="05a83-182">En anpassad princip representeras som en eller flera XML-formaterade filer som finns tooeach andra i en hierarkisk kedja.</span><span class="sxs-lookup"><span data-stu-id="05a83-182">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="05a83-183">Definiera hello XML-element: anspråk schemat anspråk omvandlingar, definitioner av innehåll, anspråk providers-tekniska profiler och Userjourney orchestration-steg, bland annat.</span><span class="sxs-lookup"><span data-stu-id="05a83-183">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>  <span data-ttu-id="05a83-184">Vi rekommenderar hello användning av tre typer av principfiler:</span><span class="sxs-lookup"><span data-stu-id="05a83-184">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="05a83-185">**En grundläggande fil**, som innehåller de flesta av hello definitioner och för som Azure tillhandahåller ett fullständigt exempel.</span><span class="sxs-lookup"><span data-stu-id="05a83-185">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="05a83-186">Vi rekommenderar att du gör ett minsta antal ändringar toothis filen toohelp med felsökning och långsiktig underhåll av dina principer</span><span class="sxs-lookup"><span data-stu-id="05a83-186">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="05a83-187">**en fil i tillägg** som innehåller hello unika konfigurationsändringar för din klient</span><span class="sxs-lookup"><span data-stu-id="05a83-187">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="05a83-188">**en förlitande part (RP)-fil** hello enda fokuserad aktivitet filen som anropas direkt av hello programmet eller tjänsten (även kallat förlitande part).</span><span class="sxs-lookup"><span data-stu-id="05a83-188">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="05a83-189">Läs hello artikel om principdefinitioner för mer information.</span><span class="sxs-lookup"><span data-stu-id="05a83-189">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="05a83-190">Varje unik aktiviteten kräver sin egen RP och beroende på anpassningen krav hello antalet vara ”Totalt program x Totalt antal användningsområden”.</span><span class="sxs-lookup"><span data-stu-id="05a83-190">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>

![Princip för filtyper](media/active-directory-b2c-overview-custom/active-directory-b2c-overview-custom-policy-files.png)

| <span data-ttu-id="05a83-192">Typ av princip-fil</span><span class="sxs-lookup"><span data-stu-id="05a83-192">Type of policy file</span></span> | <span data-ttu-id="05a83-193">Exempel filnamn</span><span class="sxs-lookup"><span data-stu-id="05a83-193">Examples file name</span></span> | <span data-ttu-id="05a83-194">Rekommenderad användning</span><span class="sxs-lookup"><span data-stu-id="05a83-194">Recommended use</span></span> | <span data-ttu-id="05a83-195">Ärver från</span><span class="sxs-lookup"><span data-stu-id="05a83-195">Inherits from</span></span> |
|---------------------|--------------------|-----------------|---------------|
| <span data-ttu-id="05a83-196">BAS</span><span class="sxs-lookup"><span data-stu-id="05a83-196">BASE</span></span> |<span data-ttu-id="05a83-197">TrustFrameworkBase.xml</span><span class="sxs-lookup"><span data-stu-id="05a83-197">TrustFrameworkBase.xml</span></span><br><br><span data-ttu-id="05a83-198">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span><span class="sxs-lookup"><span data-stu-id="05a83-198">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span></span> | <span data-ttu-id="05a83-199">Innehåller hello grundläggande anspråk schemat, anspråksomvandlingar, Anspråksproviders och användaren resor konfigureras av Microsoft</span><span class="sxs-lookup"><span data-stu-id="05a83-199">Includes hello core claims schema, claims transformations, claims providers, and user journeys configured by Microsoft</span></span><br><br><span data-ttu-id="05a83-200">Kontrollera minimala ändringar toothis filen</span><span class="sxs-lookup"><span data-stu-id="05a83-200">Make minimal changes toothis file</span></span> | <span data-ttu-id="05a83-201">Ingen</span><span class="sxs-lookup"><span data-stu-id="05a83-201">None</span></span> |
| <span data-ttu-id="05a83-202">Tillägget (EXT)</span><span class="sxs-lookup"><span data-stu-id="05a83-202">Extension (EXT)</span></span> | <span data-ttu-id="05a83-203">TrustFrameworkExtensions.xml</span><span class="sxs-lookup"><span data-stu-id="05a83-203">TrustFrameworkExtensions.xml</span></span><br><br><span data-ttu-id="05a83-204">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span><span class="sxs-lookup"><span data-stu-id="05a83-204">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span></span> | <span data-ttu-id="05a83-205">Konsolidera dina ändringar toohello bas-fil här</span><span class="sxs-lookup"><span data-stu-id="05a83-205">Consolidate your changes toohello BASE file here</span></span><br><br><span data-ttu-id="05a83-206">Ändrade Anspråksproviders</span><span class="sxs-lookup"><span data-stu-id="05a83-206">Modified claims providers</span></span><br><br><span data-ttu-id="05a83-207">Ändrade användaren resor</span><span class="sxs-lookup"><span data-stu-id="05a83-207">Modified user journeys</span></span><br><br><span data-ttu-id="05a83-208">Anpassat schemadefinitionerna</span><span class="sxs-lookup"><span data-stu-id="05a83-208">Your own custom schema definitions</span></span> | <span data-ttu-id="05a83-209">BAS-fil</span><span class="sxs-lookup"><span data-stu-id="05a83-209">BASE file</span></span> |
| <span data-ttu-id="05a83-210">Förlitande part (RP)</span><span class="sxs-lookup"><span data-stu-id="05a83-210">Relying Party (RP)</span></span> | <span data-ttu-id="05a83-211">B2C_1A_sign_up_sign_in.XML</span><span class="sxs-lookup"><span data-stu-id="05a83-211">B2C_1A_sign_up_sign_in.xml</span></span>| <span data-ttu-id="05a83-212">Ändra token form och session här</span><span class="sxs-lookup"><span data-stu-id="05a83-212">Change token shape and session settings here</span></span>| <span data-ttu-id="05a83-213">Extensions(ext) fil</span><span class="sxs-lookup"><span data-stu-id="05a83-213">Extensions(EXT) file</span></span> |

### <a name="inheritance-model"></a><span data-ttu-id="05a83-214">Arv modellen</span><span class="sxs-lookup"><span data-stu-id="05a83-214">Inheritance model</span></span>

<span data-ttu-id="05a83-215">När ett program anropar hello RP principfil, hello identitet upplevelse ramverk i B2C Lägg till alla hello element från basen och tillägg, och till sist i praktiken hello aktuella princip från hello RP princip filen tooassemble.</span><span class="sxs-lookup"><span data-stu-id="05a83-215">When an application calls hello RP Policy file, hello Identity Experience Framework in B2C will add all hello elements from BASE, then from EXTENSIONS, and lastly from hello RP policy file tooassemble hello current policy in effect.</span></span>  <span data-ttu-id="05a83-216">Element i hello samma Skriv och namn i hello RP-filen åsidosätter de i hello tillägg och tillägg åsidosättningar BASE.</span><span class="sxs-lookup"><span data-stu-id="05a83-216">Elements of hello same type and name in hello RP file will override those in hello EXTENSIONS, and EXTENSIONS overrides BASE.</span></span>

<span data-ttu-id="05a83-217">**Principer för inbyggda** i Azure AD B2C följer hello 3-fil mönster som beskrivs ovan, men hello developer endast ser hello förlitande part (RP)-fil, medan hello portal gör ändringar i hello bakgrund toohello EXTenstions-filen.</span><span class="sxs-lookup"><span data-stu-id="05a83-217">**Built-in policies** in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>  <span data-ttu-id="05a83-218">Alla Azure AD B2C delar en grundläggande principfil som är under hello kontroll av hello Azure B2C-teamet och uppdateras ofta.</span><span class="sxs-lookup"><span data-stu-id="05a83-218">All of Azure AD B2C shares a BASE policy file that is under hello control of hello Azure B2C team and is updated frequently.</span></span>
