---
title: "Azure Active Directory B2C: Referera: anpassa Användargränssnittet för en användare resa med anpassade principer | Microsoft Docs"
description: "Ett ämne på Azure Active Directory B2C anpassade principer"
services: active-directory-b2c
documentationcenter: 
author: rojasja
manager: krassk
editor: rojasja
ms.assetid: 
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/25/2017
ms.author: joroja
ms.openlocfilehash: 68f40aa638a687398512278a0b77d1ba392859cf
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="customize-the-ui-of-a-user-journey-with-custom-policies"></a><span data-ttu-id="48cc0-103">Anpassa Användargränssnittet för en användare resa med anpassade principer</span><span class="sxs-lookup"><span data-stu-id="48cc0-103">Customize the UI of a user journey with Custom Policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

> [!NOTE]
> <span data-ttu-id="48cc0-104">Den här artikeln är en avancerad beskrivning av hur anpassningar fungerar och hur du aktiverar med B2C anpassade principer, med hjälp av ramverket identitet upplevelse</span><span class="sxs-lookup"><span data-stu-id="48cc0-104">This article is an advanced description of how UI customization works and how to enable with B2C Custom policies, using the Identity Experience Framework</span></span>


<span data-ttu-id="48cc0-105">En smidig användarupplevelse är nyckel för alla business-to-consumer-lösningar.</span><span class="sxs-lookup"><span data-stu-id="48cc0-105">A seamless user experience is key for any business-to-consumer solution.</span></span> <span data-ttu-id="48cc0-106">Med sömlös användarupplevelse menar vi en upplevelse på enheten eller webbläsaren, där en användare resa via vår tjänst inte kan särskiljas från som kundservice som de använder.</span><span class="sxs-lookup"><span data-stu-id="48cc0-106">By seamless user experience, we mean an experience, whether on device or browser, where a user’s journey through our service cannot be distinguished from that of the customer service they are using.</span></span>

## <a name="understand-the-cors-way-for-ui-customization"></a><span data-ttu-id="48cc0-107">Förstå hur CORS för anpassning av Användargränssnittet</span><span class="sxs-lookup"><span data-stu-id="48cc0-107">Understand the CORS way for UI customization</span></span>

<span data-ttu-id="48cc0-108">Azure AD B2C kan du anpassa utseende-och-känsla användarupplevelse (UX) på olika sidor som potentiellt kan hanteras och visas i Azure AD B2C via din anpassade principer.</span><span class="sxs-lookup"><span data-stu-id="48cc0-108">Azure AD B2C allows you to customize the look-and-feel of user experience (UX) on the various pages that can be potentially served and displayed by Azure AD B2C via your custom policies.</span></span>

<span data-ttu-id="48cc0-109">För detta ändamål Azure AD B2C kör kod i din klientens webbläsare och använder metoden moderna och standard [Cross-Origin Resource Sharing (CORS)](http://www.w3.org/TR/cors/) att läsa in anpassat innehåll från en specifik URL som du anger i en anpassad princip för att peka till din HTML5/CSS-mallar.</span><span class="sxs-lookup"><span data-stu-id="48cc0-109">For that purpose, Azure AD B2C runs code in your consumer's browser and uses the modern and standard approach [Cross-Origin Resource Sharing (CORS)](http://www.w3.org/TR/cors/) to load custom content from a specific URL that you specify in a custom policy to point to your HTML5/CSS templates.</span></span> <span data-ttu-id="48cc0-110">CORS är en mekanism som gör att begränsade resurser, t.ex. teckensnitt, på en webbsida begäras från en annan domän utanför domänen som resursen kommer från.</span><span class="sxs-lookup"><span data-stu-id="48cc0-110">CORS is a mechanism that allows restricted resources, like fonts, on a web page to be requested from another domain outside the domain from which the resource originated.</span></span>

<span data-ttu-id="48cc0-111">Jämfört med det gamla traditionella sätt, där mallen sidor som äger lösning där du har angett begränsad text och bilder, där begränsad kontroll över layout och känslan erbjöds leder till mer än problem med att uppnå ett smidigt sätt för CORS har stöd för HTML5 och CSS och du kan:</span><span class="sxs-lookup"><span data-stu-id="48cc0-111">Compared to the old traditional way, where template pages are owned by the solution where you provided limited text and images, where limited control of layout and feel was offered leading to more than difficulties to achieve a seamless experience, the CORS way supports HTML5 and CSS and allow you to:</span></span>

- <span data-ttu-id="48cc0-112">Värdar för innehåll och lösningen lägger in dess kontroller med hjälp av skript på klienten.</span><span class="sxs-lookup"><span data-stu-id="48cc0-112">Host the content and the solution injects its controls using client side script.</span></span>
- <span data-ttu-id="48cc0-113">Ha fullständig kontroll över varje pixel layout och utseende.</span><span class="sxs-lookup"><span data-stu-id="48cc0-113">Have full control over every pixel of layout and feel.</span></span>

<span data-ttu-id="48cc0-114">Du kan ange så många innehåll sidor som du vill genom att utforma HTML5/CSS-filer vid behov.</span><span class="sxs-lookup"><span data-stu-id="48cc0-114">You can provide as many content pages as you like by crafting HTML5/CSS files as appropriate.</span></span>

> [!NOTE]
> <span data-ttu-id="48cc0-115">Av säkerhetsskäl bör blockerat användningen av JavaScript för närvarande för anpassning.</span><span class="sxs-lookup"><span data-stu-id="48cc0-115">For security reasons, the use of JavaScript is currently blocked for customization.</span></span> <span data-ttu-id="48cc0-116">Användning av ett anpassat domännamn för din Azure AD B2C-klient krävs för att låsa upp JavaScript.</span><span class="sxs-lookup"><span data-stu-id="48cc0-116">To unblock JavaScript, use of a custom domain name for your Azure AD B2C tenant is needed.</span></span>

<span data-ttu-id="48cc0-117">Alla HTML5/CSS-mallar kan du ange en *fästpunkt* element som motsvarar de nödvändiga `<div id=”api”>` element i HTML eller sidan innehåll som visas nedan.</span><span class="sxs-lookup"><span data-stu-id="48cc0-117">In each of your HTML5/CSS templates, you provide an *anchor* element, which corresponds to the required `<div id=”api”>` element in the HTML or the content page as illustrate hereafter.</span></span> <span data-ttu-id="48cc0-118">Azure AD B2C kräver att alla sidor har den här specifika div.</span><span class="sxs-lookup"><span data-stu-id="48cc0-118">Azure AD B2C requires that all content pages have this specific div.</span></span>

```
<!DOCTYPE html>
<html>
  <head>
    <title>Your page content’s tile!</title>
  </head>
  <body>
    <div id="api"></div>
  </body>
</html>
```

<span data-ttu-id="48cc0-119">Azure AD B2C-relaterat innehåll på sidan matas in div, medan resten av sidan är din kontroll.</span><span class="sxs-lookup"><span data-stu-id="48cc0-119">Azure AD B2C-related content for the page will be injected into this div, while the rest of the page is yours to control.</span></span> <span data-ttu-id="48cc0-120">Azure AD B2C JavaScript-kod tar emot innehållet och lägger in våra HTML till den här specifika div-element.</span><span class="sxs-lookup"><span data-stu-id="48cc0-120">The Azure AD B2C’s JavaScript code pulls in your content and injects our HTML into this specific div element.</span></span> <span data-ttu-id="48cc0-121">Azure AD B2C lägger in följande kontroller efter behov: kontot Väljaren kontroll, inloggning kontroller, Multi-Factor (för närvarande telefon) kontroller och attributet samling kontroller.</span><span class="sxs-lookup"><span data-stu-id="48cc0-121">Azure AD B2C injects the following controls as appropriate: account chooser control, login controls, multi-factor (currently phone-based) controls, and attribute collection controls.</span></span> <span data-ttu-id="48cc0-122">Azure AD B2C garanterar att alla kontrollerna är HTML5 kompatibla och komma åt alla kontroller kan fullständigt formaterad och som en kontroll version kommer inte affärsmöjlighetens.</span><span class="sxs-lookup"><span data-stu-id="48cc0-122">Azure AD B2C ensures that all the controls are HTML5 compliant and accessible, all the controls can be fully styled, and that a control version will not regress.</span></span>

<span data-ttu-id="48cc0-123">Det sammanlagda innehållet visas slutligen som dynamiskt dokument till en förbrukare skapas.</span><span class="sxs-lookup"><span data-stu-id="48cc0-123">The merged content is eventually displayed as the dynamic document to your consumer.</span></span>

<span data-ttu-id="48cc0-124">För att säkerställa av ovan fungerar som förväntat, måste du:</span><span class="sxs-lookup"><span data-stu-id="48cc0-124">To ensure of the above works as expected, you must:</span></span>

- <span data-ttu-id="48cc0-125">Se till att ditt innehåll är HTML5 kompatibla och tillgänglig</span><span class="sxs-lookup"><span data-stu-id="48cc0-125">Ensure your content is HTML5 compliant and accessible</span></span>
- <span data-ttu-id="48cc0-126">Kontrollera innehållsservern har aktiverats för CORS.</span><span class="sxs-lookup"><span data-stu-id="48cc0-126">Ensure your content server is enabled for CORS.</span></span>
- <span data-ttu-id="48cc0-127">Hantera innehåll över HTTPS.</span><span class="sxs-lookup"><span data-stu-id="48cc0-127">Serve content over HTTPS.</span></span>
- <span data-ttu-id="48cc0-128">Använda absoluta URL: er, till exempel https://yourdomain/content för alla länkar och CSS-innehåll.</span><span class="sxs-lookup"><span data-stu-id="48cc0-128">Use absolute URLS such as https://yourdomain/content for all links and CSS content.</span></span>

> [!TIP]
> <span data-ttu-id="48cc0-129">Om du vill kontrollera att du är värd för ditt innehåll på platsen har CORS är aktiverat och testa CORS begäranden, kan du använda webbplatsen http://test-cors.org/.</span><span class="sxs-lookup"><span data-stu-id="48cc0-129">To verify that the site you are hosting your content on has CORS enabled and test CORS requests, you can use the site http://test-cors.org/.</span></span> <span data-ttu-id="48cc0-130">Tack vare den här platsen kan du bara skicka CORS-begäran till en fjärrserver (för att kontrollera om det finns stöd för CORS), eller skicka CORS-begäran till en testserver (för att utforska vissa funktioner i CORS).</span><span class="sxs-lookup"><span data-stu-id="48cc0-130">Thanks to this site, you can simply either send the CORS request to a remote server (to test if CORS is supported), or send the CORS request to a test server (to explore certain features of CORS).</span></span>

> [!TIP]
> <span data-ttu-id="48cc0-131">Plats-http://enable-cors.org/ innebär även en mer än användbara resurser på CORS.</span><span class="sxs-lookup"><span data-stu-id="48cc0-131">The site http://enable-cors.org/ also constitutes a more than useful resources on CORS.</span></span>

<span data-ttu-id="48cc0-132">Tack vare den här CORS-baserade metoden måste sedan slutanvändarna konsekvent upplevelse mellan ditt program och de sidor som hanteras av Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="48cc0-132">Thanks to this CORS-based approach, the end users will then have consistent experiences between your application and the pages served by Azure AD B2C.</span></span>

## <a name="create-a-storage-account"></a><span data-ttu-id="48cc0-133">skapar ett lagringskonto</span><span class="sxs-lookup"><span data-stu-id="48cc0-133">Create a storage account</span></span>

<span data-ttu-id="48cc0-134">Du måste skapa ett lagringskonto som ett krav.</span><span class="sxs-lookup"><span data-stu-id="48cc0-134">As a prerequisite, you need to create a storage account.</span></span> <span data-ttu-id="48cc0-135">Du behöver en Azure-prenumeration att skapa ett Azure Blob Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="48cc0-135">You will need an Azure subscription to create an Azure Blob Storage account.</span></span> <span data-ttu-id="48cc0-136">Du kan logga in en kostnadsfri utvärderingsversion på den [Azure-webbplatsen](https://azure.microsoft.com/en-us/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="48cc0-136">You can sign up a free trial at the [Azure website](https://azure.microsoft.com/en-us/pricing/free-trial/).</span></span>

1. <span data-ttu-id="48cc0-137">Öppna en webbläsarsession och navigera till den [Azure-portalen](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="48cc0-137">Open a browsing session and navigate to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="48cc0-138">Logga in med dina administratörsautentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="48cc0-138">Sign in with your administrative credentials.</span></span>
3. <span data-ttu-id="48cc0-139">Klicka på **ny** > **Data + lagring** > **lagringskonto**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-139">Click **New** > **Data + Storage** > **Storage account**.</span></span>  <span data-ttu-id="48cc0-140">En **skapa lagringskonto** blad öppnas.</span><span class="sxs-lookup"><span data-stu-id="48cc0-140">A **Create storage account** blade opens up.</span></span>
4. <span data-ttu-id="48cc0-141">I **namn**, ange ett namn för lagringskontot, till exempel *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="48cc0-141">In **Name**, provide a name for the storage account, for example, *contoso369b2c*.</span></span> <span data-ttu-id="48cc0-142">Det här värdet senare betecknas som *storageAccountName*.</span><span class="sxs-lookup"><span data-stu-id="48cc0-142">This value will be later referred as to *storageAccountName*.</span></span>
5. <span data-ttu-id="48cc0-143">Välj lämpliga val för prisnivån, resursgruppen och prenumerationen.</span><span class="sxs-lookup"><span data-stu-id="48cc0-143">Pick the appropriate selections for the pricing tier, the resource group and the subscription.</span></span> <span data-ttu-id="48cc0-144">Se till att du har den **fäst på startsidan** alternativet som är markerat.</span><span class="sxs-lookup"><span data-stu-id="48cc0-144">Make sure that you have the **Pin to Startboard** option checked.</span></span> <span data-ttu-id="48cc0-145">Klicka på **Skapa**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-145">Click **Create**.</span></span>
6. <span data-ttu-id="48cc0-146">Gå tillbaka till startsidan och klicka på det lagringskonto som du nyss skapade.</span><span class="sxs-lookup"><span data-stu-id="48cc0-146">Go back to the Startboard and click the storage account that you just created.</span></span>
7. <span data-ttu-id="48cc0-147">I den **Services** klickar du på **Blobbar**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-147">In the **Services** section, click **Blobs**.</span></span> <span data-ttu-id="48cc0-148">En **bladet för Blob-tjänsten** öppnas.</span><span class="sxs-lookup"><span data-stu-id="48cc0-148">A **Blob service blade** opens up.</span></span>
8. <span data-ttu-id="48cc0-149">Klicka på **+ behållare**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-149">Click **+ Container**.</span></span>
9. <span data-ttu-id="48cc0-150">I **namn**, ange ett namn för behållare, till exempel *b2c*.</span><span class="sxs-lookup"><span data-stu-id="48cc0-150">In **Name**, provide a name for the container, for example, *b2c*.</span></span> <span data-ttu-id="48cc0-151">Det här värdet kommer senare kallas *containerName*.</span><span class="sxs-lookup"><span data-stu-id="48cc0-151">This value will be later referred to as *containerName*.</span></span>
9. <span data-ttu-id="48cc0-152">Välj **Blob** som den **komma åt typen**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-152">Select **Blob** as the **Access type**.</span></span> <span data-ttu-id="48cc0-153">Klicka på **Skapa**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-153">Click **Create**.</span></span>
10. <span data-ttu-id="48cc0-154">Den behållare som du har skapat visas i listan på den **bladet för Blob-tjänsten**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-154">The container that you created will appear in the list on the **Blob service blade**.</span></span>
11. <span data-ttu-id="48cc0-155">Stäng den **Blobbar** bladet.</span><span class="sxs-lookup"><span data-stu-id="48cc0-155">Close the **Blobs** blade.</span></span>
12. <span data-ttu-id="48cc0-156">På den **lagring kontoblad**, klicka på den **nyckeln** ikon.</span><span class="sxs-lookup"><span data-stu-id="48cc0-156">On the **storage account blade**, click the **Key** icon.</span></span> <span data-ttu-id="48cc0-157">En **åtkomst nycklar bladet** öppnas.</span><span class="sxs-lookup"><span data-stu-id="48cc0-157">An **Access keys blade** opens up.</span></span>  
13. <span data-ttu-id="48cc0-158">Anteckna värdet för **key1**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-158">Write down the value of **key1**.</span></span> <span data-ttu-id="48cc0-159">Det här värdet kommer senare att anges som *key1*.</span><span class="sxs-lookup"><span data-stu-id="48cc0-159">This value will be later referred as *key1*.</span></span>

## <a name="downloading-the-helper-tool"></a><span data-ttu-id="48cc0-160">Hämta helper-verktyget</span><span class="sxs-lookup"><span data-stu-id="48cc0-160">Downloading the helper tool</span></span>

1.  <span data-ttu-id="48cc0-161">Hämta helper tool från [GitHub](https://github.com/azureadquickstarts/b2c-azureblobstorage-client/archive/master.zip).</span><span class="sxs-lookup"><span data-stu-id="48cc0-161">Download the helper tool from [GitHub](https://github.com/azureadquickstarts/b2c-azureblobstorage-client/archive/master.zip).</span></span>
2.  <span data-ttu-id="48cc0-162">Spara den *B2C-AzureBlobStorage-klient-master.zip* filen på den lokala datorn.</span><span class="sxs-lookup"><span data-stu-id="48cc0-162">Save the *B2C-AzureBlobStorage-Client-master.zip* file on your local machine.</span></span>
3.  <span data-ttu-id="48cc0-163">Extrahera innehållet i filen B2C-AzureBlobStorage-klient-master.zip på den lokala hårddisken, till exempel den **UI-anpassning-Pack** mapp.</span><span class="sxs-lookup"><span data-stu-id="48cc0-163">Extract the content of the B2C-AzureBlobStorage-Client-master.zip file on your local disk, for example under the **UI-Customization-Pack** folder.</span></span> <span data-ttu-id="48cc0-164">Detta skapar en *B2C-AzureBlobStorage-Client-master* mapp under.</span><span class="sxs-lookup"><span data-stu-id="48cc0-164">This will create a *B2C-AzureBlobStorage-Client-master* folder underneath.</span></span>
4.  <span data-ttu-id="48cc0-165">Öppna mappen och extrahera innehållet i arkivfilen *B2CAzureStorageClient.zip* i den.</span><span class="sxs-lookup"><span data-stu-id="48cc0-165">Open that folder and extract the content of the archive file *B2CAzureStorageClient.zip* within it.</span></span>

## <a name="upload-the-ui-customization-pack-sample-files"></a><span data-ttu-id="48cc0-166">Överför exempelfiler UI-anpassning-Pack</span><span class="sxs-lookup"><span data-stu-id="48cc0-166">Upload the UI-Customization-Pack sample files</span></span>

1.  <span data-ttu-id="48cc0-167">Utforskaren och navigera till mappen *B2C-AzureBlobStorage-Client-master* finns under den *UI-anpassning-Pack* mappen skapade i föregående avsnitt.</span><span class="sxs-lookup"><span data-stu-id="48cc0-167">Using Windows Explorer, navigate to the folder *B2C-AzureBlobStorage-Client-master* located under the *UI-Customization-Pack* folder created in the previous section.</span></span>
2.  <span data-ttu-id="48cc0-168">Kör den *B2CAzureStorageClient.exe* fil.</span><span class="sxs-lookup"><span data-stu-id="48cc0-168">Run the *B2CAzureStorageClient.exe* file.</span></span> <span data-ttu-id="48cc0-169">Det här programmet kommer bara ladda upp alla filer i katalogen som du anger till ditt lagringskonto och aktiverar CORS-åtkomst för dessa filer.</span><span class="sxs-lookup"><span data-stu-id="48cc0-169">This program will simply upload all the files in the directory that you specify to your storage account, and enable CORS access for those files.</span></span>
3.  <span data-ttu-id="48cc0-170">När du uppmanas, ange: en.</span><span class="sxs-lookup"><span data-stu-id="48cc0-170">When prompted, specify: a.</span></span>  <span data-ttu-id="48cc0-171">Namnet på ditt lagringskonto *storageAccountName*, till exempel *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="48cc0-171">The name of your storage account, *storageAccountName*, for example *contoso369b2c*.</span></span>
    <span data-ttu-id="48cc0-172">b.</span><span class="sxs-lookup"><span data-stu-id="48cc0-172">b.</span></span>  <span data-ttu-id="48cc0-173">Den primära åtkomstnyckeln för din azure blobblagring *key1*, till exempel *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="48cc0-173">The primary access key of your azure blob storage, *key1*, for example *contoso369b2c*.</span></span>
    <span data-ttu-id="48cc0-174">c.</span><span class="sxs-lookup"><span data-stu-id="48cc0-174">c.</span></span>  <span data-ttu-id="48cc0-175">Namnet på din lagring blobblagringsbehållare *containerName*, till exempel *b2c*.</span><span class="sxs-lookup"><span data-stu-id="48cc0-175">The name of your storage blob storage container, *containerName*, for example *b2c*.</span></span>
    <span data-ttu-id="48cc0-176">d.</span><span class="sxs-lookup"><span data-stu-id="48cc0-176">d.</span></span>  <span data-ttu-id="48cc0-177">Sökvägen till den *startpaket* exempelfiler, till exempel *... \B2CTemplates\wingtiptoys*.</span><span class="sxs-lookup"><span data-stu-id="48cc0-177">The path of the *Starter-Pack* sample files, for example *..\B2CTemplates\wingtiptoys*.</span></span>

<span data-ttu-id="48cc0-178">Om du följde stegen ovan HTML5 och CSS-filer för den *UI-anpassning-Pack* för det fiktiva företaget **VingspetsLeksaker** kommer nu att peka till ditt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="48cc0-178">If you followed the steps above, the HTML5 and CSS files of the *UI-Customization-Pack* for the fictitious company **wingtiptoys** will now be pointing to your storage account.</span></span>  <span data-ttu-id="48cc0-179">Du kan kontrollera att innehållet har överförts korrekt genom att öppna bladet relaterade behållare i Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="48cc0-179">You can verify that the content has been uploaded correctly by opening the related container blade in the Azure portal.</span></span> <span data-ttu-id="48cc0-180">Du kan också kontrollera att innehållet har överförts korrekt genom att öppna sidan i en webbläsare.</span><span class="sxs-lookup"><span data-stu-id="48cc0-180">You can alternatively verify that the content has been uploaded correctly by accessing the page from a browser.</span></span> <span data-ttu-id="48cc0-181">Mer information finns i [Azure Active Directory B2C: ett helper-verktyg som används för att visa användaren användargränssnittet (UI) anpassning funktionssidan](active-directory-b2c-reference-ui-customization-helper-tool.md).</span><span class="sxs-lookup"><span data-stu-id="48cc0-181">For more information, see [Azure Active Directory B2C: A helper tool used to demonstrate the page user interface (UI) customization feature](active-directory-b2c-reference-ui-customization-helper-tool.md).</span></span>

## <a name="ensure-the-storage-account-has-cors-enabled"></a><span data-ttu-id="48cc0-182">Se till att lagringskontot har CORS aktiverat</span><span class="sxs-lookup"><span data-stu-id="48cc0-182">Ensure the storage account has CORS enabled</span></span>

<span data-ttu-id="48cc0-183">CORS (Cross-Origin Resource Sharing) måste vara aktiverat på slutpunkten för Azure AD B2C Premium för att läsa in ditt innehåll.</span><span class="sxs-lookup"><span data-stu-id="48cc0-183">CORS (Cross-Origin Resource Sharing) must be enabled on your endpoint for Azure AD B2C Premium to load your content.</span></span> <span data-ttu-id="48cc0-184">Det beror på att innehållet finns på en annan domän än domänen Azure AD B2C Premium kommer betjänar sidan från.</span><span class="sxs-lookup"><span data-stu-id="48cc0-184">This is because your content is hosted on a different domain than the domain Azure AD B2C Premium will be serving the page from.</span></span>

<span data-ttu-id="48cc0-185">Om du vill kontrollera att den lagring som du är värd för ditt innehåll i har CORS är aktiverat, fortsätter du med följande steg:</span><span class="sxs-lookup"><span data-stu-id="48cc0-185">To verify that the storage you are hosting your content on has CORS enabled, proceed with the following steps:</span></span>

1. <span data-ttu-id="48cc0-186">Öppna en webbläsarsession och gå till sidan *unified.html* med dess plats i ditt lagringskonto, fullständig URL `https://<storageAccountName>.blob.core.windows.net/<containerName>/unified.html`.</span><span class="sxs-lookup"><span data-stu-id="48cc0-186">Open a browsing session and navigate to the page *unified.html* using the full URL of its location in your storage account, `https://<storageAccountName>.blob.core.windows.net/<containerName>/unified.html`.</span></span> <span data-ttu-id="48cc0-187">Till exempel https://contoso369b2c.blob.core.windows.net/b2c/unified.html.</span><span class="sxs-lookup"><span data-stu-id="48cc0-187">For example, https://contoso369b2c.blob.core.windows.net/b2c/unified.html.</span></span>
2. <span data-ttu-id="48cc0-188">Gå till http://test-cors.org.</span><span class="sxs-lookup"><span data-stu-id="48cc0-188">Navigate to http://test-cors.org.</span></span> <span data-ttu-id="48cc0-189">Den här platsen kan du kontrollera att den sida som du använder har CORS är aktiverat.</span><span class="sxs-lookup"><span data-stu-id="48cc0-189">This site allows you to verify that the page you are using has CORS enabled.</span></span>  
<!--
![test-cors.org](../../media/active-directory-b2c-customize-ui-of-a-user-journey/test-cors.png)
-->

3. <span data-ttu-id="48cc0-190">I **fjärr-URL**, ange en fullständig Webbadress för unified.html-innehåll och på **skicka begäran**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-190">In **Remote URL**, enter the full URL for your unified.html content, and click **Send Request**.</span></span>
4. <span data-ttu-id="48cc0-191">Kontrollera att resultatet i den **resultat** avsnittet innehåller *XHR status: 200*.</span><span class="sxs-lookup"><span data-stu-id="48cc0-191">Verify that the output in the **Results** section contains *XHR status: 200*.</span></span> <span data-ttu-id="48cc0-192">Detta anger att CORS är aktiverat.</span><span class="sxs-lookup"><span data-stu-id="48cc0-192">This indicates that CORS is enabled.</span></span>
<!--
![CORS enabled](../../media/active-directory-b2c-customize-ui-of-a-user-journey/cors-enabled.png)
-->
<span data-ttu-id="48cc0-193">Lagringskontot ska nu innehålla en blobbbehållare med namnet *b2c* i vår bild som innehåller följande VingspetsLeksaker mallar från den *startpaket*.</span><span class="sxs-lookup"><span data-stu-id="48cc0-193">The storage account should now contain a blob container named *b2c* in our illustration that contains the following wingtiptoys templates from the *Starter-Pack*.</span></span>

<!--
![Correctly configured storage account](../../articles/active-directory-b2c/media/active-directory-b2c-reference-customize-ui-custom/storage-account-final.png)
-->

<span data-ttu-id="48cc0-194">I följande tabell beskrivs syftet med ovan HTML5-sidor.</span><span class="sxs-lookup"><span data-stu-id="48cc0-194">The following table describes the purpose of the above HTML5 pages.</span></span>

| <span data-ttu-id="48cc0-195">HTML5-mall</span><span class="sxs-lookup"><span data-stu-id="48cc0-195">HTML5 template</span></span> | <span data-ttu-id="48cc0-196">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="48cc0-196">Description</span></span> |
|----------------|-------------|
| <span data-ttu-id="48cc0-197">*phonefactor.HTML*</span><span class="sxs-lookup"><span data-stu-id="48cc0-197">*phonefactor.html*</span></span> | <span data-ttu-id="48cc0-198">Den här sidan kan användas som en mall för en multifaktorautentiseringssidan.</span><span class="sxs-lookup"><span data-stu-id="48cc0-198">This page can be used as a template for a multi-factor authentication page.</span></span> |
| <span data-ttu-id="48cc0-199">*ResetPassword.HTML*</span><span class="sxs-lookup"><span data-stu-id="48cc0-199">*resetpassword.html*</span></span> | <span data-ttu-id="48cc0-200">Den här sidan kan användas som en mall för en glömt lösenord.</span><span class="sxs-lookup"><span data-stu-id="48cc0-200">This page can be used as a template for a forgot password page.</span></span> |
| <span data-ttu-id="48cc0-201">*selfasserted.HTML*</span><span class="sxs-lookup"><span data-stu-id="48cc0-201">*selfasserted.html*</span></span> | <span data-ttu-id="48cc0-202">Den här sidan kan användas som en mall för en sociala konto registreringssidan, registreringssidan för lokalt konto eller ett lokalt konto-inloggningssida.</span><span class="sxs-lookup"><span data-stu-id="48cc0-202">This page can be used as a template for a social account sign-up page, a local account sign-up page, or a local account sign-in page.</span></span> |
| <span data-ttu-id="48cc0-203">*Unified.HTML*</span><span class="sxs-lookup"><span data-stu-id="48cc0-203">*unified.html*</span></span> | <span data-ttu-id="48cc0-204">Den här sidan kan användas som en mall för ett enhetlig registrering eller inloggning.</span><span class="sxs-lookup"><span data-stu-id="48cc0-204">This page can be used as a template for a unified sign-up or sign-in page.</span></span> |
| <span data-ttu-id="48cc0-205">*updateprofile.HTML*</span><span class="sxs-lookup"><span data-stu-id="48cc0-205">*updateprofile.html*</span></span> | <span data-ttu-id="48cc0-206">Den här sidan kan användas som en mall för en uppdatering profilsida.</span><span class="sxs-lookup"><span data-stu-id="48cc0-206">This page can be used as a template for a profile update page.</span></span> |

## <a name="add-a-link-to-your-html5css-templates-to-your-user-journey"></a><span data-ttu-id="48cc0-207">Lägga till en länk i HTML5/CSS-mallar för att dina användare resa</span><span class="sxs-lookup"><span data-stu-id="48cc0-207">Add a link to your HTML5/CSS templates to your user journey</span></span>

<span data-ttu-id="48cc0-208">Du kan lägga till en länk till HTML5/CSS-mallar resa dina användare genom att redigera en anpassad princip direkt.</span><span class="sxs-lookup"><span data-stu-id="48cc0-208">You can add a link to your HTML5/CSS templates to your user journey by editing a custom policy directly.</span></span>

<span data-ttu-id="48cc0-209">Anpassade HTML5/CSS-mallar för användning i din användare resa måste anges i en lista över definitioner av innehåll som kan användas i dessa användare resor.</span><span class="sxs-lookup"><span data-stu-id="48cc0-209">The custom HTML5/CSS templates to use in your user journey have to be specified in a list of content definitions that can be used in those user journeys.</span></span> <span data-ttu-id="48cc0-210">För detta ändamål, en valfri  *<ContentDefinitions>*  XML-elementet måste deklareras den  *<BuildingBlocks>*  avsnitt i anpassade princip-XML-fil.</span><span class="sxs-lookup"><span data-stu-id="48cc0-210">For that purpose, an optional *<ContentDefinitions>* XML element must be declared under the *<BuildingBlocks>* section of your custom policy XML file.</span></span>

<span data-ttu-id="48cc0-211">Följande tabell beskriver uppsättningen innehållsdefinitionen-ID: n som identifieras av Azure AD B2C identitet experience-motorn och vilken typ av sidor som gäller för dem.</span><span class="sxs-lookup"><span data-stu-id="48cc0-211">The following table describes the set of content definition ids recognized by the Azure AD B2C identity experience engine and the type of pages that relates to them.</span></span>

| <span data-ttu-id="48cc0-212">Innehålls-ID: n</span><span class="sxs-lookup"><span data-stu-id="48cc0-212">Content definition id</span></span> | <span data-ttu-id="48cc0-213">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="48cc0-213">Description</span></span> |
|-----------------------|-------------|
| <span data-ttu-id="48cc0-214">*API.Error*</span><span class="sxs-lookup"><span data-stu-id="48cc0-214">*api.error*</span></span> | <span data-ttu-id="48cc0-215">**Felsidan**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-215">**Error page**.</span></span> <span data-ttu-id="48cc0-216">Den här sidan visas när ett undantagsfel eller ett fel har påträffats.</span><span class="sxs-lookup"><span data-stu-id="48cc0-216">This page is displayed when an exception or an error is encountered.</span></span> |
| <span data-ttu-id="48cc0-217">*API.idpselections*</span><span class="sxs-lookup"><span data-stu-id="48cc0-217">*api.idpselections*</span></span> | <span data-ttu-id="48cc0-218">**Identity-providern på sidan**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-218">**Identity provider selection page**.</span></span> <span data-ttu-id="48cc0-219">Den här sidan innehåller en lista över identitetsleverantörer som användaren kan välja från under inloggningen.</span><span class="sxs-lookup"><span data-stu-id="48cc0-219">This page contains a list of identity providers that the user can choose from during sign-in.</span></span> <span data-ttu-id="48cc0-220">Är detta enterprise identitetsleverantörer, sociala identitetsleverantörer, till exempel Facebook och Google + eller lokala konton (baserat på e-adress eller användare).</span><span class="sxs-lookup"><span data-stu-id="48cc0-220">These are either enterprise identity providers, social identity providers such as Facebook and Google+, or local accounts (based on email address or user name).</span></span> |
| <span data-ttu-id="48cc0-221">*API.idpselections.Signup*</span><span class="sxs-lookup"><span data-stu-id="48cc0-221">*api.idpselections.signup*</span></span> | <span data-ttu-id="48cc0-222">**Identitet providern val för registrering**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-222">**Identity provider selection for sign-up**.</span></span> <span data-ttu-id="48cc0-223">Den här sidan innehåller en lista över identitetsleverantörer som användaren kan välja bland under registreringen.</span><span class="sxs-lookup"><span data-stu-id="48cc0-223">This page contains a list of identity providers that the user can choose from during sign-up.</span></span> <span data-ttu-id="48cc0-224">Är detta enterprise identitetsleverantörer, sociala identitetsleverantörer, till exempel Facebook och Google + eller lokala konton (baserat på e-adress eller användare).</span><span class="sxs-lookup"><span data-stu-id="48cc0-224">These are either enterprise identity providers, social identity providers such as Facebook and Google+, or local accounts (based on email address or user name).</span></span> |
| <span data-ttu-id="48cc0-225">*API.localaccountpasswordreset*</span><span class="sxs-lookup"><span data-stu-id="48cc0-225">*api.localaccountpasswordreset*</span></span> | <span data-ttu-id="48cc0-226">**Har du glömt lösenordssidan**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-226">**Forgot password page**.</span></span> <span data-ttu-id="48cc0-227">Den här sidan innehåller ett formulär med användaren att fylla för att initiera sina återställning av lösenord.</span><span class="sxs-lookup"><span data-stu-id="48cc0-227">This page contains a form that the user has to fill to initiate their password reset.</span></span>  |
| <span data-ttu-id="48cc0-228">*API.localaccountsignin*</span><span class="sxs-lookup"><span data-stu-id="48cc0-228">*api.localaccountsignin*</span></span> | <span data-ttu-id="48cc0-229">**Lokalt konto inloggningssidan**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-229">**Local account sign-in page**.</span></span> <span data-ttu-id="48cc0-230">Den här sidan innehåller en inloggning formulär med användaren att fylla i när du loggar in med ett lokalt konto som baseras på en e-postadress eller ett användarnamn.</span><span class="sxs-lookup"><span data-stu-id="48cc0-230">This page contains a sign-in form that the user has to fill in when signing in with a local account that is based on an email address or a user name.</span></span> <span data-ttu-id="48cc0-231">Formuläret kan innehålla en textruta och inmatningsfält för lösenord.</span><span class="sxs-lookup"><span data-stu-id="48cc0-231">The form can contain a text input box and password entry box.</span></span> |
| <span data-ttu-id="48cc0-232">*API.localaccountsignup*</span><span class="sxs-lookup"><span data-stu-id="48cc0-232">*api.localaccountsignup*</span></span> | <span data-ttu-id="48cc0-233">**Lokalt konto registreringssidan**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-233">**Local account sign-up page**.</span></span> <span data-ttu-id="48cc0-234">Den här sidan innehåller en registreringsformuläret som användaren har för att fylla i när du registrerar dig för ett lokalt konto som baseras på en e-postadress eller ett användarnamn.</span><span class="sxs-lookup"><span data-stu-id="48cc0-234">This page contains a sign-up form that the user has to fill in when signing up for a local account that is based on an email address or a user name.</span></span> <span data-ttu-id="48cc0-235">Formuläret kan innehålla olika inkommande kontroller, till exempel textrutan inmatningsfält för lösenord, knappen, enkelval listrutorna och välja flera kryssrutor.</span><span class="sxs-lookup"><span data-stu-id="48cc0-235">The form can contain different input controls such as text input box, password entry box, radio button, single-select drop-down boxes, and multi-select check boxes.</span></span> |
| <span data-ttu-id="48cc0-236">*API.phonefactor*</span><span class="sxs-lookup"><span data-stu-id="48cc0-236">*api.phonefactor*</span></span> | <span data-ttu-id="48cc0-237">**Multifaktorautentiseringssidan**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-237">**Multi-factor authentication page**.</span></span> <span data-ttu-id="48cc0-238">Användare kan verifiera sina telefonnummer (med text eller röst) under registrering eller inloggning på den här sidan.</span><span class="sxs-lookup"><span data-stu-id="48cc0-238">On this page, users can verify their phone numbers (using text or voice) during sign-up or sign-in.</span></span> |
| <span data-ttu-id="48cc0-239">*API.selfasserted*</span><span class="sxs-lookup"><span data-stu-id="48cc0-239">*api.selfasserted*</span></span> | <span data-ttu-id="48cc0-240">**Sociala konto registreringssidan**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-240">**Social account sign-up page**.</span></span> <span data-ttu-id="48cc0-241">Den här sidan innehåller en registreringsformuläret som användaren har för att fylla i när du loggar in med ett befintligt konto från en sociala identitetsleverantören, till exempel Facebook eller Google +.</span><span class="sxs-lookup"><span data-stu-id="48cc0-241">This page contains a sign-up form that the user has to fill in when signing up using an existing account from a social identity provider such as Facebook or Google+.</span></span> <span data-ttu-id="48cc0-242">Den här sidan liknar ovan social konto registreringssidan med undantag för lösenordet fält.</span><span class="sxs-lookup"><span data-stu-id="48cc0-242">This page is similar to the above social account sign-up page with the exception of the password entry fields.</span></span> |
| <span data-ttu-id="48cc0-243">*API.selfasserted.profileupdate*</span><span class="sxs-lookup"><span data-stu-id="48cc0-243">*api.selfasserted.profileupdate*</span></span> | <span data-ttu-id="48cc0-244">**Uppdatera profilsida**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-244">**Profile update page**.</span></span> <span data-ttu-id="48cc0-245">Den här sidan innehåller ett formulär som användaren kan använda för att uppdatera sin profil.</span><span class="sxs-lookup"><span data-stu-id="48cc0-245">This page contains a form that the user can use to update their profile.</span></span> <span data-ttu-id="48cc0-246">Den här sidan liknar ovan social konto registreringssidan med undantag för lösenordet fält.</span><span class="sxs-lookup"><span data-stu-id="48cc0-246">This page is similar to the above social account sign-up page with the exception of the password entry fields.</span></span> |
| <span data-ttu-id="48cc0-247">*API.signuporsignin*</span><span class="sxs-lookup"><span data-stu-id="48cc0-247">*api.signuporsignin*</span></span> | <span data-ttu-id="48cc0-248">**Enhetlig registrering eller inloggning sidan**.</span><span class="sxs-lookup"><span data-stu-id="48cc0-248">**Unified sign-up or sign-in page**.</span></span>  <span data-ttu-id="48cc0-249">Den här sidan hanterar både registrering och inloggning av användare som kan använda enterprise identitetsleverantörer, sociala identitetsleverantörer, till exempel Facebook eller Google + eller lokala konton.</span><span class="sxs-lookup"><span data-stu-id="48cc0-249">This page handles both sign-up & sign-in of users, who can use enterprise identity providers, social identity providers such as Facebook or Google+, or local accounts.</span></span>

## <a name="next-steps"></a><span data-ttu-id="48cc0-250">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="48cc0-250">Next steps</span></span>
[<span data-ttu-id="48cc0-251">Referens: Förstå hur anpassade principer arbeta med Identity upplevelse ramverk i B2C</span><span class="sxs-lookup"><span data-stu-id="48cc0-251">Reference: Understand how custom policies work with the Identity Experience Framework in B2C</span></span>](active-directory-b2c-reference-custom-policies-understanding-contents.md)
