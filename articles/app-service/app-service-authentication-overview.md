---
title: aaaAuthentication och auktorisering i Azure App Service | Microsoft Docs
description: "Konceptuell referens- och översikt över hello autentisering / auktorisering funktion för Azure App Service"
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: b7151b57-09e5-4c77-a10c-375a262f17e5
ms.service: app-service
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 08/29/2016
ms.author: mahender
ms.openlocfilehash: dc2074b16cce47b72b78ea7afeda89dbc4832166
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="authentication-and-authorization-in-azure-app-service"></a><span data-ttu-id="dac79-103">Autentisering och auktorisering i Azure App Service</span><span class="sxs-lookup"><span data-stu-id="dac79-103">Authentication and authorization in Azure App Service</span></span>
## <a name="what-is-app-service-authentication--authorization"></a><span data-ttu-id="dac79-104">Vad är App Service autentisering / auktorisering?</span><span class="sxs-lookup"><span data-stu-id="dac79-104">What is App Service Authentication / Authorization?</span></span>
<span data-ttu-id="dac79-105">App Service autentisering / auktorisering är en funktion som gör det möjligt för dina program toosign användare så att du inte har toochange kod på hello-appserverdelen.</span><span class="sxs-lookup"><span data-stu-id="dac79-105">App Service Authentication / Authorization is a feature that provides a way for your application toosign in users so that you don't have toochange code on hello app backend.</span></span> <span data-ttu-id="dac79-106">Det ger ett enkelt sätt tooprotect programmet och arbete data per användare.</span><span class="sxs-lookup"><span data-stu-id="dac79-106">It provides an easy way tooprotect your application and work with per-user data.</span></span>

<span data-ttu-id="dac79-107">Apptjänst använder federerad identitet, där en tredjeparts identitetsprovider lagrar konton och autentiserar användare.</span><span class="sxs-lookup"><span data-stu-id="dac79-107">App Service uses federated identity, in which a third-party identity provider stores accounts and authenticates users.</span></span> <span data-ttu-id="dac79-108">hello programmet beroende hello providern identitetsinformation så att hello app saknar toostore sådan information.</span><span class="sxs-lookup"><span data-stu-id="dac79-108">hello application relies on hello provider's identity information so that hello app doesn't have toostore that information itself.</span></span> <span data-ttu-id="dac79-109">Apptjänst fem identitetsleverantörer out of box hello: Azure Active Directory, Facebook, Google, Account och Twitter.</span><span class="sxs-lookup"><span data-stu-id="dac79-109">App Service supports five identity providers out of hello box: Azure Active Directory, Facebook, Google, Microsoft Account, and Twitter.</span></span> <span data-ttu-id="dac79-110">Din app kan använda valfritt antal dessa identitet providers tooprovide användarna med alternativ för hur de loggar in.</span><span class="sxs-lookup"><span data-stu-id="dac79-110">Your app can use any number of these identity providers tooprovide your users with options for how they sign in.</span></span> <span data-ttu-id="dac79-111">tooexpand hello inbyggt stöd kan du integrera en annan identitetsleverantör eller [egna anpassade identitetslösning][custom-auth].</span><span class="sxs-lookup"><span data-stu-id="dac79-111">tooexpand hello built-in support, you can integrate another identity provider or [your own custom identity solution][custom-auth].</span></span>

<span data-ttu-id="dac79-112">Om du vill tooget igång direkt, finns i hello följande kurser:</span><span class="sxs-lookup"><span data-stu-id="dac79-112">If you want tooget started right away, see one of hello following tutorials:</span></span>

* <span data-ttu-id="dac79-113">[Lägg till iOS-app för autentisering tooyour] [ iOS] (eller [Android], [Windows], [Xamarin.iOS], [ Xamarin.Android], [Xamarin.Forms], eller [Cordova])</span><span class="sxs-lookup"><span data-stu-id="dac79-113">[Add authentication tooyour iOS app][iOS] (or [Android], [Windows], [Xamarin.iOS], [Xamarin.Android], [Xamarin.Forms], or [Cordova])</span></span>
* <span data-ttu-id="dac79-114">[Användarautentisering för API Apps i Azure App Service][apia-user]</span><span class="sxs-lookup"><span data-stu-id="dac79-114">[User authentication for API Apps in Azure App Service][apia-user]</span></span>
* <span data-ttu-id="dac79-115">[Kom igång med Azure App Service - del 2][web-getstarted]</span><span class="sxs-lookup"><span data-stu-id="dac79-115">[Get started with Azure App Service - Part 2][web-getstarted]</span></span>

## <a name="how-authentication-works-in-app-service"></a><span data-ttu-id="dac79-116">Hur autentisering fungerar i App Service</span><span class="sxs-lookup"><span data-stu-id="dac79-116">How authentication works in App Service</span></span>
<span data-ttu-id="dac79-117">I ordning tooauthenticate genom att använda en hello identitetsleverantörer, måste du först tooconfigure hello identitet providern tooknow för om ditt program.</span><span class="sxs-lookup"><span data-stu-id="dac79-117">In order tooauthenticate by using one of hello identity providers, you first need tooconfigure hello identity provider tooknow about your application.</span></span> <span data-ttu-id="dac79-118">hello identitetsleverantör sedan ger-ID: N och hemligheter som du anger tooApp Service.</span><span class="sxs-lookup"><span data-stu-id="dac79-118">hello identity provider will then provide IDs and secrets that you provide tooApp Service.</span></span> <span data-ttu-id="dac79-119">Detta avslutar hello förtroenderelation så att Apptjänst kan validera intyg för användaren, till exempel autentiseringstoken från hello identitetsleverantören.</span><span class="sxs-lookup"><span data-stu-id="dac79-119">This completes hello trust relationship so that App Service can validate user assertions, such as authentication tokens, from hello identity provider.</span></span>

<span data-ttu-id="dac79-120">toosign i en användare med någon av dessa providers hello användaren måste vara omdirigerade tooan slutpunkt som loggar in användare för providern.</span><span class="sxs-lookup"><span data-stu-id="dac79-120">toosign in a user by using one of these providers, hello user must be redirected tooan endpoint that signs in users for that provider.</span></span> <span data-ttu-id="dac79-121">Om kunder använder en webbläsare måste ha du Apptjänst automatiskt dirigera alla toohello slutpunkt för oautentiserade användare som loggar in användare.</span><span class="sxs-lookup"><span data-stu-id="dac79-121">If customers are using a web browser, you can have App Service automatically direct all unauthenticated users toohello endpoint that signs in users.</span></span> <span data-ttu-id="dac79-122">I annat fall måste toodirect kunderna för`{your App Service base URL}/.auth/login/<provider>`, där `<provider>` är ett av följande värden hello: aad, facebook, google, microsoft eller twitter.</span><span class="sxs-lookup"><span data-stu-id="dac79-122">Otherwise, you will need toodirect your customers too`{your App Service base URL}/.auth/login/<provider>`, where `<provider>` is one of hello following values: aad, facebook, google, microsoft, or twitter.</span></span> <span data-ttu-id="dac79-123">Mobil- och API-scenarier beskrivs i avsnitten nedan.</span><span class="sxs-lookup"><span data-stu-id="dac79-123">Mobile and API scenarios are explained in sections later in this article.</span></span>

<span data-ttu-id="dac79-124">Användare som interagerar med ditt program via en webbläsare har en cookie så att de kan vara autentiserade när de surfar ditt program.</span><span class="sxs-lookup"><span data-stu-id="dac79-124">Users who interact with your application through a web browser will have a cookie set so that they can remain authenticated as they browse your application.</span></span> <span data-ttu-id="dac79-125">För andra klienttyper, till exempel mobile, en JSON web token (JWT) som ska visas i hello `X-ZUMO-AUTH` sidhuvud, utfärdas toohello klienten.</span><span class="sxs-lookup"><span data-stu-id="dac79-125">For other client types, such as mobile, a JSON web token (JWT), which should be presented in hello `X-ZUMO-AUTH` header, will be issued toohello client.</span></span> <span data-ttu-id="dac79-126">hello Mobile Apps klienten SDK hantera det åt dig.</span><span class="sxs-lookup"><span data-stu-id="dac79-126">hello Mobile Apps client SDKs will handle this for you.</span></span> <span data-ttu-id="dac79-127">Du kan också en token som Azure Active Directory identitet och åtkomst-token kan direkt ingå i hello `Authorization` huvud som en [ägartoken](https://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="dac79-127">Alternatively, an Azure Active Directory identity token or access token may be directly included in hello `Authorization` header as a [bearer token](https://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="dac79-128">Apptjänst validerar alla cookie eller token att tillämpningsprogrammet utfärdar tooauthenticate användare.</span><span class="sxs-lookup"><span data-stu-id="dac79-128">App Service will validate any cookie or token that your application issues tooauthenticate users.</span></span> <span data-ttu-id="dac79-129">toorestrict som har åtkomst till ditt program finns hello [auktorisering](#authorization) senare i den här artikeln.</span><span class="sxs-lookup"><span data-stu-id="dac79-129">toorestrict who can access your application, see hello [Authorization](#authorization) section later in this article.</span></span>

### <a name="mobile-authentication-with-a-provider-sdk"></a><span data-ttu-id="dac79-130">Mobila autentisering med en SDK-provider</span><span class="sxs-lookup"><span data-stu-id="dac79-130">Mobile authentication with a provider SDK</span></span>
<span data-ttu-id="dac79-131">När allting har konfigurerats på hello serverdel kan ändra du mobila klienter toosign in med App Service.</span><span class="sxs-lookup"><span data-stu-id="dac79-131">After everything is configured on hello backend, you can modify mobile clients toosign in with App Service.</span></span> <span data-ttu-id="dac79-132">Det finns två tillvägagångssätt här:</span><span class="sxs-lookup"><span data-stu-id="dac79-132">There are two approaches here:</span></span>

* <span data-ttu-id="dac79-133">Använda en SDK att en given identitetsleverantör publicerar tooestablish identitet och sedan får åtkomst tooApp Service.</span><span class="sxs-lookup"><span data-stu-id="dac79-133">Use an SDK that a given identity provider publishes tooestablish identity and then gain access tooApp Service.</span></span>
* <span data-ttu-id="dac79-134">Använda en enda rad kod så att hello Mobile Apps klientdatorer SDK kan logga in användare.</span><span class="sxs-lookup"><span data-stu-id="dac79-134">Use a single line of code so that hello Mobile Apps client SDK can sign in users.</span></span>

> [!TIP]
> <span data-ttu-id="dac79-135">De flesta program ska använda en provider SDK tooget en mer konsekvent användarupplevelse när användare loggar in, toouse uppdatera support och tooget andra fördelar hello providern anger.</span><span class="sxs-lookup"><span data-stu-id="dac79-135">Most applications should use a provider SDK tooget a more consistent experience when users sign in, toouse refresh support, and tooget other benefits that hello provider specifies.</span></span>
> 
> 

<span data-ttu-id="dac79-136">När du använder en provider SDK och användarna kan logga in körs tooan upplevelse som är integrerat mer med hello operativsystem hello appen på.</span><span class="sxs-lookup"><span data-stu-id="dac79-136">When you use a provider SDK, users can sign in tooan experience that integrates more tightly with hello operating system that hello app is running on.</span></span> <span data-ttu-id="dac79-137">Detta ger dig också en provider-token och viss användarinformation på hello-klienten, vilket gör det mycket enklare tooconsume graph API: er och anpassa hello användarupplevelsen.</span><span class="sxs-lookup"><span data-stu-id="dac79-137">This also gives you a provider token and some user information on hello client, which makes it much easier tooconsume graph APIs and customize hello user experience.</span></span> <span data-ttu-id="dac79-138">Du ser den här hänvisade tooas hello ”flödet” eller ”klienten dirigeras flödet” eftersom koden på hello-klient loggar in användare och hello klientkod har åtkomsttoken tooa providern ibland på bloggar och forum.</span><span class="sxs-lookup"><span data-stu-id="dac79-138">Occasionally on blogs and forums, you will see this referred tooas hello "client flow" or "client-directed flow" because code on hello client signs in users, and hello client code has access tooa provider token.</span></span>

<span data-ttu-id="dac79-139">När en provider-token har fått måste toobe skickas tooApp Service för verifiering.</span><span class="sxs-lookup"><span data-stu-id="dac79-139">After a provider token is obtained, it needs toobe sent tooApp Service for validation.</span></span> <span data-ttu-id="dac79-140">När Apptjänst verifierar hello token, skapas en ny App Service-token som returneras toohello klienten App Service.</span><span class="sxs-lookup"><span data-stu-id="dac79-140">After App Service validates hello token, App Service creates a new App Service token that is returned toohello client.</span></span> <span data-ttu-id="dac79-141">hello Mobile Apps klient SDK har helper metoder toomanage detta utbyte och koppla automatiskt hello token tooall begäranden toohello programmet backend.</span><span class="sxs-lookup"><span data-stu-id="dac79-141">hello Mobile Apps client SDK has helper methods toomanage this exchange and automatically attach hello token tooall requests toohello application backend.</span></span> <span data-ttu-id="dac79-142">Utvecklare kan också behålla en referens toohello providern token om de vill.</span><span class="sxs-lookup"><span data-stu-id="dac79-142">Developers can also keep a reference toohello provider token if they so choose.</span></span>

### <a name="mobile-authentication-without-a-provider-sdk"></a><span data-ttu-id="dac79-143">Mobila autentisering utan en SDK-provider</span><span class="sxs-lookup"><span data-stu-id="dac79-143">Mobile authentication without a provider SDK</span></span>
<span data-ttu-id="dac79-144">Om du inte vill att tooset upp en provider SDK kan du tillåta hello Mobile Apps-funktionen i Azure App Service toosign i åt dig.</span><span class="sxs-lookup"><span data-stu-id="dac79-144">If you do not want tooset up a provider SDK, you can allow hello Mobile Apps feature of Azure App Service toosign in for you.</span></span> <span data-ttu-id="dac79-145">hello Mobile Apps klient-SDK ska öppna en web visa toohello leverantör du väljer och logga in hello användare.</span><span class="sxs-lookup"><span data-stu-id="dac79-145">hello Mobile Apps client SDK will open a web view toohello provider of your choosing and sign in hello user.</span></span> <span data-ttu-id="dac79-146">Ibland på bloggar och forum kommer att se den här hänvisade tooas hello ”server flödet” eller ”server-riktade flödet” eftersom hello-servern hanterar hello process som loggar in användare och hello klient-SDK får aldrig hello providern token.</span><span class="sxs-lookup"><span data-stu-id="dac79-146">Occasionally on blogs and forums, you will see this referred tooas hello "server flow" or "server-directed flow" because hello server manages hello process that signs in users, and hello client SDK never receives hello provider token.</span></span>

<span data-ttu-id="dac79-147">Felkod toostart detta flöde är inkluderad i hello autentisering självstudier för varje plattform.</span><span class="sxs-lookup"><span data-stu-id="dac79-147">Code toostart this flow is included in hello authentication tutorial for each platform.</span></span> <span data-ttu-id="dac79-148">Hello slutet av hello flödet, hello klient-SDK har en Apptjänst-token och hello token är automatiskt bifogade tooall begäranden toohello programmet backend.</span><span class="sxs-lookup"><span data-stu-id="dac79-148">At hello end of hello flow, hello client SDK has an App Service token, and hello token is automatically attached tooall requests toohello application backend.</span></span>

### <a name="service-to-service-authentication"></a><span data-ttu-id="dac79-149">Tjänst-till-tjänst-autentisering</span><span class="sxs-lookup"><span data-stu-id="dac79-149">Service-to-service authentication</span></span>
<span data-ttu-id="dac79-150">Även om du kan ge användare åtkomst tooyour programmet, kan du också lita på ett annat program toocall egna API.</span><span class="sxs-lookup"><span data-stu-id="dac79-150">Although you can give users access tooyour application, you can also trust another application toocall your own API.</span></span> <span data-ttu-id="dac79-151">Du kan till exempel ha en webbapp som en API-anrop i ett annat webbprogram.</span><span class="sxs-lookup"><span data-stu-id="dac79-151">For example, you could have one web app call an API in another web app.</span></span> <span data-ttu-id="dac79-152">I det här scenariot använder du autentiseringsuppgifter för ett tjänstkonto i stället för användarens autentiseringsuppgifter tooget en token.</span><span class="sxs-lookup"><span data-stu-id="dac79-152">In this scenario, you use credentials for a service account instead of user credentials tooget a token.</span></span> <span data-ttu-id="dac79-153">Ett tjänstkonto kallas även en *tjänstens huvudnamn* i Azure Active Directory kallas och autentisering som använder sådant konto kallas även ett scenario med tjänst-till-tjänst.</span><span class="sxs-lookup"><span data-stu-id="dac79-153">A service account is also known as a *service principal* in Azure Active Directory parlance, and authentication that uses such an account is also known as a service-to-service scenario.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="dac79-154">Eftersom mobila appar körs på kunden enheter, mobilprogram gör *inte* räknas som betrodda program och bör inte använda ett service principal flöde.</span><span class="sxs-lookup"><span data-stu-id="dac79-154">Because mobile apps run on customer devices, mobile applications do *not* count as trusted applications and should not use a service principal flow.</span></span> <span data-ttu-id="dac79-155">De ska i stället använda ett flöde för användare som har beskrivs ovan.</span><span class="sxs-lookup"><span data-stu-id="dac79-155">Instead, they should use a user flow that was detailed earlier.</span></span>
> 
> 

<span data-ttu-id="dac79-156">Scenarier med service to service kan Apptjänst skydda ditt program med hjälp av Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="dac79-156">For service-to-service scenarios, App Service can protect your application by using Azure Active Directory.</span></span> <span data-ttu-id="dac79-157">hello anropande programmet måste bara tooprovide en Azure Active Directory service principal autentiseringstoken som erhålls genom att ange hello klient-ID och hemliga från Azure Active Directory-klient.</span><span class="sxs-lookup"><span data-stu-id="dac79-157">hello calling application just needs tooprovide an Azure Active Directory service principal authorization token that is obtained by providing hello client ID and client secret from Azure Active Directory.</span></span> <span data-ttu-id="dac79-158">Ett exempel på det här scenariot som använder ASP.NET API-appar beskrivs av hello kursen [Service principal autentisering för API Apps][apia-service].</span><span class="sxs-lookup"><span data-stu-id="dac79-158">An example of this scenario that uses ASP.NET API apps is explained by hello tutorial, [Service principal authentication for API Apps][apia-service].</span></span>

<span data-ttu-id="dac79-159">Om du vill toouse Apptjänst autentisering toohandle ett scenario med tjänst-till-tjänst kan använda du klientcertifikat eller grundläggande autentisering.</span><span class="sxs-lookup"><span data-stu-id="dac79-159">If you want toouse App Service authentication toohandle a service-to-service scenario, you can use client certificates or basic authentication.</span></span> <span data-ttu-id="dac79-160">Information om klientcertifikat i Azure finns [hur tooConfigure TLS ömsesidig autentisering för Web Apps](../app-service-web/app-service-web-configure-tls-mutual-auth.md).</span><span class="sxs-lookup"><span data-stu-id="dac79-160">For information about client certificates in Azure, see [How tooConfigure TLS Mutual Authentication for Web Apps](../app-service-web/app-service-web-configure-tls-mutual-auth.md).</span></span> <span data-ttu-id="dac79-161">Information om grundläggande autentisering i ASP.NET finns [autentisering filter i ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/authentication-filters).</span><span class="sxs-lookup"><span data-stu-id="dac79-161">For information about basic authentication in ASP.NET, see [Authentication Filters in ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/authentication-filters).</span></span>

<span data-ttu-id="dac79-162">Autentiseringen av tjänsten konto från en Apptjänst logic app tooan API-app är ett specialfall som beskrivs i [använda anpassat API som finns på Apptjänst med Logic apps](../logic-apps/logic-apps-custom-hosted-api.md).</span><span class="sxs-lookup"><span data-stu-id="dac79-162">Service account authentication from an App Service logic app tooan API app is a special case that is detailed in [Using your custom API hosted on App Service with Logic apps](../logic-apps/logic-apps-custom-hosted-api.md).</span></span>

## <span data-ttu-id="dac79-163"><a name="authorization"></a>Så här fungerar auktorisering i Apptjänst</span><span class="sxs-lookup"><span data-stu-id="dac79-163"><a name="authorization"></a>How authorization works in App Service</span></span>
<span data-ttu-id="dac79-164">Har du fullständig kontroll över hello-begäranden som har åtkomst till ditt program.</span><span class="sxs-lookup"><span data-stu-id="dac79-164">You have full control over hello requests that can access your application.</span></span> <span data-ttu-id="dac79-165">App Service autentisering / auktorisering kan konfigureras med någon av följande beteenden hello:</span><span class="sxs-lookup"><span data-stu-id="dac79-165">App Service Authentication / Authorization can be configured with any of hello following behaviors:</span></span>

* <span data-ttu-id="dac79-166">Tillåt endast autentiserade begäranden tooreach ditt program.</span><span class="sxs-lookup"><span data-stu-id="dac79-166">Allow only authenticated requests tooreach your application.</span></span>
  
    <span data-ttu-id="dac79-167">Om en webbläsare får en anonym begäran, omdirigerar App-tjänsten tooa hello identitetsleverantör som du väljer så att användarna kan logga in på sidan.</span><span class="sxs-lookup"><span data-stu-id="dac79-167">If a browser receives an anonymous request, App Service will redirect tooa page for hello identity provider that you choose so that users can sign in.</span></span> <span data-ttu-id="dac79-168">Om hello begäran kommer från en mobil enhet, hello returnerade svar är en HTTP *401 obehörig* svar.</span><span class="sxs-lookup"><span data-stu-id="dac79-168">If hello request comes from a mobile device, hello returned response is an HTTP *401 Unauthorized* response.</span></span>
  
    <span data-ttu-id="dac79-169">Med det här alternativet behöver du inte toowrite alla Autentiseringskod alls i din app.</span><span class="sxs-lookup"><span data-stu-id="dac79-169">With this option, you don't need toowrite any authentication code at all in your app.</span></span> <span data-ttu-id="dac79-170">Om du behöver bättre auktorisering, är information om hello användaren tillgänglig tooyour kod.</span><span class="sxs-lookup"><span data-stu-id="dac79-170">If you need finer authorization, information about hello user is available tooyour code.</span></span>
* <span data-ttu-id="dac79-171">Tillåt alla begäranden tooreach ditt program men Validera autentiserade begäranden och skickar vidare autentiseringsinformation i hello HTTP-rubriker.</span><span class="sxs-lookup"><span data-stu-id="dac79-171">Allow all requests tooreach your application, but validate authenticated requests, and pass along authentication information in hello HTTP headers.</span></span>
  
    <span data-ttu-id="dac79-172">Det här alternativet skiljer sig auktorisering beslut tooyour programkod.</span><span class="sxs-lookup"><span data-stu-id="dac79-172">This option defers authorization decisions tooyour application code.</span></span> <span data-ttu-id="dac79-173">Det ger bättre flexibilitet vid anonyma begäranden, men du har toowrite kod.</span><span class="sxs-lookup"><span data-stu-id="dac79-173">It provides more flexibility in handling anonymous requests, but you have toowrite code.</span></span>
* <span data-ttu-id="dac79-174">Ingen åtgärd för autentisering på hello begäranden kan alla förfrågningar tooreach ditt program.</span><span class="sxs-lookup"><span data-stu-id="dac79-174">Allow all requests tooreach your application, and take no action on authentication information in hello requests.</span></span>
  
    <span data-ttu-id="dac79-175">I det här fallet hello autentisering / auktoriseringsfunktionen är inaktiverad.</span><span class="sxs-lookup"><span data-stu-id="dac79-175">In this case, hello Authentication / Authorization feature is off.</span></span> <span data-ttu-id="dac79-176">hello uppgifterna för autentisering och auktorisering är helt tooyour programkod.</span><span class="sxs-lookup"><span data-stu-id="dac79-176">hello tasks of authentication and authorization are entirely up tooyour application code.</span></span>

<span data-ttu-id="dac79-177">hello tidigare beteenden styrs av hello **åtgärd tootake när begäran inte har autentiserats** alternativ i hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="dac79-177">hello previous behaviors are controlled by hello **Action tootake when request is not authenticated** option in hello Azure portal.</span></span> <span data-ttu-id="dac79-178">Om du väljer ** logga in med *providernamn* **, alla begäranden har toobe autentiseras.</span><span class="sxs-lookup"><span data-stu-id="dac79-178">If you choose **Log in with *provider name* **, all requests have toobe authenticated.</span></span> <span data-ttu-id="dac79-179">**Tillåt begäran (ingen åtgärd)** skjuts upp hello beslut tooyour auktoriseringskod, men fortfarande ger autentiseringsinformationen.</span><span class="sxs-lookup"><span data-stu-id="dac79-179">**Allow request (no action)** defers hello authorization decision tooyour code, but it still provides authentication information.</span></span> <span data-ttu-id="dac79-180">Om du vill toohave koden hantera allt, så kan du inaktivera hello autentisering / auktoriseringsfunktionen.</span><span class="sxs-lookup"><span data-stu-id="dac79-180">If you want toohave your code handle everything, you can disable hello Authentication / Authorization feature.</span></span>

## <a name="working-with-user-identities-in-your-application"></a><span data-ttu-id="dac79-181">Arbeta med användaridentiteter i ditt program</span><span class="sxs-lookup"><span data-stu-id="dac79-181">Working with user identities in your application</span></span>
<span data-ttu-id="dac79-182">Apptjänst skickar vissa användare information tooyour program med hjälp av särskilda huvuden.</span><span class="sxs-lookup"><span data-stu-id="dac79-182">App Service passes some user information tooyour application by using special headers.</span></span> <span data-ttu-id="dac79-183">Externa begäranden förhindrar att dessa huvuden och endast tillgänglig om anges av App Service-autentisering / auktorisering.</span><span class="sxs-lookup"><span data-stu-id="dac79-183">External requests prohibit these headers and will only be present if set by App Service Authentication / Authorization.</span></span> <span data-ttu-id="dac79-184">Vissa exempel huvuden innehåller:</span><span class="sxs-lookup"><span data-stu-id="dac79-184">Some example headers include:</span></span>

* <span data-ttu-id="dac79-185">X-MS-CLIENT--HUVUDNAMN</span><span class="sxs-lookup"><span data-stu-id="dac79-185">X-MS-CLIENT-PRINCIPAL-NAME</span></span>
* <span data-ttu-id="dac79-186">X-MS-CLIENT-SÄKERHETSOBJEKT-ID</span><span class="sxs-lookup"><span data-stu-id="dac79-186">X-MS-CLIENT-PRINCIPAL-ID</span></span>
* <span data-ttu-id="dac79-187">X-MS-TOKEN-FACEBOOK-ACCESS-TOKEN</span><span class="sxs-lookup"><span data-stu-id="dac79-187">X-MS-TOKEN-FACEBOOK-ACCESS-TOKEN</span></span>
* <span data-ttu-id="dac79-188">X-MS-TOKEN-FACEBOOK-EXPIRES-ON</span><span class="sxs-lookup"><span data-stu-id="dac79-188">X-MS-TOKEN-FACEBOOK-EXPIRES-ON</span></span>

<span data-ttu-id="dac79-189">Kod som skrivs i valfritt språk eller ramverk får hello information som krävs i dessa huvuden.</span><span class="sxs-lookup"><span data-stu-id="dac79-189">Code that is written in any language or framework can get hello information that it needs from these headers.</span></span> <span data-ttu-id="dac79-190">ASP.NET 4.6 appar hello **ClaimsPrincipal** ställs in automatiskt med hello lämpliga värden.</span><span class="sxs-lookup"><span data-stu-id="dac79-190">For ASP.NET 4.6 apps, hello **ClaimsPrincipal** is automatically set with hello appropriate values.</span></span>

<span data-ttu-id="dac79-191">Programmet kan också hämta information om ytterligare användare via en HTTP GET på hello `/.auth/me` slutpunkten för ditt program.</span><span class="sxs-lookup"><span data-stu-id="dac79-191">Your application can also obtain additional user details through an HTTP GET on hello `/.auth/me` endpoint of your application.</span></span> <span data-ttu-id="dac79-192">En giltig token som inkluderas hello-begäran returnerar en JSON-nyttolast med information om hello-providern som används kan hello den underliggande providern token och vissa andra användarinformation.</span><span class="sxs-lookup"><span data-stu-id="dac79-192">A valid token that's included with hello request will return a JSON payload with details about hello provider that's being used, hello underlying provider token, and some other user information.</span></span> <span data-ttu-id="dac79-193">hello Mobile Apps servern SDK: er anger hjälpmetoder toowork med dessa data.</span><span class="sxs-lookup"><span data-stu-id="dac79-193">hello Mobile Apps server SDKs provide helper methods toowork with this data.</span></span> <span data-ttu-id="dac79-194">Mer information finns i [hur toouse hello Azure Mobile Apps Node.js SDK](../app-service-mobile/app-service-mobile-node-backend-how-to-use-server-sdk.md#howto-tables-getidentity), och [arbeta med serverdelen för hello .NET SDK för Azure Mobile Apps](../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#user-info).</span><span class="sxs-lookup"><span data-stu-id="dac79-194">For more information, see [How toouse hello Azure Mobile Apps Node.js SDK](../app-service-mobile/app-service-mobile-node-backend-how-to-use-server-sdk.md#howto-tables-getidentity), and [Work with hello .NET backend server SDK for Azure Mobile Apps](../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#user-info).</span></span>

## <a name="documentation-and-additional-resources"></a><span data-ttu-id="dac79-195">Dokumentation och ytterligare resurser</span><span class="sxs-lookup"><span data-stu-id="dac79-195">Documentation and additional resources</span></span>
### <a name="identity-providers"></a><span data-ttu-id="dac79-196">Identitetsleverantörer</span><span class="sxs-lookup"><span data-stu-id="dac79-196">Identity providers</span></span>
<span data-ttu-id="dac79-197">Hej följande kurser visar hur tooconfigure App toouse olika leverantörer:</span><span class="sxs-lookup"><span data-stu-id="dac79-197">hello following tutorials show how tooconfigure App Service toouse different authentication providers:</span></span>

* <span data-ttu-id="dac79-198">[Hur tooconfigure din app toouse Azure Active Directory-inloggning][AAD]</span><span class="sxs-lookup"><span data-stu-id="dac79-198">[How tooconfigure your app toouse Azure Active Directory login][AAD]</span></span>
* <span data-ttu-id="dac79-199">[Hur tooconfigure din app toouse Facebook-inloggning][Facebook]</span><span class="sxs-lookup"><span data-stu-id="dac79-199">[How tooconfigure your app toouse Facebook login][Facebook]</span></span>
* <span data-ttu-id="dac79-200">[Hur tooconfigure din app toouse Google-inloggning][Google]</span><span class="sxs-lookup"><span data-stu-id="dac79-200">[How tooconfigure your app toouse Google login][Google]</span></span>
* <span data-ttu-id="dac79-201">[Hur tooconfigure din app toouse Account inloggning][MSA]</span><span class="sxs-lookup"><span data-stu-id="dac79-201">[How tooconfigure your app toouse Microsoft Account login][MSA]</span></span>
* <span data-ttu-id="dac79-202">[Hur tooconfigure din app toouse Twitter-inloggning][Twitter]</span><span class="sxs-lookup"><span data-stu-id="dac79-202">[How tooconfigure your app toouse Twitter login][Twitter]</span></span>

<span data-ttu-id="dac79-203">Om du vill toouse ett identitetssystem än hello de som anges här, kan du också använda hello [Förhandsgranska stöd för anpassad autentisering i hello Mobile Apps .NET server SDK][custom-auth], som kan användas i web apps mobilappar och API apps.</span><span class="sxs-lookup"><span data-stu-id="dac79-203">If you want toouse an identity system other than hello ones provided here, you can also use hello [preview custom authentication support in hello Mobile Apps .NET server SDK][custom-auth], which can be used in web apps, mobile apps, or API apps.</span></span>

### <a name="web-applications"></a><span data-ttu-id="dac79-204">Webbprogram</span><span class="sxs-lookup"><span data-stu-id="dac79-204">Web applications</span></span>
<span data-ttu-id="dac79-205">hello följande kurser visar hur tooadd autentisering tooa webbprogrammet:</span><span class="sxs-lookup"><span data-stu-id="dac79-205">hello following tutorials show how tooadd authentication tooa web application:</span></span>

* <span data-ttu-id="dac79-206">[Kom igång med Azure App Service - del 2][web-getstarted]</span><span class="sxs-lookup"><span data-stu-id="dac79-206">[Get started with Azure App Service - Part 2][web-getstarted]</span></span>

### <a name="mobile-applications"></a><span data-ttu-id="dac79-207">Mobila program</span><span class="sxs-lookup"><span data-stu-id="dac79-207">Mobile applications</span></span>
<span data-ttu-id="dac79-208">hello följande kurser visar hur hello tooadd autentisering tooyour mobila klienter med hjälp av server-riktade flöde:</span><span class="sxs-lookup"><span data-stu-id="dac79-208">hello following tutorials show how tooadd authentication tooyour mobile clients by using hello server-directed flow:</span></span>

* <span data-ttu-id="dac79-209">[Lägg till autentisering tooyour iOS-app][iOS]</span><span class="sxs-lookup"><span data-stu-id="dac79-209">[Add authentication tooyour iOS app][iOS]</span></span>
* <span data-ttu-id="dac79-210">[Lägg till autentisering tooyour Android app][Android]</span><span class="sxs-lookup"><span data-stu-id="dac79-210">[Add Authentication tooyour Android app][Android]</span></span>
* <span data-ttu-id="dac79-211">[Lägg till autentisering tooyour Windows app][Windows]</span><span class="sxs-lookup"><span data-stu-id="dac79-211">[Add Authentication tooyour Windows app][Windows]</span></span>
* <span data-ttu-id="dac79-212">[Lägg till autentisering tooyour Xamarin.iOS-app][Xamarin.iOS]</span><span class="sxs-lookup"><span data-stu-id="dac79-212">[Add authentication tooyour Xamarin.iOS app][Xamarin.iOS]</span></span>
* <span data-ttu-id="dac79-213">[Lägg till autentisering tooyour Xamarin.Android app][ Xamarin.Android]</span><span class="sxs-lookup"><span data-stu-id="dac79-213">[Add authentication tooyour Xamarin.Android app][Xamarin.Android]</span></span>
* <span data-ttu-id="dac79-214">[Lägg till autentisering tooyour Xamarin.Forms-app][Xamarin.Forms]</span><span class="sxs-lookup"><span data-stu-id="dac79-214">[Add authentication tooyour Xamarin.Forms app][Xamarin.Forms]</span></span>
* <span data-ttu-id="dac79-215">[Lägg till autentisering tooyour Cordova-app][Cordova]</span><span class="sxs-lookup"><span data-stu-id="dac79-215">[Add Authentication tooyour Cordova app][Cordova]</span></span>

<span data-ttu-id="dac79-216">Använd följande resurser om du vill toouse hello klienten dirigeras flödet för Azure Active Directory hello:</span><span class="sxs-lookup"><span data-stu-id="dac79-216">Use hello following resources if you want toouse hello client-directed flow for Azure Active Directory:</span></span>

* <span data-ttu-id="dac79-217">[Använd hello Active Directory Authentication Library för iOS][ADAL-iOS]</span><span class="sxs-lookup"><span data-stu-id="dac79-217">[Use hello Active Directory Authentication Library for iOS][ADAL-iOS]</span></span>
* <span data-ttu-id="dac79-218">[Använd hello Active Directory Authentication Library för Android][ADAL-Android]</span><span class="sxs-lookup"><span data-stu-id="dac79-218">[Use hello Active Directory Authentication Library for Android][ADAL-Android]</span></span>
* <span data-ttu-id="dac79-219">[Använd hello Active Directory Authentication Library för Windows och Xamarin][ADAL-dotnet]</span><span class="sxs-lookup"><span data-stu-id="dac79-219">[Use hello Active Directory Authentication Library for Windows and Xamarin][ADAL-dotnet]</span></span>

<span data-ttu-id="dac79-220">Använd följande resurser om du vill toouse hello klienten dirigeras flödet för Facebook hello:</span><span class="sxs-lookup"><span data-stu-id="dac79-220">Use hello following resources if you want toouse hello client-directed flow for Facebook:</span></span>

* [<span data-ttu-id="dac79-221">Använd hello Facebook SDK för iOS</span><span class="sxs-lookup"><span data-stu-id="dac79-221">Use hello Facebook SDK for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#facebook-sdk)

<span data-ttu-id="dac79-222">Använd följande resurser om du vill toouse hello klienten dirigeras flödet för Twitter hello:</span><span class="sxs-lookup"><span data-stu-id="dac79-222">Use hello following resources if you want toouse hello client-directed flow for Twitter:</span></span>

* [<span data-ttu-id="dac79-223">Använd Twitter infrastruktur för iOS</span><span class="sxs-lookup"><span data-stu-id="dac79-223">Use Twitter Fabric for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#twitter-fabric)

<span data-ttu-id="dac79-224">Använd följande resurser om du vill toouse hello klienten dirigeras flödet för Google hello:</span><span class="sxs-lookup"><span data-stu-id="dac79-224">Use hello following resources if you want toouse hello client-directed flow for Google:</span></span>

* [<span data-ttu-id="dac79-225">Använd hello Google inloggning SDK för iOS</span><span class="sxs-lookup"><span data-stu-id="dac79-225">Use hello Google Sign-In SDK for iOS</span></span>](../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#google-sdk)

### <a name="api-applications"></a><span data-ttu-id="dac79-226">API-program</span><span class="sxs-lookup"><span data-stu-id="dac79-226">API applications</span></span>
<span data-ttu-id="dac79-227">Hej följande kurser visar hur tooprotect API apps:</span><span class="sxs-lookup"><span data-stu-id="dac79-227">hello following tutorials show how tooprotect your API apps:</span></span>

* <span data-ttu-id="dac79-228">[Användarautentisering för API Apps i Azure App Service][apia-user]</span><span class="sxs-lookup"><span data-stu-id="dac79-228">[User authentication for API Apps in Azure App Service][apia-user]</span></span>
* <span data-ttu-id="dac79-229">[Tjänstens huvudnamn autentisering för API Apps i Azure App Service][apia-service]</span><span class="sxs-lookup"><span data-stu-id="dac79-229">[Service principal authentication for API Apps in Azure App Service][apia-service]</span></span>

[apia-user]: ../app-service-api/app-service-api-dotnet-user-principal-auth.md
[apia-service]: ../app-service-api/app-service-api-dotnet-service-principal-auth.md

[web-getstarted]: ../app-service-web/app-service-web-get-started-2.md#authenticate-your-users

[iOS]: ../app-service-mobile/app-service-mobile-ios-get-started-users.md
[Android]: ../app-service-mobile/app-service-mobile-android-get-started-users.md
[Xamarin.iOS]: ../app-service-mobile/app-service-mobile-xamarin-ios-get-started-users.md
[ Xamarin.Android]: ../app-service-mobile/app-service-mobile-xamarin-android-get-started-users.md
[Xamarin.Forms]: ../app-service-mobile/app-service-mobile-xamarin-forms-get-started-users.md
[Windows]: ../app-service-mobile/app-service-mobile-windows-store-dotnet-get-started-users.md
[Cordova]: ../app-service-mobile/app-service-mobile-cordova-get-started-users.md

[AAD]: ../app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication.md
[Facebook]: ../app-service-mobile/app-service-mobile-how-to-configure-facebook-authentication.md
[Google]: ../app-service-mobile/app-service-mobile-how-to-configure-google-authentication.md
[MSA]: ../app-service-mobile/app-service-mobile-how-to-configure-microsoft-authentication.md
[Twitter]: ../app-service-mobile/app-service-mobile-how-to-configure-twitter-authentication.md

[custom-auth]: ../app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth

[ADAL-Android]: ../app-service-mobile/app-service-mobile-android-how-to-use-client-library.md#adal
[ADAL-iOS]: ../app-service-mobile/app-service-mobile-ios-how-to-use-client-library.md#adal
[ADAL-dotnet]: ../app-service-mobile/app-service-mobile-dotnet-how-to-use-client-library.md#adal
