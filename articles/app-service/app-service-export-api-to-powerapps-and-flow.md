---
title: aaaExporting en Azure-baserad API tooPowerApps och Microsoft Flow | Microsoft Docs
description: "Översikt över hur tooexpose API finns i Apptjänst tooPowerApps och Microsoft Flow"
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: 
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 06/20/2017
ms.author: mahender
ms.openlocfilehash: 285b6efa3af5b0feac1ee2f617c0dc56dc3fd198
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="exporting-an-azure-hosted-api-toopowerapps-and-microsoft-flow"></a><span data-ttu-id="dd978-103">Exportera en Azure-baserad API tooPowerApps och Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="dd978-103">Exporting an Azure-hosted API tooPowerApps and Microsoft Flow</span></span>

## <a name="creating-custom-connectors-for-powerapps-and-microsoft-flow"></a><span data-ttu-id="dd978-104">Skapa egna kopplingar för PowerApps och Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="dd978-104">Creating custom connectors for PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="dd978-105">[PowerApps](https://powerapps.com) är en tjänst för att skapa och använda anpassade appar som ansluter tooyour data och fungera mellan olika plattformar.</span><span class="sxs-lookup"><span data-stu-id="dd978-105">[PowerApps](https://powerapps.com) is a service for building and using custom business apps that connect tooyour data and work across platforms.</span></span> <span data-ttu-id="dd978-106">[Microsoft Flow](https://flow.microsoft.com) gör det enkelt tooautomate arbetsflöden och affärsprocesser mellan din favorit appar och tjänster.</span><span class="sxs-lookup"><span data-stu-id="dd978-106">[Microsoft Flow](https://flow.microsoft.com) makes it easy tooautomate workflows and business processes between your favorite apps and services.</span></span> <span data-ttu-id="dd978-107">Både PowerApps och Microsoft Flow levereras med en mängd olika inbyggda kopplingar toodata källor, till exempel Office 365, Dynamics 365, Salesforce och mycket mer.</span><span class="sxs-lookup"><span data-stu-id="dd978-107">Both PowerApps and Microsoft Flow come with a variety of built-in connectors toodata sources such as Office 365, Dynamics 365, Salesforce, and more.</span></span> <span data-ttu-id="dd978-108">Användare behöver dock också toobe kan tooleverage datakällor och API: er som skapas av organisationen.</span><span class="sxs-lookup"><span data-stu-id="dd978-108">However, users also need toobe able tooleverage data sources and APIs being built by their organization.</span></span>

<span data-ttu-id="dd978-109">På liknande sätt kan utvecklare som vill tooexpose sina mer brett inom hello organisation kanske vill toomake sina tillgängliga tooPowerApps för API: er och Microsoft Flow användare API: er.</span><span class="sxs-lookup"><span data-stu-id="dd978-109">Similarly, developers that want tooexpose their APIs more broadly within hello organization may want toomake their APIs available tooPowerApps and Microsoft Flow users.</span></span> <span data-ttu-id="dd978-110">Det här avsnittet visar hur tooexpose en API som byggts med Azure App Service eller Azure Functions tooPowerApps och Microsoft Flow.</span><span class="sxs-lookup"><span data-stu-id="dd978-110">This topic will show you how tooexpose an API built with Azure App Service or Azure Functions tooPowerApps and Microsoft Flow.</span></span> <span data-ttu-id="dd978-111">[Azure Apptjänst](https://azure.microsoft.com/services/app-service/) är ett erbjudande för plattform som en tjänst som gör att utvecklare tooquickly och enkelt skapa företagsklass webb-, mobil och API-program.</span><span class="sxs-lookup"><span data-stu-id="dd978-111">[Azure App Service](https://azure.microsoft.com/services/app-service/) is a platform-as-a-service offering that allows developers tooquickly and easily build enterprise-grade web, mobile, and API applications.</span></span> <span data-ttu-id="dd978-112">[Azure Functions](https://azure.microsoft.com/services/functions/) är en händelsebaserat serverlösa beräknings-lösning som gör att du tooquickly författare kod som kan reagera tooother delar av systemet och skala baserat på begäran.</span><span class="sxs-lookup"><span data-stu-id="dd978-112">[Azure Functions](https://azure.microsoft.com/services/functions/) is an event-based serverless compute solution that allows you tooquickly author code that can react tooother parts of your system and scale based on demand.</span></span>

<span data-ttu-id="dd978-113">toolearn mer om dessa tjänster finns i:</span><span class="sxs-lookup"><span data-stu-id="dd978-113">toolearn more about these services, see:</span></span>
- [<span data-ttu-id="dd978-114">PowerApps interaktiv utbildning</span><span class="sxs-lookup"><span data-stu-id="dd978-114">PowerApps Guided Learning</span></span>](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/) 
- [<span data-ttu-id="dd978-115">Microsoft flödet interaktiv utbildning</span><span class="sxs-lookup"><span data-stu-id="dd978-115">Microsoft Flow Guided Learning</span></span>](https://flow.microsoft.com/guided-learning/learning-introducing-flow/)
- [<span data-ttu-id="dd978-116">Vad är App Service?</span><span class="sxs-lookup"><span data-stu-id="dd978-116">What is App Service?</span></span>](https://docs.microsoft.com/azure/app-service/app-service-value-prop-what-is)
- [<span data-ttu-id="dd978-117">Vad är Azure Functions</span><span class="sxs-lookup"><span data-stu-id="dd978-117">What is Azure Functions</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-overview)

## <a name="sharing-an-api-definition"></a><span data-ttu-id="dd978-118">Dela en API-definition</span><span class="sxs-lookup"><span data-stu-id="dd978-118">Sharing an API definition</span></span>

<span data-ttu-id="dd978-119">API: er beskrivs ofta med hjälp av en [OpenAPI dokument](https://www.openapis.org/) (kallas ibland tooas ”Swagger”-dokument).</span><span class="sxs-lookup"><span data-stu-id="dd978-119">APIs are often described using an [OpenAPI document](https://www.openapis.org/) (sometimes referred tooas a "Swagger" document).</span></span> <span data-ttu-id="dd978-120">Det innehåller alla hello information om vilka åtgärder är tillgängliga och hur data hello strukturerad.</span><span class="sxs-lookup"><span data-stu-id="dd978-120">This contains all of hello information about what operations are available and how hello data should be structured.</span></span> <span data-ttu-id="dd978-121">PowerApps och Microsoft Flow kan skapa egna kopplingar för OpenAPI 2.0 dokument.</span><span class="sxs-lookup"><span data-stu-id="dd978-121">PowerApps and Microsoft Flow can create custom connectors for any OpenAPI 2.0 document.</span></span> <span data-ttu-id="dd978-122">När en anpassad koppling har skapats kan den användas i hello exakt samma sätt som en hello inbyggda kopplingar och snabbt kan integreras i ett program.</span><span class="sxs-lookup"><span data-stu-id="dd978-122">Once a custom connector is created, it can be used in exactly hello same way as one of hello built-in connectors and can quickly be integrated into an application.</span></span>

<span data-ttu-id="dd978-123">Azure Apptjänst och Azure Functions har [inbyggt stöd](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) för att skapa, värd och hantera ett OpenAPI dokument.</span><span class="sxs-lookup"><span data-stu-id="dd978-123">Azure App Service and Azure Functions have [built-in support](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) for creating, hosting, and managing an OpenAPI document.</span></span> <span data-ttu-id="dd978-124">I ordning toocreate en anpassad koppling för en webb-, mobil, API eller funktionsapp måste PowerApps och flödar toobe en kopia av hello definition.</span><span class="sxs-lookup"><span data-stu-id="dd978-124">In order toocreate a custom connector for a web, mobile, API, or function app, PowerApps and Flow need toobe given a copy of hello definition.</span></span>

> [!NOTE]
> <span data-ttu-id="dd978-125">Eftersom en kopia av hello API-definition används vet PowerApps och Microsoft Flow inte omedelbart om uppdateringar eller bryta ändringar toohello program.</span><span class="sxs-lookup"><span data-stu-id="dd978-125">Because a copy of hello API definition is being used, PowerApps and Microsoft Flow will not immediately know about updates or breaking changes toohello application.</span></span> <span data-ttu-id="dd978-126">Om en ny version av hello API är tillgängligt, ska dessa steg upprepas för hello nya versionen.</span><span class="sxs-lookup"><span data-stu-id="dd978-126">If a new version of hello API is made available, these steps should be repeated for hello new version.</span></span> 

<span data-ttu-id="dd978-127">Så här tooprovide PowerApps och Microsoft Flow med hello värdbaserade API-definition för din app:</span><span class="sxs-lookup"><span data-stu-id="dd978-127">tooprovide PowerApps and Microsoft Flow with hello hosted API definition for your app, follow these steps:</span></span>

1. <span data-ttu-id="dd978-128">Öppna hello [Azure Portal](https://portal.azure.com) och navigera tooyour Apptjänst eller Azure Functions.</span><span class="sxs-lookup"><span data-stu-id="dd978-128">Open hello [Azure Portal](https://portal.azure.com) and navigate tooyour App Service or Azure Functions application.</span></span>

    <span data-ttu-id="dd978-129">Om du använder Azure App Service, Välj **API-definition** hello inställningar för listan.</span><span class="sxs-lookup"><span data-stu-id="dd978-129">If using Azure App Service, select **API definition** from hello settings list.</span></span> 
    
    <span data-ttu-id="dd978-130">Om du använder Azure Functions, Välj appen funktionen och välj sedan **plattformsfunktioner**, och sedan **API-definition**.</span><span class="sxs-lookup"><span data-stu-id="dd978-130">If using Azure Functions, select your function app, and then choose **Platform features**, and then **API definition**.</span></span> <span data-ttu-id="dd978-131">Du kan också välja tooopen hello **API-definition (förhandsgranskning)** fliken i stället.</span><span class="sxs-lookup"><span data-stu-id="dd978-131">You could also choose tooopen hello **API definition (preview)** tab instead.</span></span>

2. <span data-ttu-id="dd978-132">Om en API-definition har angetts, visas en **exportera tooPowerApps + Microsoft Flow** knappen.</span><span class="sxs-lookup"><span data-stu-id="dd978-132">If an API definition has been provided, you will see an **Export tooPowerApps + Microsoft Flow** button.</span></span> <span data-ttu-id="dd978-133">Klicka på knappen toobegin hello detta.</span><span class="sxs-lookup"><span data-stu-id="dd978-133">Click this button toobegin hello export process.</span></span>

3. <span data-ttu-id="dd978-134">Välj hello **exportläge**.</span><span class="sxs-lookup"><span data-stu-id="dd978-134">Select hello **Export mode**.</span></span> <span data-ttu-id="dd978-135">Detta avgör hello steg som du måste toofollow toocreate en koppling.</span><span class="sxs-lookup"><span data-stu-id="dd978-135">This determines hello steps you will need toofollow toocreate a connector.</span></span> <span data-ttu-id="dd978-136">Apptjänst erbjuder två alternativ för att tillhandahålla PowerApps och Microsoft Flow med din API-definition:</span><span class="sxs-lookup"><span data-stu-id="dd978-136">App Service offers two options for providing PowerApps and Microsoft Flow with your API definition:</span></span>

    <span data-ttu-id="dd978-137">**Express** kan du skapa hello anpassad koppling från inom hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="dd978-137">**Express** lets you create hello custom connector from within hello Azure portal.</span></span> <span data-ttu-id="dd978-138">Det krävs hello nuvarande inloggade användaren har behörighet toocreate kopplingar i hello målmiljön.</span><span class="sxs-lookup"><span data-stu-id="dd978-138">It requires that hello curent logged-in user has permission toocreate connectors in hello target environment.</span></span> <span data-ttu-id="dd978-139">Detta är hello rekommendationer om detta krav kan uppfyllas.</span><span class="sxs-lookup"><span data-stu-id="dd978-139">This is hello recommended approach if that requirement can be met.</span></span> <span data-ttu-id="dd978-140">Om du använder det här läget följer hello [Express export](#express) anvisningarna nedan.</span><span class="sxs-lookup"><span data-stu-id="dd978-140">If using this mode, follow hello [Express export](#express) instructions below.</span></span>

    <span data-ttu-id="dd978-141">**Manuell** kan du exportera en kopia av hello API ingår som kan importeras med hello PowerApps eller Microsoft Flow portaler.</span><span class="sxs-lookup"><span data-stu-id="dd978-141">**Manual** lets you export a copy of hello API definiton which can be imported using hello PowerApps or Microsoft Flow portals.</span></span> <span data-ttu-id="dd978-142">Detta är hello rekommendationer om hello Azure användar- och hello användare med behörighet toocreate kopplingar är olika personer eller om hello connector måste toobe som skapats i en annan klient.</span><span class="sxs-lookup"><span data-stu-id="dd978-142">This is hello recommended approach if hello Azure user and hello user with permission toocreate connectors are different people or if hello connector needs toobe created in another tenant.</span></span> <span data-ttu-id="dd978-143">Om du använder det här läget följer hello [manuell export och import](#manual) anvisningarna nedan.</span><span class="sxs-lookup"><span data-stu-id="dd978-143">If using this mode, follow hello [Manual export and import](#manual) instructions below.</span></span>

<a name="express"></a>
## <a name="express-export"></a><span data-ttu-id="dd978-144">Express export</span><span class="sxs-lookup"><span data-stu-id="dd978-144">Express export</span></span>

<span data-ttu-id="dd978-145">I det här avsnittet skapar du en ny anpassad koppling från inom hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="dd978-145">In this section, you will create a new custom connector from within hello Azure portal.</span></span> <span data-ttu-id="dd978-146">Du måste vara inloggad i hello klient toowhich gärna tooexport och du måste ha behörigheten toocreate en anpassad koppling i hello målmiljön.</span><span class="sxs-lookup"><span data-stu-id="dd978-146">You must be logged into hello tenant toowhich you wish tooexport, and you must have permission toocreate a custom connector in hello target environment.</span></span>

1. <span data-ttu-id="dd978-147">Välj hello miljö där du vill att toocreate hello-anslutningen.</span><span class="sxs-lookup"><span data-stu-id="dd978-147">Select hello environment in which you would like toocreate hello connector.</span></span> <span data-ttu-id="dd978-148">Ange sedan ett namn för din anpassade connector.</span><span class="sxs-lookup"><span data-stu-id="dd978-148">Then provide a name for your custom connector.</span></span>

2. <span data-ttu-id="dd978-149">Om din API-definition innehåller alla definitioner för säkerhet, kommer dessa som beskrivs i steg #2.</span><span class="sxs-lookup"><span data-stu-id="dd978-149">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="dd978-150">Om det behövs, skydda hello konfigurationsinformation behövs toogrant användare komma åt tooyour API.</span><span class="sxs-lookup"><span data-stu-id="dd978-150">If required, provide hello security configuration details needed toogrant users access tooyour API.</span></span> <span data-ttu-id="dd978-151">Mer information finns i [autentisering](#auth) nedan.</span><span class="sxs-lookup"><span data-stu-id="dd978-151">For more information, see [Authentication](#auth) below.</span></span> 

3. <span data-ttu-id="dd978-152">Klicka på **OK** toocreate din anpassad koppling.</span><span class="sxs-lookup"><span data-stu-id="dd978-152">Click **OK** toocreate your custom connector.</span></span>


<a name="manual"></a>
## <a name="manual-export-and-import"></a><span data-ttu-id="dd978-153">Manuell export och import</span><span class="sxs-lookup"><span data-stu-id="dd978-153">Manual export and import</span></span>

<span data-ttu-id="dd978-154">I ordning toocreate en anpassad koppling för en webb-, mobil, API eller funktionsapp, två steg som behövs:</span><span class="sxs-lookup"><span data-stu-id="dd978-154">In order toocreate a custom connector for a web, mobile, API, or function app, two steps will be needed:</span></span>

1. [<span data-ttu-id="dd978-155">Hämta API-definitions-hello från Apptjänst eller Azure Functions</span><span class="sxs-lookup"><span data-stu-id="dd978-155">Retrieving hello API definition from App Service or Azure Functions</span></span>](#export)
2. [<span data-ttu-id="dd978-156">Importera hello API-definition i PowerApps och Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="dd978-156">Importing hello API definition into PowerApps and Microsoft Flow</span></span>](#import)

<span data-ttu-id="dd978-157">Det är möjligt att dessa två steg måste toobe som utförs av olika personer i en organisation som en viss användare inte kanske har behörighet tooperform båda åtgärderna.</span><span class="sxs-lookup"><span data-stu-id="dd978-157">It is possible that these two steps will need toobe carried out by separate individuals within an organization, as a given user may not have permission tooperform both actions.</span></span> <span data-ttu-id="dd978-158">I så fall måste en utvecklare som har deltagare åtkomst toohello Apptjänst eller Azure Functions tooobtain hello API-definition (en enda JSON-fil) eller en länk tooit.</span><span class="sxs-lookup"><span data-stu-id="dd978-158">In this case, a developer who has contributor access toohello App Service or Azure Functions application will need tooobtain hello API definition (a single JSON file) or a link tooit.</span></span> <span data-ttu-id="dd978-159">De måste sedan tooprovide att definition tooa PowerApps eller Microsoft Flow ägare.</span><span class="sxs-lookup"><span data-stu-id="dd978-159">They will then need tooprovide that definition tooa PowerApps or Microsoft Flow owner.</span></span> <span data-ttu-id="dd978-160">Som ägare kan använda hello metadata toocreate hello anpassad koppling.</span><span class="sxs-lookup"><span data-stu-id="dd978-160">That owner can use hello metadata toocreate hello custom connector.</span></span>

<a name="export"></a>
### <a name="retrieving-hello-api-definition-from-app-service-or-azure-functions"></a><span data-ttu-id="dd978-161">Hämta API-definitions-hello från Apptjänst eller Azure Functions</span><span class="sxs-lookup"><span data-stu-id="dd978-161">Retrieving hello API definition from App Service or Azure Functions</span></span>

<span data-ttu-id="dd978-162">I det här avsnittet ska du exportera hello API-definition för din App Service API, toobe används senare i hello PowerApps eller Microsoft Flow portalen.</span><span class="sxs-lookup"><span data-stu-id="dd978-162">In this section, you will export hello API definition for your App Service API, toobe used later in hello PowerApps or Microsoft Flow portal.</span></span>

1. <span data-ttu-id="dd978-163">Du kan välja tooeither **hämta hello API-definition** eller **hämta en länk**.</span><span class="sxs-lookup"><span data-stu-id="dd978-163">You can choose tooeither **Download hello API definition** or **Get a link**.</span></span> <span data-ttu-id="dd978-164">Beroende på vilket som du använder, hello resultatet ska anges i hello nästa avsnitt.</span><span class="sxs-lookup"><span data-stu-id="dd978-164">Whichever you choose, hello result will be provided in hello next section.</span></span> <span data-ttu-id="dd978-165">Välj något av följande alternativ och följ anvisningarna för hello.</span><span class="sxs-lookup"><span data-stu-id="dd978-165">Select one of these options and follow hello instructions.</span></span>
 
2. <span data-ttu-id="dd978-166">Om din API-definition innehåller alla definitioner för säkerhet, kommer dessa som beskrivs i steg #2.</span><span class="sxs-lookup"><span data-stu-id="dd978-166">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="dd978-167">Under importen, PowerApps och Microsoft Flow identifierar dessa och uppmanar säkerhetsinformation.</span><span class="sxs-lookup"><span data-stu-id="dd978-167">During import, PowerApps and Microsoft Flow will detect these and will prompt for security information.</span></span> <span data-ttu-id="dd978-168">Samla in hello autentiseringsuppgifter relaterade tooeach definition för användning i nästa avsnitt om hello.</span><span class="sxs-lookup"><span data-stu-id="dd978-168">Gather hello credentials related tooeach definition for use in hello next section.</span></span> <span data-ttu-id="dd978-169">Mer information finns i [autentisering](#auth) nedan.</span><span class="sxs-lookup"><span data-stu-id="dd978-169">For more information, see [Authentication](#auth) below.</span></span> 

<a name="import"></a>
### <a name="importing-hello-api-definition-into-powerapps-and-microsoft-flow"></a><span data-ttu-id="dd978-170">Importera hello API-definition i PowerApps och Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="dd978-170">Importing hello API definition into PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="dd978-171">I det här avsnittet skapar du en anpassad koppling i PowerApps och Microsoft Flow med hello API-definition fick tidigare.</span><span class="sxs-lookup"><span data-stu-id="dd978-171">In this section, you will create a custom connector in PowerApps and Microsoft Flow using hello API definition obtained earlier.</span></span> <span data-ttu-id="dd978-172">Anpassade kopplingar delas mellan hello två tjänster, så behöver du bara en gång tooimport hello-definition.</span><span class="sxs-lookup"><span data-stu-id="dd978-172">Custom connectors are shared between hello two services, so you only need tooimport hello definition once.</span></span> <span data-ttu-id="dd978-173">Mer information om anpassade kopplingar finns [registrera och använda anpassade kopplingar i PowerApps] och [registrera och använda anpassade kopplingar i Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="dd978-173">For more information on custom connectors, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

1. <span data-ttu-id="dd978-174">Öppna hello [Powerapps webbportalen](https://web.powerapps.com) eller hello [Microsoft Flow webbportalen](https://flow.microsoft.com/), och logga in.</span><span class="sxs-lookup"><span data-stu-id="dd978-174">Open hello [Powerapps web portal](https://web.powerapps.com) or hello [Microsoft Flow web portal](https://flow.microsoft.com/), and sign in.</span></span> 

2. <span data-ttu-id="dd978-175">Klicka på hello **inställningar** (hello växeln ikonen) längst hello övre högra hörnet av hello sida och välj **anpassade kopplingar**.</span><span class="sxs-lookup"><span data-stu-id="dd978-175">Click hello **Settings** button (hello gear icon) at hello upper right of hello page and select **Custom connectors**.</span></span> 

3. <span data-ttu-id="dd978-176">Klicka på **Skapa anpassad koppling**.</span><span class="sxs-lookup"><span data-stu-id="dd978-176">Click **Create custom connector**.</span></span>

4. <span data-ttu-id="dd978-177">På hello **allmänna** fliken, ange ett namn för din API och sedan överföra hello OpenAPI definition eller klistra in i hello metadata-URL.</span><span class="sxs-lookup"><span data-stu-id="dd978-177">On hello **General** tab, provide a name for your API, and then upload hello OpenAPI definition or paste in hello metadata URL.</span></span> <span data-ttu-id="dd978-178">Klicka på **fortsätta**.</span><span class="sxs-lookup"><span data-stu-id="dd978-178">Click **Continue**.</span></span>

4. <span data-ttu-id="dd978-179">På hello **säkerhet** fliken om du tillfrågas tooprovide autentisering information ange hello värden som erhölls i hello föregående avsnitt.</span><span class="sxs-lookup"><span data-stu-id="dd978-179">On hello **Security** tab, if you are prompted tooprovide authentication details, enter hello values obtained in hello previous section.</span></span> <span data-ttu-id="dd978-180">Annars fortsätter toohello nästa steg.</span><span class="sxs-lookup"><span data-stu-id="dd978-180">If not, proceed toohello next step.</span></span>

5. <span data-ttu-id="dd978-181">På hello **definitioner** fliken alla hello-åtgärder som definierats i filen OpenAPI är fylls i automatiskt.</span><span class="sxs-lookup"><span data-stu-id="dd978-181">On hello **Definitions** tab, all hello operations defined in your OpenAPI file are auto-populated.</span></span> <span data-ttu-id="dd978-182">Om alla nödvändiga åtgärder har definierats kan gå du toohello nästa steg.</span><span class="sxs-lookup"><span data-stu-id="dd978-182">If all your required operations are defined, you can go toohello next step.</span></span> <span data-ttu-id="dd978-183">Om inte, kan du lägga till och ändra operations här.</span><span class="sxs-lookup"><span data-stu-id="dd978-183">If not, you can add and modify operations here.</span></span>

6. <span data-ttu-id="dd978-184">Klicka på **skapa koppling**.</span><span class="sxs-lookup"><span data-stu-id="dd978-184">Click **Create connector**.</span></span> <span data-ttu-id="dd978-185">Om du vill tootest API-anrop, gå toohello nästa steg.</span><span class="sxs-lookup"><span data-stu-id="dd978-185">If you want tootest API calls, go toohello next step.</span></span>

7. <span data-ttu-id="dd978-186">På hello **Test** fliken, skapa en anslutning, Välj en åtgärd tootest och ange några data som krävs av hello-åtgärd.</span><span class="sxs-lookup"><span data-stu-id="dd978-186">On hello **Test** tab, create a connection, select an operation tootest, and enter any data required by hello operation.</span></span>

8. <span data-ttu-id="dd978-187">Klicka på **testa åtgärden**.</span><span class="sxs-lookup"><span data-stu-id="dd978-187">Click **Test operation**.</span></span>


<a name="auth"></a>
## <a name="authentication"></a><span data-ttu-id="dd978-188">Autentisering</span><span class="sxs-lookup"><span data-stu-id="dd978-188">Authentication</span></span>

<span data-ttu-id="dd978-189">PowerApps och Microsoft Flow stöd inbyggt för en samling identitetsleverantörer som kan vara används toolog användare av din anpassade connector.</span><span class="sxs-lookup"><span data-stu-id="dd978-189">PowerApps and Microsoft Flow natively support a collection of identity providers which can be used toolog in users of your custom connector.</span></span> <span data-ttu-id="dd978-190">Om din API kräver autentisering, kontrollera att den avbildas som en _säkerhet definition_ i dokumentet OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="dd978-190">If your API requires authentication, ensure that it is captured as a _security definition_ in your OpenAPI document.</span></span> <span data-ttu-id="dd978-191">Under exporten måste tooprovide konfigurationsvärden som tillåter PowerApps en Microsoft Flow tooperform inloggningen åtgärder.</span><span class="sxs-lookup"><span data-stu-id="dd978-191">During export, you will need tooprovide configuration values that allow PowerApps an Microsoft Flow tooperform login actions.</span></span>

<span data-ttu-id="dd978-192">Det här avsnittet beskriver hello autentiseringstyper som stöds av hello express flöde: API-nyckel, Azure Active Directory och allmänna OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="dd978-192">This section covers hello authentication types which are supported by hello express flow: API key, Azure Active Directory, and Generic OAuth 2.0.</span></span> <span data-ttu-id="dd978-193">En fullständig lista över leverantörer och hello autentiseringsuppgifter kräver finns [registrera och använda anpassade kopplingar i PowerApps] och [registrera och använda anpassade kopplingar i Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="dd978-193">For a complete list of providers and hello credentials each requires, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

### <a name="api-key"></a><span data-ttu-id="dd978-194">API-nyckel</span><span class="sxs-lookup"><span data-stu-id="dd978-194">API key</span></span>
<span data-ttu-id="dd978-195">När detta säkerhetsprogram används kommer hello användare anslutningstjänsten att tillfrågas tooprovide hello nyckel när de skapar en anslutning.</span><span class="sxs-lookup"><span data-stu-id="dd978-195">When this security scheme is used, hello users of your connector will be prompted tooprovide hello key when they create a connection.</span></span> <span data-ttu-id="dd978-196">Du kan ange en API nyckelnamn toohelp de vet vilken nyckel krävs.</span><span class="sxs-lookup"><span data-stu-id="dd978-196">You can provide an API key name toohelp them know which key is needed.</span></span> <span data-ttu-id="dd978-197">För Azure Functions, vanligtvis blir en hello-värdnycklar, som omfattar flera funktioner i hello funktionsapp.</span><span class="sxs-lookup"><span data-stu-id="dd978-197">For Azure Functions, this will typically be one of hello host keys, covering several functions within hello function app.</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="dd978-198">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="dd978-198">Azure Active Directory</span></span>
<span data-ttu-id="dd978-199">När du konfigurerar en anpassad koppling som kräver AAD inloggning krävs två registreringar för AAD-program: en toomodel hello backend-API och en toomodel hello koppling i PowerApps och flöde.</span><span class="sxs-lookup"><span data-stu-id="dd978-199">When configuring a custom connector that requires AAD login, two AAD application registrations are required: one toomodel hello backend API, and one toomodel hello connector in PowerApps and Flow.</span></span>

<span data-ttu-id="dd978-200">Din API ska vara konfigurerade toowork med hello första registreringen och detta kommer redan typen om du använde hello [autentisering/auktorisering i Apptjänst](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) funktion.</span><span class="sxs-lookup"><span data-stu-id="dd978-200">Your API should be configured toowork with hello first registration, and this will already be taken care of if you used hello [App Service Authentication/Authorization](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) feature.</span></span>

<span data-ttu-id="dd978-201">Du måste toomanually skapa hello andra registrering för hello connector med hello steg som beskrivs i [lägga till ett AAD-program](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span><span class="sxs-lookup"><span data-stu-id="dd978-201">You will have toomanually create hello second registration for hello connector, using hello steps covered in [Adding an AAD application](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span></span> <span data-ttu-id="dd978-202">hello registrering måste toohave delegerad åtkomst tooyour API och svars-URL: en `https://msmanaged-na.consent.azure-apim.net/redirect`.</span><span class="sxs-lookup"><span data-stu-id="dd978-202">hello registration needs toohave delegated access tooyour API and a reply URL of `https://msmanaged-na.consent.azure-apim.net/redirect`.</span></span> <span data-ttu-id="dd978-203">Se [det här exemplet](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) ersätta ditt API för hello Azure Resource Manager för mer information.</span><span class="sxs-lookup"><span data-stu-id="dd978-203">Please see [this example](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) for more detail, substituting your API for hello Azure Resource Manager.</span></span>

<span data-ttu-id="dd978-204">hello följande konfigurationsvärden krävs:</span><span class="sxs-lookup"><span data-stu-id="dd978-204">hello following configuration values are required:</span></span>
- <span data-ttu-id="dd978-205">**Klient-ID** -hello klient-ID anslutningstjänsten AAD-registrering</span><span class="sxs-lookup"><span data-stu-id="dd978-205">**Client ID** - hello client ID of your connector AAD registration</span></span>
- <span data-ttu-id="dd978-206">**Klienthemlighet** -hello klienthemlighet anslutningstjänsten AAD-registrering</span><span class="sxs-lookup"><span data-stu-id="dd978-206">**Client secret** - hello client secret of your connector AAD registration</span></span>
- <span data-ttu-id="dd978-207">**Inloggnings-URL** - hello bas-URL för AAD.</span><span class="sxs-lookup"><span data-stu-id="dd978-207">**Login URL** - hello base URL for AAD.</span></span> <span data-ttu-id="dd978-208">I offentliga Azure detta vanligtvis blir `https://login.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="dd978-208">In public Azure, this will typically be `https://login.windows.net`.</span></span>
- <span data-ttu-id="dd978-209">**Klient-ID** -hello-ID för hello klient toobe används för hello inloggningen.</span><span class="sxs-lookup"><span data-stu-id="dd978-209">**Tenant ID** - hello ID of hello tenant toobe used for hello login.</span></span> <span data-ttu-id="dd978-210">Det bör vara ”gemensamma” eller hello-ID för hello klient i vilka hello anslutningen skapas.</span><span class="sxs-lookup"><span data-stu-id="dd978-210">This should be "common" or hello ID of hello tenant in which hello connector is being created.</span></span>
- <span data-ttu-id="dd978-211">**Resurs-URL** -hello resurs-URL för API-serverdel AAD registreringen</span><span class="sxs-lookup"><span data-stu-id="dd978-211">**Resource URL** - hello resource URL of your API backend AAD registration</span></span>

> [!IMPORTANT]
> <span data-ttu-id="dd978-212">Om en annan person importerar hello API-definition i PowerApps och Microsoft Flow som en del av hello manuell flödet, behöver du tooprovide dem med hello-ID och klienten klienthemlighet **av registreringen av anslutningsverktyget hello**, samt som hello resurs-URL för ditt API.</span><span class="sxs-lookup"><span data-stu-id="dd978-212">If another individual will be importing hello API definition into PowerApps and Microsoft Flow as part of hello manual flow, you will need tooprovide them with hello client ID and client secret **of hello connector registration**, as well as hello resource URL of your API.</span></span> <span data-ttu-id="dd978-213">Se till att dessa hemligheter hanteras på ett säkert sätt.</span><span class="sxs-lookup"><span data-stu-id="dd978-213">Make sure that these secrets are managed securely.</span></span> <span data-ttu-id="dd978-214">**Dela inte hello säkerhetsreferenser för hello API sig själv.**</span><span class="sxs-lookup"><span data-stu-id="dd978-214">**Do not share hello security credentials of hello API itself.**</span></span>

### <a name="generic-oauth-20"></a><span data-ttu-id="dd978-215">Allmän OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="dd978-215">Generic OAuth 2.0</span></span>
<span data-ttu-id="dd978-216">hello allmänna OAuth 2.0-stöd kan toointegrate med valfri OAuth 2.0-provider.</span><span class="sxs-lookup"><span data-stu-id="dd978-216">hello generic OAuth 2.0 support allows you toointegrate with any OAuth 2.0 provider.</span></span> <span data-ttu-id="dd978-217">Detta ger dig toobring eventuella anpassade providern som inte stöds internt.</span><span class="sxs-lookup"><span data-stu-id="dd978-217">This allows you toobring in any custom provider which is not natively supported.</span></span>

<span data-ttu-id="dd978-218">hello följande konfigurationsvärden krävs:</span><span class="sxs-lookup"><span data-stu-id="dd978-218">hello following configuration values are required:</span></span>
- <span data-ttu-id="dd978-219">**Klient-ID** -hello OAuth 2.0 klient-ID</span><span class="sxs-lookup"><span data-stu-id="dd978-219">**Client ID** - hello OAuth 2.0 client ID</span></span>
- <span data-ttu-id="dd978-220">**Klienthemlighet** -hello OAuth 2.0-klienthemlighet</span><span class="sxs-lookup"><span data-stu-id="dd978-220">**Client secret** - hello OAuth 2.0 client secret</span></span>
- <span data-ttu-id="dd978-221">**Webbadress för auktorisering** -hello Webbadress för OAuth 2.0-auktorisering</span><span class="sxs-lookup"><span data-stu-id="dd978-221">**Authorization URL** - hello OAuth 2.0 authorization URL</span></span>
- <span data-ttu-id="dd978-222">**Token URL** -hello OAuth 2.0-token URL</span><span class="sxs-lookup"><span data-stu-id="dd978-222">**Token URL** - hello OAuth 2.0 token URL</span></span>
- <span data-ttu-id="dd978-223">**Uppdatera URL** -hello URL: en för OAuth 2.0-uppdatering</span><span class="sxs-lookup"><span data-stu-id="dd978-223">**Refresh URL** - hello OAuth 2.0 refresh URL</span></span>



[registrera och använda anpassade kopplingar i PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/
[registrera och använda anpassade kopplingar i Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/
