---
title: "aaaCreate en Azure Apptjänst-miljö med hjälp av en Resource Manager-mall"
description: "Förklarar hur toocreate en extern eller ILB Azure App Service-miljö med hjälp av en Resource Manager-mall"
services: app-service
documentationcenter: na
author: ccompy
manager: stefsch
ms.assetid: 6eb7d43d-e820-4a47-818c-80ff7d3b6f8e
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: ccompy
ms.openlocfilehash: c8aeedee675a6e931169b725ee916cc7fa8f762f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="create-an-ase-by-using-an-azure-resource-manager-template"></a><span data-ttu-id="0c317-103">Skapa en ASE med hjälp av en Azure Resource Manager-mall</span><span class="sxs-lookup"><span data-stu-id="0c317-103">Create an ASE by using an Azure Resource Manager template</span></span>

## <a name="overview"></a><span data-ttu-id="0c317-104">Översikt</span><span class="sxs-lookup"><span data-stu-id="0c317-104">Overview</span></span>
<span data-ttu-id="0c317-105">Azure Apptjänst-miljöer (ASEs) kan skapas med en internet-tillgänglig slutpunkt eller en slutpunkt på en intern adress i Azure-nätverk (VNet).</span><span class="sxs-lookup"><span data-stu-id="0c317-105">Azure App Service environments (ASEs) can be created with an internet-accessible endpoint or an endpoint on an internal address in an Azure virtual network (VNet).</span></span> <span data-ttu-id="0c317-106">När de skapas med en intern slutpunkt tillhandahålls denna slutpunkt av en Azure komponent som kallas en intern belastningsutjämnare (ILB).</span><span class="sxs-lookup"><span data-stu-id="0c317-106">When created with an internal endpoint, that endpoint is provided by an Azure component called an internal load balancer (ILB).</span></span> <span data-ttu-id="0c317-107">Hej ASE på en intern IP-adress kallas en ILB ASE.</span><span class="sxs-lookup"><span data-stu-id="0c317-107">hello ASE on an internal IP address is called an ILB ASE.</span></span> <span data-ttu-id="0c317-108">Hej ASE med en offentlig slutpunkt kallas för en extern ASE.</span><span class="sxs-lookup"><span data-stu-id="0c317-108">hello ASE with a public endpoint is called an External ASE.</span></span> 

<span data-ttu-id="0c317-109">En ASE kan skapas med hjälp av hello Azure-portalen eller en Azure Resource Manager-mall.</span><span class="sxs-lookup"><span data-stu-id="0c317-109">An ASE can be created by using hello Azure portal or an Azure Resource Manager template.</span></span> <span data-ttu-id="0c317-110">Den här artikeln beskriver hur hello steg och syntax som du behöver en extern ASE eller ILB ASE toocreate med Resource Manager-mallar.</span><span class="sxs-lookup"><span data-stu-id="0c317-110">This article walks through hello steps and syntax you need toocreate an External ASE or ILB ASE with Resource Manager templates.</span></span> <span data-ttu-id="0c317-111">toolearn hur toocreate en ASE i hello Azure-portalen, se [göra en extern ASE] [ MakeExternalASE] eller [gör en ILB ASE][MakeILBASE].</span><span class="sxs-lookup"><span data-stu-id="0c317-111">toolearn how toocreate an ASE in hello Azure portal, see [Make an External ASE][MakeExternalASE] or [Make an ILB ASE][MakeILBASE].</span></span>

<span data-ttu-id="0c317-112">När du skapar en ASE i hello Azure-portalen kan du skapa ditt VNet på hello samma tid eller välj en befintlig VNet toodeploy till.</span><span class="sxs-lookup"><span data-stu-id="0c317-112">When you create an ASE in hello Azure portal, you can create your VNet at hello same time or choose a preexisting VNet toodeploy into.</span></span> <span data-ttu-id="0c317-113">När du skapar en ASE från en mall måste du starta med:</span><span class="sxs-lookup"><span data-stu-id="0c317-113">When you create an ASE from a template, you must start with:</span></span> 

* <span data-ttu-id="0c317-114">Hanteraren för virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="0c317-114">A Resource Manager VNet.</span></span>
* <span data-ttu-id="0c317-115">Ett undernät i det virtuella nätverket.</span><span class="sxs-lookup"><span data-stu-id="0c317-115">A subnet in that VNet.</span></span> <span data-ttu-id="0c317-116">Vi rekommenderar en ASE undernät storlek på `/25` med 128 adresser tooaccomodate framtida tillväxt.</span><span class="sxs-lookup"><span data-stu-id="0c317-116">We recommend an ASE subnet size of `/25` with 128 addresses tooaccomodate future growth.</span></span> <span data-ttu-id="0c317-117">När hello ASE har skapats kan ändra du inte hello storlek.</span><span class="sxs-lookup"><span data-stu-id="0c317-117">After hello ASE is created, you can't change hello size.</span></span>
* <span data-ttu-id="0c317-118">hello resurs-ID från ditt VNet.</span><span class="sxs-lookup"><span data-stu-id="0c317-118">hello resource ID from your VNet.</span></span> <span data-ttu-id="0c317-119">Du kan hämta den här informationen från hello Azure-portalen under Egenskaper för virtuellt nätverk.</span><span class="sxs-lookup"><span data-stu-id="0c317-119">You can get this information from hello Azure portal under your virtual network properties.</span></span>
* <span data-ttu-id="0c317-120">hello-prenumeration som du vill toodeploy till.</span><span class="sxs-lookup"><span data-stu-id="0c317-120">hello subscription you want toodeploy into.</span></span>
* <span data-ttu-id="0c317-121">hello-plats som du vill toodeploy till.</span><span class="sxs-lookup"><span data-stu-id="0c317-121">hello location you want toodeploy into.</span></span>

<span data-ttu-id="0c317-122">tooautomate genereringen av din ASE:</span><span class="sxs-lookup"><span data-stu-id="0c317-122">tooautomate your ASE creation:</span></span>

1. <span data-ttu-id="0c317-123">Skapa hello ASE från en mall.</span><span class="sxs-lookup"><span data-stu-id="0c317-123">Create hello ASE from a template.</span></span> <span data-ttu-id="0c317-124">Om du skapar en extern ASE är du klar efter det här steget.</span><span class="sxs-lookup"><span data-stu-id="0c317-124">If you create an External ASE, you're finished after this step.</span></span> <span data-ttu-id="0c317-125">Om du skapar en ILB ASE, finns det några fler saker toodo.</span><span class="sxs-lookup"><span data-stu-id="0c317-125">If you create an ILB ASE, there are a few more things toodo.</span></span>

2. <span data-ttu-id="0c317-126">När du har skapat din ILB ASE upp ett SSL-certifikat som matchar din ILB ASE-domän.</span><span class="sxs-lookup"><span data-stu-id="0c317-126">After your ILB ASE is created, an SSL certificate that matches your ILB ASE domain is uploaded.</span></span>

3. <span data-ttu-id="0c317-127">hello har överförda SSL-certifikatet tilldelats toohello ILB ASE som dess ”default” SSL-certifikat.</span><span class="sxs-lookup"><span data-stu-id="0c317-127">hello uploaded SSL certificate is assigned toohello ILB ASE as its "default" SSL certificate.</span></span>  <span data-ttu-id="0c317-128">Det här certifikatet används för SSL-trafik tooapps på hello ILB ASE när de använder hello vanliga rotdomänen som är tilldelade toohello ASE (till exempel https://someapp.mycustomrootcomain.com).</span><span class="sxs-lookup"><span data-stu-id="0c317-128">This certificate is used for SSL traffic tooapps on hello ILB ASE when they use hello common root domain that's assigned toohello ASE (for example, https://someapp.mycustomrootcomain.com).</span></span>


## <a name="create-hello-ase"></a><span data-ttu-id="0c317-129">Skapa hello ASE</span><span class="sxs-lookup"><span data-stu-id="0c317-129">Create hello ASE</span></span>
<span data-ttu-id="0c317-130">En Resource Manager-mall som skapar en ASE och dess associerade parametrar-fil är tillgänglig [i ett exempel] [ quickstartasev2create] på GitHub.</span><span class="sxs-lookup"><span data-stu-id="0c317-130">A Resource Manager template that creates an ASE and its associated parameters file is available [in an example][quickstartasev2create] on GitHub.</span></span>

<span data-ttu-id="0c317-131">Om du vill toomake en ILB ASE kan använda dessa Resource Manager-mall [exempel][quickstartilbasecreate].</span><span class="sxs-lookup"><span data-stu-id="0c317-131">If you want toomake an ILB ASE, use these Resource Manager template [examples][quickstartilbasecreate].</span></span> <span data-ttu-id="0c317-132">De tillgodose toothat användningsfall.</span><span class="sxs-lookup"><span data-stu-id="0c317-132">They cater toothat use case.</span></span> <span data-ttu-id="0c317-133">De flesta hello parametrar i hello *azuredeploy.parameters.json* filen är den vanliga toohello skapandet av ILB ASEs och externa ASEs.</span><span class="sxs-lookup"><span data-stu-id="0c317-133">Most of hello parameters in hello *azuredeploy.parameters.json* file are common toohello creation of ILB ASEs and External ASEs.</span></span> <span data-ttu-id="0c317-134">hello följande lista visar parametrarna för särskild anmärkning eller som är unika, när du skapar en ILB ASE:</span><span class="sxs-lookup"><span data-stu-id="0c317-134">hello following list calls out parameters of special note, or that are unique, when you create an ILB ASE:</span></span>

* <span data-ttu-id="0c317-135">*interalLoadBalancingMode*: Ange too3, vilket innebär att båda HTTP/HTTPS-trafik på portarna 80/443, i de flesta fall och hello kontrolldata/channel-portar har lyssnat tooby hello FTP-tjänsten på hello ASE kommer att vara bundna tooan ILB-allokerade virtuella nätverk intern adress.</span><span class="sxs-lookup"><span data-stu-id="0c317-135">*interalLoadBalancingMode*: In most cases, set this too3, which means both HTTP/HTTPS traffic on ports 80/443, and hello control/data channel ports listened tooby hello FTP service on hello ASE, will be bound tooan ILB-allocated virtual network internal address.</span></span> <span data-ttu-id="0c317-136">Om den här egenskapen anges too2 endast hello FTP tjänstrelaterade portar (både kontroll- och kanaler) är bundna tooan ILB-adress.</span><span class="sxs-lookup"><span data-stu-id="0c317-136">If this property is set too2, only hello FTP service-related ports (both control and data channels) are bound tooan ILB address.</span></span> <span data-ttu-id="0c317-137">Det finns kvar på hello offentliga VIP hello HTTP/HTTPS-trafik.</span><span class="sxs-lookup"><span data-stu-id="0c317-137">hello HTTP/HTTPS traffic remains on hello public VIP.</span></span>
* <span data-ttu-id="0c317-138">*dnsSuffix*: den här parametern anger hello standard rotdomänen som är tilldelade toohello ASE.</span><span class="sxs-lookup"><span data-stu-id="0c317-138">*dnsSuffix*: This parameter defines hello default root domain that's assigned toohello ASE.</span></span> <span data-ttu-id="0c317-139">I hello offentliga variationen i Azure App Service, hello standard rotdomänen för alla webbappar är *azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="0c317-139">In hello public variation of Azure App Service, hello default root domain for all web apps is *azurewebsites.net*.</span></span> <span data-ttu-id="0c317-140">Eftersom en ILB ASE är interna tooa kundens virtuella nätverk, går det inte att meningsfullt toouse hello offentliga tjänstens standard rotdomänen.</span><span class="sxs-lookup"><span data-stu-id="0c317-140">Because an ILB ASE is internal tooa customer's virtual network, it doesn't make sense toouse hello public service's default root domain.</span></span> <span data-ttu-id="0c317-141">I stället ska en ILB ASE ha en standard-rotdomän som passar för användning i ett företags interna virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="0c317-141">Instead, an ILB ASE should have a default root domain that makes sense for use within a company's internal virtual network.</span></span> <span data-ttu-id="0c317-142">Contoso Corporation kan till exempel använda en standard rotdomän *intern contoso.com* för appar som är avsedda toobe matchas och tillgänglig endast Contosos virtuellt nätverk.</span><span class="sxs-lookup"><span data-stu-id="0c317-142">For example, Contoso Corporation might use a default root domain of *internal-contoso.com* for apps that are intended toobe resolvable and accessible only within Contoso's virtual network.</span></span> 
* <span data-ttu-id="0c317-143">*ipSslAddressCount*: den här parametern används automatiskt standardvärden tooa värdet 0 i hello *azuredeploy.json* filen eftersom ILB ASEs bara ha en enda ILB-adress.</span><span class="sxs-lookup"><span data-stu-id="0c317-143">*ipSslAddressCount*: This parameter automatically defaults tooa value of 0 in hello *azuredeploy.json* file because ILB ASEs only have a single ILB address.</span></span> <span data-ttu-id="0c317-144">Det finns inga explicit SSL-IP-adresser för en ILB ASE.</span><span class="sxs-lookup"><span data-stu-id="0c317-144">There are no explicit IP-SSL addresses for an ILB ASE.</span></span> <span data-ttu-id="0c317-145">Därför måste hello SSL-IP-adresspool för ett ILB ASE anges toozero.</span><span class="sxs-lookup"><span data-stu-id="0c317-145">Hence, hello IP-SSL address pool for an ILB ASE must be set toozero.</span></span> <span data-ttu-id="0c317-146">Annars uppstår ett etablering.</span><span class="sxs-lookup"><span data-stu-id="0c317-146">Otherwise, a provisioning error occurs.</span></span> 

<span data-ttu-id="0c317-147">Efter hello *azuredeploy.parameters.json* filen är ifylld, skapa hello ASE med hjälp av hello PowerShell kodstycke.</span><span class="sxs-lookup"><span data-stu-id="0c317-147">After hello *azuredeploy.parameters.json* file is filled in, create hello ASE by using hello PowerShell code snippet.</span></span> <span data-ttu-id="0c317-148">Ändra hello sökvägar toomatch hello Resource Manager-mallfil filplatser på din dator.</span><span class="sxs-lookup"><span data-stu-id="0c317-148">Change hello file paths toomatch hello Resource Manager template-file locations on your machine.</span></span> <span data-ttu-id="0c317-149">Kom ihåg toosupply egna värden för hello Resource Manager distributionsnamn och hello resursgruppens namn:</span><span class="sxs-lookup"><span data-stu-id="0c317-149">Remember toosupply your own values for hello Resource Manager deployment name and hello resource group name:</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="0c317-150">Det tar ungefär en timme för hello ASE toobe skapas.</span><span class="sxs-lookup"><span data-stu-id="0c317-150">It takes about an hour for hello ASE toobe created.</span></span> <span data-ttu-id="0c317-151">Sedan visas hello ASE i hello-portal i hello lista över ASEs för hello-prenumeration som utlöste hello-distribution.</span><span class="sxs-lookup"><span data-stu-id="0c317-151">Then hello ASE shows up in hello portal in hello list of ASEs for hello subscription that triggered hello deployment.</span></span>

## <a name="upload-and-configure-hello-default-ssl-certificate"></a><span data-ttu-id="0c317-152">Överför och konfigurerar hello ”default” SSL-certifikat</span><span class="sxs-lookup"><span data-stu-id="0c317-152">Upload and configure hello "default" SSL certificate</span></span>
<span data-ttu-id="0c317-153">Ett SSL-certifikat måste vara kopplad till hello ASE som hello ”default” SSL-certifikat som används tooestablish SSL-anslutningar tooapps.</span><span class="sxs-lookup"><span data-stu-id="0c317-153">An SSL certificate must be associated with hello ASE as hello "default" SSL certificate that's used tooestablish SSL connections tooapps.</span></span> <span data-ttu-id="0c317-154">Om DNS-suffixet för hello ASES standard *intern contoso.com*, en anslutning toohttps://some-random-app.internal-contoso.com kräver ett SSL-certifikat som gäller för **.internal contoso.com* .</span><span class="sxs-lookup"><span data-stu-id="0c317-154">If hello ASE's default DNS suffix is *internal-contoso.com*, a connection toohttps://some-random-app.internal-contoso.com requires an SSL certificate that's valid for **.internal-contoso.com*.</span></span> 

<span data-ttu-id="0c317-155">Skaffa ett giltigt SSL-certifikat med hjälp av interna certifikatutfärdare, köpa ett certifikat från en extern utfärdare eller med ett självsignerat certifikat.</span><span class="sxs-lookup"><span data-stu-id="0c317-155">Obtain a valid SSL certificate by using internal certificate authorities, purchasing a certificate from an external issuer, or using a self-signed certificate.</span></span> <span data-ttu-id="0c317-156">Oavsett hello källa för hello SSL-certifikat, måste hello följande certifikat attribut vara korrekt konfigurerade:</span><span class="sxs-lookup"><span data-stu-id="0c317-156">Regardless of hello source of hello SSL certificate, hello following certificate attributes must be configured properly:</span></span>

* <span data-ttu-id="0c317-157">**Ämne**: det här attributet måste anges för **.your-rot-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="0c317-157">**Subject**: This attribute must be set too**.your-root-domain-here.com*.</span></span>
* <span data-ttu-id="0c317-158">**Alternativt ämnesnamn**: det här attributet måste innehålla både **.your-rot-domain-here.com* och **.scm.your-rot-domain-here.com*. SSL-anslutningar toohello SCM/Kudu-plats som är associerade med varje app använder en adress i formatet hello *your-app-name.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="0c317-158">**Subject Alternative Name**: This attribute must include both **.your-root-domain-here.com* and **.scm.your-root-domain-here.com*. SSL connections toohello SCM/Kudu site associated with each app use an address of hello form *your-app-name.scm.your-root-domain-here.com*.</span></span>

<span data-ttu-id="0c317-159">Med ett giltigt SSL-certifikat i hand krävs två ytterligare förberedande åtgärder.</span><span class="sxs-lookup"><span data-stu-id="0c317-159">With a valid SSL certificate in hand, two additional preparatory steps are needed.</span></span> <span data-ttu-id="0c317-160">Konvertera/spara hello SSL-certifikatet som en .pfx-fil.</span><span class="sxs-lookup"><span data-stu-id="0c317-160">Convert/save hello SSL certificate as a .pfx file.</span></span> <span data-ttu-id="0c317-161">Kom ihåg att hello .pfx-filen måste innehålla alla mellanliggande och root certifikat.</span><span class="sxs-lookup"><span data-stu-id="0c317-161">Remember that hello .pfx file must include all intermediate and root certificates.</span></span> <span data-ttu-id="0c317-162">Skydda den med ett lösenord.</span><span class="sxs-lookup"><span data-stu-id="0c317-162">Secure it with a password.</span></span>

<span data-ttu-id="0c317-163">hello .pfx-fil måste toobe konverteras till en base64-sträng eftersom hello SSL-certifikat har överförts av en Resource Manager-mall.</span><span class="sxs-lookup"><span data-stu-id="0c317-163">hello .pfx file needs toobe converted into a base64 string because hello SSL certificate is uploaded by using a Resource Manager template.</span></span> <span data-ttu-id="0c317-164">Eftersom Resource Manager-mallar är textfiler, måste hello .pfx-fil konverteras till en base64-sträng.</span><span class="sxs-lookup"><span data-stu-id="0c317-164">Because Resource Manager templates are text files, hello .pfx file must be converted into a base64 string.</span></span> <span data-ttu-id="0c317-165">Det här sättet kan den inkluderas som en parameter för hello mallen.</span><span class="sxs-lookup"><span data-stu-id="0c317-165">This way it can be included as a parameter of hello template.</span></span>

<span data-ttu-id="0c317-166">Använd hello följande PowerShell-kodstycke till:</span><span class="sxs-lookup"><span data-stu-id="0c317-166">Use hello following PowerShell code snippet to:</span></span>

* <span data-ttu-id="0c317-167">Generera ett självsignerat certifikat.</span><span class="sxs-lookup"><span data-stu-id="0c317-167">Generate a self-signed certificate.</span></span>
* <span data-ttu-id="0c317-168">Exportera hello certifikatet som en .pfx-fil.</span><span class="sxs-lookup"><span data-stu-id="0c317-168">Export hello certificate as a .pfx file.</span></span>
* <span data-ttu-id="0c317-169">Konvertera hello .pfx-fil till en base64-kodad sträng.</span><span class="sxs-lookup"><span data-stu-id="0c317-169">Convert hello .pfx file into a base64-encoded string.</span></span>
* <span data-ttu-id="0c317-170">Spara hello base64-kodad sträng tooa separat fil.</span><span class="sxs-lookup"><span data-stu-id="0c317-170">Save hello base64-encoded string tooa separate file.</span></span> 

<span data-ttu-id="0c317-171">Den här PowerShell-koden för base64-kodning bygger på hello [PowerShell-skript blogg][examplebase64encoding]:</span><span class="sxs-lookup"><span data-stu-id="0c317-171">This PowerShell code for base64 encoding was adapted from hello [PowerShell scripts blog][examplebase64encoding]:</span></span>

        $certificate = New-SelfSignedCertificate -certstorelocation cert:\localmachine\my -dnsname "*.internal-contoso.com","*.scm.internal-contoso.com"

        $certThumbprint = "cert:\localMachine\my\" + $certificate.Thumbprint
        $password = ConvertTo-SecureString -String "CHANGETHISPASSWORD" -Force -AsPlainText

        $fileName = "exportedcert.pfx"
        Export-PfxCertificate -cert $certThumbprint -FilePath $fileName -Password $password     

        $fileContentBytes = get-content -encoding byte $fileName
        $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)
        $fileContentEncoded | set-content ($fileName + ".b64")

<span data-ttu-id="0c317-172">När hello SSL-certifikatet har genererats och konverteras tooa base64-kodad sträng använder hello exempel Resource Manager-mall [konfigurera hello standard SSL-certifikat] [ quickstartconfiguressl] på GitHub.</span><span class="sxs-lookup"><span data-stu-id="0c317-172">After hello SSL certificate is successfully generated and converted tooa base64-encoded string, use hello example Resource Manager template [Configure hello default SSL certificate][quickstartconfiguressl] on GitHub.</span></span> 

<span data-ttu-id="0c317-173">Hej parametrar i hello *azuredeploy.parameters.json* fil finns här:</span><span class="sxs-lookup"><span data-stu-id="0c317-173">hello parameters in hello *azuredeploy.parameters.json* file are listed here:</span></span>

* <span data-ttu-id="0c317-174">*appServiceEnvironmentName*: hello namnet på hello ILB ASE som konfigureras.</span><span class="sxs-lookup"><span data-stu-id="0c317-174">*appServiceEnvironmentName*: hello name of hello ILB ASE being configured.</span></span>
* <span data-ttu-id="0c317-175">*existingAseLocation*: Text sträng som innehåller hello Azure-region där hello ILB ASE har distribuerats.</span><span class="sxs-lookup"><span data-stu-id="0c317-175">*existingAseLocation*: Text string containing hello Azure region where hello ILB ASE was deployed.</span></span>  <span data-ttu-id="0c317-176">Till exempel: ”södra centrala USA”.</span><span class="sxs-lookup"><span data-stu-id="0c317-176">For example: "South Central US".</span></span>
* <span data-ttu-id="0c317-177">*pfxBlobString*: hello based64-kodad sträng som innehåller hello .pfx-fil.</span><span class="sxs-lookup"><span data-stu-id="0c317-177">*pfxBlobString*: hello based64-encoded string representation of hello .pfx file.</span></span> <span data-ttu-id="0c317-178">Använd hello kodstycke som visades tidigare och kopiera hello sträng som finns i ”exportedcert.pfx.b64”.</span><span class="sxs-lookup"><span data-stu-id="0c317-178">Use hello code snippet shown earlier and copy hello string contained in "exportedcert.pfx.b64".</span></span> <span data-ttu-id="0c317-179">Klistra in den i som hello värde för hello *pfxBlobString* attribut.</span><span class="sxs-lookup"><span data-stu-id="0c317-179">Paste it in as hello value of hello *pfxBlobString* attribute.</span></span>
* <span data-ttu-id="0c317-180">*lösenordet*: hello lösenord som används för toosecure hello .pfx-fil.</span><span class="sxs-lookup"><span data-stu-id="0c317-180">*password*: hello password used toosecure hello .pfx file.</span></span>
* <span data-ttu-id="0c317-181">*certificateThumbprint*: hello certifikatets tumavtryck.</span><span class="sxs-lookup"><span data-stu-id="0c317-181">*certificateThumbprint*: hello certificate's thumbprint.</span></span> <span data-ttu-id="0c317-182">Om du hämtar värdet från PowerShell (till exempel *$certificate. Tumavtryck för* från hello tidigare kodstycke), kan du använda hello-värde som är.</span><span class="sxs-lookup"><span data-stu-id="0c317-182">If you retrieve this value from PowerShell (for example, *$certificate.Thumbprint* from hello earlier code snippet), you can use hello value as is.</span></span> <span data-ttu-id="0c317-183">Om du kopierar hello värdet från dialogrutan för hello Windows certifikat, Kom ihåg toostrip ut hello extra blanksteg.</span><span class="sxs-lookup"><span data-stu-id="0c317-183">If you copy hello value from hello Windows certificate dialog box, remember toostrip out hello extraneous spaces.</span></span> <span data-ttu-id="0c317-184">Hej *certificateThumbprint* ska se ut ungefär AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span><span class="sxs-lookup"><span data-stu-id="0c317-184">hello *certificateThumbprint* should look something like  AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span></span>
* <span data-ttu-id="0c317-185">*certificateName*: ett eget strängidentifierare väljer själv används tooidentity hello certifikat.</span><span class="sxs-lookup"><span data-stu-id="0c317-185">*certificateName*: A friendly string identifier of your own choosing used tooidentity hello certificate.</span></span> <span data-ttu-id="0c317-186">hello namnet används som en del av hello Unik identifierare för Resource Manager för hello *Microsoft.Web/certificates* entitet som representerar hello SSL-certifikat.</span><span class="sxs-lookup"><span data-stu-id="0c317-186">hello name is used as part of hello unique Resource Manager identifier for hello *Microsoft.Web/certificates* entity that represents hello SSL certificate.</span></span> <span data-ttu-id="0c317-187">hello namnet *måste* avslutas med hello följande suffix: \_yourASENameHere_InternalLoadBalancingASE.</span><span class="sxs-lookup"><span data-stu-id="0c317-187">hello name *must* end with hello following suffix: \_yourASENameHere_InternalLoadBalancingASE.</span></span> <span data-ttu-id="0c317-188">hello Azure-portalen använder det här suffixet som en indikator på att hello certifikat används toosecure en ASE ILB-aktiverade.</span><span class="sxs-lookup"><span data-stu-id="0c317-188">hello Azure portal uses this suffix as an indicator that hello certificate is used toosecure an ILB-enabled ASE.</span></span>

<span data-ttu-id="0c317-189">Ett förkortat exempel på *azuredeploy.parameters.json* visas här:</span><span class="sxs-lookup"><span data-stu-id="0c317-189">An abbreviated example of *azuredeploy.parameters.json* is shown here:</span></span>

    {
         "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json",
         "contentVersion": "1.0.0.0",
         "parameters": {
              "appServiceEnvironmentName": {
                   "value": "yourASENameHere"
              },
              "existingAseLocation": {
                   "value": "East US 2"
              },
              "pfxBlobString": {
                   "value": "MIIKcAIBAz...snip...snip...pkCAgfQ"
              },
              "password": {
                   "value": "PASSWORDGOESHERE"
              },
              "certificateThumbprint": {
                   "value": "AF3143EB61D43F6727842115BB7F17BBCECAECAE"
              },
              "certificateName": {
                   "value": "DefaultCertificateFor_yourASENameHere_InternalLoadBalancingASE"
              }
         }
    }

<span data-ttu-id="0c317-190">Efter hello *azuredeploy.parameters.json* filen fylls i, konfigurera hello standard SSL-certifikat med hjälp av hello PowerShell kodstycke.</span><span class="sxs-lookup"><span data-stu-id="0c317-190">After hello *azuredeploy.parameters.json* file is filled in, configure hello default SSL certificate by using hello PowerShell code snippet.</span></span> <span data-ttu-id="0c317-191">Ändra hello filen sökvägar toomatch där hello Resource Manager template-filerna finns på din dator.</span><span class="sxs-lookup"><span data-stu-id="0c317-191">Change hello file paths toomatch where hello Resource Manager template files are located on your machine.</span></span> <span data-ttu-id="0c317-192">Kom ihåg toosupply egna värden för hello Resource Manager distributionsnamn och hello resursgruppens namn:</span><span class="sxs-lookup"><span data-stu-id="0c317-192">Remember toosupply your own values for hello Resource Manager deployment name and hello resource group name:</span></span>

     $templatePath="PATH\azuredeploy.json"
     $parameterPath="PATH\azuredeploy.parameters.json"

     New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="0c317-193">Det tar ungefär 40 minuter per ASE klientdelen tooapply hello ändring.</span><span class="sxs-lookup"><span data-stu-id="0c317-193">It takes roughly 40 minutes per ASE front end tooapply hello change.</span></span> <span data-ttu-id="0c317-194">Att till exempel för en standardstorlek ASE som använder två frontwebbservrarna, hello mallen tar runt en timme och 20 minuter toocomplete.</span><span class="sxs-lookup"><span data-stu-id="0c317-194">For example, for a default-sized ASE that uses two front ends, hello template takes around one hour and 20 minutes toocomplete.</span></span> <span data-ttu-id="0c317-195">Medan hello mallen körs hello ASE går inte att skala.</span><span class="sxs-lookup"><span data-stu-id="0c317-195">While hello template is running, hello ASE can't scale.</span></span>  

<span data-ttu-id="0c317-196">Appar på hello ILB ASE kan nås via HTTPS när hello mallen har slutförts.</span><span class="sxs-lookup"><span data-stu-id="0c317-196">After hello template finishes, apps on hello ILB ASE can be accessed over HTTPS.</span></span> <span data-ttu-id="0c317-197">hello anslutningar skyddas med hjälp av hello standard SSL-certifikat.</span><span class="sxs-lookup"><span data-stu-id="0c317-197">hello connections are secured by using hello default SSL certificate.</span></span> <span data-ttu-id="0c317-198">hello standard SSL-certifikat används när apparna på hello ILB ASE åtgärdas genom att använda en kombination av hello programnamn plus hello standardnamnet för värden.</span><span class="sxs-lookup"><span data-stu-id="0c317-198">hello default SSL certificate is used when apps on hello ILB ASE are addressed by using a combination of hello application name plus hello default host name.</span></span> <span data-ttu-id="0c317-199">Till exempel https://mycustomapp.internal-contoso.com använder hello standard SSL-certifikat för **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="0c317-199">For example, https://mycustomapp.internal-contoso.com uses hello default SSL certificate for **.internal-contoso.com*.</span></span>

<span data-ttu-id="0c317-200">Utvecklare kan dock precis som appar som körs på hello offentliga multitenant tjänsten, konfigurera anpassade värdnamn för enskilda appar.</span><span class="sxs-lookup"><span data-stu-id="0c317-200">However, just like apps that run on hello public multitenant service, developers can configure custom host names for individual apps.</span></span> <span data-ttu-id="0c317-201">De kan också konfigurera unika SNI SSL-certifikatbindningar för enskilda appar.</span><span class="sxs-lookup"><span data-stu-id="0c317-201">They also can configure unique SNI SSL certificate bindings for individual apps.</span></span>

## <a name="app-service-environment-v1"></a><span data-ttu-id="0c317-202">App Service Environment v1</span><span class="sxs-lookup"><span data-stu-id="0c317-202">App Service Environment v1</span></span> ##
<span data-ttu-id="0c317-203">Apptjänst-miljö har två versioner: ASEv1 och ASEv2.</span><span class="sxs-lookup"><span data-stu-id="0c317-203">App Service Environment has two versions: ASEv1 and ASEv2.</span></span> <span data-ttu-id="0c317-204">hello föregående information har baserat på ASEv2.</span><span class="sxs-lookup"><span data-stu-id="0c317-204">hello preceding information was based on ASEv2.</span></span> <span data-ttu-id="0c317-205">Det här avsnittet visar hello av skillnaderna mellan ASEv1 och ASEv2.</span><span class="sxs-lookup"><span data-stu-id="0c317-205">This section shows you hello differences between ASEv1 and ASEv2.</span></span>

<span data-ttu-id="0c317-206">I ASEv1 hanterar alla hello resurser manuellt.</span><span class="sxs-lookup"><span data-stu-id="0c317-206">In ASEv1, you manage all of hello resources manually.</span></span> <span data-ttu-id="0c317-207">Som innehåller hello frontwebbservrarna, personal och IP-adresser som används för IP-baserade SSL.</span><span class="sxs-lookup"><span data-stu-id="0c317-207">That includes hello front ends, workers, and IP addresses used for IP-based SSL.</span></span> <span data-ttu-id="0c317-208">Innan du kan skala ut din programtjänstplan, måste du skalar upp hello arbetspool som du vill toohost den.</span><span class="sxs-lookup"><span data-stu-id="0c317-208">Before you can scale out your App Service plan, you must scale out hello worker pool that you want toohost it.</span></span>

<span data-ttu-id="0c317-209">ASEv1 använder en annan prisnivå modell från ASEv2.</span><span class="sxs-lookup"><span data-stu-id="0c317-209">ASEv1 uses a different pricing model from ASEv2.</span></span> <span data-ttu-id="0c317-210">ASEv1 betalar du för varje kärna allokerade.</span><span class="sxs-lookup"><span data-stu-id="0c317-210">In ASEv1, you pay for each core allocated.</span></span> <span data-ttu-id="0c317-211">Som innehåller kärnor som används för frontwebbservrarna eller personer som inte är värd för alla arbetsbelastningar.</span><span class="sxs-lookup"><span data-stu-id="0c317-211">That includes cores that are used for front ends or workers that aren't hosting any workloads.</span></span> <span data-ttu-id="0c317-212">I ASEv1 är hello maximal skala standardstorlek en ASE 55 Totalt antal värdar.</span><span class="sxs-lookup"><span data-stu-id="0c317-212">In ASEv1, hello default maximum-scale size of an ASE is 55 total hosts.</span></span> <span data-ttu-id="0c317-213">Som innehåller arbetare och frontwebbservrarna.</span><span class="sxs-lookup"><span data-stu-id="0c317-213">That includes workers and front ends.</span></span> <span data-ttu-id="0c317-214">En fördel tooASEv1 är kan distribueras i ett klassiskt virtuellt nätverk och ett virtuellt nätverk för hanteraren för filserverresurser.</span><span class="sxs-lookup"><span data-stu-id="0c317-214">One advantage tooASEv1 is that it can be deployed in a classic virtual network and a Resource Manager virtual network.</span></span> <span data-ttu-id="0c317-215">toolearn mer om ASEv1, se [Apptjänstmiljö v1 introduktion][ASEv1Intro].</span><span class="sxs-lookup"><span data-stu-id="0c317-215">toolearn more about ASEv1, see [App Service Environment v1 introduction][ASEv1Intro].</span></span>

<span data-ttu-id="0c317-216">toocreate en ASEv1 med hjälp av en Resource Manager-mall finns [skapar en ILB ASE v1 med Resource Manager-mall][ILBASEv1Template].</span><span class="sxs-lookup"><span data-stu-id="0c317-216">toocreate an ASEv1 by using a Resource Manager template, see [Create an ILB ASE v1 with a Resource Manager template][ILBASEv1Template].</span></span>


<!--Links-->
[quickstartilbasecreate]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-ilb-create
[quickstartasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-create
[quickstartconfiguressl]: http://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl
[quickstartwebapponasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asp-app-on-asev2-create
[examplebase64encoding]: http://powershellscripts.blogspot.com/2007/02/base64-encode-file.html 
[configuringDefaultSSLCertificate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl/
[Intro]: ./intro.md
[MakeExternalASE]: ./create-external-ase.md
[MakeASEfromTemplate]: ./create-from-template.md
[MakeILBASE]: ./create-ilb-ase.md
[ASENetwork]: ./network-info.md
[ASEReadme]: ./readme.md
[UsingASE]: ./using-an-ase.md
[UDRs]: ../../virtual-network/virtual-networks-udr-overview.md
[NSGs]: ../../virtual-network/virtual-networks-nsg.md
[ConfigureASEv1]: ../../app-service-web/app-service-web-configure-an-app-service-environment.md
[ASEv1Intro]: ../../app-service-web/app-service-app-service-environment-intro.md
[webapps]: ../../app-service-web/app-service-web-overview.md
[mobileapps]: ../../app-service-mobile/app-service-mobile-value-prop.md
[APIapps]: ../../app-service-api/app-service-api-apps-why-best-platform.md
[Functions]: ../../azure-functions/index.yml
[Pricing]: http://azure.microsoft.com/pricing/details/app-service/
[ARMOverview]: ../../azure-resource-manager/resource-group-overview.md
[ConfigureSSL]: ../../app-service-web/web-sites-purchase-ssl-web-site.md
[Kudu]: http://azure.microsoft.com/resources/videos/super-secret-kudu-debug-console-for-azure-web-sites/
[AppDeploy]: ../../app-service-web/web-sites-deploy.md
[ASEWAF]: ../../app-service-web/app-service-app-service-environment-web-application-firewall.md
[AppGW]: ../../application-gateway/application-gateway-web-application-firewall-overview.md
[ILBASEv1Template]: ../../app-service-web/app-service-app-service-environment-create-ilb-ase-resourcemanager.md
