---
title: "IoT-säkerhetsarkitekturen | Microsoft Docs"
description: "IoT-arkitekturen säkerhetsriktlinjer och överväganden"
services: 
suite: iot-suite
documentationcenter: 
author: YuriDio
manager: timlt
editor: 
ms.assetid: 18ed3eb0-9406-44e1-8a3a-93dc6726c7ac
ms.service: iot-suite
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/03/2017
ms.author: yurid
ms.openlocfilehash: 2482dade7d17d05b2fc90fbf22b0466227a5983b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="internet-of-things-security-architecture"></a><span data-ttu-id="07537-103">Sakernas Internet-säkerhetsarkitekturen</span><span class="sxs-lookup"><span data-stu-id="07537-103">Internet of Things security architecture</span></span>
<span data-ttu-id="07537-104">När ett system utformas, är det viktigt att förstå potentiella hot på systemet och lägga till lämpliga försvar därför eftersom systemet är utformad och konstruerad.</span><span class="sxs-lookup"><span data-stu-id="07537-104">When designing a system, it is important to understand the potential threats to that system, and add appropriate defenses accordingly, as the system is designed and architected.</span></span> <span data-ttu-id="07537-105">Det är särskilt viktigt att utforma produkten från början med säkerhet i åtanke eftersom förstå hur en angripare kan vara att en dator gör att lämpliga åtgärder finns på plats från början.</span><span class="sxs-lookup"><span data-stu-id="07537-105">It is particularly important to design the product from the start with security in mind because understanding how an attacker might be able to compromise a system helps make sure appropriate mitigations are in place from the beginning.</span></span> 

## <a name="security-starts-with-a-threat-model"></a><span data-ttu-id="07537-106">Säkerhet som börjar med en hotmodell</span><span class="sxs-lookup"><span data-stu-id="07537-106">Security starts with a threat model</span></span>
<span data-ttu-id="07537-107">Microsoft har länge använt hot modeller för sina produkter och gjort företagets hot modellera processen offentligt tillgängliga.</span><span class="sxs-lookup"><span data-stu-id="07537-107">Microsoft has long used threat models for its products and has made the company’s threat modeling process publically available.</span></span> <span data-ttu-id="07537-108">Företagets erfarenhet visar att modellering har oväntat fördelar utöver den omedelbara förståelsen för vilka hot är den mest om.</span><span class="sxs-lookup"><span data-stu-id="07537-108">The company experience demonstrates that the modeling has unexpected benefits beyond the immediate understanding of what threats are the most concerning.</span></span> <span data-ttu-id="07537-109">Till exempel skapar det också en väg för en öppen diskussion med andra utanför Utvecklingsteamet, vilket kan leda till nya idéer och förbättringar i produkten.</span><span class="sxs-lookup"><span data-stu-id="07537-109">For example, it also creates an avenue for an open discussion with others outside the development team, which can lead to new ideas and improvements in the product.</span></span>

<span data-ttu-id="07537-110">Syftet med hotmodellering är att förstå hur en angripare kan vara att en dator och kontrollera att lämpliga åtgärder finns på plats.</span><span class="sxs-lookup"><span data-stu-id="07537-110">The objective of threat modeling is to understand how an attacker might be able to compromise a system and then make sure appropriate mitigations are in place.</span></span> <span data-ttu-id="07537-111">Hot modellering framtvingar designgruppen för att överväga åtgärder som att systemet i stället för efter en distribueras.</span><span class="sxs-lookup"><span data-stu-id="07537-111">Threat modeling forces the design team to consider mitigations as the system is designed rather than after a system is deployed.</span></span> <span data-ttu-id="07537-112">Detta är ytterst viktigt eftersom onlineåterställningspunkter säkerhetsskyddet på en mängd enheter på fältet är omöjligt, tillförlitligt och lämnar kunder i fara.</span><span class="sxs-lookup"><span data-stu-id="07537-112">This fact is critically important, because retrofitting security defenses to a myriad of devices in the field is infeasible, error prone and will leave customers at risk.</span></span>

<span data-ttu-id="07537-113">Många utvecklingsgrupper göra en utmärkt jobb som avbildar funktionella krav för system som har nytta av kunder.</span><span class="sxs-lookup"><span data-stu-id="07537-113">Many development teams do an excellent job capturing the functional requirements for the system that benefit customers.</span></span> <span data-ttu-id="07537-114">Identifiera icke-uppenbara sätt att någon kan missbrukas systemet är dock mer utmanande.</span><span class="sxs-lookup"><span data-stu-id="07537-114">However, identifying non-obvious ways that someone might misuse the system is more challenging.</span></span> <span data-ttu-id="07537-115">Hotmodellering hjälper dig att förstå vad en angripare kan göra utvecklingsgrupper och varför.</span><span class="sxs-lookup"><span data-stu-id="07537-115">Threat modeling can help development teams understand what an attacker might do and why.</span></span> <span data-ttu-id="07537-116">Hotmodellering är en strukturerad process som skapar en diskussion om säkerheten designbeslut i systemet, samt ändringar av design som görs på vägen att påverkan säkerhet.</span><span class="sxs-lookup"><span data-stu-id="07537-116">Threat modeling is a structured process that creates a discussion about the security design decisions in the system, as well as changes to the design that are made along the way that impact security.</span></span> <span data-ttu-id="07537-117">En hotmodell är bara ett dokument, representerar den här dokumentationen också ett enkelt sätt att kontrollera kontinuitet i knowledge kvarhållning av erfarenheter lärt dig och hjälp nytt team komma igång snabbt.</span><span class="sxs-lookup"><span data-stu-id="07537-117">While a threat model is simply a document, this documentation also represents an ideal way to ensure continuity of knowledge, retention of lessons learned, and help new team onboard rapidly.</span></span> <span data-ttu-id="07537-118">Slutligen är ett resultat av hotmodellering så att du kan överväga andra aspekter av säkerhet, till exempel vilka säkerhetsåtaganden som du vill ge dina kunder.</span><span class="sxs-lookup"><span data-stu-id="07537-118">Finally, an outcome of threat modeling is to enable you to consider other aspects of security, such as what security commitments you wish to provide to your customers.</span></span> <span data-ttu-id="07537-119">Dessa åtaganden tillsammans med hotmodellering informera och enheten testning av din lösning för Sakernas Internet (IoT).</span><span class="sxs-lookup"><span data-stu-id="07537-119">These commitments in conjunction with threat modeling will inform and drive testing of your Internet of Things (IoT) solution.</span></span>

### <a name="when-to-threat-model"></a><span data-ttu-id="07537-120">När du ska hot modellen</span><span class="sxs-lookup"><span data-stu-id="07537-120">When to threat model</span></span>
<span data-ttu-id="07537-121">[Hotmodellering](http://www.microsoft.com/security/sdl/adopt/threatmodeling.aspx) ger det största värdet om det ingår i designfasen.</span><span class="sxs-lookup"><span data-stu-id="07537-121">[Threat modeling](http://www.microsoft.com/security/sdl/adopt/threatmodeling.aspx) offers the greatest value if it is incorporated into the design phase.</span></span> <span data-ttu-id="07537-122">När du designar har störst flexibilitet att göra ändringar eliminera hot.</span><span class="sxs-lookup"><span data-stu-id="07537-122">When you are designing, you have the greatest flexibility to make changes to eliminate threats.</span></span> <span data-ttu-id="07537-123">Eliminera hot avsiktligt är önskat utfall.</span><span class="sxs-lookup"><span data-stu-id="07537-123">Eliminating threats by design is the desired outcome.</span></span> <span data-ttu-id="07537-124">Det är mycket enklare än att lägga till åtgärder, testa dem och att de fortfarande är aktuella och dessutom sådan eliminering är inte alltid möjligt.</span><span class="sxs-lookup"><span data-stu-id="07537-124">It is much easier than adding mitigations, testing them, and ensuring they remain current and moreover, such elimination is not always possible.</span></span> <span data-ttu-id="07537-125">Det blir svårare att eliminera hot som en produkt blir mer mogen och i sin tur slutligen kräver mer arbete och mycket svårare kompromisser än hot modeling tidigt i utvecklingen.</span><span class="sxs-lookup"><span data-stu-id="07537-125">It becomes harder to eliminate threats as a product becomes more mature, and in turn will ultimately require more work and a lot harder tradeoffs than threat modeling early on in the development.</span></span>

### <a name="what-to-threat-model"></a><span data-ttu-id="07537-126">Vad du hotmodell</span><span class="sxs-lookup"><span data-stu-id="07537-126">What to threat model</span></span>
<span data-ttu-id="07537-127">Du bör tråd modellen hela lösningen och även fokusera på följande områden:</span><span class="sxs-lookup"><span data-stu-id="07537-127">You should thread model the solution as a whole and also focus in the following areas:</span></span>

* <span data-ttu-id="07537-128">Funktioner för säkerhet och sekretess</span><span class="sxs-lookup"><span data-stu-id="07537-128">The security and privacy features</span></span>
* <span data-ttu-id="07537-129">De funktioner som fel är relevanta säkerhet</span><span class="sxs-lookup"><span data-stu-id="07537-129">The features whose failures are security relevant</span></span>
* <span data-ttu-id="07537-130">De funktioner som rör en förtroendegräns</span><span class="sxs-lookup"><span data-stu-id="07537-130">The features that touch a trust boundary</span></span> 

### <a name="who-threat-models"></a><span data-ttu-id="07537-131">Som hot modeller</span><span class="sxs-lookup"><span data-stu-id="07537-131">Who threat models</span></span>
<span data-ttu-id="07537-132">Hotmodellering är en process som någon annan.</span><span class="sxs-lookup"><span data-stu-id="07537-132">Threat modeling is a process like any other.</span></span>  <span data-ttu-id="07537-133">Det är en bra idé att behandla modelldokument hot som alla andra komponenter i lösningen och verifiera den.</span><span class="sxs-lookup"><span data-stu-id="07537-133">It is a good idea to treat the threat model document like any other component of the solution and validate it.</span></span> <span data-ttu-id="07537-134">Många utvecklingsgrupper göra en utmärkt jobb som avbildar funktionella krav för system som har nytta av kunder.</span><span class="sxs-lookup"><span data-stu-id="07537-134">Many development teams do an excellent job capturing the functional requirements for the system that benefit customers.</span></span> <span data-ttu-id="07537-135">Identifiera icke-uppenbara sätt att någon kan missbrukas systemet är dock mer utmanande.</span><span class="sxs-lookup"><span data-stu-id="07537-135">However, identifying non-obvious ways that someone might misuse the system is more challenging.</span></span> <span data-ttu-id="07537-136">Hotmodellering hjälper dig att förstå vad en angripare kan göra utvecklingsgrupper och varför.</span><span class="sxs-lookup"><span data-stu-id="07537-136">Threat modeling can help development teams understand what an attacker might do and why.</span></span>

### <a name="how-to-threat-model"></a><span data-ttu-id="07537-137">Så här hotmodell</span><span class="sxs-lookup"><span data-stu-id="07537-137">How to threat model</span></span>
<span data-ttu-id="07537-138">Hotet modellera processen består av fyra steg; stegen är:</span><span class="sxs-lookup"><span data-stu-id="07537-138">The threat modeling process is composed of four steps; the steps are:</span></span>

* <span data-ttu-id="07537-139">Modellen programmet</span><span class="sxs-lookup"><span data-stu-id="07537-139">Model the application</span></span>
* <span data-ttu-id="07537-140">Räkna upp hot</span><span class="sxs-lookup"><span data-stu-id="07537-140">Enumerate Threats</span></span>
* <span data-ttu-id="07537-141">Risken för hot</span><span class="sxs-lookup"><span data-stu-id="07537-141">Mitigate threats</span></span>
* <span data-ttu-id="07537-142">Validera åtgärder</span><span class="sxs-lookup"><span data-stu-id="07537-142">Validate the mitigations</span></span>

#### <a name="the-process-steps"></a><span data-ttu-id="07537-143">I steg</span><span class="sxs-lookup"><span data-stu-id="07537-143">The process steps</span></span>
<span data-ttu-id="07537-144">Tre tumregel att tänka på när du skapar en hotmodell:</span><span class="sxs-lookup"><span data-stu-id="07537-144">Three rules of thumb to keep in mind when building a threat model:</span></span>

1. <span data-ttu-id="07537-145">Skapa ett diagram utanför Referensarkitektur.</span><span class="sxs-lookup"><span data-stu-id="07537-145">Create a diagram out of reference architecture.</span></span> 
2. <span data-ttu-id="07537-146">Starta första bredd.</span><span class="sxs-lookup"><span data-stu-id="07537-146">Start breadth-first.</span></span> <span data-ttu-id="07537-147">Få en översikt och förstå systemet som helhet innan du dyker djup.</span><span class="sxs-lookup"><span data-stu-id="07537-147">Get an overview, and understand the system as a whole, before deep-diving.</span></span>  <span data-ttu-id="07537-148">Detta säkerställer att du tittar på rätt plats.</span><span class="sxs-lookup"><span data-stu-id="07537-148">This helps ensure that you deep-dive in the right places.</span></span>
3. <span data-ttu-id="07537-149">Enheten processen, låt inte processen enhet du.</span><span class="sxs-lookup"><span data-stu-id="07537-149">Drive the process, don’t let the process drive you.</span></span> <span data-ttu-id="07537-150">Om du hittar ett problem i fasen modellering och vill utforska den går för den!</span><span class="sxs-lookup"><span data-stu-id="07537-150">If you find an issue in the modeling phase and want to explore it, go for it!</span></span>  <span data-ttu-id="07537-151">Tycker att du inte behöver utföra dessa steg slavishly.</span><span class="sxs-lookup"><span data-stu-id="07537-151">Don’t feel you need to follow these steps slavishly.</span></span>  

#### <a name="threats"></a><span data-ttu-id="07537-152">Hot</span><span class="sxs-lookup"><span data-stu-id="07537-152">Threats</span></span>
<span data-ttu-id="07537-153">De fyra Kärnelementen i en hotmodell är:</span><span class="sxs-lookup"><span data-stu-id="07537-153">The four core elements of a threat model are:</span></span>

* <span data-ttu-id="07537-154">Processer (web services, Win32-tjänster, * nix Daemon osv. Observera att vissa avancerade entiteter (till exempel fältet gateways och sensorer) kan representeras som en processen när tekniska gå nedåt i dessa områden inte är möjlig.</span><span class="sxs-lookup"><span data-stu-id="07537-154">Processes (web services, Win32 services, *nix daemons, etc. Note that some complex entities (for example field gateways and sensors) can be abstracted as a process when a technical drill-down in these areas is not possible.</span></span>
* <span data-ttu-id="07537-155">Datalager (var som helst data lagras, till exempel en konfigurationsfil eller databas)</span><span class="sxs-lookup"><span data-stu-id="07537-155">Data stores (anywhere data is stored, such as a configuration file or database)</span></span>
* <span data-ttu-id="07537-156">Dataflöde (där data flyttas mellan olika element i programmet)</span><span class="sxs-lookup"><span data-stu-id="07537-156">Data flow (where data moves between other elements in the application)</span></span>
* <span data-ttu-id="07537-157">Externa enheter (något som interagerar med systemet, men som inte kontrolleras av programmet, exempel innehåller användare och satellit feeds)</span><span class="sxs-lookup"><span data-stu-id="07537-157">External Entities (anything that interacts with the system, but is not under the control of the application, examples include users and satellite feeds)</span></span>

<span data-ttu-id="07537-158">Alla element i Arkitekturdiagram regleras hot; Vi använder STRIDE mnemonik.</span><span class="sxs-lookup"><span data-stu-id="07537-158">All elements in the architectural diagram are subject to various threats; we will use the STRIDE mnemonic.</span></span> <span data-ttu-id="07537-159">Läs [hot Modeling igen, STRIDE](https://blogs.msdn.microsoft.com/larryosterman/2007/09/04/threat-modeling-again-stride/) vill veta mer om STRIDE-element.</span><span class="sxs-lookup"><span data-stu-id="07537-159">Read [Threat Modeling Again, STRIDE](https://blogs.msdn.microsoft.com/larryosterman/2007/09/04/threat-modeling-again-stride/) to know more about the STRIDE elements.</span></span>

<span data-ttu-id="07537-160">Olika element i diagrammet programmet regleras vissa STRIDE hot:</span><span class="sxs-lookup"><span data-stu-id="07537-160">Different elements of the application diagram are subject to certain STRIDE threats:</span></span>

* <span data-ttu-id="07537-161">Processer som omfattas av STRIDE</span><span class="sxs-lookup"><span data-stu-id="07537-161">Processes are subject to STRIDE</span></span>
* <span data-ttu-id="07537-162">Dataflöden regleras TID</span><span class="sxs-lookup"><span data-stu-id="07537-162">Data flows are subject to TID</span></span>
* <span data-ttu-id="07537-163">Datalager regleras TID, och ibland R, om datalager loggfiler.</span><span class="sxs-lookup"><span data-stu-id="07537-163">Data stores are subject to TID, and sometimes R, if the data stores are log files.</span></span>
* <span data-ttu-id="07537-164">Externa enheter regleras SRD</span><span class="sxs-lookup"><span data-stu-id="07537-164">External entities are subject to SRD</span></span>

## <a name="security-in-iot"></a><span data-ttu-id="07537-165">Säkerhet i IoT</span><span class="sxs-lookup"><span data-stu-id="07537-165">Security in IoT</span></span>
<span data-ttu-id="07537-166">Den anslutna särskilda enheter har ett stort antal potentiella interaktion ytan områden och interaktion mönster, som måste beaktas för att tillhandahålla ett ramverk för att skydda digital åtkomst till dessa enheter.</span><span class="sxs-lookup"><span data-stu-id="07537-166">Connected special-purpose devices have a significant number of potential interaction surface areas and interaction patterns, all of which must be considered to provide a framework for securing digital access to those devices.</span></span> <span data-ttu-id="07537-167">Termen ”digitala åtkomst” används här att skilja från alla åtgärder som utförs via direkt enhetsinteraktion där åtkomstsäkerhet tillhandahålls via fysiska åtkomstkontroll.</span><span class="sxs-lookup"><span data-stu-id="07537-167">The term “digital access” is used here to distinguish from any operations that are carried out through direct device interaction where access security is provided through physical access control.</span></span> <span data-ttu-id="07537-168">Till exempel placera enheten i en plats med ett lås på dörren.</span><span class="sxs-lookup"><span data-stu-id="07537-168">For example, putting the device into a room with a lock on the door.</span></span> <span data-ttu-id="07537-169">Även om fysisk åtkomst kan nekas med hjälp av programvara och maskinvara, vidtas åtgärder för att förhindra fysisk åtkomst leder till system störningar.</span><span class="sxs-lookup"><span data-stu-id="07537-169">While physical access cannot be denied using software and hardware, measures can be taken to prevent physical access from leading to system interference.</span></span> 

<span data-ttu-id="07537-170">Vi utforska interaktion mönster ska vi titta på ”enhetskontroll” och ”enhetsdata” med samma nivå av uppmärksamhet.</span><span class="sxs-lookup"><span data-stu-id="07537-170">As we explore the interaction patterns, we will look at “device control” and “device data” with the same level of attention.</span></span> <span data-ttu-id="07537-171">”Enhetskontroll” kan klassificeras som all information som har angetts för en enhet av part med målet att ändra eller påverka sitt beteende mot dess tillstånd eller tillståndet för sin miljö.</span><span class="sxs-lookup"><span data-stu-id="07537-171">“Device control” can be classified as any information that is provided to a device by any party with the goal of changing or influencing its behavior towards its state or the state of its environment.</span></span> <span data-ttu-id="07537-172">”Enhetsdata” kan klassificeras som all information som en enhet genererar en annan part om dess tillstånd och observerade tillståndet för sin miljö.</span><span class="sxs-lookup"><span data-stu-id="07537-172">“Device data” can be classified as any information that a device emits to any other party about its state and the observed state of its environment.</span></span>

<span data-ttu-id="07537-173">För att optimera säkerhetsmetoder, rekommenderas det att en typisk IoT-arkitekturen delas upp i flera komponent-zoner som en del av hotet modeling övningen.</span><span class="sxs-lookup"><span data-stu-id="07537-173">In order to optimize security best practices, it is recommended that a typical IoT architecture be divided into several component/zones as part of the threat modeling exercise.</span></span> <span data-ttu-id="07537-174">Dessa zoner beskrivs fullständigt i det här avsnittet och inkluderar:</span><span class="sxs-lookup"><span data-stu-id="07537-174">These zones are described fully throughout this section and include:</span></span>

* <span data-ttu-id="07537-175">Enheten</span><span class="sxs-lookup"><span data-stu-id="07537-175">Device,</span></span>
* <span data-ttu-id="07537-176">Fältet Gateway</span><span class="sxs-lookup"><span data-stu-id="07537-176">Field Gateway,</span></span>
* <span data-ttu-id="07537-177">Molnet gateways, och</span><span class="sxs-lookup"><span data-stu-id="07537-177">Cloud gateways, and</span></span>
* <span data-ttu-id="07537-178">Tjänster.</span><span class="sxs-lookup"><span data-stu-id="07537-178">Services.</span></span>

<span data-ttu-id="07537-179">Zoner är breda sätt att segmentera en lösning. varje zon har ofta krav data och autentisering och auktorisering.</span><span class="sxs-lookup"><span data-stu-id="07537-179">Zones are broad way to segment a solution; each zone often has its own data and authentication and authorization requirements.</span></span> <span data-ttu-id="07537-180">Zoner kan också användas för att skada isolering och begränsa effekten av låg förtroende zoner på högre förtroende zoner.</span><span class="sxs-lookup"><span data-stu-id="07537-180">Zones can also be used to isolation damage and restrict the impact of low trust zones on higher trust zones.</span></span>

<span data-ttu-id="07537-181">Varje zon skiljs åt av en förtroende gräns som anges som prickad röd linje i diagrammet nedan.</span><span class="sxs-lookup"><span data-stu-id="07537-181">Each zone is separated by a Trust Boundary, which is noted as the dotted red line in the diagram below.</span></span> <span data-ttu-id="07537-182">Representerar en övergång av data/information från en källa till en annan.</span><span class="sxs-lookup"><span data-stu-id="07537-182">It represents a transition of data/information from one source to another.</span></span> <span data-ttu-id="07537-183">Under den här övergången kan informationen vara föremål Spoofing, Tampering, Repudiation, avslöjande av Information, Denial of Service och höjning av privilegier (STRIDE).</span><span class="sxs-lookup"><span data-stu-id="07537-183">During this transition, the data/information could be subject to Spoofing, Tampering, Repudiation, Information Disclosure, Denial of Service and Elevation of Privilege (STRIDE).</span></span>

![IoT-säkerhetszoner](media/iot-security-architecture/iot-security-architecture-fig1.png) 

<span data-ttu-id="07537-185">De komponenter som beskrivs i varje gräns genomgår också STRIDE som aktiverar en fullständig 360 hot modeling vy av lösningen.</span><span class="sxs-lookup"><span data-stu-id="07537-185">The components depicted within each boundary are also subjected to STRIDE, enabling a full 360 threat modeling view of the solution.</span></span> <span data-ttu-id="07537-186">I avsnitten nedan utveckla var och en av komponenterna och specifika säkerhetsfrågor och lösningar som ska införas.</span><span class="sxs-lookup"><span data-stu-id="07537-186">The sections below elaborate on each of the components and specific security concerns and solutions that should be put into place.</span></span>

<span data-ttu-id="07537-187">Avsnitten som följer beskrivs standard komponenter som vanligtvis finns i dessa zoner.</span><span class="sxs-lookup"><span data-stu-id="07537-187">The sections that follow will discuss standard components typically found in these zones.</span></span>

### <a name="the-device-zone"></a><span data-ttu-id="07537-188">Zonen enhet</span><span class="sxs-lookup"><span data-stu-id="07537-188">The Device Zone</span></span>
<span data-ttu-id="07537-189">Enheten miljön är omedelbar fysiskt utrymme runt enheten där fysisk åtkomst och/eller ”lokala nätverk” peer-to-peer digitala åtkomst till enheten är möjligt.</span><span class="sxs-lookup"><span data-stu-id="07537-189">The device environment is the immediate physical space around the device where physical access and/or “local network” peer-to-peer digital access to the device is feasible.</span></span> <span data-ttu-id="07537-190">”Lokala nätverk” antas vara ett nätverk som är separat och isolerade från – men potentiellt bryggade till – det offentliga Internet och innehåller alla kort Håll trådlösa alternativknapp-teknik som möjliggör peer-to-peer-kommunikation av enheter.</span><span class="sxs-lookup"><span data-stu-id="07537-190">A “local network” is assumed to be a network that is distinct and insulated from – but potentially bridged to – the public Internet, and includes any short-range wireless radio technology that permits peer-to-peer communication of devices.</span></span> <span data-ttu-id="07537-191">Det gör *inte* omfattar alla nätverk virtualiseringsteknik skapar illusionen av ett lokalt nätverk och det också omfattar inte offentlig operatör nätverk som kräver att alla enheter som har två kan kommunicera över offentligt nätverk utrymme om de anger en relation för peer-to-peer-kommunikation.</span><span class="sxs-lookup"><span data-stu-id="07537-191">It does *not* include any network virtualization technology creating the illusion of such a local network and it does also not include public operator networks that require any two devices to communicate across public network space if they were to enter a peer-to-peer communication relationship.</span></span>

### <a name="the-field-gateway-zone"></a><span data-ttu-id="07537-192">Zonen fältet Gateway</span><span class="sxs-lookup"><span data-stu-id="07537-192">The Field Gateway Zone</span></span>
<span data-ttu-id="07537-193">Fältet gateway är en enhet/installation eller vissa generell server-programvara som fungerar som kommunikation aktiveraren och eventuella som ett system för enheten och enheten databearbetning hubb.</span><span class="sxs-lookup"><span data-stu-id="07537-193">Field gateway is a device/appliance or some general-purpose server computer software that acts as communication enabler and, potentially, as a device control system and device data processing hub.</span></span> <span data-ttu-id="07537-194">Zonen fältet gateway innehåller fältet gatewayen och alla enheter som är kopplade till den.</span><span class="sxs-lookup"><span data-stu-id="07537-194">The field gateway zone includes the field gateway itself and all devices that are attached to it.</span></span> <span data-ttu-id="07537-195">Som namnet antyder fältet gateways fungerar utanför dedikerade databearbetning verksamhet, är vanligtvis plats bunden, regleras potentiellt fysiska intrång och begränsad operativa redundans.</span><span class="sxs-lookup"><span data-stu-id="07537-195">As the name implies, field gateways act outside dedicated data processing facilities, are usually location bound, are potentially subject to physical intrusion, and will have limited operational redundancy.</span></span> <span data-ttu-id="07537-196">Alla när du säger att en gateway för fältet är ofta en sak en touch och sabotera samtidigt som du vet vad dess funktion är.</span><span class="sxs-lookup"><span data-stu-id="07537-196">All to say that a field gateway is commonly a thing one can touch and sabotage while knowing what its function is.</span></span> 

<span data-ttu-id="07537-197">En gateway för fältet skiljer sig från en router för enbart trafik i att den har en aktiv roll vid hantering av åtkomst som informationsflödet, vilket innebär att det är ett program åtgärdas entiteten och nätverksanslutning eller session terminal.</span><span class="sxs-lookup"><span data-stu-id="07537-197">A field gateway is different from a mere traffic router in that it has had an active role in managing access and information flow, meaning it is an application addressed entity and network connection or session terminal.</span></span> <span data-ttu-id="07537-198">En NAT-enhet eller brandvägg däremot inte uppfyller kraven som fältet gateways eftersom de inte är explicit anslutning eller session terminaler, men i stället en väg (eller block) anslutningar eller sessioner görs via dem.</span><span class="sxs-lookup"><span data-stu-id="07537-198">An NAT device or firewall, in contrast, does not qualify as field gateways since they are not explicit connection or session terminals, but rather a route (or block) connections or sessions made through them.</span></span> <span data-ttu-id="07537-199">Fältet gateway har två olika områden i ytan.</span><span class="sxs-lookup"><span data-stu-id="07537-199">The field gateway has two distinct surface areas.</span></span> <span data-ttu-id="07537-200">En står de enheter som är kopplade till den och representerar för zonen och den andra står alla externa parter och är i utkanten av zonen.</span><span class="sxs-lookup"><span data-stu-id="07537-200">One faces the devices that are attached to it and represents the inside of the zone, and the other faces all external parties and is the edge of the zone.</span></span>   

### <a name="the-cloud-gateway-zone"></a><span data-ttu-id="07537-201">Zonen molnet gateway</span><span class="sxs-lookup"><span data-stu-id="07537-201">The cloud gateway zone</span></span>
<span data-ttu-id="07537-202">Molngatewayen är ett system som möjliggör kommunikation från och till enheter eller gateways för fältet från flera olika platser över offentligt nätverk utrymme, vanligtvis mot en molnbaserad kontroll- och system för analys, ett federationsförtroende på sådana system.</span><span class="sxs-lookup"><span data-stu-id="07537-202">Cloud gateway is a system that enables remote communication from and to devices or field gateways from several different sites across public network space, typically towards a cloud-based control and data analysis system, a federation of such systems.</span></span> <span data-ttu-id="07537-203">I vissa fall kan underlätta en molngateway omedelbart åtkomst till särskilda enheter från terminaler, till exempel surfplattor eller telefoner.</span><span class="sxs-lookup"><span data-stu-id="07537-203">In some cases, a cloud gateway may immediately facilitate access to special-purpose devices from terminals such as tablets or phones.</span></span> <span data-ttu-id="07537-204">”Moln” är avsedd att referera till en dedikerad databearbetning system som inte har bundits till samma plats som anslutna enheter eller gateways för fältet i kontexten som beskrivs här.</span><span class="sxs-lookup"><span data-stu-id="07537-204">In the context discussed here, “cloud” is meant to refer to a dedicated data processing system that is not bound to the same site as the attached devices or field gateways.</span></span> <span data-ttu-id="07537-205">Också förhindra riktade fysisk åtkomst operativa åtgärder i en zon för molnet och exponeras inte nödvändigtvis att en ”offentliga” molninfrastruktur.</span><span class="sxs-lookup"><span data-stu-id="07537-205">Also in a Cloud Zone, operational measures prevent targeted physical access and are not necessarily exposed to a “public cloud” infrastructure.</span></span>  

<span data-ttu-id="07537-206">En molngateway kan potentiellt mappas till ett nätverksvirtualisering överlägg till certifikatutfärdarhierarki gateway för moln och alla dess anslutna enheter eller gateways för fältet från annan nätverkstrafik.</span><span class="sxs-lookup"><span data-stu-id="07537-206">A cloud gateway may potentially be mapped into a network virtualization overlay to insulate the cloud gateway and all of its attached devices or field gateways from any other network traffic.</span></span> <span data-ttu-id="07537-207">Molngatewayen själva är varken ett system för enheten eller en bearbetning eller lagringsutrymmet för enhetsdata; Dessa anläggningar gränssnittet med molngateway.</span><span class="sxs-lookup"><span data-stu-id="07537-207">The cloud gateway itself is neither a device control system nor a processing or storage facility for device data; those facilities interface with the cloud gateway.</span></span> <span data-ttu-id="07537-208">Zonen molnet gateway innehåller själva molngatewayen tillsammans med alla fält gatewayer och enheter som är direkt eller indirekt kopplade till den.</span><span class="sxs-lookup"><span data-stu-id="07537-208">The cloud gateway zone includes the cloud gateway itself along with all field gateways and devices directly or indirectly attached to it.</span></span> <span data-ttu-id="07537-209">Kanten på zonen är en distinkta ytan där alla externa parter kommunicerar via.</span><span class="sxs-lookup"><span data-stu-id="07537-209">The edge of the zone is a distinct surface area where all external parties communicate through.</span></span>

### <a name="the-services-zone"></a><span data-ttu-id="07537-210">Zonen tjänster</span><span class="sxs-lookup"><span data-stu-id="07537-210">The services zone</span></span>
<span data-ttu-id="07537-211">”Tjänst” har definierats för den här kontexten som en programvarukomponent eller modul som samverkar med enheter via en gateway fältet eller molnet för insamling och analys, samt för kommandot och kontroll.</span><span class="sxs-lookup"><span data-stu-id="07537-211">A “service” is defined for this context as any software component or module that is interfacing with devices through a field- or cloud gateway for data collection and analysis, as well as for command and control.</span></span>  <span data-ttu-id="07537-212">Tjänster är medlare.</span><span class="sxs-lookup"><span data-stu-id="07537-212">Services are mediators.</span></span> <span data-ttu-id="07537-213">De fungerar under sin identitet mot gateways och andra undersystem, lagra och analysera data, utfärda självständigt kommandon till enheter baserat på datainsikter eller scheman och avslöja information och styra funktioner till behöriga användare.</span><span class="sxs-lookup"><span data-stu-id="07537-213">They act under their identity towards gateways and other subsystems, store and analyze data, autonomously issue commands to devices based on data insights or schedules and expose information and control capabilities to authorized end users.</span></span>

### <a name="information-devices-vs-special-purpose-devices"></a><span data-ttu-id="07537-214">Information enheter jämfört med särskilda enheter</span><span class="sxs-lookup"><span data-stu-id="07537-214">Information-devices vs. special-purpose devices</span></span>
<span data-ttu-id="07537-215">Datorer, telefoner och surfplattor är främst interaktiv information enheter.</span><span class="sxs-lookup"><span data-stu-id="07537-215">PCs, phones, and tablets are primarily interactive information devices.</span></span> <span data-ttu-id="07537-216">Telefoner och surfplattor är uttryckligen optimerade runt maximera batteri livslängd.</span><span class="sxs-lookup"><span data-stu-id="07537-216">Phones and tablets are explicitly optimized around maximizing battery lifetime.</span></span> <span data-ttu-id="07537-217">De helst inaktivera delvis när inte omedelbart interagerar med en person eller när de inte tillhandahåller tjänster som spela musik eller styra sin ägare till en viss plats.</span><span class="sxs-lookup"><span data-stu-id="07537-217">They preferably turn off partially when not immediately interacting with a person, or when not providing services like playing music or guiding their owner to a particular location.</span></span> <span data-ttu-id="07537-218">Ur system fungerar enheterna information technology huvudsakligen som proxy för personer.</span><span class="sxs-lookup"><span data-stu-id="07537-218">From a systems perspective, these information technology devices are mainly acting as proxies towards people.</span></span> <span data-ttu-id="07537-219">De är ”personer motstånd” föreslå ”personer sensorer” samla in indata och åtgärder.</span><span class="sxs-lookup"><span data-stu-id="07537-219">They are “people actuators” suggesting actions and “people sensors” collecting input.</span></span> 

<span data-ttu-id="07537-220">Särskilda enheter, är från enkla temperatursensorer till komplexa factory produktion rader med tusentals komponenter i dem, olika.</span><span class="sxs-lookup"><span data-stu-id="07537-220">Special-purpose devices, from simple temperature sensors to complex factory production lines with thousands of components inside them, are different.</span></span> <span data-ttu-id="07537-221">Dessa enheter är mycket mer begränsade i syfte och även om de tillhandahåller vissa användargränssnittet i hög grad är begränsade till fingrarna med eller integreras i tillgångar i den fysiska världen.</span><span class="sxs-lookup"><span data-stu-id="07537-221">These devices are much more scoped in purpose and even if they provide some user interface, they are largely scoped to interfacing with or be integrated into assets in the physical world.</span></span> <span data-ttu-id="07537-222">De mått och rapportera miljömässiga omständigheter, aktivera ventiler, styra servos, ljud larm, Växla ljus och utföra andra uppgifter.</span><span class="sxs-lookup"><span data-stu-id="07537-222">They measure and report environmental circumstances, turn valves, control servos, sound alarms, switch lights, and do many other tasks.</span></span> <span data-ttu-id="07537-223">De bidrar till att den fungerar som en information-enhet är antingen för Allmänt för dyr, för stort eller för sprödbrott.</span><span class="sxs-lookup"><span data-stu-id="07537-223">They help to do work for which an information device is either too generic, too expensive, too big, or too brittle.</span></span> <span data-ttu-id="07537-224">Konkret syftet avgör omedelbart sina tekniska designen som också tillgängliga monetära budgeten för produktions- och schemalagda livstid igen.</span><span class="sxs-lookup"><span data-stu-id="07537-224">The concrete purpose immediately dictates their technical design as well the available monetary budget for their production and scheduled lifetime operation.</span></span> <span data-ttu-id="07537-225">Kombinationen av dessa två viktiga faktorer begränsar tillgängliga operativa energi budget fysiska storleken och därmed tillgängligt lagringsutrymme beräknings- och säkerhetsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="07537-225">The combination of these two key factors constrains the available operational energy budget, physical footprint, and thus available storage, compute, and security capabilities.</span></span>  

<span data-ttu-id="07537-226">Om något ”går fel” automatiserad eller fjärråtkomst kan kontrolleras enheter, till exempel fel fysiska fel eller logik willful obehöriga intrång och manipulation.</span><span class="sxs-lookup"><span data-stu-id="07537-226">If something “goes wrong” with automated or remote controllable devices, for example, physical defects or control logic defects to willful unauthorized intrusion and manipulation.</span></span> <span data-ttu-id="07537-227">Produktion många kan förstöras, byggnader kan looted eller bränt och personer kan vara skadade eller även die.</span><span class="sxs-lookup"><span data-stu-id="07537-227">The production lots may be destroyed, buildings may be looted or burned down, and people may be injured or even die.</span></span> <span data-ttu-id="07537-228">Detta är naturligtvis en helt annan klass skadan än någon ökar ett stulna kreditkort gränsen.</span><span class="sxs-lookup"><span data-stu-id="07537-228">This is, of course, a whole different class of damage than someone maxing out a stolen credit card's limit.</span></span> <span data-ttu-id="07537-229">Säkerhetsfältet för enheter som sätt att flytta och för sensordata som slutligen leder kommandon som orsakar saker att flytta, måste vara högre än i e-handel eller banktjänstscenario.</span><span class="sxs-lookup"><span data-stu-id="07537-229">The security bar for devices that make things move, and also for sensor data that eventually results in commands that cause things to move, must be higher than in any e-commerce or banking scenario.</span></span> 

### <a name="device-control-and-device-data-interactions"></a><span data-ttu-id="07537-230">Kontroll av enhet och enheten data interaktioner</span><span class="sxs-lookup"><span data-stu-id="07537-230">Device control and device data interactions</span></span>
<span data-ttu-id="07537-231">Den anslutna särskilda enheter har ett stort antal potentiella interaktion ytan områden och interaktion mönster, som måste beaktas för att tillhandahålla ett ramverk för att skydda digital åtkomst till dessa enheter.</span><span class="sxs-lookup"><span data-stu-id="07537-231">Connected special-purpose devices have a significant number of potential interaction surface areas and interaction patterns, all of which must be considered to provide a framework for securing digital access to those devices.</span></span> <span data-ttu-id="07537-232">Termen ”digitala åtkomst” används här att skilja från alla åtgärder som utförs via direkt enhetsinteraktion där åtkomstsäkerhet tillhandahålls via fysiska åtkomstkontroll.</span><span class="sxs-lookup"><span data-stu-id="07537-232">The term “digital access” is used here to distinguish from any operations that are carried out through direct device interaction where access security is provided through physical access control.</span></span> <span data-ttu-id="07537-233">Till exempel placera enheten i en plats med ett lås på dörren.</span><span class="sxs-lookup"><span data-stu-id="07537-233">For example, putting the device into a room with a lock on the door.</span></span> <span data-ttu-id="07537-234">Även om fysisk åtkomst kan nekas med hjälp av programvara och maskinvara, vidtas åtgärder för att förhindra fysisk åtkomst leder till system störningar.</span><span class="sxs-lookup"><span data-stu-id="07537-234">While physical access cannot be denied using software and hardware, measures can be taken to prevent physical access from leading to system interference.</span></span> 

<span data-ttu-id="07537-235">Vi utforska interaktion mönster ska vi titta på ”enhetskontroll” och ”enhetsdata” med samma nivå av kontrolleras när hotmodellering.</span><span class="sxs-lookup"><span data-stu-id="07537-235">As we explore the interaction patterns, we will look at “device control” and “device data” with the same level of attention while threat modeling.</span></span> <span data-ttu-id="07537-236">”Enhetskontroll” kan klassificeras som all information som har angetts för en enhet av part med målet att ändra eller påverka sitt beteende mot dess tillstånd eller tillståndet för sin miljö.</span><span class="sxs-lookup"><span data-stu-id="07537-236">“Device control” can be classified as any information that is provided to a device by any party with the goal of changing or influencing its behavior towards its state or the state of its environment.</span></span> <span data-ttu-id="07537-237">”Enhetsdata” kan klassificeras som all information som en enhet genererar en annan part om dess tillstånd och observerade tillståndet för sin miljö.</span><span class="sxs-lookup"><span data-stu-id="07537-237">“Device data” can be classified as any information that a device emits to any other party about its state and the observed state of its environment.</span></span> 

## <a name="threat-modeling-the-azure-iot-reference-architecture"></a><span data-ttu-id="07537-238">Hot modeling Azure IoT-Referensarkitektur</span><span class="sxs-lookup"><span data-stu-id="07537-238">Threat modeling the Azure IoT reference architecture</span></span>
<span data-ttu-id="07537-239">Microsoft använder ramen som beskrivits ovan för att göra hot modellering för Azure IoT.</span><span class="sxs-lookup"><span data-stu-id="07537-239">Microsoft uses the framework outlined above to do threat modeling for Azure IoT.</span></span> <span data-ttu-id="07537-240">I avsnittet nedan använder vi därför konkreta exempel på Azure IoT-Referensarkitektur för att demonstrera hur du tycker om hot modellering för IoT och åtgärda hot som identifieras.</span><span class="sxs-lookup"><span data-stu-id="07537-240">In the section below we therefore use the concrete example of Azure IoT Reference Architecture to demonstrate how to think about threat modeling for IoT and how to address the threats identified.</span></span> <span data-ttu-id="07537-241">I vårt fall har identifierat fyra huvudsakliga områden i fokus:</span><span class="sxs-lookup"><span data-stu-id="07537-241">In our case we identified four main areas of focus:</span></span>

* <span data-ttu-id="07537-242">Enheter och datakällor</span><span class="sxs-lookup"><span data-stu-id="07537-242">Devices and Data Sources,</span></span>
* <span data-ttu-id="07537-243">Datatransport</span><span class="sxs-lookup"><span data-stu-id="07537-243">Data Transport,</span></span>
* <span data-ttu-id="07537-244">Enheten och händelsebearbetning, och</span><span class="sxs-lookup"><span data-stu-id="07537-244">Device and Event Processing, and</span></span>
* <span data-ttu-id="07537-245">Presentation</span><span class="sxs-lookup"><span data-stu-id="07537-245">Presentation</span></span>

![Hot modellering för Azure IoT](media/iot-security-architecture/iot-security-architecture-fig2.png) 

<span data-ttu-id="07537-247">Diagrammet nedan ger en förenklad vy av Microsofts IoT-arkitekturen med hjälp av en modell för Flödesdiagram för Data som används av hot Modeling-verktyget:</span><span class="sxs-lookup"><span data-stu-id="07537-247">The diagram below provides a simplified view of Microsoft’s IoT Architecture using a Data Flow Diagram model that is used by the Microsoft Threat Modeling Tool:</span></span>

![Hot modellering för Azure IoT verktyget MS hot modellering](media/iot-security-architecture/iot-security-architecture-fig3.png)

<span data-ttu-id="07537-249">Det är viktigt att notera att arkitekturen avgränsar enheter och gateway-funktioner.</span><span class="sxs-lookup"><span data-stu-id="07537-249">It is important to note that the architecture separates the device and gateway capabilities.</span></span> <span data-ttu-id="07537-250">Detta gör att användaren kan utnyttja gatewayenheter som är säkrare: de är kan kommunicera med molngatewayen med säkra protokoll, som kräver normalt större bearbetning omkostnader att tillhandahålla en ursprunglig enhet – till exempel en termostat - egen.</span><span class="sxs-lookup"><span data-stu-id="07537-250">This allows the user to leverage gateway devices that are more secure: they are capable of communicating with the cloud gateway using secure protocols, which typically requires greater processing overhead that a native device  - such as a thermostat - could provide on its own.</span></span> <span data-ttu-id="07537-251">I zonen Azure-tjänster förutsätter att Molngatewayen representeras av tjänsten Azure IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="07537-251">In the Azure services zone, we assume that the Cloud Gateway is represented by the Azure IoT Hub service.</span></span>

### <a name="device-and-data-sourcesdata-transport"></a><span data-ttu-id="07537-252">Transport-enheten och data källor/data</span><span class="sxs-lookup"><span data-stu-id="07537-252">Device and data sources/data transport</span></span>
<span data-ttu-id="07537-253">Det här avsnittet behandlar arkitekturen som beskrivs ovan via för hotmodellering och ger en översikt över hur diskuterar vi några av inbyggd problem.</span><span class="sxs-lookup"><span data-stu-id="07537-253">This section explores the architecture outlined above through the lens of threat modeling and gives an overview of how we are addressing some of the inherent concerns.</span></span> <span data-ttu-id="07537-254">Vi kommer att inriktas på grundelementen i en hotmodell:</span><span class="sxs-lookup"><span data-stu-id="07537-254">We will focus on the core elements of a threat model:</span></span>

* <span data-ttu-id="07537-255">Processer (de under våra kontroll och externa objekt)</span><span class="sxs-lookup"><span data-stu-id="07537-255">Processes (those under our control and external items)</span></span>
* <span data-ttu-id="07537-256">Kommunikation (kallas även dataflöden)</span><span class="sxs-lookup"><span data-stu-id="07537-256">Communication (also called data flows)</span></span>
* <span data-ttu-id="07537-257">Lagring (kallas även för datalager)</span><span class="sxs-lookup"><span data-stu-id="07537-257">Storage (also called data stores)</span></span>

#### <a name="processes"></a><span data-ttu-id="07537-258">Processer</span><span class="sxs-lookup"><span data-stu-id="07537-258">Processes</span></span>
<span data-ttu-id="07537-259">Vi försöker minimera ett antal olika hot mellan de olika stegen data/information finns i i var och en av de kategorier som beskrivs i Azure IoT-arkitekturen: processen, kommunikation och lagring.</span><span class="sxs-lookup"><span data-stu-id="07537-259">In each of the categories outlined in the Azure IoT architecture, we try to mitigate a number of different threats across the different stages data/information exists in: process, communication, and storage.</span></span> <span data-ttu-id="07537-260">Nedan ger vi en översikt över vanligaste för kategorin ”process” följt av en översikt över hur dessa kunde bäst undvikas:</span><span class="sxs-lookup"><span data-stu-id="07537-260">Below we give an overview of the most common ones for the “process” category, followed by an overview of how these could be best mitigated:</span></span> 

<span data-ttu-id="07537-261">**(S)-förfalskning**: en angripare kan extrahera kryptografiska nyckelmaterial från en enhet, antingen på nivån programvara eller maskinvara och därefter åtkomst system med en annan fysisk eller virtuell enhet under identitet på enheten som nyckelmaterialet har hämtats från.</span><span class="sxs-lookup"><span data-stu-id="07537-261">**Spoofing (S)**: An attacker may extract cryptographic key material from a device, either at the software or hardware level, and subsequently access the system with a different physical or virtual device under the identity of the device the key material has been taken from.</span></span> <span data-ttu-id="07537-262">En bra bild är fjärransluten kontroller som kan aktivera valfri TV och som är populära prankster verktyg.</span><span class="sxs-lookup"><span data-stu-id="07537-262">A good illustration is remote controls that can turn any TV and that are popular prankster tools.</span></span>

<span data-ttu-id="07537-263">**Denial för tjänsten (D)**: en enhet kan återges inte klarar fungerar eller kommunikation med stör alternativknapp frekvenser eller skärande kablar.</span><span class="sxs-lookup"><span data-stu-id="07537-263">**Denial of Service (D)**: A device can be rendered incapable of functioning or communicating by interfering with radio frequencies or cutting wires.</span></span> <span data-ttu-id="07537-264">Till exempel rapporterar övervakning kamera som hade ström eller nätverket anslutningen avsiktligt blockerade inte data, alls.</span><span class="sxs-lookup"><span data-stu-id="07537-264">For example, a surveillance camera that had its power or network connection intentionally knocked out will not report data, at all.</span></span>

<span data-ttu-id="07537-265">**Manipulering (T)**: en angripare kan helt eller delvis ersätta program som körs på enheten kan vara så att programmet ersatta utnyttja äkta identiteten för enheten om nyckelmaterialet eller kryptografiska verksamhet hålla viktiga material var tillgänglig för olaglig program.</span><span class="sxs-lookup"><span data-stu-id="07537-265">**Tampering (T)**: An attacker may partially or wholly replace the software running on the device, potentially allowing the replaced software to leverage the genuine identity of the device if the key material or the cryptographic facilities holding key materials were available to the illicit program.</span></span> <span data-ttu-id="07537-266">Till exempel att en angripare kan utnyttja extraherade nyckelmaterial för att fånga och utelämna data från enheten på kommunikationssökvägen och Ersätt den med falska data som har verifierats med stulna nyckelmaterial.</span><span class="sxs-lookup"><span data-stu-id="07537-266">For example, an attacker may leverage extracted key material to intercept and suppress data from the device on the communication path and replace it with false data that is authenticated with the stolen key material.</span></span>

<span data-ttu-id="07537-267">**Avslöjande av information (I)**: om enheten kör behandlas för programvara, behandlas programvaran potentiellt kan läcka ut data till obehöriga personer.</span><span class="sxs-lookup"><span data-stu-id="07537-267">**Information Disclosure (I)**: If the device is running manipulated software, such manipulated software could potentially leak data to unauthorized parties.</span></span> <span data-ttu-id="07537-268">Till exempel att en angripare kan utnyttja extraherade nyckelmaterial för att mata in sig i kommunikationssökvägen mellan enheten och en domänkontrollant eller fältet gateway eller molngateway till siphon av information.</span><span class="sxs-lookup"><span data-stu-id="07537-268">For example, an attacker may leverage extracted key material to inject itself into the communication path between the device and a controller or field gateway or cloud gateway to siphon off information.</span></span>

<span data-ttu-id="07537-269">**Höjning av privilegier (E)**: en enhet som har en specifik funktion kan tvingas att göra något annat.</span><span class="sxs-lookup"><span data-stu-id="07537-269">**Elevation of Privilege (E)**: A device that does specific function can be forced to do something else.</span></span> <span data-ttu-id="07537-270">En ventilen är programmerad att öppna halvvägs kan till exempel att öppna ända.</span><span class="sxs-lookup"><span data-stu-id="07537-270">For example, a valve that is programmed to open half way can be tricked to open all the way.</span></span>

| <span data-ttu-id="07537-271">**Komponent**</span><span class="sxs-lookup"><span data-stu-id="07537-271">**Component**</span></span> | <span data-ttu-id="07537-272">**Hot**</span><span class="sxs-lookup"><span data-stu-id="07537-272">**Threat**</span></span> | <span data-ttu-id="07537-273">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="07537-273">**Mitigation**</span></span> | <span data-ttu-id="07537-274">**Risk**</span><span class="sxs-lookup"><span data-stu-id="07537-274">**Risk**</span></span> | <span data-ttu-id="07537-275">**Implementering**</span><span class="sxs-lookup"><span data-stu-id="07537-275">**Implementation**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="07537-276">Enhet</span><span class="sxs-lookup"><span data-stu-id="07537-276">Device</span></span> |<span data-ttu-id="07537-277">S</span><span class="sxs-lookup"><span data-stu-id="07537-277">S</span></span> |<span data-ttu-id="07537-278">Tilldela identitet till enheten och autentisering av enheten</span><span class="sxs-lookup"><span data-stu-id="07537-278">Assigning identity to the device and authenticating the device</span></span> |<span data-ttu-id="07537-279">Ersätt enhet eller en del av enheten med en annan enhet.</span><span class="sxs-lookup"><span data-stu-id="07537-279">Replacing device or part of the device with some other device.</span></span> <span data-ttu-id="07537-280">Hur vet vi pratar vi på rätt enhet?</span><span class="sxs-lookup"><span data-stu-id="07537-280">How do we know we are talking to the right device?</span></span> |<span data-ttu-id="07537-281">Autentisering av den enhet som använder Transport Layer Security (TLS) eller IPSec.</span><span class="sxs-lookup"><span data-stu-id="07537-281">Authenticating the device, using Transport Layer Security (TLS) or IPSec.</span></span> <span data-ttu-id="07537-282">Infrastrukturen ska ha stöd för med i förväg delad nyckel (PSK) på de enheter som inte kan hantera fullständig asymmetrisk kryptering.</span><span class="sxs-lookup"><span data-stu-id="07537-282">Infrastructure should support using pre-shared key (PSK) on those devices that cannot handle full asymmetric cryptography.</span></span> <span data-ttu-id="07537-283">Använda Azure AD [OAuth](http://www.rfc-editor.org/in-notes/internet-drafts/draft-ietf-ace-oauth-authz-01.txt)</span><span class="sxs-lookup"><span data-stu-id="07537-283">Leverage Azure AD, [OAuth](http://www.rfc-editor.org/in-notes/internet-drafts/draft-ietf-ace-oauth-authz-01.txt)</span></span> |
| <span data-ttu-id="07537-284">TRID</span><span class="sxs-lookup"><span data-stu-id="07537-284">TRID</span></span> |<span data-ttu-id="07537-285">Gäller tamperproof mekanismer för enheten till exempel genom att göra det mycket svårt att det går inte att extrahera nycklar och andra kryptografiska material från enheten.</span><span class="sxs-lookup"><span data-stu-id="07537-285">Apply tamperproof mechanisms to the device for example by making it very hard to impossible to extract keys and other cryptographic material from the device.</span></span> |<span data-ttu-id="07537-286">Risken är om någon är manipulation enheten (fysiska störningar).</span><span class="sxs-lookup"><span data-stu-id="07537-286">The risk is if someone is tampering the device (physical interference).</span></span> <span data-ttu-id="07537-287">Hur ska vi visst kan enheten inte har manipulerats.</span><span class="sxs-lookup"><span data-stu-id="07537-287">How are we sure, that device has not tampered with.</span></span> |<span data-ttu-id="07537-288">Den mest effektiva begränsande faktorn är en betrodd platform module (TPM)-funktion som gör att lagra nycklar på särskilda-chip kretsar som nycklarna går inte att läsa, men kan endast användas för kryptografiska åtgärder som använder nyckeln men lämna aldrig ut nyckeln.</span><span class="sxs-lookup"><span data-stu-id="07537-288">The most effective mitigation is a trusted platform module (TPM) capability that allows storing keys in special on-chip circuitry from which the keys cannot be read, but can only be used for cryptographic operations that use the key but never disclose the key.</span></span> <span data-ttu-id="07537-289">Minne kryptering av enheten.</span><span class="sxs-lookup"><span data-stu-id="07537-289">Memory encryption of the device.</span></span> <span data-ttu-id="07537-290">Nyckelhantering för enheten.</span><span class="sxs-lookup"><span data-stu-id="07537-290">Key management for the device.</span></span> <span data-ttu-id="07537-291">Koden för signering.</span><span class="sxs-lookup"><span data-stu-id="07537-291">Signing the code.</span></span> | |
| <span data-ttu-id="07537-292">E</span><span class="sxs-lookup"><span data-stu-id="07537-292">E</span></span> |<span data-ttu-id="07537-293">Med åtkomstkontroll på enheten.</span><span class="sxs-lookup"><span data-stu-id="07537-293">Having access control of the device.</span></span> <span data-ttu-id="07537-294">Auktoriseringsschema.</span><span class="sxs-lookup"><span data-stu-id="07537-294">Authorization scheme.</span></span> |<span data-ttu-id="07537-295">Om enheten kan för enskilda åtgärder som ska utföras baserat på kommandon från en extern källa eller även avslöjade sensorer kommer du att kunna angrepp att utföra åtgärder på ett annat tillgänglig.</span><span class="sxs-lookup"><span data-stu-id="07537-295">If the device allows for individual actions to be performed based on commands from an outside source, or even compromised sensors, it will allow the attack to perform operations not otherwise accessible.</span></span> |<span data-ttu-id="07537-296">Med auktoriseringsschema för enheten</span><span class="sxs-lookup"><span data-stu-id="07537-296">Having authorization scheme for the device</span></span> | |
| <span data-ttu-id="07537-297">Fältet Gateway</span><span class="sxs-lookup"><span data-stu-id="07537-297">Field Gateway</span></span> |<span data-ttu-id="07537-298">S</span><span class="sxs-lookup"><span data-stu-id="07537-298">S</span></span> |<span data-ttu-id="07537-299">Autentisera fältet gateway till Molngateway (certifikatbaserad, PSK, anspråk baserat,...)</span><span class="sxs-lookup"><span data-stu-id="07537-299">Authenticating the Field gateway to Cloud Gateway (cert based, PSK, Claim based,..)</span></span> |<span data-ttu-id="07537-300">Om någon kan imitera fältet Gateway att den sig själv som en enhet.</span><span class="sxs-lookup"><span data-stu-id="07537-300">If someone can spoof Field Gateway, then it can present itself as any device.</span></span> |<span data-ttu-id="07537-301">TLS RSA/PSK, IPSec, [RFC 4279](https://tools.ietf.org/html/rfc4279).</span><span class="sxs-lookup"><span data-stu-id="07537-301">TLS RSA/PSK, IPSec, [RFC 4279](https://tools.ietf.org/html/rfc4279).</span></span> <span data-ttu-id="07537-302">Samma nyckel lagring och attestering gäller för enheter i allmänt – bästa möjliga är använda TPM.</span><span class="sxs-lookup"><span data-stu-id="07537-302">All the same key storage and attestation concerns of devices in general – best case is use TPM.</span></span> <span data-ttu-id="07537-303">6LowPAN tillägget för IPSec att stödja trådlösa Sensor nätverk (WSN).</span><span class="sxs-lookup"><span data-stu-id="07537-303">6LowPAN extension for IPSec to support Wireless Sensor Networks (WSN).</span></span> |
| <span data-ttu-id="07537-304">TRID</span><span class="sxs-lookup"><span data-stu-id="07537-304">TRID</span></span> |<span data-ttu-id="07537-305">Skydda fältet Gateway mot manipulation (TPM)?</span><span class="sxs-lookup"><span data-stu-id="07537-305">Protect the Field Gateway against tampering (TPM?)</span></span> |<span data-ttu-id="07537-306">Bedrägeri som lura molnet gateway-tänka pratar till fältet gateway kan leda till avslöjande av information och data manipulation</span><span class="sxs-lookup"><span data-stu-id="07537-306">Spoofing attacks that trick the cloud gateway thinking it is talking to field gateway could result in information disclosure and data tampering</span></span> |<span data-ttu-id="07537-307">Minne-kryptering, TPM'S, autentisering.</span><span class="sxs-lookup"><span data-stu-id="07537-307">Memory encryption, TPM’s, authentication.</span></span> | |
| <span data-ttu-id="07537-308">E</span><span class="sxs-lookup"><span data-stu-id="07537-308">E</span></span> |<span data-ttu-id="07537-309">Åtkomstkontroll för fältet Gateway</span><span class="sxs-lookup"><span data-stu-id="07537-309">Access control mechanism for Field Gateway</span></span> | | | |

<span data-ttu-id="07537-310">Här följer några exempel på hot i den här kategorin:</span><span class="sxs-lookup"><span data-stu-id="07537-310">Here are some examples of threats in this category:</span></span>

<span data-ttu-id="07537-311">Förfalskning: Kan en angripare extrahera kryptografiska nyckelmaterial från en enhet, antingen på programvara eller maskinvara och därefter åtkomst system med en annan fysisk eller virtuell enhet under identitet på enheten som nyckelmaterialet har hämtats från.</span><span class="sxs-lookup"><span data-stu-id="07537-311">Spoofing: An attacker may extract cryptographic key material from a device, either at the software or hardware level, and subsequently access the system with a different physical or virtual device under the identity of the device the key material has been taken from.</span></span>

<span data-ttu-id="07537-312">**DOS-attack**: en enhet kan återges inte klarar fungerar eller kommunikation med stör alternativknapp frekvenser eller skärande kablar.</span><span class="sxs-lookup"><span data-stu-id="07537-312">**Denial of Service**: A device can be rendered incapable of functioning or communicating by interfering with radio frequencies or cutting wires.</span></span> <span data-ttu-id="07537-313">Till exempel rapporterar övervakning kamera som hade ström eller nätverket anslutningen avsiktligt blockerade inte data, alls.</span><span class="sxs-lookup"><span data-stu-id="07537-313">For example, a surveillance camera that had its power or network connection intentionally knocked out will not report data, at all.</span></span>

<span data-ttu-id="07537-314">**Manipulering**: en angripare kan helt eller delvis ersätta program som körs på enheten kan vara så att programmet ersatta utnyttja äkta identiteten för enheten om nyckelmaterialet eller kryptografiska verksamhet hålla viktiga material var tillgänglig för olaglig program.</span><span class="sxs-lookup"><span data-stu-id="07537-314">**Tampering**: An attacker may partially or wholly replace the software running on the device, potentially allowing the replaced software to leverage the genuine identity of the device if the key material or the cryptographic facilities holding key materials were available to the illicit program.</span></span>

<span data-ttu-id="07537-315">**Manipulering**: kamera övervakning som visas en synliga spektrumet bild av ett tomt Hall kunde syftar på ett foto av sådana Hall.</span><span class="sxs-lookup"><span data-stu-id="07537-315">**Tampering**: A surveillance camera that’s showing a visible-spectrum picture of an empty hallway could be aimed at a photograph of such a hallway.</span></span> <span data-ttu-id="07537-316">En rök eller brand sensor kunde reporting någon hålla en ljusare under den.</span><span class="sxs-lookup"><span data-stu-id="07537-316">A smoke or fire sensor could be reporting someone holding a lighter under it.</span></span> <span data-ttu-id="07537-317">I båda fallen enheten kan vara tekniskt fullständigt betrodd mot systemet, men den rapporteras behandlas för information.</span><span class="sxs-lookup"><span data-stu-id="07537-317">In either case, the device may be technically fully trustworthy towards the system, but it will report manipulated information.</span></span>

<span data-ttu-id="07537-318">**Manipulering**: en angripare kan utnyttja extraherade nyckelmaterial för att fånga och utelämna data från enheten på kommunikationssökvägen och Ersätt den med falska data som har verifierats med stulna nyckelmaterial.</span><span class="sxs-lookup"><span data-stu-id="07537-318">**Tampering**: An attacker may leverage extracted key material to intercept and suppress data from the device on the communication path and replace it with false data that is authenticated with the stolen key material.</span></span>

<span data-ttu-id="07537-319">**Manipulering**: en angripare kan helt eller delvis ersätta program som körs på enheten kan vara så att programmet ersatta utnyttja äkta identiteten för enheten om nyckelmaterialet eller kryptografiska verksamhet hålla viktiga material var tillgänglig för olaglig program.</span><span class="sxs-lookup"><span data-stu-id="07537-319">**Tampering**: An attacker may partially or completely replace the software running on the device, potentially allowing the replaced software to leverage the genuine identity of the device if the key material or the cryptographic facilities holding key materials were available to the illicit program.</span></span>

<span data-ttu-id="07537-320">**Avslöjande av information**: om enheten kör behandlas för programvara, behandlas programvaran potentiellt kan läcka ut data till obehöriga personer.</span><span class="sxs-lookup"><span data-stu-id="07537-320">**Information Disclosure**: If the device is running manipulated software, such manipulated software could potentially leak data to unauthorized parties.</span></span>

<span data-ttu-id="07537-321">**Avslöjande av information**: en angripare kan utnyttja extraherade nyckelmaterial för att mata in sig i kommunikationssökvägen mellan gateway-enhet och en domänkontrollant eller ett fält eller molngateway till siphon av information.</span><span class="sxs-lookup"><span data-stu-id="07537-321">**Information Disclosure**: An attacker may leverage extracted key material to inject itself into the communication path between the device and a controller or field gateway or cloud gateway to siphon off information.</span></span>

<span data-ttu-id="07537-322">**DOS-attack**: enheten kan stängas av eller aktiverat i ett läge där kommunikation är möjlig (vilket är avsiktlig i många industriella datorer).</span><span class="sxs-lookup"><span data-stu-id="07537-322">**Denial of Service**: The device can be turned off or turned into a mode where communication is not possible (which is intentional in many industrial machines).</span></span>

<span data-ttu-id="07537-323">**Manipulering**: enheten kan konfigureras för att fungera i ett tillstånd som är okända för kontrollsystem (utanför kända kalibreringsparametrar) och därför ger data som kan tolkas</span><span class="sxs-lookup"><span data-stu-id="07537-323">**Tampering**: The device can be reconfigured to operate in a state unknown to the control system (outside of known calibration parameters) and thus provide data that can be misinterpreted</span></span>

<span data-ttu-id="07537-324">**Rättighetsökning**: en enhet som har en specifik funktion kan tvingas att göra något annat.</span><span class="sxs-lookup"><span data-stu-id="07537-324">**Elevation of Privilege**: A device that does specific function can be forced to do something else.</span></span> <span data-ttu-id="07537-325">En ventilen är programmerad att öppna halvvägs kan till exempel att öppna ända.</span><span class="sxs-lookup"><span data-stu-id="07537-325">For example, a valve that is programmed to open half way can be tricked to open all the way.</span></span>

<span data-ttu-id="07537-326">**DOS-attack**: enheten kan omvandlas till ett tillstånd där kommunikation är möjlig.</span><span class="sxs-lookup"><span data-stu-id="07537-326">**Denial of Service**: The device can be turned into a state where communication is not possible.</span></span>

<span data-ttu-id="07537-327">**Manipulering**: enheten kan konfigureras för att fungera i ett tillstånd som är okända för kontrollsystem (utanför kända kalibreringsparametrar) och därför ger data som kan tolkas.</span><span class="sxs-lookup"><span data-stu-id="07537-327">**Tampering**: The device can be reconfigured to operate in a state unknown to the control system (outside of known calibration parameters) and thus provide data that can be misinterpreted.</span></span>

<span data-ttu-id="07537-328">**Förfalskning/Tampering/Repudiation**: om inte skyddade (vilket är det sällan med konsumenten remote kontroller) kan en angripare ändra tillståndet för en enhet anonymt.</span><span class="sxs-lookup"><span data-stu-id="07537-328">**Spoofing/Tampering/Repudiation**: If not secured (which is rarely the case with consumer remote controls) an attacker can manipulate the state of a device anonymously.</span></span> <span data-ttu-id="07537-329">En bra bild är fjärransluten kontroller som kan aktivera valfri TV och som är populära prankster verktyg.</span><span class="sxs-lookup"><span data-stu-id="07537-329">A good illustration is remote controls that can turn any TV and that are popular prankster tools.</span></span>

#### <a name="communication"></a><span data-ttu-id="07537-330">Kommunikation</span><span class="sxs-lookup"><span data-stu-id="07537-330">Communication</span></span>
<span data-ttu-id="07537-331">Hot runt kommunikationssökvägen mellan enheter, enheter och fältet gateways och gateway-enhet och molnet.</span><span class="sxs-lookup"><span data-stu-id="07537-331">Threats around communication path between devices, devices and field gateways and device and cloud gateway.</span></span> <span data-ttu-id="07537-332">Tabellen nedan innehåller vägledning runt öppna sockets på enheten/VPN:</span><span class="sxs-lookup"><span data-stu-id="07537-332">The table below has some guidance around open sockets on the device/VPN:</span></span>

| <span data-ttu-id="07537-333">**Komponent**</span><span class="sxs-lookup"><span data-stu-id="07537-333">**Component**</span></span> | <span data-ttu-id="07537-334">**Hot**</span><span class="sxs-lookup"><span data-stu-id="07537-334">**Threat**</span></span> | <span data-ttu-id="07537-335">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="07537-335">**Mitigation**</span></span> | <span data-ttu-id="07537-336">**Risk**</span><span class="sxs-lookup"><span data-stu-id="07537-336">**Risk**</span></span> | <span data-ttu-id="07537-337">**Implementering**</span><span class="sxs-lookup"><span data-stu-id="07537-337">**Implementation**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="07537-338">Enheten IoT-hubb</span><span class="sxs-lookup"><span data-stu-id="07537-338">Device IoT Hub</span></span> |<span data-ttu-id="07537-339">TID</span><span class="sxs-lookup"><span data-stu-id="07537-339">TID</span></span> |<span data-ttu-id="07537-340">(D) TLS (PSK/RSA) att kryptera trafiken</span><span class="sxs-lookup"><span data-stu-id="07537-340">(D)TLS (PSK/RSA) to encrypt the traffic</span></span> |<span data-ttu-id="07537-341">Avlyssning eller stör kommunikationen mellan enheten och gateway</span><span class="sxs-lookup"><span data-stu-id="07537-341">Eavesdropping or interfering the communication between the device and the gateway</span></span> |<span data-ttu-id="07537-342">Säkerhet på protokollnivå.</span><span class="sxs-lookup"><span data-stu-id="07537-342">Security on the protocol level.</span></span> <span data-ttu-id="07537-343">Vi behöver ta reda på hur du skyddar dem med anpassade protokoll.</span><span class="sxs-lookup"><span data-stu-id="07537-343">With custom protocols, we need to figure out how to protect them.</span></span> <span data-ttu-id="07537-344">I de flesta fall sker kommunikationen från enheten till IoT-hubben (enheten inleder anslutningen).</span><span class="sxs-lookup"><span data-stu-id="07537-344">In most cases, the communication takes place from the device to the IoT Hub (device initiates the connection).</span></span> |
| <span data-ttu-id="07537-345">Enheten enhet</span><span class="sxs-lookup"><span data-stu-id="07537-345">Device Device</span></span> |<span data-ttu-id="07537-346">TID</span><span class="sxs-lookup"><span data-stu-id="07537-346">TID</span></span> |<span data-ttu-id="07537-347">(D) TLS (PSK/RSA) att kryptera trafiken.</span><span class="sxs-lookup"><span data-stu-id="07537-347">(D)TLS (PSK/RSA) to encrypt the traffic.</span></span> |<span data-ttu-id="07537-348">Läsningen av data som överförs mellan enheter.</span><span class="sxs-lookup"><span data-stu-id="07537-348">Reading data in transit between devices.</span></span> <span data-ttu-id="07537-349">Manipulation av data.</span><span class="sxs-lookup"><span data-stu-id="07537-349">Tampering with the data.</span></span> <span data-ttu-id="07537-350">Överbelastning enheten med nya anslutningar</span><span class="sxs-lookup"><span data-stu-id="07537-350">Overloading the device with new connections</span></span> |<span data-ttu-id="07537-351">Säkerhet på protokollnivå (MQTT/AMQP/HTTP/CoAP.</span><span class="sxs-lookup"><span data-stu-id="07537-351">Security on the protocol level (MQTT/AMQP/HTTP/CoAP.</span></span> <span data-ttu-id="07537-352">Vi behöver ta reda på hur du skyddar dem med anpassade protokoll.</span><span class="sxs-lookup"><span data-stu-id="07537-352">With custom protocols, we need to figure out how to protect them.</span></span> <span data-ttu-id="07537-353">Lösning för DoS-hot är att peer-enheter via en moln- eller gateway och har endast act som klienter mot nätverket.</span><span class="sxs-lookup"><span data-stu-id="07537-353">The mitigation for the DoS threat is to peer devices through a cloud or field gateway and have them only act as clients towards the network.</span></span> <span data-ttu-id="07537-354">Peering kan resultera i en direkt anslutning mellan peer-datorer efter att ha varit asynkrona av gateway</span><span class="sxs-lookup"><span data-stu-id="07537-354">The peering may result in a direct connection between the peers after having been brokered by the gateway</span></span> |
| <span data-ttu-id="07537-355">Extern enhet enhet</span><span class="sxs-lookup"><span data-stu-id="07537-355">External Entity Device</span></span> |<span data-ttu-id="07537-356">TID</span><span class="sxs-lookup"><span data-stu-id="07537-356">TID</span></span> |<span data-ttu-id="07537-357">Stark länkning av den externa enheten till enheten</span><span class="sxs-lookup"><span data-stu-id="07537-357">Strong pairing of the external entity to the device</span></span> |<span data-ttu-id="07537-358">Avlyssning anslutningen till enheten.</span><span class="sxs-lookup"><span data-stu-id="07537-358">Eavesdropping the connection to the device.</span></span> <span data-ttu-id="07537-359">Stör enheten kommunikationen</span><span class="sxs-lookup"><span data-stu-id="07537-359">Interfering the communication with the device</span></span> |<span data-ttu-id="07537-360">Länkning av den externa enheten till enheten NFC/Bluetooth LE på ett säkert sätt.</span><span class="sxs-lookup"><span data-stu-id="07537-360">Securely pairing the external entity to the device NFC/Bluetooth LE.</span></span> <span data-ttu-id="07537-361">Kontrollera den operativa panelen på enheten (fysiska)</span><span class="sxs-lookup"><span data-stu-id="07537-361">Controlling the operational panel of the device (Physical)</span></span> |
| <span data-ttu-id="07537-362">Fältet Gateway Cloud Gateway</span><span class="sxs-lookup"><span data-stu-id="07537-362">Field Gateway Cloud Gateway</span></span> |<span data-ttu-id="07537-363">TID</span><span class="sxs-lookup"><span data-stu-id="07537-363">TID</span></span> |<span data-ttu-id="07537-364">TLS (PSK/RSA) att kryptera trafiken.</span><span class="sxs-lookup"><span data-stu-id="07537-364">TLS (PSK/RSA) to encrypt the traffic.</span></span> |<span data-ttu-id="07537-365">Avlyssning eller stör kommunikationen mellan enheten och gateway</span><span class="sxs-lookup"><span data-stu-id="07537-365">Eavesdropping or interfering the communication between the device and the gateway</span></span> |<span data-ttu-id="07537-366">Säkerhet på protokollnivå (MQTT/AMQP/HTTP/CoAP).</span><span class="sxs-lookup"><span data-stu-id="07537-366">Security on the protocol level (MQTT/AMQP/HTTP/CoAP).</span></span> <span data-ttu-id="07537-367">Vi behöver ta reda på hur du skyddar dem med anpassade protokoll.</span><span class="sxs-lookup"><span data-stu-id="07537-367">With custom protocols, we need to figure out how to protect them.</span></span> |
| <span data-ttu-id="07537-368">Gateway för enhet moln</span><span class="sxs-lookup"><span data-stu-id="07537-368">Device Cloud Gateway</span></span> |<span data-ttu-id="07537-369">TID</span><span class="sxs-lookup"><span data-stu-id="07537-369">TID</span></span> |<span data-ttu-id="07537-370">TLS (PSK/RSA) att kryptera trafiken.</span><span class="sxs-lookup"><span data-stu-id="07537-370">TLS (PSK/RSA) to encrypt the traffic.</span></span> |<span data-ttu-id="07537-371">Avlyssning eller stör kommunikationen mellan enheten och gateway</span><span class="sxs-lookup"><span data-stu-id="07537-371">Eavesdropping or interfering the communication between the device and the gateway</span></span> |<span data-ttu-id="07537-372">Säkerhet på protokollnivå (MQTT/AMQP/HTTP/CoAP).</span><span class="sxs-lookup"><span data-stu-id="07537-372">Security on the protocol level (MQTT/AMQP/HTTP/CoAP).</span></span> <span data-ttu-id="07537-373">Vi behöver ta reda på hur du skyddar dem med anpassade protokoll.</span><span class="sxs-lookup"><span data-stu-id="07537-373">With custom protocols, we need to figure out how to protect them.</span></span> |

<span data-ttu-id="07537-374">Här följer några exempel på hot i den här kategorin:</span><span class="sxs-lookup"><span data-stu-id="07537-374">Here are some examples of threats in this category:</span></span>

<span data-ttu-id="07537-375">**DOS-attack**: begränsad enheter är vanligtvis hotas DoS när de aktivt lyssna efter inkommande anslutningar eller oönskad datagram i ett nätverk, eftersom en angripare kan öppna många anslutningar parallellt och inte tjänsten dem eller tjänst dem mycket långsamt eller enheten kan vara översvämmat med oönskad trafik.</span><span class="sxs-lookup"><span data-stu-id="07537-375">**Denial of Service**: Constrained devices are generally under DoS threat when they actively listen for inbound connections or unsolicited datagrams on a network, because an attacker can open many connections in parallel and not service them or service them very slowly, or the device can be flooded with unsolicited traffic.</span></span> <span data-ttu-id="07537-376">I båda fallen måste återges enheten effektivt inte fungerar alls i nätverket.</span><span class="sxs-lookup"><span data-stu-id="07537-376">In both cases, the device can effectively be rendered inoperable on the network.</span></span>

<span data-ttu-id="07537-377">**Förfalskning, avslöjande av Information**: begränsad enheter och särskilda enheter har ofta en för alla säkerhet verksamhet som lösenord eller PIN-skydd eller de helt förlitar sig på betrodda nätverk, vilket innebär att de kommer att ge åtkomst till information om en enhet i samma nätverk och nätverket är ofta endast skyddas av en delad nyckel.</span><span class="sxs-lookup"><span data-stu-id="07537-377">**Spoofing, Information Disclosure**: Constrained devices and special-purpose devices often have one-for-all security facilities like password or PIN protection, or they wholly rely on trusting the network, meaning they will grant access to information when a device is on the same network, and that network is often only protected by a shared key.</span></span> <span data-ttu-id="07537-378">Det innebär att när den delade hemligheten enhet eller nätverket lämnas, är det möjligt att styra enheten eller se data som sänds från enheten.</span><span class="sxs-lookup"><span data-stu-id="07537-378">That means that when the shared secret to device or network is disclosed, it is possible to control the device or observe data emitted from the device.</span></span>  

<span data-ttu-id="07537-379">**Förfalskning**: en angripare kan fånga upp eller delvis åsidosätta sändningen och förfalska avsändaren (man i mitten)</span><span class="sxs-lookup"><span data-stu-id="07537-379">**Spoofing**: an attacker may intercept or partially override the broadcast and spoof the originator (man in the middle)</span></span>

<span data-ttu-id="07537-380">**Manipulering**: en angripare kan fånga upp eller delvis åsidosätta sändningen och skicka falsk information</span><span class="sxs-lookup"><span data-stu-id="07537-380">**Tampering**: an attacker may intercept or partially override the broadcast and send false information</span></span> 

<span data-ttu-id="07537-381">**Avslöjande av information:** en angripare kan eavesdrop på en sändning och få information utan tillstånd **Denial of Service:** en angripare kan sylt broadcast signalen och neka information distribution</span><span class="sxs-lookup"><span data-stu-id="07537-381">**Information Disclosure:** an attacker may eavesdrop on a broadcast and obtain information without authorization **Denial of Service:** an attacker may jam the broadcast signal and deny information distribution</span></span>

#### <a name="storage"></a><span data-ttu-id="07537-382">Lagring</span><span class="sxs-lookup"><span data-stu-id="07537-382">Storage</span></span>
<span data-ttu-id="07537-383">Varje enhet och fältet gateway har någon form av lagring (tillfälliga för queuing data, operativsystem (OS) bildlagring).</span><span class="sxs-lookup"><span data-stu-id="07537-383">Every device and field gateway has some form of storage (temporary for queuing the data, operating system (OS) image storage).</span></span>

| <span data-ttu-id="07537-384">**Komponent**</span><span class="sxs-lookup"><span data-stu-id="07537-384">**Component**</span></span> | <span data-ttu-id="07537-385">**Hot**</span><span class="sxs-lookup"><span data-stu-id="07537-385">**Threat**</span></span> | <span data-ttu-id="07537-386">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="07537-386">**Mitigation**</span></span> | <span data-ttu-id="07537-387">**Risk**</span><span class="sxs-lookup"><span data-stu-id="07537-387">**Risk**</span></span> | <span data-ttu-id="07537-388">**Implementering**</span><span class="sxs-lookup"><span data-stu-id="07537-388">**Implementation**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="07537-389">Enhetslagring</span><span class="sxs-lookup"><span data-stu-id="07537-389">Device storage</span></span> |<span data-ttu-id="07537-390">TRID</span><span class="sxs-lookup"><span data-stu-id="07537-390">TRID</span></span> |<span data-ttu-id="07537-391">Lagringskryptering signering loggarna</span><span class="sxs-lookup"><span data-stu-id="07537-391">Storage encryption, signing the logs</span></span> |<span data-ttu-id="07537-392">Läsning av data från lagring (personligt identifierbar information data), manipulera telemetridata.</span><span class="sxs-lookup"><span data-stu-id="07537-392">Reading data from the storage (PII data), tampering with telemetry data.</span></span> <span data-ttu-id="07537-393">Manipulera i kö eller cachelagrad kommandot kontrolldata.</span><span class="sxs-lookup"><span data-stu-id="07537-393">Tampering with queued or cached command control data.</span></span> <span data-ttu-id="07537-394">Manipulera konfiguration eller inbyggd programvara uppdateringspaket kan medan cachelagras eller köade lokalt leda till OS-och/eller system komponenter komprometteras</span><span class="sxs-lookup"><span data-stu-id="07537-394">Tampering with configuration or firmware update packages while cached or queued locally can lead to OS and/or system components being compromised</span></span> |<span data-ttu-id="07537-395">Kryptering, message authentication code (MAC) eller digital signatur.</span><span class="sxs-lookup"><span data-stu-id="07537-395">Encryption, message authentication code (MAC) or digital signature.</span></span> <span data-ttu-id="07537-396">Möjligt, starkt åtkomstkontroll via resursåtkomst styra där listor (ACL) eller behörigheter.</span><span class="sxs-lookup"><span data-stu-id="07537-396">Where possible, strong access control through resource access control lists (ACLs) or permissions.</span></span> |
| <span data-ttu-id="07537-397">Enhetens OS-bild</span><span class="sxs-lookup"><span data-stu-id="07537-397">Device OS image</span></span> |<span data-ttu-id="07537-398">TRID</span><span class="sxs-lookup"><span data-stu-id="07537-398">TRID</span></span> | |<span data-ttu-id="07537-399">Manipulera OS / ersätta OS-komponenter</span><span class="sxs-lookup"><span data-stu-id="07537-399">Tampering with OS /replacing the OS components</span></span> |<span data-ttu-id="07537-400">OS-partitionen är skrivskyddad, signerade OS-avbildning, kryptering</span><span class="sxs-lookup"><span data-stu-id="07537-400">Read-only OS partition, signed OS image, Encryption</span></span> |
| <span data-ttu-id="07537-401">Fältet Gateway-lagring (queuing data)</span><span class="sxs-lookup"><span data-stu-id="07537-401">Field Gateway storage (queuing the data)</span></span> |<span data-ttu-id="07537-402">TRID</span><span class="sxs-lookup"><span data-stu-id="07537-402">TRID</span></span> |<span data-ttu-id="07537-403">Lagringskryptering signering loggarna</span><span class="sxs-lookup"><span data-stu-id="07537-403">Storage encryption, signing the logs</span></span> |<span data-ttu-id="07537-404">Läsning av data från lagring (personligt identifierbar information data), manipulera telemetridata, manipulera i kö eller cachelagrad kommandot kontrolldata.</span><span class="sxs-lookup"><span data-stu-id="07537-404">Reading data from the storage (PII data), tampering with telemetry data, tampering with queued or cached command control data.</span></span> <span data-ttu-id="07537-405">Manipulera konfiguration eller inbyggd programvara uppdateringspaket (avsedda för enheter eller fältet gateway) kan medan cachelagras eller köade lokalt leda till OS-och/eller system komponenter komprometteras</span><span class="sxs-lookup"><span data-stu-id="07537-405">Tampering with configuration or firmware update packages (destined for devices or field gateway) while cached or queued locally can lead to OS and/or system components being compromised</span></span> |<span data-ttu-id="07537-406">BitLocker</span><span class="sxs-lookup"><span data-stu-id="07537-406">BitLocker</span></span> |
| <span data-ttu-id="07537-407">Fältet Gateway OS-avbildningen</span><span class="sxs-lookup"><span data-stu-id="07537-407">Field Gateway OS image</span></span> |<span data-ttu-id="07537-408">TRID</span><span class="sxs-lookup"><span data-stu-id="07537-408">TRID</span></span> | |<span data-ttu-id="07537-409">Manipulera OS / ersätta OS-komponenter</span><span class="sxs-lookup"><span data-stu-id="07537-409">Tampering with OS /replacing the OS components</span></span> |<span data-ttu-id="07537-410">OS-partitionen är skrivskyddad, signerade OS-avbildning, kryptering</span><span class="sxs-lookup"><span data-stu-id="07537-410">Read-only OS partition, signed OS image, Encryption</span></span> |

### <a name="device-and-event-processingcloud-gateway-zone"></a><span data-ttu-id="07537-411">Enheten och händelsen bearbetning eller ett moln gateway zon</span><span class="sxs-lookup"><span data-stu-id="07537-411">Device and event processing/cloud gateway zone</span></span>
<span data-ttu-id="07537-412">En molngateway är system som aktiverar fjärrkommunikation från och till enheter eller gateways för fältet från flera olika platser över offentligt nätverk utrymme, vanligtvis mot en molnbaserad kontroll- och system för analys, ett federationsförtroende på sådana system.</span><span class="sxs-lookup"><span data-stu-id="07537-412">A cloud gateway is system that enables remote communication from and to devices or field gateways from several different sites across public network space, typically towards a cloud-based control and data analysis system, a federation of such systems.</span></span> <span data-ttu-id="07537-413">I vissa fall kan underlätta en molngateway omedelbart åtkomst till särskilda enheter från terminaler, till exempel surfplattor eller telefoner.</span><span class="sxs-lookup"><span data-stu-id="07537-413">In some cases, a cloud gateway may immediately facilitate access to special-purpose devices from terminals such as tablets or phones.</span></span> <span data-ttu-id="07537-414">Kontexten som beskrivs här ”moln” är avsedd att referera till en dedikerad databearbetning system som inte har bundits till samma plats som den anslutna enheter eller fältet gateways och där operativa åtgärder för att förhindra fysisk åtkomst som mål men inte nödvändigtvis att en ”offentliga” molninfrastruktur.</span><span class="sxs-lookup"><span data-stu-id="07537-414">In the context discussed here, “cloud” is meant to refer to a dedicated data processing system that is not bound to the same site as the attached devices or field gateways, and where operational measures prevent targeted physical access but is not necessarily to a “public cloud” infrastructure.</span></span>  <span data-ttu-id="07537-415">En molngateway kan potentiellt mappas till ett nätverksvirtualisering överlägg till certifikatutfärdarhierarki gateway för moln och alla dess anslutna enheter eller gateways för fältet från annan nätverkstrafik.</span><span class="sxs-lookup"><span data-stu-id="07537-415">A cloud gateway may potentially be mapped into a network virtualization overlay to insulate the cloud gateway and all of its attached devices or field gateways from any other network traffic.</span></span> <span data-ttu-id="07537-416">Molngatewayen själva är varken ett system för enheten eller en bearbetning eller lagringsutrymmet för enhetsdata; Dessa anläggningar gränssnittet med molngateway.</span><span class="sxs-lookup"><span data-stu-id="07537-416">The cloud gateway itself is neither a device control system nor a processing or storage facility for device data; those facilities interface with the cloud gateway.</span></span> <span data-ttu-id="07537-417">Zonen molnet gateway innehåller själva molngatewayen tillsammans med alla fält gatewayer och enheter som är direkt eller indirekt kopplade till den.</span><span class="sxs-lookup"><span data-stu-id="07537-417">The cloud gateway zone includes the cloud gateway itself along with all field gateways and devices directly or indirectly attached to it.</span></span>

<span data-ttu-id="07537-418">Molngatewayen är främst anpassade inbyggda program som körs som en tjänst med exponerade slutpunkter som fältet gateway och enheter att ansluta.</span><span class="sxs-lookup"><span data-stu-id="07537-418">Cloud gateway is mostly custom built piece of software running as a service with exposed endpoints to which field gateway and devices connect.</span></span> <span data-ttu-id="07537-419">Det måste därför utformas med säkerhet i åtanke.</span><span class="sxs-lookup"><span data-stu-id="07537-419">As such it must be designed with security in mind.</span></span> <span data-ttu-id="07537-420">Följ [SDL](http://www.microsoft.com/sdl) processer för att designa och skapa den här tjänsten.</span><span class="sxs-lookup"><span data-stu-id="07537-420">Please follow [SDL](http://www.microsoft.com/sdl) process for designing and building this service.</span></span> 

#### <a name="services-zone"></a><span data-ttu-id="07537-421">Zonen för tjänster</span><span class="sxs-lookup"><span data-stu-id="07537-421">Services zone</span></span>
<span data-ttu-id="07537-422">Kontrollsystem (eller domänkontrollant) är en programvarulösning som har kontakt med en enhet eller en fältet gateway eller molngateway för att styra en eller flera enheter och/eller för att samla in och/eller lagra och analysera data på enheten för presentation eller efterföljande kontroll syften.</span><span class="sxs-lookup"><span data-stu-id="07537-422">A control system (or controller) is a software solution that interfaces with a device, or a field gateway, or cloud gateway for the purpose of controlling one or multiple devices and/or to collect and/or store and/or analyze device data for presentation, or subsequent control purposes.</span></span> <span data-ttu-id="07537-423">System är endast enheter i omfånget för den här diskussionen som kan underlätta interaktion med personer omedelbart.</span><span class="sxs-lookup"><span data-stu-id="07537-423">Control systems are the only entities in the scope of this discussion that may immediately facilitate interaction with people.</span></span> <span data-ttu-id="07537-424">Undantaget är mellanliggande fysisk kontroll på portalen innehåller på enheter som en växel som gör att en person för att inaktivera enheten eller ändra andra egenskaper och där det inte finns ingen funktionell ekvivalent som kan nås digitalt.</span><span class="sxs-lookup"><span data-stu-id="07537-424">The exception is intermediate physical control surfaces on devices, like a switch that allows a person to turn the device off or change other properties, and for which there is no functional equivalent that can be accessed digitally.</span></span> 

<span data-ttu-id="07537-425">Mellanliggande fysisk kontroll på portalen innehåller är sådana där alla slags styr logik avgränsar funktionen av fysiska yta så att en motsvarande funktion kan initieras via fjärranslutning eller inkommande står i konflikt med fjärråtkomst indata kan undvikas – sådana intermediated kontrollen hämtar begreppsmässigt är ansluten till ett lokalt system som använder samma underliggande funktioner som alla andra fjärrstyrning system som enheten kan kopplas till parallellt.</span><span class="sxs-lookup"><span data-stu-id="07537-425">Intermediate physical control surfaces are those where any sort of governing logic constrains the function of the physical control surface such that an equivalent function can be initiated remotely or input conflicts with remote input can be avoided – such intermediated control surfaces are conceptually attached to a local control system that leverages the same underlying functionality as any other remote control system that the device may be attached to in parallel.</span></span> <span data-ttu-id="07537-426">Övre hot mot cloud computing-lösningar kan läsas på [Cloud Security Alliance (CSA)](https://cloudsecurityalliance.org/research/top-threats/) sidan.</span><span class="sxs-lookup"><span data-stu-id="07537-426">Top threats to the cloud computing can be read at [Cloud Security Alliance (CSA)](https://cloudsecurityalliance.org/research/top-threats/) page.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="07537-427">Ytterligare resurser</span><span class="sxs-lookup"><span data-stu-id="07537-427">Additional resources</span></span>
<span data-ttu-id="07537-428">Se följande artiklar för ytterligare information:</span><span class="sxs-lookup"><span data-stu-id="07537-428">Refer to the following articles for additional information:</span></span>

* [<span data-ttu-id="07537-429">SDL hot modellering verktyget</span><span class="sxs-lookup"><span data-stu-id="07537-429">SDL Threat Modeling Tool</span></span>](https://www.microsoft.com/sdl/adopt/threatmodeling.aspx)
* [<span data-ttu-id="07537-430">Microsoft Azure IoT Referensarkitektur</span><span class="sxs-lookup"><span data-stu-id="07537-430">Microsoft Azure IoT reference architecture</span></span>](https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/)

## <a name="see-also"></a><span data-ttu-id="07537-431">Se även</span><span class="sxs-lookup"><span data-stu-id="07537-431">See also</span></span>
<span data-ttu-id="07537-432">Mer information om hur du skyddar IoT-lösningen finns [säkra din IoT-distribution][lnk-security-deployment].</span><span class="sxs-lookup"><span data-stu-id="07537-432">To learn more about securing your IoT solution, see [Secure your IoT deployment][lnk-security-deployment].</span></span>

<span data-ttu-id="07537-433">Du kan även utforska några andra funktioner och möjligheter i de förkonfigurerade lösningarna i IoT Suite:</span><span class="sxs-lookup"><span data-stu-id="07537-433">You can also explore some of the other features and capabilities of the IoT Suite preconfigured solutions:</span></span>

* <span data-ttu-id="07537-434">[Förutsägande Underhåll förkonfigurerade lösning: översikt][lnk-predictive-overview]</span><span class="sxs-lookup"><span data-stu-id="07537-434">[Predictive maintenance preconfigured solution overview][lnk-predictive-overview]</span></span>
* <span data-ttu-id="07537-435">[Vanliga frågor och svar om IoT Suite][lnk-faq]</span><span class="sxs-lookup"><span data-stu-id="07537-435">[Frequently asked questions for IoT Suite][lnk-faq]</span></span>

<span data-ttu-id="07537-436">Du kan läsa om IoT-hubb säkerhet i [styra åtkomsten till IoT-hubb] [ lnk-devguide-security] i utvecklarhandboken för IoT-hubb.</span><span class="sxs-lookup"><span data-stu-id="07537-436">You can read about IoT Hub security in [Control access to IoT Hub][lnk-devguide-security] in the IoT Hub developer guide.</span></span>

[lnk-predictive-overview]: iot-suite-predictive-overview.md
[lnk-faq]: iot-suite-faq.md

[lnk-security-deployment]: iot-suite-security-deployment.md
[lnk-devguide-security]: ../iot-hub/iot-hub-devguide-security.md