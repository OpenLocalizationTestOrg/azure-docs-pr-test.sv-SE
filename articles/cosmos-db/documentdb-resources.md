---
title: aaaAzure Cosmos DB resursmodell och begrepp | Microsoft Docs
description: "Läs mer om Azure Cosmos DB hierarkiska modell av databaser, samlingar, användardefinierad funktion (UDF), dokument, behörigheter toomanage resurser och mer."
keywords: Hierarkisk modellen cosmosdb, azure, Microsoft azure
services: cosmos-db
documentationcenter: 
author: AndrewHoh
manager: jhubbard
editor: monicar
ms.assetid: ef9d5c0c-0867-4317-bb1b-98e219799fd5
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/24/2017
ms.author: anhoh
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: fc3642232b86cc27901ebd97456c386829324632
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-cosmos-db-hierarchical-resource-model-and-core-concepts"></a><span data-ttu-id="c1975-104">Hierarkisk Azure Cosmos DB-resursmodell och huvudkoncept</span><span class="sxs-lookup"><span data-stu-id="c1975-104">Azure Cosmos DB hierarchical resource model and core concepts</span></span>
<span data-ttu-id="c1975-105">hello databasenheter som hanterar Azure Cosmos DB är refererad tooas **resurser**.</span><span class="sxs-lookup"><span data-stu-id="c1975-105">hello database entities that Azure Cosmos DB manages are referred tooas **resources**.</span></span> <span data-ttu-id="c1975-106">Varje resurs identifieras unikt med en logisk URI.</span><span class="sxs-lookup"><span data-stu-id="c1975-106">Each resource is uniquely identified by a logical URI.</span></span> <span data-ttu-id="c1975-107">Du kan interagera med hello resurser med hjälp av HTTP-verb som standard, frågor och svar sidhuvuden och statuskoder.</span><span class="sxs-lookup"><span data-stu-id="c1975-107">You can interact with hello resources using standard HTTP verbs, request/response headers and status codes.</span></span> 

<span data-ttu-id="c1975-108">Läsa den här artikeln om du kommer att kunna tooanswer hello följande frågor:</span><span class="sxs-lookup"><span data-stu-id="c1975-108">By reading this article, you'll be able tooanswer hello following questions:</span></span>

* <span data-ttu-id="c1975-109">Vad är Cosmos DB modell?</span><span class="sxs-lookup"><span data-stu-id="c1975-109">What is Cosmos DB's resource model?</span></span>
* <span data-ttu-id="c1975-110">Vad är definierad resurser som skillnad från toouser definierats resurser?</span><span class="sxs-lookup"><span data-stu-id="c1975-110">What are system defined resources as opposed toouser defined resources?</span></span>
* <span data-ttu-id="c1975-111">Hur åtgärdar en resurs?</span><span class="sxs-lookup"><span data-stu-id="c1975-111">How do I address a resource?</span></span>
* <span data-ttu-id="c1975-112">Hur fungerar med samlingar?</span><span class="sxs-lookup"><span data-stu-id="c1975-112">How do I work with collections?</span></span>
* <span data-ttu-id="c1975-113">Hur fungerar med lagrade procedurer, utlösare och användardefinierade funktioner (UDF)?</span><span class="sxs-lookup"><span data-stu-id="c1975-113">How do I work with stored procedures, triggers and User Defined Functions (UDFs)?</span></span>

## <a name="hierarchical-resource-model"></a><span data-ttu-id="c1975-114">Hierarkiska resursmodell</span><span class="sxs-lookup"><span data-stu-id="c1975-114">Hierarchical resource model</span></span>
<span data-ttu-id="c1975-115">Eftersom hello följande diagram illustrerar, hello Cosmos DB hierarkiska **resursmodell** består av uppsättningar av resurser under ett databaskonto varje adresserbara via en logisk och stabil URI.</span><span class="sxs-lookup"><span data-stu-id="c1975-115">As hello following diagram illustrates, hello Cosmos DB hierarchical **resource model** consists of sets of resources under a database account, each addressable via a logical and stable URI.</span></span> <span data-ttu-id="c1975-116">En uppsättning resurser blir refererad tooas en **feed** i den här artikeln.</span><span class="sxs-lookup"><span data-stu-id="c1975-116">A set of resources will be referred tooas a **feed** in this article.</span></span> 

> [!NOTE]
> <span data-ttu-id="c1975-117">Azure Cosmos-DB erbjuder en högeffektiv TCP-protokollet som också RESTful i sin kommunikation modellen tillgängliga via hello [DocumentDB .NET klienten API](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c1975-117">Azure Cosmos DB offers a highly efficient TCP protocol which is also RESTful in its communication model, available through hello [DocumentDB .NET client API](documentdb-sdk-dotnet.md).</span></span>
> 
> 

<span data-ttu-id="c1975-118">![Azure DB Cosmos hierarkiska resursmodell][1]</span><span class="sxs-lookup"><span data-stu-id="c1975-118">![Azure Cosmos DB hierarchical resource model][1]</span></span>  
<span data-ttu-id="c1975-119">**Hierarkiska resursmodell**</span><span class="sxs-lookup"><span data-stu-id="c1975-119">**Hierarchical resource model**</span></span>   

<span data-ttu-id="c1975-120">toostart arbeta med resurser, måste du [skapa ett databaskonto](create-documentdb-dotnet.md) med din Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="c1975-120">toostart working with resources, you must [create a database account](create-documentdb-dotnet.md) using your Azure subscription.</span></span> <span data-ttu-id="c1975-121">Ett databaskonto kan bestå av en uppsättning **databaser**, var och en innehåller flera **samlingar**, varje av som i sin tur innehåller **lagrade procedurer, utlösare, UDF: er, dokument**och relaterade **bilagor**.</span><span class="sxs-lookup"><span data-stu-id="c1975-121">A database account can consist of a set of **databases**, each containing multiple **collections**, each of which in turn contain **stored procedures, triggers, UDFs, documents** and related **attachments**.</span></span> <span data-ttu-id="c1975-122">En databas har också associerade **användare**, var och en med en uppsättning **behörigheter** tooaccess samlingar, lagrade procedurer, utlösare, UDF: er, dokument eller bilagor.</span><span class="sxs-lookup"><span data-stu-id="c1975-122">A database also has associated **users**, each with a set of **permissions** tooaccess collections, stored procedures, triggers, UDFs, documents or attachments.</span></span> <span data-ttu-id="c1975-123">Databaser, användare, behörigheter och samlingar är systemdefinierade resurser med välkända scheman, dokument och bilagor innehåller godtyckligt, användardefinierat JSON-innehåll.</span><span class="sxs-lookup"><span data-stu-id="c1975-123">While databases, users, permissions and collections are system-defined resources with well-known schemas, documents and attachments contain arbitrary, user defined JSON content.</span></span>  

| <span data-ttu-id="c1975-124">Resurs</span><span class="sxs-lookup"><span data-stu-id="c1975-124">Resource</span></span> | <span data-ttu-id="c1975-125">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="c1975-125">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c1975-126">Databaskonto</span><span class="sxs-lookup"><span data-stu-id="c1975-126">Database account</span></span> |<span data-ttu-id="c1975-127">Ett databaskonto är associerad med en uppsättning databaser och en fast mängd blob-lagring för bifogade filer.</span><span class="sxs-lookup"><span data-stu-id="c1975-127">A database account is associated with a set of databases and a fixed amount of blob storage for attachments.</span></span> <span data-ttu-id="c1975-128">Du kan skapa en eller flera databasen konton med hjälp av din Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="c1975-128">You can create one or more database accounts using your Azure subscription.</span></span> <span data-ttu-id="c1975-129">Mer information finns på vår [sida med priser](https://azure.microsoft.com/pricing/details/cosmos-db/).</span><span class="sxs-lookup"><span data-stu-id="c1975-129">For more information, visit our [pricing page](https://azure.microsoft.com/pricing/details/cosmos-db/).</span></span> |
| <span data-ttu-id="c1975-130">Databas</span><span class="sxs-lookup"><span data-stu-id="c1975-130">Database</span></span> |<span data-ttu-id="c1975-131">En databas är en logisk behållare för dokumentlagring, partitionerad över samlingarna.</span><span class="sxs-lookup"><span data-stu-id="c1975-131">A database is a logical container of document storage partitioned across collections.</span></span> <span data-ttu-id="c1975-132">Det är en användarbehållare.</span><span class="sxs-lookup"><span data-stu-id="c1975-132">It is also a users container.</span></span> |
| <span data-ttu-id="c1975-133">Användare</span><span class="sxs-lookup"><span data-stu-id="c1975-133">User</span></span> |<span data-ttu-id="c1975-134">hello logiska namnområde scope behörigheter.</span><span class="sxs-lookup"><span data-stu-id="c1975-134">hello logical namespace for scoping permissions.</span></span> |
| <span data-ttu-id="c1975-135">Behörighet</span><span class="sxs-lookup"><span data-stu-id="c1975-135">Permission</span></span> |<span data-ttu-id="c1975-136">En autentiseringstoken som är kopplad till en användare för åtkomst tooa viss resurs.</span><span class="sxs-lookup"><span data-stu-id="c1975-136">An authorization token associated with a user for access tooa specific resource.</span></span> |
| <span data-ttu-id="c1975-137">Samling</span><span class="sxs-lookup"><span data-stu-id="c1975-137">Collection</span></span> |<span data-ttu-id="c1975-138">En samling är en behållare för JSON-dokument och hello associerad JavaScript-programlogik.</span><span class="sxs-lookup"><span data-stu-id="c1975-138">A collection is a container of JSON documents and hello associated JavaScript application logic.</span></span> <span data-ttu-id="c1975-139">En samling är en fakturerbar enhet där hello [kostnaden](performance-levels.md) bestäms av hello prestandanivå hello samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-139">A collection is a billable entity, where hello [cost](performance-levels.md) is determined by hello performance level associated with hello collection.</span></span> <span data-ttu-id="c1975-140">Samlingar kan omfatta en eller flera partitioner/servrar och kan skalas toohandle praktiskt taget obegränsade volymer av lagring eller dataflöde.</span><span class="sxs-lookup"><span data-stu-id="c1975-140">Collections can span one or more partitions/servers and can scale toohandle practically unlimited volumes of storage or throughput.</span></span> |
| <span data-ttu-id="c1975-141">Lagrad procedur</span><span class="sxs-lookup"><span data-stu-id="c1975-141">Stored Procedure</span></span> |<span data-ttu-id="c1975-142">Programlogik skriven i JavaScript som är registrerade med en samling och transaktionellt köras inom hello databasmotorn.</span><span class="sxs-lookup"><span data-stu-id="c1975-142">Application logic written in JavaScript which is registered with a collection and transactionally executed within hello database engine.</span></span> |
| <span data-ttu-id="c1975-143">Utlösare</span><span class="sxs-lookup"><span data-stu-id="c1975-143">Trigger</span></span> |<span data-ttu-id="c1975-144">Programlogik som skrivits i JavaScript utföras före eller efter antingen ett insert-, ersätta eller ta bort igen.</span><span class="sxs-lookup"><span data-stu-id="c1975-144">Application logic written in JavaScript executed before or after either an insert, replace or delete operation.</span></span> |
| <span data-ttu-id="c1975-145">UDF</span><span class="sxs-lookup"><span data-stu-id="c1975-145">UDF</span></span> |<span data-ttu-id="c1975-146">Programlogik skriven i JavaScript.</span><span class="sxs-lookup"><span data-stu-id="c1975-146">Application logic written in JavaScript.</span></span> <span data-ttu-id="c1975-147">UDF: aktivera toomodel en anpassad fråga operator och utöka därmed hello core DocumentDB API-frågespråket.</span><span class="sxs-lookup"><span data-stu-id="c1975-147">UDFs enable you toomodel a custom query operator and thereby extend hello core DocumentDB API query language.</span></span> |
| <span data-ttu-id="c1975-148">Dokumentet</span><span class="sxs-lookup"><span data-stu-id="c1975-148">Document</span></span> |<span data-ttu-id="c1975-149">Användardefinierat (godtyckligt) JSON-innehåll.</span><span class="sxs-lookup"><span data-stu-id="c1975-149">User defined (arbitrary) JSON content.</span></span> <span data-ttu-id="c1975-150">Inget schema måste toobe definieras som standard eller sekundärindex behöver toobe anges för alla hello dokument till tooa samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-150">By default, no schema needs toobe defined nor do secondary indices need toobe provided for all hello documents added tooa collection.</span></span> |
| <span data-ttu-id="c1975-151">Bifogad fil</span><span class="sxs-lookup"><span data-stu-id="c1975-151">Attachment</span></span> |<span data-ttu-id="c1975-152">En bilaga är ett särskilt dokument som innehåller referenser och associerade metadata för extern blob/media.</span><span class="sxs-lookup"><span data-stu-id="c1975-152">An attachment is a special document containing references and associated metadata for external blob/media.</span></span> <span data-ttu-id="c1975-153">hello utvecklare kan välja toohave hello blob som hanteras av Cosmos DB eller lagra med en extern blob-leverantör OneDrive, Dropbox, t.ex.</span><span class="sxs-lookup"><span data-stu-id="c1975-153">hello developer can choose toohave hello blob managed by Cosmos DB or store it with an external blob service provider such as OneDrive, Dropbox, etc.</span></span> |

## <a name="system-vs-user-defined-resources"></a><span data-ttu-id="c1975-154">Kontra användaren systemdefinierade resurser</span><span class="sxs-lookup"><span data-stu-id="c1975-154">System vs. user defined resources</span></span>
<span data-ttu-id="c1975-155">Resurser, till exempel databasen konton, databaser, samlingar, användare, behörigheter, lagrade procedurer, utlösare och UDF - alla har en fast schema och kallas systemresurser.</span><span class="sxs-lookup"><span data-stu-id="c1975-155">Resources such as database accounts, databases, collections, users, permissions, stored procedures, triggers, and UDFs - all have a fixed schema and are called system resources.</span></span> <span data-ttu-id="c1975-156">Däremot har inga begränsningar hello schemat resurser, t.ex dokument och bilagor och är exempel på användardefinierade resurser.</span><span class="sxs-lookup"><span data-stu-id="c1975-156">In contrast, resources such as documents and attachments have no restrictions on hello schema and are examples of user defined resources.</span></span> <span data-ttu-id="c1975-157">I Cosmos DB, både system- och definierade resurser representeras och hanteras som standard-kompatibel JSON.</span><span class="sxs-lookup"><span data-stu-id="c1975-157">In Cosmos DB, both system and user defined resources are represented and managed as standard-compliant JSON.</span></span> <span data-ttu-id="c1975-158">Alla resurser, system- eller användardefinierade, ha hello följande gemensamma egenskaper.</span><span class="sxs-lookup"><span data-stu-id="c1975-158">All resources, system or user defined, have hello following common properties.</span></span>

> [!NOTE]
> <span data-ttu-id="c1975-159">Observera att alla systemgenererat egenskaper i en resurspartnerorganisation prefix med ett understreck (_) i sina JSON-representation.</span><span class="sxs-lookup"><span data-stu-id="c1975-159">Note that all system generated properties in a resource are prefixed with an underscore (_) in their JSON representation.</span></span>
> 
> 

<table>
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="c1975-160"><strong>Egenskap</strong></span><span class="sxs-lookup"><span data-stu-id="c1975-160"><strong>Property</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-161"><strong>Ange användar- eller genereras av systemet?</strong></span><span class="sxs-lookup"><span data-stu-id="c1975-161"><strong>User settable or system generated?</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-162"><strong>Syfte</strong></span><span class="sxs-lookup"><span data-stu-id="c1975-162"><strong>Purpose</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c1975-163">_rid</span><span class="sxs-lookup"><span data-stu-id="c1975-163">_rid</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-164">Genereras av systemet</span><span class="sxs-lookup"><span data-stu-id="c1975-164">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-165">Systemgenererat, unikt och hierarkiska ID hello resurs</span><span class="sxs-lookup"><span data-stu-id="c1975-165">System generated, unique and hierarchical identifier of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c1975-166">_etag</span><span class="sxs-lookup"><span data-stu-id="c1975-166">_etag</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-167">Genereras av systemet</span><span class="sxs-lookup"><span data-stu-id="c1975-167">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-168">ETag hello-resurs som krävs för optimistisk samtidighetskontroll</span><span class="sxs-lookup"><span data-stu-id="c1975-168">etag of hello resource required for optimistic concurrency control</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c1975-169">_ts</span><span class="sxs-lookup"><span data-stu-id="c1975-169">_ts</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-170">Genereras av systemet</span><span class="sxs-lookup"><span data-stu-id="c1975-170">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-171">Senast uppdaterad tidsstämpeln för hello resurs</span><span class="sxs-lookup"><span data-stu-id="c1975-171">Last updated timestamp of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c1975-172">_self</span><span class="sxs-lookup"><span data-stu-id="c1975-172">_self</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-173">Genereras av systemet</span><span class="sxs-lookup"><span data-stu-id="c1975-173">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-174">Unikt adresserbara hello resurs-URI</span><span class="sxs-lookup"><span data-stu-id="c1975-174">Unique addressable URI of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c1975-175">id</span><span class="sxs-lookup"><span data-stu-id="c1975-175">id</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-176">Genereras av systemet</span><span class="sxs-lookup"><span data-stu-id="c1975-176">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-177">Användardefinierad unikt namn för hello resurs (med hello partitions samma nyckelvärde).</span><span class="sxs-lookup"><span data-stu-id="c1975-177">User defined unique name of hello resource (with hello same partition key value).</span></span> <span data-ttu-id="c1975-178">Om hello användare inte anger ett id, kommer ett id som att genereras av systemet</span><span class="sxs-lookup"><span data-stu-id="c1975-178">If hello user does not specify an id, an id will be system generated</span></span></p></td>
        </tr>
    </tbody>
</table>

### <a name="wire-representation-of-resources"></a><span data-ttu-id="c1975-179">Överföring representation av resurser</span><span class="sxs-lookup"><span data-stu-id="c1975-179">Wire representation of resources</span></span>
<span data-ttu-id="c1975-180">Cosmos DB tvingade inte eventuella egna tillägg toohello JSON standard eller särskilda kodningar; den fungerar med standard kompatibla JSON-dokument.</span><span class="sxs-lookup"><span data-stu-id="c1975-180">Cosmos DB does not mandate any proprietary extensions toohello JSON standard or special encodings; it works with standard compliant JSON documents.</span></span>  

### <a name="addressing-a-resource"></a><span data-ttu-id="c1975-181">En resurs-adressering</span><span class="sxs-lookup"><span data-stu-id="c1975-181">Addressing a resource</span></span>
<span data-ttu-id="c1975-182">Alla resurser är adresserbara URI.</span><span class="sxs-lookup"><span data-stu-id="c1975-182">All resources are URI addressable.</span></span> <span data-ttu-id="c1975-183">Hej värdet för hello **_self** egenskapen för en resurs representerar hello relativ URI för hello resurs.</span><span class="sxs-lookup"><span data-stu-id="c1975-183">hello value of hello **_self** property of a resource represents hello relative URI of hello resource.</span></span> <span data-ttu-id="c1975-184">hello hello URI-formatet består av hello /\<feed\>/ {_rid} sökvägssegment:</span><span class="sxs-lookup"><span data-stu-id="c1975-184">hello format of hello URI consists of hello /\<feed\>/{_rid} path segments:</span></span>  

| <span data-ttu-id="c1975-185">Värdet för hello _self</span><span class="sxs-lookup"><span data-stu-id="c1975-185">Value of hello _self</span></span> | <span data-ttu-id="c1975-186">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="c1975-186">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c1975-187">/DBS</span><span class="sxs-lookup"><span data-stu-id="c1975-187">/dbs</span></span> |<span data-ttu-id="c1975-188">Feed med databaser under ett databaskonto</span><span class="sxs-lookup"><span data-stu-id="c1975-188">Feed of databases under a database account</span></span> |
| <span data-ttu-id="c1975-189">/DBS/ {dbName}</span><span class="sxs-lookup"><span data-stu-id="c1975-189">/dbs/{dbName}</span></span> |<span data-ttu-id="c1975-190">Databasen med id matchar hello värdet {dbName}</span><span class="sxs-lookup"><span data-stu-id="c1975-190">Database with an id matching hello value {dbName}</span></span> |
| <span data-ttu-id="c1975-191">/DBS/ {dbName} /colls/</span><span class="sxs-lookup"><span data-stu-id="c1975-191">/dbs/{dbName}/colls/</span></span> |<span data-ttu-id="c1975-192">Feeden av samlingar under en-databas</span><span class="sxs-lookup"><span data-stu-id="c1975-192">Feed of collections under a database</span></span> |
| <span data-ttu-id="c1975-193">/DBS/ {dbName} /colls/ {collName}</span><span class="sxs-lookup"><span data-stu-id="c1975-193">/dbs/{dbName}/colls/{collName}</span></span> |<span data-ttu-id="c1975-194">Samling med id matchar hello värdet {collName}</span><span class="sxs-lookup"><span data-stu-id="c1975-194">Collection with an id matching hello value {collName}</span></span> |
| <span data-ttu-id="c1975-195">/DBS/ {dbName} /colls/ {collName} / docs</span><span class="sxs-lookup"><span data-stu-id="c1975-195">/dbs/{dbName}/colls/{collName}/docs</span></span> |<span data-ttu-id="c1975-196">Feeden dokument under en samling</span><span class="sxs-lookup"><span data-stu-id="c1975-196">Feed of documents under a collection</span></span> |
| <span data-ttu-id="c1975-197">/DBS/ {dbName} /colls/ {collName} /docs/ {docId}</span><span class="sxs-lookup"><span data-stu-id="c1975-197">/dbs/{dbName}/colls/{collName}/docs/{docId}</span></span> |<span data-ttu-id="c1975-198">Dokument med ett id som matchar hello värdet {doc}</span><span class="sxs-lookup"><span data-stu-id="c1975-198">Document with an id matching hello value {doc}</span></span> |
| <span data-ttu-id="c1975-199">/DBS/ {dbName} /users/</span><span class="sxs-lookup"><span data-stu-id="c1975-199">/dbs/{dbName}/users/</span></span> |<span data-ttu-id="c1975-200">Flöde för användare under en-databas</span><span class="sxs-lookup"><span data-stu-id="c1975-200">Feed of users under a database</span></span> |
| <span data-ttu-id="c1975-201">/DBS/ {dbName} /users/ {userId}</span><span class="sxs-lookup"><span data-stu-id="c1975-201">/dbs/{dbName}/users/{userId}</span></span> |<span data-ttu-id="c1975-202">Användare med ett id som matchar hello värdet {user}</span><span class="sxs-lookup"><span data-stu-id="c1975-202">User with an id matching hello value {user}</span></span> |
| <span data-ttu-id="c1975-203">/DBS/ {dbName} /users/ {userId} / behörigheter</span><span class="sxs-lookup"><span data-stu-id="c1975-203">/dbs/{dbName}/users/{userId}/permissions</span></span> |<span data-ttu-id="c1975-204">Feeden behörigheter under en användare</span><span class="sxs-lookup"><span data-stu-id="c1975-204">Feed of permissions under a user</span></span> |
| <span data-ttu-id="c1975-205">/DBS/ {dbName} /users/ {userId} /permissions/ {permissionId}</span><span class="sxs-lookup"><span data-stu-id="c1975-205">/dbs/{dbName}/users/{userId}/permissions/{permissionId}</span></span> |<span data-ttu-id="c1975-206">Behörighet med id matchar hello värdet {behörighet}</span><span class="sxs-lookup"><span data-stu-id="c1975-206">Permission with an id matching hello value {permission}</span></span> |

<span data-ttu-id="c1975-207">Varje resurs har en unik användardefinierad namn som exponeras via hello id-egenskap.</span><span class="sxs-lookup"><span data-stu-id="c1975-207">Each resource has a unique user defined name exposed via hello id property.</span></span> <span data-ttu-id="c1975-208">Obs: för dokument, om hello användare inte anger ett id våra stöds SDK: er att automatiskt generera ett unikt id för hello dokumentet.</span><span class="sxs-lookup"><span data-stu-id="c1975-208">Note: for documents, if hello user does not specify an id, our supported SDKs will automatically generate a unique id for hello document.</span></span> <span data-ttu-id="c1975-209">hello-id är en användardefinierad sträng av upp too256 tecken som är unikt i hello kontexten för en viss överordnade resurs.</span><span class="sxs-lookup"><span data-stu-id="c1975-209">hello id is a user defined string, of up too256 characters that is unique within hello context of a specific parent resource.</span></span> 

<span data-ttu-id="c1975-210">Varje resurs har också en systemgenererad hierarkiska resource identifier (även hänvisade tooas ett RID), som är tillgänglig via hello _rid egenskapen.</span><span class="sxs-lookup"><span data-stu-id="c1975-210">Each resource also has a system generated hierarchical resource identifier (also referred tooas an RID), which is available via hello _rid property.</span></span> <span data-ttu-id="c1975-211">hello RID kodar hello hela hierarkin för en viss resurs och det är en lämplig interna representation används tooenforce referensintegritet på ett sätt som är distribuerad.</span><span class="sxs-lookup"><span data-stu-id="c1975-211">hello RID encodes hello entire hierarchy of a given resource and it is a convenient internal representation used tooenforce referential integrity in a distributed manner.</span></span> <span data-ttu-id="c1975-212">hello RID är unika inom ett databaskonto och används internt av Cosmos DB för effektiv routning utan mellan partition sökningar.</span><span class="sxs-lookup"><span data-stu-id="c1975-212">hello RID is unique within a database account and it is internally used by Cosmos DB for efficient routing without requiring cross partition lookups.</span></span> <span data-ttu-id="c1975-213">hello värdena för hello _self och hello _rid egenskaper är både alternativa och kanoniska representationer av en resurs.</span><span class="sxs-lookup"><span data-stu-id="c1975-213">hello values of hello _self and hello  _rid properties are both alternate and canonical representations of a resource.</span></span> 

<span data-ttu-id="c1975-214">hello REST API: er stöd för adressering av resurser och routning av begäran av både hello-id och hello _rid egenskaper.</span><span class="sxs-lookup"><span data-stu-id="c1975-214">hello REST APIs support addressing of resources and routing of requests by both hello id and hello _rid properties.</span></span>

## <a name="database-accounts"></a><span data-ttu-id="c1975-215">Databasen konton</span><span class="sxs-lookup"><span data-stu-id="c1975-215">Database accounts</span></span>
<span data-ttu-id="c1975-216">Du kan etablera ett eller flera Cosmos DB databasen konton med din Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="c1975-216">You can provision one or more Cosmos DB database accounts using your Azure subscription.</span></span>

<span data-ttu-id="c1975-217">Du kan skapa och hantera konton för Cosmos-DB-databasen via hello Azure-portalen på [http://portal.azure.com/](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="c1975-217">You can create and manage Cosmos DB database accounts via hello Azure Portal at [http://portal.azure.com/](https://portal.azure.com/).</span></span> <span data-ttu-id="c1975-218">Skapa och hantera ett databaskonto kräver administratörsbehörighet och kan bara genomföras under din Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="c1975-218">Creating and managing a database account requires administrative access and can only be performed under your Azure subscription.</span></span> 

### <a name="database-account-properties"></a><span data-ttu-id="c1975-219">Egenskaper för databas</span><span class="sxs-lookup"><span data-stu-id="c1975-219">Database account properties</span></span>
<span data-ttu-id="c1975-220">Som en del av etablera och hantera ett konto kan du konfigurera och läsa hello följande egenskaper:</span><span class="sxs-lookup"><span data-stu-id="c1975-220">As part of provisioning and managing a database account you can configure and read hello following properties:</span></span>  

<table border="0" cellspacing="0" cellpadding="0">
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="c1975-221"><strong>Egenskapsnamn</strong></span><span class="sxs-lookup"><span data-stu-id="c1975-221"><strong>Property Name</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-222"><strong>Beskrivning</strong></span><span class="sxs-lookup"><span data-stu-id="c1975-222"><strong>Description</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c1975-223">Princip för konsekvenskontroll</span><span class="sxs-lookup"><span data-stu-id="c1975-223">Consistency Policy</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-224">Ange den här egenskapen tooconfigure hello konsekvenskontroll standardnivån för alla hello samlingar under databaskontot för.</span><span class="sxs-lookup"><span data-stu-id="c1975-224">Set this property tooconfigure hello default consistency level for all hello collections under your database account.</span></span> <span data-ttu-id="c1975-225">Du kan åsidosätta hello konsekvensnivå på grundval av per begäran med hjälp av hello [x-ms-konsekvens-nivå] huvudet i begäran.</span><span class="sxs-lookup"><span data-stu-id="c1975-225">You can override hello consistency level on a per request basis using hello [x-ms-consistency-level] request header.</span></span> <p><p><span data-ttu-id="c1975-226">Observera att den här egenskapen endast tillämpar toohello <i>användardefinierad resurser</i>.</span><span class="sxs-lookup"><span data-stu-id="c1975-226">Note that this property only applies toohello <i>user defined resources</i>.</span></span> <span data-ttu-id="c1975-227">Alla systemdefinierade resurser är konfigurerade toosupport läsningar/frågor med stark konsekvens.</span><span class="sxs-lookup"><span data-stu-id="c1975-227">All system defined resources are configured toosupport reads/queries with strong consistency.</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="c1975-228">Auktorisering nycklar</span><span class="sxs-lookup"><span data-stu-id="c1975-228">Authorization Keys</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="c1975-229">Dessa är hello primära och sekundära huvud- och readonly nycklar som ger administrativa åtkomst tooall hello resurser under hello konto.</span><span class="sxs-lookup"><span data-stu-id="c1975-229">These are hello primary and secondary master and readonly keys that provide administrative access tooall of hello resources under hello database account.</span></span></p></td>
        </tr>
    </tbody>
</table>

<span data-ttu-id="c1975-230">Observera att i tillägg tooprovisioning, konfigurera och hantera ditt konto från hello Azure Portal även programmässigt skapa och hantera konton för Cosmos-DB-databas med hjälp av hello [Azure Cosmos DB REST API: er](/rest/api/documentdb/) som samt [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c1975-230">Note that in addition tooprovisioning, configuring and managing your database account from hello Azure Portal, you can also programmatically create and manage Cosmos DB database accounts by using hello [Azure Cosmos DB REST APIs](/rest/api/documentdb/) as well as [client SDKs](documentdb-sdk-dotnet.md).</span></span>  

## <a name="databases"></a><span data-ttu-id="c1975-231">Databaser</span><span class="sxs-lookup"><span data-stu-id="c1975-231">Databases</span></span>
<span data-ttu-id="c1975-232">En Cosmos-DB-databas är en logisk behållare för en eller flera samlingar och användare, som visas i följande diagram hello.</span><span class="sxs-lookup"><span data-stu-id="c1975-232">A Cosmos DB database is a logical container of one or more collections and users, as shown in hello following diagram.</span></span> <span data-ttu-id="c1975-233">Du kan skapa valfritt antal databaser under en Cosmos-DB databasen konto ämne toooffer gränser.</span><span class="sxs-lookup"><span data-stu-id="c1975-233">You can create any number of databases under a Cosmos DB database account subject toooffer limits.</span></span>  

<span data-ttu-id="c1975-234">![Konto och samlingar hierarkiska databasmodellen][2]</span><span class="sxs-lookup"><span data-stu-id="c1975-234">![Database account and collections hierarchical model][2]</span></span>  
<span data-ttu-id="c1975-235">**En databas är en logisk behållare för användare och samlingar**</span><span class="sxs-lookup"><span data-stu-id="c1975-235">**A Database is a logical container of users and collections**</span></span>

<span data-ttu-id="c1975-236">En databas kan innehålla praktiskt taget obegränsade dokumentlagring, partitionerad i samlingar.</span><span class="sxs-lookup"><span data-stu-id="c1975-236">A database can contain virtually unlimited document storage partitioned within collections.</span></span>

### <a name="elastic-scale-of-a-cosmos-db-database"></a><span data-ttu-id="c1975-237">Elastisk skalbarhet av en Cosmos-DB-databas</span><span class="sxs-lookup"><span data-stu-id="c1975-237">Elastic scale of a Cosmos DB database</span></span>
<span data-ttu-id="c1975-238">En Cosmos-DB-databas är elastisk standard-allt från några få GB toopetabytes SSD backas upp dokumentlagring och etablerat dataflöde.</span><span class="sxs-lookup"><span data-stu-id="c1975-238">A Cosmos DB database is elastic by default – ranging from a few GB toopetabytes of SSD backed document storage and provisioned throughput.</span></span> 

<span data-ttu-id="c1975-239">Till skillnad från en databas i traditionella RDBMS är databasen i Cosmos-databasen inte begränsade tooa enskild dator.</span><span class="sxs-lookup"><span data-stu-id="c1975-239">Unlike a database in traditional RDBMS, a database in Cosmos DB is not scoped tooa single machine.</span></span> <span data-ttu-id="c1975-240">Med Cosmos DB när skala ditt program behöver toogrow, kan du skapa flera samlingar, databaser eller båda.</span><span class="sxs-lookup"><span data-stu-id="c1975-240">With Cosmos DB, as your application’s scale needs toogrow, you can create more collections, databases, or both.</span></span> <span data-ttu-id="c1975-241">Faktiskt har olika första partsprogram i Microsoft använt Cosmos-DB i en konsument skala genom att skapa mycket stora Cosmos DB databaser varje med tusentals samlingar med terabytes dokumentlagring.</span><span class="sxs-lookup"><span data-stu-id="c1975-241">Indeed, various first party applications within Microsoft have been using Cosmos DB at a consumer scale by creating extremely large Cosmos DB databases each containing thousands of collections with terabytes of document storage.</span></span> <span data-ttu-id="c1975-242">Du kan öka eller minska en databas genom att lägga till eller ta bort samlingar toomeet skala programkrav.</span><span class="sxs-lookup"><span data-stu-id="c1975-242">You can grow or shrink a database by adding or removing collections toomeet your application’s scale requirements.</span></span> 

<span data-ttu-id="c1975-243">Du kan skapa valfritt antal samlingar i en databas subject toohello erbjudandet.</span><span class="sxs-lookup"><span data-stu-id="c1975-243">You can create any number of collections within a database subject toohello offer.</span></span> <span data-ttu-id="c1975-244">Varje samling har säkerhetskopieras SSD-lagringen och dataflödet du beroende på hello valda prestandanivå.</span><span class="sxs-lookup"><span data-stu-id="c1975-244">Each collection has SSD backed storage and throughput provisioned for you depending on hello selected performance tier.</span></span>

<span data-ttu-id="c1975-245">En Cosmos-DB-databas är också en behållare för användare.</span><span class="sxs-lookup"><span data-stu-id="c1975-245">A Cosmos DB database is also a container of users.</span></span> <span data-ttu-id="c1975-246">En användare i sin tur är ett logiskt namnområde för en uppsättning behörigheter som ger detaljerad auktorisering och toocollections, dokument och bifogade filer.</span><span class="sxs-lookup"><span data-stu-id="c1975-246">A user, in-turn, is a logical namespace for a set of permissions that provides fine-grained authorization and access toocollections, documents and attachments.</span></span>  

<span data-ttu-id="c1975-247">Eftersom andra resurser i hello Cosmos DB resursmodell databaser kan skapas, ersatts, tas bort, läsa eller räkna upp enkelt med hjälp av antingen hello [REST API: er](/rest/api/documentdb/) eller någon av hello [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c1975-247">As with other resources in hello Cosmos DB resource model, databases can be created, replaced, deleted, read or enumerated easily using either hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="c1975-248">Cosmos DB garanterar stark konsekvens för läsning eller fråga hello metadata för databasen.</span><span class="sxs-lookup"><span data-stu-id="c1975-248">Cosmos DB guarantees strong consistency for reading or querying hello metadata of a database resource.</span></span> <span data-ttu-id="c1975-249">Ta bort en databas automatiskt garanterar att du inte kan komma åt någon av hello samlingar eller användare som finns i den.</span><span class="sxs-lookup"><span data-stu-id="c1975-249">Deleting a database automatically ensures that you cannot access any of hello collections or users contained within it.</span></span>   

## <a name="collections"></a><span data-ttu-id="c1975-250">Samlingar</span><span class="sxs-lookup"><span data-stu-id="c1975-250">Collections</span></span>
<span data-ttu-id="c1975-251">En Cosmos-DB-samling är en behållare för JSON-dokument.</span><span class="sxs-lookup"><span data-stu-id="c1975-251">A Cosmos DB collection is a container for your JSON documents.</span></span> 

### <a name="elastic-ssd-backed-document-storage"></a><span data-ttu-id="c1975-252">Elastisk SSD säkerhetskopieras dokumentlagring</span><span class="sxs-lookup"><span data-stu-id="c1975-252">Elastic SSD backed document storage</span></span>
<span data-ttu-id="c1975-253">En samling är filsystemen elastisk - och den automatiskt växer förminskas när du lägger till eller ta bort dokument.</span><span class="sxs-lookup"><span data-stu-id="c1975-253">A collection is intrinsically elastic - it automatically grows and shrinks as you add or remove documents.</span></span> <span data-ttu-id="c1975-254">Samlingar är logiska nätverksresurser och kan sträcka sig över en eller flera partitioner fysiska servrar.</span><span class="sxs-lookup"><span data-stu-id="c1975-254">Collections are logical resources and can span one or more physical partitions or servers.</span></span> <span data-ttu-id="c1975-255">hello antalet partitioner i en samling bestäms av Cosmos DB baserat på hello lagringsstorlek och hello etablerat dataflöde för din samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-255">hello number of partitions within a collection is determined by Cosmos DB based on hello storage size and hello provisioned throughput of your collection.</span></span> <span data-ttu-id="c1975-256">Varje partition i Cosmos-databasen har en fast mängd SSD-baserad lagring som är kopplad till den och replikeras för hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="c1975-256">Every partition in Cosmos DB has a fixed amount of SSD-backed storage associated with it, and is replicated for high availability.</span></span> <span data-ttu-id="c1975-257">Partitionen management hanteras helt av Azure Cosmos DB och du inte har toowrite komplex kod eller hantera din partitioner.</span><span class="sxs-lookup"><span data-stu-id="c1975-257">Partition management is fully managed by Azure Cosmos DB, and you do not have toowrite complex code or manage your partitions.</span></span> <span data-ttu-id="c1975-258">Cosmos DB samlingar är **praktiskt taget obegränsade** vad gäller lagring och genomflöde.</span><span class="sxs-lookup"><span data-stu-id="c1975-258">Cosmos DB collections are **practically unlimited** in terms of storage and throughput.</span></span> 

### <a name="automatic-indexing-of-collections"></a><span data-ttu-id="c1975-259">Automatisk indexering av samlingar</span><span class="sxs-lookup"><span data-stu-id="c1975-259">Automatic indexing of collections</span></span>
<span data-ttu-id="c1975-260">Cosmos DB är ett sant schemafria databassystem.</span><span class="sxs-lookup"><span data-stu-id="c1975-260">Cosmos DB is a true schema-free database system.</span></span> <span data-ttu-id="c1975-261">Varken antar eller kräver ett schema för hello JSON-dokument.</span><span class="sxs-lookup"><span data-stu-id="c1975-261">It does not assume or require any schema for hello JSON documents.</span></span> <span data-ttu-id="c1975-262">När du lägger till dokument tooa samling Cosmos DB indexerar automatiskt dem och de är tillgängliga för du tooquery.</span><span class="sxs-lookup"><span data-stu-id="c1975-262">As you add documents tooa collection, Cosmos DB automatically indexes them and they are available for you tooquery.</span></span> <span data-ttu-id="c1975-263">Automatisk indexering av dokument utan schemat eller sekundärindex är en funktion som är viktiga för Cosmos-DB och aktiveras av write-optimerad, frigöra Lås och loggstrukturerad index Underhåll tekniker.</span><span class="sxs-lookup"><span data-stu-id="c1975-263">Automatic indexing of documents without requiring schema or secondary indexes is a key capability of Cosmos DB and is enabled by write-optimized, lock-free and log-structured index maintenance techniques.</span></span> <span data-ttu-id="c1975-264">Cosmos DB stöder varaktigt mängden mycket snabba skrivningar när betjänar konsekvent frågor.</span><span class="sxs-lookup"><span data-stu-id="c1975-264">Cosmos DB supports sustained volume of extremely fast writes while still serving consistent queries.</span></span> <span data-ttu-id="c1975-265">Både dokumentet och index lagring är används toocalculate hello lagringsutrymme som förbrukas av varje samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-265">Both document and index storage are used toocalculate hello storage consumed by each collection.</span></span> <span data-ttu-id="c1975-266">Du kan styra hello lagrings- och prestandakrav kompromissa vad som är associerade med indexering genom att konfigurera hello indexprincip för en samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-266">You can control hello storage and performance trade-offs associated with indexing by configuring hello indexing policy for a collection.</span></span> 

### <a name="configuring-hello-indexing-policy-of-a-collection"></a><span data-ttu-id="c1975-267">Konfigurera hello indexprincip i en samling</span><span class="sxs-lookup"><span data-stu-id="c1975-267">Configuring hello indexing policy of a collection</span></span>
<span data-ttu-id="c1975-268">hello indexering princip av varje samling kan du toomake prestanda och lagring avvägningarna som är associerade med indexering.</span><span class="sxs-lookup"><span data-stu-id="c1975-268">hello indexing policy of each collection allows you toomake performance and storage trade-offs associated with indexing.</span></span> <span data-ttu-id="c1975-269">hello är följande alternativ tillgängliga tooyou som en del av indexerings-konfigurationen:</span><span class="sxs-lookup"><span data-stu-id="c1975-269">hello following options are available tooyou as part of indexing configuration:</span></span>  

* <span data-ttu-id="c1975-270">Välj om hello samling indexerar automatiskt alla hello dokument eller inte.</span><span class="sxs-lookup"><span data-stu-id="c1975-270">Choose whether hello collection automatically indexes all of hello documents or not.</span></span> <span data-ttu-id="c1975-271">Alla dokument indexeras automatiskt som standard.</span><span class="sxs-lookup"><span data-stu-id="c1975-271">By default, all documents are automatically indexed.</span></span> <span data-ttu-id="c1975-272">Du kan välja tooturn av den automatiska indexeringen och selektivt lägga till endast specifika dokument toohello index.</span><span class="sxs-lookup"><span data-stu-id="c1975-272">You can choose tooturn off automatic indexing and selectively add only specific documents toohello index.</span></span> <span data-ttu-id="c1975-273">Däremot kan du selektivt välja tooexclude endast vissa dokument.</span><span class="sxs-lookup"><span data-stu-id="c1975-273">Conversely, you can selectively choose tooexclude only specific documents.</span></span> <span data-ttu-id="c1975-274">Du kan åstadkomma detta genom att ange hello automatisk egenskapen toobe SANT eller FALSKT på hello indexingPolicy i en samling med hello [x-ms-indexingdirective] begärandehuvudet när lägga till, ersätta eller ta bort ett dokument.</span><span class="sxs-lookup"><span data-stu-id="c1975-274">You can achieve this by setting hello automatic property toobe true or false on hello indexingPolicy of a collection and using hello [x-ms-indexingdirective] request header while inserting, replacing or deleting a document.</span></span>  
* <span data-ttu-id="c1975-275">Välj om tooinclude eller undanta specifika sökvägar eller mönster i dina dokument från hello index.</span><span class="sxs-lookup"><span data-stu-id="c1975-275">Choose whether tooinclude or exclude specific paths or patterns in your documents from hello index.</span></span> <span data-ttu-id="c1975-276">Du kan respektive åstadkomma detta genom att inställningen includedPaths och excludedPaths på hello indexingPolicy i en samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-276">You can achieve this by setting includedPaths and excludedPaths on hello indexingPolicy of a collection respectively.</span></span> <span data-ttu-id="c1975-277">Dessutom kan du konfigurera hello lagrings- och prestandakrav avvägningarna för intervall och hash-frågor för angiven sökväg mönster.</span><span class="sxs-lookup"><span data-stu-id="c1975-277">You can also configure hello storage and performance trade-offs for range and hash queries for specific path patterns.</span></span> 
* <span data-ttu-id="c1975-278">Välj mellan synkron (konsekvent) och uppdateringar av index för asynkron (lazy).</span><span class="sxs-lookup"><span data-stu-id="c1975-278">Choose between synchronous (consistent) and asynchronous (lazy) index updates.</span></span> <span data-ttu-id="c1975-279">Som standard uppdateras hello index synkront på varje insert-, ersätta eller borttagning av en dokumentsamling toohello.</span><span class="sxs-lookup"><span data-stu-id="c1975-279">By default, hello index is updated synchronously on each insert, replace or delete of a document toohello collection.</span></span> <span data-ttu-id="c1975-280">Detta möjliggör hello frågor toohonor hello samma konsekvensnivå som hello dokumentet läsningar.</span><span class="sxs-lookup"><span data-stu-id="c1975-280">This enables hello queries toohonor hello same consistency level as that of hello document reads.</span></span> <span data-ttu-id="c1975-281">När Cosmos DB är skrivåtgärder optimerad och stöder varaktigt volymer av dokumentet skrivningar tillsammans med synkron index underhåll och betjänar konsekvent frågor, kan du konfigurera vissa samlingar tooupdate deras index lazy.</span><span class="sxs-lookup"><span data-stu-id="c1975-281">While Cosmos DB is write optimized and supports sustained volumes of document writes along with synchronous index maintenance and serving consistent queries, you can configure certain collections tooupdate their index lazily.</span></span> <span data-ttu-id="c1975-282">Lazy indexering förstärker hello skrivprestanda ytterligare och är idealisk för bulk införandet scenarier för främst frekventa Läs samlingar.</span><span class="sxs-lookup"><span data-stu-id="c1975-282">Lazy indexing boosts hello write performance further and is ideal for bulk ingestion scenarios for primarily read-heavy collections.</span></span>

<span data-ttu-id="c1975-283">hello indexering principen kan ändras genom att köra en PUT på hello samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-283">hello indexing policy can be changed by executing a PUT on hello collection.</span></span> <span data-ttu-id="c1975-284">Detta kan vara uppnås antingen via hello [klient-SDK](documentdb-sdk-dotnet.md), hello [Azure Portal](https://portal.azure.com) eller hello [REST API: er](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="c1975-284">This can be achieved either through hello [client SDK](documentdb-sdk-dotnet.md), hello [Azure Portal](https://portal.azure.com) or hello [REST APIs](/rest/api/documentdb/).</span></span>

### <a name="querying-a-collection"></a><span data-ttu-id="c1975-285">Fråga till en samling</span><span class="sxs-lookup"><span data-stu-id="c1975-285">Querying a collection</span></span>
<span data-ttu-id="c1975-286">hello dokument i en samling kan ha godtyckliga scheman och du kan fråga dokument i en samling utan att ange något schema eller sekundärindex förskott.</span><span class="sxs-lookup"><span data-stu-id="c1975-286">hello documents within a collection can have arbitrary schemas and you can query documents within a collection without providing any schema or secondary indices upfront.</span></span> <span data-ttu-id="c1975-287">Du kan fråga hello samling med hello [Azure Cosmos DB DocumentDB API: referens för SQL-syntax](https://msdn.microsoft.com/library/azure/dn782250.aspx), vilket ger omfattande hierarkiska relationella och spatial operatorer och utvidgas via JavaScript-baserade UDF: er.</span><span class="sxs-lookup"><span data-stu-id="c1975-287">You can query hello collection using hello [Azure Cosmos DB DocumentDB API: SQL syntax reference](https://msdn.microsoft.com/library/azure/dn782250.aspx), which provides rich hierarchical, relational, and spatial operators and extensibility via JavaScript-based UDFs.</span></span> <span data-ttu-id="c1975-288">JSON-grammatik gör det möjligt för att modellera JSON-dokument som träd med etiketter som trädnoder hello.</span><span class="sxs-lookup"><span data-stu-id="c1975-288">JSON grammar allows for modeling JSON documents as trees with labels as hello tree nodes.</span></span> <span data-ttu-id="c1975-289">Både av DocumentDB API-metoder för automatisk indexering samt DocumentDB API SQL dialect utnyttjas.</span><span class="sxs-lookup"><span data-stu-id="c1975-289">This is exploited both by DocumentDB API’s automatic indexing techniques as well as DocumentDB API's SQL dialect.</span></span> <span data-ttu-id="c1975-290">Hej DocumetDB API-frågespråket består av tre huvudsakliga aspekter:</span><span class="sxs-lookup"><span data-stu-id="c1975-290">hello DocumetDB API query language consists of three main aspects:</span></span>   

1. <span data-ttu-id="c1975-291">En liten uppsättning frågeåtgärder som mappar naturligt toohello trädstrukturen inklusive hierarkiska frågor och projektioner.</span><span class="sxs-lookup"><span data-stu-id="c1975-291">A small set of query operations that map naturally toohello tree structure including hierarchical queries and projections.</span></span> 
2. <span data-ttu-id="c1975-292">En delmängd av relationella operations inklusive sammansättning, filter, projektioner, mängder och self kopplingar.</span><span class="sxs-lookup"><span data-stu-id="c1975-292">A subset of relational operations including composition, filter, projections, aggregates and self joins.</span></span> 
3. <span data-ttu-id="c1975-293">Ren JavaScript-baserade UDF: er som fungerar med (1) och (2).</span><span class="sxs-lookup"><span data-stu-id="c1975-293">Pure JavaScript based UDFs that work with (1) and (2).</span></span>  

<span data-ttu-id="c1975-294">Hej Cosmos DB frågemodell försöker toostrike balans mellan funktionerna, effektivitet och enkelhet.</span><span class="sxs-lookup"><span data-stu-id="c1975-294">hello Cosmos DB query model attempts toostrike a balance between functionality, efficiency and simplicity.</span></span> <span data-ttu-id="c1975-295">Hej Cosmos-databasen databasmotor internt kompileras och körs hello SQL-uttryck i frågan.</span><span class="sxs-lookup"><span data-stu-id="c1975-295">hello Cosmos DB database engine natively compiles and executes hello SQL query statements.</span></span> <span data-ttu-id="c1975-296">Du kan ställa frågor till en samling med hello [REST API: er](/rest/api/documentdb/) eller någon av hello [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c1975-296">You can query a collection using hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="c1975-297">hello .NET SDK innehåller en LINQ-providern.</span><span class="sxs-lookup"><span data-stu-id="c1975-297">hello .NET SDK comes with a LINQ provider.</span></span>

> [!TIP]
> <span data-ttu-id="c1975-298">Du kan testa hello DocumentDB-API och köra SQL-frågor mot vår datauppsättning i hello [Query Playground](https://www.documentdb.com/sql/demo).</span><span class="sxs-lookup"><span data-stu-id="c1975-298">You can try out hello DocumentDB API and run SQL queries against our dataset in hello [Query Playground](https://www.documentdb.com/sql/demo).</span></span>
> 
> 

## <a name="multi-document-transactions"></a><span data-ttu-id="c1975-299">Flera dokument transaktioner</span><span class="sxs-lookup"><span data-stu-id="c1975-299">Multi-document transactions</span></span>
<span data-ttu-id="c1975-300">Databastransaktioner ger en säker och förutsägbar programmeringsmodell för att hantera samtidiga ändringar toohello data.</span><span class="sxs-lookup"><span data-stu-id="c1975-300">Database transactions provide a safe and predictable programming model for dealing with concurrent changes toohello data.</span></span> <span data-ttu-id="c1975-301">I RDBMS, hello traditionella sätt toowrite affärslogik är toowrite **lagrade procedurer** och/eller **utlösare** och levererar den toohello databasserver för transaktionell körning.</span><span class="sxs-lookup"><span data-stu-id="c1975-301">In RDBMS, hello traditional way toowrite business logic is toowrite **stored-procedures** and/or **triggers** and ship it toohello database server for transactional execution.</span></span> <span data-ttu-id="c1975-302">I RDBMS är hello programutvecklare obligatoriska toodeal med två olika programmeringsspråk:</span><span class="sxs-lookup"><span data-stu-id="c1975-302">In RDBMS, hello application programmer is required toodeal with two disparate programming languages:</span></span> 

* <span data-ttu-id="c1975-303">hello (icke-transaktionell) programmet programmeringsspråk (t.ex. JavaScript, Python, C#, Java, etc.)</span><span class="sxs-lookup"><span data-stu-id="c1975-303">hello (non-transactional) application programming language (e.g. JavaScript, Python, C#, Java, etc.)</span></span>
* <span data-ttu-id="c1975-304">T-SQL, hello transaktionella programmeringsspråk som utförs internt av hello-databasen</span><span class="sxs-lookup"><span data-stu-id="c1975-304">T-SQL, hello transactional programming language which is natively executed by hello database</span></span>

<span data-ttu-id="c1975-305">Tack vare dess djup åtagande tooJavaScript och JSON direkt i databasmotorn hello Cosmos DB är ett intuitivt programmeringsmodell för verkställande JavaScript programlogik direkt utifrån hello samlingar som lagrade procedurer och utlösare.</span><span class="sxs-lookup"><span data-stu-id="c1975-305">By virtue of its deep commitment tooJavaScript and JSON directly within hello database engine, Cosmos DB provides an intuitive programming model for executing JavaScript based application logic directly on hello collections in terms of stored procedures and triggers.</span></span> <span data-ttu-id="c1975-306">Detta möjliggör både hello följande:</span><span class="sxs-lookup"><span data-stu-id="c1975-306">This allows for both of hello following:</span></span>

* <span data-ttu-id="c1975-307">Effektiv implementering av samtidighet styra, återställning av automatisk indexering av hello JSON objektdiagram direkt i databasmotorn hello</span><span class="sxs-lookup"><span data-stu-id="c1975-307">Efficient implementation of concurrency control, recovery, automatic indexing of hello JSON object graphs directly in hello database engine</span></span>
* <span data-ttu-id="c1975-308">Naturligt uttrycka Kontrollflöde, variabel scope, tilldelning och integration av undantagshantering primitiver med databastransaktioner direkt vad gäller hello JavaScript-programmeringsspråket</span><span class="sxs-lookup"><span data-stu-id="c1975-308">Naturally expressing control flow, variable scoping, assignment and integration of exception handling primitives with database transactions directly in terms of hello JavaScript programming language</span></span>

<span data-ttu-id="c1975-309">hello JavaScript-logik som registrerats på en samlingsnivå kan sedan utfärda databasåtgärder i hello dokument av hello angivna samlingen.</span><span class="sxs-lookup"><span data-stu-id="c1975-309">hello JavaScript logic registered at a collection level can then issue database operations on hello documents of hello given collection.</span></span> <span data-ttu-id="c1975-310">Cosmos DB implicit radbryter hello JavaScript baserat lagrade procedurer och utlösare inom en omgivande ACID-transaktioner med ögonblicksbildisolering över dokument i en samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-310">Cosmos DB implicitly wraps hello JavaScript based stored procedures and triggers within an ambient ACID transactions with snapshot isolation across documents within a collection.</span></span> <span data-ttu-id="c1975-311">Under hello att körningen avbryts om JavaScript genererar ett undantag hello hello sedan hela transaktionen.</span><span class="sxs-lookup"><span data-stu-id="c1975-311">During hello course of its execution, if hello JavaScript throws an exception, then hello entire transaction is aborted.</span></span> <span data-ttu-id="c1975-312">hello resulterande programmeringsmodell är ett enkelt men ändå kraftfulla.</span><span class="sxs-lookup"><span data-stu-id="c1975-312">hello resulting programming model is a very simple yet powerful.</span></span> <span data-ttu-id="c1975-313">JavaScript-utvecklare får en ”varaktiga” programmeringsmodell när du använder fortfarande sin bekant språkkonstruktioner och biblioteket primitiver.</span><span class="sxs-lookup"><span data-stu-id="c1975-313">JavaScript developers get a “durable” programming model while still using their familiar language constructs and library primitives.</span></span>   

<span data-ttu-id="c1975-314">hello möjlighet tooexecute JavaScript direkt i hello databasen motorn i hello samma adressutrymmet som hello buffertpool aktiverar performant och transaktionell körning av databasåtgärder mot hello dokument i en samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-314">hello ability tooexecute JavaScript directly within hello database engine in hello same address space as hello buffer pool enables performant and transactional execution of database operations against hello documents of a collection.</span></span> <span data-ttu-id="c1975-315">Dessutom Cosmos-databasen databasmotor gör en djup åtagande toohello JSON och JavaScript åtgärdar eventuella impedans matchningsfel mellan hello typ av program och hello-databasen.</span><span class="sxs-lookup"><span data-stu-id="c1975-315">Furthermore, Cosmos DB database engine makes a deep commitment toohello JSON and JavaScript eliminates any impedance mismatch between hello type systems of application and hello database.</span></span>   

<span data-ttu-id="c1975-316">Efter att en samling kan du registrera lagrade procedurer, utlösare och UDF: er med en samling med hello [REST API: er](/rest/api/documentdb/) eller någon av hello [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c1975-316">After creating a collection, you can register stored procedures, triggers and UDFs with a collection using hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="c1975-317">Du kan referera till och köra dem efter registreringen.</span><span class="sxs-lookup"><span data-stu-id="c1975-317">After registration, you can reference and execute them.</span></span> <span data-ttu-id="c1975-318">Överväg att hello följande lagrade proceduren helt skrivna i JavaScript, hello koden nedan tar två argument (namn och författarens namn) och skapar ett nytt dokument, frågar om ett dokument och uppdaterar sin – alla inom en implicit ACID-transaktion.</span><span class="sxs-lookup"><span data-stu-id="c1975-318">Consider hello following stored procedure written entirely in JavaScript, hello code below takes two arguments (book name and author name) and creates a new document, queries for a document and then updates it – all within an implicit ACID transaction.</span></span> <span data-ttu-id="c1975-319">Om en JavaScript-undantagsfel utlöses när som helst under körning av hello avbryter hello hela transaktionen.</span><span class="sxs-lookup"><span data-stu-id="c1975-319">At any point during hello execution, if a JavaScript exception is thrown, hello entire transaction aborts.</span></span>

    function businessLogic(name, author) {
        var context = getContext();
        var collectionManager = context.getCollection();        
        var collectionLink = collectionManager.getSelfLink()

        // create a new document.
        collectionManager.createDocument(collectionLink,
            {id: name, author: author},
            function(err, documentCreated) {
                if(err) throw new Error(err.message);

                // filter documents by author
                var filterQuery = "SELECT * from root r WHERE r.author = 'George R.'";
                collectionManager.queryDocuments(collectionLink,
                    filterQuery,
                    function(err, matchingDocuments) {
                        if(err) throw new Error(err.message);

                        context.getResponse().setBody(matchingDocuments.length);

                        // Replace hello author name for all documents that satisfied hello query.
                        for (var i = 0; i < matchingDocuments.length; i++) {
                            matchingDocuments[i].author = "George R. R. Martin";
                            // we don’t need tooexecute a callback because they are in parallel
                            collectionManager.replaceDocument(matchingDocuments[i]._self,
                                matchingDocuments[i]);   
                        }
                    })
            })
    };

<span data-ttu-id="c1975-320">hello-klienten kan ”levereras” Hej ovanför JavaScript-logik toohello databasen för transaktionell körning via HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="c1975-320">hello client can “ship” hello above JavaScript logic toohello database for transactional execution via HTTP POST.</span></span> <span data-ttu-id="c1975-321">Mer information om hur du använder HTTP-metoderna finns [RESTful interaktioner med Azure Cosmos DB resurser](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span><span class="sxs-lookup"><span data-stu-id="c1975-321">For more information about using HTTP methods, see [RESTful interactions with Azure Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span> 

    client.createStoredProcedureAsync(collection._self, {id: "CRUDProc", body: businessLogic})
       .then(function(createdStoredProcedure) {
            return client.executeStoredProcedureAsync(createdStoredProcedure.resource._self,
                "NoSQL Distilled",
                "Martin Fowler");
        })
        .then(function(result) {
            console.log(result);
        },
        function(error) {
            console.log(error);
        });


<span data-ttu-id="c1975-322">Observera att eftersom hello databasen förstår internt JSON och JavaScript, det finns inga typmatchningsfel system, ingen ”eller mappning” eller code generation Magiskt tal krävs.</span><span class="sxs-lookup"><span data-stu-id="c1975-322">Notice that because hello database natively understands JSON and JavaScript, there is no type system mismatch, no “OR mapping” or code generation magic required.</span></span>   

<span data-ttu-id="c1975-323">Lagrade procedurer och utlösare interagera med en samling och hello dokument i en samling via en väldefinierad objektmodell som visar hello samling kontext.</span><span class="sxs-lookup"><span data-stu-id="c1975-323">Stored procedures and triggers interact with a collection and hello documents in a collection through a well-defined object model, which exposes hello current collection context.</span></span>  

<span data-ttu-id="c1975-324">Samlingar i hello DocumentDB API kan skapas, tas bort, läs- eller räkna upp enkelt med hjälp av antingen hello [REST API: er](/rest/api/documentdb/) eller någon av hello [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c1975-324">Collections in hello DocumentDB API can be created, deleted, read or enumerated easily using either hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="c1975-325">Hej DocumentDB API ger alltid stark konsekvens för läsning eller fråga hello metadata i en samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-325">hello DocumentDB API always provides strong consistency for reading or querying hello metadata of a collection.</span></span> <span data-ttu-id="c1975-326">Om du tar bort en samling automatiskt säkerställer att du kan inte komma åt någon av hello dokument, bifogade filer, lagrade procedurer, utlösare och UDF: er som finns i den.</span><span class="sxs-lookup"><span data-stu-id="c1975-326">Deleting a collection automatically ensures that you cannot access any of hello documents, attachments, stored procedures, triggers, and UDFs contained within it.</span></span>   

## <a name="stored-procedures-triggers-and-user-defined-functions-udf"></a><span data-ttu-id="c1975-327">Lagrade procedurer, utlösare och användaren definierat funktioner (UDF)</span><span class="sxs-lookup"><span data-stu-id="c1975-327">Stored procedures, triggers and User Defined Functions (UDF)</span></span>
<span data-ttu-id="c1975-328">Du kan skriva programmet logik toorun direkt i en transaktion i hello databasmotorn enligt beskrivningen i föregående avsnitt i hello.</span><span class="sxs-lookup"><span data-stu-id="c1975-328">As described in hello previous section, you can write application logic toorun directly within a transaction inside of hello database engine.</span></span> <span data-ttu-id="c1975-329">hello programlogik kan vara helt skrivna i JavaScript och kan modelleras som en lagrad procedur, utlösare eller en UDF.</span><span class="sxs-lookup"><span data-stu-id="c1975-329">hello application logic can be written entirely in JavaScript and can be modeled as a stored procedure, trigger or a UDF.</span></span> <span data-ttu-id="c1975-330">hello JavaScript-kod i en lagrad procedur eller en utlösare kan infoga, Ersätt, ta bort, läs- eller dokument i en samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-330">hello JavaScript code within a stored procedure or a trigger can insert, replace, delete, read or query documents within a collection.</span></span> <span data-ttu-id="c1975-331">Hej på andra sidan, hello JavaScript inom en UDF går inte att infoga, ersätta eller ta bort dokument.</span><span class="sxs-lookup"><span data-stu-id="c1975-331">On hello other hand, hello JavaScript within a UDF cannot insert, replace, or delete documents.</span></span> <span data-ttu-id="c1975-332">UDF: er hello dokument för en frågeresultatet att räkna upp och skapar en annan resultatuppsättning.</span><span class="sxs-lookup"><span data-stu-id="c1975-332">UDFs enumerate hello documents of a query's result set and produce another result set.</span></span> <span data-ttu-id="c1975-333">Cosmos DB tillämpar en strikt reservation baserat resurs styrning för flera innehavare.</span><span class="sxs-lookup"><span data-stu-id="c1975-333">For multi-tenancy, Cosmos DB enforces a strict reservation based resource governance.</span></span> <span data-ttu-id="c1975-334">Alla lagrade procedurer, utlösare eller en UDF hämtar en fast quantum av operativsystemet resurser toodo sitt arbete.</span><span class="sxs-lookup"><span data-stu-id="c1975-334">Each stored procedure, trigger or a UDF gets a fixed quantum of operating system resources toodo its work.</span></span> <span data-ttu-id="c1975-335">Dessutom lagrade procedurer, utlösare eller UDF: er kan inte länka mot externa JavaScript-bibliotek och övriga om de överskrider hello resurs budgetar fördelade toothem.</span><span class="sxs-lookup"><span data-stu-id="c1975-335">Furthermore, stored procedures, triggers or UDFs cannot link against external JavaScript libraries and are blacklisted if they exceed hello resource budgets allocated toothem.</span></span> <span data-ttu-id="c1975-336">Du kan registrera, avregistrera lagrade procedurer, utlösare eller UDF: er med en samling med hjälp av hello REST API: er.</span><span class="sxs-lookup"><span data-stu-id="c1975-336">You can register, unregister stored procedures, triggers or UDFs with a collection by using hello REST APIs.</span></span>  <span data-ttu-id="c1975-337">Vid registreringen en lagrad procedur, utlösare eller en UDF före kompileras och lagras som bytekod som genomförs senare.</span><span class="sxs-lookup"><span data-stu-id="c1975-337">Upon registration a stored procedure, trigger, or a UDF is pre-compiled and stored as byte code which gets executed later.</span></span> <span data-ttu-id="c1975-338">hello efter avsnittet visar hur du kan använda hello Cosmos DB JavaScript SDK tooregister, köra och avregistrera en lagrad procedur, utlösare och en UDF.</span><span class="sxs-lookup"><span data-stu-id="c1975-338">hello following section illustrate how you can use hello Cosmos DB JavaScript SDK tooregister, execute, and unregister a stored procedure, trigger, and a UDF.</span></span> <span data-ttu-id="c1975-339">hello JavaScript SDK är en enkel omslutning över hello [REST API: er](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="c1975-339">hello JavaScript SDK is a simple wrapper over hello [REST APIs](/rest/api/documentdb/).</span></span> 

### <a name="registering-a-stored-procedure"></a><span data-ttu-id="c1975-340">Registrera en lagrad procedur</span><span class="sxs-lookup"><span data-stu-id="c1975-340">Registering a stored procedure</span></span>
<span data-ttu-id="c1975-341">Registrering av en lagrad procedur skapar en ny resurs lagrad procedur på en samling via HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="c1975-341">Registration of a stored procedure creates a new stored procedure resource on a collection via HTTP POST.</span></span>  

    var storedProc = {
        id: "validateAndCreate",
        body: function (documentToCreate) {
            documentToCreate.id = documentToCreate.id.toUpperCase();

            var collectionManager = getContext().getCollection();
            collectionManager.createDocument(collectionManager.getSelfLink(),
                documentToCreate,
                function(err, documentCreated) {
                    if(err) throw new Error('Error while creating document: ' + err.message;
                    getContext().getResponse().setBody('success - created ' + 
                            documentCreated.name);
                });
        }
    };

    client.createStoredProcedureAsync(collection._self, storedProc)
        .then(function (createdStoredProcedure) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-stored-procedure"></a><span data-ttu-id="c1975-342">Kör en lagrad procedur</span><span class="sxs-lookup"><span data-stu-id="c1975-342">Executing a stored procedure</span></span>
<span data-ttu-id="c1975-343">Körningen av en lagrad procedur görs genom att utfärda en HTTP POST mot en befintlig resurs lagrade proceduren genom att ange parametrar toohello procedur i hello begärandetexten.</span><span class="sxs-lookup"><span data-stu-id="c1975-343">Execution of a stored procedure is done by issuing an HTTP POST against an existing stored procedure resource by passing parameters toohello procedure in hello request body.</span></span>

    var inputDocument = {id : "document1", author: "G. G. Marquez"};
    client.executeStoredProcedureAsync(createdStoredProcedure.resource._self, inputDocument)
        .then(function(executionResult) {
            assert.equal(executionResult, "success - created DOCUMENT1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-stored-procedure"></a><span data-ttu-id="c1975-344">Avregistrerar en lagrad procedur</span><span class="sxs-lookup"><span data-stu-id="c1975-344">Unregistering a stored procedure</span></span>
<span data-ttu-id="c1975-345">Avregistrerar en lagrad procedur görs bara genom att utfärda ett HTTP DELETE mot en befintlig resurs lagrad procedur.</span><span class="sxs-lookup"><span data-stu-id="c1975-345">Unregistering a stored procedure is simply done by issuing an HTTP DELETE against an existing stored procedure resource.</span></span>   

    client.deleteStoredProcedureAsync(createdStoredProcedure.resource._self)
        .then(function (response) {
            return;
        }, function(error) {
            console.log("Error");
        });


### <a name="registering-a-pre-trigger"></a><span data-ttu-id="c1975-346">Registrera en före utlösare</span><span class="sxs-lookup"><span data-stu-id="c1975-346">Registering a pre-trigger</span></span>
<span data-ttu-id="c1975-347">Registrering av en utlösare görs genom att skapa en ny utlösare resurs på en samling via HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="c1975-347">Registration of a trigger is done by creating a new trigger resource on a collection via HTTP POST.</span></span> <span data-ttu-id="c1975-348">Du kan ange om hello utlösare är en eller en post utlösare och hello typ av åtgärd kan den vara associerad med (t.ex. Skapa, ersätta, ta bort eller alla).</span><span class="sxs-lookup"><span data-stu-id="c1975-348">You can specify if hello trigger is a pre or a post trigger and hello type of operation it can be associated with (e.g. Create, Replace, Delete, or All).</span></span>   

    var preTrigger = {
        id: "upperCaseId",
        body: function() {
                var item = getContext().getRequest().getBody();
                item.id = item.id.toUpperCase();
                getContext().getRequest().setBody(item);
        },
        triggerType: TriggerType.Pre,
        triggerOperation: TriggerOperation.All
    }

    client.createTriggerAsync(collection._self, preTrigger)
        .then(function (createdPreTrigger) {
            console.log("Successfully created trigger");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-pre-trigger"></a><span data-ttu-id="c1975-349">Köra en före utlösare</span><span class="sxs-lookup"><span data-stu-id="c1975-349">Executing a pre-trigger</span></span>
<span data-ttu-id="c1975-350">Körningen av en utlösare görs genom att ange hello namn för en befintlig utlösare när hello hello POST/PUT/ta bort utfärdas av en resurs som dokument via hello huvudet i begäran.</span><span class="sxs-lookup"><span data-stu-id="c1975-350">Execution of a trigger is done by specifying hello name of an existing trigger at hello time of issuing hello POST/PUT/DELETE request of a document resource via hello request header.</span></span>  

    client.createDocumentAsync(collection._self, { id: "doc1", key: "Love in hello Time of Cholera" }, { preTriggerInclude: "upperCaseId" })
        .then(function(createdDocument) {
            assert.equal(createdDocument.resource.id, "DOC1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-pre-trigger"></a><span data-ttu-id="c1975-351">Avregistrerar en före utlösare</span><span class="sxs-lookup"><span data-stu-id="c1975-351">Unregistering a pre-trigger</span></span>
<span data-ttu-id="c1975-352">Avregistrerar en utlösare sker bara via utfärdar en HTTP-ta bort mot en befintlig resurs för utlösare.</span><span class="sxs-lookup"><span data-stu-id="c1975-352">Unregistering a trigger is simply done via issuing an HTTP DELETE against an existing trigger resource.</span></span>  

    client.deleteTriggerAsync(createdPreTrigger._self);
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

### <a name="registering-a-udf"></a><span data-ttu-id="c1975-353">Registrera en UDF</span><span class="sxs-lookup"><span data-stu-id="c1975-353">Registering a UDF</span></span>
<span data-ttu-id="c1975-354">Registrering av en UDF görs genom att skapa en ny UDF-resurs på en samling via HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="c1975-354">Registration of a UDF is done by creating a new UDF resource on a collection via HTTP POST.</span></span>  

    var udf = { 
        id: "mathSqrt",
        body: function(number) {
                return Math.sqrt(number);
        },
    };
    client.createUserDefinedFunctionAsync(collection._self, udf)
        .then(function (createdUdf) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-udf-as-part-of-hello-query"></a><span data-ttu-id="c1975-355">Köra en UDF som en del av hello fråga</span><span class="sxs-lookup"><span data-stu-id="c1975-355">Executing a UDF as part of hello query</span></span>
<span data-ttu-id="c1975-356">En UDF kan anges som en del av hello SQL-fråga och används som en sätt tooextend hello kärna [SQL-frågespråket för hello DocumentDB API](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span><span class="sxs-lookup"><span data-stu-id="c1975-356">A UDF can be specified as part of hello SQL query and is used as a way tooextend hello core [SQL query language for hello DocumentDB API](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span></span>

    var filterQuery = "SELECT udf.mathSqrt(r.Age) AS sqrtAge FROM root r WHERE r.FirstName='John'";
    client.queryDocuments(collection._self, filterQuery).toArrayAsync();
        .then(function(queryResponse) {
            var queryResponseDocuments = queryResponse.feed;
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-udf"></a><span data-ttu-id="c1975-357">Avregistrerar en UDF</span><span class="sxs-lookup"><span data-stu-id="c1975-357">Unregistering a UDF</span></span>
<span data-ttu-id="c1975-358">Avregistrerar en UDF görs bara genom att utfärda ett HTTP DELETE mot en befintlig UDF-resurs.</span><span class="sxs-lookup"><span data-stu-id="c1975-358">Unregistering a UDF is simply done by issuing an HTTP DELETE against an existing UDF resource.</span></span>  

    client.deleteUserDefinedFunctionAsync(createdUdf._self)
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

<span data-ttu-id="c1975-359">Även om hello kodavsnitt ovan visade hello-registrering (POST), avregistreringen (PUT), Läs-/ Liståtgärder (GET) och körningen (POST) via hello [JavaScript SDK](https://github.com/Azure/azure-documentdb-js), du kan också använda hello [REST API: er](/rest/api/documentdb/) eller andra [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c1975-359">Although hello snippets above showed hello registration (POST), unregistration (PUT), read/list (GET) and execution (POST) via hello [JavaScript SDK](https://github.com/Azure/azure-documentdb-js), you can also use hello [REST APIs](/rest/api/documentdb/) or other [client SDKs](documentdb-sdk-dotnet.md).</span></span> 

## <a name="documents"></a><span data-ttu-id="c1975-360">Dokument</span><span class="sxs-lookup"><span data-stu-id="c1975-360">Documents</span></span>
<span data-ttu-id="c1975-361">Du kan infoga, Ersätt, ta bort, Läs, räkna upp och fråga godtyckliga JSON-dokument i en samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-361">You can insert, replace, delete, read, enumerate and query arbitrary JSON documents in a collection.</span></span> <span data-ttu-id="c1975-362">Cosmos DB tvingade inte alla scheman och kräver inte sekundärindex i ordning toosupport frågealternativ över dokument i en samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-362">Cosmos DB does not mandate any schema and does not require secondary indexes in order toosupport querying over documents in a collection.</span></span> <span data-ttu-id="c1975-363">hello maxstorleken för ett dokument är 2 MB.</span><span class="sxs-lookup"><span data-stu-id="c1975-363">hello maximum size for a document is 2 MB.</span></span>   

<span data-ttu-id="c1975-364">Som en tjänst verkligen öppna databasen Cosmos DB inte hittar några särskilda datatyper (t.ex. tidsvärdet) eller specifika kodningar för JSON-dokument.</span><span class="sxs-lookup"><span data-stu-id="c1975-364">Being a truly open database service, Cosmos DB does not invent any specialized data types (e.g. date time) or specific encodings for JSON documents.</span></span> <span data-ttu-id="c1975-365">Observera att Cosmos DB inte kräver några särskilda JSON konventioner toocodify hello relationerna mellan olika dokument. hello SQL-syntaxen för Cosmos DB ger mycket kraftfulla hierarkiska och relationella frågeoperatorer tooquery och projekt dokument utan speciella anteckningar eller behöver toocodify relationerna mellan dokument med hjälp av egenskaper för unika.</span><span class="sxs-lookup"><span data-stu-id="c1975-365">Note that Cosmos DB does not require any special JSON conventions toocodify hello relationships among various documents; hello SQL syntax of Cosmos DB provides very powerful hierarchical and relational query operators tooquery and project documents without any special annotations or need toocodify relationships among documents using distinguished properties.</span></span>  

<span data-ttu-id="c1975-366">Som med alla andra resurser kan du skapa dokument, ersättas, tas bort, Läs-, räkna upp och frågas enkelt använda REST API: er eller någon av hello [client SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="c1975-366">As with all other resources, documents can be created, replaced, deleted, read, enumerated and queried easily using either REST APIs or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="c1975-367">Ta bort ett dokument direkt Frigör hello kvoten motsvarande tooall hello kapslade bifogade filer.</span><span class="sxs-lookup"><span data-stu-id="c1975-367">Deleting a document instantly frees up hello quota corresponding tooall of hello nested attachments.</span></span> <span data-ttu-id="c1975-368">hello läsa konsekvensnivå dokument följer hello konsekvent princip på hello konto.</span><span class="sxs-lookup"><span data-stu-id="c1975-368">hello read consistency level of documents follows hello consistency policy on hello database account.</span></span> <span data-ttu-id="c1975-369">Den här principen kan åsidosättas på grundval av per begäran beroende på kraven för konsekvenskontroll av ditt program.</span><span class="sxs-lookup"><span data-stu-id="c1975-369">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="c1975-370">När du frågar dokument läsa hello konsekvent sätt hello indexering inställd på hello samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-370">When querying documents, hello read consistency follows hello indexing mode set on hello collection.</span></span> <span data-ttu-id="c1975-371">Det följer hello konto konsekvent princip för ”konsekvent”.</span><span class="sxs-lookup"><span data-stu-id="c1975-371">For “consistent”, this follows hello account’s consistency policy.</span></span> 

## <a name="attachments-and-media"></a><span data-ttu-id="c1975-372">Bifogade filer och media</span><span class="sxs-lookup"><span data-stu-id="c1975-372">Attachments and media</span></span>
<span data-ttu-id="c1975-373">Cosmos DB kan toostore binära blobbar/media med Cosmos DB (högst 2 GB per konto) eller tooyour egna remote media store.</span><span class="sxs-lookup"><span data-stu-id="c1975-373">Cosmos DB allows you toostore binary blobs/media either with Cosmos DB (maximum of 2 GB per account) or tooyour own remote media store.</span></span> <span data-ttu-id="c1975-374">Du kan också toorepresent hello metadata för ett medium i ett särskilt dokument kallas bifogad fil.</span><span class="sxs-lookup"><span data-stu-id="c1975-374">It also allows you toorepresent hello metadata of a media in terms of a special document called attachment.</span></span> <span data-ttu-id="c1975-375">Bifogad fil i Cosmos-databasen är ett särskilt (JSON) dokument som referenser hello media/blob som lagras på annan plats.</span><span class="sxs-lookup"><span data-stu-id="c1975-375">An attachment in Cosmos DB is a special (JSON) document that references hello media/blob stored elsewhere.</span></span> <span data-ttu-id="c1975-376">En bilaga är bara ett särskilt dokument som samlar in hello metadata (t.ex. plats, författare o.s.v.) för ett medium som lagras i en fjärransluten media storage.</span><span class="sxs-lookup"><span data-stu-id="c1975-376">An attachment is simply a special document that captures hello metadata (e.g. location, author etc.) of a media stored in a remote media storage.</span></span> 

<span data-ttu-id="c1975-377">Överväg att ett sociala läsning program som använder Cosmos DB toostore pennanteckningar och metadata, inklusive kommentarer, detaljer, bokmärken, klassificering, om/favoritsporter etc. som är kopplad till en e-bok för en viss användare.</span><span class="sxs-lookup"><span data-stu-id="c1975-377">Consider a social reading application which uses Cosmos DB toostore ink annotations, and metadata including comments, highlights, bookmarks, ratings, likes/dislikes etc. associated for an e-book of a given user.</span></span>   

* <span data-ttu-id="c1975-378">hello hello book själva innehållet lagras i hello media antingen tillgängligt som en del av Cosmos DB databaskonto eller en fjärransluten mediebutik.</span><span class="sxs-lookup"><span data-stu-id="c1975-378">hello content of hello book itself is stored in hello media storage either available as part of Cosmos DB database account or a remote media store.</span></span> 
* <span data-ttu-id="c1975-379">Ett program kan lagra metadata för varje användare som distinkta dokument – t.ex. Toms metadata för Bok1 lagras i ett dokument som refereras av /colls/joe/docs/book1.</span><span class="sxs-lookup"><span data-stu-id="c1975-379">An application may store each user’s metadata as a distinct document -- e.g. Joe’s metadata for book1 is stored in a document referenced by /colls/joe/docs/book1.</span></span> 
* <span data-ttu-id="c1975-380">Bifogade filer pekar toohello innehållssidor i en viss bok för en användare lagras under hello motsvarande dokument t.ex. /colls/joe/docs/book1/chapter1 /colls/joe/docs/book1/chapter2 osv.</span><span class="sxs-lookup"><span data-stu-id="c1975-380">Attachments pointing toohello content pages of a given book of a user are stored under hello corresponding document e.g. /colls/joe/docs/book1/chapter1, /colls/joe/docs/book1/chapter2 etc.</span></span> 

<span data-ttu-id="c1975-381">Observera att hello exemplen ovan används eget ID tooconvey hello resurs hierarki.</span><span class="sxs-lookup"><span data-stu-id="c1975-381">Note that hello examples listed above use friendly ids tooconvey hello resource hierarchy.</span></span> <span data-ttu-id="c1975-382">Resurser kan nås via hello REST API: er via unik resurs-ID: n.</span><span class="sxs-lookup"><span data-stu-id="c1975-382">Resources are accessed via hello REST APIs through unique resource ids.</span></span> 

<span data-ttu-id="c1975-383">För hello media som hanteras av Cosmos DB, kommer hello _media-egenskapen för hello bilaga referera hello media med hjälp av dess URI.</span><span class="sxs-lookup"><span data-stu-id="c1975-383">For hello media that is managed by Cosmos DB, hello _media property of hello attachment will reference hello media by its URI.</span></span> <span data-ttu-id="c1975-384">Cosmos DB säkerställer toogarbage samla in hello media när alla hello utestående referenser tas bort.</span><span class="sxs-lookup"><span data-stu-id="c1975-384">Cosmos DB will ensure toogarbage collect hello media when all of hello outstanding references are dropped.</span></span> <span data-ttu-id="c1975-385">Cosmos DB automatiskt genererar hello bifogad fil när du överför hello nytt media och fyller hello _media toopoint toohello nytillagda media.</span><span class="sxs-lookup"><span data-stu-id="c1975-385">Cosmos DB automatically generates hello attachment when you upload hello new media and populates hello _media toopoint toohello newly added media.</span></span> <span data-ttu-id="c1975-386">Om du väljer toostore hello media i en fjärransluten blobstore som hanteras av dig (t.ex. OneDrive, Azure Storage, DropBox osv.), kan du fortfarande använda bilagor tooreference hello media.</span><span class="sxs-lookup"><span data-stu-id="c1975-386">If you choose toostore hello media in a remote blob store managed by you (e.g. OneDrive, Azure Storage, DropBox etc), you can still use attachments tooreference hello media.</span></span> <span data-ttu-id="c1975-387">I så fall måste du skapa hello bilaga själv och fylla i egenskapen _media.</span><span class="sxs-lookup"><span data-stu-id="c1975-387">In this case, you will create hello attachment yourself and populate its _media property.</span></span>   

<span data-ttu-id="c1975-388">Precis som med alla andra resurser, bifogade filer kan skapas, ersätts, tas bort, läsa eller räkna upp enkelt använda REST API: er eller någon av hello klienten SDK: er.</span><span class="sxs-lookup"><span data-stu-id="c1975-388">As with all other resources, attachments can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="c1975-389">Följer hello konsekvent princip på hello databaskonto med dokument, läsa hello konsekvensnivå bifogade filer.</span><span class="sxs-lookup"><span data-stu-id="c1975-389">As with documents, hello read consistency level of attachments follows hello consistency policy on hello database account.</span></span> <span data-ttu-id="c1975-390">Den här principen kan åsidosättas på grundval av per begäran beroende på kraven för konsekvenskontroll av ditt program.</span><span class="sxs-lookup"><span data-stu-id="c1975-390">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="c1975-391">När du frågar efter bilagor läsa hello konsekvent sätt hello indexering inställd på hello samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-391">When querying for attachments, hello read consistency follows hello indexing mode set on hello collection.</span></span> <span data-ttu-id="c1975-392">Det följer hello konto konsekvent princip för ”konsekvent”.</span><span class="sxs-lookup"><span data-stu-id="c1975-392">For “consistent”, this follows hello account’s consistency policy.</span></span> 
 

## <a name="users"></a><span data-ttu-id="c1975-393">Användare</span><span class="sxs-lookup"><span data-stu-id="c1975-393">Users</span></span>
<span data-ttu-id="c1975-394">En Cosmos-DB-användare representerar ett logiskt namnområde för gruppering av behörigheter.</span><span class="sxs-lookup"><span data-stu-id="c1975-394">A Cosmos DB user represents a logical namespace for grouping permissions.</span></span> <span data-ttu-id="c1975-395">En Cosmos-DB-användare kan motsvarar tooa användare i ett identity-system eller en fördefinierad programrollen.</span><span class="sxs-lookup"><span data-stu-id="c1975-395">A Cosmos DB user may correspond tooa user in an identity management system or a predefined application role.</span></span> <span data-ttu-id="c1975-396">För Cosmos DB representerar en användare helt enkelt en abstraktion toogroup en uppsättning behörigheter under en databas.</span><span class="sxs-lookup"><span data-stu-id="c1975-396">For Cosmos DB, a user simply represents an abstraction toogroup a set of permissions under a database.</span></span>   

<span data-ttu-id="c1975-397">Du kan skapa användare i Cosmos-databasen som motsvarar tooyour faktiska användare eller hello innehavare av ditt program för att implementera flera innehavare i ditt program.</span><span class="sxs-lookup"><span data-stu-id="c1975-397">For implementing multi-tenancy in your application, you can create users in Cosmos DB which corresponds tooyour actual users or hello tenants of your application.</span></span> <span data-ttu-id="c1975-398">Du kan sedan skapa behörigheter för en viss användare som motsvarar toohello åtkomstkontroll över olika samlingar, dokument, bilagor och så vidare.</span><span class="sxs-lookup"><span data-stu-id="c1975-398">You can then create permissions for a given user that correspond toohello access control over various collections, documents, attachments, etc.</span></span>   

<span data-ttu-id="c1975-399">Som dina program behöver tooscale med dina användare tillväxt, kan du anta olika sätt tooshard dina data.</span><span class="sxs-lookup"><span data-stu-id="c1975-399">As your applications need tooscale with your user growth, you can adopt various ways tooshard your data.</span></span> <span data-ttu-id="c1975-400">Du kan ange modellen varje användare på följande sätt:</span><span class="sxs-lookup"><span data-stu-id="c1975-400">You can model each of your users as follows:</span></span>   

* <span data-ttu-id="c1975-401">Varje användare mappar tooa databas.</span><span class="sxs-lookup"><span data-stu-id="c1975-401">Each user maps tooa database.</span></span>
* <span data-ttu-id="c1975-402">Varje användare mappar tooa samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-402">Each user maps tooa collection.</span></span> 
* <span data-ttu-id="c1975-403">Dokument motsvarande toomultiple användare gå tooa dedikerad samling.</span><span class="sxs-lookup"><span data-stu-id="c1975-403">Documents corresponding toomultiple users go tooa dedicated collection.</span></span> 
* <span data-ttu-id="c1975-404">Dokument motsvarande toomultiple användare gå tooa uppsättning samlingar.</span><span class="sxs-lookup"><span data-stu-id="c1975-404">Documents corresponding toomultiple users go tooa set of collections.</span></span>   

<span data-ttu-id="c1975-405">Oavsett hello specifika horisontell partitionering strategi du väljer du modellera faktiska användarna som användare i Cosmos-DB-databas och associera användare med bra metataggkontroll behörighet tooeach.</span><span class="sxs-lookup"><span data-stu-id="c1975-405">Regardless of hello specific sharding strategy you choose, you can model your actual users as users in Cosmos DB database and associate fine grained permissions tooeach user.</span></span>  

<span data-ttu-id="c1975-406">![Användarsamlingar][3]</span><span class="sxs-lookup"><span data-stu-id="c1975-406">![User collections][3]</span></span>  
<span data-ttu-id="c1975-407">**Horisontell partitionering strategier och modellering användare**</span><span class="sxs-lookup"><span data-stu-id="c1975-407">**Sharding strategies and modeling users**</span></span>

<span data-ttu-id="c1975-408">Precis som alla andra resurser användare i Cosmos-DB kan skapas, ersätts, tas bort, läsa eller räknas upp enkelt använda REST API: er eller någon av hello klienten SDK: er.</span><span class="sxs-lookup"><span data-stu-id="c1975-408">Like all other resources, users in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="c1975-409">Cosmos DB ger alltid stark konsekvens för läsning eller fråga hello metadata för en användarresurs.</span><span class="sxs-lookup"><span data-stu-id="c1975-409">Cosmos DB always provides strong consistency for reading or querying hello metadata of a user resource.</span></span> <span data-ttu-id="c1975-410">Det är värt pekar på att ta bort en användare automatiskt garanterar att du inte kan komma åt någon hello behörigheter som finns i den.</span><span class="sxs-lookup"><span data-stu-id="c1975-410">It is worth pointing out that deleting a user automatically ensures that you cannot access any of hello permissions contained within it.</span></span> <span data-ttu-id="c1975-411">Även om hello Cosmos DB återtar hello kvoten hello behörigheter som en del av hello bort användare i hello bakgrund, hello bort behörigheter är tillgänglig direkt igen för du toouse.</span><span class="sxs-lookup"><span data-stu-id="c1975-411">Even though hello Cosmos DB reclaims hello quota of hello permissions as part of hello deleted user in hello background, hello deleted permissions is available instantly again for you toouse.</span></span>  

## <a name="permissions"></a><span data-ttu-id="c1975-412">Behörigheter</span><span class="sxs-lookup"><span data-stu-id="c1975-412">Permissions</span></span>
<span data-ttu-id="c1975-413">Ur ett access control resurser, till exempel databasen konton, databaser, användare och behörigheten anses *administrativa* resurser eftersom de kräver administratörsbehörighet.</span><span class="sxs-lookup"><span data-stu-id="c1975-413">From an access control perspective, resources such as database accounts, databases, users and permission are considered *administrative* resources since these require administrative permissions.</span></span> <span data-ttu-id="c1975-414">Hello på andra sidan resurser inklusive hello samlingar, dokument, bifogade filer, lagrade procedurer, utlösare och UDF: er omfång under en viss databas och anses vara *programresurser*.</span><span class="sxs-lookup"><span data-stu-id="c1975-414">On hello other hand, resources including hello collections, documents, attachments, stored procedures, triggers, and UDFs are scoped under a given database and considered *application resources*.</span></span> <span data-ttu-id="c1975-415">Motsvarande toohello två typer av resurser och hello roller som kommer åt dem (dvs hello administratörs- och) hello auktoriseringsmodellen definierar två typer av *åtkomstnycklar*: *huvudnyckeln* och *Resursnyckeln*.</span><span class="sxs-lookup"><span data-stu-id="c1975-415">Corresponding toohello two types of resources and hello roles that access them (namely hello administrator and user), hello authorization model defines two types of *access keys*: *master key* and *resource key*.</span></span> <span data-ttu-id="c1975-416">hello huvudnyckel är en del av hello databaskonto och tillhandahålls toohello utvecklare (eller administratör) som etablerar hello konto.</span><span class="sxs-lookup"><span data-stu-id="c1975-416">hello master key is a part of hello database account and is provided toohello developer (or administrator) who is provisioning hello database account.</span></span> <span data-ttu-id="c1975-417">Den här huvudnyckeln har administratören semantik i att det kan vara används tooauthorize åtkomst tooboth administrativa och programresurser.</span><span class="sxs-lookup"><span data-stu-id="c1975-417">This master key has administrator semantics, in that it can be used tooauthorize access tooboth administrative and application resources.</span></span> <span data-ttu-id="c1975-418">En Resursnyckeln är däremot ett detaljerade åtkomstnyckel som tillåter åtkomst tooa *specifika* programresursen.</span><span class="sxs-lookup"><span data-stu-id="c1975-418">In contrast, a resource key is a granular access key that allows access tooa *specific* application resource.</span></span> <span data-ttu-id="c1975-419">Det innebär den fångar upp hello förhållandet mellan hello användare av en databas och hello behörigheter hello användare för en viss resurs (t.ex. samling dokument, bifogad fil, lagrade procedurer, utlösare eller UDF).</span><span class="sxs-lookup"><span data-stu-id="c1975-419">Thus, it captures hello relationship between hello user of a database and hello permissions hello user has for a specific resource (e.g. collection, document, attachment, stored procedure, trigger, or UDF).</span></span>   

<span data-ttu-id="c1975-420">hello endast sätt tooobtain en Resursnyckeln är genom att skapa en behörighet resurs under en viss användare.</span><span class="sxs-lookup"><span data-stu-id="c1975-420">hello only way tooobtain a resource key is by creating a permission resource under a given user.</span></span> <span data-ttu-id="c1975-421">Observera att i ordning toocreate eller hämta behörighet, en huvudnyckel måste vara angiven på hello authorization-huvud.</span><span class="sxs-lookup"><span data-stu-id="c1975-421">Note that In order toocreate or retrieve a permission, a master key must be presented in hello authorization header.</span></span> <span data-ttu-id="c1975-422">En behörighet resurs ties hello resurs, dess åtkomst och hello användare.</span><span class="sxs-lookup"><span data-stu-id="c1975-422">A permission resource ties hello resource, its access and hello user.</span></span> <span data-ttu-id="c1975-423">När du har skapat en behörighet resurs behöver hello användare bara toopresent hello associerade Resursnyckeln i ordning toogain åtkomst toohello relevant resurs.</span><span class="sxs-lookup"><span data-stu-id="c1975-423">After creating a permission resource, hello user only needs toopresent hello associated resource key in order toogain access toohello relevant resource.</span></span> <span data-ttu-id="c1975-424">Därför kan en Resursnyckeln ses som en logisk och compact representation av hello behörighet för resursen.</span><span class="sxs-lookup"><span data-stu-id="c1975-424">Hence, a resource key can be viewed as a logical and compact representation of hello permission resource.</span></span>  

<span data-ttu-id="c1975-425">Precis som med alla andra resurser, behörigheter i Cosmos DB kan skapas, ersätts, tas bort, läsa eller räkna upp enkelt använda REST API: er eller någon av hello klienten SDK: er.</span><span class="sxs-lookup"><span data-stu-id="c1975-425">As with all other resources, permissions in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="c1975-426">Cosmos DB ger alltid stark konsekvens för läsning eller fråga hello metadata för en behörighet.</span><span class="sxs-lookup"><span data-stu-id="c1975-426">Cosmos DB always provides strong consistency for reading or querying hello metadata of a permission.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="c1975-427">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="c1975-427">Next steps</span></span>
<span data-ttu-id="c1975-428">Mer information om att arbeta med resurser med hjälp av HTTP-kommandon i [RESTful interaktioner med Cosmos DB resurser](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span><span class="sxs-lookup"><span data-stu-id="c1975-428">Learn more about working with resources by using HTTP commands in [RESTful interactions with Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span>

[1]: media/documentdb-resources/resources1.png
[2]: media/documentdb-resources/resources2.png
[3]: media/documentdb-resources/resources3.png

