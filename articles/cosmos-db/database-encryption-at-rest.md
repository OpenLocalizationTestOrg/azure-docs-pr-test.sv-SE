---
title: 'Databaskryptering vilande: Azure Cosmos DB | Microsoft Docs'
description: "Lär dig hur Azure Cosmos DB tillhandahåller standard kryptering av alla data."
services: cosmos-db
author: voellm
manager: jhubbard
editor: mimig
documentationcenter: 
ms.assetid: 99725c52-d7ca-4bfa-888b-19b1569754d3
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/23/2017
ms.author: voellm
ms.openlocfilehash: d52d55fe45fdd18394166ec7ccd6e46e8f8f434b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-cosmos-db-database-encryption-at-rest"></a><span data-ttu-id="9e05e-103">Azure DB Cosmos databaskryptering i vila</span><span class="sxs-lookup"><span data-stu-id="9e05e-103">Azure Cosmos DB database encryption at rest</span></span>

<span data-ttu-id="9e05e-104">Kryptering i vila är en fras som ofta refererar toohello kryptering av data på nonvolatile lagringsenheter, t.ex. solid-state-hårddiskar (SSD) och hårddiskenheter (HDD).</span><span class="sxs-lookup"><span data-stu-id="9e05e-104">Encryption at rest is a phrase that commonly refers toohello encryption of data on nonvolatile storage devices, such as solid state drives (SSDs) and hard disk drives (HDDs).</span></span> <span data-ttu-id="9e05e-105">Cosmos DB lagrar primära databaserna på SSD-enheter.</span><span class="sxs-lookup"><span data-stu-id="9e05e-105">Cosmos DB stores its primary databases on SSDs.</span></span> <span data-ttu-id="9e05e-106">Dess media bilagor och säkerhetskopior lagras i Azure Blob storage som vanligtvis har säkerhetskopierats av hårddiskar.</span><span class="sxs-lookup"><span data-stu-id="9e05e-106">Its media attachments and backups are stored in Azure Blob storage, which is generally backed up by HDDs.</span></span> <span data-ttu-id="9e05e-107">Med hello versionen av kryptering i vila för Cosmos DB krypteras alla databaser, media bilagor och säkerhetskopieringar.</span><span class="sxs-lookup"><span data-stu-id="9e05e-107">With hello release of encryption at rest for Cosmos DB, all your databases, media attachments, and backups are encrypted.</span></span> <span data-ttu-id="9e05e-108">Dina data är krypterad under överföringen (via hello nätverk) och i vila (nonvolatile lagring), vilket ger dig kryptering från slutpunkt till slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="9e05e-108">Your data is now encrypted in transit (over hello network) and at rest (nonvolatile storage), giving you end-to-end encryption.</span></span>

<span data-ttu-id="9e05e-109">Eftersom en PaaS-tjänst, Cosmos DB är mycket enkelt toouse.</span><span class="sxs-lookup"><span data-stu-id="9e05e-109">As a PaaS service, Cosmos DB is very easy toouse.</span></span> <span data-ttu-id="9e05e-110">Eftersom alla data som lagras i Cosmos-databasen är krypterat i vila och under transport, har du inte tootake någon åtgärd.</span><span class="sxs-lookup"><span data-stu-id="9e05e-110">Because all user data stored in Cosmos DB is encrypted at rest and in transport, you don't have tootake any action.</span></span> <span data-ttu-id="9e05e-111">Ett annat sätt tooput detta är att kryptering i vila är ”på” som standard.</span><span class="sxs-lookup"><span data-stu-id="9e05e-111">Another way tooput this is that encryption at rest is "on" by default.</span></span> <span data-ttu-id="9e05e-112">Det finns inga kontroller tooturn den eller inaktivera.</span><span class="sxs-lookup"><span data-stu-id="9e05e-112">There are no controls tooturn it off or on.</span></span> <span data-ttu-id="9e05e-113">Vi använder den här funktionen medan vi fortsätta toomeet vår [tillgänglighet och prestanda SLA](https://azure.microsoft.com/support/legal/sla/cosmos-db).</span><span class="sxs-lookup"><span data-stu-id="9e05e-113">We provide this feature while we continue toomeet our [availability and performance SLAs](https://azure.microsoft.com/support/legal/sla/cosmos-db).</span></span>

## <a name="implement-encryption-at-rest"></a><span data-ttu-id="9e05e-114">Implementera kryptering i vila</span><span class="sxs-lookup"><span data-stu-id="9e05e-114">Implement encryption at rest</span></span>

<span data-ttu-id="9e05e-115">Kryptering i vila implementeras med hjälp av ett antal säkerhetstekniker, inklusive system för säker lagring av nycklar, krypterade nätverk och kryptografiska API: er.</span><span class="sxs-lookup"><span data-stu-id="9e05e-115">Encryption at rest is implemented by using a number of security technologies, including secure key storage systems, encrypted networks, and cryptographic APIs.</span></span> <span data-ttu-id="9e05e-116">Datorer som kan dekryptera och bearbeta data har toocommunicate med system som hanterar nycklar.</span><span class="sxs-lookup"><span data-stu-id="9e05e-116">Systems that decrypt and process data have toocommunicate with systems that manage keys.</span></span> <span data-ttu-id="9e05e-117">hello diagram visar hur lagring av krypterade data och hello hantering av nycklar är åtskilda.</span><span class="sxs-lookup"><span data-stu-id="9e05e-117">hello diagram shows how storage of encrypted data and hello management of keys is separated.</span></span> 

![Design diagram](./media/database-encryption-at-rest/design-diagram.png)

<span data-ttu-id="9e05e-119">hello grundläggande flödet av en användarbegäran är följande:</span><span class="sxs-lookup"><span data-stu-id="9e05e-119">hello basic flow of a user request is as follows:</span></span>
- <span data-ttu-id="9e05e-120">hello användarkonto databasen görs klar och lagringsnycklar hämtas via en begäran toohello Management Tjänstresursprovider.</span><span class="sxs-lookup"><span data-stu-id="9e05e-120">hello user database account is made ready, and storage keys are retrieved via a request toohello Management Service Resource Provider.</span></span>
- <span data-ttu-id="9e05e-121">En användare skapar en anslutning tooCosmos DB via HTTPS/secure transport.</span><span class="sxs-lookup"><span data-stu-id="9e05e-121">A user creates a connection tooCosmos DB via HTTPS/secure transport.</span></span> <span data-ttu-id="9e05e-122">(hello SDK abstrakt hello information.)</span><span class="sxs-lookup"><span data-stu-id="9e05e-122">(hello SDKs abstract hello details.)</span></span>
- <span data-ttu-id="9e05e-123">hello användaren skickar en JSON-dokument toobe lagras över hello tidigare skapade säker anslutning.</span><span class="sxs-lookup"><span data-stu-id="9e05e-123">hello user sends a JSON document toobe stored over hello previously created secure connection.</span></span>
- <span data-ttu-id="9e05e-124">hello JSON-dokument indexeras om hello användaren har inaktiverat indexering.</span><span class="sxs-lookup"><span data-stu-id="9e05e-124">hello JSON document is indexed unless hello user has turned off indexing.</span></span>
- <span data-ttu-id="9e05e-125">Både hello JSON-dokumentet och indexinformationen skrivs toosecure lagring.</span><span class="sxs-lookup"><span data-stu-id="9e05e-125">Both hello JSON document and index data are written toosecure storage.</span></span>
- <span data-ttu-id="9e05e-126">Med jämna mellanrum data läses från hello säker lagring och säkerhetskopierade toohello Azure krypterade Blob Store.</span><span class="sxs-lookup"><span data-stu-id="9e05e-126">Periodically, data is read from hello secure storage and backed up toohello Azure Encrypted Blob Store.</span></span>

## <a name="frequently-asked-questions"></a><span data-ttu-id="9e05e-127">Vanliga frågor och svar</span><span class="sxs-lookup"><span data-stu-id="9e05e-127">Frequently asked questions</span></span>

### <a name="q-how-much-more-does-azure-storage-cost-if-storage-service-encryption-is-enabled"></a><span data-ttu-id="9e05e-128">F: hur mycket kostar Azure Storage om Storage Service-kryptering aktiveras?</span><span class="sxs-lookup"><span data-stu-id="9e05e-128">Q: How much more does Azure Storage cost if Storage Service Encryption is enabled?</span></span>
<span data-ttu-id="9e05e-129">S: finns utan extra kostnad.</span><span class="sxs-lookup"><span data-stu-id="9e05e-129">A: There is no additional cost.</span></span>

### <a name="q-who-manages-hello-encryption-keys"></a><span data-ttu-id="9e05e-130">F: som hanterar hello krypteringsnycklar?</span><span class="sxs-lookup"><span data-stu-id="9e05e-130">Q: Who manages hello encryption keys?</span></span>
<span data-ttu-id="9e05e-131">S: hello nycklar som hanteras av Microsoft.</span><span class="sxs-lookup"><span data-stu-id="9e05e-131">A: hello keys are managed by Microsoft.</span></span>

### <a name="q-how-often-are-encryption-keys-rotated"></a><span data-ttu-id="9e05e-132">F: hur ofta roteras krypteringsnycklar?</span><span class="sxs-lookup"><span data-stu-id="9e05e-132">Q: How often are encryption keys rotated?</span></span>
<span data-ttu-id="9e05e-133">S: Microsoft har interna riktlinjer för kryptering viktiga rotation, vilket följer Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="9e05e-133">A: Microsoft has a set of internal guidelines for encryption key rotation, which Cosmos DB follows.</span></span> <span data-ttu-id="9e05e-134">specifika riktlinjer för hello publiceras inte.</span><span class="sxs-lookup"><span data-stu-id="9e05e-134">hello specific guidelines are not published.</span></span> <span data-ttu-id="9e05e-135">Microsoft publicera hello [Security Development Lifecycle (SDL)](https://www.microsoft.com/sdl/default.aspx), som ses som en del av interna riktlinjer och har användbara Metodtips för utvecklare.</span><span class="sxs-lookup"><span data-stu-id="9e05e-135">Microsoft does publish hello [Security Development Lifecycle (SDL)](https://www.microsoft.com/sdl/default.aspx), which is seen as a subset of internal guidance and has useful best practices for developers.</span></span>

### <a name="q-can-i-use-my-own-encryption-keys"></a><span data-ttu-id="9e05e-136">F: kan jag använda min egen krypteringsnycklar?</span><span class="sxs-lookup"><span data-stu-id="9e05e-136">Q: Can I use my own encryption keys?</span></span>
<span data-ttu-id="9e05e-137">A: vi arbetat hårda tookeep hello service enkelt toouse cosmos DB är en PaaS-tjänst.</span><span class="sxs-lookup"><span data-stu-id="9e05e-137">A: Cosmos DB is a PaaS service, and we worked hard tookeep hello service easy toouse.</span></span> <span data-ttu-id="9e05e-138">Vi har lagt märke till den här frågan är ofta tillfrågas som en proxy-fråga för att uppfylla efterföljandekrav som PCI-DSS.</span><span class="sxs-lookup"><span data-stu-id="9e05e-138">We've noticed this question is often asked as a proxy question for meeting a compliance requirement like PCI-DSS.</span></span> <span data-ttu-id="9e05e-139">Skapa den här funktionen arbetat, vi med efterlevnad granskare tooensure att kunder som använder Cosmos DB uppfyller deras behov utan hello måste toomanage nycklar sig själva.</span><span class="sxs-lookup"><span data-stu-id="9e05e-139">As part of building this feature, we worked with compliance auditors tooensure that customers who use Cosmos DB meet their requirements without hello need toomanage keys themselves.</span></span>
<span data-ttu-id="9e05e-140">Därför kan ger vi för närvarande inte användare hello alternativet tooburden sig själva med nyckelhantering.</span><span class="sxs-lookup"><span data-stu-id="9e05e-140">As a result, we currently do not offer users hello option tooburden themselves with key management.</span></span>

### <a name="q-what-regions-have-encryption-turned-on"></a><span data-ttu-id="9e05e-141">F: vad regioner har kryptering aktiverat?</span><span class="sxs-lookup"><span data-stu-id="9e05e-141">Q: What regions have encryption turned on?</span></span>
<span data-ttu-id="9e05e-142">S: alla Azure Cosmos DB regioner har kryptering aktiverat för alla användardata.</span><span class="sxs-lookup"><span data-stu-id="9e05e-142">A: All Azure Cosmos DB regions have encryption turned on for all user data.</span></span>

### <a name="q-does-encryption-affect-hello-performance-latency-and-throughput-slas"></a><span data-ttu-id="9e05e-143">F: kryptering påverkar hello prestanda svarstid och genomströmning SLA: er?</span><span class="sxs-lookup"><span data-stu-id="9e05e-143">Q: Does encryption affect hello performance latency and throughput SLAs?</span></span>
<span data-ttu-id="9e05e-144">S: finns ingen inverkan ändringar toohello prestanda eller serviceavtal nu att kryptering i vila är aktiverad för alla nya och befintliga konton.</span><span class="sxs-lookup"><span data-stu-id="9e05e-144">A: There is no impact or changes toohello performance SLAs now that encryption at rest is enabled for all existing and new accounts.</span></span> <span data-ttu-id="9e05e-145">Du kan läsa mer på hello [SLA för Cosmos DB](https://azure.microsoft.com/support/legal/sla/cosmos-db) sidan toosee hello senaste garantier.</span><span class="sxs-lookup"><span data-stu-id="9e05e-145">You can read more on hello [SLA for Cosmos DB](https://azure.microsoft.com/support/legal/sla/cosmos-db) page toosee hello latest guarantees.</span></span>

### <a name="q-does-hello-local-emulator-support-encryption-at-rest"></a><span data-ttu-id="9e05e-146">F: hello lokala emulator stöder kryptering i vila?</span><span class="sxs-lookup"><span data-stu-id="9e05e-146">Q: Does hello local emulator support encryption at rest?</span></span>
<span data-ttu-id="9e05e-147">S: hello-emulatorn är ett fristående verktyg för utveckling och testning och använda inte hello Nyckelhanteringstjänster som hello hanterade Cosmos-DB-tjänsten används.</span><span class="sxs-lookup"><span data-stu-id="9e05e-147">A: hello emulator is a standalone dev/test tool and does not use hello key management services that hello managed Cosmos DB service uses.</span></span> <span data-ttu-id="9e05e-148">Vår rekommendation är tooenable BitLocker på enheter där du lagrar känslig emulatorn testdata.</span><span class="sxs-lookup"><span data-stu-id="9e05e-148">Our recommendation is tooenable BitLocker on drives where you are storing sensitive emulator test data.</span></span> <span data-ttu-id="9e05e-149">Hej [emulator stöder ändring hello data standardkatalogen](local-emulator.md) samt med en känd plats.</span><span class="sxs-lookup"><span data-stu-id="9e05e-149">hello [emulator supports changing hello default data directory](local-emulator.md) as well as using a well-known location.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9e05e-150">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="9e05e-150">Next steps</span></span>

<span data-ttu-id="9e05e-151">En översikt över Cosmos DB säkerhets- och hello senaste förbättringarna finns [Azure Cosmos DB databassäkerhet](database-security.md).</span><span class="sxs-lookup"><span data-stu-id="9e05e-151">For an overview of Cosmos DB security and hello latest improvements, see [Azure Cosmos DB database security](database-security.md).</span></span>
<span data-ttu-id="9e05e-152">Mer information om Microsoft-certifikat finns hello [Azure Säkerhetscenter](https://azure.microsoft.com/en-us/support/trust-center/).</span><span class="sxs-lookup"><span data-stu-id="9e05e-152">For more information about Microsoft certifications, see hello [Azure Trust Center](https://azure.microsoft.com/en-us/support/trust-center/).</span></span>
