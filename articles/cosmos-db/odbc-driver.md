---
title: "Ansluta till Azure Cosmos-databasen med verktyg för BI analytics | Microsoft Docs"
description: "Lär dig hur du använder Azure Cosmos DB ODBC-drivrutinen för att skapa tabeller och vyer så att normaliserade data kan visas i BI och data analytics-programvara."
keywords: ODBC, odbc-drivrutinen
services: cosmos-db
author: mimig1
manager: jhubbard
editor: 
documentationcenter: 
ms.assetid: 9967f4e5-4b71-4cd7-8324-221a8c789e6b
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: rest-api
ms.topic: article
ms.date: 05/24/2017
ms.author: mimig
ms.openlocfilehash: 2df792c00b7a789dbefa64bfe0245f1ad73c3faa
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="connect-to-azure-cosmos-db-using-bi-analytics-tools-with-the-odbc-driver"></a><span data-ttu-id="b754f-104">Ansluta till Azure Cosmos-databasen med verktyg för analys av BI med ODBC-drivrutin</span><span class="sxs-lookup"><span data-stu-id="b754f-104">Connect to Azure Cosmos DB using BI analytics tools with the ODBC driver</span></span>

<span data-ttu-id="b754f-105">Azure Cosmos DB ODBC-drivrutinen kan du ansluta till Azure Cosmos-databasen med BI analytics-verktyg som SQL Server Integration Services och Power BI Desktop Tableau så att du kan analysera och skapa visualiseringar av dina Azure Cosmos DB-data i dessa lösningar.</span><span class="sxs-lookup"><span data-stu-id="b754f-105">The Azure Cosmos DB ODBC driver enables you to connect to Azure Cosmos DB using BI analytics tools such as SQL Server Integration Services, Power BI Desktop, and Tableau so that you can analyze and create visualizations of your Azure Cosmos DB data in those solutions.</span></span>

<span data-ttu-id="b754f-106">Azure Cosmos DB ODBC-drivrutinen är ODBC 3.8 kompatibel och stöder ANSI SQL-92-syntax.</span><span class="sxs-lookup"><span data-stu-id="b754f-106">The Azure Cosmos DB ODBC driver is ODBC 3.8 compliant and supports ANSI SQL-92 syntax.</span></span> <span data-ttu-id="b754f-107">Drivrutinen erbjuder omfattande funktioner som hjälper dig att renormalize data i Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="b754f-107">The driver offers rich features to help you renormalize data in Azure Cosmos DB.</span></span> <span data-ttu-id="b754f-108">Du kan använder drivrutinen för att representera data i Azure Cosmos DB som tabeller och vyer.</span><span class="sxs-lookup"><span data-stu-id="b754f-108">Using the driver, you can represent data in Azure Cosmos DB as tables and views.</span></span> <span data-ttu-id="b754f-109">Drivrutinen kan du utföra SQL-åtgärder mot de tabeller och vyer, inklusive frågor, infogar, uppdateringar, och tar bort.</span><span class="sxs-lookup"><span data-stu-id="b754f-109">The driver enables you to perform SQL operations against the tables and views including group by queries, inserts, updates, and deletes.</span></span>

## <a name="why-do-i-need-to-normalize-my-data"></a><span data-ttu-id="b754f-110">Varför måste normalisera Mina data?</span><span class="sxs-lookup"><span data-stu-id="b754f-110">Why do I need to normalize my data?</span></span>
<span data-ttu-id="b754f-111">Azure Cosmos-DB är en schemalös databas så att den möjliggör snabb utveckling av appar genom att aktivera program för att iterera sina datamodellen direkt och inte begränsa dem till ett strikt schema.</span><span class="sxs-lookup"><span data-stu-id="b754f-111">Azure Cosmos DB is a schemaless database, so it enables rapid development of apps by enabling applications to iterate their data model on the fly and not confine them to a strict schema.</span></span> <span data-ttu-id="b754f-112">En enda Azure Cosmos-DB-databas kan innehålla olika strukturer JSON-dokument.</span><span class="sxs-lookup"><span data-stu-id="b754f-112">A single Azure Cosmos DB database can contain JSON documents of various structures.</span></span> <span data-ttu-id="b754f-113">Det är bra för snabb utveckling, men när du vill analysera och skapa rapporter för dina data med hjälp av dataanalys och BI-verktyg data behöver ofta förenklas och följa ett visst schema.</span><span class="sxs-lookup"><span data-stu-id="b754f-113">This is great for rapid application development, but when you want to analyze and create reports of your data using data analytics and BI tools, the data often needs to be flattened and adhere to a specific schema.</span></span>

<span data-ttu-id="b754f-114">Det är där ODBC-drivrutinen kommer in.</span><span class="sxs-lookup"><span data-stu-id="b754f-114">This is where the ODBC driver comes in.</span></span> <span data-ttu-id="b754f-115">Du kan nu renormalized data i Azure Cosmos DB i tabeller och vyer montering dina databehov för analys och rapportering med hjälp av ODBC-drivrutinen.</span><span class="sxs-lookup"><span data-stu-id="b754f-115">By using the ODBC driver, you can now renormalized data in Azure Cosmos DB into tables and views fitting to your data analytic and reporting needs.</span></span> <span data-ttu-id="b754f-116">Renormalized scheman har ingen inverkan på underliggande data och inte begränsa utvecklare att följa dem, de bara kan du utnyttja ODBC-kompatibel verktyg för att komma åt data.</span><span class="sxs-lookup"><span data-stu-id="b754f-116">The renormalized schemas have no impact on the underlying data and do not confine developers to adhere to them, they simply enable you to leverage ODBC-compliant tools to access the data.</span></span> <span data-ttu-id="b754f-117">Nu Azure Cosmos-DB-databas kommer inte bara vara en favorit för Utvecklingsteamet, men data analytikerna kommer gillar det för.</span><span class="sxs-lookup"><span data-stu-id="b754f-117">So now your Azure Cosmos DB database will not only be a favorite for your development team, but your data analysts will love it too.</span></span>

<span data-ttu-id="b754f-118">Nu kan komma igång med ODBC-drivrutinen.</span><span class="sxs-lookup"><span data-stu-id="b754f-118">Now lets get started with the ODBC driver.</span></span>

## <span data-ttu-id="b754f-119"><a id="install"></a>Steg 1: Installera Azure Cosmos DB ODBC-drivrutinen</span><span class="sxs-lookup"><span data-stu-id="b754f-119"><a id="install"></a>Step 1: Install the Azure Cosmos DB ODBC driver</span></span>

1. <span data-ttu-id="b754f-120">Hämta drivrutiner för din miljö:</span><span class="sxs-lookup"><span data-stu-id="b754f-120">Download the drivers for your environment:</span></span>

    * <span data-ttu-id="b754f-121">[Microsoft Azure Cosmos DB ODBC 64-bit.msi](https://aka.ms/documentdb-odbc-64x64) för 64-bitars Windows</span><span class="sxs-lookup"><span data-stu-id="b754f-121">[Microsoft Azure Cosmos DB ODBC 64-bit.msi](https://aka.ms/documentdb-odbc-64x64) for 64-bit Windows</span></span>
    * <span data-ttu-id="b754f-122">[Microsoft Azure Cosmos DB ODBC 32 x 64-bit.msi](https://aka.ms/documentdb-odbc-32x64) för 32-bitars på Windows 64-bitars</span><span class="sxs-lookup"><span data-stu-id="b754f-122">[Microsoft Azure Cosmos DB ODBC 32x64-bit.msi](https://aka.ms/documentdb-odbc-32x64) for 32-bit on 64-bit Windows</span></span>
    * <span data-ttu-id="b754f-123">[Microsoft Azure Cosmos DB ODBC 32-bit.msi](https://aka.ms/documentdb-odbc-32x32) för 32-bitars Windows</span><span class="sxs-lookup"><span data-stu-id="b754f-123">[Microsoft Azure Cosmos DB ODBC 32-bit.msi](https://aka.ms/documentdb-odbc-32x32) for 32-bit Windows</span></span>

    <span data-ttu-id="b754f-124">Kör msi-filen lokalt, som startar den **installationsguiden för Microsoft Azure Cosmos DB ODBC-drivrutinen**.</span><span class="sxs-lookup"><span data-stu-id="b754f-124">Run the msi file locally, which starts the **Microsoft Azure Cosmos DB ODBC Driver Installation Wizard**.</span></span> 
2. <span data-ttu-id="b754f-125">Slutför guiden med standardinställningarna som indata för att installera ODBC-drivrutinen.</span><span class="sxs-lookup"><span data-stu-id="b754f-125">Complete the installation wizard using the default input to install the ODBC driver.</span></span>
3. <span data-ttu-id="b754f-126">Öppna den **ODBC Data source Administrator** appen på din dator och du kan göra detta genom att skriva **ODBC-datakällor** i Windows-sökrutan.</span><span class="sxs-lookup"><span data-stu-id="b754f-126">Open the **ODBC Data source Administrator** app on your computer, you can do this by typing **ODBC Data sources** in the Windows search box.</span></span> 
    <span data-ttu-id="b754f-127">Du kan bekräfta drivrutinen har installerats genom att klicka på den **drivrutiner** flik och se till att **ODBC-drivrutinen för Microsoft Azure Cosmos DB** visas.</span><span class="sxs-lookup"><span data-stu-id="b754f-127">You can confirm the driver was installed by clicking the **Drivers** tab and ensuring **Microsoft Azure Cosmos DB ODBC Driver** is listed.</span></span>

    ![Azure Cosmos DB ODBC Data Source Administrator](./media/odbc-driver/odbc-driver.png)

## <span data-ttu-id="b754f-129"><a id="connect"></a>Steg 2: Anslut till din Azure Cosmos-DB-databas</span><span class="sxs-lookup"><span data-stu-id="b754f-129"><a id="connect"></a>Step 2: Connect to your Azure Cosmos DB database</span></span>

1. <span data-ttu-id="b754f-130">Efter [installera Azure Cosmos DB ODBC-drivrutinen](#install)i den **ODBC Data Source Administrator** -fönstret klickar du på **Lägg till**.</span><span class="sxs-lookup"><span data-stu-id="b754f-130">After [Installing the Azure Cosmos DB ODBC driver](#install), in the **ODBC Data Source Administrator** window, click **Add**.</span></span> <span data-ttu-id="b754f-131">Du kan skapa en användare eller System-DSN.</span><span class="sxs-lookup"><span data-stu-id="b754f-131">You can create a User or System DSN.</span></span> <span data-ttu-id="b754f-132">I det här exemplet skapar vi ett användar-DSN.</span><span class="sxs-lookup"><span data-stu-id="b754f-132">In this example, we are creating a User DSN.</span></span>
2. <span data-ttu-id="b754f-133">I den **Skapa ny datakälla** väljer **ODBC-drivrutinen för Microsoft Azure Cosmos DB**, och klicka sedan på **Slutför**.</span><span class="sxs-lookup"><span data-stu-id="b754f-133">In the **Create New Data Source** window, select **Microsoft Azure Cosmos DB ODBC Driver**, and then click **Finish**.</span></span>
3. <span data-ttu-id="b754f-134">I den **SDN installationsprogram för Azure Cosmos DB ODBC-drivrutinen** Fyll i följande:</span><span class="sxs-lookup"><span data-stu-id="b754f-134">In the **Azure Cosmos DB ODBC Driver SDN Setup** window, fill in the following:</span></span> 

    ![Azure Cosmos DB ODBC-drivrutinen DSN inställningsfönstret](./media/odbc-driver/odbc-driver-dsn-setup.png)
    - <span data-ttu-id="b754f-136">**Namn på datakälla**: egna eget namn för ODBC DSN.</span><span class="sxs-lookup"><span data-stu-id="b754f-136">**Data Source Name**: Your own friendly name for the ODBC DSN.</span></span> <span data-ttu-id="b754f-137">Det här namnet är unikt för ditt Azure DB som Cosmos-konto, så namnet på lämpligt sätt om du har flera konton.</span><span class="sxs-lookup"><span data-stu-id="b754f-137">This name is unique to your Azure Cosmos DB account, so name it appropriately if you have multiple accounts.</span></span>
    - <span data-ttu-id="b754f-138">**Beskrivning**: en kort beskrivning av datakällan.</span><span class="sxs-lookup"><span data-stu-id="b754f-138">**Description**: A brief description of the data source.</span></span>
    - <span data-ttu-id="b754f-139">**Värden**: URI för Azure DB som Cosmos-konto.</span><span class="sxs-lookup"><span data-stu-id="b754f-139">**Host**: URI for your Azure Cosmos DB account.</span></span> <span data-ttu-id="b754f-140">Du kan hämta det från bladet Azure Cosmos DB nycklar i Azure-portalen som visas i följande skärmbild.</span><span class="sxs-lookup"><span data-stu-id="b754f-140">You can retrieve this from the Azure Cosmos DB Keys blade in the Azure portal, as shown in the following screenshot.</span></span> 
    - <span data-ttu-id="b754f-141">**Snabbtangent**: primär eller sekundär, skrivskyddad eller skrivskyddad nyckeln från bladet Azure Cosmos DB nycklar i Azure-portalen som visas i följande skärmbild.</span><span class="sxs-lookup"><span data-stu-id="b754f-141">**Access Key**: The primary or secondary, read-write or read-only key from the Azure Cosmos DB Keys blade in the Azure portal as shown in the following screenshot.</span></span> <span data-ttu-id="b754f-142">Vi rekommenderar att du använder den skrivskyddade nyckeln om DSN används för skrivskyddade databehandling och rapportering.</span><span class="sxs-lookup"><span data-stu-id="b754f-142">We recommend you use the read-only key if the DSN is used for read-only data processing and reporting.</span></span>
    <span data-ttu-id="b754f-143">![Azure DB-nycklar för Cosmos-bladet](./media/odbc-driver/odbc-driver-keys.png)</span><span class="sxs-lookup"><span data-stu-id="b754f-143">![Azure Cosmos DB Keys blade](./media/odbc-driver/odbc-driver-keys.png)</span></span>
    - <span data-ttu-id="b754f-144">**Kryptera åtkomstnyckeln för**: Välj det bästa valet baserat på användare för den här datorn.</span><span class="sxs-lookup"><span data-stu-id="b754f-144">**Encrypt Access Key for**: Select the best choice based on the users of this machine.</span></span> 
4. <span data-ttu-id="b754f-145">Klicka på den **Test** för att kontrollera att du kan ansluta till ditt konto i Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="b754f-145">Click the **Test** button to make sure you can connect to your Azure Cosmos DB account.</span></span> 
5. <span data-ttu-id="b754f-146">Klicka på **avancerade alternativ** och ange följande värden:</span><span class="sxs-lookup"><span data-stu-id="b754f-146">Click **Advanced Options** and set the following values:</span></span>
    - <span data-ttu-id="b754f-147">**Fråga konsekvenskontroll**: Välj den [konsekvensnivå](consistency-levels.md) för din verksamhet.</span><span class="sxs-lookup"><span data-stu-id="b754f-147">**Query Consistency**: Select the [consistency level](consistency-levels.md) for your operations.</span></span> <span data-ttu-id="b754f-148">Standardvärdet är Session.</span><span class="sxs-lookup"><span data-stu-id="b754f-148">The default is Session.</span></span>
    - <span data-ttu-id="b754f-149">**Antal återförsök**: Ange hur många gånger ska försöka utföra en åtgärd om den ursprungliga begäranden inte slutföras på grund av begränsning av tjänsten.</span><span class="sxs-lookup"><span data-stu-id="b754f-149">**Number of Retries**: Enter the number of times to retry an operation if the initial request does not complete due to service throttling.</span></span>
    - <span data-ttu-id="b754f-150">**Schemafilen**: du har ett antal alternativ här.</span><span class="sxs-lookup"><span data-stu-id="b754f-150">**Schema File**: You have a number of options here.</span></span>
        - <span data-ttu-id="b754f-151">Som standard, lämnar den här posten är (tom) söker drivrutinen första sidan data för alla samlingar att fastställa schemat för varje samling.</span><span class="sxs-lookup"><span data-stu-id="b754f-151">By default, leaving this entry as is (blank), the driver scans the first page data for all collections to determine the schema of each collection.</span></span> <span data-ttu-id="b754f-152">Detta kallas samlingen mappning.</span><span class="sxs-lookup"><span data-stu-id="b754f-152">This is known as Collection Mapping.</span></span> <span data-ttu-id="b754f-153">Drivrutinen har att utföra sökningen för varje drivrutin session utan en schemafilen som definierats och kan resultera i en senare tid för ett program med hjälp av DSN att starta.</span><span class="sxs-lookup"><span data-stu-id="b754f-153">Without a schema file defined, the driver has to perform the scan for each driver session and could result in a higher start up time of an application using the DSN.</span></span> <span data-ttu-id="b754f-154">Vi rekommenderar att du alltid associerar en schemafil för en Datakälla.</span><span class="sxs-lookup"><span data-stu-id="b754f-154">We recommend that you always associate a schema file for a DSN.</span></span>
        - <span data-ttu-id="b754f-155">Om du redan har en schemafilen (eventuellt en som du skapat med hjälp av [schemat redigeraren](#schema-editor)), kan du klicka på **Bläddra**, navigera till filen, klicka på **spara**, och klicka sedan på **OK**.</span><span class="sxs-lookup"><span data-stu-id="b754f-155">If you already have a schema file (possibly one that you created using the [Schema Editor](#schema-editor)), you can click **Browse**, navigate to your file, click **Save**, and then click **OK**.</span></span>
        - <span data-ttu-id="b754f-156">Om du vill skapa ett nytt schema, klickar du på **OK**, och klicka sedan på **schemat Editor** i huvudfönstret.</span><span class="sxs-lookup"><span data-stu-id="b754f-156">If you want to create a new schema, click **OK**, and then click **Schema Editor** in the main window.</span></span> <span data-ttu-id="b754f-157">Gå sedan vidare till den [schemat Editor](#schema-editor) information.</span><span class="sxs-lookup"><span data-stu-id="b754f-157">Then proceed to the [Schema Editor](#schema-editor) information.</span></span> <span data-ttu-id="b754f-158">När du skapar den nya schemafilen, Kom ihåg att gå tillbaka till den **avancerade alternativ** fönstret ska omfatta schemafilen nyligen skapade.</span><span class="sxs-lookup"><span data-stu-id="b754f-158">Upon creating the new schema file, please remember to go back to the **Advanced Options** window to include the newly created schema file.</span></span>

6. <span data-ttu-id="b754f-159">När du slutför och stänger den **Azure Cosmos DB ODBC-drivrutinen DSN för** och den nya användaren DSN har lagts till i fliken användar-DSN.</span><span class="sxs-lookup"><span data-stu-id="b754f-159">Once you complete and close the **Azure Cosmos DB ODBC Driver DSN Setup** window, the new User DSN is added to the User DSN tab.</span></span>

    ![Nya Azure Cosmos DB ODBC DSN på fliken användar-DSN](./media/odbc-driver/odbc-driver-user-dsn.png)

## <span data-ttu-id="b754f-161"><a id="#collection-mapping"></a>Steg 3: Skapa schemadefinition med metoden samling mappning</span><span class="sxs-lookup"><span data-stu-id="b754f-161"><a id="#collection-mapping"></a>Step 3: Create a schema definition using the collection mapping method</span></span>

<span data-ttu-id="b754f-162">Det finns två typer av provtagningsmetoder som du kan använda: **samling mappning** eller **tabell avgränsare**.</span><span class="sxs-lookup"><span data-stu-id="b754f-162">There are two types of sampling methods that you can use: **collection mapping** or **table-delimiters**.</span></span> <span data-ttu-id="b754f-163">En provtagning session kan använda båda provtagningsmetoderna, men varje samling kan bara använda en specifik urvalsmetoden.</span><span class="sxs-lookup"><span data-stu-id="b754f-163">A sampling session can utilize both sampling methods, but each collection can only use a specific sampling method.</span></span> <span data-ttu-id="b754f-164">Stegen nedan för att skapa ett schema för data i en eller flera samlingar med metoden samling mappning.</span><span class="sxs-lookup"><span data-stu-id="b754f-164">The steps below create a schema for the data in one or more collections using the collection mapping method.</span></span> <span data-ttu-id="b754f-165">Den här urvalsmetoden hämtar-data på sidan i en samling för att fastställa strukturen för data.</span><span class="sxs-lookup"><span data-stu-id="b754f-165">This sampling method retrieves the data in the page of a collection to determine the structure of the data.</span></span> <span data-ttu-id="b754f-166">Den transposes en samling till en tabell på ODBC-sida.</span><span class="sxs-lookup"><span data-stu-id="b754f-166">It transposes a collection to a table on the ODBC side.</span></span> <span data-ttu-id="b754f-167">Den här urvalsmetoden är effektivt och snabbt när data i en samling är homogen.</span><span class="sxs-lookup"><span data-stu-id="b754f-167">This sampling method is efficient and fast when the data in a collection is homogenous.</span></span> <span data-ttu-id="b754f-168">Om en samling innehåller heterogena typ av data, rekommenderar vi du använder den [tabell avgränsare mappning metoden](#table-mapping) eftersom det ger en mer robusta urvalsmetoden för att fastställa datastrukturer i samlingen.</span><span class="sxs-lookup"><span data-stu-id="b754f-168">If a collection contains heterogenous type of data, we recommend you use the [table-delimiters mapping method](#table-mapping) as it provides a more robust sampling method to determine the data structures in the collection.</span></span> 

1. <span data-ttu-id="b754f-169">När du har slutfört steg 1 – 4 i [Anslut till Azure Cosmos DB databasen](#connect), klickar du på **schemat Editor** i den **Azure Cosmos DB ODBC-drivrutinen DSN för** fönster.</span><span class="sxs-lookup"><span data-stu-id="b754f-169">After completing steps 1-4 in [Connect to your Azure Cosmos DB database](#connect), click **Schema Editor** in the **Azure Cosmos DB ODBC Driver DSN Setup** window.</span></span>

    ![Schemat editor-knapp i fönstret DSN inställningar för Azure Cosmos DB ODBC-drivrutin](./media/odbc-driver/odbc-driver-schema-editor.png)
2. <span data-ttu-id="b754f-171">I den **schemat Editor** -fönstret klickar du på **Skapa nytt**.</span><span class="sxs-lookup"><span data-stu-id="b754f-171">In the **Schema Editor** window, click **Create New**.</span></span>
    <span data-ttu-id="b754f-172">Den **generera schemat** fönstret visas alla samlingar i Azure DB som Cosmos-konto.</span><span class="sxs-lookup"><span data-stu-id="b754f-172">The **Generate Schema** window displays all the collections in the Azure Cosmos DB account.</span></span> 
3. <span data-ttu-id="b754f-173">Välj en eller flera samlingar till exempel och klicka sedan på **exempel**.</span><span class="sxs-lookup"><span data-stu-id="b754f-173">Select one or more collections to sample, and then click **Sample**.</span></span> 
4. <span data-ttu-id="b754f-174">I den **designvyn** fliken, databas, schema och tabellen representeras.</span><span class="sxs-lookup"><span data-stu-id="b754f-174">In the **Design View** tab, the database, schema, and table are represented.</span></span> <span data-ttu-id="b754f-175">I tabellvyn visar genomsökningen uppsättning egenskaper som är associerade med kolumnnamn (SQL-namn, namnet på datakällan, osv.).</span><span class="sxs-lookup"><span data-stu-id="b754f-175">In the table view, the scan displays the set of properties associated with the column names (SQL Name, Source Name, etc.).</span></span>
    <span data-ttu-id="b754f-176">För varje kolumn, kan du ändra kolumnnamnet för SQL, SQL-typ, SQL-längd (om tillämpligt), skala (om tillämpligt), Precision (om tillämpligt) och kan ha värdet null.</span><span class="sxs-lookup"><span data-stu-id="b754f-176">For each column, you can modify the column SQL name, the SQL type, SQL length (if applicable), Scale (if applicable), Precision (if applicable) and Nullable.</span></span>
    - <span data-ttu-id="b754f-177">Du kan ange **Dölj kolumn** till **SANT** om du vill utesluta kolumnen från frågeresultat.</span><span class="sxs-lookup"><span data-stu-id="b754f-177">You can set **Hide Column** to **true** if you want to exclude that column from query results.</span></span> <span data-ttu-id="b754f-178">Kolumner markerad Dölj kolumn = true returneras inte för val och projektion, även om de fortfarande är en del av schemat.</span><span class="sxs-lookup"><span data-stu-id="b754f-178">Columns marked Hide Column = true are not returned for selection and projection, although they are still part of the schema.</span></span> <span data-ttu-id="b754f-179">Du kan till exempel dölja alla Azure Cosmos DB krävs systemegenskaperna börjar med ”_”.</span><span class="sxs-lookup"><span data-stu-id="b754f-179">For example, you can hide all of the Azure Cosmos DB system required properties starting with “_”.</span></span>
    - <span data-ttu-id="b754f-180">Den **id** kolumn är det enda fält inte får vara dolda eftersom den används som primärnyckel i normaliserade schemat.</span><span class="sxs-lookup"><span data-stu-id="b754f-180">The **id** column is the only field that cannot be hidden as it is used as the primary key in the normalized schema.</span></span> 
5. <span data-ttu-id="b754f-181">När du har definierat schemat klickar du på **filen** | **spara**, gå till katalogen för att spara schemat och klicka sedan på **spara**.</span><span class="sxs-lookup"><span data-stu-id="b754f-181">Once you have finished defining the schema, click **File** | **Save**, navigate to the directory to save the schema, and then click **Save**.</span></span>

    <span data-ttu-id="b754f-182">Om du i framtiden vill använda det här schemat med en Datakälla öppna fönstret Azure Cosmos DB ODBC-drivrutinen DSN för (via ODBC Data Source Administrator), klicka på Avancerat och navigera till sparade schemat i rutan schemafilen.</span><span class="sxs-lookup"><span data-stu-id="b754f-182">If in the future you want to use this schema with a DSN, open the Azure Cosmos DB ODBC Driver DSN Setup window (via the ODBC Data Source Administrator), click Advanced Options, and then in the Schema File box, navigate to the saved schema.</span></span> <span data-ttu-id="b754f-183">En schemafil sparas till en befintlig DSN ändrar DSN-anslutningen till scope till data och struktur som definieras av schemat.</span><span class="sxs-lookup"><span data-stu-id="b754f-183">Saving a schema file to an existing DSN modifies the DSN connection to scope to the data and structure defined by schema.</span></span>

## <span data-ttu-id="b754f-184"><a id="table-mapping"></a>Steg 4: Skapa en schemadefinition med tabell-avgränsare mappning metod</span><span class="sxs-lookup"><span data-stu-id="b754f-184"><a id="table-mapping"></a>Step 4: Create a schema definition using the table-delimiters mapping method</span></span>

<span data-ttu-id="b754f-185">Det finns två typer av provtagningsmetoder som du kan använda: **samling mappning** eller **tabell avgränsare**.</span><span class="sxs-lookup"><span data-stu-id="b754f-185">There are two types of sampling methods that you can use: **collection mapping** or **table-delimiters**.</span></span> <span data-ttu-id="b754f-186">En provtagning session kan använda båda provtagningsmetoderna, men varje samling kan bara använda en specifik urvalsmetoden.</span><span class="sxs-lookup"><span data-stu-id="b754f-186">A sampling session can utilize both sampling methods, but each collection can only use a specific sampling method.</span></span> 

<span data-ttu-id="b754f-187">Följande steg att skapa ett schema för data i en eller flera samlingar med hjälp av den **tabell avgränsare** mappning av metoden.</span><span class="sxs-lookup"><span data-stu-id="b754f-187">The following steps create a schema for the data in one or more collections using the **table-delimiters** mapping method.</span></span> <span data-ttu-id="b754f-188">Vi rekommenderar att du använder den här provtagningsmetoden när samlingar innehåller heterogena typ av data.</span><span class="sxs-lookup"><span data-stu-id="b754f-188">We recommend that you use this sampling method when your collections contain heterogeneous type of data.</span></span> <span data-ttu-id="b754f-189">Du kan använda den här metoden för att begränsa beräkningarna till en uppsättning attribut och dess motsvarande värden.</span><span class="sxs-lookup"><span data-stu-id="b754f-189">You can use this method to scope the sampling to a set of attributes and its corresponding values.</span></span> <span data-ttu-id="b754f-190">Om ett dokument innehåller en egenskap för ”typ”, kan du definiera beräkningarna till värden i den här egenskapen.</span><span class="sxs-lookup"><span data-stu-id="b754f-190">For example, if a document contains a “Type” property, you can scope the sampling to the values of this property.</span></span> <span data-ttu-id="b754f-191">Slutresultatet för provtagning är en uppsättning tabeller för alla värden för typ som du har angett.</span><span class="sxs-lookup"><span data-stu-id="b754f-191">The end result of the sampling would be a set of tables for each of the values for Type you have specified.</span></span> <span data-ttu-id="b754f-192">Skriv till exempel = bil genererar en bil tabell vid typ = plan skulle skapa en plan tabell.</span><span class="sxs-lookup"><span data-stu-id="b754f-192">For example, Type = Car will produce a Car table while Type = Plane would produce a Plane table.</span></span>

1. <span data-ttu-id="b754f-193">När du har slutfört steg 1 – 4 i [Anslut till Azure Cosmos DB databasen](#connect), klickar du på **schemat redigeraren** i fönstret DSN installationsprogram för Azure Cosmos DB ODBC-drivrutinen.</span><span class="sxs-lookup"><span data-stu-id="b754f-193">After completing steps 1-4 in [Connect to your Azure Cosmos DB database](#connect), click **Schema Editor** in the Azure Cosmos DB ODBC Driver DSN Setup window.</span></span>
2. <span data-ttu-id="b754f-194">I den **schemat Editor** -fönstret klickar du på **Skapa nytt**.</span><span class="sxs-lookup"><span data-stu-id="b754f-194">In the **Schema Editor** window, click **Create New**.</span></span>
    <span data-ttu-id="b754f-195">Den **generera schemat** fönstret visas alla samlingar i Azure DB som Cosmos-konto.</span><span class="sxs-lookup"><span data-stu-id="b754f-195">The **Generate Schema** window displays all the collections in the Azure Cosmos DB account.</span></span> 
3. <span data-ttu-id="b754f-196">Markera en samling på den **Exempelvyn** fliken den **definitionen mappning** för samlingen, klickar du på **redigera**.</span><span class="sxs-lookup"><span data-stu-id="b754f-196">Select a collection on the **Sample View** tab, in the **Mapping Definition** column for the collection, click **Edit**.</span></span> <span data-ttu-id="b754f-197">I den **definitionen mappning** väljer **tabell avgränsare** metod.</span><span class="sxs-lookup"><span data-stu-id="b754f-197">Then in the **Mapping Definition** window, select **Table Delimiters** method.</span></span> <span data-ttu-id="b754f-198">Gör något av följande:</span><span class="sxs-lookup"><span data-stu-id="b754f-198">Then do the following:</span></span>

    <span data-ttu-id="b754f-199">a.</span><span class="sxs-lookup"><span data-stu-id="b754f-199">a.</span></span> <span data-ttu-id="b754f-200">I den **attribut** skriver namnet på en egenskap som avgränsare.</span><span class="sxs-lookup"><span data-stu-id="b754f-200">In the **Attributes** box, type the name of a delimiter property.</span></span> <span data-ttu-id="b754f-201">Detta är en egenskap i dokumentet som du vill omfång provtagning till exempelvis ort och tryck på RETUR.</span><span class="sxs-lookup"><span data-stu-id="b754f-201">This is a property in your document that you want to scope the sampling to, for instance, City and press enter.</span></span> 

    <span data-ttu-id="b754f-202">b.</span><span class="sxs-lookup"><span data-stu-id="b754f-202">b.</span></span> <span data-ttu-id="b754f-203">Välj attributet i rutan om du bara vill omfång provtagning till vissa värden för attributet som du angav och ange ett värde i den **värdet** rutan, till exempel Seattle och tryck på RETUR.</span><span class="sxs-lookup"><span data-stu-id="b754f-203">If you only want to scope the sampling to certain values for the attribute you just entered, select the attribute in the selection box, then enter a value in the **Value** box, for example, Seattle and press enter.</span></span> <span data-ttu-id="b754f-204">Du kan fortsätta att lägga till flera värden för attributen.</span><span class="sxs-lookup"><span data-stu-id="b754f-204">You can continue to add multiple values for attributes.</span></span> <span data-ttu-id="b754f-205">Se bara till att rätt attributet aktiveras när du anger värden.</span><span class="sxs-lookup"><span data-stu-id="b754f-205">Just ensure that the correct attribute is selected when you're entering values.</span></span>

    <span data-ttu-id="b754f-206">Om du inkluderar exempelvis en **attribut** värdet av ort, och du vill begränsa din tabell om du vill inkludera endast rader med ett värde för ort i New York och Dubai, anger du stad i rutan attribut, och New York och sedan Dubai i den **värden** rutan.</span><span class="sxs-lookup"><span data-stu-id="b754f-206">For example, if you include an **Attributes** value of City, and you want to limit your table to only include rows with a city value of New York and Dubai, you would enter City in the Attributes box, and New York and then Dubai in the **Values** box.</span></span>
4. <span data-ttu-id="b754f-207">Klicka på **OK**.</span><span class="sxs-lookup"><span data-stu-id="b754f-207">Click **OK**.</span></span> 
5. <span data-ttu-id="b754f-208">När du har slutfört mappning definitioner för samlingarna du vill prova i den **schemat Editor** -fönstret klickar du på **exempel**.</span><span class="sxs-lookup"><span data-stu-id="b754f-208">After completing the mapping definitions for the collections you want to sample, in the **Schema Editor** window, click **Sample**.</span></span>
     <span data-ttu-id="b754f-209">För varje kolumn, kan du ändra kolumnnamnet för SQL, SQL-typ, SQL-längd (om tillämpligt), skala (om tillämpligt), Precision (om tillämpligt) och kan ha värdet null.</span><span class="sxs-lookup"><span data-stu-id="b754f-209">For each column, you can modify the column SQL name, the SQL type, SQL length (if applicable), Scale (if applicable), Precision (if applicable) and Nullable.</span></span>
    - <span data-ttu-id="b754f-210">Du kan ange **Dölj kolumn** till **SANT** om du vill utesluta kolumnen från frågeresultat.</span><span class="sxs-lookup"><span data-stu-id="b754f-210">You can set **Hide Column** to **true** if you want to exclude that column from query results.</span></span> <span data-ttu-id="b754f-211">Kolumner markerad Dölj kolumn = true returneras inte för val och projektion, även om de fortfarande är en del av schemat.</span><span class="sxs-lookup"><span data-stu-id="b754f-211">Columns marked Hide Column = true are not returned for selection and projection, although they are still part of the schema.</span></span> <span data-ttu-id="b754f-212">Du kan till exempel dölja alla Azure Cosmos DB krävs systemegenskaperna börjar med ”_”.</span><span class="sxs-lookup"><span data-stu-id="b754f-212">For example, you can hide all the Azure Cosmos DB system required properties starting with “_”.</span></span>
    - <span data-ttu-id="b754f-213">Den **id** kolumn är det enda fält inte får vara dolda eftersom den används som primärnyckel i normaliserade schemat.</span><span class="sxs-lookup"><span data-stu-id="b754f-213">The **id** column is the only field that cannot be hidden as it is used as the primary key in the normalized schema.</span></span> 
6. <span data-ttu-id="b754f-214">När du har definierat schemat klickar du på **filen** | **spara**, gå till katalogen för att spara schemat och klicka sedan på **spara**.</span><span class="sxs-lookup"><span data-stu-id="b754f-214">Once you have finished defining the schema, click **File** | **Save**, navigate to the directory to save the schema, and then click **Save**.</span></span>
7. <span data-ttu-id="b754f-215">I den **Azure Cosmos DB ODBC-drivrutinen DSN för** -fönstret klickar du på ** Avancerade alternativ **.</span><span class="sxs-lookup"><span data-stu-id="b754f-215">Back in the **Azure Cosmos DB ODBC Driver DSN Setup** window, click ** Advanced Options**.</span></span> <span data-ttu-id="b754f-216">I den **schemafilen** , navigera till den sparade schemafilen och klicka **OK**.</span><span class="sxs-lookup"><span data-stu-id="b754f-216">Then, in the **Schema File** box, navigate to the saved schema file and click **OK**.</span></span> <span data-ttu-id="b754f-217">Klicka på **OK** igen för att spara det DSN-namnet.</span><span class="sxs-lookup"><span data-stu-id="b754f-217">Click **OK** again to save the DSN.</span></span> <span data-ttu-id="b754f-218">Detta sparar det schema som du skapade det DSN-namnet.</span><span class="sxs-lookup"><span data-stu-id="b754f-218">This saves the schema you created to the DSN.</span></span> 

## <a name="optional-creating-views"></a><span data-ttu-id="b754f-219">(Valfritt) Skapa vyer</span><span class="sxs-lookup"><span data-stu-id="b754f-219">(Optional) Creating views</span></span>
<span data-ttu-id="b754f-220">Du kan definiera och skapa vyer som en del av processen provtagning.</span><span class="sxs-lookup"><span data-stu-id="b754f-220">You can define and create views as part of the sampling process.</span></span> <span data-ttu-id="b754f-221">Dessa vyer är likvärdiga med SQL-vyer.</span><span class="sxs-lookup"><span data-stu-id="b754f-221">These views are equivalent to SQL views.</span></span> <span data-ttu-id="b754f-222">De är skrivskyddade och scope valen och projektioner av Azure Cosmos-Databasens SQL definieras.</span><span class="sxs-lookup"><span data-stu-id="b754f-222">They are read-only and are scope the selections and projections of the Azure Cosmos DB SQL defined.</span></span> 

<span data-ttu-id="b754f-223">Du skapar en vy för dina data i den **schemat Editor** fönster i den **vydefinitioner** kolumnen, klickar du på **Lägg till** på raden i samlingen till exempel.</span><span class="sxs-lookup"><span data-stu-id="b754f-223">To create a view for your data, in the **Schema Editor** window, in the **View Definitions** column, click **Add** on the row of the collection to sample.</span></span> <span data-ttu-id="b754f-224">I den **vydefinitioner** fönster, gör du följande:</span><span class="sxs-lookup"><span data-stu-id="b754f-224">Then in the **View Definitions** window, do the following:</span></span>
1. <span data-ttu-id="b754f-225">Klicka på **ny**, ange ett namn för vyn, till exempel EmployeesfromSeattleView och klicka sedan på **OK**.</span><span class="sxs-lookup"><span data-stu-id="b754f-225">Click **New**, enter a name for the view, for example, EmployeesfromSeattleView and then click **OK**.</span></span>
2. <span data-ttu-id="b754f-226">I den **Redigera vy** och ange en Azure Cosmos DB-fråga.</span><span class="sxs-lookup"><span data-stu-id="b754f-226">In the **Edit view** window, enter an Azure Cosmos DB query.</span></span> <span data-ttu-id="b754f-227">Detta måste vara en Azure Cosmos-Databasens SQL-fråga, till exempel`SELECT c.City, c.EmployeeName, c.Level, c.Age, c.Gender, c.Manager FROM c WHERE c.City = “Seattle”`, och klicka sedan på **OK**.</span><span class="sxs-lookup"><span data-stu-id="b754f-227">This must be an Azure Cosmos DB SQL query, for example`SELECT c.City, c.EmployeeName, c.Level, c.Age, c.Gender, c.Manager FROM c WHERE c.City = “Seattle”`, and then click **OK**.</span></span>

<span data-ttu-id="b754f-228">Du kan skapa flera vyer som du vill.</span><span class="sxs-lookup"><span data-stu-id="b754f-228">You can create a many views as you like.</span></span> <span data-ttu-id="b754f-229">När du är klar definierar vyerna som du kan sedan ta prov data.</span><span class="sxs-lookup"><span data-stu-id="b754f-229">Once you are done defining the views, you can then sample the data.</span></span> 

## <a name="step-5-view-your-data-in-bi-tools-such-as-power-bi-desktop"></a><span data-ttu-id="b754f-230">Steg 5: Visa dina data i BI-verktyg som Power BI Desktop</span><span class="sxs-lookup"><span data-stu-id="b754f-230">Step 5: View your data in BI tools such as Power BI Desktop</span></span>

<span data-ttu-id="b754f-231">Du kan använda din nya DSN för att ansluta DocumentADB med verktyg som ODBC-kompatibel – det här steget bara visar hur du ansluter till Power BI Desktop och skapa en Power BI-visualisering.</span><span class="sxs-lookup"><span data-stu-id="b754f-231">You can use your new DSN to connect DocumentADB with any ODBC-compliant tools - this step simply shows you how to connect to Power BI Desktop and create a Power BI visualization.</span></span>

1. <span data-ttu-id="b754f-232">Öppna Power BI Desktop.</span><span class="sxs-lookup"><span data-stu-id="b754f-232">Open Power BI Desktop.</span></span>
2. <span data-ttu-id="b754f-233">Klicka på **hämta Data**.</span><span class="sxs-lookup"><span data-stu-id="b754f-233">Click **Get Data**.</span></span>
3. <span data-ttu-id="b754f-234">I den **hämta Data** -fönstret klickar du på **andra** | **ODBC** | **Anslut**.</span><span class="sxs-lookup"><span data-stu-id="b754f-234">In the **Get Data** window, click **Other** | **ODBC** | **Connect**.</span></span>
4. <span data-ttu-id="b754f-235">I den **från ODBC** väljer du datakällan servernamnet du skapat och klicka sedan på **OK**.</span><span class="sxs-lookup"><span data-stu-id="b754f-235">In the **From ODBC** window, select the data source name you created, and then click **OK**.</span></span> <span data-ttu-id="b754f-236">Du kan lämna den **avancerade alternativ** poster som är tom.</span><span class="sxs-lookup"><span data-stu-id="b754f-236">You can leave the **Advanced Options** entries blank.</span></span>
5. <span data-ttu-id="b754f-237">I den **åtkomst till en datakälla med hjälp av en ODBC-drivrutin** väljer **standard eller anpassad** och klicka sedan på **Anslut**.</span><span class="sxs-lookup"><span data-stu-id="b754f-237">In the **Access a data source using an ODBC driver** window, select **Default or Custom** and then click **Connect**.</span></span> <span data-ttu-id="b754f-238">Du behöver inte inkludera den **autentiseringsuppgifter anslutningssträngsegenskaper**.</span><span class="sxs-lookup"><span data-stu-id="b754f-238">You do not need to include the **Credential connection string properties**.</span></span>
6. <span data-ttu-id="b754f-239">I den **Navigator** i den vänstra rutan i fönstret expanderar du databasen, schemat, och välj tabellen.</span><span class="sxs-lookup"><span data-stu-id="b754f-239">In the **Navigator** window, in the left pane, expand the database, the schema, and then select the table.</span></span> <span data-ttu-id="b754f-240">Resultatfönstret innehåller data med det schema som du skapade.</span><span class="sxs-lookup"><span data-stu-id="b754f-240">The results pane includes the data using the schema you created.</span></span>
7. <span data-ttu-id="b754f-241">Om du vill visualisera data i Power BI desktop kryssrutan framför tabellnamnet och klicka sedan på **belastningen**.</span><span class="sxs-lookup"><span data-stu-id="b754f-241">To visualize the data in Power BI desktop, check the box in front of the table name, and then click **Load**.</span></span>
8. <span data-ttu-id="b754f-242">I Power BI Desktop längst till vänster, klicka på fliken Data</span><span class="sxs-lookup"><span data-stu-id="b754f-242">In Power BI Desktop, on the far left, select the Data tab</span></span> ![Datafliken i Power BI Desktop](./media/odbc-driver/odbc-driver-data-tab.png) <span data-ttu-id="b754f-244">Bekräfta dina data importerades.</span><span class="sxs-lookup"><span data-stu-id="b754f-244">to confirm your data was imported.</span></span>
9. <span data-ttu-id="b754f-245">Du kan nu skapa grafer med Power BI genom att klicka på fliken rapport ![fliken rapport i Power BI Desktop](./media/odbc-driver/odbc-driver-report-tab.png), klicka på **nya Visual**, och anpassa din panel.</span><span class="sxs-lookup"><span data-stu-id="b754f-245">You can now create visuals using Power BI by clicking on the Report tab ![Report tab in Power BI Desktop](./media/odbc-driver/odbc-driver-report-tab.png), clicking **New Visual**, and then customizing your tile.</span></span> <span data-ttu-id="b754f-246">Mer information om hur du skapar visualiseringar i Power BI Desktop finns [visualiseringstyper i Power BI](https://powerbi.microsoft.com/documentation/powerbi-service-visualization-types-for-reports-and-q-and-a/).</span><span class="sxs-lookup"><span data-stu-id="b754f-246">For more information about creating visualizations in Power BI Desktop, see [Visualization types in Power BI](https://powerbi.microsoft.com/documentation/powerbi-service-visualization-types-for-reports-and-q-and-a/).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="b754f-247">Felsökning</span><span class="sxs-lookup"><span data-stu-id="b754f-247">Troubleshooting</span></span>

<span data-ttu-id="b754f-248">Om du får följande fel, se till att den **värden** och **åtkomstnyckeln** värden som du kopierade i Azure portal [steg 2](#connect) är korrekta och försök sedan igen.</span><span class="sxs-lookup"><span data-stu-id="b754f-248">If you receive the following error, ensure the **Host** and **Access Key** values you copied the Azure portal in [Step 2](#connect) are correct and then retry.</span></span> <span data-ttu-id="b754f-249">Använd knapparna kopiera till höger om den **värden** och **åtkomstnyckeln** värden i Azure portal för att kopiera värdena felfritt.</span><span class="sxs-lookup"><span data-stu-id="b754f-249">Use the copy buttons to the right of the **Host** and **Access Key** values in the Azure portal to copy the values error free.</span></span>

    [HY000]: [Microsoft][Azure Cosmos DB] (401) HTTP 401 Authentication Error: {"code":"Unauthorized","message":"The input authorization token can't serve the request. Please check that the expected payload is built as per the protocol, and check the key being used. Server used the following payload to sign: 'get\ndbs\n\nfri, 20 jan 2017 03:43:55 gmt\n\n'\r\nActivityId: 9acb3c0d-cb31-4b78-ac0a-413c8d33e373"}`

## <a name="next-steps"></a><span data-ttu-id="b754f-250">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="b754f-250">Next steps</span></span>

<span data-ttu-id="b754f-251">Läs mer om Azure Cosmos DB i [vad är Azure Cosmos DB?](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="b754f-251">To learn more about Azure Cosmos DB, see [What is Azure Cosmos DB?](introduction.md).</span></span>
