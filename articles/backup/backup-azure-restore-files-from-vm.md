---
title: "Azure-säkerhetskopiering: Återställa filer och mappar från en virtuell dator i Azure-säkerhetskopiering | Microsoft Docs"
description: "Återställa filer från en återställningspunkt för virtuell Azure-dator"
services: backup
documentationcenter: dev-center-name
author: pvrk
manager: shivamg
keywords: "återställning på objektnivå; filåterställning från Virtuella Azure-säkerhetskopia. återställa filer från Azure VM"
ms.assetid: f1c067a2-4826-4da4-b97a-c5fd6c189a77
ms.service: backup
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 07/20/2017
ms.author: pullabhk;markgal
ms.openlocfilehash: 1a62a0ed83d61272c032ac0377a54099ed118db4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="recover-files-from-azure-virtual-machine-backup"></a><span data-ttu-id="87489-104">Återställa filer från en säkerhetskopia av virtuell Azure-dator</span><span class="sxs-lookup"><span data-stu-id="87489-104">Recover files from Azure virtual machine backup</span></span>

<span data-ttu-id="87489-105">Azure backup är hello kapaciteten toorestore [virtuella Azure-datorer och diskar](./backup-azure-arm-restore-vms.md) från Virtuella Azure-säkerhetskopieringar.</span><span class="sxs-lookup"><span data-stu-id="87489-105">Azure backup provides hello capability toorestore [Azure VMs and disks](./backup-azure-arm-restore-vms.md) from Azure VM backups.</span></span> <span data-ttu-id="87489-106">Nu den här artikeln förklarar hur du kan återställa objekt, till exempel filer och mappar från en virtuell dator i Azure-säkerhetskopiering.</span><span class="sxs-lookup"><span data-stu-id="87489-106">Now this article explains how you can recover items such as files and folders from an Azure VM backup.</span></span>

> [!Note]
> <span data-ttu-id="87489-107">Den här funktionen är tillgänglig för Azure virtuella datorer som distribueras med hjälp av hello Resource Manager-modellen och skyddade tooa Recovery services-valvet.</span><span class="sxs-lookup"><span data-stu-id="87489-107">This feature is available for Azure VMs deployed using hello Resource Manager model and protected tooa Recovery services vault.</span></span>
> <span data-ttu-id="87489-108">Filåterställning från en krypterad säkerhetskopiering av VM stöds inte.</span><span class="sxs-lookup"><span data-stu-id="87489-108">File recovery from an encrypted VM backup is not supported.</span></span>
>

## <a name="mount-hello-volume-and-copy-files"></a><span data-ttu-id="87489-109">Montera hello volym och kopiera filer</span><span class="sxs-lookup"><span data-stu-id="87489-109">Mount hello volume and copy files</span></span>

1. <span data-ttu-id="87489-110">Logga in på hello [Azure-portalen](http://portal.Azure.com).</span><span class="sxs-lookup"><span data-stu-id="87489-110">Sign into hello [Azure portal](http://portal.Azure.com).</span></span> <span data-ttu-id="87489-111">Hitta hello relevanta Recovery services-valvet och hello krävs Säkerhetskopiera objekt.</span><span class="sxs-lookup"><span data-stu-id="87489-111">Find hello relevant Recovery services vault and hello required backup item.</span></span>

2. <span data-ttu-id="87489-112">Klicka på hello säkerhetskopieringsobjektet bladet **filåterställning**</span><span class="sxs-lookup"><span data-stu-id="87489-112">On hello Backup Item blade, click **File Recovery**</span></span>

    ![Öppna Recovery Services-valvet Säkerhetskopiera objekt](./media/backup-azure-restore-files-from-vm/open-vault-item.png)

    <span data-ttu-id="87489-114">Hej **filåterställning** blad öppnas.</span><span class="sxs-lookup"><span data-stu-id="87489-114">hello **File Recovery** blade opens.</span></span>

    ![Filen recovery bladet](./media/backup-azure-restore-files-from-vm/file-recovery-blade.png)

3. <span data-ttu-id="87489-116">Från hello **Välj återställningspunkt** nedrullningsbara menyn, Välj hello återställningspunkt som innehåller hello filer du vill.</span><span class="sxs-lookup"><span data-stu-id="87489-116">From hello **Select recovery point** drop-down menu, select hello recovery point that contains hello files you want.</span></span> <span data-ttu-id="87489-117">Hello senaste återställningspunkten har redan valts som standard.</span><span class="sxs-lookup"><span data-stu-id="87489-117">By default, hello latest recovery point is already selected.</span></span>

4. <span data-ttu-id="87489-118">Klicka på **hämta körbara** (för Windows Azure VM) eller **hämta skriptet** (för Linux virtuella Azure-datorn) toodownload hello programvara när du ska använda toocopy filer från hello återställningspunkt.</span><span class="sxs-lookup"><span data-stu-id="87489-118">Click **Download Executable** (for Windows Azure VM) or **Download Script** (for Linux Azure VM) toodownload hello software that you'll use toocopy files from hello recovery point.</span></span>

  <span data-ttu-id="87489-119">hello körbara filer eller skript skapar en anslutning mellan hello lokala datorn och hello angetts återställningspunkt.</span><span class="sxs-lookup"><span data-stu-id="87489-119">hello executable/script creates a connection between hello local computer and hello specified recovery point.</span></span>

5. <span data-ttu-id="87489-120">Du behöver en lösenord toorun hello hämtat skriptet/körbar fil.</span><span class="sxs-lookup"><span data-stu-id="87489-120">You need a password toorun hello downloaded script/executable.</span></span> <span data-ttu-id="87489-121">Du kan kopiera hello lösenord från hello-portalen med hello kopieringsknappen bredvid hello genereras lösenord</span><span class="sxs-lookup"><span data-stu-id="87489-121">You can copy hello password from hello portal using hello copy button beside hello generated password</span></span>

    ![Genererat lösenord](./media/backup-azure-restore-files-from-vm/generated-pswd.png)

6. <span data-ttu-id="87489-123">Kör hello körbara filer eller skript på hello datorn där du vill att toorecover hello filer.</span><span class="sxs-lookup"><span data-stu-id="87489-123">On hello computer where you want toorecover hello files, run hello executable/script.</span></span> <span data-ttu-id="87489-124">Du måste köra den med administratörsbehörighet.</span><span class="sxs-lookup"><span data-stu-id="87489-124">You must run it with Administrator credentials.</span></span> <span data-ttu-id="87489-125">Om du kör hello skript på en dator med begränsad åtkomst, se till att det finns åtkomst till:</span><span class="sxs-lookup"><span data-stu-id="87489-125">If you run hello script on a computer with restricted access, ensure there is access to:</span></span>

    - <span data-ttu-id="87489-126">Download.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="87489-126">download.microsoft.com</span></span>
    - <span data-ttu-id="87489-127">Azure-slutpunkter som används för Virtuella Azure-säkerhetskopieringar</span><span class="sxs-lookup"><span data-stu-id="87489-127">Azure endpoints used for Azure VM backups</span></span>
    - <span data-ttu-id="87489-128">utgående port 3260</span><span class="sxs-lookup"><span data-stu-id="87489-128">outbound port 3260</span></span>

   <span data-ttu-id="87489-129">För Linux hello skriptet kräver 'Öppna iscsi' och 'lshw' tooconnect toohello återställningspunkt.</span><span class="sxs-lookup"><span data-stu-id="87489-129">For Linux, hello script requires 'open-iscsi' and 'lshw' components tooconnect toohello recovery point.</span></span> <span data-ttu-id="87489-130">Om de inte finns på hello datorn där den körs, begär behörighet tooinstall hello relevanta komponenter och installerar dem på medgivande.</span><span class="sxs-lookup"><span data-stu-id="87489-130">If those do not exist on hello machine where it is run, it asks for permission tooinstall hello relevant components and installs them upon consent.</span></span>
   
   <span data-ttu-id="87489-131">Ange hello lösenord kopieras från hello portal när du tillfrågas.</span><span class="sxs-lookup"><span data-stu-id="87489-131">Enter hello password copied from hello portal when prompted.</span></span> <span data-ttu-id="87489-132">När du har angett hello giltigt lösenord ansluter hello skript toohello återställningspunkt.</span><span class="sxs-lookup"><span data-stu-id="87489-132">Once hello valid password is entered hello scripts connects toohello recovery point.</span></span>
      
    ![Filen recovery bladet](./media/backup-azure-restore-files-from-vm/executable-output.png)
    
   
   <span data-ttu-id="87489-134">Du kan köra hello skript på en dator som har operativsystemet hello samma (eller kompatibla) som hello säkerhetskopierade VM.</span><span class="sxs-lookup"><span data-stu-id="87489-134">You can run hello script on any machine that has hello same (or compatible) operating system as hello backed-up VM.</span></span> <span data-ttu-id="87489-135">Se hello [kompatibel OS tabell](backup-azure-restore-files-from-vm.md#compatible-os) för kompatibla operativsystem.</span><span class="sxs-lookup"><span data-stu-id="87489-135">See hello [Compatible OS table](backup-azure-restore-files-from-vm.md#compatible-os) for compatible operating systems.</span></span> <span data-ttu-id="87489-136">Om hello skyddade virtuella Azure hello datorn använder lagringsutrymmen för Windows (för Windows Azure VM: ar) eller LVM/RAID Arrays(for Linux VMs) och du inte kan köra hello körbara filer eller skript på samma virtuella dator.</span><span class="sxs-lookup"><span data-stu-id="87489-136">If hello protected Azure virtual machine uses Windows Storage Spaces (for Windows Azure VMs) or LVM/RAID Arrays(for Linux VMs), then you can't run hello executable/script on hello same virtual machine.</span></span> <span data-ttu-id="87489-137">I stället köra den på en dator med ett kompatibelt operativsystem.</span><span class="sxs-lookup"><span data-stu-id="87489-137">Instead, run it on any other machine with a compatible operating system.</span></span>

### <a name="compatible-os"></a><span data-ttu-id="87489-138">Kompatibel OS</span><span class="sxs-lookup"><span data-stu-id="87489-138">Compatible OS</span></span>

#### <a name="for-windows"></a><span data-ttu-id="87489-139">För Windows</span><span class="sxs-lookup"><span data-stu-id="87489-139">For Windows</span></span>

<span data-ttu-id="87489-140">följande tabell visar hello kompatibilitet mellan servern och datorn operativsystem hello.</span><span class="sxs-lookup"><span data-stu-id="87489-140">hello following table shows hello compatibility between server and computer operating systems.</span></span> <span data-ttu-id="87489-141">När du återställer filer, kan du återställa filer mellan inkompatibla operativsystem.</span><span class="sxs-lookup"><span data-stu-id="87489-141">When recovering files, you can't restore files between incompatible operating systems.</span></span>

|<span data-ttu-id="87489-142">Server-OS</span><span class="sxs-lookup"><span data-stu-id="87489-142">Server OS</span></span> | <span data-ttu-id="87489-143">Kompatibel klient-OS</span><span class="sxs-lookup"><span data-stu-id="87489-143">Compatible client OS</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="87489-144">Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="87489-144">Windows Server 2012 R2</span></span> | <span data-ttu-id="87489-145">Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="87489-145">Windows 8.1</span></span> |
| <span data-ttu-id="87489-146">Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="87489-146">Windows Server 2012</span></span>    | <span data-ttu-id="87489-147">Windows 8</span><span class="sxs-lookup"><span data-stu-id="87489-147">Windows 8</span></span>  |
| <span data-ttu-id="87489-148">Windows Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="87489-148">Windows Server 2008 R2</span></span> | <span data-ttu-id="87489-149">Windows 7</span><span class="sxs-lookup"><span data-stu-id="87489-149">Windows 7</span></span>   |

#### <a name="for-linux"></a><span data-ttu-id="87489-150">För Linux</span><span class="sxs-lookup"><span data-stu-id="87489-150">For Linux</span></span>

<span data-ttu-id="87489-151">I Linux, hello grundläggande krav är att hello OS av hello dator där hello skript körs ska ha stöd för hello filsystem för hello filer som finns i hello säkerhetskopierade Linux VM.</span><span class="sxs-lookup"><span data-stu-id="87489-151">In Linux, hello fundamental requirement is that hello OS of hello machine where hello script is run should support hello filesystem of hello files present in hello backed-up Linux VM.</span></span> <span data-ttu-id="87489-152">När du väljer ett skript för dator toorun hello, ska du kontrollera att den har hello kompatibla operativsystem och hello-versioner som anges i hello nedan.</span><span class="sxs-lookup"><span data-stu-id="87489-152">While selecting a machine toorun hello script, please ensure it has hello compatible OS and hello versions as mentioned in hello table below.</span></span>

|<span data-ttu-id="87489-153">Linux OS</span><span class="sxs-lookup"><span data-stu-id="87489-153">Linux OS</span></span> | <span data-ttu-id="87489-154">Versioner</span><span class="sxs-lookup"><span data-stu-id="87489-154">Versions</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="87489-155">Ubuntu</span><span class="sxs-lookup"><span data-stu-id="87489-155">Ubuntu</span></span> | <span data-ttu-id="87489-156">12.04 och senare</span><span class="sxs-lookup"><span data-stu-id="87489-156">12.04 and above</span></span> |
| <span data-ttu-id="87489-157">CentOS</span><span class="sxs-lookup"><span data-stu-id="87489-157">CentOS</span></span> | <span data-ttu-id="87489-158">6.5 och senare</span><span class="sxs-lookup"><span data-stu-id="87489-158">6.5 and above</span></span>  |
| <span data-ttu-id="87489-159">RHEL</span><span class="sxs-lookup"><span data-stu-id="87489-159">RHEL</span></span> | <span data-ttu-id="87489-160">6.7 och senare</span><span class="sxs-lookup"><span data-stu-id="87489-160">6.7 and above</span></span> |
| <span data-ttu-id="87489-161">Debian</span><span class="sxs-lookup"><span data-stu-id="87489-161">Debian</span></span> | <span data-ttu-id="87489-162">7 och senare</span><span class="sxs-lookup"><span data-stu-id="87489-162">7 and above</span></span> |
| <span data-ttu-id="87489-163">Oracle Linux</span><span class="sxs-lookup"><span data-stu-id="87489-163">Oracle Linux</span></span> | <span data-ttu-id="87489-164">6.4 och senare</span><span class="sxs-lookup"><span data-stu-id="87489-164">6.4 and above</span></span> |

<span data-ttu-id="87489-165">hello skriptet kräver python och bash komponenter tooexecute också och på ett säkert sätt ansluta toohello återställningspunkt.</span><span class="sxs-lookup"><span data-stu-id="87489-165">hello script also requires python and bash components tooexecute and connect securely toohello recovery point.</span></span>

|<span data-ttu-id="87489-166">Komponent</span><span class="sxs-lookup"><span data-stu-id="87489-166">Component</span></span> | <span data-ttu-id="87489-167">Version</span><span class="sxs-lookup"><span data-stu-id="87489-167">Version</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="87489-168">Bash</span><span class="sxs-lookup"><span data-stu-id="87489-168">bash</span></span> | <span data-ttu-id="87489-169">4 och senare</span><span class="sxs-lookup"><span data-stu-id="87489-169">4 and above</span></span> |
| <span data-ttu-id="87489-170">python</span><span class="sxs-lookup"><span data-stu-id="87489-170">python</span></span> | <span data-ttu-id="87489-171">2.6.6 och senare</span><span class="sxs-lookup"><span data-stu-id="87489-171">2.6.6 and above</span></span>  |


### <a name="identifying-volumes"></a><span data-ttu-id="87489-172">Identifiera volymer</span><span class="sxs-lookup"><span data-stu-id="87489-172">Identifying Volumes</span></span>

#### <a name="for-windows"></a><span data-ttu-id="87489-173">För Windows</span><span class="sxs-lookup"><span data-stu-id="87489-173">For Windows</span></span>

<span data-ttu-id="87489-174">När du kör hello exectuable hello operativsystemet monterar hello nya volymer och tilldelar enhetsbeteckningar.</span><span class="sxs-lookup"><span data-stu-id="87489-174">When you run hello exectuable, hello operating system mounts hello new volumes and assigns drive letters.</span></span> <span data-ttu-id="87489-175">Du kan använda Utforskaren eller Utforskaren toobrowse dessa enheter.</span><span class="sxs-lookup"><span data-stu-id="87489-175">You can use Windows Explorer or File Explorer toobrowse those drives.</span></span> <span data-ttu-id="87489-176">hello kanske enhetsbeteckningar toohello volymer inte hello hello den ursprungliga virtuella datorn men hello volymnamn samma bokstäver har bevarats.</span><span class="sxs-lookup"><span data-stu-id="87489-176">hello drive letters assigned toohello volumes may not be hello same letters as hello original virtual machine, however, hello volume name is preserved.</span></span> <span data-ttu-id="87489-177">Till exempel om hello volym på hello ursprungliga virtuella datorn har ”datadisk (E:\)”, att volymen kan kopplas till ”datadisk ('Vilken enhetsbeteckning som är tillgängliga':\) på hello lokala datorn.</span><span class="sxs-lookup"><span data-stu-id="87489-177">For example, if hello volume on hello original virtual machine was “Data Disk (E:\)”, that volume can be attached as “Data Disk ('Any drive letter available':\) on hello local computer.</span></span> <span data-ttu-id="87489-178">Bläddra igenom alla volymer som nämns i utdata för hello skriptet tills du hittar din mappen.</span><span class="sxs-lookup"><span data-stu-id="87489-178">Browse through all volumes mentioned in hello script output until you find your files/folder.</span></span>  
       
   ![Filen recovery bladet](./media/backup-azure-restore-files-from-vm/volumes-attached.png)
           
#### <a name="for-linux"></a><span data-ttu-id="87489-180">För Linux</span><span class="sxs-lookup"><span data-stu-id="87489-180">For Linux</span></span>

<span data-ttu-id="87489-181">I Linux är hello volymer hello återställningspunkt monterade toohello mappen där hello skript körs.</span><span class="sxs-lookup"><span data-stu-id="87489-181">In Linux, hello volumes of hello recovery point are mounted toohello folder where hello script is run.</span></span> <span data-ttu-id="87489-182">hello anslutna diskar, volymer och hello motsvarande montera sökvägar visas därför.</span><span class="sxs-lookup"><span data-stu-id="87489-182">hello attached disks, volumes and hello corresponding mount paths are shown accordingly.</span></span> <span data-ttu-id="87489-183">Dessa montera sökvägar är synliga toousers med roten åtkomst.</span><span class="sxs-lookup"><span data-stu-id="87489-183">These mount paths are visible toousers having root level access.</span></span> <span data-ttu-id="87489-184">Bläddra igenom hello volymer som nämns i utdata för hello-skriptet.</span><span class="sxs-lookup"><span data-stu-id="87489-184">Browse through hello volumes mentioned in hello script output.</span></span>

  ![Linux-filen recovery bladet](./media/backup-azure-restore-files-from-vm/linux-mount-paths.png)
  

## <a name="closing-hello-connection"></a><span data-ttu-id="87489-186">Stänger hello-anslutning</span><span class="sxs-lookup"><span data-stu-id="87489-186">Closing hello connection</span></span>

<span data-ttu-id="87489-187">Ta bort (eller demontera) på hello ytterligare enheter när du identifierat hello filer och kopiera dem tooa lokal lagringsplats.</span><span class="sxs-lookup"><span data-stu-id="87489-187">After identifying hello files and copying them tooa local storage location, remove (or unmount) hello additional drives.</span></span> <span data-ttu-id="87489-188">toounmount hello enheter på hello **filåterställning** bladet i hello Azure-portalen klickar du på **demontera diskar**.</span><span class="sxs-lookup"><span data-stu-id="87489-188">toounmount hello drives, on hello **File Recovery** blade in hello Azure portal, click **Unmount Disks**.</span></span>

![Demontera diskar](./media/backup-azure-restore-files-from-vm/unmount-disks3.png)

<span data-ttu-id="87489-190">När hello diskar har demonterats, visas ett meddelande som du kan se den lyckades.</span><span class="sxs-lookup"><span data-stu-id="87489-190">Once hello disks have been unmounted, you receive a message letting you know it was successful.</span></span> <span data-ttu-id="87489-191">Det kan ta några minuter för hello anslutning toorefresh så att du kan ta bort hello diskar.</span><span class="sxs-lookup"><span data-stu-id="87489-191">It may take a few minutes for hello connection toorefresh so that you can remove hello disks.</span></span>

<span data-ttu-id="87489-192">I Linux, när hello anslutning toohello återställningspunkt är fjärrdisken hello OS inte ta bort hello motsvarande monteringssökvägar automatiskt.</span><span class="sxs-lookup"><span data-stu-id="87489-192">In Linux, after hello connection toohello recovery point is severed, hello OS doesn't remove hello corresponding mount paths automatically.</span></span> <span data-ttu-id="87489-193">Dessa finns som ”rad” volymer och de visas, men ett fel genereras när du åtkomst och skrivning hello-filer.</span><span class="sxs-lookup"><span data-stu-id="87489-193">These exist as "orphan" volumes and they are visible but throw an error when you access/write hello files.</span></span> <span data-ttu-id="87489-194">De kan ta manuellt bort.</span><span class="sxs-lookup"><span data-stu-id="87489-194">They can be manually removed.</span></span> <span data-ttu-id="87489-195">hello skript, när den körs identifierar dessa volymer som befintliga från alla tidigare återställningspunkter och rensar dem vid medgivande.</span><span class="sxs-lookup"><span data-stu-id="87489-195">hello script, when run, identifies any such volumes existing from any previous recovery points and cleans them up upon consent.</span></span>

## <a name="special-configurations"></a><span data-ttu-id="87489-196">Särskilda konfigurationer</span><span class="sxs-lookup"><span data-stu-id="87489-196">Special configurations</span></span>

### <a name="dynamic-disks"></a><span data-ttu-id="87489-197">Dynamiska diskar</span><span class="sxs-lookup"><span data-stu-id="87489-197">Dynamic Disks</span></span>

<span data-ttu-id="87489-198">Om hello Azure VM som har säkerhetskopierats har volymer som sträcker sig över flera diskar (disklänkande och stripe-volymer) och/eller feltoleranta volymer (volymer speglad eller RAID-5) på dynamiska diskar kan du inte köra hello körbara skript på hello samma virtuella dator.</span><span class="sxs-lookup"><span data-stu-id="87489-198">If hello Azure VM that was backed up has volumes that span multiple disks (spanned and striped volumes) and/or fault-tolerant volumes (mirrored and RAID-5 volumes) on dynamic disks, then you can't run hello executable script on hello same VM.</span></span> <span data-ttu-id="87489-199">I stället köra hello körbara skript på en dator med ett kompatibelt operativsystem.</span><span class="sxs-lookup"><span data-stu-id="87489-199">Instead, run hello executable script on any other machine with a compatible operating system.</span></span>

### <a name="windows-storage-spaces"></a><span data-ttu-id="87489-200">Lagringsutrymmen för Windows</span><span class="sxs-lookup"><span data-stu-id="87489-200">Windows Storage Spaces</span></span>

<span data-ttu-id="87489-201">Lagringsutrymmen för Windows är en teknik i Windows-lagring som du kan använda toovirtualize lagring.</span><span class="sxs-lookup"><span data-stu-id="87489-201">Windows Storage Spaces is a technology in Windows storage that enables you toovirtualize storage.</span></span> <span data-ttu-id="87489-202">Med lagringsutrymmen för Windows kan du gruppera standarddiskar i lagringspooler och sedan skapa virtuella diskar som kallas lagringsutrymmen, från hello tillgängligt utrymme i dessa lagringspooler.</span><span class="sxs-lookup"><span data-stu-id="87489-202">With Windows Storage Spaces you can group industry-standard disks into storage pools, and then create virtual disks, called storage spaces, from hello available space in those storage pools.</span></span>

<span data-ttu-id="87489-203">Om hello Azure VM som har säkerhetskopierats använder lagringsutrymmen i Windows, och du inte köra hello körbara skript på hello samma virtuella dator.</span><span class="sxs-lookup"><span data-stu-id="87489-203">If hello Azure VM that was backed up uses Windows Storage Spaces, then you can't run hello executable script on hello same VM.</span></span> <span data-ttu-id="87489-204">I stället köra hello körbara skript på en dator med ett kompatibelt operativsystem.</span><span class="sxs-lookup"><span data-stu-id="87489-204">Instead, run hello executable script on any other machine with a compatible operating system.</span></span>

### <a name="lvmraid-arrays"></a><span data-ttu-id="87489-205">LVM/RAID-matriser</span><span class="sxs-lookup"><span data-stu-id="87489-205">LVM/RAID Arrays</span></span>

<span data-ttu-id="87489-206">I Linux, logiska volymer (LVM) och/eller programvara är RAID-matriser används toomanage logiska volymer över flera diskar.</span><span class="sxs-lookup"><span data-stu-id="87489-206">In Linux, Logical volume manager (LVM) and/or software RAID Arrays are used toomanage logical volumes over multiple disks.</span></span> <span data-ttu-id="87489-207">Om hello säkerhetskopierade Linux VM använder LVM och/eller RAID-matriser kan du inte köra hello skript på hello samma virtuella dator.</span><span class="sxs-lookup"><span data-stu-id="87489-207">If hello backed up Linux VM uses LVM and/or RAID Arrays, you can't run hello script on hello same VM.</span></span> <span data-ttu-id="87489-208">I stället köra hello skript på en dator med kompatibelt operativsystem och som har stöd för filsystem hello säkerhetskopierade VM.</span><span class="sxs-lookup"><span data-stu-id="87489-208">Instead run hello script on any other machine with compatible OS and which supports filesystem of hello backed up VM.</span></span>

<span data-ttu-id="87489-209">hello skriptutdata visar hello LVM och/eller RAID-matriser diskar och volymer hello med hello partitionstypen enligt nedan</span><span class="sxs-lookup"><span data-stu-id="87489-209">hello script output displays hello LVM and/or RAID Arrays disks and hello volumes with hello partition type as shown below</span></span>

   ![Linux LVM utdata-bladet](./media/backup-azure-restore-files-from-vm/linux-LVMOutput.png)
   
<span data-ttu-id="87489-211">hello följande kommandon måste toobe kör genom hello användaren toobring partitionerna online.</span><span class="sxs-lookup"><span data-stu-id="87489-211">hello following commands need toobe run by hello user toobring these partitions online.</span></span> 

<span data-ttu-id="87489-212">**För LVM partitioner**</span><span class="sxs-lookup"><span data-stu-id="87489-212">**For LVM Partitions**</span></span>

```
$ pvs <volume name as shown above in hello script output> 
```
<span data-ttu-id="87489-213">Detta visar hello volym gruppnamn under fysiska enheter.</span><span class="sxs-lookup"><span data-stu-id="87489-213">This lists hello volume group names under a physical volume.</span></span>

```
$ lvdisplay <volume-group-name from hello pvs command’s results> 
```
<span data-ttu-id="87489-214">Detta visar alla logiska volymer, namn och sökvägarna i en grupp för volymen.</span><span class="sxs-lookup"><span data-stu-id="87489-214">This lists all logical volumes, names and their paths in a volume group.</span></span>

```
$ mount <LV path> </mountpath>
```
<span data-ttu-id="87489-215">toomount hello logiska volymer toohello sökväg valet.</span><span class="sxs-lookup"><span data-stu-id="87489-215">toomount hello logical volumes toohello path of your choice.</span></span>


<span data-ttu-id="87489-216">**För RAID-matriser**</span><span class="sxs-lookup"><span data-stu-id="87489-216">**For RAID Arrays**</span></span>

```
$ mdadm –detail –scan
```
<span data-ttu-id="87489-217">Visar information om alla raid-diskar.</span><span class="sxs-lookup"><span data-stu-id="87489-217">This displays details about all raid disks.</span></span> <span data-ttu-id="87489-218">hello relevanta RAID-disk kommer att visas som`/dev/mdm/<RAID array name in hello backed up VM>`</span><span class="sxs-lookup"><span data-stu-id="87489-218">hello relevant RAID disk will be displayed as `/dev/mdm/<RAID array name in hello backed up VM>`</span></span>

<span data-ttu-id="87489-219">Kommandot hello montera om hello RAID disk har fysiska volymer.</span><span class="sxs-lookup"><span data-stu-id="87489-219">Use hello mount command if hello RAID disk has physical volumes.</span></span>
```
$ mount [RAID Disk Path] [/mounthpath]
```

<span data-ttu-id="87489-220">Om den här RAID-disken har en annan LVM som konfigurerats i hello Följ samma procedur som beskrivs ovan för LVM partitioner med hello volymnamn som hello RAID diskens namn</span><span class="sxs-lookup"><span data-stu-id="87489-220">If this RAID disk has another LVM configured in it then follow hello same procedure as outlined above for LVM partitions with hello volume name being hello RAID Disk name</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="87489-221">Felsökning</span><span class="sxs-lookup"><span data-stu-id="87489-221">Troubleshooting</span></span>

<span data-ttu-id="87489-222">Kontrollera hello i den följande tabellen för ytterligare information om det uppstår problem vid återställning av filer från hello virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="87489-222">If you have problems while recovering files from hello virtual machines, check hello following table for additional information.</span></span>

| <span data-ttu-id="87489-223">Felmeddelande / Scenario</span><span class="sxs-lookup"><span data-stu-id="87489-223">Error Message / Scenario</span></span> | <span data-ttu-id="87489-224">Möjlig orsak</span><span class="sxs-lookup"><span data-stu-id="87489-224">Probable Cause</span></span> | <span data-ttu-id="87489-225">Rekommenderad åtgärd</span><span class="sxs-lookup"><span data-stu-id="87489-225">Recommended action</span></span> |
| ------------------------ | -------------- | ------------------ |
| <span data-ttu-id="87489-226">Exe utdata: *undantag ansluter toohello mål*</span><span class="sxs-lookup"><span data-stu-id="87489-226">Exe output: *Exception connecting toohello target*</span></span> |<span data-ttu-id="87489-227">Skript är inte kan tooaccess hello återställningspunkt</span><span class="sxs-lookup"><span data-stu-id="87489-227">Script is not able tooaccess hello recovery point</span></span> | <span data-ttu-id="87489-228">Kontrollera om hello datorn uppfyller hello åtkomstkrav som nämns ovan</span><span class="sxs-lookup"><span data-stu-id="87489-228">Check whether hello machine fulfills hello access requirements mentioned above</span></span>|  
|   <span data-ttu-id="87489-229">Exe utdata: *hello mål har redan loggats in via en ISCSI-session.*</span><span class="sxs-lookup"><span data-stu-id="87489-229">Exe output: *hello target has already been logged in via an ISCSI session.*</span></span> |   <span data-ttu-id="87489-230">hello skript redan har körts på samma dator och hello enheter har bifogats hello</span><span class="sxs-lookup"><span data-stu-id="87489-230">hello script was already executed on hello same machine and hello drives have been attached</span></span> |   <span data-ttu-id="87489-231">hello volymer hello återställningspunkt har redan bifogats.</span><span class="sxs-lookup"><span data-stu-id="87489-231">hello volumes of hello recovery point have already been attached.</span></span> <span data-ttu-id="87489-232">De kan inte vara monterade med samma enhetsbeteckningar för hello hello ursprungliga virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="87489-232">They may NOT be mounted with hello same drive letters of hello original VM.</span></span> <span data-ttu-id="87489-233">Bläddra igenom alla tillgängliga hello-volymer i hello Utforskaren för filen</span><span class="sxs-lookup"><span data-stu-id="87489-233">Browse through all hello available volumes in hello file explorer for your file</span></span> |
| <span data-ttu-id="87489-234">Exe utdata: *skriptet är ogiltigt eftersom hello diskar har demonterats via portalen/överskred hello 12 hr gränsen. Hämta ett nytt skript från hello-portalen.*</span><span class="sxs-lookup"><span data-stu-id="87489-234">Exe output: *This script is invalid because hello disks have been dismounted via portal/exceeded hello 12-hr limit. Please download a new script from hello portal.*</span></span> |    <span data-ttu-id="87489-235">hello diskar har demonterats från hello-portalen eller hello 12 hr överskriden</span><span class="sxs-lookup"><span data-stu-id="87489-235">hello disks have been dismounted from hello portal or hello 12-hr limit exceeded</span></span> |  <span data-ttu-id="87489-236">Den här viss exe nu är ogiltig och kan inte köras.</span><span class="sxs-lookup"><span data-stu-id="87489-236">This particular exe is now invalid and can’t be run.</span></span> <span data-ttu-id="87489-237">Om du vill tooaccess hello filer för att återställa i tidpunkt, besök hello portalen för en ny exe-filen</span><span class="sxs-lookup"><span data-stu-id="87489-237">If you want tooaccess hello files of that recovery point-in-time, visit hello portal for a new exe</span></span>|
| <span data-ttu-id="87489-238">På hello datorn där hello exe körs: hello nya volymer är inte demonteras när hello dismount trycks ned</span><span class="sxs-lookup"><span data-stu-id="87489-238">On hello machine where hello exe is run: hello new volumes are not dismounted after hello dismount button is clicked</span></span> |    <span data-ttu-id="87489-239">hello ISCSI-initieraren på hello datorn inte svarar/uppdatera anslutningen toohello mål och underhålla hello cache</span><span class="sxs-lookup"><span data-stu-id="87489-239">hello ISCSI initiator on hello machine is not responding/refreshing its connection toohello target and maintaining hello cache</span></span> |    <span data-ttu-id="87489-240">Vänta några minuter efter hello dismount knappen är nedtryckt.</span><span class="sxs-lookup"><span data-stu-id="87489-240">Wait for some mins after hello dismount button is pressed.</span></span> <span data-ttu-id="87489-241">Om hello nya volymer inte är fortfarande demonteras, bläddra igenom alla hello-volymer.</span><span class="sxs-lookup"><span data-stu-id="87489-241">If hello new volumes are still not dismounted, please browse through all hello volumes.</span></span> <span data-ttu-id="87489-242">Den här framtvingar hello initieraren toorefresh hello anslutning och hello volymen demonteras med ett felmeddelande som hello disken är inte tillgänglig</span><span class="sxs-lookup"><span data-stu-id="87489-242">This forces hello initiator toorefresh hello connection and hello volume is dismounted with an error message that hello disk is not available</span></span>|
| <span data-ttu-id="87489-243">Exe utdata: skript köras men ”nya volymer ansluten” visas inte i utdata för hello-skriptet</span><span class="sxs-lookup"><span data-stu-id="87489-243">Exe output: Script is run successfully but “New volumes attached” is not displayed on hello script output</span></span> |   <span data-ttu-id="87489-244">Detta är ett tillfälligt fel</span><span class="sxs-lookup"><span data-stu-id="87489-244">This is a transient error</span></span>   | <span data-ttu-id="87489-245">hello volymer skulle har redan bifogats.</span><span class="sxs-lookup"><span data-stu-id="87489-245">hello volumes would have been already attached.</span></span> <span data-ttu-id="87489-246">Öppna Utforskaren toobrowse.</span><span class="sxs-lookup"><span data-stu-id="87489-246">Open Explorer toobrowse.</span></span> <span data-ttu-id="87489-247">Om du använder hello samma datorn för att köra skript varje gång, starta hello datorn eventuellt och hello listan ska visas i hello efterföljande exe körs.</span><span class="sxs-lookup"><span data-stu-id="87489-247">If you are using hello same machine for running scripts every time, consider restarting hello machine and hello list should be displayed in hello subsequent exe runs.</span></span> |
| <span data-ttu-id="87489-248">Linux-specifika: inte tooview hello önskad volymer</span><span class="sxs-lookup"><span data-stu-id="87489-248">Linux specific: Not able tooview hello desired volumes</span></span> | <span data-ttu-id="87489-249">hello OS av hello dator där hello skript körs kanske inte kan identifiera hello underliggande filsystem hello säkerhetskopierade VM</span><span class="sxs-lookup"><span data-stu-id="87489-249">hello OS of hello machine where hello script is run may not recognize hello underlying filesystem of hello backed up VM</span></span> | <span data-ttu-id="87489-250">Kontrollera är om hello återställningspunkt krascher konsekvent eller filkonsekventa.</span><span class="sxs-lookup"><span data-stu-id="87489-250">Check whether hello recovery point is crash consistent or file-consistent.</span></span> <span data-ttu-id="87489-251">Om hello konsekvent och kör skript på en annan dator vars operativsystem identifierar hello säkerhetskopierade Virtuella datorns filsystem</span><span class="sxs-lookup"><span data-stu-id="87489-251">If file consistent, run hello script on another machine whose OS recognizes hello backed up VM's filesystem</span></span> |
| <span data-ttu-id="87489-252">Windows-specifika: inte tooview hello önskad volymer</span><span class="sxs-lookup"><span data-stu-id="87489-252">Windows specific: Not able tooview hello desired volumes</span></span> | <span data-ttu-id="87489-253">hello diskar kopplade men hello volymer har inte konfigurerats</span><span class="sxs-lookup"><span data-stu-id="87489-253">hello disks may have been attached but hello volumes were not configured</span></span> | <span data-ttu-id="87489-254">Identifiera hello ytterligare diskar relaterade toohello återställningspunkt från hello disk management skärmen.</span><span class="sxs-lookup"><span data-stu-id="87489-254">From hello disk management screen, identify hello additional disks related toohello recovery point.</span></span> <span data-ttu-id="87489-255">Om någon av dessa diskar är offline tillstånd försök att göra dem online genom att högerklicka på hello disk och klicka på 'Online'</span><span class="sxs-lookup"><span data-stu-id="87489-255">If any of these disks are in offline state try making them online by right-clicking on hello disk and click 'Online'</span></span>|
