---
title: "Hur du använder rollbaserad åtkomstkontroll i Azure API Management | Microsoft Docs"
description: "Lär dig hur du använder inbyggda roller och skapa anpassade roller i Azure API Management"
services: api-management
documentationcenter: 
author: miaojiang
manager: erikre
editor: 
ms.assetid: 364cd53e-88fb-4301-a093-f132fa1f88f5
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/30/2017
ms.author: apimpm
ms.openlocfilehash: fa757a591d788f52d759bc24accedd3c55149ae7
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-use-role-based-access-control-in-azure-api-management"></a><span data-ttu-id="b92f6-103">Hur du använder rollbaserad åtkomstkontroll i Azure API Management</span><span class="sxs-lookup"><span data-stu-id="b92f6-103">How to Use Role-Based Access Control in Azure API Management</span></span>
<span data-ttu-id="b92f6-104">Azure API Management förlitar sig på rollbaserad åtkomstkontroll (RBAC) att aktivera detaljerad åtkomsthantering för API Management-tjänster och enheter (t.ex. API: er, principer).</span><span class="sxs-lookup"><span data-stu-id="b92f6-104">Azure API Management relies on Azure Role-Based Access Control (RBAC) to enable fine-grained access management for API Management services and entities (e.g., APIs, policies).</span></span> <span data-ttu-id="b92f6-105">Den här artikeln ger en översikt över inbyggda och anpassade roller i API-hantering.</span><span class="sxs-lookup"><span data-stu-id="b92f6-105">This article gives you an overview of the built-in and custom roles in API Management.</span></span> <span data-ttu-id="b92f6-106">Om du vill ha mer information om åtkomsthantering av i Azure portal finns [Kom igång med åtkomsthantering i Azure-portalen](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)</span><span class="sxs-lookup"><span data-stu-id="b92f6-106">If you want more details on access management in the Azure portal, see [Get started with access management in the Azure portal](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)</span></span>

## <a name="built-in-roles"></a><span data-ttu-id="b92f6-107">Inbyggda roller</span><span class="sxs-lookup"><span data-stu-id="b92f6-107">Built-in Roles</span></span>
<span data-ttu-id="b92f6-108">API Management för närvarande tillhandahåller 3 inbyggda roller och lägger till flera roller som 2 inom en snar framtid.</span><span class="sxs-lookup"><span data-stu-id="b92f6-108">API Management currently provides 3 built-in roles and will add 2 more roles in the near future.</span></span> <span data-ttu-id="b92f6-109">Rollerna kan tilldelas på olika omfång, inklusive prenumerationen, resursgruppen och enskilda API Management-instans.</span><span class="sxs-lookup"><span data-stu-id="b92f6-109">These roles can be assigned at differnt scopes including subscription, resource group, and individual API Management instance.</span></span> <span data-ttu-id="b92f6-110">Till exempel om rollen ”Azure API Management-tjänsten läsare” tilldelas till en användare på resursgruppsnivå, att kommer användaren ha läsbehörighet till alla API Management-instanser i resursgruppen.</span><span class="sxs-lookup"><span data-stu-id="b92f6-110">For instance, if the "Azure API Management Service Reader" role is assigned to an user at the resource group level, then the user will have read access to all API Management instances inside the resource group.</span></span> 

<span data-ttu-id="b92f6-111">Följande tabell innehåller en kort beskrivning av de inbyggda rollerna.</span><span class="sxs-lookup"><span data-stu-id="b92f6-111">The following table provides brief descriptions of the built-in roles.</span></span> <span data-ttu-id="b92f6-112">Du kan tilldela dessa roller med hjälp av Azure-portalen eller andra verktyg, inklusive Azure [PowerShell](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-powershell), Azure [kommandoradsgränssnittet](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-azure-cli), och [REST API](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-rest).</span><span class="sxs-lookup"><span data-stu-id="b92f6-112">You can assign these roles using the Azure Portal or other tools including Azure [PowerShell](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-powershell), Azure [Command-line interface](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-azure-cli), and [REST API](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-rest).</span></span> <span data-ttu-id="b92f6-113">Mer information om hur du tilldelar inbyggda roller finns [använda rolltilldelningar för att hantera åtkomst till resurserna i Azure-prenumeration](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/).</span><span class="sxs-lookup"><span data-stu-id="b92f6-113">For details about how to assign built-in roles, see [Use role assignments to manage access to your Azure subscription resources](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/).</span></span>

| <span data-ttu-id="b92f6-114">Roll</span><span class="sxs-lookup"><span data-stu-id="b92f6-114">Role</span></span>          | <span data-ttu-id="b92f6-115">Läsbehörighet<sup>[1]</sup></span><span class="sxs-lookup"><span data-stu-id="b92f6-115">Read access<sup>[1]</sup></span></span> | <span data-ttu-id="b92f6-116">Skrivåtkomst<sup>[2]</sup></span><span class="sxs-lookup"><span data-stu-id="b92f6-116">Write access<sup>[2]</sup></span></span> | <span data-ttu-id="b92f6-117">Skapa en tjänst, borttagning, skalning, VPN och konfiguration för domänen</span><span class="sxs-lookup"><span data-stu-id="b92f6-117">Service creation, deletion, scaling, VPN and custom domain configuration</span></span> | <span data-ttu-id="b92f6-118">Åtkomst till äldre Publsiher Portal</span><span class="sxs-lookup"><span data-stu-id="b92f6-118">Access to legacy Publsiher Portal</span></span> | <span data-ttu-id="b92f6-119">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="b92f6-119">Description</span></span>
| ------------- | ---- | ---- | ---- | ---- | ---- | ---- |
| <span data-ttu-id="b92f6-120">Azure API Management-tjänsten deltagare</span><span class="sxs-lookup"><span data-stu-id="b92f6-120">Azure API Management Service Contributor</span></span> | <span data-ttu-id="b92f6-121">✓</span><span class="sxs-lookup"><span data-stu-id="b92f6-121">✓</span></span> | <span data-ttu-id="b92f6-122">✓</span><span class="sxs-lookup"><span data-stu-id="b92f6-122">✓</span></span> | <span data-ttu-id="b92f6-123">✓</span><span class="sxs-lookup"><span data-stu-id="b92f6-123">✓</span></span> | <span data-ttu-id="b92f6-124">✓</span><span class="sxs-lookup"><span data-stu-id="b92f6-124">✓</span></span> | <span data-ttu-id="b92f6-125">Superanvändare.</span><span class="sxs-lookup"><span data-stu-id="b92f6-125">Super user.</span></span> <span data-ttu-id="b92f6-126">Har fullständig CRUD-åtkomst till API Management-tjänster och enheter (t.ex. API: er, principer).</span><span class="sxs-lookup"><span data-stu-id="b92f6-126">Has full CRUD access to API Management services and entities (e.g., APIs, Policies).</span></span> <span data-ttu-id="b92f6-127">Har åtkomst till den äldra publisher-portalen.</span><span class="sxs-lookup"><span data-stu-id="b92f6-127">Has access to the legacy publisher portal.</span></span> |
| <span data-ttu-id="b92f6-128">Azure API Management-tjänsten läsare</span><span class="sxs-lookup"><span data-stu-id="b92f6-128">Azure API Management Service Reader</span></span> | <span data-ttu-id="b92f6-129">✓</span><span class="sxs-lookup"><span data-stu-id="b92f6-129">✓</span></span> | | || <span data-ttu-id="b92f6-130">Har skrivskyddad åtkomst till API Management-tjänster och enheter.</span><span class="sxs-lookup"><span data-stu-id="b92f6-130">Has read-only access to API Management services and entities.</span></span> |
| <span data-ttu-id="b92f6-131">Azure API Management-tjänsten Operator</span><span class="sxs-lookup"><span data-stu-id="b92f6-131">Azure API Management Service Operator</span></span> | <span data-ttu-id="b92f6-132">✓</span><span class="sxs-lookup"><span data-stu-id="b92f6-132">✓</span></span> | | <span data-ttu-id="b92f6-133">✓</span><span class="sxs-lookup"><span data-stu-id="b92f6-133">✓</span></span> | | <span data-ttu-id="b92f6-134">Kan hantera API Management services, men inte enheter.</span><span class="sxs-lookup"><span data-stu-id="b92f6-134">Can manage API Management services but not entities.</span></span>|
| <span data-ttu-id="b92f6-135">Azure API Management Service Editor<sup>*</sup></span><span class="sxs-lookup"><span data-stu-id="b92f6-135">Azure API Management Service Editor<sup>*</sup></span></span> | <span data-ttu-id="b92f6-136">✓</span><span class="sxs-lookup"><span data-stu-id="b92f6-136">✓</span></span> | <span data-ttu-id="b92f6-137">✓</span><span class="sxs-lookup"><span data-stu-id="b92f6-137">✓</span></span> | |  | <span data-ttu-id="b92f6-138">Kan hantera API Management entiteter men inte tjänster.</span><span class="sxs-lookup"><span data-stu-id="b92f6-138">Can manage API Management entities but not services.</span></span>|
| <span data-ttu-id="b92f6-139">Azure API Management Content Manager<sup>*</sup></span><span class="sxs-lookup"><span data-stu-id="b92f6-139">Azure API Management Content Manager<sup>*</sup></span></span> | <span data-ttu-id="b92f6-140">✓</span><span class="sxs-lookup"><span data-stu-id="b92f6-140">✓</span></span> | | | <span data-ttu-id="b92f6-141">✓</span><span class="sxs-lookup"><span data-stu-id="b92f6-141">✓</span></span> | <span data-ttu-id="b92f6-142">Kan hantera developer-portalen.</span><span class="sxs-lookup"><span data-stu-id="b92f6-142">Can manage developer portal.</span></span> <span data-ttu-id="b92f6-143">Skrivskyddad åtkomst till tjänster och enheter.</span><span class="sxs-lookup"><span data-stu-id="b92f6-143">Read-only access to services and entities.</span></span>|

<span data-ttu-id="b92f6-144"><sup>[1] läsbehörighet till API Management-tjänster och enheter (t.ex. API: er, principer)</sup></span><span class="sxs-lookup"><span data-stu-id="b92f6-144"><sup>[1] Read access to API Management services and entities (e.g., APIs, policies)</sup></span></span>

<span data-ttu-id="b92f6-145"><sup>[2] skrivåtkomst till API Management-tjänster och entiteter förutom följande opeartions: 1) instans skapas, tas bort eller skalning 2) VPN-konfiguration 3) anpassad domän inställning</sup></span><span class="sxs-lookup"><span data-stu-id="b92f6-145"><sup>[2] Write access to API Management services and entities except following opeartions: 1) Instance creation, deletion, and scaling 2) VPN configuration  3) Custom domain name setup</sup></span></span>

<span data-ttu-id="b92f6-146"><sup>\*Rollen Service Editor blir tillgänglig efter vi att migrera alla admin UI från befintliga publisher portal till Azure-portalen. Rollen Innehållshanterare blir tillgänglig efter utgivare portal omstrukturerade så att den bara innehåller funktioner som rör hantering developer-portalen.</sup></span><span class="sxs-lookup"><span data-stu-id="b92f6-146"><sup>\* The Service Editor role will be available after we migrate all admin UI from the existing publisher portal to the Azure portal. The Content Manager role will be available after the publisher portal is refactored to only contain functionalities related to managing the developer portal.</sup></span></span>  


## <a name="custom-roles"></a><span data-ttu-id="b92f6-147">Anpassade roller</span><span class="sxs-lookup"><span data-stu-id="b92f6-147">Custom Roles</span></span>
<span data-ttu-id="b92f6-148">Om ingen av de inbyggda rollerna uppfyller dina specifika behov kan du skapa anpassade roller för att ge mer detaljerad åtkomsthantering för API Management-enheter.</span><span class="sxs-lookup"><span data-stu-id="b92f6-148">If none of the built-in roles meet your specific needs, custom roles can be created to provide more granular access management for API Management entities.</span></span> <span data-ttu-id="b92f6-149">Du kan till exempel skapa en anpassad roll som har skrivskyddad åtkomst till en API Management-tjänsten, men endast har skrivbehörighet till en specifik API.</span><span class="sxs-lookup"><span data-stu-id="b92f6-149">For example, you can create a custom role which has read-only access to an API Management service but only has write access to one specific API.</span></span> <span data-ttu-id="b92f6-150">Läs mer om anpassade roller i [anpassade roller i Azure RBAC](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles).</span><span class="sxs-lookup"><span data-stu-id="b92f6-150">To learn more details about custom roles, see [Custom Roles in Azure RBAC](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles).</span></span> 

<span data-ttu-id="b92f6-151">När du skapar en anpassad roll, är det lättare att börja med en av de inbyggda rollerna.</span><span class="sxs-lookup"><span data-stu-id="b92f6-151">When you create a custom role, it is easier to start with one of the built-in roles.</span></span> <span data-ttu-id="b92f6-152">Redigera attribut för att lägga till åtgärder, NotActions eller AssignableScopes och sedan spara ändringarna som en ny roll.</span><span class="sxs-lookup"><span data-stu-id="b92f6-152">Edit the attributes to add the Actions, NotActions, or AssignableScopes, then save the changes as a new role.</span></span> <span data-ttu-id="b92f6-153">I följande exempel börjar med rollen ”Azure API Management-tjänsten läsare” och skapar en anpassad roll som kallas ”Kalkylatorn API Editor”.</span><span class="sxs-lookup"><span data-stu-id="b92f6-153">The following example begins with the "Azure API Managment Service Reader" role and creates a custom role called "Calculator API Editor".</span></span> <span data-ttu-id="b92f6-154">Den anpassade rollen kan endast tilldelas en specifik API därför kommer har bara åtkomst till den API.</span><span class="sxs-lookup"><span data-stu-id="b92f6-154">The custom role can be assigned only to a specific API therefore will only has access to that API.</span></span> 

```
$role = Get-AzureRmRoleDefinition "API Management Service Reader Role"
$role.Id = $null
$role.Name = 'Calculator API Contributor'
$role.Description = 'Has read access to Contoso APIM instance and write access to the Calculator API.'
$role.Actions.Add('Microsoft.ApiManagement/service/apis/write')
$role.AssignableScopes.Clear()
$role.AssignableScopes.Add('/subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.ApiManagement/service/<service name>/apis/<api ID>')
New-AzureRmRoleDefinition -Role $role
New-AzureRmRoleAssignment -ObjectId <object ID of the user account> -RoleDefinitionName 'Calculator API Contributor' -Scope '/subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.ApiManagement/service/<service name>/apis/<api ID>'
```

## <a name="watch-a-video-overview"></a><span data-ttu-id="b92f6-155">Titta på en videoöversikt</span><span class="sxs-lookup"><span data-stu-id="b92f6-155">Watch a Video Overview</span></span>

> [!VIDEO https://channel9.msdn.com/Blogs/AzureApiMgmt/Role-Based-Access-Control-in-API-Management/player]
> 
> 

## <a name="next-steps"></a><span data-ttu-id="b92f6-156">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="b92f6-156">Next Steps</span></span>

* <span data-ttu-id="b92f6-157">Mer information om rollbaserad åtkomstkontroll i Azure</span><span class="sxs-lookup"><span data-stu-id="b92f6-157">Learn more about Role-Based Access Control in Azure</span></span>
  * [<span data-ttu-id="b92f6-158">Kom igång med åtkomsthantering i Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="b92f6-158">Get started with access management in the Azure portal</span></span>](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)
  * [<span data-ttu-id="b92f6-159">Använda rolltilldelningar för att hantera åtkomsten till dina Azure-prenumerationsresurser</span><span class="sxs-lookup"><span data-stu-id="b92f6-159">Use role assignments to manage access to your Azure subscription resources</span></span>](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)
  * [<span data-ttu-id="b92f6-160">Anpassade roller i Azure RBAC</span><span class="sxs-lookup"><span data-stu-id="b92f6-160">Custom Roles in Azure RBAC</span></span>](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles)
