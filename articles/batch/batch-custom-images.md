---
title: "aaaProvision Azure Batch pooler från anpassade avbildningar | Microsoft Docs"
description: "Du kan skapa en Batch adresspoolen från en anpassad avbildning tooprovision compute-noder som innehåller hello programvara och data som du behöver för ditt program. Anpassade avbildningar är ett effektivt sätt tooconfigure compute-noder toorun Batch-arbetsbelastningar."
services: batch
author: tamram
manager: timlt
ms.service: batch
ms.topic: article
ms.date: 08/07/2017
ms.author: tamram
ms.openlocfilehash: 5cb698ee90f7d3ec9ffe69fa4dc602132c3f7569
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="use-a-custom-image-toocreate-a-pool-of-virtual-machines"></a><span data-ttu-id="52a81-104">Använda en anpassad avbildning toocreate en pool av virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="52a81-104">Use a custom image toocreate a pool of virtual machines</span></span>

<span data-ttu-id="52a81-105">När du skapar en pool med virtuella datorer i Azure Batch, anger du en avbildning av virtuell dator (VM) som tillhandahåller hello operativsystemet för varje beräkningsnod i poolen hello.</span><span class="sxs-lookup"><span data-stu-id="52a81-105">When you create a pool of virtual machines in Azure Batch, you specify a virtual machine (VM) image that provides hello operating system for each compute node in hello pool.</span></span> <span data-ttu-id="52a81-106">Du kan skapa en pool med virtuella datorer med hjälp av en Azure Marketplace-avbildning, eller genom att tillhandahålla en anpassad VHD-avbildning som du har förberett.</span><span class="sxs-lookup"><span data-stu-id="52a81-106">You can create a pool of virtual machines either by using an Azure Marketplace image, or by providing a custom VHD image that you have prepared.</span></span> <span data-ttu-id="52a81-107">När du anger en anpassad avbildning har kontroll över hur hello operativsystemet konfigureras hello samtidigt som varje compute-nod har etablerats.</span><span class="sxs-lookup"><span data-stu-id="52a81-107">When you provide a custom image, you have control over how hello operating system is configured at hello time that each compute node is provisioned.</span></span> <span data-ttu-id="52a81-108">Den anpassade avbildningen kan även inkludera program och referensdata som är tillgängliga på hello beräkningsnod så snart det har etablerats.</span><span class="sxs-lookup"><span data-stu-id="52a81-108">Your custom image can also include applications and reference data that are available on hello compute node as soon as it is provisioned.</span></span>

<span data-ttu-id="52a81-109">Med hjälp av en anpassad avbildning kan spara tid vid hämtning av din pool datornoderna redo toorun Batch-arbetsbelastning.</span><span class="sxs-lookup"><span data-stu-id="52a81-109">Using a custom image can save you time in getting your pool's compute nodes ready toorun your Batch workload.</span></span> <span data-ttu-id="52a81-110">När du kan alltid använda en Azure Marketplace-avbildning och installera programvara på varje beräkningsnod när den har etablerats kan kan den här metoden vara mindre effektivt än att använda en anpassad avbildning.</span><span class="sxs-lookup"><span data-stu-id="52a81-110">While you can always use an Azure Marketplace image and install software on each compute node after it has been provisioned, this approach may be less efficient than using a custom image.</span></span> 

<span data-ttu-id="52a81-111">Vissa orsaker toouse en anpassad avbildning som har konfigurerats för ditt scenario är behöva:</span><span class="sxs-lookup"><span data-stu-id="52a81-111">Some reasons toouse a custom image that is configured for your scenario include needing to:</span></span>

- <span data-ttu-id="52a81-112">**Konfigurera hello operativsystem (OS)** någon specialkonfiguration av hello operativsystem kan utföras på hello anpassad avbildning.</span><span class="sxs-lookup"><span data-stu-id="52a81-112">**Configure hello operating system (OS)** Any special configuration of hello operating system can be performed on hello custom image.</span></span> 
- <span data-ttu-id="52a81-113">**Installera stora program.**</span><span class="sxs-lookup"><span data-stu-id="52a81-113">**Install large applications.**</span></span> <span data-ttu-id="52a81-114">Installera program på en anpassad avbildning är effektivare än att installera dem på varje beräkningsnod när den har etablerats.</span><span class="sxs-lookup"><span data-stu-id="52a81-114">Installing applications on a custom image is more efficient than installing them on each compute node after it is provisioned.</span></span>
- <span data-ttu-id="52a81-115">**Kopiera stora mängder data.**</span><span class="sxs-lookup"><span data-stu-id="52a81-115">**Copy significant amounts of data.**</span></span> <span data-ttu-id="52a81-116">Om hello data är kopierade toohello anpassad avbildning, behöver bara toobe kopieras en gång, i stället för tooeach beräkningsnod, sparar tid och bandbredd.</span><span class="sxs-lookup"><span data-stu-id="52a81-116">If hello data is copied toohello custom image, it only needs toobe copied once, rather than tooeach compute node, saving time and bandwidth.</span></span>
- <span data-ttu-id="52a81-117">**Starta om hello VM under hello installationsprocessen.**</span><span class="sxs-lookup"><span data-stu-id="52a81-117">**Reboot hello VM during hello setup process.**</span></span> <span data-ttu-id="52a81-118">Om hello VM kan vara en tidskrävande process, särskilt om du har ett antal compute-noder.</span><span class="sxs-lookup"><span data-stu-id="52a81-118">Rebooting hello VM can be a time-consuming process, especially if you have a number of compute nodes.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="52a81-119">Krav</span><span class="sxs-lookup"><span data-stu-id="52a81-119">Prerequisites</span></span>

- <span data-ttu-id="52a81-120">**Ett Batch-konto som har skapats med hello användarens prenumeration poolen allokering läge.**</span><span class="sxs-lookup"><span data-stu-id="52a81-120">**A Batch account created with hello User Subscription pool allocation mode.**</span></span> <span data-ttu-id="52a81-121">toouse en anpassad avbildning tooprovision virtuella pooler, skapa Batch-kontot med hello användarens prenumeration [pool allokering läge](batch-api-basics.md#pool-allocation-mode).</span><span class="sxs-lookup"><span data-stu-id="52a81-121">toouse a custom image tooprovision Virtual Machine pools, create your Batch account with hello User Subscription [pool allocation mode](batch-api-basics.md#pool-allocation-mode).</span></span> <span data-ttu-id="52a81-122">Med det här läget allokeras Batch pooler till hello prenumeration där hello kontot finns.</span><span class="sxs-lookup"><span data-stu-id="52a81-122">With this mode, Batch pools are allocated into hello subscription where hello account resides.</span></span> <span data-ttu-id="52a81-123">Se hello [konto](batch-api-basics.md#account) i avsnittet [utveckla storskaliga parallell compute lösningar med Batch](batch-api-basics.md) information om inställningen hello poolen allokering läge när du skapar ett Batch-konto.</span><span class="sxs-lookup"><span data-stu-id="52a81-123">See hello [Account](batch-api-basics.md#account) section in [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md) for information on setting hello pool allocation mode when you create a Batch account.</span></span>

- <span data-ttu-id="52a81-124">**Ett Azure Storage-konto.**</span><span class="sxs-lookup"><span data-stu-id="52a81-124">**An Azure Storage account.**</span></span> <span data-ttu-id="52a81-125">toocreate en pool av virtuella datorer med en anpassad avbildning behöver du en standard, generell Azure Storage-konto i hello samma prenumeration och region.</span><span class="sxs-lookup"><span data-stu-id="52a81-125">toocreate a pool of virtual machines using a custom image, you need a standard, general-purpose Azure Storage account in hello same subscription and region.</span></span> <span data-ttu-id="52a81-126">Om du skapar en anpassad avbildning från en Azure VM, ska du kopiera hello avbildningens toohello lagringskonto där hello VM OS-disken finns, och du behöver inte toocreate ett separat lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="52a81-126">If you create a custom image from an Azure VM, then you will copy hello image toohello storage account where hello VM's OS disk resides, and you won't need toocreate a separate storage account.</span></span> 
    
## <a name="prepare-a-custom-image"></a><span data-ttu-id="52a81-127">Förbereda en anpassad avbildning</span><span class="sxs-lookup"><span data-stu-id="52a81-127">Prepare a custom image</span></span>

<span data-ttu-id="52a81-128">Du måste generalisera en befintlig installation av Linux eller Windows tooprepare en anpassad avbildning för användning med Batch.</span><span class="sxs-lookup"><span data-stu-id="52a81-128">tooprepare a custom image for use with Batch, you must generalize an existing installation of Linux or Windows.</span></span> <span data-ttu-id="52a81-129">Att generalisera en installation av operativsystemet tar bort datorspecifik information.</span><span class="sxs-lookup"><span data-stu-id="52a81-129">Generalizing an operating system installation removes machine-specific information.</span></span> <span data-ttu-id="52a81-130">hello resultatet är en avbildning som kan installeras på andra datorer eller virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="52a81-130">hello result is an image that can be installed on other computers or VMs.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="52a81-131">Batch för närvarande stöder inte användning av Azure hanteras bilder tooprovision poolen.</span><span class="sxs-lookup"><span data-stu-id="52a81-131">Batch does not currently support using Azure managed images tooprovision a pool.</span></span> <span data-ttu-id="52a81-132">hello anpassad avbildning använda tooprovision poolen måste lagras i Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="52a81-132">hello custom image you use tooprovision a pool must be stored in Azure Storage.</span></span> 
>
> <span data-ttu-id="52a81-133">När du förbereder den anpassade avbildningen, Kom ihåg hello följande punkter:</span><span class="sxs-lookup"><span data-stu-id="52a81-133">When preparing your custom image, keep in mind hello following points:</span></span>
> - <span data-ttu-id="52a81-134">Se till att hello OS basavbildning du använder tooprovision Batch-pooler har inte har någon förinstallerat Azure tillägg, till exempel hello tillägget för anpassat skript.</span><span class="sxs-lookup"><span data-stu-id="52a81-134">Ensure that hello base OS image you use tooprovision your Batch pools does not have any pre-installed Azure extensions, such as hello Custom Script extension.</span></span> <span data-ttu-id="52a81-135">Om hello bilden innehåller ett tillägg för förinstallerade, stöta Azure på problem som distribuerar hello VM.</span><span class="sxs-lookup"><span data-stu-id="52a81-135">If hello image contains a pre-installed extension, Azure may encounter problems deploying hello VM.</span></span>
> - <span data-ttu-id="52a81-136">Se till att hello OS basavbildning du tillhandahålla använder hello temp standardenheten som hello Batch nod agent för närvarande förväntar temp hello-standardenheten.</span><span class="sxs-lookup"><span data-stu-id="52a81-136">Ensure that hello base OS image you provide uses hello default temp drive, as hello Batch node agent currently expects hello default temp drive.</span></span>
>
>

<span data-ttu-id="52a81-137">Du kan använda någon befintlig förberedda Windows eller Linux-avbildning som en anpassad avbildning.</span><span class="sxs-lookup"><span data-stu-id="52a81-137">You can use any existing prepared Windows or Linux image as a custom image.</span></span> <span data-ttu-id="52a81-138">Till exempel om du vill toouse en lokal image och sedan överföra hello avbildningen tooan Azure Storage-konto som tillhör hello samma prenumeration och region som din Batch-kontot med [AzCopy](../storage/storage-use-azcopy.md) eller något annat överföringsverktyg.</span><span class="sxs-lookup"><span data-stu-id="52a81-138">For example, if you wish toouse a local image, then upload hello image tooan Azure Storage account that is in hello same subscription and region as your Batch account using [AzCopy](../storage/storage-use-azcopy.md) or another upload tool.</span></span>

<span data-ttu-id="52a81-139">Dessutom kan du förbereda en anpassad avbildning från en ny eller befintlig Azure-VM.</span><span class="sxs-lookup"><span data-stu-id="52a81-139">You can also prepare a custom image from a new or existing Azure VM.</span></span> <span data-ttu-id="52a81-140">Om du skapar en ny virtuell dator kan du använda en Azure Marketplace-avbildning som hello basavbildning för den anpassade avbildningen och anpassa den.</span><span class="sxs-lookup"><span data-stu-id="52a81-140">If you are creating a new VM, you can use an Azure Marketplace image as hello base image for your custom image and then customize it.</span></span> <span data-ttu-id="52a81-141">toocustomize hello källinstallation, skapa en virtuell dator i Azure och lägga till dina program och data tooit.</span><span class="sxs-lookup"><span data-stu-id="52a81-141">toocustomize hello base image, create an Azure VM and add your applications or data tooit.</span></span> <span data-ttu-id="52a81-142">Sedan generalisera hello VM tooserve som den anpassade avbildningen och spara den tooAzure lagring.</span><span class="sxs-lookup"><span data-stu-id="52a81-142">Then generalize hello VM tooserve as your custom image and save it tooAzure Storage.</span></span> 

<span data-ttu-id="52a81-143">tooprepare en anpassad avbildning från en Azure VM, Följ dessa steg:</span><span class="sxs-lookup"><span data-stu-id="52a81-143">tooprepare a custom image from an Azure VM, follow these steps:</span></span>

1. <span data-ttu-id="52a81-144">Skapa en **ohanterade** virtuella Azure-datorn från Azure Marketplace-avbildning.</span><span class="sxs-lookup"><span data-stu-id="52a81-144">Create an **unmanaged** Azure VM from an Azure Marketplace image.</span></span> <span data-ttu-id="52a81-145">Azure Marketplace innehåller avbildningar för både [Windows](../virtual-machines/windows/quick-create-portal.md) och [Linux](../virtual-machines/linux/quick-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="52a81-145">Azure Marketplace includes images for both [Windows](../virtual-machines/windows/quick-create-portal.md) and [Linux](../virtual-machines/linux/quick-create-portal.md).</span></span>
    
    <span data-ttu-id="52a81-146">Kontrollera att du väljer i steg 3 i hello VM skapandeprocessen **nr** för **lagring: använda hanterade diskar** alternativet.</span><span class="sxs-lookup"><span data-stu-id="52a81-146">On step 3 of hello VM creation process, make sure that you select **No** for **Storage: Use Managed Disks** option.</span></span> <span data-ttu-id="52a81-147">Även anteckna hello lagringskontonamnet för hello VM OS-disken, som det här lagringskontot är också där Azure sparar den anpassade avbildningen:</span><span class="sxs-lookup"><span data-stu-id="52a81-147">Also take note of hello storage account name for hello VM's OS disk, as this storage account is also where Azure will save your custom image:</span></span>

    ![Skapa en ohanterad VM och Observera hello lagringskontonamn](media/batch-custom-images/vm-create-storage.png)
 
2. <span data-ttu-id="52a81-149">Slutför hello processen att skapa den virtuella datorn och vänta tills den toobe allokerats av Azure.</span><span class="sxs-lookup"><span data-stu-id="52a81-149">Complete hello process of creating your VM, and wait for it toobe allocated by Azure.</span></span> <span data-ttu-id="52a81-150">Här är en bild som visar en virtuell dator i hello Azure-portalen i hello körs:</span><span class="sxs-lookup"><span data-stu-id="52a81-150">Here's an image that shows a VM in hello Azure portal in hello running state:</span></span>

    ![Skapa en virtuell dator från en marketplace-avbildning](media/batch-custom-images/vm-status-running.png)

3. <span data-ttu-id="52a81-152">När hello VM körs kan ansluta tooit via RDP (för Windows) eller SSH (för Linux).</span><span class="sxs-lookup"><span data-stu-id="52a81-152">Once hello VM is running, connect tooit via RDP (for Windows) or SSH (for Linux).</span></span> <span data-ttu-id="52a81-153">Installera programvara som krävs eller kopiera önskade data och sedan generalisera hello VM.</span><span class="sxs-lookup"><span data-stu-id="52a81-153">Install any necessary software or copy desired data, and then generalize hello VM.</span></span> <span data-ttu-id="52a81-154">Följ hello stegen som beskrivs i [Generalize hello VM](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span><span class="sxs-lookup"><span data-stu-id="52a81-154">Follow hello steps described in [Generalize hello VM](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span></span> 
   
4. <span data-ttu-id="52a81-155">Gör hello för[logga in tooAzure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span><span class="sxs-lookup"><span data-stu-id="52a81-155">Follow hello steps too[Log in tooAzure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span></span> <span data-ttu-id="52a81-156">tooinstall Azure PowerShell finns [översikt av Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span><span class="sxs-lookup"><span data-stu-id="52a81-156">tooinstall Azure PowerShell, see [Overview of Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span></span> 

5. <span data-ttu-id="52a81-157">Därefter gör hello för[Deallocate hello VM och ange hello tillstånd toogeneralized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span><span class="sxs-lookup"><span data-stu-id="52a81-157">Next, follow hello steps too[Deallocate hello VM and set hello state toogeneralized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span></span> 

    <span data-ttu-id="52a81-158">Observera att hello har frigjorts i hello Azure-portalen:</span><span class="sxs-lookup"><span data-stu-id="52a81-158">In hello Azure portal, notice that hello VM is deallocated:</span></span>

    ![Se till att hello har frigjorts](media/batch-custom-images/vm-status-deallocated.png)

6.  <span data-ttu-id="52a81-160">Skapa och spara hello VM avbildningen tooAzure lagring med hjälp av hello [spara AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) PowerShell-cmdlet.</span><span class="sxs-lookup"><span data-stu-id="52a81-160">Create and save hello VM image tooAzure Storage using hello [Save-AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) PowerShell cmdlet.</span></span> <span data-ttu-id="52a81-161">Följ instruktionerna i hello [skapa hello avbildningen](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span><span class="sxs-lookup"><span data-stu-id="52a81-161">Follow hello instructions described in [Create hello image](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span></span>
    
    <span data-ttu-id="52a81-162">hello VM-avbildning sparas toohello Azure Storage-konto som skapas när hello VM skapades, som visas i steg 1 i den här proceduren.</span><span class="sxs-lookup"><span data-stu-id="52a81-162">hello VM image is saved toohello Azure Storage account created when hello VM was created, as shown in step 1 of this procedure.</span></span> <span data-ttu-id="52a81-163">hello spara AzureRmVMImage cmdlet sparar hello avbildningen toohello **system** behållare i detta lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="52a81-163">hello Save-AzureRmVMImage cmdlet saves hello image toohello **system** container in that storage account.</span></span> <span data-ttu-id="52a81-164">Hej `-DestinationContainername` parametern trots att en virtuell katalog på hello **system** behållare.</span><span class="sxs-lookup"><span data-stu-id="52a81-164">hello `-DestinationContainername` parameter names a virtual directory within hello **system** container.</span></span> <span data-ttu-id="52a81-165">Hej `-VHDNamePrefix` parametern anger ett prefix för hello blob-namnet.</span><span class="sxs-lookup"><span data-stu-id="52a81-165">hello `-VHDNamePrefix` parameter specifies a prefix for hello blob name.</span></span> <span data-ttu-id="52a81-166">Det här prefixet är inledd toohello blob-namn med ett bindestreck.</span><span class="sxs-lookup"><span data-stu-id="52a81-166">This prefix is prepended toohello blob name with a hyphen.</span></span> 

    <span data-ttu-id="52a81-167">Anta att du anropa Save AzureRmVMImage med hello följande parametrar:</span><span class="sxs-lookup"><span data-stu-id="52a81-167">For example, suppose you call Save-AzureRmVMImage with hello following parameters:</span></span>  

        Save-AzureRmVMImage -ResourceGroupName sample-resource-group -Name vm-custom-image -DestinationContainerName batchimages -VHDNamePrefix custom -Path C:\Temp\Images\vm-custom-image.json

    <span data-ttu-id="52a81-168">hello bilden sparas toohello plats och blob-namnet som visas här:</span><span class="sxs-lookup"><span data-stu-id="52a81-168">hello resulting image is saved toohello location and blob name shown here:</span></span>

    ![Platsen för sparade virtuella Hårddisken i system-behållaren](media/batch-custom-images/vhd-in-vm-storage-account.png)

    > [!NOTE]
    > <span data-ttu-id="52a81-170">En ohanterad Azure VM skapar flera lagringskonton för olika ändamål.</span><span class="sxs-lookup"><span data-stu-id="52a81-170">An Azure unmanaged VM creates several storage accounts for different purposes.</span></span> <span data-ttu-id="52a81-171">Om du inte antecknade hello namnet på lagringsbehållaren hello för hello OS-disk när hello VM skapades, så Sök hello associerade storage-konto som innehåller hello **system** behållare.</span><span class="sxs-lookup"><span data-stu-id="52a81-171">If you did not note hello name of hello storage container for hello OS disk when hello VM was created, then find hello associated storage account that contains hello **system** container.</span></span> <span data-ttu-id="52a81-172">Gå igenom hello **system** behållare toofind hello anpassad avbildning med hello-värden som du angav för hello **spara AzureRmVMImage** kommando.</span><span class="sxs-lookup"><span data-stu-id="52a81-172">Navigate through hello **system** container toofind hello custom image using hello values you specified for hello **Save-AzureRmVMImage** command.</span></span>

## <a name="create-a-pool-from-a-custom-image-in-hello-portal"></a><span data-ttu-id="52a81-173">Skapa en programpool från en anpassad avbildning i hello-portalen</span><span class="sxs-lookup"><span data-stu-id="52a81-173">Create a pool from a custom image in hello portal</span></span>

<span data-ttu-id="52a81-174">När du har sparat den anpassade avbildningen och du vet att platsen, skapar du en Batch-pool från den avbildningen.</span><span class="sxs-lookup"><span data-stu-id="52a81-174">Once you have saved your custom image and you know its location, you can create a Batch pool from that image.</span></span> <span data-ttu-id="52a81-175">Följ dessa steg toocreate poolen från hello Azure-portalen:</span><span class="sxs-lookup"><span data-stu-id="52a81-175">Follow these steps toocreate a pool from hello Azure portal:</span></span>

1. <span data-ttu-id="52a81-176">Navigera tooyour Batch-kontot i hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="52a81-176">Navigate tooyour Batch account in hello Azure portal.</span></span> <span data-ttu-id="52a81-177">Det här kontot måste vara i hello samma prenumeration och region som hello storage-konto som innehåller hello anpassad avbildning.</span><span class="sxs-lookup"><span data-stu-id="52a81-177">This account must be in hello same subscription and region as hello storage account containing hello custom image.</span></span> 
2. <span data-ttu-id="52a81-178">I hello **inställningar** fönstret till vänster, hello väljer hello **pooler** menyalternativet.</span><span class="sxs-lookup"><span data-stu-id="52a81-178">In hello **Settings** window on hello left, select hello **Pools** menu item.</span></span>
3. <span data-ttu-id="52a81-179">I hello **pooler** fönster, Välj hello **Lägg till** kommando.</span><span class="sxs-lookup"><span data-stu-id="52a81-179">In hello **Pools** window, select hello **Add** command.</span></span>
4. <span data-ttu-id="52a81-180">På hello **Lägg till Pool för** väljer **anpassad bild (Linux/Windows)** från hello **bildtypen** listrutan.</span><span class="sxs-lookup"><span data-stu-id="52a81-180">On hello **Add Pool** window, select **Custom Image (Linux/Windows)** from hello **Image Type** dropdown.</span></span> <span data-ttu-id="52a81-181">hello portalen visar hello **anpassad bild** väljare.</span><span class="sxs-lookup"><span data-stu-id="52a81-181">hello portal displays hello **Custom Image** picker.</span></span> <span data-ttu-id="52a81-182">Navigera toohello storage-konto där den anpassade avbildningen finns och välj hello önskade VHD från hello behållare.</span><span class="sxs-lookup"><span data-stu-id="52a81-182">Navigate toohello storage account where your custom image is located, and select hello desired VHD from hello container.</span></span> 
5. <span data-ttu-id="52a81-183">Välj rätt hello **Publisher-erbjudande-Sku** för dina anpassade virtuella Hårddisken.</span><span class="sxs-lookup"><span data-stu-id="52a81-183">Select hello correct **Publisher/Offer/Sku** for your custom VHD.</span></span>
6. <span data-ttu-id="52a81-184">Ange hello återstående nödvändiga inställningar, inklusive hello **nodstorlek**, **mål dedikerade noder**, och **med låg prioritet noder**, liksom alla önskade valfria inställningar.</span><span class="sxs-lookup"><span data-stu-id="52a81-184">Specify hello remaining required settings, including hello **Node size**, **Target dedicated nodes**, and **Low priority nodes**, as well as any desired optional settings.</span></span>

    <span data-ttu-id="52a81-185">Till exempel för en anpassad avbildning i Microsoft Windows Server Datacenter 2016 hello **Lägg till Pool för** visas i fönstret som visas här:</span><span class="sxs-lookup"><span data-stu-id="52a81-185">For example, for a Microsoft Windows Server Datacenter 2016 custom image, hello **Add Pool** window appears as shown here:</span></span>

    ![Lägg till pool från anpassade Windows-avbildning](media/batch-custom-images/add-pool-custom-image.png)
  
<span data-ttu-id="52a81-187">toocheck om en befintlig adresspool baseras på en anpassad avbildning i hello **operativsystemet** egenskap i sammanfattningen av hello resurs i hello **Pool** fönster.</span><span class="sxs-lookup"><span data-stu-id="52a81-187">toocheck whether an existing pool is based on a custom image, see hello **Operating System** property in hello resource summary section of hello **Pool** window.</span></span> <span data-ttu-id="52a81-188">Om hello poolen har skapats från en anpassad avbildning genom att den har angetts för**anpassade VM-avbildning**.</span><span class="sxs-lookup"><span data-stu-id="52a81-188">If hello pool was created from a custom image, it is set too**Custom VM Image**.</span></span>

<span data-ttu-id="52a81-189">Alla anpassade virtuella hårddiskar som är associerade med en pool visas på hello poolen **egenskaper** fönster.</span><span class="sxs-lookup"><span data-stu-id="52a81-189">All custom VHDs associated with a pool are displayed on hello pool's **Properties** window.</span></span>
 
## <a name="next-steps"></a><span data-ttu-id="52a81-190">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="52a81-190">Next steps</span></span>

- <span data-ttu-id="52a81-191">En detaljerad översikt över Batch finns [utveckla storskaliga parallell compute lösningar med Batch](batch-api-basics.md).</span><span class="sxs-lookup"><span data-stu-id="52a81-191">For an in-depth overview of Batch, see [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md).</span></span>
- <span data-ttu-id="52a81-192">Information om hur du skapar ett Batch-konto finns i [skapa ett batchkonto med hello Azure-portalen](batch-account-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="52a81-192">For information about creating a Batch account, see [Create a Batch account with hello Azure portal](batch-account-create-portal.md).</span></span>
