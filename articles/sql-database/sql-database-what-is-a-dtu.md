---
title: "SQL Database: Vad är en DTU? | Microsoft Docs"
description: "Förstå vad en Azure SQL Database-transaktionsenhet är."
keywords: databasalternativ, databasprestanda
services: sql-database
documentationcenter: 
author: CarlRabeler
manager: jhubbard
editor: CarlRabeler
ms.assetid: 89e3e9ce-2eeb-4949-b40f-6fc3bf520538
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: NA
ms.date: 04/13/2017
ms.author: carlrab
ms.openlocfilehash: ba1fe580b32826259edaf6c8dc124faaf5b3d234
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="explaining-database-transaction-units-dtus-and-elastic-database-transaction-units-edtus"></a><span data-ttu-id="b0f0b-105">Förklarar vad databastransaktionsenheter (DTU, Database Transaction Unit) och elastiska databastransaktionsenheter (eDTU) är.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-105">Explaining Database Transaction Units (DTUs) and elastic Database Transaction Units (eDTUs)</span></span>
<span data-ttu-id="b0f0b-106">Den här artikeln förklarar Database Transaction Units (Dtu) och elastiska Datatransaktionsenheter (edtu: er) och vad som händer när du klickar på hello högsta dtu: er eller edtu: er.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-106">This article explains Database Transaction Units (DTUs) and elastic Database Transaction Units (eDTUs) and what happens when you hit hello maximum DTUs or eDTUs.</span></span>  

## <a name="what-are-database-transaction-units-dtus"></a><span data-ttu-id="b0f0b-107">Vad är databastransaktionsenheter (DTU:er)?</span><span class="sxs-lookup"><span data-stu-id="b0f0b-107">What are Database Transaction Units (DTUs)</span></span>
<span data-ttu-id="b0f0b-108">För en enda Azure SQL-databas på specifika prestandanivåer inom en [tjänstnivån](sql-database-service-tiers.md#single-database-service-tiers-and-performance-levels), Microsoft garanterar en viss nivå av resurser för den här databasen (oberoende av andra databas hello Azure-molnet), och tillhandahålla en förutsägbar nivå av prestanda.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-108">For a single Azure SQL database at a specific performance level within a [service tier](sql-database-service-tiers.md#single-database-service-tiers-and-performance-levels), Microsoft guarantees a certain level of resources for that database (independent of any other database in hello Azure cloud) and providing a predictable level of performance.</span></span> <span data-ttu-id="b0f0b-109">Den här mängden resurser beräknas som ett antal Database Transaction Units eller dtu: er och är en blandning av processor, minne, i/o (data och transaktionen loggning i/o).</span><span class="sxs-lookup"><span data-stu-id="b0f0b-109">This amount of resources is calculated as a number of Database Transaction Units or DTUs, and is a blended measure of CPU, memory, I/O (data and transaction log I/O).</span></span> <span data-ttu-id="b0f0b-110">hello förhållandet bland resurserna har ursprungligen bestäms av ett [OLTP-arbetsbelastning benchmark](sql-database-benchmark-overview.md) utformats toobe typiska för verkliga OLTP-arbetsbelastningar.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-110">hello ratio amongst these resources was originally determined by an [OLTP benchmark workload](sql-database-benchmark-overview.md) designed toobe typical of real-world OLTP workloads.</span></span> <span data-ttu-id="b0f0b-111">När din arbetsbelastning överskrider hello mängden någon av dessa resurser, är din dataflödet begränsad – vilket resulterar i långsammare prestanda och timeout.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-111">When your workload exceeds hello amount of any of these resources, your throughput is throttled - resulting in slower performance and timeouts.</span></span> <span data-ttu-id="b0f0b-112">hello-resurser som används av din arbetsbelastning påverkar inte hello resurser tillgängliga tooother SQL-databaser i hello Azure-molnet och hello-resurs som används av andra arbetsbelastningar påverkar inte hello resurser tillgängliga tooyour SQL-databas.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-112">hello resources used by your workload do not impact hello resources available tooother SQL databases in hello Azure cloud, and hello resource used by other workloads do not impact hello resources available tooyour SQL database.</span></span>

![avgränsningsram](./media/sql-database-what-is-a-dtu/bounding-box.png)

<span data-ttu-id="b0f0b-114">Dtu: er är mest användbara för att förstå hello relativa mängd resurser mellan Azure SQL-databaser på olika prestandanivåer och servicenivåer.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-114">DTUs are most useful for understanding hello relative amount of resources between Azure SQL Databases at different performance levels and service tiers.</span></span> <span data-ttu-id="b0f0b-115">Till exempel dubblerade hello dtu: er genom att öka hello prestandanivå för en databas är lika toodoubling hello uppsättning tillgängliga toothat resursdatabasen.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-115">For example, doubling hello DTUs by increasing hello performance level of a database equates toodoubling hello set of resource available toothat database.</span></span> <span data-ttu-id="b0f0b-116">En premium P11-databas med 1 750 DTU:er erbjuder exempelvis 350 gånger mer DTU-beräkningskraft än en Basic-databas med 5 DTU:er.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-116">For example, a Premium P11 database with 1750 DTUs provides 350x more DTU compute power than a Basic database with 5 DTUs.</span></span>  

<span data-ttu-id="b0f0b-117">toogain djupare inblick i hello-resursförbrukning (DTU) för din arbetsbelastning, Använd [Azure SQL Database Query Performance Insight](sql-database-query-performance.md) till:</span><span class="sxs-lookup"><span data-stu-id="b0f0b-117">toogain deeper insight into hello resource (DTU) consumption of your workload, use [Azure SQL Database Query Performance Insight](sql-database-query-performance.md) to:</span></span>

- <span data-ttu-id="b0f0b-118">Identifiera hello de vanligaste frågorna med CPU/varaktighet/körningar som potentiellt kan anpassas för bättre prestanda.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-118">Identify hello top queries by CPU/Duration/Execution count that can potentially be tuned for improved performance.</span></span> <span data-ttu-id="b0f0b-119">Till exempel en i/o-intensiva fråga kan dra nytta av hello användning av [i minnet optimeringstekniker](sql-database-in-memory.md) toomake bättre användning av hello tillgängligt minne på en viss tjänst tjänstnivå och prestandanivå nivå.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-119">For example, an I/O intensive query might benefit from hello use of [in-memory optimization techniques](sql-database-in-memory.md) toomake better use of hello available memory at a certain service tier and performance level.</span></span>
- <span data-ttu-id="b0f0b-120">Öka detaljnivån hello information om en fråga kan visa text och historik över resursutnyttjandet.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-120">Drill down into hello details of a query, view its text and history of resource utilization.</span></span>
- <span data-ttu-id="b0f0b-121">Rekommendationer som visar åtgärder som utförs av för åtkomst av prestandajustering [SQL Database Advisor](sql-database-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="b0f0b-121">Access performance tuning recommendations that show actions performed by [SQL Database Advisor](sql-database-advisor.md).</span></span>

<span data-ttu-id="b0f0b-122">Du kan [ändra tjänstnivå](sql-database-service-tiers.md) när som helst med minimal avbrottstid tooyour program (vanligtvis medelvärdet under fyra sekunder).</span><span class="sxs-lookup"><span data-stu-id="b0f0b-122">You can [change service tiers](sql-database-service-tiers.md) at any time with minimal downtime tooyour application (generally averaging under four seconds).</span></span> <span data-ttu-id="b0f0b-123">För många företag och appar som kan toocreate databaser och reglera prestandan uppåt eller nedåt på begäran är tillräckligt, särskilt om användningsmönster är relativt förutsägbara.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-123">For many businesses and apps, being able toocreate databases and dial performance up or down on demand is enough, especially if usage patterns are relatively predictable.</span></span> <span data-ttu-id="b0f0b-124">Men om du har oförutsägbara användningsmönster, kan det vara svårt toomanage kostnader och din affärsmodell.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-124">But if you have unpredictable usage patterns, it can make it hard toomanage costs and your business model.</span></span> <span data-ttu-id="b0f0b-125">I det här scenariot använder du en elastisk pool med ett visst antal edtu: er som ska delas mellan flera databaser i poolen hello.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-125">For this scenario, you use an elastic pool with a certain number of eDTUs that are shared among multiple database in hello pool.</span></span>

![Introduktion tooSQL databasen: enkel databas dtu: er efter nivå](./media/sql-database-what-is-a-dtu/single_db_dtus.png)

## <a name="what-are-elastic-database-transaction-units-edtus"></a><span data-ttu-id="b0f0b-127">Vad är elastiska databastransaktionsenheter (eDTU:er)</span><span class="sxs-lookup"><span data-stu-id="b0f0b-127">What are elastic Database Transaction Units (eDTUs)</span></span>
<span data-ttu-id="b0f0b-128">Snarare än innehåller en särskild uppsättning resurser (Dtu) tooa SQL-databas som alltid är tillgänglig oavsett om de inte behövs kan du placera databaser i en [elastisk pool](sql-database-elastic-pool.md) på en SQL Database-server som delar en pool av resurser bland dessa databas.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-128">Rather than provide a dedicated set of resources (DTUs) tooa SQL Database that is always available regardless of whether needed not, you can place databases into an [elastic pool](sql-database-elastic-pool.md) on a SQL Database server that shares a pool of resources among those database.</span></span> <span data-ttu-id="b0f0b-129">hello delade resurser i en elastisk pool som mäts med elastiska Datatransaktionsenheter eller edtu: er.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-129">hello shared resources in an elastic pool measured by elastic Database Transaction Units or eDTUs.</span></span> <span data-ttu-id="b0f0b-130">Elastiska pooler ger en enkel och kostnadseffektiv lösning toomanage hello prestandamål för flera databaser som har vitt spridda och oförutsägbara användningsmönster.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-130">Elastic pools provide a simple cost effective solution toomanage hello performance goals for multiple databases that have widely varying and unpredictable usage patterns.</span></span> <span data-ttu-id="b0f0b-131">I en elastisk pool kan du garantera att ingen en databas använder alla hello resurser i hello poolen och även som en minimal mängd resurser är alltid tillgänglig tooa databas i en elastisk pool.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-131">In an elastic pool, you can guarantee that no one database uses all of hello resources in hello pool and also that a minimum amount of resources is always available tooa database in an elastic pool.</span></span> <span data-ttu-id="b0f0b-132">Se [elastiska pooler](sql-database-elastic-pool.md) för mer information.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-132">See  [elastic pools](sql-database-elastic-pool.md) for more information.</span></span>

![Introduktion tooSQL databasen: edtu: er efter nivå](./media/sql-database-what-is-a-dtu/sqldb_elastic_pools.png)

<span data-ttu-id="b0f0b-134">En pool tilldelas ett bestämt antal eDTU:er till ett fast pris.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-134">A pool is given a set number of eDTUs, for a set price.</span></span> <span data-ttu-id="b0f0b-135">Inom hello elastisk pool ges enskilda databaser hello flexibilitet tooauto skala inom hello konfigurerats gränser.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-135">Within hello elastic pool, individual databases are given hello flexibility tooauto-scale within hello configured boundaries.</span></span> <span data-ttu-id="b0f0b-136">Hårt belastad, kan en databas använda flera edtu: er toomeet begäran när databaser under lätta belastningar förbrukar mindre in toohello plats att använda databaser under ingen inga edtu: er.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-136">Under heavy load, a database can consume more eDTUs toomeet demand while databases under light loads consume less, up toohello point that databases under no load consume no eDTUs.</span></span> <span data-ttu-id="b0f0b-137">Som etablerar resurser för hello hela poolen i stället per databas, administrativa uppgifter är förenklade och du har en förutsägbar budget för hello poolen.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-137">By provisioning resources for hello entire pool, rather than per database, management tasks are simplified and you have a predictable budget for hello pool.</span></span>

<span data-ttu-id="b0f0b-138">Ytterligare edtu: er kan läggas tooan befintlig pool utan avbrott i databasen och utan att påverka på hello-databaser i hello pool.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-138">Additional eDTUs can be added tooan existing pool with no database downtime and with no impact on hello databases in hello pool.</span></span> <span data-ttu-id="b0f0b-139">Om eDTU:er sedan inte längre behövs, kan de tas bort från en befintlig pool när som helst.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-139">Similarly, if extra eDTUs are no longer needed, they can be removed from an existing pool at any point in time.</span></span> <span data-ttu-id="b0f0b-140">Du kan lägga till eller ta bort databaser toohello pool eller begränsa hello mängden edtu: er som en databas kan använda under hög belastning tooreserve edtu: er för andra databaser.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-140">You can add or subtract databases toohello pool, or limit hello amount of eDTUs a database can use under heavy load tooreserve eDTUs for other databases.</span></span> <span data-ttu-id="b0f0b-141">Om en databas förutsägbart under-använder resurser, som du kan flytta från hello poolen och konfigurera den som en enskild databas med förutsägbar mängden resurser som krävs.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-141">If a database is predictably under-utilizing resources, you can move it out of hello pool and configure it as a single database with predictable amount of resources it requires.</span></span>

## <a name="how-can-i-determine-hello-number-of-dtus-needed-by-my-workload"></a><span data-ttu-id="b0f0b-142">Hur vet hello antalet dtu: er som krävs av min arbetsbelastning?</span><span class="sxs-lookup"><span data-stu-id="b0f0b-142">How can I determine hello number of DTUs needed by my workload?</span></span>
<span data-ttu-id="b0f0b-143">Om du söker toomigrate en befintlig lokal eller SQL Server virtuella arbetsbelastning tooAzure SQL-databas, kan du använda hello [DTU Calculator](http://dtucalculator.azurewebsites.net/) tooapproximate hello antalet dtu: er som behövs.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-143">If you are looking toomigrate an existing on-premises or SQL Server virtual machine workload tooAzure SQL Database, you can use hello [DTU Calculator](http://dtucalculator.azurewebsites.net/) tooapproximate hello number of DTUs needed.</span></span> <span data-ttu-id="b0f0b-144">Du kan använda för en befintlig Azure SQL Database-arbetsbelastning [SQL Database Query Performance Insight](sql-database-query-performance.md) toounderstand din databas resurs förbrukning (Dtu) tooget djupare insyn i hur toooptimize din arbetsbelastning.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-144">For an existing Azure SQL Database workload, you can use [SQL Database Query Performance Insight](sql-database-query-performance.md) toounderstand your database resource consumption (DTUs) tooget deeper insight into how toooptimize your workload.</span></span> <span data-ttu-id="b0f0b-145">Du kan också använda hello [sys.dm_db_ resource_stats](https://msdn.microsoft.com/library/dn800981.aspx) DMV tooget hello förbrukning resursinformation för hello senast en timme.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-145">You can also use hello [sys.dm_db_ resource_stats](https://msdn.microsoft.com/library/dn800981.aspx) DMV tooget hello resource consumption information for hello last one hour.</span></span> <span data-ttu-id="b0f0b-146">Du kan också hello katalogvyn [sys.resource_stats](http://msdn.microsoft.com/library/dn269979.aspx) kan också vara efterfrågade tooget hello samma data för hello senaste 14 dagarna, men med en lägre återgivningen av fem minuter långa medelvärden.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-146">Alternatively, hello catalog view [sys.resource_stats](http://msdn.microsoft.com/library/dn269979.aspx) can also be queried tooget hello same data for hello last 14 days, although at a lower fidelity of five-minute averages.</span></span>

## <a name="how-do-i-know-if-i-could-benefit-from-an-elastic-pool-of-resources"></a><span data-ttu-id="b0f0b-147">Hur vet jag om jag kan dra nytta av en elastisk pool med resurser?</span><span class="sxs-lookup"><span data-stu-id="b0f0b-147">How do I know if I could benefit from an elastic pool of resources?</span></span>
<span data-ttu-id="b0f0b-148">Pooler lämpar sig för ett stort antal databaser med specifika användningsmönster.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-148">Pools are suited for a large number of databases with specific utilization patterns.</span></span> <span data-ttu-id="b0f0b-149">För en viss databas kännetecknas det här mönstret av låg genomsnittlig användning med relativt ovanliga användningstoppar.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-149">For a given database, this pattern is characterized by low average utilization with relatively infrequent utilization spikes.</span></span> <span data-ttu-id="b0f0b-150">SQL-databasen automatiskt utvärderar hello historiska resursanvändningen för databaser i en befintlig SQL-databasserver och rekommenderar hello poolen konfigurationen i hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-150">SQL Database automatically evaluates hello historical resource usage of databases in an existing SQL Database server and recommends hello appropriate pool configuration in hello Azure portal.</span></span> <span data-ttu-id="b0f0b-151">Mer information finns i [När ska jag använda en elastisk pool?](sql-database-elastic-pool.md)</span><span class="sxs-lookup"><span data-stu-id="b0f0b-151">For more information, see [when should an elastic pool be used?](sql-database-elastic-pool.md)</span></span>

## <a name="what-happens-when-i-hit-my-maximum-dtus"></a><span data-ttu-id="b0f0b-152">Vad händer när jag når maxgränsen för antalet DTU:er?</span><span class="sxs-lookup"><span data-stu-id="b0f0b-152">What happens when I hit my maximum DTUs</span></span>
<span data-ttu-id="b0f0b-153">Prestanda är kalibrera och styrda tooprovide hello behövs resurser toorun din databas arbetsbelastning in toohello max gränser som är tillåten för din valda nivån/prestandanivå.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-153">Performance levels are calibrated and governed tooprovide hello needed resources toorun your database workload up toohello max limits allowed for your selected service tier/performance level.</span></span> <span data-ttu-id="b0f0b-154">Om din arbetsbelastning är träffa hello gränser i någon av CPU/Data IO/logg-i/o-gränser, kan du fortsätta tooreceive hello resurser på hello högsta tillåtna nivå, men du är sannolikt toosee ökat svarstiderna för dina frågor.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-154">If your workload is hitting hello limits in one of CPU/Data IO/Log IO limits, you continue tooreceive hello resources at hello maximum allowed level, but you are likely toosee increased latencies for your queries.</span></span> <span data-ttu-id="b0f0b-155">Dessa begränsningar resulterar inte i fel, men i stället en nedgång i hello arbetsbelastning, om inte hello långsammare blir så allvarliga att frågor startar tidsinställning. Om du når gränsen för det högsta antalet tillåtna samtidiga användarsessioner/begäranden (arbetstrådar) returneras explicita fel.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-155">These limits do not result in any errors, but rather a slowdown in hello workload, unless hello slowdown becomes so severe that queries start timing out. If you are hitting limits of maximum allowed concurrent user sessions/requests (worker threads), you see explicit errors.</span></span> <span data-ttu-id="b0f0b-156">Information om gränserna för andra resurser än processor, minne, data-I/O och transaktionsloggs-I/O finns i [Azure SQL Database-resursgränser](sql-database-resource-limits.md).</span><span class="sxs-lookup"><span data-stu-id="b0f0b-156">See [Azure SQL Database resource limits](sql-database-resource-limits.md) for information on limit on resources other than CPU, memory, data I/O, and transaction log I/O.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b0f0b-157">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="b0f0b-157">Next steps</span></span>
* <span data-ttu-id="b0f0b-158">Se [tjänstnivån](sql-database-service-tiers.md) information om hello dtu: er och edtu: er som är tillgängliga för enskilda databaser och elastiska pooler.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-158">See [Service tier](sql-database-service-tiers.md) for information on hello DTUs and eDTUs available for single databases and for elastic pools.</span></span>
* <span data-ttu-id="b0f0b-159">Information om gränserna för andra resurser än processor, minne, data-I/O och transaktionsloggs-I/O finns i [Azure SQL Database-resursgränser](sql-database-resource-limits.md).</span><span class="sxs-lookup"><span data-stu-id="b0f0b-159">See [Azure SQL Database resource limits](sql-database-resource-limits.md) for information on limit on resources other than CPU, memory, data I/O, and transaction log I/O.</span></span>
* <span data-ttu-id="b0f0b-160">Se [SQL Database Query Performance Insight](sql-database-query-performance.md) toounderstand användning (Dtu).</span><span class="sxs-lookup"><span data-stu-id="b0f0b-160">See [SQL Database Query Performance Insight](sql-database-query-performance.md) toounderstand your (DTUs) consumption.</span></span>
* <span data-ttu-id="b0f0b-161">Se [SQL-databas benchmark-översikt](sql-database-benchmark-overview.md) toounderstand hello metoder bakom benchmark hello OLTP-arbetsbelastning används toodetermine hello DTU blandas.</span><span class="sxs-lookup"><span data-stu-id="b0f0b-161">See [SQL Database benchmark overview](sql-database-benchmark-overview.md) toounderstand hello methodology behind hello OLTP benchmark workload used toodetermine hello DTU blend.</span></span>
