---
title: "gemensamma aaaTroubleshoot-anslutningen utfärdar tooAzure SQL-databas"
description: "Steg tooidentify och Lös vanliga anslutningsfel för Azure SQL Database."
services: sql-database
documentationcenter: 
author: dalechen
manager: cshepard
editor: 
ms.assetid: ac463d1c-aec8-443d-b66e-fa5eadcccfa8
ms.service: sql-database
ms.custom: monitor & tune
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: daleche
ms.openlocfilehash: eb5f2d7b123a76942c7e4a84a7f475344fbcb144
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-connection-issues-tooazure-sql-database"></a><span data-ttu-id="805c6-103">Felsöka anslutning problem tooAzure SQL-databas</span><span class="sxs-lookup"><span data-stu-id="805c6-103">Troubleshoot connection issues tooAzure SQL Database</span></span>
<span data-ttu-id="805c6-104">När hello anslutning tooAzure SQL-databas misslyckas visas [felmeddelanden](sql-database-develop-error-messages.md).</span><span class="sxs-lookup"><span data-stu-id="805c6-104">When hello connection tooAzure SQL Database fails, you receive [error messages](sql-database-develop-error-messages.md).</span></span> <span data-ttu-id="805c6-105">Den här artikeln är en centraliserad artikel som hjälper dig att felsöka anslutningsproblem för Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="805c6-105">This article is a centralized topic that helps you troubleshoot Azure SQL Database connectivity issues.</span></span> <span data-ttu-id="805c6-106">Det inför [hello vanliga orsaker](#cause) av anslutningsproblem, rekommenderar [ett verktyg för felsökning](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) som hjälper dig att identitet hello problem och ger felsökning steg toosolve [ tillfälliga fel](#troubleshoot-transient-errors) och [beständiga eller inte är tillfällig fel](#troubleshoot-persistent-errors).</span><span class="sxs-lookup"><span data-stu-id="805c6-106">It introduces [hello common causes](#cause) of connection issues, recommends [a troubleshooting tool](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) that helps you identity hello problem, and provides troubleshooting steps toosolve [transient errors](#troubleshoot-transient-errors) and [persistent or non-transient errors](#troubleshoot-persistent-errors).</span></span> 

<span data-ttu-id="805c6-107">Om du får problem med anslutningen hello försök hello felsökning som beskrivs i den här artikeln.</span><span class="sxs-lookup"><span data-stu-id="805c6-107">If you encounter hello connection issues, try hello troubleshoot steps that are described in this article.</span></span>
[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

## <a name="cause"></a><span data-ttu-id="805c6-108">Orsak</span><span class="sxs-lookup"><span data-stu-id="805c6-108">Cause</span></span>
<span data-ttu-id="805c6-109">Anslutningsproblem kan orsakas av något av följande hello:</span><span class="sxs-lookup"><span data-stu-id="805c6-109">Connection problems may be caused by any of hello following:</span></span>

* <span data-ttu-id="805c6-110">Fel tooapply bästa praxis och designriktlinjer under hello designprocessen för programmet.</span><span class="sxs-lookup"><span data-stu-id="805c6-110">Failure tooapply best practices and design guidelines during hello application design process.</span></span>  <span data-ttu-id="805c6-111">Se [Utvecklingsöversikt för SQL-databasen](sql-database-develop-overview.md) tooget igång.</span><span class="sxs-lookup"><span data-stu-id="805c6-111">See [SQL Database Development Overview](sql-database-develop-overview.md) tooget started.</span></span>
* <span data-ttu-id="805c6-112">Azure SQL Database omkonfiguration</span><span class="sxs-lookup"><span data-stu-id="805c6-112">Azure SQL Database reconfiguration</span></span>
* <span data-ttu-id="805c6-113">Brandväggsinställningar</span><span class="sxs-lookup"><span data-stu-id="805c6-113">Firewall settings</span></span>
* <span data-ttu-id="805c6-114">Timeout-värde</span><span class="sxs-lookup"><span data-stu-id="805c6-114">Connection time-out</span></span>
* <span data-ttu-id="805c6-115">Felaktig inloggningsinformation</span><span class="sxs-lookup"><span data-stu-id="805c6-115">Incorrect login information</span></span>
* <span data-ttu-id="805c6-116">Högsta gränsen på vissa Azure SQL Database-resurser</span><span class="sxs-lookup"><span data-stu-id="805c6-116">Maximum limit reached on some Azure SQL Database resources</span></span>

<span data-ttu-id="805c6-117">I allmänhet anslutning problem tooAzure SQL-databas kan klassificeras enligt följande:</span><span class="sxs-lookup"><span data-stu-id="805c6-117">Generally, connection issues tooAzure SQL Database can be classified as follows:</span></span>

* [<span data-ttu-id="805c6-118">Tillfälligt fel (tillfällig eller återkommande)</span><span class="sxs-lookup"><span data-stu-id="805c6-118">Transient errors (short-lived or intermittent)</span></span>](#troubleshoot-transient-errors)
* [<span data-ttu-id="805c6-119">Beständiga eller inte är tillfällig fel (fel regelbundet återkommande)</span><span class="sxs-lookup"><span data-stu-id="805c6-119">Persistent or non-transient errors (errors that regularly recur)</span></span>](#troubleshoot-persistent-errors)

## <a name="try-hello-troubleshooter-for-azure-sql-database-connectivity-issues"></a><span data-ttu-id="805c6-120">Försök hello felsökaren för Azure SQL Database-anslutningsproblem</span><span class="sxs-lookup"><span data-stu-id="805c6-120">Try hello troubleshooter for Azure SQL Database connectivity issues</span></span>
<span data-ttu-id="805c6-121">Om du stöter på en specifik anslutningsfel, försök [verktyget](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database), som kommer att du snabbt identitet och lösa problemet.</span><span class="sxs-lookup"><span data-stu-id="805c6-121">If you encounter a specific connection error, try [this tool](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database), which will help you quickly identity and resolve your problem.</span></span>

## <a name="troubleshoot-transient-errors"></a><span data-ttu-id="805c6-122">Felsök tillfälliga fel</span><span class="sxs-lookup"><span data-stu-id="805c6-122">Troubleshoot transient errors</span></span>

<span data-ttu-id="805c6-123">När ett program ansluter tooan Azure SQL-databas, får du hello följande felmeddelande:</span><span class="sxs-lookup"><span data-stu-id="805c6-123">When an application connects tooan Azure SQL database, you receive hello following error message:</span></span>

```
Error code 40613: "Database <x> on server <y> is not currently available. Please retry hello connection later. If hello problem persists, contact customer support, and provide them hello session tracing ID of <z>"
```

> [!NOTE]
> <span data-ttu-id="805c6-124">Det här felmeddelandet är vanligen övergående (tillfällig).</span><span class="sxs-lookup"><span data-stu-id="805c6-124">This error message is typically transient (short-lived).</span></span>
> 
> 

<span data-ttu-id="805c6-125">Felet uppstår när hello Azure-databas håller på att flytta (eller omkonfigureras) och ditt program förlorar sin anslutning toohello SQL-databas.</span><span class="sxs-lookup"><span data-stu-id="805c6-125">This error occurs when hello Azure database is being moved (or reconfigured) and your application loses its connection toohello SQL database.</span></span> <span data-ttu-id="805c6-126">SQL-databas omkonfiguration händelser inträffar på grund av en planerad åtgärd (till exempel programuppdatering) eller en oväntad händelse (till exempel en process krasch eller belastningsutjämning).</span><span class="sxs-lookup"><span data-stu-id="805c6-126">SQL database reconfiguration events occur because of a planned event (for example, a software upgrade) or an unplanned event (for example, a process crash, or load balancing).</span></span> <span data-ttu-id="805c6-127">De flesta omkonfiguration händelser är vanligtvis tillfällig och högst ska slutföras på mindre än 60 sekunder.</span><span class="sxs-lookup"><span data-stu-id="805c6-127">Most reconfiguration events are generally short-lived and should be completed in less than 60 seconds at most.</span></span> <span data-ttu-id="805c6-128">Dessa händelser kan ibland ta längre toofinish, till exempel när en stor transaktion medför en tidskrävande återställning.</span><span class="sxs-lookup"><span data-stu-id="805c6-128">However, these events can occasionally take longer toofinish, such as when a large transaction causes a long-running recovery.</span></span>

### <a name="steps-tooresolve-transient-connectivity-issues"></a><span data-ttu-id="805c6-129">Steg tooresolve tillfälligt anslutningsproblem</span><span class="sxs-lookup"><span data-stu-id="805c6-129">Steps tooresolve transient connectivity issues</span></span>

1. <span data-ttu-id="805c6-130">Kontrollera hello [Microsoft Azure Service instrumentpanelen](https://azure.microsoft.com/status) för alla kända avbrott som uppstod under hello tid under vilken hello fel rapporterades av programmet hello.</span><span class="sxs-lookup"><span data-stu-id="805c6-130">Check hello [Microsoft Azure Service Dashboard](https://azure.microsoft.com/status) for any known outages that occurred during hello time during which hello errors were reported by hello application.</span></span>
2. <span data-ttu-id="805c6-131">Program som ansluter tooa molntjänst som Azure SQL Database ska förvänta sig periodiska omkonfiguration händelser och implementera försök logik toohandle felen i stället för att visa dessa som programmet fel toousers.</span><span class="sxs-lookup"><span data-stu-id="805c6-131">Applications that connect tooa cloud service such as Azure SQL Database should expect periodic reconfiguration events and implement retry logic toohandle these errors instead of surfacing these as application errors toousers.</span></span> <span data-ttu-id="805c6-132">Granska hello [tillfälliga fel](sql-database-connectivity-issues.md) avsnittet hello bästa praxis och utforma riktlinjer på [Utvecklingsöversikt för SQL-databasen](sql-database-develop-overview.md) försök strategier för mer information och allmänna.</span><span class="sxs-lookup"><span data-stu-id="805c6-132">Review hello [Transient errors](sql-database-connectivity-issues.md) section and hello best practices and design guidelines at [SQL Database Development Overview](sql-database-develop-overview.md) for more information and general retry strategies.</span></span> <span data-ttu-id="805c6-133">Kontrollera kodexempel på [anslutningsbibliotek för SQL Database och SQL Server](sql-database-libraries.md) för specifik information.</span><span class="sxs-lookup"><span data-stu-id="805c6-133">Then, see code samples at [Connection Libraries for SQL Database and SQL Server](sql-database-libraries.md) for specifics.</span></span>
3. <span data-ttu-id="805c6-134">När en databas närmar sig gränsen resurs, kan det verka toobe ett tillfälligt anslutningsproblem.</span><span class="sxs-lookup"><span data-stu-id="805c6-134">As a database approaches its resource limits, it can seem toobe a transient connectivity issue.</span></span> <span data-ttu-id="805c6-135">Se [felsökning av prestandaproblem med](sql-database-troubleshoot-performance.md).</span><span class="sxs-lookup"><span data-stu-id="805c6-135">See [Troubleshooting Performance Issues](sql-database-troubleshoot-performance.md).</span></span>
4. <span data-ttu-id="805c6-136">Om problem med nätverksanslutningen Fortsätt, eller om hello varaktighet som hello fel uppstår i ditt program är längre än 60 sekunder eller om du ser flera förekomster av hello fel i en viss dag, filen en Azure-supportbegäran genom att välja **få stöd för** på hello [Azure-supporten](https://azure.microsoft.com/support/options) plats.</span><span class="sxs-lookup"><span data-stu-id="805c6-136">If connectivity problems continue, or if hello duration for which your application encounters hello error exceeds 60 seconds or if you see multiple occurrences of hello error in a given day, file an Azure support request by selecting **Get Support** on hello [Azure Support](https://azure.microsoft.com/support/options) site.</span></span>

## <a name="troubleshoot-persistent-errors"></a><span data-ttu-id="805c6-137">Felsöka beständiga</span><span class="sxs-lookup"><span data-stu-id="805c6-137">Troubleshoot persistent errors</span></span>
<span data-ttu-id="805c6-138">Om programmet hello överträder tooconnect tooAzure SQL-databas, visar vanligtvis ett problem med en av följande hello:</span><span class="sxs-lookup"><span data-stu-id="805c6-138">If hello application persistently fails tooconnect tooAzure SQL Database, it usually indicates an issue with one of hello following:</span></span>

* <span data-ttu-id="805c6-139">Brandväggskonfigurationen.</span><span class="sxs-lookup"><span data-stu-id="805c6-139">Firewall configuration.</span></span> <span data-ttu-id="805c6-140">hello Azure SQL database eller klientsidan brandväggen blockerar anslutningar tooAzure SQL-databas.</span><span class="sxs-lookup"><span data-stu-id="805c6-140">hello Azure SQL database or client-side firewall is blocking connections tooAzure SQL Database.</span></span>
* <span data-ttu-id="805c6-141">Nätverk omkonfiguration på klientsidan för hello: till exempel en ny IP-adress eller en proxyserver.</span><span class="sxs-lookup"><span data-stu-id="805c6-141">Network reconfiguration on hello client side: for example, a new IP address or a proxy server.</span></span>
* <span data-ttu-id="805c6-142">Fel: till exempel skrev du fel anslutningsparametrar, till exempel hello servernamnet i anslutningssträngen för hello.</span><span class="sxs-lookup"><span data-stu-id="805c6-142">User error: for example, mistyped connection parameters, such as hello server name in hello connection string.</span></span>

### <a name="steps-tooresolve-persistent-connectivity-issues"></a><span data-ttu-id="805c6-143">Steg tooresolve beständiga anslutningsproblem</span><span class="sxs-lookup"><span data-stu-id="805c6-143">Steps tooresolve persistent connectivity issues</span></span>
1. <span data-ttu-id="805c6-144">Ställ in [regler i brandväggen](sql-database-configure-firewall-settings.md) tooallow hello klientens IP-adress.</span><span class="sxs-lookup"><span data-stu-id="805c6-144">Set up [firewall rules](sql-database-configure-firewall-settings.md) tooallow hello client IP address.</span></span> <span data-ttu-id="805c6-145">Konfigurera en brandväggsregel som använder 0.0.0.0 som hello starta IP-adressintervall och använda 255.255.255.255 som hello avslutande IP-adressintervall för tillfälliga testning.</span><span class="sxs-lookup"><span data-stu-id="805c6-145">For temporary testing purposes, set up a firewall rule using 0.0.0.0 as hello starting IP address range and using 255.255.255.255 as hello ending IP address range.</span></span> <span data-ttu-id="805c6-146">Då öppnas hello tooall IP-adresser.</span><span class="sxs-lookup"><span data-stu-id="805c6-146">This will open hello server tooall IP addresses.</span></span> <span data-ttu-id="805c6-147">Om det löser problemet med anslutningen, ta bort den här regeln och skapa en brandväggsregel för en korrekt begränsade IP-adressen eller adressintervallet.</span><span class="sxs-lookup"><span data-stu-id="805c6-147">If this resolves your connectivity issue, remove this rule and create a firewall rule for an appropriately limited IP address or address range.</span></span> 
2. <span data-ttu-id="805c6-148">Kontrollera att port 1433 är öppen för utgående anslutningar på alla brandväggar mellan hello-klienten och hello Internet.</span><span class="sxs-lookup"><span data-stu-id="805c6-148">On all firewalls between hello client and hello Internet, make sure that port 1433 is open for outbound connections.</span></span> <span data-ttu-id="805c6-149">Granska [konfigurera hello Windows-brandväggen tooAllow SQL Server-åtkomst](https://msdn.microsoft.com/library/cc646023.aspx) och [Hybrid Identity krävs portar och protokoll](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) för ytterligare pekare med tooadditional portar som du behöver tooopen för Azure Active Directory-autentisering.</span><span class="sxs-lookup"><span data-stu-id="805c6-149">Review [Configure hello Windows Firewall tooAllow SQL Server Access](https://msdn.microsoft.com/library/cc646023.aspx) and [Hybrid Identity Required Ports and Protocols](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) for additional pointers related tooadditional ports that you need tooopen for Azure Active Directory authentication.</span></span>
3. <span data-ttu-id="805c6-150">Kontrollera anslutningssträngen och andra inställningar.</span><span class="sxs-lookup"><span data-stu-id="805c6-150">Verify your connection string and other connection settings.</span></span> <span data-ttu-id="805c6-151">Se hello anslutningssträngen avsnitt i hello [anslutning problem avsnittet](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span><span class="sxs-lookup"><span data-stu-id="805c6-151">See hello Connection String section in hello [connectivity issues topic](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span></span>
4. <span data-ttu-id="805c6-152">Kontrollera tjänstens hälsa i hello instrumentpanelen.</span><span class="sxs-lookup"><span data-stu-id="805c6-152">Check service health in hello dashboard.</span></span> <span data-ttu-id="805c6-153">Om du tror att det finns ett regionalt strömavbrott, se [återställa från avbrott](sql-database-disaster-recovery.md) för steg toorecover tooa nya regionen.</span><span class="sxs-lookup"><span data-stu-id="805c6-153">If you think there’s a regional outage, see [Recover from an outage](sql-database-disaster-recovery.md) for steps toorecover tooa new region.</span></span>

## <a name="next-steps"></a><span data-ttu-id="805c6-154">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="805c6-154">Next steps</span></span>
* [<span data-ttu-id="805c6-155">Felsökning av problem med Azure SQL Database prestanda</span><span class="sxs-lookup"><span data-stu-id="805c6-155">Troubleshoot Azure SQL Database performance issues</span></span>](sql-database-troubleshoot-performance.md)
* [<span data-ttu-id="805c6-156">Sök hello dokumentationen på Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="805c6-156">Search hello documentation on Microsoft Azure</span></span>](http://azure.microsoft.com/search/documentation/)
* [<span data-ttu-id="805c6-157">Visa hello uppdateringar senaste toohello Azure SQL Database-tjänsten</span><span class="sxs-lookup"><span data-stu-id="805c6-157">View hello latest updates toohello Azure SQL Database service</span></span>](http://azure.microsoft.com/updates/?service=sql-database)

## <a name="additional-resources"></a><span data-ttu-id="805c6-158">Ytterligare resurser</span><span class="sxs-lookup"><span data-stu-id="805c6-158">Additional resources</span></span>
* [<span data-ttu-id="805c6-159">Översikt över SQL Database-utveckling</span><span class="sxs-lookup"><span data-stu-id="805c6-159">SQL Database Development Overview</span></span>](sql-database-develop-overview.md)
* [<span data-ttu-id="805c6-160">Allmänna riktlinjer för tillfälliga fel-hantering</span><span class="sxs-lookup"><span data-stu-id="805c6-160">General transient fault-handling guidance</span></span>](../best-practices-retry-general.md)
* [<span data-ttu-id="805c6-161">Anslutningsbibliotek för SQL Database och SQL Server</span><span class="sxs-lookup"><span data-stu-id="805c6-161">Connection libraries for SQL Database and SQL Server</span></span>](sql-database-libraries.md)

