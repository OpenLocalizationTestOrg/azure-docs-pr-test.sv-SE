---
title: aaaConfigure Azure Active Directory-autentisering - SQL | Microsoft Docs
description: "Lär dig hur tooconnect tooSQL Database och SQL Data Warehouse med hjälp av Azure Active Directory-autentisering."
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 7e2508a1-347e-4f15-b060-d46602c5ce7e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/10/2017
ms.author: rickbyh
ms.openlocfilehash: d6222da0b840f96d4bcfbc02964dc7c54d5ea1ee
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="configure-and-manage-azure-active-directory-authentication-with-sql-database-or-sql-data-warehouse"></a><span data-ttu-id="0512b-103">Konfigurera och hantera Azure Active Directory-autentisering med SQL Database eller SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="0512b-103">Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse</span></span>

<span data-ttu-id="0512b-104">Den här artikeln beskrivs hur du toocreate och fylla i Azure AD och sedan använda Azure AD med Azure SQL Database och SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="0512b-104">This article shows you how toocreate and populate Azure AD, and then use Azure AD with Azure SQL Database and SQL Data Warehouse.</span></span> <span data-ttu-id="0512b-105">En översikt finns [Azure Active Directory Authentication](sql-database-aad-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="0512b-105">For an overview, see [Azure Active Directory Authentication](sql-database-aad-authentication.md).</span></span>

>  [!NOTE]  
>  <span data-ttu-id="0512b-106">Ansluter tooSQL Server som körs på en Azure VM inte stöds med ett Azure Active Directory-konto.</span><span class="sxs-lookup"><span data-stu-id="0512b-106">Connecting tooSQL Server running on an Azure VM is not supported using an Azure Active Directory account.</span></span> <span data-ttu-id="0512b-107">Använd en domän Active Directory-konto i stället.</span><span class="sxs-lookup"><span data-stu-id="0512b-107">Use a domain Active Directory account instead.</span></span>

## <a name="create-and-populate-an-azure-ad"></a><span data-ttu-id="0512b-108">Skapa och fylla i en Azure AD</span><span class="sxs-lookup"><span data-stu-id="0512b-108">Create and populate an Azure AD</span></span>
<span data-ttu-id="0512b-109">Skapa en Azure AD och fylla det med användare och grupper.</span><span class="sxs-lookup"><span data-stu-id="0512b-109">Create an Azure AD and populate it with users and groups.</span></span> <span data-ttu-id="0512b-110">Azure AD kan vara hello initiala domänen Azure AD-hanterad domän.</span><span class="sxs-lookup"><span data-stu-id="0512b-110">Azure AD can be hello initial domain Azure AD managed domain.</span></span> <span data-ttu-id="0512b-111">Azure AD kan också vara en lokal Active Directory Domain Services som är federerat med hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="0512b-111">Azure AD can also be an on-premises Active Directory Domain Services that is federated with hello Azure AD.</span></span>

<span data-ttu-id="0512b-112">Mer information finns i [integrera dina lokala identiteter med Azure Active Directory](../active-directory/active-directory-aadconnect.md), [lägga till egna domänen namnet tooAzure AD](../active-directory/active-directory-add-domain.md), [nu federation med stöd för Microsoft Azure Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [administrera Azure AD-katalogen](https://msdn.microsoft.com/library/azure/hh967611.aspx), [hantera Azure AD med hjälp av Windows PowerShell](/powershell/azure/overview?view=azureadps-2.0), och [Hybrididentitet Krävs portar och protokoll](../active-directory/active-directory-aadconnect-ports.md).</span><span class="sxs-lookup"><span data-stu-id="0512b-112">For more information, see [Integrating your on-premises identities with Azure Active Directory](../active-directory/active-directory-aadconnect.md), [Add your own domain name tooAzure AD](../active-directory/active-directory-add-domain.md), [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Administering your Azure AD directory](https://msdn.microsoft.com/library/azure/hh967611.aspx), [Manage Azure AD using Windows PowerShell](/powershell/azure/overview?view=azureadps-2.0), and [Hybrid Identity Required Ports and Protocols](../active-directory/active-directory-aadconnect-ports.md).</span></span>

## <a name="optional-associate-or-change-hello-active-directory-that-is-currently-associated-with-your-azure-subscription"></a><span data-ttu-id="0512b-113">Valfritt: Koppla eller ändra hello active directory som associeras med din Azure-prenumeration</span><span class="sxs-lookup"><span data-stu-id="0512b-113">Optional: Associate or change hello active directory that is currently associated with your Azure Subscription</span></span>
<span data-ttu-id="0512b-114">tooassociate databasen med hello Azure AD-katalogen för din organisation, se hello directory en betrodd katalog för hello Azure värd hello prenumerationsdatabasen.</span><span class="sxs-lookup"><span data-stu-id="0512b-114">tooassociate your database with hello Azure AD directory for your organization, make hello directory a trusted directory for hello Azure subscription hosting hello database.</span></span> <span data-ttu-id="0512b-115">Mer information finns i [Hur Azure-prenumerationer är associerade med Azure AD](https://msdn.microsoft.com/library/azure/dn629581.aspx).</span><span class="sxs-lookup"><span data-stu-id="0512b-115">For more information, see [How Azure subscriptions are associated with Azure AD](https://msdn.microsoft.com/library/azure/dn629581.aspx).</span></span>

<span data-ttu-id="0512b-116">**Ytterligare information:** var Azure-prenumerationen har en förtroenderelation med en Azure AD-instans.</span><span class="sxs-lookup"><span data-stu-id="0512b-116">**Additional information:** Every Azure subscription has a trust relationship with an Azure AD instance.</span></span> <span data-ttu-id="0512b-117">Detta innebär att den litar den directory tooauthenticate användare, tjänster och enheter.</span><span class="sxs-lookup"><span data-stu-id="0512b-117">This means that it trusts that directory tooauthenticate users, services, and devices.</span></span> <span data-ttu-id="0512b-118">Flera prenumerationer kan lita hello samma katalog, men en prenumeration litar bara på en katalog.</span><span class="sxs-lookup"><span data-stu-id="0512b-118">Multiple subscriptions can trust hello same directory, but a subscription trusts only one directory.</span></span> <span data-ttu-id="0512b-119">Du kan se vilken katalog som är betrodd av din prenumeration på hello **inställningar** högst [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="0512b-119">You can see which directory is trusted by your subscription under hello **Settings** tab at [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span></span> <span data-ttu-id="0512b-120">Den här förtroenderelationen med en prenumeration med en katalog skiljer sig från hello-relation med en prenumeration med alla andra resurser i Azure (webbplatser, databaser och så vidare), som är mer som underordnade resurser till en prenumeration.</span><span class="sxs-lookup"><span data-stu-id="0512b-120">This trust relationship that a subscription has with a directory is unlike hello relationship that a subscription has with all other resources in Azure (websites, databases, and so on), which are more like child resources of a subscription.</span></span> <span data-ttu-id="0512b-121">Om en prenumeration går ut och sedan komma åt toothose andra resurser som är associerade med prenumerationen hello stoppas även.</span><span class="sxs-lookup"><span data-stu-id="0512b-121">If a subscription expires, then access toothose other resources associated with hello subscription also stops.</span></span> <span data-ttu-id="0512b-122">Men hello katalogen finns kvar i Azure och du kan associera en annan prenumeration med katalogen och fortsätta toomanage hello directory-användare.</span><span class="sxs-lookup"><span data-stu-id="0512b-122">But hello directory remains in Azure, and you can associate another subscription with that directory and continue toomanage hello directory users.</span></span> <span data-ttu-id="0512b-123">Mer information om resurser finns [förstå resursåtkomst i Azure](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span><span class="sxs-lookup"><span data-stu-id="0512b-123">For more information about resources, see [Understanding resource access in Azure](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span></span>

<span data-ttu-id="0512b-124">hello visar följande procedurer hur toochange hello associerade katalog för en viss prenumeration.</span><span class="sxs-lookup"><span data-stu-id="0512b-124">hello following procedures show you how toochange hello associated directory for a given subscription.</span></span>
1. <span data-ttu-id="0512b-125">Ansluta tooyour [klassiska Azure-portalen](https://manage.windowsazure.com/) med hjälp av en administratör för Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="0512b-125">Connect tooyour [Azure Classic Portal](https://manage.windowsazure.com/) by using an Azure subscription administrator.</span></span>
2. <span data-ttu-id="0512b-126">Markera på hello vänstra banderoll **inställningar**.</span><span class="sxs-lookup"><span data-stu-id="0512b-126">On hello left banner, select **SETTINGS**.</span></span>
3. <span data-ttu-id="0512b-127">Dina prenumerationer visas på skärmen för hello-inställningar.</span><span class="sxs-lookup"><span data-stu-id="0512b-127">Your subscriptions appear in hello settings screen.</span></span> <span data-ttu-id="0512b-128">Eventuellt hello prenumerationen inte visas klickar du på **prenumerationer** hello överst listrutan hello **FILTER av DIRECTORY** rutan och välj hello-katalog som innehåller dina prenumerationer och klicka sedan på **Tillämpa**.</span><span class="sxs-lookup"><span data-stu-id="0512b-128">If hello desired subscription does not appear, click **Subscriptions** at hello top, drop down hello **FILTER BY DIRECTORY** box and select hello directory that contains your subscriptions, and then click **APPLY**.</span></span>
   
    ![Välj prenumeration][4]
4. <span data-ttu-id="0512b-130">I hello **inställningar** området klickar du på din prenumeration och klicka sedan på **redigera katalog** på hello hello sidans nederkant.</span><span class="sxs-lookup"><span data-stu-id="0512b-130">In hello **settings** area, click your subscription, and then click  **EDIT DIRECTORY** at hello bottom of hello page.</span></span>
   
    ![AD-inställningar-portal][5]
5. <span data-ttu-id="0512b-132">I hello **redigera katalog** rutan Välj hello Azure Active Directory som är associerad med din SQL Server eller SQL Data Warehouse och klicka sedan på pilen hello för nästa.</span><span class="sxs-lookup"><span data-stu-id="0512b-132">In hello **EDIT DIRECTORY** box, select hello Azure Active Directory that is associated with your SQL Server or SQL Data Warehouse, and then click hello arrow for next.</span></span>
   
    ![Redigera katalog val][6]
6. <span data-ttu-id="0512b-134">I hello **BEKRÄFTA** directory mappning dialogrutan Bekräfta att ”**alla medadministratörer tas bort.**”</span><span class="sxs-lookup"><span data-stu-id="0512b-134">In hello **CONFIRM** directory Mapping dialog box, confirm that "**All co-administrators will be removed.**"</span></span>
   
    ![Redigera katalog bekräfta][7]
7. <span data-ttu-id="0512b-136">Klicka på hello Kontrollera tooreload hello portal.</span><span class="sxs-lookup"><span data-stu-id="0512b-136">Click hello check tooreload hello portal.</span></span>

   > [!NOTE]
   > <span data-ttu-id="0512b-137">När du ändrar hello directory access tooall medadministratörer, Azure AD-användare och grupper och resource backas upp av directory användarna tas bort och de har inte längre åtkomst toothis prenumeration eller dess resurser.</span><span class="sxs-lookup"><span data-stu-id="0512b-137">When you change hello directory, access tooall co-administrators, Azure AD users and groups, and directory-backed resource users are removed and they no longer have access toothis subscription or its resources.</span></span> <span data-ttu-id="0512b-138">Endast kan du, som tjänstadministratör Konfigurera åtkomst för säkerhetsobjekt baserat på nya hello-katalogen.</span><span class="sxs-lookup"><span data-stu-id="0512b-138">Only you, as a service administrator, can configure access for principals based on hello new directory.</span></span> <span data-ttu-id="0512b-139">Den här ändringen kan ta lång tid toopropagate tooall resurser.</span><span class="sxs-lookup"><span data-stu-id="0512b-139">This change might take a substantial amount of time toopropagate tooall resources.</span></span> <span data-ttu-id="0512b-140">Ändra hello directory även ändringar hello Azure AD-administratör för SQL Database och SQL Data Warehouse och neka åtkomst till databasen för alla befintliga Azure AD-användare.</span><span class="sxs-lookup"><span data-stu-id="0512b-140">Changing hello directory, also changes hello Azure AD administrator for SQL Database and SQL Data Warehouse and disallow database access for any existing Azure AD users.</span></span> <span data-ttu-id="0512b-141">hello Azure AD-administratör måste vara återställning (som beskrivs nedan) och nya Azure AD-användare måste skapas.</span><span class="sxs-lookup"><span data-stu-id="0512b-141">hello Azure AD admin must be reset (as described below) and new Azure AD users must be created.</span></span>
   >  

## <a name="create-an-azure-ad-administrator-for-azure-sql-server"></a><span data-ttu-id="0512b-142">Skapa en Azure AD-administratör för Azure SQL server</span><span class="sxs-lookup"><span data-stu-id="0512b-142">Create an Azure AD administrator for Azure SQL server</span></span>
<span data-ttu-id="0512b-143">Varje Azure SQL-server (som värd för en SQL Database eller SQL Data Warehouse) börjar med ett administratörskonto för enskild server Hej administratör hello hela Azure SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0512b-143">Each Azure SQL server (which hosts a SQL Database or SQL Data Warehouse) starts with a single server administrator account that is hello administrator of hello entire Azure SQL server.</span></span> <span data-ttu-id="0512b-144">En andra SQL Server-administratören måste skapas, som är en Azure AD-kontot.</span><span class="sxs-lookup"><span data-stu-id="0512b-144">A second SQL Server administrator must be created, that is an Azure AD account.</span></span> <span data-ttu-id="0512b-145">Detta säkerhetsobjekt skapas som en innesluten databasanvändare i hello master-databasen.</span><span class="sxs-lookup"><span data-stu-id="0512b-145">This principal is created as a contained database user in hello master database.</span></span> <span data-ttu-id="0512b-146">Som administratör hello server-administratörskonton som är medlemmar i hello **db_owner** roll i varje användare databasen och ange varje användardatabas som hello **dbo** användare.</span><span class="sxs-lookup"><span data-stu-id="0512b-146">As administrators, hello server administrator accounts are members of hello **db_owner** role in every user database, and enter each user database as hello **dbo** user.</span></span> <span data-ttu-id="0512b-147">Läs mer om administratörskonton i hello server [hantera databaser och inloggningar i Azure SQL Database](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="0512b-147">For more information about hello server administrator accounts, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>

<span data-ttu-id="0512b-148">När du använder Azure Active Directory med geo-replikering, måste hello Azure Active Directory-administratör konfigureras för både hello primära och sekundära hello-servrar.</span><span class="sxs-lookup"><span data-stu-id="0512b-148">When using Azure Active Directory with geo-replication, hello Azure Active Directory administrator must be configured for both hello primary and hello secondary servers.</span></span> <span data-ttu-id="0512b-149">Om en server inte har en Azure Active Directory-administratör, sedan får Azure Active Directory-inloggningar och användare felet ”Det går inte att ansluta” tooserver.</span><span class="sxs-lookup"><span data-stu-id="0512b-149">If a server does not have an Azure Active Directory administrator, then Azure Active Directory logins and users receive a "Cannot connect" tooserver error.</span></span>

> [!NOTE]
> <span data-ttu-id="0512b-150">Användare som inte är baserade på en Azure AD-kontot (inklusive hello Azure SQL server-administratörskontot) kan inte skapa Azure AD-baserade användare, eftersom de inte har behörighet toovalidate föreslagna databasanvändare med hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="0512b-150">Users that are not based on an Azure AD account (including hello Azure SQL server administrator account), cannot create Azure AD-based users, because they do not have permission toovalidate proposed database users with hello Azure AD.</span></span>
> 

## <a name="provision-an-azure-active-directory-administrator-for-your-azure-sql-server"></a><span data-ttu-id="0512b-151">Etablera en Azure Active Directory-administratör för din Azure SQL-server</span><span class="sxs-lookup"><span data-stu-id="0512b-151">Provision an Azure Active Directory administrator for your Azure SQL server</span></span>

<span data-ttu-id="0512b-152">hello följande två procedurer visar hur tooprovision administratör Azure Active Directory för din Azure SQL-server i hello Azure-portalen och med hjälp av PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0512b-152">hello following two procedures show you how tooprovision an Azure Active Directory administrator for your Azure SQL server in hello Azure portal and by using PowerShell.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="0512b-153">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="0512b-153">Azure portal</span></span>
1. <span data-ttu-id="0512b-154">I hello [Azure-portalen](https://portal.azure.com/), hello övre högra hörnet i, klicka på din anslutning toodrop ned en lista över möjliga Active kataloger.</span><span class="sxs-lookup"><span data-stu-id="0512b-154">In hello [Azure portal](https://portal.azure.com/), in hello upper-right corner, click your connection toodrop down a list of possible Active Directories.</span></span> <span data-ttu-id="0512b-155">Välj hello korrigera Active Directory som standard hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="0512b-155">Choose hello correct Active Directory as hello default Azure AD.</span></span> <span data-ttu-id="0512b-156">Det här steget länkar hello prenumeration association med Active Directory med Azure SQL-server kontrollerar som hello samma prenumeration som används för både Azure AD och SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0512b-156">This step links hello subscription association with Active Directory with Azure SQL server making sure that hello same subscription is used for both Azure AD and SQL Server.</span></span> <span data-ttu-id="0512b-157">(hello Azure SQL-server kan vara värd för Azure SQL Database eller Azure SQL Data Warehouse.)</span><span class="sxs-lookup"><span data-stu-id="0512b-157">(hello Azure SQL server can be hosting either Azure SQL Database or Azure SQL Data Warehouse.)</span></span>   
    <span data-ttu-id="0512b-158">![Välj ad][8]</span><span class="sxs-lookup"><span data-stu-id="0512b-158">![choose-ad][8]</span></span>   
    
2. <span data-ttu-id="0512b-159">I hello kvar banderoll väljer **SQL-servrar**väljer din **SQLServer**, och klicka sedan på hello **SQL Server** bladet, klickar du på **Active Directory-administratör**.</span><span class="sxs-lookup"><span data-stu-id="0512b-159">In hello left banner select **SQL servers**, select your **SQL server**, and then in hello **SQL Server** blade, click **Active Directory admin**.</span></span>   
3. <span data-ttu-id="0512b-160">I hello **Active Directory-administratör** bladet, klickar du på **ange admin**.</span><span class="sxs-lookup"><span data-stu-id="0512b-160">In hello **Active Directory admin** blade, click **Set admin**.</span></span>   
    <span data-ttu-id="0512b-161">![Välj active directory](./media/sql-database-aad-authentication/select-active-directory.png)</span><span class="sxs-lookup"><span data-stu-id="0512b-161">![select active directory](./media/sql-database-aad-authentication/select-active-directory.png)</span></span>  
    
4. <span data-ttu-id="0512b-162">I hello **lägga till administratören** bladet söka efter en användare, Välj hello användare eller grupp toobe administratör och klicka sedan på **Välj**.</span><span class="sxs-lookup"><span data-stu-id="0512b-162">In hello **Add admin** blade, search for a user, select hello user or group toobe an administrator, and then click **Select**.</span></span> <span data-ttu-id="0512b-163">(hello Active Directory-administratör bladet visar alla medlemmar och grupper i Active Directory.</span><span class="sxs-lookup"><span data-stu-id="0512b-163">(hello Active Directory admin blade shows all members and groups of your Active Directory.</span></span> <span data-ttu-id="0512b-164">Användare eller grupper som är nedtonade kan inte väljas eftersom de inte stöds som Azure AD-administratörer.</span><span class="sxs-lookup"><span data-stu-id="0512b-164">Users or groups that are grayed out cannot be selected because they are not supported as Azure AD administrators.</span></span> <span data-ttu-id="0512b-165">(Se hello lista över stöds administratörer i hello **Azure AD-funktioner och begränsningar** avsnitt i [Använd Azure Active Directory-autentisering för autentisering med SQL Database eller SQL Data Warehouse](sql-database-aad-authentication.md).) Rollbaserad åtkomstkontroll (RBAC) är inte spridda tooSQL Server gäller toohello-portalen.</span><span class="sxs-lookup"><span data-stu-id="0512b-165">(See hello list of supported admins in hello **Azure AD Features and Limitations** section of [Use Azure Active Directory Authentication for authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication.md).) Role-based access control (RBAC) applies only toohello portal and is not propagated tooSQL Server.</span></span>   
    <span data-ttu-id="0512b-166">![Välj admin](./media/sql-database-aad-authentication/select-admin.png)</span><span class="sxs-lookup"><span data-stu-id="0512b-166">![select admin](./media/sql-database-aad-authentication/select-admin.png)</span></span>  
    
5. <span data-ttu-id="0512b-167">Hello överst i hello **Active Directory-administratör** bladet, klickar du på **spara**.</span><span class="sxs-lookup"><span data-stu-id="0512b-167">At hello top of hello **Active Directory admin** blade, click **SAVE**.</span></span>   
    <span data-ttu-id="0512b-168">![Spara admin](./media/sql-database-aad-authentication/save-admin.png)</span><span class="sxs-lookup"><span data-stu-id="0512b-168">![save admin](./media/sql-database-aad-authentication/save-admin.png)</span></span>   

<span data-ttu-id="0512b-169">hello processen att ändra Hej administratör kan ta några minuter.</span><span class="sxs-lookup"><span data-stu-id="0512b-169">hello process of changing hello administrator may take several minutes.</span></span> <span data-ttu-id="0512b-170">Sedan hello ny administratör visas i hello **Active Directory-administratör** rutan.</span><span class="sxs-lookup"><span data-stu-id="0512b-170">Then hello new administrator appears in hello **Active Directory admin** box.</span></span>

   > [!NOTE]
   > <span data-ttu-id="0512b-171">När du konfigurerar hello Azure AD admin kan inte hello nytt admin namn (användare eller grupp) redan finnas i hello virtuell master-databasen som en användare för SQL Server-autentisering.</span><span class="sxs-lookup"><span data-stu-id="0512b-171">When setting up hello Azure AD admin, hello new admin name (user or group) cannot already be present in hello virtual master database as a SQL Server authentication user.</span></span> <span data-ttu-id="0512b-172">Om den finns, misslyckas hello Azure AD admin installationen; återställer skapades och som anger att sådana administratör (namn) redan finns.</span><span class="sxs-lookup"><span data-stu-id="0512b-172">If present, hello Azure AD admin setup will fail; rolling back its creation and indicating that such an admin (name) already exists.</span></span> <span data-ttu-id="0512b-173">Alla arbete tooconnect toohello servern med hjälp av Azure AD-autentisering misslyckas eftersom SQL Server-autentisering användaren inte är en del av hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="0512b-173">Since such a SQL Server authentication user is not part of hello Azure AD, any effort tooconnect toohello server using Azure AD authentication fails.</span></span>
   > 


<span data-ttu-id="0512b-174">toolater ta bort en administratör hello överst i hello **Active Directory-administratör** bladet, klickar du på **ta bort admin**, och klicka sedan på **spara**.</span><span class="sxs-lookup"><span data-stu-id="0512b-174">toolater remove an Admin, at hello top of hello **Active Directory admin** blade, click **Remove admin**, and then click **Save**.</span></span>

### <a name="powershell"></a><span data-ttu-id="0512b-175">PowerShell</span><span class="sxs-lookup"><span data-stu-id="0512b-175">PowerShell</span></span>
<span data-ttu-id="0512b-176">toorun PowerShell-cmdlets måste toohave Azure PowerShell installerade och körs.</span><span class="sxs-lookup"><span data-stu-id="0512b-176">toorun PowerShell cmdlets, you need toohave Azure PowerShell installed and running.</span></span> <span data-ttu-id="0512b-177">Detaljerad information finns i [hur tooinstall och konfigurera Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="0512b-177">For detailed information, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

<span data-ttu-id="0512b-178">tooprovision en Azure AD-administratör kör hello följande Azure PowerShell-kommandon:</span><span class="sxs-lookup"><span data-stu-id="0512b-178">tooprovision an Azure AD admin, execute hello following Azure PowerShell commands:</span></span>

* <span data-ttu-id="0512b-179">Add-AzureRmAccount</span><span class="sxs-lookup"><span data-stu-id="0512b-179">Add-AzureRmAccount</span></span>
* <span data-ttu-id="0512b-180">SELECT-AzureRmSubscription</span><span class="sxs-lookup"><span data-stu-id="0512b-180">Select-AzureRmSubscription</span></span>

<span data-ttu-id="0512b-181">Cmdlet: ar används tooprovision och hantera Azure AD-administratör:</span><span class="sxs-lookup"><span data-stu-id="0512b-181">Cmdlets used tooprovision and manage Azure AD admin:</span></span>

| <span data-ttu-id="0512b-182">Cmdlet-namn</span><span class="sxs-lookup"><span data-stu-id="0512b-182">Cmdlet name</span></span> | <span data-ttu-id="0512b-183">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="0512b-183">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="0512b-184">Ange AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="0512b-184">Set-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/set-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="0512b-185">Etablerar en Azure Active Directory-administratör för Azure SQL server eller Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="0512b-185">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="0512b-186">(Måste vara från hello aktuell prenumeration.)</span><span class="sxs-lookup"><span data-stu-id="0512b-186">(Must be from hello current subscription.)</span></span> |
| [<span data-ttu-id="0512b-187">Ta bort AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="0512b-187">Remove-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/remove-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="0512b-188">Tar bort en Azure Active Directory-administratör för Azure SQL server eller Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="0512b-188">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
| [<span data-ttu-id="0512b-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="0512b-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/get-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="0512b-190">Returnerar information om en administratör för Azure Active Directory som har konfigurerats för hello Azure SQL server eller Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="0512b-190">Returns information about an Azure Active Directory administrator currently configured for hello Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="0512b-191">Använd PowerShell-kommandot get-help toosee mer detaljerad information för var och en av dessa kommandon, till exempel ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span><span class="sxs-lookup"><span data-stu-id="0512b-191">Use PowerShell command get-help toosee more details for each of these commands, for example ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span></span>

<span data-ttu-id="0512b-192">Hej följande skript tillhandahåller en administratör Azure AD-grupp med namnet **DBA_Group** (objekt-id `40b79501-b343-44ed-9ce7-da4c8cc7353f`) för hello **demo_server** server i en resursgrupp med namnet **grupp-23** :</span><span class="sxs-lookup"><span data-stu-id="0512b-192">hello following script provisions an Azure AD administrator group named **DBA_Group** (object id `40b79501-b343-44ed-9ce7-da4c8cc7353f`) for hello **demo_server** server in a resource group named **Group-23**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group"
```

<span data-ttu-id="0512b-193">Hej **DisplayName** Indataparametern accepterar hello Azure AD visningsnamn eller hello UPN-namnet.</span><span class="sxs-lookup"><span data-stu-id="0512b-193">hello **DisplayName** input parameter accepts either hello Azure AD display name or hello User Principal Name.</span></span> <span data-ttu-id="0512b-194">Till exempel ``DisplayName="John Smith"`` och ``DisplayName="johns@contoso.com"``.</span><span class="sxs-lookup"><span data-stu-id="0512b-194">For example, ``DisplayName="John Smith"`` and ``DisplayName="johns@contoso.com"``.</span></span> <span data-ttu-id="0512b-195">Visningsnamn stöd för Azure AD grupper endast hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="0512b-195">For Azure AD groups only hello Azure AD display name is supported.</span></span>

> [!NOTE]
> <span data-ttu-id="0512b-196">hello Azure PowerShell-kommandot ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` förhindrar inte att du etablerar Azure AD-administratörer för användare som inte stöds.</span><span class="sxs-lookup"><span data-stu-id="0512b-196">hello Azure PowerShell  command ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` does not prevent you from provisioning Azure AD admins for unsupported users.</span></span> <span data-ttu-id="0512b-197">En användare som inte stöds kan etableras, men kan inte ansluta tooa databas.</span><span class="sxs-lookup"><span data-stu-id="0512b-197">An unsupported user can be provisioned, but can not connect tooa database.</span></span> 
> 

<span data-ttu-id="0512b-198">hello följande exempel används hello valfria **ObjectID**:</span><span class="sxs-lookup"><span data-stu-id="0512b-198">hello following example uses hello optional **ObjectID**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group" -ObjectId "40b79501-b343-44ed-9ce7-da4c8cc7353f"
```

> [!NOTE]
> <span data-ttu-id="0512b-199">hello Azure AD **ObjectID** krävs när hello **DisplayName** är inte unikt.</span><span class="sxs-lookup"><span data-stu-id="0512b-199">hello Azure AD **ObjectID** is required when hello **DisplayName** is not unique.</span></span> <span data-ttu-id="0512b-200">tooretrieve hello **ObjectID** och **DisplayName** värden, hello Active Directory-delen av den klassiska Azure-portalen och visar hello egenskaperna för en användare eller grupp.</span><span class="sxs-lookup"><span data-stu-id="0512b-200">tooretrieve hello **ObjectID** and **DisplayName** values, use hello Active Directory section of Azure Classic Portal, and view hello properties of a user or group.</span></span>
> 

<span data-ttu-id="0512b-201">hello följande exempel returnerar information om Hej aktuella Azure AD-administratör för Azure SQL server:</span><span class="sxs-lookup"><span data-stu-id="0512b-201">hello following example returns information about hello current Azure AD admin for Azure SQL server:</span></span>

```
Get-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server" | Format-List
```

<span data-ttu-id="0512b-202">hello följande exempel tar bort en Azure AD-administratör:</span><span class="sxs-lookup"><span data-stu-id="0512b-202">hello following example removes an Azure AD administrator:</span></span>

```
Remove-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server"
```

<span data-ttu-id="0512b-203">Du kan också etablera ett Azure Active Directory-administratör med hjälp av hello REST API: er.</span><span class="sxs-lookup"><span data-stu-id="0512b-203">You can also provision an Azure Active Directory Administrator by using hello REST APIs.</span></span> <span data-ttu-id="0512b-204">Mer information finns i [Service Management REST API-referens och åtgärder för Azure SQL-databaser för Azure SQL-databaser](https://msdn.microsoft.com/library/azure/dn505719.aspx)</span><span class="sxs-lookup"><span data-stu-id="0512b-204">For more information, see [Service Management REST API Reference and Operations for Azure SQL Databases Operations for Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn505719.aspx)</span></span>

### <a name="cli"></a><span data-ttu-id="0512b-205">CLI</span><span class="sxs-lookup"><span data-stu-id="0512b-205">CLI</span></span>  
<span data-ttu-id="0512b-206">Du kan också etablera en Azure AD-administratör genom att anropa hello följande CLI-kommandon:</span><span class="sxs-lookup"><span data-stu-id="0512b-206">You can also provision an Azure AD admin by calling hello following CLI commands:</span></span>
| <span data-ttu-id="0512b-207">Kommando</span><span class="sxs-lookup"><span data-stu-id="0512b-207">Command</span></span> | <span data-ttu-id="0512b-208">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="0512b-208">Description</span></span> |
| --- | --- |
|[<span data-ttu-id="0512b-209">Skapa AZ sql server ad-administratör</span><span class="sxs-lookup"><span data-stu-id="0512b-209">az sql server ad-admin create</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#create) |<span data-ttu-id="0512b-210">Etablerar en Azure Active Directory-administratör för Azure SQL server eller Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="0512b-210">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="0512b-211">(Måste vara från hello aktuell prenumeration.)</span><span class="sxs-lookup"><span data-stu-id="0512b-211">(Must be from hello current subscription.)</span></span> |
|[<span data-ttu-id="0512b-212">ta bort AZ sql server ad-administratör</span><span class="sxs-lookup"><span data-stu-id="0512b-212">az sql server ad-admin delete</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#delete) |<span data-ttu-id="0512b-213">Tar bort en Azure Active Directory-administratör för Azure SQL server eller Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="0512b-213">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="0512b-214">AZ sql server ad-admin-lista</span><span class="sxs-lookup"><span data-stu-id="0512b-214">az sql server ad-admin list</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#list) |<span data-ttu-id="0512b-215">Returnerar information om en administratör för Azure Active Directory som har konfigurerats för hello Azure SQL server eller Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="0512b-215">Returns information about an Azure Active Directory administrator currently configured for hello Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="0512b-216">AZ sql server ad-admin-uppdatering</span><span class="sxs-lookup"><span data-stu-id="0512b-216">az sql server ad-admin update</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#update) |<span data-ttu-id="0512b-217">Uppdaterar hello Active Directory-administratör för en Azure SQL-server eller Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="0512b-217">Updates hello Active Directory administrator for an Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="0512b-218">Mer information om CLI-kommandon finns [SQL - az sql](https://docs.microsoft.com/cli/azure/sql/server).</span><span class="sxs-lookup"><span data-stu-id="0512b-218">For more information about CLI commands, see [SQL - az sql](https://docs.microsoft.com/cli/azure/sql/server).</span></span>  


## <a name="configure-your-client-computers"></a><span data-ttu-id="0512b-219">Konfigurera klientdatorer</span><span class="sxs-lookup"><span data-stu-id="0512b-219">Configure your client computers</span></span>
<span data-ttu-id="0512b-220">På alla klientdatorer som dina program eller användare ansluta tooAzure SQL-databas eller Azure SQL Data Warehouse med hjälp av Azure AD identiteter, måste du installera hello följande programvara:</span><span class="sxs-lookup"><span data-stu-id="0512b-220">On all client machines, from which your applications or users connect tooAzure SQL Database or Azure SQL Data Warehouse using Azure AD identities, you must install hello following software:</span></span>

* <span data-ttu-id="0512b-221">.NET framework 4.6 eller senare från [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span><span class="sxs-lookup"><span data-stu-id="0512b-221">.NET Framework 4.6 or later from [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span></span>
* <span data-ttu-id="0512b-222">Azure Active Directory Authentication Library för SQLServer (**ADALSQL. DLL-filen**) är tillgängligt på flera språk (x86 och amd64) hello download Center på [Microsoft Active Directory Authentication Library för Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span><span class="sxs-lookup"><span data-stu-id="0512b-222">Azure Active Directory Authentication Library for SQL Server (**ADALSQL.DLL**) is available in multiple languages (both x86 and amd64) from hello download center at [Microsoft Active Directory Authentication Library for Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span></span>

<span data-ttu-id="0512b-223">Du kan uppfylla dessa krav genom att:</span><span class="sxs-lookup"><span data-stu-id="0512b-223">You can meet these requirements by:</span></span>

* <span data-ttu-id="0512b-224">Installera antingen [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) eller [SQL Server Data Tools för Visual Studio 2015](https://msdn.microsoft.com/library/mt204009.aspx) uppfyller hello .NET Framework 4.6 krav.</span><span class="sxs-lookup"><span data-stu-id="0512b-224">Installing either [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) or [SQL Server Data Tools for Visual Studio 2015](https://msdn.microsoft.com/library/mt204009.aspx) meets hello .NET Framework 4.6 requirement.</span></span>
* <span data-ttu-id="0512b-225">SSMS installerar hello x86 version av **ADALSQL. DLL-filen**.</span><span class="sxs-lookup"><span data-stu-id="0512b-225">SSMS installs hello x86 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="0512b-226">SSDT installerar hello amd64-versionen av **ADALSQL. DLL-filen**.</span><span class="sxs-lookup"><span data-stu-id="0512b-226">SSDT installs hello amd64 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="0512b-227">hello senaste Visual Studio från [Visual Studio-hämtningar](https://www.visualstudio.com/downloads/download-visual-studio-vs) uppfyller hello .NET Framework 4.6, men installerar inte hello krävs amd64-versionen av **ADALSQL. DLL-filen**.</span><span class="sxs-lookup"><span data-stu-id="0512b-227">hello latest Visual Studio from [Visual Studio Downloads](https://www.visualstudio.com/downloads/download-visual-studio-vs) meets hello .NET Framework 4.6 requirement, but does not install hello required amd64 version of **ADALSQL.DLL**.</span></span>

## <a name="create-contained-database-users-in-your-database-mapped-tooazure-ad-identities"></a><span data-ttu-id="0512b-228">Skapa oberoende databasanvändare i din databas mappas tooAzure AD identiteter</span><span class="sxs-lookup"><span data-stu-id="0512b-228">Create contained database users in your database mapped tooAzure AD identities</span></span>

<span data-ttu-id="0512b-229">Azure Active Directory-autentisering kräver databasen användare toobe skapas som oberoende databasanvändare.</span><span class="sxs-lookup"><span data-stu-id="0512b-229">Azure Active Directory authentication requires database users toobe created as contained database users.</span></span> <span data-ttu-id="0512b-230">En innesluten databasanvändare baserat på en Azure AD-identitet är en databasanvändare som inte har en inloggning i hello master-databasen och vilken maps tooan identitet i hello Azure AD-katalog som är associerad med hello-databasen.</span><span class="sxs-lookup"><span data-stu-id="0512b-230">A contained database user based on an Azure AD identity, is a database user that does not have a login in hello master database, and which maps tooan identity in hello Azure AD directory that is associated with hello database.</span></span> <span data-ttu-id="0512b-231">hello Azure AD identity kan vara ett eget användarkonto eller en grupp.</span><span class="sxs-lookup"><span data-stu-id="0512b-231">hello Azure AD identity can be either an individual user account or a group.</span></span> <span data-ttu-id="0512b-232">Läs mer om oberoende databasanvändare [innehöll databasanvändare-göra din databas bärbara](https://msdn.microsoft.com/library/ff929188.aspx).</span><span class="sxs-lookup"><span data-stu-id="0512b-232">For more information about contained database users, see [Contained Database Users- Making Your Database Portable](https://msdn.microsoft.com/library/ff929188.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="0512b-233">Databasanvändare (med undantag för hello av administratörer) kan inte skapas med hjälp av portalen.</span><span class="sxs-lookup"><span data-stu-id="0512b-233">Database users (with hello exception of administrators) cannot be created using portal.</span></span> <span data-ttu-id="0512b-234">RBAC-roller är inte spridda tooSQL Server, SQL Database eller SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="0512b-234">RBAC roles are not propagated tooSQL Server, SQL Database, or SQL Data Warehouse.</span></span> <span data-ttu-id="0512b-235">Azure RBAC-roller som används för att hantera Azure-resurser och tillämpa inte toodatabase behörigheter.</span><span class="sxs-lookup"><span data-stu-id="0512b-235">Azure RBAC roles are used for managing Azure Resources, and do not apply toodatabase permissions.</span></span> <span data-ttu-id="0512b-236">Till exempel hello **SQL Server-deltagare** roll inte bevilja åtkomst tooconnect toohello SQL Database eller SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="0512b-236">For example, hello **SQL Server Contributor** role does not grant access tooconnect toohello SQL Database or SQL Data Warehouse.</span></span> <span data-ttu-id="0512b-237">hello åtkomstbehörighet måste beviljas direkt i hello-databas med Transact-SQL-uttryck.</span><span class="sxs-lookup"><span data-stu-id="0512b-237">hello access permission must be granted directly in hello database using Transact-SQL statements.</span></span>
>

<span data-ttu-id="0512b-238">toocreate en Azure AD-baserad finns databasanvändare (andra än hello serveradministratören som äger hello databasen), ansluta toohello databasen med en Azure AD-identitet som en användare med minst hello **ALTER ANY USER** behörighet.</span><span class="sxs-lookup"><span data-stu-id="0512b-238">toocreate an Azure AD-based contained database user (other than hello server administrator that owns hello database), connect toohello database with an Azure AD identity, as a user with at least hello **ALTER ANY USER** permission.</span></span> <span data-ttu-id="0512b-239">Använd sedan hello följande Transact-SQL-syntax:</span><span class="sxs-lookup"><span data-stu-id="0512b-239">Then use hello following Transact-SQL syntax:</span></span>

```
CREATE USER <Azure_AD_principal_name> FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="0512b-240">*Azure_AD_principal_name* kan vara hello användarens huvudnamn för en Azure AD användar- eller hello visningsnamn för en Azure AD-grupp.</span><span class="sxs-lookup"><span data-stu-id="0512b-240">*Azure_AD_principal_name* can be hello user principal name of an Azure AD user or hello display name for an Azure AD group.</span></span>

<span data-ttu-id="0512b-241">**Exempel:** toocreate en innesluten databasanvändare som representerar en Azure AD federerade eller hanterade domänanvändare:</span><span class="sxs-lookup"><span data-stu-id="0512b-241">**Examples:** toocreate a contained database user representing an Azure AD federated or managed domain user:</span></span>
```
CREATE USER [bob@contoso.com] FROM EXTERNAL PROVIDER;
CREATE USER [alice@fabrikam.onmicrosoft.com] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="0512b-242">toocreate en innesluten databas användaren som representerar en Azure AD eller externa domängrupp, ange hello namn i en säkerhetsgrupp:</span><span class="sxs-lookup"><span data-stu-id="0512b-242">toocreate a contained database user representing an Azure AD or federated domain group, provide hello display name of a security group:</span></span>
```
CREATE USER [ICU Nurses] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="0512b-243">toocreate en innesluten databasanvändare som representerar ett program som ansluter med hjälp av en Azure AD-token:</span><span class="sxs-lookup"><span data-stu-id="0512b-243">toocreate a contained database user representing an application that connects using an Azure AD token:</span></span>

```
CREATE USER [appName] FROM EXTERNAL PROVIDER;
```

>  [!TIP]
>  <span data-ttu-id="0512b-244">Du kan inte direkt skapa en användare från en Azure Active Directory än hello Azure Active Directory som är associerad med din Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="0512b-244">You cannot directly create a user from an Azure Active Directory other than hello Azure Active Directory that is associated with your Azure subscription.</span></span> <span data-ttu-id="0512b-245">Dock medlemmar i andra Active kataloger som är importerade användare i hello associerade Active Directory (kallas externa användare) kan läggas till tooan Active Directory-grupp i hello klient Active Directory.</span><span class="sxs-lookup"><span data-stu-id="0512b-245">However, members of other Active Directories that are imported users in hello associated Active Directory (known as external users) can be added tooan Active Directory group in hello tenant Active Directory.</span></span> <span data-ttu-id="0512b-246">Genom att skapa en innesluten databasanvändare för den AD-gruppen hello användare från hello externa Active Directory kan få åtkomst till tooSQL databasen.</span><span class="sxs-lookup"><span data-stu-id="0512b-246">By creating a contained database user for that AD group, hello users from hello external Active Directory can gain access tooSQL Database.</span></span>   

<span data-ttu-id="0512b-247">Mer information om hur du skapar innehåller databasen användare baserat på Azure Active Directory identiteter, se [skapa användare (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span><span class="sxs-lookup"><span data-stu-id="0512b-247">For more information about creating contained database users based on Azure Active Directory identities, see [CREATE USER (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="0512b-248">Att ta bort hello Azure Active Directory-administratör för Azure SQL-servern förhindrar alla Azure AD authentication-användare ansluter toohello-servern.</span><span class="sxs-lookup"><span data-stu-id="0512b-248">Removing hello Azure Active Directory administrator for Azure SQL server prevents any Azure AD authentication user from connecting toohello server.</span></span> <span data-ttu-id="0512b-249">Vid behov går inte att använda Azure AD-användare kan tas bort manuellt av en administratör för SQL-databas.</span><span class="sxs-lookup"><span data-stu-id="0512b-249">If necessary, unusable Azure AD users can be dropped manually by a SQL Database administrator.</span></span>   

>  [!NOTE]
>  <span data-ttu-id="0512b-250">Om du får en **tidsgränsen uppnåddes för anslutningen**, du kan behöva tooset hello `TransparentNetworkIPResolution` parametern för hello anslutning sträng toofalse.</span><span class="sxs-lookup"><span data-stu-id="0512b-250">If you receive a **Connection Timeout Expired**, you may need tooset hello `TransparentNetworkIPResolution` parameter of hello connection string toofalse.</span></span> <span data-ttu-id="0512b-251">Mer information finns i [timeout anslutningsproblem med .NET Framework 4.6.1 - TransparentNetworkIPResolution](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/).</span><span class="sxs-lookup"><span data-stu-id="0512b-251">For more information, see [Connection timeout issue with .NET Framework 4.6.1 - TransparentNetworkIPResolution](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/).</span></span>   

   
<span data-ttu-id="0512b-252">När du skapar en databasanvändare som användare får hello **Anslut** behörighet och kan ansluta toothat databasen som en medlem i hello **offentliga** roll.</span><span class="sxs-lookup"><span data-stu-id="0512b-252">When you create a database user, that user receives hello **CONNECT** permission and can connect toothat database as a member of hello **PUBLIC** role.</span></span> <span data-ttu-id="0512b-253">Hej ursprungligen endast behörigheter som är tillgängliga toohello användare har alla behörigheter beviljas toohello **offentliga** , eller alla behörigheter beviljas tooany Windows-grupper att de är medlem i.</span><span class="sxs-lookup"><span data-stu-id="0512b-253">Initially hello only permissions available toohello user are any permissions granted toohello **PUBLIC** role, or any permissions granted tooany Windows groups that they are a member of.</span></span> <span data-ttu-id="0512b-254">När du etablerar en Azure AD-baserad finns databasanvändare, kan du bevilja ytterligare hello användarbehörigheter, hello samma sätt som du bevilja behörighet tooany andra typer av användare.</span><span class="sxs-lookup"><span data-stu-id="0512b-254">Once you provision an Azure AD-based contained database user, you can grant hello user additional permissions, hello same way as you grant permission tooany other type of user.</span></span> <span data-ttu-id="0512b-255">Vanligtvis bevilja behörighet toodatabase roller och Lägg till användare tooroles.</span><span class="sxs-lookup"><span data-stu-id="0512b-255">Typically grant permissions toodatabase roles, and add users tooroles.</span></span> <span data-ttu-id="0512b-256">Mer information finns i [Database Engine behörighet grunderna](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx).</span><span class="sxs-lookup"><span data-stu-id="0512b-256">For more information, see [Database Engine Permission Basics](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx).</span></span> <span data-ttu-id="0512b-257">Mer information om den speciella SQL-databas roller finns [hantera databaser och inloggningar i Azure SQL Database](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="0512b-257">For more information about special SQL Database roles, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>
<span data-ttu-id="0512b-258">En federerad domänanvändare som har importerats till en hantera domän måste använda hello hanterade domän identitet.</span><span class="sxs-lookup"><span data-stu-id="0512b-258">A federated domain user that is imported into a manage domain, must use hello managed domain identity.</span></span>

> [!NOTE]
> <span data-ttu-id="0512b-259">Azure AD-användare har markerats i hello databasens metadata med typ E (EXTERNAL_USER) och för grupper med typen X (EXTERNAL_GROUPS).</span><span class="sxs-lookup"><span data-stu-id="0512b-259">Azure AD users are marked in hello database metadata with type E (EXTERNAL_USER) and for groups with type X (EXTERNAL_GROUPS).</span></span> <span data-ttu-id="0512b-260">Mer information finns i [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span><span class="sxs-lookup"><span data-stu-id="0512b-260">For more information, see [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span></span> 
>

## <a name="connect-toohello-user-database-or-data-warehouse-by-using-ssms-or-ssdt"></a><span data-ttu-id="0512b-261">Ansluta toohello användaren databasen eller data warehouse med hjälp av SSMS eller SSDT</span><span class="sxs-lookup"><span data-stu-id="0512b-261">Connect toohello user database or data warehouse by using SSMS or SSDT</span></span>  
<span data-ttu-id="0512b-262">tooconfirm hello Azure AD-administratör har konfigurerats korrekt, ansluta toohello **master** databasen med hjälp av hello Azure AD-administratörskonto.</span><span class="sxs-lookup"><span data-stu-id="0512b-262">tooconfirm hello Azure AD administrator is properly set up, connect toohello **master** database using hello Azure AD administrator account.</span></span>
<span data-ttu-id="0512b-263">tooprovision en Azure AD-baserad finns databasanvändare (andra än hello serveradministratören som äger hello databasen), ansluta toohello databasen med en Azure AD-identitet som har åtkomst till toohello databas.</span><span class="sxs-lookup"><span data-stu-id="0512b-263">tooprovision an Azure AD-based contained database user (other than hello server administrator that owns hello database), connect toohello database with an Azure AD identity that has access toohello database.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0512b-264">Stöd för Azure Active Directory-autentisering finns i [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) och [SQL Server Data Tools](https://msdn.microsoft.com/library/mt204009.aspx) i Visual Studio 2015.</span><span class="sxs-lookup"><span data-stu-id="0512b-264">Support for Azure Active Directory authentication is available with [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) and [SQL Server Data Tools](https://msdn.microsoft.com/library/mt204009.aspx) in Visual Studio 2015.</span></span> <span data-ttu-id="0512b-265">hello augusti 2016-versionen av SSMS finns också stöd för Active Directory Universal-autentisering, vilket gör att administratörer toorequire Multi-Factor Authentication med ett telefonsamtal, textmeddelande, smartkort PIN-kod eller meddelande i mobilappen.</span><span class="sxs-lookup"><span data-stu-id="0512b-265">hello August 2016 release of SSMS also includes support for Active Directory Universal Authentication, which allows administrators toorequire Multi-Factor Authentication using a phone call, text message, smart cards with pin, or mobile app notification.</span></span>
 
## <a name="using-an-azure-ad-identity-tooconnect-using-ssms-or-ssdt"></a><span data-ttu-id="0512b-266">Med hjälp av en Azure AD identity tooconnect med hjälp av SSMS eller SSDT</span><span class="sxs-lookup"><span data-stu-id="0512b-266">Using an Azure AD identity tooconnect using SSMS or SSDT</span></span>  

<span data-ttu-id="0512b-267">hello följande procedurer visar hur tooconnect tooa SQL-databas med en Azure AD-identitet med hjälp av SQL Server Management Studio eller verktyg för SQL Server-databasen.</span><span class="sxs-lookup"><span data-stu-id="0512b-267">hello following procedures show you how tooconnect tooa SQL database with an Azure AD identity using SQL Server Management Studio or SQL Server Database Tools.</span></span>

### <a name="active-directory-integrated-authentication"></a><span data-ttu-id="0512b-268">Active Directory-integrerad autentisering</span><span class="sxs-lookup"><span data-stu-id="0512b-268">Active Directory integrated authentication</span></span>

<span data-ttu-id="0512b-269">Använd den här metoden om du är inloggad i tooWindows med hjälp av Azure Active Directory-autentiseringsuppgifter från en federerad domän.</span><span class="sxs-lookup"><span data-stu-id="0512b-269">Use this method if you are logged in tooWindows using your Azure Active Directory credentials from a federated domain.</span></span>

1. <span data-ttu-id="0512b-270">Starta Management Studio eller Dataverktyg och i hello **ansluta tooServer** (eller **ansluta tooDatabase motorn**) i dialogrutan hello **autentisering** väljer **Active Directory - integrerade**.</span><span class="sxs-lookup"><span data-stu-id="0512b-270">Start Management Studio or Data Tools and in hello **Connect tooServer** (or **Connect tooDatabase Engine**) dialog box, in hello **Authentication** box, select **Active Directory - Integrated**.</span></span> <span data-ttu-id="0512b-271">Inget lösenord krävs eller kan anges eftersom din befintliga autentiseringsuppgifter kommer att visas för hello-anslutning.</span><span class="sxs-lookup"><span data-stu-id="0512b-271">No password is needed or can be entered because your existing credentials will be presented for hello connection.</span></span>   

    ![Välj AD-integrerad autentisering][11]
2. <span data-ttu-id="0512b-273">Klicka på hello **alternativ** knappen, och på hello **anslutningsegenskaper** i hello sidan **ansluta toodatabase** rutan, hello typnamn hello-databasen som du vill tooconnect Så här.</span><span class="sxs-lookup"><span data-stu-id="0512b-273">Click hello **Options** button, and on hello **Connection Properties** page, in hello **Connect toodatabase** box, type hello name of hello user database you want tooconnect to.</span></span> <span data-ttu-id="0512b-274">(hello **AD domän namn eller klient-ID**”alternativet stöds bara för **Universal med MFA anslutning** alternativ, annars den är nedtonat.)</span><span class="sxs-lookup"><span data-stu-id="0512b-274">(hello **AD domain name or tenant ID**” option is only supported for **Universal with MFA connection** options, otherwise it is greyed out.)</span></span>  

    ![Välj hello databasnamn][13]

## <a name="active-directory-password-authentication"></a><span data-ttu-id="0512b-276">Active Directory-lösenordsautentisering</span><span class="sxs-lookup"><span data-stu-id="0512b-276">Active Directory password authentication</span></span>

<span data-ttu-id="0512b-277">Använd den här metoden när du ansluter med en Azure AD-huvudnamn med hjälp av hello Azure AD hanterade domän.</span><span class="sxs-lookup"><span data-stu-id="0512b-277">Use this method when connecting with an Azure AD principal name using hello Azure AD managed domain.</span></span> <span data-ttu-id="0512b-278">Du kan också använda det för federerat konto utan åtkomst toohello domän, till exempel när du arbetar via fjärranslutning.</span><span class="sxs-lookup"><span data-stu-id="0512b-278">You can also use it for federated account without access toohello domain, for example when working remotely.</span></span>

<span data-ttu-id="0512b-279">Använd den här metoden om du är inloggad tooWindows med autentiseringsuppgifter från en domän som inte är federerat med Azure, eller när du använder Azure AD för autentisering med Azure AD utifrån hello inledande hello klienten domän.</span><span class="sxs-lookup"><span data-stu-id="0512b-279">Use this method if you are logged in tooWindows using credentials from a domain that is not federated with Azure, or when using Azure AD authentication using Azure AD based on hello initial or hello client domain.</span></span>

1. <span data-ttu-id="0512b-280">Starta Management Studio eller Dataverktyg och i hello **ansluta tooServer** (eller **ansluta tooDatabase motorn**) i dialogrutan hello **autentisering** väljer **Active Directory - lösenord**.</span><span class="sxs-lookup"><span data-stu-id="0512b-280">Start Management Studio or Data Tools and in hello **Connect tooServer** (or **Connect tooDatabase Engine**) dialog box, in hello **Authentication** box, select **Active Directory - Password**.</span></span>
2. <span data-ttu-id="0512b-281">I hello **användarnamn** Skriv ditt Azure Active Directory-användarnamn i formatet hello  **username@domain.com** . Det här måste vara ett konto från hello Azure Active Directory eller ett konto från en domän federera med hello Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="0512b-281">In hello **User name** box, type your Azure Active Directory user name in hello format **username@domain.com**. This must be an account from hello Azure Active Directory or an account from a domain federate with hello Azure Active Directory.</span></span>
3. <span data-ttu-id="0512b-282">I hello **lösenord** Skriv ditt användarnamn lösenord för hello Azure Active Directory-konto eller federerad domänkonto.</span><span class="sxs-lookup"><span data-stu-id="0512b-282">In hello **Password** box, type your user password for hello Azure Active Directory account or federated domain account.</span></span>

    ![Välj autentisering av AD-lösenord][12]
4. <span data-ttu-id="0512b-284">Klicka på hello **alternativ** knappen, och på hello **anslutningsegenskaper** i hello sidan **ansluta toodatabase** rutan, hello typnamn hello-databasen som du vill tooconnect Så här.</span><span class="sxs-lookup"><span data-stu-id="0512b-284">Click hello **Options** button, and on hello **Connection Properties** page, in hello **Connect toodatabase** box, type hello name of hello user database you want tooconnect to.</span></span> <span data-ttu-id="0512b-285">(Se hello bilden i hello föregående alternativ.)</span><span class="sxs-lookup"><span data-stu-id="0512b-285">(See hello graphic in hello previous option.)</span></span>

## <a name="using-an-azure-ad-identity-tooconnect-from-a-client-application"></a><span data-ttu-id="0512b-286">Med hjälp av en Azure AD identity tooconnect från ett klientprogram</span><span class="sxs-lookup"><span data-stu-id="0512b-286">Using an Azure AD identity tooconnect from a client application</span></span>

<span data-ttu-id="0512b-287">hello följande procedurer visar hur tooconnect tooa SQL-databas med en Azure AD identity från ett klientprogram.</span><span class="sxs-lookup"><span data-stu-id="0512b-287">hello following procedures show you how tooconnect tooa SQL database with an Azure AD identity from a client application.</span></span>

###  <a name="active-directory-integrated-authentication"></a><span data-ttu-id="0512b-288">Active Directory-integrerad autentisering</span><span class="sxs-lookup"><span data-stu-id="0512b-288">Active Directory integrated authentication</span></span>

<span data-ttu-id="0512b-289">toouse integrerad Windows-autentisering, Active Directory för din domän måste vara federerade med Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="0512b-289">toouse integrated Windows authentication, your domain’s Active Directory must be federated with Azure Active Directory.</span></span> <span data-ttu-id="0512b-290">Ditt klientprogram (eller en tjänst) ansluter toohello databasen måste köras på en domänansluten dator under en användares domänautentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="0512b-290">Your client application (or a service) connecting toohello database must be running on a domain-joined machine under a user’s domain credentials.</span></span>

<span data-ttu-id="0512b-291">tooconnect tooa en databas med hjälp av integrerad autentisering och en Azure AD-identitet, hello autentisering nyckelord i hello databasanslutningssträng måste anges tooActive Directory Integrated.</span><span class="sxs-lookup"><span data-stu-id="0512b-291">tooconnect tooa database using integrated authentication and an Azure AD identity, hello Authentication keyword in hello database connection string must be set tooActive Directory Integrated.</span></span> <span data-ttu-id="0512b-292">hello använder följande kodexempel för C# ADO .NET.</span><span class="sxs-lookup"><span data-stu-id="0512b-292">hello following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Integrated; Initial Catalog=testdb;";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="0512b-293">Hej anslutningssträngsnyckelordet ``Integrated Security=True`` stöds inte för att ansluta tooAzure SQL-databas.</span><span class="sxs-lookup"><span data-stu-id="0512b-293">hello connection string keyword ``Integrated Security=True`` is not supported for connecting tooAzure SQL Database.</span></span> <span data-ttu-id="0512b-294">När du gör en ODBC-anslutning du behöver tooremove blanksteg och ange autentisering too'ActiveDirectoryIntegrated'.</span><span class="sxs-lookup"><span data-stu-id="0512b-294">When making an ODBC connection, you will need tooremove spaces and set Authentication too'ActiveDirectoryIntegrated'.</span></span>

### <a name="active-directory-password-authentication"></a><span data-ttu-id="0512b-295">Active Directory-lösenordsautentisering</span><span class="sxs-lookup"><span data-stu-id="0512b-295">Active Directory password authentication</span></span>

<span data-ttu-id="0512b-296">tooconnect tooa en databas med hjälp av integrerad autentisering och en Azure AD-identitet, hello autentisering nyckelordet måste anges tooActive Directory-lösenord.</span><span class="sxs-lookup"><span data-stu-id="0512b-296">tooconnect tooa database using integrated authentication and an Azure AD identity, hello Authentication keyword must be set tooActive Directory Password.</span></span> <span data-ttu-id="0512b-297">hello anslutningssträngen måste innehålla användar-ID: T/UID och lösenord/PWD nyckelord och värden.</span><span class="sxs-lookup"><span data-stu-id="0512b-297">hello connection string must contain User ID/UID and Password/PWD keywords and values.</span></span> <span data-ttu-id="0512b-298">hello använder följande kodexempel för C# ADO .NET.</span><span class="sxs-lookup"><span data-stu-id="0512b-298">hello following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Password; Initial Catalog=testdb;  UID=bob@contoso.onmicrosoft.com; PWD=MyPassWord!";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="0512b-299">Lär dig mer om Azure AD-autentiseringsmetoder som använder hello demo-kodexempel finns på [Azure AD Authentication GitHub Demo](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span><span class="sxs-lookup"><span data-stu-id="0512b-299">Learn more about Azure AD authentication methods using hello demo code samples available at [Azure AD Authentication GitHub Demo](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span></span>

## <a name="azure-ad-token"></a><span data-ttu-id="0512b-300">Azure AD-token</span><span class="sxs-lookup"><span data-stu-id="0512b-300">Azure AD token</span></span>
<span data-ttu-id="0512b-301">Den här autentiseringsmetoden låter mellannivå services tooconnect tooAzure SQL-databas eller Azure SQL Data Warehouse genom att hämta en token från Azure Active Directory (AAD).</span><span class="sxs-lookup"><span data-stu-id="0512b-301">This authentication method allows middle-tier services tooconnect tooAzure SQL Database or Azure SQL Data Warehouse by obtaining a token from Azure Active Directory (AAD).</span></span> <span data-ttu-id="0512b-302">Det gör det möjligt för avancerade scenarier inklusive certifikatbaserad autentisering.</span><span class="sxs-lookup"><span data-stu-id="0512b-302">It enables sophisticated scenarios including certificate-based authentication.</span></span> <span data-ttu-id="0512b-303">Du måste slutföra fyra grundläggande steg toouse Azure AD-tokenautentisering:</span><span class="sxs-lookup"><span data-stu-id="0512b-303">You must complete four basic steps toouse Azure AD token authentication:</span></span>

1. <span data-ttu-id="0512b-304">Registrera ditt program med Azure Active Directory och hämta hello klient-id för din kod.</span><span class="sxs-lookup"><span data-stu-id="0512b-304">Register your application with Azure Active Directory and get hello client id for your code.</span></span> 
2. <span data-ttu-id="0512b-305">Skapa en databas som representerar hello användarprogram.</span><span class="sxs-lookup"><span data-stu-id="0512b-305">Create a database user representing hello application.</span></span> <span data-ttu-id="0512b-306">(Utföra tidigare i steg 6).</span><span class="sxs-lookup"><span data-stu-id="0512b-306">(Completed earlier in step 6.)</span></span>
3. <span data-ttu-id="0512b-307">Skapa ett certifikat på hello klienten datorn kör hello program.</span><span class="sxs-lookup"><span data-stu-id="0512b-307">Create a certificate on hello client computer runs hello application.</span></span>
4. <span data-ttu-id="0512b-308">Lägga till hello certifikatet som en nyckel för ditt program.</span><span class="sxs-lookup"><span data-stu-id="0512b-308">Add hello certificate as a key for your application.</span></span>

<span data-ttu-id="0512b-309">Exempel anslutningssträng:</span><span class="sxs-lookup"><span data-stu-id="0512b-309">Sample connection string:</span></span>

```
string ConnectionString =@"Data Source=n9lxnyuzhv.database.windows.net; Initial Catalog=testdb;"
SqlConnection conn = new SqlConnection(ConnectionString);
connection.AccessToken = "Your JWT token"
conn.Open();
```

<span data-ttu-id="0512b-310">Mer information finns i [SQL Server-Säkerhetsblogg](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/).</span><span class="sxs-lookup"><span data-stu-id="0512b-310">For more information, see [SQL Server Security Blog](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/).</span></span>

### <a name="sqlcmd"></a><span data-ttu-id="0512b-311">sqlcmd</span><span class="sxs-lookup"><span data-stu-id="0512b-311">sqlcmd</span></span>

<span data-ttu-id="0512b-312">Hej följande instruktioner, ansluta med version 13,1 av sqlcmd som är tillgängliga från hello [Download Center](http://go.microsoft.com/fwlink/?LinkID=825643).</span><span class="sxs-lookup"><span data-stu-id="0512b-312">hello following statements, connect using version 13.1 of sqlcmd, which is available from hello [Download Center](http://go.microsoft.com/fwlink/?LinkID=825643).</span></span>

```
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net  -G  
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net -U bob@contoso.com -P MyAADPassword -G -l 30
```

## <a name="next-steps"></a><span data-ttu-id="0512b-313">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="0512b-313">Next steps</span></span>
- <span data-ttu-id="0512b-314">En översikt över åtkomst och kontroll i SQL Database finns i [Åtkomst och kontroll för SQL Database](sql-database-control-access.md).</span><span class="sxs-lookup"><span data-stu-id="0512b-314">For an overview of access and control in SQL Database, see [SQL Database access and control](sql-database-control-access.md).</span></span>
- <span data-ttu-id="0512b-315">En översikt över inloggningar, användare och databasroller i SQL Database finns i [Inloggningar, användare och databasroller](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="0512b-315">For an overview of logins, users, and database roles in SQL Database, see [Logins, users, and database roles](sql-database-manage-logins.md).</span></span>
- <span data-ttu-id="0512b-316">Mer information om huvudkonton finns i [Huvudkonton](https://msdn.microsoft.com/library/ms181127.aspx).</span><span class="sxs-lookup"><span data-stu-id="0512b-316">For more information about database principals, see [Principals](https://msdn.microsoft.com/library/ms181127.aspx).</span></span>
- <span data-ttu-id="0512b-317">Mer information om databasroller finns [Databasroller](https://msdn.microsoft.com/library/ms189121.aspx).</span><span class="sxs-lookup"><span data-stu-id="0512b-317">For more information about database roles, see [Database roles](https://msdn.microsoft.com/library/ms189121.aspx).</span></span>
- <span data-ttu-id="0512b-318">Mer information om brandväggsregler i SQL Database finns [SQL Database-brandväggsregler](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="0512b-318">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](sql-database-firewall-configure.md).</span></span>

<!--Image references-->

[1]: ./media/sql-database-aad-authentication/1aad-auth-diagram.png
[2]: ./media/sql-database-aad-authentication/2subscription-relationship.png
[3]: ./media/sql-database-aad-authentication/3admin-structure.png
[4]: ./media/sql-database-aad-authentication/4select-subscription.png
[5]: ./media/sql-database-aad-authentication/5ad-settings-portal.png
[6]: ./media/sql-database-aad-authentication/6edit-directory-select.png
[7]: ./media/sql-database-aad-authentication/7edit-directory-confirm.png
[8]: ./media/sql-database-aad-authentication/8choose-ad.png
[10]: ./media/sql-database-aad-authentication/10choose-admin.png
[11]: ./media/sql-database-aad-authentication/active-directory-integrated.png
[12]: ./media/sql-database-aad-authentication/12connect-using-pw-auth2.png
[13]: ./media/sql-database-aad-authentication/13connect-to-db2.png

