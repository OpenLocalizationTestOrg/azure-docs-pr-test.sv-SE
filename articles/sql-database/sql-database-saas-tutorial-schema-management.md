---
title: "aaaManage Azure SQL Database-schema i en app för flera innehavare | Microsoft Docs"
description: "Hantera scheman för flera klienter i ett program för flera klienter som använder Azure SQL Database"
keywords: sql database tutorial
services: sql-database
documentationcenter: 
author: stevestein
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: scale out apps
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/28/2017
ms.author: billgib; sstein
ms.openlocfilehash: ea946e556808dabd60dd39cb8173d0512d4bddec
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="manage-schema-for-multiple-tenants-in-hello-wingtip-saas-application"></a><span data-ttu-id="91656-104">Hantera schemat för flera klienter i hello Wingtip SaaS-program</span><span class="sxs-lookup"><span data-stu-id="91656-104">Manage schema for multiple tenants in hello Wingtip SaaS application</span></span>

<span data-ttu-id="91656-105">Hej [första Wingtip SaaS-självstudierna](sql-database-saas-tutorial.md) visar hur hello app kan etablera en klient-databas och registreras i hello-katalogen.</span><span class="sxs-lookup"><span data-stu-id="91656-105">hello [first Wingtip SaaS tutorial](sql-database-saas-tutorial.md) shows how hello app can provision a tenant database and register it in hello catalog.</span></span> <span data-ttu-id="91656-106">Precis som alla program kräver hello Wingtip SaaS-app kommer att utvecklas över tid och ibland ändringar toohello databas.</span><span class="sxs-lookup"><span data-stu-id="91656-106">Like any application, hello Wingtip SaaS app will evolve over time, and at times will require changes toohello database.</span></span> <span data-ttu-id="91656-107">Ändringar kan omfatta nya eller ändrade schema, nya eller ändrade referensdata och rutinmässigt Underhåll uppgifter tooensure optimala app databasprestanda.</span><span class="sxs-lookup"><span data-stu-id="91656-107">Changes may include new or changed schema, new or changed reference data, and routine database maintenance tasks tooensure optimal app performance.</span></span> <span data-ttu-id="91656-108">Med SaaS-program behöver ändringarna toobe distribueras på ett samordnat sätt i en potentiellt massiv flotta av klient-databaser.</span><span class="sxs-lookup"><span data-stu-id="91656-108">With a SaaS application, these changes need toobe deployed in a coordinated manner across a potentially massive fleet of tenant databases.</span></span> <span data-ttu-id="91656-109">Dessa ändringar toobe i framtiden klient databaser måste de toobe som ingår i hello etableringsprocessen.</span><span class="sxs-lookup"><span data-stu-id="91656-109">For these changes toobe in future tenant databases, they need toobe incorporated into hello provisioning process.</span></span>

<span data-ttu-id="91656-110">Den här självstudiekursen utforskar två scenarier - distribution av referens datauppdateringar för alla klienter och retuning ett index på hello tabell som innehåller hello referensdata.</span><span class="sxs-lookup"><span data-stu-id="91656-110">This tutorial explores two scenarios - deploying reference data updates for all tenants, and retuning an index on hello table containing hello reference data.</span></span> <span data-ttu-id="91656-111">Hej [elastiska jobb](sql-database-elastic-jobs-overview.md) funktionen är används tooexecute dessa åtgärder på alla klienter och hello *gyllene* klient-databas som används som en mall för nya databaser.</span><span class="sxs-lookup"><span data-stu-id="91656-111">hello [Elastic jobs](sql-database-elastic-jobs-overview.md) feature is used tooexecute these operations across all tenants, and hello *golden* tenant database that is used as a template for new databases.</span></span>

<span data-ttu-id="91656-112">I den här självstudiekursen får du lära du dig att:</span><span class="sxs-lookup"><span data-stu-id="91656-112">In this tutorial you learn how to:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="91656-113">Skapa ett konto för jobb</span><span class="sxs-lookup"><span data-stu-id="91656-113">Create a job account</span></span>
> * <span data-ttu-id="91656-114">Fråga på flera innehavare</span><span class="sxs-lookup"><span data-stu-id="91656-114">Query across multiple tenants</span></span>
> * <span data-ttu-id="91656-115">Uppdaterar data i alla klientdatabaser</span><span class="sxs-lookup"><span data-stu-id="91656-115">Update data in all tenant databases</span></span>
> * <span data-ttu-id="91656-116">Skapar ett index i en tabell i alla klientdatabaser</span><span class="sxs-lookup"><span data-stu-id="91656-116">Create an index on a table in all tenant databases</span></span>


<span data-ttu-id="91656-117">toocomplete den här självstudiekursen, se till att hello följande förutsättningar är uppfyllda:</span><span class="sxs-lookup"><span data-stu-id="91656-117">toocomplete this tutorial, make sure hello following prerequisites are met:</span></span>

* <span data-ttu-id="91656-118">hello Wingtip SaaS appen har distribuerats.</span><span class="sxs-lookup"><span data-stu-id="91656-118">hello Wingtip SaaS app is deployed.</span></span> <span data-ttu-id="91656-119">toodeploy på mindre än fem minuter finns [distribuera och utforska hello Wingtip SaaS-program](sql-database-saas-tutorial.md)</span><span class="sxs-lookup"><span data-stu-id="91656-119">toodeploy in less than five minutes, see [Deploy and explore hello Wingtip SaaS application](sql-database-saas-tutorial.md)</span></span>
* <span data-ttu-id="91656-120">Azure PowerShell ska ha installerats.</span><span class="sxs-lookup"><span data-stu-id="91656-120">Azure PowerShell is installed.</span></span> <span data-ttu-id="91656-121">Mer information finns i [Komma igång med Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span><span class="sxs-lookup"><span data-stu-id="91656-121">For details, see [Getting started with Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span></span>
* <span data-ttu-id="91656-122">hello senaste versionen av SQL Server Management Studio (SSMS) är installerad.</span><span class="sxs-lookup"><span data-stu-id="91656-122">hello latest version of SQL Server Management Studio (SSMS) is installed.</span></span> [<span data-ttu-id="91656-123">Ladda ned och installera SSMS</span><span class="sxs-lookup"><span data-stu-id="91656-123">Download and Install SSMS</span></span>](https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms)

<span data-ttu-id="91656-124">*Den här kursen använder funktioner för hello SQL Database-tjänsten som är i en begränsad förhandsgranskning (elastisk databas jobb). Om du inte vill toodo den här självstudiekursen, ange ditt prenumerations-id tooSaaSFeedback@microsoft.com = elastiska jobb Preview med ämnet. När ett meddelande bekräftar att din prenumeration har aktiverats, [ladda ned och installera hello senaste förhandsversionen jobb cmdletar](https://github.com/jaredmoo/azure-powershell/releases). Den här förhandsgranskningen är begränsad, så Kontakta SaaSFeedback@microsoft.com för frågor eller support.*</span><span class="sxs-lookup"><span data-stu-id="91656-124">*This tutorial uses features of hello SQL Database service that are in a limited preview (Elastic Database jobs). If you wish toodo this tutorial, provide your subscription id tooSaaSFeedback@microsoft.com with subject=Elastic Jobs Preview. After you receive confirmation that your subscription has been enabled, [download and install hello latest pre-release jobs cmdlets](https://github.com/jaredmoo/azure-powershell/releases). This preview is limited, so contact SaaSFeedback@microsoft.com for related questions or support.*</span></span>


## <a name="introduction-toosaas-schema-management-patterns"></a><span data-ttu-id="91656-125">Introduktion tooSaaS mönster för hantering av schemat</span><span class="sxs-lookup"><span data-stu-id="91656-125">Introduction tooSaaS Schema Management patterns</span></span>

<span data-ttu-id="91656-126">hello enstaka klient per databas SaaS mönstret fördelar i många olika sätt från hello isolering av data som är ett resultat, men på hello samtidigt introducerar hello ytterligare komplexitet för underhåll och hantering av flera databaser.</span><span class="sxs-lookup"><span data-stu-id="91656-126">hello single tenant per database SaaS pattern benefits in many ways from hello data isolation that results, but at hello same time introduces hello additional complexity of maintaining and managing many databases.</span></span> <span data-ttu-id="91656-127">[Elastiska jobb](sql-database-elastic-jobs-overview.md) underlättar administrationen och hantering av hello SQL datanivå.</span><span class="sxs-lookup"><span data-stu-id="91656-127">[Elastic Jobs](sql-database-elastic-jobs-overview.md) facilitates administration and management of hello SQL data tier.</span></span> <span data-ttu-id="91656-128">Jobb kan du toosecurely och tillförlitligt, köra uppgifter (T-SQL-skript) oberoende av användarinteraktion eller indata, mot en grupp databaser.</span><span class="sxs-lookup"><span data-stu-id="91656-128">Jobs enable you toosecurely and reliably, run tasks (T-SQL scripts) independent of user interaction or input, against a group of databases.</span></span> <span data-ttu-id="91656-129">Den här metoden kan vara används toodeploy schema och gemensamma data ändras över alla klienter i ett program.</span><span class="sxs-lookup"><span data-stu-id="91656-129">This method can be used toodeploy schema and common reference data changes across all tenants in an application.</span></span> <span data-ttu-id="91656-130">Elastiska jobb kan också använda toomaintain en *gyllene* kopia av databasen hello används toocreate nya klienter att kontrollera det alltid har hello senaste schema- och data.</span><span class="sxs-lookup"><span data-stu-id="91656-130">Elastic Jobs can also be used toomaintain a *golden* copy of hello database used toocreate new tenants, ensuring it always has hello latest schema and reference data.</span></span>

![skärmen](media/sql-database-saas-tutorial-schema-management/schema-management.png)


## <a name="elastic-jobs-limited-preview"></a><span data-ttu-id="91656-132">Elastiska jobb begränsad förhandsvisning</span><span class="sxs-lookup"><span data-stu-id="91656-132">Elastic Jobs limited preview</span></span>

<span data-ttu-id="91656-133">Det finns en ny version av elastiska jobb som nu är en inbyggd funktion i Azure SQL Database (som inte kräver några ytterligare tjänster eller komponenter).</span><span class="sxs-lookup"><span data-stu-id="91656-133">There is a new version of Elastic Jobs that is now an integrated feature of Azure SQL Database (that requires no additional services or components).</span></span> <span data-ttu-id="91656-134">Den här nya versionen av elastiska jobb är för närvarande i begränsad förhandsvisning.</span><span class="sxs-lookup"><span data-stu-id="91656-134">This new version of Elastic Jobs is currently in limited preview.</span></span> <span data-ttu-id="91656-135">Den här begränsade förhandsgranskning för närvarande stöder PowerShell toocreate jobbet konton och T-SQL toocreate och hantera jobb.</span><span class="sxs-lookup"><span data-stu-id="91656-135">This limited preview currently supports PowerShell toocreate job accounts, and T-SQL toocreate and manage jobs.</span></span>

> [!NOTE]
> <span data-ttu-id="91656-136">*Den här kursen använder funktioner för hello SQL Database-tjänsten som är i en begränsad förhandsgranskning (elastisk databas jobb). Om du inte vill toodo den här självstudiekursen, ange ditt prenumerations-id tooSaaSFeedback@microsoft.com = elastiska jobb Preview med ämnet. När ett meddelande bekräftar att din prenumeration har aktiverats, [ladda ned och installera hello senaste förhandsversionen jobb cmdletar](https://github.com/jaredmoo/azure-powershell/releases). Den här förhandsgranskningen är begränsad, så Kontakta SaaSFeedback@microsoft.com för frågor eller support.*</span><span class="sxs-lookup"><span data-stu-id="91656-136">*This tutorial uses features of hello SQL Database service that are in a limited preview (Elastic Database jobs). If you wish toodo this tutorial, provide your subscription id tooSaaSFeedback@microsoft.com with subject=Elastic Jobs Preview. After you receive confirmation that your subscription has been enabled, [download and install hello latest pre-release jobs cmdlets](https://github.com/jaredmoo/azure-powershell/releases). This preview is limited, so contact SaaSFeedback@microsoft.com for related questions or support.*</span></span>

## <a name="get-hello-wingtip-application-scripts"></a><span data-ttu-id="91656-137">Hämta hello Wingtip programskript</span><span class="sxs-lookup"><span data-stu-id="91656-137">Get hello Wingtip application scripts</span></span>

<span data-ttu-id="91656-138">hello Wingtip SaaS-skript och programmets källkod är tillgängliga i hello [WingtipSaaS](https://github.com/Microsoft/WingtipSaaS) github-lagringsplatsen.</span><span class="sxs-lookup"><span data-stu-id="91656-138">hello Wingtip SaaS scripts and application source code are available in hello [WingtipSaaS](https://github.com/Microsoft/WingtipSaaS) github repo.</span></span> <span data-ttu-id="91656-139">[Steg toodownload hello Wingtip SaaS skript](sql-database-wtp-overview.md#download-and-unblock-the-wingtip-saas-scripts).</span><span class="sxs-lookup"><span data-stu-id="91656-139">[Steps toodownload hello Wingtip SaaS scripts](sql-database-wtp-overview.md#download-and-unblock-the-wingtip-saas-scripts).</span></span>

## <a name="create-a-job-account-database-and-new-job-account"></a><span data-ttu-id="91656-140">Skapa en jobbkonto-databas och ett nytt jobbkonto</span><span class="sxs-lookup"><span data-stu-id="91656-140">Create a job account database and new job account</span></span>

<span data-ttu-id="91656-141">Den här kursen kräver att du använder PowerShell toocreate hello jobbet databasen och jobbet tjänstkontot.</span><span class="sxs-lookup"><span data-stu-id="91656-141">This tutorial requires you use PowerShell toocreate hello job account database and job account.</span></span> <span data-ttu-id="91656-142">Som MSDB och SQL Agent elastiska jobb använder en Azure SQL-databas toostore jobbdefinitioner, jobbstatus och tidigare.</span><span class="sxs-lookup"><span data-stu-id="91656-142">Like MSDB and SQL Agent, Elastic Jobs uses an Azure SQL database toostore job definitions, job status, and history.</span></span> <span data-ttu-id="91656-143">När hello jobbet konto har skapats kan du skapa och övervaka jobb omedelbart.</span><span class="sxs-lookup"><span data-stu-id="91656-143">Once hello job account is created, you can create and monitor jobs immediately.</span></span>

1. <span data-ttu-id="91656-144">Öppna... \\Learning moduler\\schemat Management\\*Demo-SchemaManagement.ps1* i hello **PowerShell ISE**.</span><span class="sxs-lookup"><span data-stu-id="91656-144">Open …\\Learning Modules\\Schema Management\\*Demo-SchemaManagement.ps1* in hello **PowerShell ISE**.</span></span>
1. <span data-ttu-id="91656-145">Tryck på **F5** toorun hello skript.</span><span class="sxs-lookup"><span data-stu-id="91656-145">Press **F5** toorun hello script.</span></span>

<span data-ttu-id="91656-146">Hej *Demo-SchemaManagement.ps1* skript anrop hello *distribuera SchemaManagement.ps1* skript toocreate en *S2* databas med namnet **jobaccount** på hello katalogserver.</span><span class="sxs-lookup"><span data-stu-id="91656-146">hello *Demo-SchemaManagement.ps1* script calls hello *Deploy-SchemaManagement.ps1* script toocreate an *S2* database named **jobaccount** on hello catalog server.</span></span> <span data-ttu-id="91656-147">Sedan skapar den hello jobbet konto, skickar hello jobaccount databasen som en parameter toohello jobbet kontot skapa-anrop.</span><span class="sxs-lookup"><span data-stu-id="91656-147">It then creates hello job account, passing hello jobaccount database as a parameter toohello job account creation call.</span></span>

## <a name="create-a-job-toodeploy-new-reference-data-tooall-tenants"></a><span data-ttu-id="91656-148">Skapa ett jobb toodeploy ny referens data tooall klienter</span><span class="sxs-lookup"><span data-stu-id="91656-148">Create a job toodeploy new reference data tooall tenants</span></span>

<span data-ttu-id="91656-149">Varje klient-databasen innehåller en uppsättning platsen typer som definierar hello slags händelser som finns på en plats.</span><span class="sxs-lookup"><span data-stu-id="91656-149">Each tenant database includes a set of venue types that define hello kind of events that are hosted at a venue.</span></span> <span data-ttu-id="91656-150">I den här övningen du distribuerar en uppdatering tooall hello klient databaser tooadd två ytterligare plats typer: *motorcykel tävling* och *simning en*.</span><span class="sxs-lookup"><span data-stu-id="91656-150">In this exercise, you deploy an update tooall hello tenant databases tooadd two additional venue types: *Motorcycle Racing* and *Swimming Club*.</span></span> <span data-ttu-id="91656-151">Dessa typer av platsen motsvarar toohello bakgrundsbilden som du ser i hello klient händelser app.</span><span class="sxs-lookup"><span data-stu-id="91656-151">These venue types correspond toohello background image you see in hello tenant events app.</span></span>

<span data-ttu-id="91656-152">Klicka på hello platsen typen nedrullningsbara menyn och verifiera att endast 10 platsen alternativ är tillgängliga och specifikt som motorcykel tävling och 'Simning en' ingår inte i hello lista.</span><span class="sxs-lookup"><span data-stu-id="91656-152">Click hello Venue Type drop down menu and validate that only 10 venue type options are available, and specifically that ‘Motorcycle Racing’ and ‘Swimming Club’ are not included in hello list.</span></span>

<span data-ttu-id="91656-153">Nu skapar vi ett jobb tooupdate hello *VenueTypes* tabell i alla hello klient databaser och lägga till hello nya typer av platsen.</span><span class="sxs-lookup"><span data-stu-id="91656-153">Now let’s create a job tooupdate hello *VenueTypes* table in all hello tenant databases and add hello new venue types.</span></span>

<span data-ttu-id="91656-154">toocreate ett nytt jobb, vi använder en uppsättning jobb system lagrade procedurer som skapats i hello jobaccount databasen när hello jobbet kontot skapades.</span><span class="sxs-lookup"><span data-stu-id="91656-154">toocreate a new job, we use a set of jobs system stored procedures created in hello jobaccount database when hello job account was created.</span></span>

1. <span data-ttu-id="91656-155">Öppna SSMS och Anslut toohello katalogserver: katalog -\<användaren\>. database.windows.net server</span><span class="sxs-lookup"><span data-stu-id="91656-155">Open SSMS and connect toohello catalog server: catalog-\<user\>.database.windows.net server</span></span>
1. <span data-ttu-id="91656-156">Även ansluta toohello klient server: tenants1 -\<användaren\>. database.windows.net</span><span class="sxs-lookup"><span data-stu-id="91656-156">Also connect toohello tenant server: tenants1-\<user\>.database.windows.net</span></span>
1. <span data-ttu-id="91656-157">Bläddra toohello *contosoconcerthall* databasen på hello *tenants1* server och fråga hello *VenueTypes* tabellen tooconfirm som *motorcykel tävling*  och *simning en* **inte** i hello resultatlistan.</span><span class="sxs-lookup"><span data-stu-id="91656-157">Browse toohello *contosoconcerthall* database on hello *tenants1* server and query hello *VenueTypes* table tooconfirm that *Motorcycle Racing* and *Swimming Club* **are not** in hello results list.</span></span>
1. <span data-ttu-id="91656-158">Öppna hello fil... \\Learning moduler\\schemat Management\\DeployReferenceData.sql</span><span class="sxs-lookup"><span data-stu-id="91656-158">Open hello file …\\Learning Modules\\Schema Management\\DeployReferenceData.sql</span></span>
1. <span data-ttu-id="91656-159">Ändra hello-uttryck: Ange @wtpUser = &lt;användaren&gt; och ersätta hello användaren värdet används när du har distribuerat hello Wingtip app</span><span class="sxs-lookup"><span data-stu-id="91656-159">Modify hello statement: SET @wtpUser = &lt;user&gt; and substitute hello User value used when you deployed hello Wingtip app</span></span>
1. <span data-ttu-id="91656-160">Se till att du är ansluten toohello jobaccount databasen och tryck på **F5** att köra hello-skript</span><span class="sxs-lookup"><span data-stu-id="91656-160">Ensure you are connected toohello jobaccount database and press **F5** to run hello script</span></span>

* <span data-ttu-id="91656-161">**SP\_lägga till\_mål\_grupp** skapar hello målgruppnamn DemoServerGroup, nu måste vi tooadd mål medlemmar.</span><span class="sxs-lookup"><span data-stu-id="91656-161">**sp\_add\_target\_group** creates hello target group name DemoServerGroup, now we need tooadd target members.</span></span>
* <span data-ttu-id="91656-162">**SP\_lägga till\_mål\_grupp\_medlem** lägger till en *server* mål Medlemstyp som bedömer alla databaser på servern (Obs detta är hello tenants1-&lt; Användaren&gt; servern som innehåller hello klient databaser) vid tiden för jobbet körningen ska tas med i hello jobbet hello andra är att lägga till en *databasen* måltyp medlem, särskilt hello (”gyllene-databas basetenantdb) som finns i katalogen -&lt;användare&gt; server, och slutligen en annan *databasen* grupp medlem typen tooinclude hello adhocanalytics måldatabasen som används i en senare vägledning.</span><span class="sxs-lookup"><span data-stu-id="91656-162">**sp\_add\_target\_group\_member** adds a *server* target member type, which deems all databases within that server (note this is hello tenants1-&lt;User&gt; server containing hello tenant databases) at time of job execution should be included in hello job, hello second is adding a *database* target member type, specifically hello ‘golden’ database (basetenantdb) that resides on catalog-&lt;User&gt; server, and lastly another *database* target group member type tooinclude hello adhocanalytics database that is used in a later tutorial.</span></span>
* <span data-ttu-id="91656-163">**sp\_add\_job** skapar ett jobb som heter referensdatadistribution</span><span class="sxs-lookup"><span data-stu-id="91656-163">**sp\_add\_job** creates a job called “Reference Data Deployment”</span></span>
* <span data-ttu-id="91656-164">**SP\_lägga till\_jobbsteg** skapar hello steg som innehåller T-SQL-kommandot text tooupdate hello referenstabellen, VenueTypes</span><span class="sxs-lookup"><span data-stu-id="91656-164">**sp\_add\_jobstep** creates hello job step containing T-SQL command text tooupdate hello reference table, VenueTypes</span></span>
* <span data-ttu-id="91656-165">hello återstående i hello skript i vyerna hello förekomsten av hello objekt och körning av övervakaren jobb.</span><span class="sxs-lookup"><span data-stu-id="91656-165">hello remaining views in hello script display hello existence of hello objects and monitor job execution.</span></span> <span data-ttu-id="91656-166">Använd dessa frågor tooreview hello statusvärde i hello **livscykel** kolumnen toodetermine när hello jobbet har slutförts på alla klient-databaser och hello två nya databaser som innehåller hello referenstabellen.</span><span class="sxs-lookup"><span data-stu-id="91656-166">Use these queries tooreview hello status value in hello **lifecycle** column toodetermine when hello job has successfully finished on all tenant databases and hello two additional databases containing hello reference table.</span></span>

1. <span data-ttu-id="91656-167">Bläddra i SSMS, toohello *contosoconcerthall* databasen på hello *tenants1* server och fråga hello *VenueTypes* tabellen tooconfirm som *motorcykel Tävling* och *simning en* **är** nu i hello resultatlistan.</span><span class="sxs-lookup"><span data-stu-id="91656-167">In SSMS, browse toohello *contosoconcerthall* database on hello *tenants1* server and query hello *VenueTypes* table tooconfirm that *Motorcycle Racing* and *Swimming Club* **are** now in hello results list.</span></span>


## <a name="create-a-job-toomanage-hello-reference-table-index"></a><span data-ttu-id="91656-168">Skapa ett jobb toomanage hello referens Tabellindex</span><span class="sxs-lookup"><span data-stu-id="91656-168">Create a job toomanage hello reference table index</span></span>

<span data-ttu-id="91656-169">Liknande toohello föregående övningen den här övningen skapar ett jobb toorebuild hello index på hello referens tabellens primärnyckel, en typisk management databasåtgärd administratör kan utföra efter en belastningen för stora mängder data i en tabell.</span><span class="sxs-lookup"><span data-stu-id="91656-169">Similar toohello previous exercise, this exercise creates a job toorebuild hello index on hello reference table primary key, a typical database management operation an administrator might perform after a large data load into a table.</span></span>

<span data-ttu-id="91656-170">Skapa ett jobb med hjälp av hello samma jobb ”system” lagrade procedurer.</span><span class="sxs-lookup"><span data-stu-id="91656-170">Create a job using hello same jobs 'system' stored procedures.</span></span>

1. <span data-ttu-id="91656-171">Öppna SSMS och Anslut toohello katalog -&lt;användaren&gt;. database.windows.net server</span><span class="sxs-lookup"><span data-stu-id="91656-171">Open SSMS and connect toohello catalog-&lt;User&gt;.database.windows.net server</span></span>
1. <span data-ttu-id="91656-172">Öppna hello fil... \\Learning moduler\\schemat Management\\OnlineReindex.sql</span><span class="sxs-lookup"><span data-stu-id="91656-172">Open hello file …\\Learning Modules\\Schema Management\\OnlineReindex.sql</span></span>
1. <span data-ttu-id="91656-173">Högerklicka på anslutningen och välj ansluta toohello katalog -&lt;användaren&gt;. database.windows.net server, om inte redan är ansluten</span><span class="sxs-lookup"><span data-stu-id="91656-173">Right click, select Connection, and connect toohello catalog-&lt;User&gt;.database.windows.net server, if not already connected</span></span>
1. <span data-ttu-id="91656-174">Se till att du är ansluten toohello jobaccount databasen och tryck på F5 toorun hello skript</span><span class="sxs-lookup"><span data-stu-id="91656-174">Ensure you are connected toohello jobaccount database and press F5 toorun hello script</span></span>

* <span data-ttu-id="91656-175">sp\_add\_job skapar ett nytt jobb som heter “Online Reindex PK\_\_VenueTyp\_\_265E44FD7FD4C885”</span><span class="sxs-lookup"><span data-stu-id="91656-175">sp\_add\_job creates a new job called “Online Reindex PK\_\_VenueTyp\_\_265E44FD7FD4C885”</span></span>
* <span data-ttu-id="91656-176">SP\_lägga till\_jobbsteg skapar hello steg som innehåller T-SQL-kommandot text tooupdate hello index</span><span class="sxs-lookup"><span data-stu-id="91656-176">sp\_add\_jobstep creates hello job step containing T-SQL command text tooupdate hello index</span></span>




## <a name="next-steps"></a><span data-ttu-id="91656-177">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="91656-177">Next steps</span></span>

<span data-ttu-id="91656-178">I den här självstudiekursen lärde du dig att:</span><span class="sxs-lookup"><span data-stu-id="91656-178">In this tutorial you learned how to:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="91656-179">Skapa ett jobb konto tooquery över flera innehavare</span><span class="sxs-lookup"><span data-stu-id="91656-179">Create a job account tooquery across multiple tenants</span></span>
> * <span data-ttu-id="91656-180">Uppdaterar data i alla klientdatabaser</span><span class="sxs-lookup"><span data-stu-id="91656-180">Update data in all tenant databases</span></span>
> * <span data-ttu-id="91656-181">Skapar ett index i en tabell i alla klientdatabaser</span><span class="sxs-lookup"><span data-stu-id="91656-181">Create an index on a table in all tenant databases</span></span>

[<span data-ttu-id="91656-182">Ad-hoc analys-guide</span><span class="sxs-lookup"><span data-stu-id="91656-182">Ad-hoc analytics tutorial</span></span>](sql-database-saas-tutorial-adhoc-analytics.md)


## <a name="additional-resources"></a><span data-ttu-id="91656-183">Ytterligare resurser</span><span class="sxs-lookup"><span data-stu-id="91656-183">Additional resources</span></span>

* [<span data-ttu-id="91656-184">Ytterligare självstudier som bygger på hello Wingtip SaaS-programdistribution</span><span class="sxs-lookup"><span data-stu-id="91656-184">Additional tutorials that build upon hello Wingtip SaaS application deployment</span></span>](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)
* [<span data-ttu-id="91656-185">Hantera utskalade molndatabaser</span><span class="sxs-lookup"><span data-stu-id="91656-185">Managing scaled-out cloud databases</span></span>](sql-database-elastic-jobs-overview.md)
* [<span data-ttu-id="91656-186">Skapa och hantera utskalade molndatabaser</span><span class="sxs-lookup"><span data-stu-id="91656-186">Create and manage scaled-out cloud databases</span></span>](sql-database-elastic-jobs-create-and-manage.md)
