---
title: "aaaDeploy och utforska hello flera innehavare Wingtip SaaS-program som använder Azure SQL Database | Microsoft Docs"
description: "Distribuera och utforska hello Wingtip SaaS flera innehavare-program, som visar SaaS mönster med Azure SQL Database."
keywords: sql database tutorial
services: sql-database
documentationcenter: 
author: stevestein
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: scale out apps
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: sstein
ms.openlocfilehash: 7c528ee19472d3b8c7a285b2f86013945e8f4bf4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="deploy-and-explore-a-multi-tenant-application-that-uses-azure-sql-database---wingtip-saas"></a><span data-ttu-id="d6b69-104">Distribuera och utforska ett program med flera innehavare som använder Azure SQL Database - Wingtip SaaS</span><span class="sxs-lookup"><span data-stu-id="d6b69-104">Deploy and explore a multi-tenant application that uses Azure SQL Database - Wingtip SaaS</span></span>

<span data-ttu-id="d6b69-105">I den här självstudiekursen, distribuera och utforska hello Wingtip SaaS-program.</span><span class="sxs-lookup"><span data-stu-id="d6b69-105">In this tutorial, you deploy and explore hello Wingtip SaaS application.</span></span> <span data-ttu-id="d6b69-106">hello program använder en databas-per-klient, SaaS programmönster tooservice flera innehavare.</span><span class="sxs-lookup"><span data-stu-id="d6b69-106">hello application uses a database-per-tenant, SaaS application pattern, tooservice multiple tenants.</span></span> <span data-ttu-id="d6b69-107">hello program är utformad tooshowcase funktioner i Azure SQL Database som gör det lättare att aktivera SaaS-scenarier.</span><span class="sxs-lookup"><span data-stu-id="d6b69-107">hello application is designed tooshowcase features of Azure SQL Database that simplify enabling SaaS scenarios.</span></span>

<span data-ttu-id="d6b69-108">Fem minuter när du klickar på hello *distribuera tooAzure* knappen nedan, du har ett SaaS-program för flera innehavare, med hjälp av SQL-databas, upp och körs i hello moln.</span><span class="sxs-lookup"><span data-stu-id="d6b69-108">Five minutes after clicking hello *Deploy tooAzure* button below, you have a multi-tenant SaaS application, using SQL Database, up and running in hello cloud.</span></span> <span data-ttu-id="d6b69-109">hello programmet distribueras med tre exempel klienter, var och en med sin egen databas alla distribuerade till en elastisk SQL-pool.</span><span class="sxs-lookup"><span data-stu-id="d6b69-109">hello application is deployed with three sample tenants, each with its own database, all deployed into a SQL elastic pool.</span></span> <span data-ttu-id="d6b69-110">hello appen är distribuerade tooyour Azure-prenumeration, vilket ger dig fullständig åtkomst tooexplore och arbeta med hello enskilda programkomponenter.</span><span class="sxs-lookup"><span data-stu-id="d6b69-110">hello app is deployed tooyour Azure subscription, giving you full access tooexplore and work with hello individual application components.</span></span> <span data-ttu-id="d6b69-111">hello programmet källa koden och hantering av skript är tillgängliga i hello WingtipSaaS GitHub-lagringsplatsen.</span><span class="sxs-lookup"><span data-stu-id="d6b69-111">hello application source code and management scripts are available in hello WingtipSaaS GitHub repo.</span></span>


<span data-ttu-id="d6b69-112">I den här guiden lär du dig:</span><span class="sxs-lookup"><span data-stu-id="d6b69-112">In this tutorial you learn:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="d6b69-113">Hur toodeploy hello Wingtip SaaS-program</span><span class="sxs-lookup"><span data-stu-id="d6b69-113">How toodeploy hello Wingtip SaaS application</span></span>
> * <span data-ttu-id="d6b69-114">Där tooget hello programmets källkod och av hanteringsskript</span><span class="sxs-lookup"><span data-stu-id="d6b69-114">Where tooget hello application source code, and management scripts</span></span>
> * <span data-ttu-id="d6b69-115">Om hello servrar, pooler och databaser som utgör hello app</span><span class="sxs-lookup"><span data-stu-id="d6b69-115">About hello servers, pools, and databases that make up hello app</span></span>
> * <span data-ttu-id="d6b69-116">Hur klienter mappas tootheir data med hello *katalog*</span><span class="sxs-lookup"><span data-stu-id="d6b69-116">How tenants are mapped tootheir data with hello *catalog*</span></span>
> * <span data-ttu-id="d6b69-117">Hur tooprovision en ny klient</span><span class="sxs-lookup"><span data-stu-id="d6b69-117">How tooprovision a new tenant</span></span>
> * <span data-ttu-id="d6b69-118">Hur toomonitor klient aktivitet i hello app</span><span class="sxs-lookup"><span data-stu-id="d6b69-118">How toomonitor tenant activity in hello app</span></span>

<span data-ttu-id="d6b69-119">tooexplore användningsmönster för olika SaaS design och hantering, en [antal relaterade självstudier](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials) är tillgänglig som bygger på den här första distributionen.</span><span class="sxs-lookup"><span data-stu-id="d6b69-119">tooexplore various SaaS design and management patterns, a [series of related tutorials](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials) is available that build upon this initial deployment.</span></span> <span data-ttu-id="d6b69-120">Fördjupa dig i hello tillhandahålls skript när du går igenom hello självstudier och granska hur hello olika SaaS mönster implementeras.</span><span class="sxs-lookup"><span data-stu-id="d6b69-120">While going through hello tutorials, dive into hello provided scripts, and examine how hello different SaaS patterns are implemented.</span></span> <span data-ttu-id="d6b69-121">Gå igenom hello skript i varje självstudiekursen toogain en djupare förståelse hur tooimplement hello många SQL-databas funktioner som förenklar utveckla SaaS-program.</span><span class="sxs-lookup"><span data-stu-id="d6b69-121">Step through hello scripts in each tutorial toogain a deeper understanding how tooimplement hello many SQL Database features that simplify developing SaaS applications.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="d6b69-122">Krav</span><span class="sxs-lookup"><span data-stu-id="d6b69-122">Prerequisites</span></span>

<span data-ttu-id="d6b69-123">den här självstudiekursen, se till att hello följande krav är slutförda toocomplete:</span><span class="sxs-lookup"><span data-stu-id="d6b69-123">toocomplete this tutorial, make sure hello following prerequisites are completed:</span></span>

* <span data-ttu-id="d6b69-124">Azure PowerShell ska ha installerats.</span><span class="sxs-lookup"><span data-stu-id="d6b69-124">Azure PowerShell is installed.</span></span> <span data-ttu-id="d6b69-125">Mer information finns i [Komma igång med Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span><span class="sxs-lookup"><span data-stu-id="d6b69-125">For details, see [Getting started with Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span></span>

## <a name="deploy-hello-wingtip-saas-application"></a><span data-ttu-id="d6b69-126">Distribuera hello Wingtip SaaS-program</span><span class="sxs-lookup"><span data-stu-id="d6b69-126">Deploy hello Wingtip SaaS application</span></span>

<span data-ttu-id="d6b69-127">Distribuera hello Wingtip SaaS app:</span><span class="sxs-lookup"><span data-stu-id="d6b69-127">Deploy hello Wingtip SaaS app:</span></span>

1. <span data-ttu-id="d6b69-128">Klicka på hello **distribuera tooAzure** knappen öppnar hello Azure portal toohello Wingtip SaaS Distributionsmall.</span><span class="sxs-lookup"><span data-stu-id="d6b69-128">Clicking hello **Deploy tooAzure** button opens hello Azure portal toohello Wingtip SaaS deployment template.</span></span> <span data-ttu-id="d6b69-129">hello mallen kräver två parametervärden. ett namn för en ny resursgrupp och ett användarnamn som särskiljer den här distributionen från andra distributioner av hello Wingtip SaaS-app.</span><span class="sxs-lookup"><span data-stu-id="d6b69-129">hello template requires two parameter values; a name for a new resource group, and a user name that distinguishes this deployment from other deployments of hello Wingtip SaaS app.</span></span> <span data-ttu-id="d6b69-130">Nästa steg i hello innehåller information för att ange dessa värden.</span><span class="sxs-lookup"><span data-stu-id="d6b69-130">hello next step provides details for setting these values.</span></span>

   <span data-ttu-id="d6b69-131">Se till att toonote hello exakta värden som du använder eftersom du behöver tooenter dem till en konfiguration filen senare.</span><span class="sxs-lookup"><span data-stu-id="d6b69-131">Make sure toonote hello exact values that you use, because you will need tooenter them into a configuration file later.</span></span>

   <a href="http://aka.ms/deploywtpapp" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a>

1. <span data-ttu-id="d6b69-132">Ange parametervärden som krävs för distribution av hello:</span><span class="sxs-lookup"><span data-stu-id="d6b69-132">Enter required parameter values for hello deployment:</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="d6b69-133">En del autentisering och brandväggar för servern har avsiktligt lämnats oskyddade i demonstrationssyfte.</span><span class="sxs-lookup"><span data-stu-id="d6b69-133">Some authentication, and server firewalls are intentionally unsecured for demonstration purposes.</span></span> <span data-ttu-id="d6b69-134">**Skapa en ny resursgrupp**, och Använd inte befintliga resursgrupper, servrar eller pooler.</span><span class="sxs-lookup"><span data-stu-id="d6b69-134">**Create a new resource group**, and do not use existing resource groups, servers, or pools.</span></span> <span data-ttu-id="d6b69-135">Använd inte det här programmet eller alla resurser som den skapar för produktion.</span><span class="sxs-lookup"><span data-stu-id="d6b69-135">Do not use this application, or any resources it creates, for production.</span></span> <span data-ttu-id="d6b69-136">Ta bort den här resursen gruppen när du är klar med hello programmet toostop relaterade fakturering.</span><span class="sxs-lookup"><span data-stu-id="d6b69-136">Delete this resource group when you are finished with hello application toostop related billing.</span></span>

    * <span data-ttu-id="d6b69-137">**Resursgruppen** – Välj **Skapa nytt** och ger en **namn** för hello resursgrupp.</span><span class="sxs-lookup"><span data-stu-id="d6b69-137">**Resource group** - Select **Create new** and provide a **Name** for hello resource group.</span></span> <span data-ttu-id="d6b69-138">Välj en **plats** hello nedrullningsbara listan.</span><span class="sxs-lookup"><span data-stu-id="d6b69-138">Select a **Location** from hello drop-down list.</span></span>
    * <span data-ttu-id="d6b69-139">**Användaren** -resurser kräver globalt unikt namn.</span><span class="sxs-lookup"><span data-stu-id="d6b69-139">**User** - Some resources require names that are globally unique.</span></span> <span data-ttu-id="d6b69-140">tooensure unikhet varje gång du distribuerar programmet hello ange ett värde toodifferentiate resurser som du skapar från resurser som skapats av andra distribution av hello Wingtip program.</span><span class="sxs-lookup"><span data-stu-id="d6b69-140">tooensure uniqueness, each time you deploy hello application provide a value toodifferentiate resources you create, from resources created by any other deployment of hello Wingtip application.</span></span> <span data-ttu-id="d6b69-141">Rekommenderar vi toouse en kort **användare** namn, till exempel din initialer plus ett tal (till exempel *bg1*), och sedan använda som hello resursgruppens namn (till exempel *wingtip bg1*).</span><span class="sxs-lookup"><span data-stu-id="d6b69-141">It’s recommended toouse a short **User** name, such as your initials plus a number (for example, *bg1*), and then use that in hello resource group name (for example, *wingtip-bg1*).</span></span> <span data-ttu-id="d6b69-142">Den **användaren** parametern kan bara innehålla bokstäver, siffror och bindestreck (inga blanksteg).</span><span class="sxs-lookup"><span data-stu-id="d6b69-142">The **User** parameter can only contain letters, numbers, and hyphens (no spaces).</span></span> <span data-ttu-id="d6b69-143">hello måste första och sista tecknet vara en bokstav eller en siffra (alla gemena rekommenderas).</span><span class="sxs-lookup"><span data-stu-id="d6b69-143">hello first and last character must be a letter or a number (all lowercase is recommended).</span></span>


1. <span data-ttu-id="d6b69-144">**Distribuera programmet hello**.</span><span class="sxs-lookup"><span data-stu-id="d6b69-144">**Deploy hello application**.</span></span>

    * <span data-ttu-id="d6b69-145">Klicka på tooagree toohello villkor.</span><span class="sxs-lookup"><span data-stu-id="d6b69-145">Click tooagree toohello terms and conditions.</span></span>
    * <span data-ttu-id="d6b69-146">Klicka på **Köp**.</span><span class="sxs-lookup"><span data-stu-id="d6b69-146">Click **Purchase**.</span></span>

1. <span data-ttu-id="d6b69-147">Övervaka Distributionsstatus genom att klicka på **meddelanden** (hello klockikonen höger om sökrutan hello).</span><span class="sxs-lookup"><span data-stu-id="d6b69-147">Monitor deployment status by clicking **Notifications** (hello bell icon right of hello search box).</span></span> <span data-ttu-id="d6b69-148">Distribuera hello Wingtip SaaS app tar cirka fem minuter.</span><span class="sxs-lookup"><span data-stu-id="d6b69-148">Deploying hello Wingtip SaaS app takes approximately five minutes.</span></span>

   ![distributionen lyckades](media/sql-database-saas-tutorial/succeeded.png)

## <a name="download-and-unblock-hello-wingtip-saas-scripts"></a><span data-ttu-id="d6b69-150">Hämta och avblockera hello Wingtip SaaS-skript</span><span class="sxs-lookup"><span data-stu-id="d6b69-150">Download and unblock hello Wingtip SaaS scripts</span></span>

<span data-ttu-id="d6b69-151">Vid distribution av programmet hello hämta hello källa koden och hantering av skript.</span><span class="sxs-lookup"><span data-stu-id="d6b69-151">While hello application is deploying, download hello source code and management scripts.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d6b69-152">Körbara innehållet (skript, DLL-filer) kan blockeras av Windows när zip-filer laddas ned från en extern källa och extraheras.</span><span class="sxs-lookup"><span data-stu-id="d6b69-152">Executable contents (scripts, dlls) may be blocked by Windows when zip files are downloaded from an external source and extracted.</span></span> <span data-ttu-id="d6b69-153">Extraherar hello skript från en zip-fil, gör när hello nedan toounblock hello ZIP-filen innan du extraherar.</span><span class="sxs-lookup"><span data-stu-id="d6b69-153">When extracting hello scripts from a zip file, follow hello steps below toounblock hello .zip file before extracting.</span></span> <span data-ttu-id="d6b69-154">Detta säkerställer att hello skript tillåts toorun.</span><span class="sxs-lookup"><span data-stu-id="d6b69-154">This ensures hello scripts are allowed toorun.</span></span>

1. <span data-ttu-id="d6b69-155">Bläddra för[github-repo-hello Wingtip SaaS](https://github.com/Microsoft/WingtipSaaS).</span><span class="sxs-lookup"><span data-stu-id="d6b69-155">Browse too[hello Wingtip SaaS github repo](https://github.com/Microsoft/WingtipSaaS).</span></span>
1. <span data-ttu-id="d6b69-156">Klicka på **kloning eller hämta**.</span><span class="sxs-lookup"><span data-stu-id="d6b69-156">Click **Clone or download**.</span></span>
1. <span data-ttu-id="d6b69-157">Klicka på **hämta ZIP** och spara hello-filen.</span><span class="sxs-lookup"><span data-stu-id="d6b69-157">Click **Download ZIP** and save hello file.</span></span>
1. <span data-ttu-id="d6b69-158">Högerklicka på hello **WingtipSaaS master.zip** fil och markera **egenskaper**.</span><span class="sxs-lookup"><span data-stu-id="d6b69-158">Right-click hello **WingtipSaaS-master.zip** file, and select **Properties**.</span></span>
1. <span data-ttu-id="d6b69-159">På hello **allmänna** väljer **avblockera**, och klicka på **tillämpa**.</span><span class="sxs-lookup"><span data-stu-id="d6b69-159">On hello **General** tab, select **Unblock**, and click **Apply**.</span></span>
1. <span data-ttu-id="d6b69-160">Klicka på **OK**.</span><span class="sxs-lookup"><span data-stu-id="d6b69-160">Click **OK**.</span></span>
1. <span data-ttu-id="d6b69-161">Extrahera hello-filer.</span><span class="sxs-lookup"><span data-stu-id="d6b69-161">Extract hello files.</span></span>

<span data-ttu-id="d6b69-162">Skript finns i hello *... \\WingtipSaaS master\\Learning moduler* mapp.</span><span class="sxs-lookup"><span data-stu-id="d6b69-162">Scripts are located in hello *..\\WingtipSaaS-master\\Learning Modules* folder.</span></span>

## <a name="update-hello-configuration-file-for-this-deployment"></a><span data-ttu-id="d6b69-163">Uppdatera hello konfigurationsfilen för den här distributionen</span><span class="sxs-lookup"><span data-stu-id="d6b69-163">Update hello configuration file for this deployment</span></span>

<span data-ttu-id="d6b69-164">Innan du kör alla skript, ange hello *resursgruppen* och *användare* värdena i **UserConfig.psm1**.</span><span class="sxs-lookup"><span data-stu-id="d6b69-164">Before running any scripts, set hello *resource group* and *user* values in **UserConfig.psm1**.</span></span> <span data-ttu-id="d6b69-165">Ange dessa variabler toohello värden som du anger under distributionen.</span><span class="sxs-lookup"><span data-stu-id="d6b69-165">Set these variables toohello values you set during deployment.</span></span>

1. <span data-ttu-id="d6b69-166">Öppna... \\Learning moduler\\*UserConfig.psm1* i hello *PowerShell ISE*</span><span class="sxs-lookup"><span data-stu-id="d6b69-166">Open ...\\Learning Modules\\*UserConfig.psm1* in hello *PowerShell ISE*</span></span>
1. <span data-ttu-id="d6b69-167">Uppdatera *ResourceGroupName* och *namn* med hello specifika värden för din distribution (på rader 10 och 11 endast).</span><span class="sxs-lookup"><span data-stu-id="d6b69-167">Update *ResourceGroupName* and *Name* with hello specific values for your deployment (on lines 10 and 11 only).</span></span>
1. <span data-ttu-id="d6b69-168">Spara ändringarna för Hej!</span><span class="sxs-lookup"><span data-stu-id="d6b69-168">Save hello changes!</span></span>

<span data-ttu-id="d6b69-169">Det här helt enkelt att hålla du från att ha tooupdate dessa distribution-specifika värden i alla skript.</span><span class="sxs-lookup"><span data-stu-id="d6b69-169">Setting this here simply keeps you from having tooupdate these deployment-specific values in every script.</span></span>

## <a name="run-hello-application"></a><span data-ttu-id="d6b69-170">Kör programmet hello</span><span class="sxs-lookup"><span data-stu-id="d6b69-170">Run hello application</span></span>

<span data-ttu-id="d6b69-171">hello app demonstreras handelsplatser, såsom konsertsalar jazz föreningar sport föreningar som värd för händelser.</span><span class="sxs-lookup"><span data-stu-id="d6b69-171">hello app showcases venues, such as concert halls, jazz clubs, sports clubs, that host events.</span></span> <span data-ttu-id="d6b69-172">Skapas registrera som kunder (eller klienter) hello Wingtip plattform för ett enkelt sätt toolist händelser och sälja biljetter.</span><span class="sxs-lookup"><span data-stu-id="d6b69-172">Venues register as customers (or tenants) of hello Wingtip platform, for an easy way toolist events and sell tickets.</span></span> <span data-ttu-id="d6b69-173">Varje plats hämtar en anpassad web app toomanage och deras händelser och sälja biljetter oberoende och isoleras från andra klienter.</span><span class="sxs-lookup"><span data-stu-id="d6b69-173">Each venue gets a personalized web app toomanage and list their events and sell tickets, independent and isolated from other tenants.</span></span> <span data-ttu-id="d6b69-174">Varje klient hämtar under hello försättsbladen, en SQL-databas som har distribuerats till en elastisk SQL-pool.</span><span class="sxs-lookup"><span data-stu-id="d6b69-174">Under hello covers, each tenant gets a SQL database deployed into a SQL elastic pool.</span></span>

<span data-ttu-id="d6b69-175">Central **händelser hubb** innehåller en lista över klient URL: er specifika tooyour distribution.</span><span class="sxs-lookup"><span data-stu-id="d6b69-175">A central **Events Hub** provides a list of tenant URLs specific tooyour deployment.</span></span>

1. <span data-ttu-id="d6b69-176">Öppna hello _händelser hubb_ i webbläsaren: http://events.wtp.&lt; ANVÄNDAREN&gt;. trafficmanager.net (Ersätt med användarnamnet för din distribution):</span><span class="sxs-lookup"><span data-stu-id="d6b69-176">Open hello _Events Hub_ in your web browser: http://events.wtp.&lt;USER&gt;.trafficmanager.net (replace with your deployment's user name):</span></span>

    ![evenemangshubben](media/sql-database-saas-tutorial/events-hub.png)

1. <span data-ttu-id="d6b69-178">Klicka på **Fabrikam Jazzklubb** i *evenemangshubben*.</span><span class="sxs-lookup"><span data-stu-id="d6b69-178">Click **Fabrikam Jazz Club** in the *Events Hub*.</span></span>

   ![Händelser](./media/sql-database-saas-tutorial/fabrikam.png)


<span data-ttu-id="d6b69-180">toocontrol hello distribution av inkommande begäranden, hello app använder [ *Azure Traffic Manager*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview).</span><span class="sxs-lookup"><span data-stu-id="d6b69-180">toocontrol hello distribution of incoming requests, hello app uses [*Azure Traffic Manager*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview).</span></span> <span data-ttu-id="d6b69-181">hello händelser sidor som är specifika för klient kräver att klienten namn är inkluderade i hello URL: er.</span><span class="sxs-lookup"><span data-stu-id="d6b69-181">hello events pages, which are tenant-specific, require that tenant names are included in hello URLs.</span></span> <span data-ttu-id="d6b69-182">Alla hello klient URL: er omfattar ditt specifika *användare* värde och följande format: http://events.wtp.&lt; ANVÄNDAREN&gt;.trafficmanager.net/*fabrikamjazzclub*.</span><span class="sxs-lookup"><span data-stu-id="d6b69-182">All hello tenant URLs include your specific *User* value and follow this format: http://events.wtp.&lt;USER&gt;.trafficmanager.net/*fabrikamjazzclub*.</span></span> <span data-ttu-id="d6b69-183">hello händelser app Parsar hello klientnamn från hello URL och använder den toocreate en nyckel tooaccess en katalog med hjälp av [ *Fragmentera kartan management*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-scale-shard-map-management).</span><span class="sxs-lookup"><span data-stu-id="d6b69-183">hello events app parses hello tenant name from hello URL and uses it toocreate a key tooaccess a catalog using [*shard map management*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-scale-shard-map-management).</span></span> <span data-ttu-id="d6b69-184">hello katalog maps hello viktiga toohello klient databasplatsen.</span><span class="sxs-lookup"><span data-stu-id="d6b69-184">hello catalog maps hello key toohello tenant's database location.</span></span> <span data-ttu-id="d6b69-185">Hej **händelser hubb** använder utökade metadata i hello katalogen tooretrieve hello innehavarens namn som associeras med varje databas tooprovide hello URL-listan.</span><span class="sxs-lookup"><span data-stu-id="d6b69-185">hello **Events Hub** uses extended metadata in hello catalog tooretrieve hello tenant’s name associated with each database tooprovide hello list of URLs.</span></span>

<span data-ttu-id="d6b69-186">I en produktionsmiljö skulle du vanligtvis skapa en CNAME DNS-posten [ *peka företagets Internetdomän* ](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-point-internet-domain) till hello traffic manager-profil.</span><span class="sxs-lookup"><span data-stu-id="d6b69-186">In a production environment, you would typically create a CNAME DNS record to [*point a company internet domain*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-point-internet-domain) to hello traffic manager profile.</span></span>

## <a name="start-generating-load-on-hello-tenant-databases"></a><span data-ttu-id="d6b69-187">Börja generera belastningen på hello klient databaser</span><span class="sxs-lookup"><span data-stu-id="d6b69-187">Start generating load on hello tenant databases</span></span>

<span data-ttu-id="d6b69-188">Nu när hello appen har distribuerats kan vi lägger den toowork!</span><span class="sxs-lookup"><span data-stu-id="d6b69-188">Now that hello app is deployed, let’s put it toowork!</span></span> <span data-ttu-id="d6b69-189">Hej *Demo-LoadGenerator* PowerShell-skript startar en arbetsbelastning som körs mot alla klient-databaser.</span><span class="sxs-lookup"><span data-stu-id="d6b69-189">hello *Demo-LoadGenerator* PowerShell script starts a workload running against all tenant databases.</span></span> <span data-ttu-id="d6b69-190">hello verkliga belastningen på många SaaS-appar är vanligtvis sporadiska och oförutsägbart.</span><span class="sxs-lookup"><span data-stu-id="d6b69-190">hello real-world load on many SaaS apps is typically sporadic and unpredictable.</span></span> <span data-ttu-id="d6b69-191">toosimulate den här typen av belastning, hello generator producerar en belastning fördelad över alla klienter med slumpmässig belastning på varje klient som uppstår vid slumpmässiga intervall.</span><span class="sxs-lookup"><span data-stu-id="d6b69-191">toosimulate this type of load, hello generator produces a load distributed across all tenants, with randomized bursts on each tenant occurring at randomized intervals.</span></span> <span data-ttu-id="d6b69-192">Därför det tar flera minuter för hello belastningen mönster tooemerge så är det bästa toolet hello generator kör på minst tre eller fyra minuter innan du övervakar hello läsa in.</span><span class="sxs-lookup"><span data-stu-id="d6b69-192">Because of this it takes several minutes for hello load pattern tooemerge, so it’s best toolet hello generator run for at least three or four minutes before monitoring hello load.</span></span>

1. <span data-ttu-id="d6b69-193">I hello *PowerShell ISE*öppnar hello... \\Learning moduler\\verktyg\\*Demo-LoadGenerator.ps1* skript.</span><span class="sxs-lookup"><span data-stu-id="d6b69-193">In hello *PowerShell ISE*, open hello ...\\Learning Modules\\Utilities\\*Demo-LoadGenerator.ps1* script.</span></span>
1. <span data-ttu-id="d6b69-194">Tryck på **F5** kör hello skript och starta hello belastningen generator (lämna hello Standardparametervärden just nu).</span><span class="sxs-lookup"><span data-stu-id="d6b69-194">Press **F5** to run hello script and start hello load generator (leave hello default parameter values for now).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d6b69-195">toorun andra skript, öppna ett nytt fönster i PowerShell ISE.</span><span class="sxs-lookup"><span data-stu-id="d6b69-195">toorun other scripts, open a new PowerShell ISE window.</span></span> <span data-ttu-id="d6b69-196">hello belastningen generator körs som en serie av jobb i din lokala PowerShell-session.</span><span class="sxs-lookup"><span data-stu-id="d6b69-196">hello load generator is running as a series of jobs in your local PowerShell session.</span></span> <span data-ttu-id="d6b69-197">Hej *Demo-LoadGenerator.ps1* skript systemtillstånd aktiveras hello faktiska belastningen generator skript som körs som en aktivitet i förgrunden plus en serie belastningen generations bakgrundsjobb.</span><span class="sxs-lookup"><span data-stu-id="d6b69-197">hello *Demo-LoadGenerator.ps1* script kicks off hello actual load generator script, which runs as a foreground task plus a series of background load-generation jobs.</span></span> <span data-ttu-id="d6b69-198">Ett jobb belastningen generator anropas för varje databas som har registrerats i hello-katalogen.</span><span class="sxs-lookup"><span data-stu-id="d6b69-198">A load-generator job is invoked for each database registered in hello catalog.</span></span> <span data-ttu-id="d6b69-199">hello jobb körs i din lokala PowerShell-session, så att stänga hello PowerShell-sessionen avbryts alla jobb.</span><span class="sxs-lookup"><span data-stu-id="d6b69-199">hello jobs are running in your local PowerShell session, so closing hello PowerShell session stops all jobs.</span></span> <span data-ttu-id="d6b69-200">Om du avbryter din dator, load generation pausas och återupptas när du aktiverar din dator.</span><span class="sxs-lookup"><span data-stu-id="d6b69-200">If you suspend your machine, load generation is paused and will resume when you wake up your machine.</span></span>

<span data-ttu-id="d6b69-201">När hello belastningen generator anropar belastningen generations jobb för varje klient, hello förgrunden aktiviteten finns kvar i ett jobb startar tillstånd där den startas ytterligare bakgrundsjobb för alla nya klienter som tillhandahålls senare.</span><span class="sxs-lookup"><span data-stu-id="d6b69-201">Once hello load generator invokes load-generation jobs for each tenant, hello foreground task remains in a job-invoking state, where it starts additional background jobs for any new tenants that are subsequently provisioned.</span></span> <span data-ttu-id="d6b69-202">Du kan använda *Ctrl-C* eller tryck på hello *stoppa* knappen toostop hello förgrunden aktiviteten, men befintliga bakgrunden jobb kommer att fortsätta skapa belastningen på varje databas.</span><span class="sxs-lookup"><span data-stu-id="d6b69-202">You can use *Ctrl-C* or press hello *Stop* button toostop hello foreground task, but existing background jobs will continue generating load on each database.</span></span> <span data-ttu-id="d6b69-203">Om du behöver toomonitor och styra hello bakgrundsjobb använda *Get-Job*, *Receive-Job* och *stoppa jobbet*.</span><span class="sxs-lookup"><span data-stu-id="d6b69-203">If you need toomonitor and control hello background jobs, use *Get-Job*, *Receive-Job* and *Stop-Job*.</span></span> <span data-ttu-id="d6b69-204">Medan hello förgrunden körs som du kan inte använda hello tooexecute med samma PowerShell-session andra skript.</span><span class="sxs-lookup"><span data-stu-id="d6b69-204">While hello foreground task is running you cannot use hello same PowerShell session tooexecute other scripts.</span></span> <span data-ttu-id="d6b69-205">toorun andra skript, öppna ett nytt fönster i PowerShell ISE.</span><span class="sxs-lookup"><span data-stu-id="d6b69-205">toorun other scripts, open a new PowerShell ISE window.</span></span>

<span data-ttu-id="d6b69-206">Om du vill toorestart hello belastningen generator sessionen, till exempel med andra parametrar du kan stoppa hello förgrunden aktivitet och sedan kör hello *Demo-LoadGenerator.ps1* skript.</span><span class="sxs-lookup"><span data-stu-id="d6b69-206">If you want toorestart hello load generator session, for example with different parameters, you can stop hello foreground task and then re-run hello *Demo-LoadGenerator.ps1* script.</span></span> <span data-ttu-id="d6b69-207">Köra *Demo-LoadGenerator.ps1* stoppar alla pågående jobb och omstarter hello generator som en ny uppsättning jobb med hjälp av hello aktuella parametrar av systemtillstånd aktiveras först.</span><span class="sxs-lookup"><span data-stu-id="d6b69-207">Re-running *Demo-LoadGenerator.ps1* first stops any currently running jobs, and then restarts hello generator, which kicks off a new set of jobs using hello current parameters.</span></span>

<span data-ttu-id="d6b69-208">Lämna hello belastningen generator körs i hello jobbet anropar tillstånd för tillfället.</span><span class="sxs-lookup"><span data-stu-id="d6b69-208">For now, leave hello load generator running in hello job-invoking state.</span></span>


## <a name="provision-a-new-tenant"></a><span data-ttu-id="d6b69-209">Etablera en ny klient</span><span class="sxs-lookup"><span data-stu-id="d6b69-209">Provision a new tenant</span></span>

<span data-ttu-id="d6b69-210">hello första distributionen skapas tre exempel hyresgäster, men nu ska vi skapa en annan klient toosee hur detta påverkar hello distribuerade program.</span><span class="sxs-lookup"><span data-stu-id="d6b69-210">hello initial deployment creates three sample tenants, but let’s create another tenant toosee how this impacts hello deployed application.</span></span> <span data-ttu-id="d6b69-211">hello etablering Wingtip SaaS-innehavare arbetsflödet beskrivs i hello [etablera och katalogen kursen](sql-database-saas-tutorial-provision-and-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="d6b69-211">hello Wingtip SaaS provisioning-tenants workflow is detailed in hello [Provision and catalog tutorial](sql-database-saas-tutorial-provision-and-catalog.md).</span></span> <span data-ttu-id="d6b69-212">I det här steget kan skapa du snabbt en ny klient.</span><span class="sxs-lookup"><span data-stu-id="d6b69-212">In this step, you quickly create a new tenant.</span></span>

1. <span data-ttu-id="d6b69-213">Öppna... \\Learning Modules\Provision och katalogen\\*Demo-ProvisionAndCatalog.ps1* i hello *PowerShell ISE*.</span><span class="sxs-lookup"><span data-stu-id="d6b69-213">Open ...\\Learning Modules\Provision and Catalog\\*Demo-ProvisionAndCatalog.ps1* in hello *PowerShell ISE*.</span></span>
1. <span data-ttu-id="d6b69-214">Tryck på **F5** att köra hello-skript (lämna hello standardvärdena för tillfället).</span><span class="sxs-lookup"><span data-stu-id="d6b69-214">Press **F5** to run hello script (leave hello default values for now).</span></span>

   > [!NOTE]
   > <span data-ttu-id="d6b69-215">Många SaaS Wingtip skript använder *$PSScriptRoot* tooallow navigera mappar toocall funktioner i andra skript.</span><span class="sxs-lookup"><span data-stu-id="d6b69-215">Many Wingtip SaaS scripts use *$PSScriptRoot* tooallow navigating folders toocall functions in other scripts.</span></span> <span data-ttu-id="d6b69-216">Den här variabeln utvärderas bara när hello skriptet körs genom att trycka på **F5**.</span><span class="sxs-lookup"><span data-stu-id="d6b69-216">This variable is only evaluated when hello script is executed by pressing **F5**.</span></span>  <span data-ttu-id="d6b69-217">Markera och kör en markering (**F8**) kan leda till fel, trycker du på **F5** när du kör skript.</span><span class="sxs-lookup"><span data-stu-id="d6b69-217">Highlighting and running a selection (**F8**) can result in errors, so press **F5** when running scripts.</span></span>

<span data-ttu-id="d6b69-218">hello ny klient databas skapas i en elastisk SQL-pool, initiera och registreras i hello-katalogen.</span><span class="sxs-lookup"><span data-stu-id="d6b69-218">hello new tenant database is created in a SQL elastic pool, initialized and registered in hello catalog.</span></span> <span data-ttu-id="d6b69-219">Efter lyckad etableringen hello ny klient har biljett sälja *händelser* platsen visas i webbläsaren:</span><span class="sxs-lookup"><span data-stu-id="d6b69-219">After successful provisioning, hello new tenant's ticket-selling *Events* site appears in your browser:</span></span>

![Ny klient](./media/sql-database-saas-tutorial/red-maple-racing.png)

<span data-ttu-id="d6b69-221">Uppdatera hello *händelser hubb* och hello ny klient visas nu i hello-listan.</span><span class="sxs-lookup"><span data-stu-id="d6b69-221">Refresh hello *Events Hub* and hello new tenant now appears in hello list.</span></span>


## <a name="explore-hello-servers-pools-and-tenant-databases"></a><span data-ttu-id="d6b69-222">Utforska hello servrar, pooler, och klient databaser</span><span class="sxs-lookup"><span data-stu-id="d6b69-222">Explore hello servers, pools, and tenant databases</span></span>

<span data-ttu-id="d6b69-223">Nu när du har startat körs en belastning mot hello samling av innehavare kan vi titta på några av hello-resurser som har distribuerats:</span><span class="sxs-lookup"><span data-stu-id="d6b69-223">Now that you've started running a load against hello collection of tenants, let’s look at some of hello resources that were deployed:</span></span>

1. <span data-ttu-id="d6b69-224">I den [Azure-portalen](http://portal.azure.com), bläddra tooyour lista över SQL-servrar och öppna den **katalog -&lt;användare&gt;**  server.</span><span class="sxs-lookup"><span data-stu-id="d6b69-224">In the [Azure portal](http://portal.azure.com), browse tooyour list of SQL servers and open the **catalog-&lt;USER&gt;** server.</span></span> <span data-ttu-id="d6b69-225">hello katalogserver innehåller två databaserna.</span><span class="sxs-lookup"><span data-stu-id="d6b69-225">hello catalog server contains two databases.</span></span> <span data-ttu-id="d6b69-226">Hej **tenantcatalog**, och hello **basetenantdb** (en tom *gyllene* eller malldatabasen som kopieras toocreate nya klienter).</span><span class="sxs-lookup"><span data-stu-id="d6b69-226">hello **tenantcatalog**, and hello **basetenantdb** (an empty *golden* or template database that is copied toocreate new tenants).</span></span>

   ![databaser](./media/sql-database-saas-tutorial/databases.png)

1. <span data-ttu-id="d6b69-228">Gå tillbaka tooyour lista över SQL-servrar och öppna hello **tenants1 -&lt;användare&gt;**  servern där hello klient databaser.</span><span class="sxs-lookup"><span data-stu-id="d6b69-228">Go back tooyour list of SQL servers and open hello **tenants1-&lt;USER&gt;** server that holds hello tenant databases.</span></span> <span data-ttu-id="d6b69-229">Varje klient-databasen är en _elastisk Standard_ databas i en standard 50 eDTU-pool.</span><span class="sxs-lookup"><span data-stu-id="d6b69-229">Each tenant database is an _Elastic Standard_ database in a 50 eDTU standard pool.</span></span> <span data-ttu-id="d6b69-230">Observera också att det finns en _Röd lönn tävling_ databasen, hello klient databasen som du tidigare har etablerats.</span><span class="sxs-lookup"><span data-stu-id="d6b69-230">Also notice there is a _Red Maple Racing_ database, hello tenant database you provisioned previously.</span></span>

   ![server](./media/sql-database-saas-tutorial/server.png)

## <a name="monitor-hello-pool"></a><span data-ttu-id="d6b69-232">Övervakaren hello pool</span><span class="sxs-lookup"><span data-stu-id="d6b69-232">Monitor hello pool</span></span>

<span data-ttu-id="d6b69-233">Om hello belastningen generator har körts i flera minuter, ska tillräckligt med data vara tillgängliga toostart tittar på några av hello övervakningsfunktionerna som är inbyggda i pooler och databaser.</span><span class="sxs-lookup"><span data-stu-id="d6b69-233">If hello load generator has been running for several minutes, enough data should be available toostart looking at some of hello monitoring capabilities built into pools and databases.</span></span>

1. <span data-ttu-id="d6b69-234">Bläddra toohello server **tenants1 -&lt;användare&gt;**, och klicka på **Pool1** att visa resursanvändningen för hello pool (hello belastningen generator kördes under en timme i följande diagram hello) :</span><span class="sxs-lookup"><span data-stu-id="d6b69-234">Browse toohello server **tenants1-&lt;USER&gt;**, and click **Pool1** to view resource utilization for hello pool (hello load generator ran for an hour in hello following charts):</span></span>

   ![övervaka poolen](./media/sql-database-saas-tutorial/monitor-pool.png)

<span data-ttu-id="d6b69-236">De här diagrammen visar hur väl lämpade elastiska pooler och SQL Database är för arbetsbelastningar från SaaS-program.</span><span class="sxs-lookup"><span data-stu-id="d6b69-236">What these two charts nicely illustrate, is how well suited elastic pools and SQL Database are for SaaS application workloads.</span></span> <span data-ttu-id="d6b69-237">Fyra databaser som varje burst-överföring tooas mycket som 40 edtu: er stöds enkelt i en 50 eDTU-pool.</span><span class="sxs-lookup"><span data-stu-id="d6b69-237">Four databases that are each bursting tooas much as 40 eDTUs are easily being supported in a 50 eDTU pool.</span></span> <span data-ttu-id="d6b69-238">Om de har etablerats som fristående databaser, de skulle varje måste toobe en S2 (50 DTU) toosupport hello belastning.</span><span class="sxs-lookup"><span data-stu-id="d6b69-238">If they were provisioned as standalone databases, they would each need toobe an S2 (50 DTU) toosupport hello bursts.</span></span> <span data-ttu-id="d6b69-239">hello kostnaden för 4 fristående S2 databaser är nästan 3 gånger hello priset för hello pool och hello poolen har fortfarande tillräckligt med utrymme för många flera databaser.</span><span class="sxs-lookup"><span data-stu-id="d6b69-239">hello cost of 4 standalone S2 databases would be nearly 3 times hello price of hello pool, and hello pool still has plenty of headroom for many more databases.</span></span> <span data-ttu-id="d6b69-240">I verkliga situationer körs SQL Database-kunder för närvarande av too500 databaser i 200 eDTU pooler.</span><span class="sxs-lookup"><span data-stu-id="d6b69-240">In real-world situations, SQL Database customers are currently running up too500 databases in 200 eDTU pools.</span></span> <span data-ttu-id="d6b69-241">Mer information finns i hello [prestandaövervakning kursen](sql-database-saas-tutorial-performance-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="d6b69-241">For more information, see hello [performance monitoring tutorial](sql-database-saas-tutorial-performance-monitoring.md).</span></span>


## <a name="next-steps"></a><span data-ttu-id="d6b69-242">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="d6b69-242">Next steps</span></span>

<span data-ttu-id="d6b69-243">I den här guiden har du lärt dig:</span><span class="sxs-lookup"><span data-stu-id="d6b69-243">In this tutorial you learned:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="d6b69-244">Hur toodeploy hello Wingtip SaaS-program</span><span class="sxs-lookup"><span data-stu-id="d6b69-244">How toodeploy hello Wingtip SaaS application</span></span>
> * <span data-ttu-id="d6b69-245">Om hello servrar, pooler och databaser som utgör hello app</span><span class="sxs-lookup"><span data-stu-id="d6b69-245">About hello servers, pools, and databases that make up hello app</span></span>
> * <span data-ttu-id="d6b69-246">Klienter som är mappade tootheir data med hello *katalog*</span><span class="sxs-lookup"><span data-stu-id="d6b69-246">Tenants are mapped tootheir data with hello *catalog*</span></span>
> * <span data-ttu-id="d6b69-247">Hur tooprovision nya klienter</span><span class="sxs-lookup"><span data-stu-id="d6b69-247">How tooprovision new tenants</span></span>
> * <span data-ttu-id="d6b69-248">Hur tooview pool användning toomonitor klient aktivitet</span><span class="sxs-lookup"><span data-stu-id="d6b69-248">How tooview pool utilization toomonitor tenant activity</span></span>
> * <span data-ttu-id="d6b69-249">Hur toodelete exempel resurser toostop relaterade fakturering</span><span class="sxs-lookup"><span data-stu-id="d6b69-249">How toodelete sample resources toostop related billing</span></span>

<span data-ttu-id="d6b69-250">Prova nu hello [etablera och katalogen självstudiekursen](sql-database-saas-tutorial-provision-and-catalog.md)</span><span class="sxs-lookup"><span data-stu-id="d6b69-250">Now try hello [Provision and catalog tutorial](sql-database-saas-tutorial-provision-and-catalog.md)</span></span>



## <a name="additional-resources"></a><span data-ttu-id="d6b69-251">Ytterligare resurser</span><span class="sxs-lookup"><span data-stu-id="d6b69-251">Additional resources</span></span>

* <span data-ttu-id="d6b69-252">Ytterligare [självstudier som bygger på hello Wingtip SaaS-program](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span><span class="sxs-lookup"><span data-stu-id="d6b69-252">Additional [tutorials that build on hello Wingtip SaaS application](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span></span>
* <span data-ttu-id="d6b69-253">toolearn om elastiska pooler finns [ *vad är en Azure SQL-elastisk pool*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-pool)</span><span class="sxs-lookup"><span data-stu-id="d6b69-253">toolearn about elastic pools, see [*What is an Azure SQL elastic pool*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-pool)</span></span>
* <span data-ttu-id="d6b69-254">toolearn om elastiska jobb finns [ *hantera utskalat moln databaser*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-jobs-overview)</span><span class="sxs-lookup"><span data-stu-id="d6b69-254">toolearn about elastic jobs, see [*Managing scaled-out cloud databases*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-jobs-overview)</span></span>
* <span data-ttu-id="d6b69-255">toolearn om flera innehavare SaaS-program, se [ *designmönster för SaaS-program med flera innehavare*](https://docs.microsoft.com/azure/sql-database/sql-database-design-patterns-multi-tenancy-saas-applications)</span><span class="sxs-lookup"><span data-stu-id="d6b69-255">toolearn about multi-tenant SaaS applications, see [*Design patterns for multi-tenant SaaS applications*](https://docs.microsoft.com/azure/sql-database/sql-database-design-patterns-multi-tenancy-saas-applications)</span></span>
