---
title: "Tjänst-till-tjänst-autentisering: Data Lake Store med Azure Active Directory | Microsoft Docs"
description: "Lär dig att uppnå service to service autentisering med Data Lake Store med Azure Active Directory"
services: data-lake-store
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: 820b7c5d-4863-4225-9bd1-df4d8f515537
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 04/21/2017
ms.author: nitinme
ms.openlocfilehash: 27ec0a4f48115d44da98dd048868b044aedf173c
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="service-to-service-authentication-with-data-lake-store-using-azure-active-directory"></a><span data-ttu-id="c8498-103">Tjänst-till-tjänst-autentisering med Data Lake Store med Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="c8498-103">Service-to-service authentication with Data Lake Store using Azure Active Directory</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="c8498-104">Tjänst-till-tjänst-autentisering</span><span class="sxs-lookup"><span data-stu-id="c8498-104">Service-to-service authentication</span></span>](data-lake-store-authenticate-using-active-directory.md)
> * [<span data-ttu-id="c8498-105">Slutanvändarautentisering</span><span class="sxs-lookup"><span data-stu-id="c8498-105">End-user authentication</span></span>](data-lake-store-end-user-authenticate-using-active-directory.md)
> 
> 

<span data-ttu-id="c8498-106">Azure Data Lake Store använder Azure Active Directory för autentisering.</span><span class="sxs-lookup"><span data-stu-id="c8498-106">Azure Data Lake Store uses Azure Active Directory for authentication.</span></span> <span data-ttu-id="c8498-107">Innan du skapar ett program som fungerar med Azure Data Lake Store eller Azure Data Lake Analytics kan bestämma du först hur du vill autentisera ditt program med Azure Active Directory (AD Azure).</span><span class="sxs-lookup"><span data-stu-id="c8498-107">Before authoring an application that works with Azure Data Lake Store or Azure Data Lake Analytics, you must first decide how you would like to authenticate your application with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="c8498-108">De största tillgängliga alternativ är:</span><span class="sxs-lookup"><span data-stu-id="c8498-108">The two main options available are:</span></span>

* <span data-ttu-id="c8498-109">Slutanvändarautentisering</span><span class="sxs-lookup"><span data-stu-id="c8498-109">End-user authentication</span></span> 
* <span data-ttu-id="c8498-110">Tjänst-till-tjänst-autentisering (den här artikeln)</span><span class="sxs-lookup"><span data-stu-id="c8498-110">Service-to-service authentication (this article)</span></span> 

<span data-ttu-id="c8498-111">Båda dessa alternativ kan resultera i ditt program som tillhandahålls med en OAuth 2.0-token som hämtar kopplade till varje begäran till Azure Data Lake Store eller Azure Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="c8498-111">Both these options result in your application being provided with an OAuth 2.0 token, which gets attached to each request made to Azure Data Lake Store or Azure Data Lake Analytics.</span></span>

<span data-ttu-id="c8498-112">Skapa den här artikeln pratar om hur en **webbprogram i Azure AD för autentisering av service to service**.</span><span class="sxs-lookup"><span data-stu-id="c8498-112">This article talks about how create an **Azure AD web application for service-to-service authentication**.</span></span> <span data-ttu-id="c8498-113">Information om programkonfigurationen för Azure AD för autentisering för slutanvändaren finns [slutanvändarens autentisering med Data Lake Store med Azure Active Directory](data-lake-store-end-user-authenticate-using-active-directory.md).</span><span class="sxs-lookup"><span data-stu-id="c8498-113">For instructions on Azure AD application configuration for end-user authentication see [End-user authentication with Data Lake Store using Azure Active Directory](data-lake-store-end-user-authenticate-using-active-directory.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="c8498-114">Krav</span><span class="sxs-lookup"><span data-stu-id="c8498-114">Prerequisites</span></span>
* <span data-ttu-id="c8498-115">En Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="c8498-115">An Azure subscription.</span></span> <span data-ttu-id="c8498-116">Se [Hämta en kostnadsfri utvärderingsversion av Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="c8498-116">See [Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>

## <a name="step-1-create-an-active-directory-web-application"></a><span data-ttu-id="c8498-117">Steg 1: Skapa ett Active Directory-webbprogram</span><span class="sxs-lookup"><span data-stu-id="c8498-117">Step 1: Create an Active Directory web application</span></span>

<span data-ttu-id="c8498-118">Skapa och konfigurera ett webbprogram i Azure AD för autentisering för tjänst-till-tjänst med Azure Data Lake Store med Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c8498-118">Create and configure an Azure AD web application for service-to-service authentication with Azure Data Lake Store using Azure Active Directory.</span></span> <span data-ttu-id="c8498-119">Instruktioner finns i [skapa en Azure AD-program](../azure-resource-manager/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="c8498-119">For instructions, see [Create an Azure AD application](../azure-resource-manager/resource-group-create-service-principal-portal.md).</span></span>

<span data-ttu-id="c8498-120">Kontrollera att du väljer när du följa anvisningarna i länken ovan **Web App / API** för programtyp, som visas i skärmbilden nedan.</span><span class="sxs-lookup"><span data-stu-id="c8498-120">While following the instructions at the above link, make sure you select **Web App / API** for application type, as shown in the screenshot below.</span></span>

<span data-ttu-id="c8498-121">![Skapa webbapp](./media/data-lake-store-authenticate-using-active-directory/azure-active-directory-create-web-app.png "skapa webbprogram")</span><span class="sxs-lookup"><span data-stu-id="c8498-121">![Create web app](./media/data-lake-store-authenticate-using-active-directory/azure-active-directory-create-web-app.png "Create web app")</span></span>

## <a name="step-2-get-application-id-authentication-key-and-tenant-id"></a><span data-ttu-id="c8498-122">Steg 2: Hämta program-id och autentiseringsnyckel klient-id</span><span class="sxs-lookup"><span data-stu-id="c8498-122">Step 2: Get application id, authentication key, and tenant id</span></span>
<span data-ttu-id="c8498-123">När programmässigt inloggningen måste ID: t för ditt program.</span><span class="sxs-lookup"><span data-stu-id="c8498-123">When programmatically logging in, you need the id for your application.</span></span> <span data-ttu-id="c8498-124">Om programmet körs under egna autentiseringsuppgifter, måste du också en autentiseringsnyckel.</span><span class="sxs-lookup"><span data-stu-id="c8498-124">If the application runs under its own credentials, you will also need an authentication key.</span></span>

* <span data-ttu-id="c8498-125">Instruktioner om hur du hämtar program-ID och autentisering nyckeln (kallas även för klienthemligheten) för ditt program finns [Get-ID och autentisering tangent](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-application-id-and-authentication-key).</span><span class="sxs-lookup"><span data-stu-id="c8498-125">For instructions on how to retrieve the application ID and authentication key (also called the client secret) for your application, see [Get application ID and authentication key](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-application-id-and-authentication-key).</span></span>

* <span data-ttu-id="c8498-126">Instruktioner om hur du hämtar klient-ID finns [hämta klient-ID](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-tenant-id).</span><span class="sxs-lookup"><span data-stu-id="c8498-126">For instructions on how to retrieve the tenant ID, see [Get tenant ID](../azure-resource-manager/resource-group-create-service-principal-portal.md#get-tenant-id).</span></span>

## <a name="step-3-assign-the-azure-ad-application-to-the-azure-data-lake-store-account-file-or-folder-only-for-service-to-service-authentication"></a><span data-ttu-id="c8498-127">Steg 3: Tilldela Azure AD-program till Azure Data Lake Store-konto filen eller mappen (endast för service to service autentisering)</span><span class="sxs-lookup"><span data-stu-id="c8498-127">Step 3: Assign the Azure AD application to the Azure Data Lake Store account file or folder (only for service-to-service authentication)</span></span>
1. <span data-ttu-id="c8498-128">Logga in på den nya [Azure-portalen](https://portal.azure.com) och öppna Azure Data Lake Store-konto som du vill associera med Azure Active Directory-program som du skapade tidigare.</span><span class="sxs-lookup"><span data-stu-id="c8498-128">Sign on to the new [Azure portal](https://portal.azure.com) and open the Azure Data Lake Store account that you want to associate with the Azure Active Directory application you created earlier.</span></span>
2. <span data-ttu-id="c8498-129">I ditt Data Lake Store-kontoblad klickar du på **Data Explorer**.</span><span class="sxs-lookup"><span data-stu-id="c8498-129">In your Data Lake Store account blade, click **Data Explorer**.</span></span>
   
    <span data-ttu-id="c8498-130">![Skapa kataloger i Data Lake Store-konto](./media/data-lake-store-authenticate-using-active-directory/adl.start.data.explorer.png "skapa kataloger i Data Lake-konto")</span><span class="sxs-lookup"><span data-stu-id="c8498-130">![Create directories in Data Lake Store account](./media/data-lake-store-authenticate-using-active-directory/adl.start.data.explorer.png "Create directories in Data Lake account")</span></span>
3. <span data-ttu-id="c8498-131">I den **Data Explorer** bladet, klickar du på filen eller mappen som du vill ge åtkomst till Azure AD-program och klicka sedan på **åtkomst**.</span><span class="sxs-lookup"><span data-stu-id="c8498-131">In the **Data Explorer** blade, click the file or folder for which you want to provide access to the Azure AD application, and then click **Access**.</span></span> <span data-ttu-id="c8498-132">Om du vill konfigurera åtkomst till en fil, måste du klicka på **åtkomst** från den **Filförhandsgranskning** bladet.</span><span class="sxs-lookup"><span data-stu-id="c8498-132">To configure access to a file, you must click **Access** from the **File Preview** blade.</span></span>
   
    <span data-ttu-id="c8498-133">![Ange ACL: er i Data Lake filsystemet](./media/data-lake-store-authenticate-using-active-directory/adl.acl.1.png "Ange ACL: er i Data Lake-filsystem")</span><span class="sxs-lookup"><span data-stu-id="c8498-133">![Set ACLs on Data Lake file system](./media/data-lake-store-authenticate-using-active-directory/adl.acl.1.png "Set ACLs on Data Lake file system")</span></span>
4. <span data-ttu-id="c8498-134">Den **åtkomst** bladet visar den standard tillgång och anpassade redan tilldelad till roten.</span><span class="sxs-lookup"><span data-stu-id="c8498-134">The **Access** blade lists the standard access and custom access already assigned to the root.</span></span> <span data-ttu-id="c8498-135">Klicka på den **Lägg till** ikon för att lägga till anpassad nivå ACL: er.</span><span class="sxs-lookup"><span data-stu-id="c8498-135">Click the **Add** icon to add custom-level ACLs.</span></span>
   
    <span data-ttu-id="c8498-136">![Visa en lista över standard och anpassad åtkomst](./media/data-lake-store-authenticate-using-active-directory/adl.acl.2.png "listan standard och anpassad åtkomst")</span><span class="sxs-lookup"><span data-stu-id="c8498-136">![List standard and custom access](./media/data-lake-store-authenticate-using-active-directory/adl.acl.2.png "List standard and custom access")</span></span>
5. <span data-ttu-id="c8498-137">Klicka på den **Lägg till** ikon för att öppna den **Lägg till anpassad åtkomst** bladet.</span><span class="sxs-lookup"><span data-stu-id="c8498-137">Click the **Add** icon to open the **Add Custom Access** blade.</span></span> <span data-ttu-id="c8498-138">I det här bladet, klickar du på **Välj användare eller grupp**, och klicka sedan på **Välj användare eller grupp** bladet, leta efter Azure Active Directory-program som du skapade tidigare.</span><span class="sxs-lookup"><span data-stu-id="c8498-138">In this blade, click **Select User or Group**, and then in **Select User or Group** blade, look for the Azure Active Directory application you created earlier.</span></span> <span data-ttu-id="c8498-139">Om du har många grupper att söka i, använder du textrutan längst upp för att filtrera efter gruppnamnet.</span><span class="sxs-lookup"><span data-stu-id="c8498-139">If you have a lot of groups to search from, use the text box at the top to filter on the group name.</span></span> <span data-ttu-id="c8498-140">Klicka på den grupp som du vill lägga till och klicka sedan på **Välj**.</span><span class="sxs-lookup"><span data-stu-id="c8498-140">Click the group you want to add and then click **Select**.</span></span>
   
    <span data-ttu-id="c8498-141">![Lägga till en grupp](./media/data-lake-store-authenticate-using-active-directory/adl.acl.3.png "lägga till en grupp")</span><span class="sxs-lookup"><span data-stu-id="c8498-141">![Add a group](./media/data-lake-store-authenticate-using-active-directory/adl.acl.3.png "Add a group")</span></span>
6. <span data-ttu-id="c8498-142">Klicka på **Välj behörigheter**behörigheter och välj om du vill tilldela behörigheterna som standard ACL åtkomst till ACL eller båda.</span><span class="sxs-lookup"><span data-stu-id="c8498-142">Click **Select Permissions**, select the permissions and whether you want to assign the permissions as a default ACL, access ACL, or both.</span></span> <span data-ttu-id="c8498-143">Klicka på **OK**.</span><span class="sxs-lookup"><span data-stu-id="c8498-143">Click **OK**.</span></span>
   
    <span data-ttu-id="c8498-144">![Tilldela behörigheter till gruppen](./media/data-lake-store-authenticate-using-active-directory/adl.acl.4.png "tilldela behörigheter till gruppen")</span><span class="sxs-lookup"><span data-stu-id="c8498-144">![Assign permissions to group](./media/data-lake-store-authenticate-using-active-directory/adl.acl.4.png "Assign permissions to group")</span></span>
   
    <span data-ttu-id="c8498-145">Mer information om behörigheter i Data Lake Store och standard-/ Access ACL: er finns [åtkomstkontroll i Data Lake Store](data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="c8498-145">For more information about permissions in Data Lake Store, and Default/Access ACLs, see [Access Control in Data Lake Store](data-lake-store-access-control.md).</span></span>
7. <span data-ttu-id="c8498-146">I den **Lägg till anpassad åtkomst** bladet, klickar du på **OK**.</span><span class="sxs-lookup"><span data-stu-id="c8498-146">In the **Add Custom Access** blade, click **OK**.</span></span> <span data-ttu-id="c8498-147">Den nyligen tillagda gruppen med associerade behörigheter visas nu i den **åtkomst** bladet.</span><span class="sxs-lookup"><span data-stu-id="c8498-147">The newly added group, with the associated permissions, will now be listed in the **Access** blade.</span></span>
   
    <span data-ttu-id="c8498-148">![Tilldela behörigheter till gruppen](./media/data-lake-store-authenticate-using-active-directory/adl.acl.5.png "tilldela behörigheter till gruppen")</span><span class="sxs-lookup"><span data-stu-id="c8498-148">![Assign permissions to group](./media/data-lake-store-authenticate-using-active-directory/adl.acl.5.png "Assign permissions to group")</span></span>

## <a name="step-4-get-the-oauth-20-token-endpoint-only-for-java-based-applications"></a><span data-ttu-id="c8498-149">Steg 4: Hämta OAuth 2.0-token slutpunkten (endast för Java-baserade program)</span><span class="sxs-lookup"><span data-stu-id="c8498-149">Step 4: Get the OAuth 2.0 token endpoint (only for Java-based applications)</span></span>

1. <span data-ttu-id="c8498-150">Logga in på den nya [Azure-portalen](https://portal.azure.com) och klicka på Active Directory i den vänstra rutan.</span><span class="sxs-lookup"><span data-stu-id="c8498-150">Sign on to the new [Azure portal](https://portal.azure.com) and click Active Directory from the left pane.</span></span>

2. <span data-ttu-id="c8498-151">I den vänstra rutan klickar du på **App registreringar**.</span><span class="sxs-lookup"><span data-stu-id="c8498-151">From the left pane, click **App registrations**.</span></span>

3. <span data-ttu-id="c8498-152">Högst upp på bladet registreringar klickar du på **slutpunkter**.</span><span class="sxs-lookup"><span data-stu-id="c8498-152">From the top of the App registrations blade, click **Endpoints**.</span></span>

    <span data-ttu-id="c8498-153">![OAuth-token för slutpunkt](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint.png "OAuth-token för slutpunkt")</span><span class="sxs-lookup"><span data-stu-id="c8498-153">![OAuth token endpoint](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint.png "OAuth token endpoint")</span></span>

4. <span data-ttu-id="c8498-154">Kopiera slutpunkten för OAuth 2.0-token från listan över slutpunkter.</span><span class="sxs-lookup"><span data-stu-id="c8498-154">From the list of endpoints, copy the OAuth 2.0 token endpoint.</span></span>

    <span data-ttu-id="c8498-155">![OAuth-token för slutpunkt](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint-1.png "OAuth-token för slutpunkt")</span><span class="sxs-lookup"><span data-stu-id="c8498-155">![OAuth token endpoint](./media/data-lake-store-authenticate-using-active-directory/oauth-token-endpoint-1.png "OAuth token endpoint")</span></span>   

## <a name="next-steps"></a><span data-ttu-id="c8498-156">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="c8498-156">Next steps</span></span>
<span data-ttu-id="c8498-157">I den här artikeln du skapat ett webbprogram i Azure AD och samlat in information som du behöver i ditt klientprogram som du skapar med hjälp av SDK för .NET, Java SDK, osv. Du kan nu fortsätta i följande artiklar som talar om hur du använder Azure AD-webbprogram att först autentisera med Data Lake Store och sedan utföra andra åtgärder i store.</span><span class="sxs-lookup"><span data-stu-id="c8498-157">In this article you created an Azure AD web application and gathered the information you need in your client applications that you author using .NET SDK, Java SDK, etc. You can now proceed to the following articles that talk about how to use the Azure AD web application to first authenticate with Data Lake Store and then perform other operations on the store.</span></span>

* [<span data-ttu-id="c8498-158">Kom igång med Azure Data Lake Store med hjälp av .NET SDK</span><span class="sxs-lookup"><span data-stu-id="c8498-158">Get started with Azure Data Lake Store using .NET SDK</span></span>](data-lake-store-get-started-net-sdk.md)
* [<span data-ttu-id="c8498-159">Kom igång med Azure Data Lake Store med hjälp av Java SDK</span><span class="sxs-lookup"><span data-stu-id="c8498-159">Get started with Azure Data Lake Store using Java SDK</span></span>](data-lake-store-get-started-java-sdk.md)

<span data-ttu-id="c8498-160">Den här artikeln för att gått igenom de grundläggande steg som behövs för att få en användare huvudnamn upp och körs för programmet.</span><span class="sxs-lookup"><span data-stu-id="c8498-160">This article walked you through the basic steps needed to get a user principal up and running for your application.</span></span> <span data-ttu-id="c8498-161">Du kan titta på följande artiklar för att få mer information:</span><span class="sxs-lookup"><span data-stu-id="c8498-161">You can look at the following articles to get further information:</span></span>
* [<span data-ttu-id="c8498-162">Använda PowerShell för att skapa tjänstens huvudnamn</span><span class="sxs-lookup"><span data-stu-id="c8498-162">Use PowerShell to create service principal</span></span>](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-authenticate-service-principal)
* [<span data-ttu-id="c8498-163">Använda autentisering med certifikat för service principal autentisering</span><span class="sxs-lookup"><span data-stu-id="c8498-163">Use certificate authentication for service principal authentication</span></span>](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-authenticate-service-principal#create-service-principal-with-certificate)
* [<span data-ttu-id="c8498-164">Andra metoder för att autentisera till Azure AD</span><span class="sxs-lookup"><span data-stu-id="c8498-164">Other methods to authenticate to Azure AD</span></span>](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-authentication-scenarios)


