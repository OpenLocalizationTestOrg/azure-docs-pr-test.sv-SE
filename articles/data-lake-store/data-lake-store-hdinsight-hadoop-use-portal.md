---
title: aaaUse hello Azure portal toocreate Azure HDInsight-kluster med Data Lake Store | Microsoft Docs
description: "Använda hello Azure portal toocreate och använda HDInsight-kluster med Azure Data Lake Store"
services: data-lake-store,hdinsight
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: a8c45a83-a8e3-4227-8b02-1bc1e1de6767
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 08/14/2017
ms.author: nitinme
ms.openlocfilehash: f23113d444a3c5a01894dba29f75f3621b2d16bd
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="create-hdinsight-clusters-with-data-lake-store-by-using-hello-azure-portal"></a><span data-ttu-id="5235a-103">Skapa HDInsight-kluster med Data Lake Store med hjälp av hello Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="5235a-103">Create HDInsight clusters with Data Lake Store by using hello Azure portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="5235a-104">Använd hello Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="5235a-104">Use hello Azure portal</span></span>](data-lake-store-hdinsight-hadoop-use-portal.md)
> * [<span data-ttu-id="5235a-105">Använd PowerShell (för standardlagring)</span><span class="sxs-lookup"><span data-stu-id="5235a-105">Use PowerShell (for default storage)</span></span>](data-lake-store-hdinsight-hadoop-use-powershell-for-default-storage.md)
> * [<span data-ttu-id="5235a-106">Använd PowerShell (för ytterligare lagringsutrymme)</span><span class="sxs-lookup"><span data-stu-id="5235a-106">Use PowerShell (for additional storage)</span></span>](data-lake-store-hdinsight-hadoop-use-powershell.md)
> * [<span data-ttu-id="5235a-107">Använd Resource Manager</span><span class="sxs-lookup"><span data-stu-id="5235a-107">Use Resource Manager</span></span>](data-lake-store-hdinsight-hadoop-use-resource-manager-template.md)
>
>

<span data-ttu-id="5235a-108">Lär dig hur toouse hello Azure portal toocreate ett HDInsight-kluster med ett Azure Data Lake Store-konto som hello standardlagring eller ett ytterligare lagringsutrymme.</span><span class="sxs-lookup"><span data-stu-id="5235a-108">Learn how toouse hello Azure portal toocreate a HDInsight cluster with an Azure Data Lake Store account as hello default storage or an additional storage.</span></span> <span data-ttu-id="5235a-109">Även om ytterligare lagringsutrymme är valfri för ett HDInsight-kluster, är det rekommenderade toostore företagsdata i hello ytterligare storage-konton.</span><span class="sxs-lookup"><span data-stu-id="5235a-109">Even though additional storage is optional for a HDInsight cluster, it is recommended toostore your business data in hello additional storage accounts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="5235a-110">Krav</span><span class="sxs-lookup"><span data-stu-id="5235a-110">Prerequisites</span></span>
<span data-ttu-id="5235a-111">Se till att du har uppfyllt hello följande krav innan du börjar den här kursen:</span><span class="sxs-lookup"><span data-stu-id="5235a-111">Before you begin this tutorial, ensure that you've met hello following requirements:</span></span>

* <span data-ttu-id="5235a-112">**En Azure-prenumeration**.</span><span class="sxs-lookup"><span data-stu-id="5235a-112">**An Azure subscription**.</span></span> <span data-ttu-id="5235a-113">Gå för[hämta kostnadsfri utvärderingsversion av Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="5235a-113">Go too[Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="5235a-114">**Ett Azure Data Lake Store-konto**.</span><span class="sxs-lookup"><span data-stu-id="5235a-114">**An Azure Data Lake Store account**.</span></span> <span data-ttu-id="5235a-115">Följ instruktionerna för hello från [Kom igång med Azure Data Lake Store med hjälp av hello Azure-portalen](data-lake-store-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="5235a-115">Follow hello instructions from [Get started with Azure Data Lake Store by using hello Azure portal](data-lake-store-get-started-portal.md).</span></span> <span data-ttu-id="5235a-116">Du måste också skapa en rotmapp på hello-konto.</span><span class="sxs-lookup"><span data-stu-id="5235a-116">You must also create a root folder on hello account.</span></span>  <span data-ttu-id="5235a-117">I den här självstudiekursen en rotmapp kallas __/kluster__ används.</span><span class="sxs-lookup"><span data-stu-id="5235a-117">In this tutorial, a root folder called __/clusters__ is used.</span></span>
* <span data-ttu-id="5235a-118">**Ett Azure Active Directory-tjänstens huvudnamn**.</span><span class="sxs-lookup"><span data-stu-id="5235a-118">**An Azure Active Directory service principal**.</span></span> <span data-ttu-id="5235a-119">Den här självstudiekursen innehåller instruktioner om hur toocreate ett huvudnamn för tjänsten i Azure Active Directory (AD Azure).</span><span class="sxs-lookup"><span data-stu-id="5235a-119">This tutorial provides instructions on how toocreate a service principal in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="5235a-120">Dock toocreate ett huvudnamn för tjänsten, måste du vara administratör för Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5235a-120">However, toocreate a service principal, you must be an Azure AD administrator.</span></span> <span data-ttu-id="5235a-121">Om du är administratör kan du hoppa över det här kravet och fortsätt med hello kursen.</span><span class="sxs-lookup"><span data-stu-id="5235a-121">If you are an administrator, you can skip this prerequisite and proceed with hello tutorial.</span></span>

    >[!NOTE]
    ><span data-ttu-id="5235a-122">Du kan skapa en tjänst huvudnamn endast om du är administratör för Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5235a-122">You can create a service principal only if you are an Azure AD administrator.</span></span> <span data-ttu-id="5235a-123">Azure AD-administratör skapa en tjänst huvudnamn innan du kan skapa ett HDInsight-kluster med Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="5235a-123">Your Azure AD administrator must create a service principal before you can create an HDInsight cluster with Data Lake Store.</span></span> <span data-ttu-id="5235a-124">Dessutom hello tjänstens huvudnamn måste skapas med ett certifikat, enligt beskrivningen i [skapa ett huvudnamn för tjänsten med certifikat](../azure-resource-manager/resource-group-authenticate-service-principal.md#create-service-principal-with-self-signed-certificate).</span><span class="sxs-lookup"><span data-stu-id="5235a-124">Also, hello service principal must be created with a certificate, as described at [Create a service principal with certificate](../azure-resource-manager/resource-group-authenticate-service-principal.md#create-service-principal-with-self-signed-certificate).</span></span>
    >

## <a name="create-an-hdinsight-cluster"></a><span data-ttu-id="5235a-125">Skapa ett HDInsight-kluster</span><span class="sxs-lookup"><span data-stu-id="5235a-125">Create an HDInsight cluster</span></span>

<span data-ttu-id="5235a-126">I det här avsnittet skapar du ett HDInsight-kluster med Data Lake Store-konton som standard hello eller hello ytterligare lagringsutrymme.</span><span class="sxs-lookup"><span data-stu-id="5235a-126">In this section, you create a HDInsight cluster with Data Lake Store accounts as hello default or hello additional storage.</span></span> <span data-ttu-id="5235a-127">Den här artikeln fokuserar endast hello en del av konfigurationen Data Lake Store-konton.</span><span class="sxs-lookup"><span data-stu-id="5235a-127">This article only focuses hello part of configuring Data Lake Store accounts.</span></span>  <span data-ttu-id="5235a-128">Hello allmänna klustret skapas information och procedurer finns [skapa Hadoop-kluster i HDInsight](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="5235a-128">For hello general cluster creation information and procedures, see [Create Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md).</span></span>

### <a name="create-a-cluster-with-data-lake-store-as-default-storage"></a><span data-ttu-id="5235a-129">Skapa ett kluster med Data Lake Store som standardlagring</span><span class="sxs-lookup"><span data-stu-id="5235a-129">Create a cluster with Data Lake Store as default storage</span></span>

<span data-ttu-id="5235a-130">**toocreate ett HDInsight-kluster med ett Data Lake Store som hello standardkontot för lagring**</span><span class="sxs-lookup"><span data-stu-id="5235a-130">**toocreate a HDInsight cluster with a Data Lake Store as hello default storage account**</span></span>

1. <span data-ttu-id="5235a-131">Logga in toohello [Azure-portalen](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="5235a-131">Sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="5235a-132">Följ [Skapa kluster](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) hello allmän information om hur du skapar HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="5235a-132">Follow [Create clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) for hello general information on creating HDInsight clusters.</span></span>
3. <span data-ttu-id="5235a-133">På hello **lagring** bladet under **primära lagringstyp**väljer **Datasjölager**, och ange sedan hello följande information:</span><span class="sxs-lookup"><span data-stu-id="5235a-133">On hello **Storage** blade, under **Primary storage type**, select **Data Lake Store**, and then enter hello following information:</span></span>

    <span data-ttu-id="5235a-134">![Lägg till tjänstens huvudnamn tooHDInsight klustret](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.adls.storage.png "Lägg till service principal tooHDInsight-kluster")</span><span class="sxs-lookup"><span data-stu-id="5235a-134">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.adls.storage.png "Add service principal tooHDInsight cluster")</span></span>

    - <span data-ttu-id="5235a-135">**Välj Data Lake Store-konto**: Välj ett befintligt Data Lake Store-konto.</span><span class="sxs-lookup"><span data-stu-id="5235a-135">**Select Data Lake Store account**: Select an existing Data Lake Store account.</span></span> <span data-ttu-id="5235a-136">Ett befintligt Data Lake Store-konto krävs.</span><span class="sxs-lookup"><span data-stu-id="5235a-136">An existing Data Lake Store account is required.</span></span>  <span data-ttu-id="5235a-137">Se [krav](#prereuisites).</span><span class="sxs-lookup"><span data-stu-id="5235a-137">See [Prerequisites](#prereuisites).</span></span>
    - <span data-ttu-id="5235a-138">**Rotsökvägen**: Ange en sökväg där hello klusterspecifika filer är toobe lagras.</span><span class="sxs-lookup"><span data-stu-id="5235a-138">**Root path**: Enter a path where hello cluster-specific files are toobe stored.</span></span> <span data-ttu-id="5235a-139">På skärmbilden hello är __/kluster-myhdiadlcluster__, i vilken hello __/kluster__ mappen måste finnas och hello skapar portalen *myhdicluster* mapp.</span><span class="sxs-lookup"><span data-stu-id="5235a-139">On hello screenshot, it is __/clusters/myhdiadlcluster/__, in which hello __/clusters__ folder must exist, and hello Portal creates *myhdicluster* folder.</span></span>  <span data-ttu-id="5235a-140">Hej *myhdicluster* är hello klusternamnet.</span><span class="sxs-lookup"><span data-stu-id="5235a-140">hello *myhdicluster* is hello cluster name.</span></span>
    - <span data-ttu-id="5235a-141">**Data Lake Store-åtkomst**: Konfigurera åtkomst mellan hello Data Lake Store-konto och HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="5235a-141">**Data Lake Store access**: Configure access between hello Data Lake Store account and HDInsight cluster.</span></span> <span data-ttu-id="5235a-142">Instruktioner finns i [konfigurera Data Lake Store-åtkomst](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="5235a-142">For instructions, see [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>
    - <span data-ttu-id="5235a-143">**Ytterligare lagringskonton**: Lägg till Azure Storage-konton som ytterligare lagringsutrymme konton för hello klustret.</span><span class="sxs-lookup"><span data-stu-id="5235a-143">**Additional storage accounts**: Add Azure Storage Accounts as additional storage accounts for hello cluster.</span></span> <span data-ttu-id="5235a-144">tooadd ytterligare Data Lake lagrar görs genom att ge hello klustret behörigheter på data i flera datasjölagerkonton när du konfigurerar ett Data Lake Store-konto som hello primära lagringstyp.</span><span class="sxs-lookup"><span data-stu-id="5235a-144">tooadd additional Data Lake Stores is done by giving hello cluster permissions on data in more Data Lake Store accounts while configuring a Data Lake Store account as hello primary storage type.</span></span> <span data-ttu-id="5235a-145">Läs mer i [Konfigurera åtkomst till Data Lake Store](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="5235a-145">See [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>

4. <span data-ttu-id="5235a-146">På hello **Data Lake Store-åtkomst**, klickar du på **Välj**, och sedan fortsätta med skapa ett kluster, enligt beskrivningen i [skapa Hadoop-kluster i HDInsight](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md).</span><span class="sxs-lookup"><span data-stu-id="5235a-146">On hello **Data Lake Store access**, click **Select**, and then continue with cluster creation as described in [Create Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md).</span></span>


### <a name="create-a-cluster-with-data-lake-store-as-additional-storage"></a><span data-ttu-id="5235a-147">Skapa ett kluster med Data Lake Store som ytterligare lagringsutrymme</span><span class="sxs-lookup"><span data-stu-id="5235a-147">Create a cluster with Data Lake Store as additional storage</span></span>

<span data-ttu-id="5235a-148">hello skapar instruktionerna nedan ett HDInsight-kluster med ett Azure Storage-konto som hello standardlagring och ett Data Lake Store-konto som ett ytterligare lagringsutrymme.</span><span class="sxs-lookup"><span data-stu-id="5235a-148">hello following instructions create a HDInsight cluster with an Azure Storage account as hello default storage, and a Data Lake Store account as an additional storage.</span></span>
<span data-ttu-id="5235a-149">**toocreate ett HDInsight-kluster med ett Data Lake Store som hello standardkontot för lagring**</span><span class="sxs-lookup"><span data-stu-id="5235a-149">**toocreate a HDInsight cluster with a Data Lake Store as hello default storage account**</span></span>

1. <span data-ttu-id="5235a-150">Logga in toohello [Azure-portalen](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="5235a-150">Sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="5235a-151">Följ [Skapa kluster](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) hello allmän information om hur du skapar HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="5235a-151">Follow [Create clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) for hello general information on creating HDInsight clusters.</span></span>
3. <span data-ttu-id="5235a-152">På hello **lagring** bladet under **primära lagringstyp**väljer **Azure Storage**, och ange sedan hello följande information:</span><span class="sxs-lookup"><span data-stu-id="5235a-152">On hello **Storage** blade, under **Primary storage type**, select **Azure Storage**, and then enter hello following information:</span></span>

    <span data-ttu-id="5235a-153">![Lägg till tjänstens huvudnamn tooHDInsight klustret](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.png "Lägg till service principal tooHDInsight-kluster")</span><span class="sxs-lookup"><span data-stu-id="5235a-153">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.png "Add service principal tooHDInsight cluster")</span></span>

    - <span data-ttu-id="5235a-154">**Urvalsmetod**: Använd någon av följande alternativ för hello:</span><span class="sxs-lookup"><span data-stu-id="5235a-154">**Selection method**: use one of hello following options:</span></span>

        * <span data-ttu-id="5235a-155">toospecify ett lagringskonto som är en del av din Azure-prenumeration, Välj **Mina prenumerationer**, och välj sedan hello storage-konto.</span><span class="sxs-lookup"><span data-stu-id="5235a-155">toospecify a storage account that is part of your Azure subscription, select **My subscriptions**, and then select hello storage account.</span></span>
        * <span data-ttu-id="5235a-156">toospecify ett lagringskonto som ligger utanför din Azure-prenumeration, Välj **åtkomstnyckeln**, och ange sedan hello information för hello utanför storage-konto.</span><span class="sxs-lookup"><span data-stu-id="5235a-156">toospecify a storage account that is outside your Azure subscription, select **Access key**, and then provide hello information for hello outside storage account.</span></span>

    - <span data-ttu-id="5235a-157">**Standardbehållaren**: Använd antingen standardvärdet hello eller ange ett eget namn.</span><span class="sxs-lookup"><span data-stu-id="5235a-157">**Default container**: use either hello default value or specify your own name.</span></span>

    - <span data-ttu-id="5235a-158">Ytterligare lagringskonton: lägga till fler Azure Storage-konton som hello ytterligare lagringsutrymme.</span><span class="sxs-lookup"><span data-stu-id="5235a-158">Additional Storage accounts: add more Azure Storage accounts as hello additional storage.</span></span>
    - <span data-ttu-id="5235a-159">Data Lake Store-åtkomst: Konfigurera åtkomst mellan hello Data Lake Store-konto och HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="5235a-159">Data Lake Store access: configure access between hello Data Lake Store account and HDInsight cluster.</span></span> <span data-ttu-id="5235a-160">Instruktioner finns i [konfigurera Data Lake Store-åtkomst](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="5235a-160">For instructions see [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>

## <a name="configure-data-lake-store-access"></a><span data-ttu-id="5235a-161">Konfigurera Data Lake Store-åtkomst</span><span class="sxs-lookup"><span data-stu-id="5235a-161">Configure Data Lake Store access</span></span> 

<span data-ttu-id="5235a-162">I det här avsnittet konfigurerar du Data Lake Store-åtkomst från HDInsight-kluster med en Azure Active Directory-tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="5235a-162">In this section, you configure Data Lake Store access from HDInsight clusters using an Azure Active Directory service principal.</span></span> 

### <a name="specify-a-service-principal"></a><span data-ttu-id="5235a-163">Ange ett huvudnamn för tjänsten</span><span class="sxs-lookup"><span data-stu-id="5235a-163">Specify a service principal</span></span>

<span data-ttu-id="5235a-164">Från hello Azure-portalen, kan du använda ett befintligt huvudnamn för tjänsten eller skapa en ny.</span><span class="sxs-lookup"><span data-stu-id="5235a-164">From hello Azure portal, you can either use an existing service principal or create a new one.</span></span>

<span data-ttu-id="5235a-165">**toocreate ett huvudnamn för tjänsten från hello Azure-portalen**</span><span class="sxs-lookup"><span data-stu-id="5235a-165">**toocreate a service principal from hello Azure portal**</span></span>

1. <span data-ttu-id="5235a-166">Klicka på **Data Lake Store-åtkomst** från hello Store-bladet.</span><span class="sxs-lookup"><span data-stu-id="5235a-166">Click **Data Lake Store access** from hello Store blade.</span></span>
2. <span data-ttu-id="5235a-167">På hello **Data Lake Store-åtkomst** bladet, klickar du på **Skapa nytt**.</span><span class="sxs-lookup"><span data-stu-id="5235a-167">On hello **Data Lake Store access** blade, click **Create new**.</span></span>
3. <span data-ttu-id="5235a-168">Klicka på **tjänstens huvudnamn**, och följ sedan hello instruktioner toocreate ett huvudnamn för tjänsten.</span><span class="sxs-lookup"><span data-stu-id="5235a-168">Click **Service Principal**, and then follow hello instructions toocreate a service principal.</span></span>
4. <span data-ttu-id="5235a-169">Hämta hello certifikatet om du väljer toouse den igen i hello framtida.</span><span class="sxs-lookup"><span data-stu-id="5235a-169">Download hello certificate if you decide toouse it again in hello future.</span></span> <span data-ttu-id="5235a-170">Hämtar hello certifikat är användbart om du vill toouse hello samma service principal när du skapar ytterligare HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="5235a-170">Downloading hello certificate is useful if you want toouse hello same service principal when you create additional HDInsight clusters.</span></span>

    <span data-ttu-id="5235a-171">![Lägg till tjänstens huvudnamn tooHDInsight klustret](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.2.png "Lägg till service principal tooHDInsight-kluster")</span><span class="sxs-lookup"><span data-stu-id="5235a-171">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.2.png "Add service principal tooHDInsight cluster")</span></span>

4. <span data-ttu-id="5235a-172">Klicka på **åtkomst** tooconfigure hello åtkomst.</span><span class="sxs-lookup"><span data-stu-id="5235a-172">Click **Access** tooconfigure hello folder access.</span></span>  <span data-ttu-id="5235a-173">Se [konfigurera filbehörigheter](#configure-file-permissions).</span><span class="sxs-lookup"><span data-stu-id="5235a-173">See [Configure file permissions](#configure-file-permissions).</span></span>


<span data-ttu-id="5235a-174">**toouse en befintlig tjänstens huvudnamn från hello Azure-portalen**</span><span class="sxs-lookup"><span data-stu-id="5235a-174">**toouse an existing service principal from hello Azure portal**</span></span>

1. <span data-ttu-id="5235a-175">Klicka på **Data Lake Store-åtkomst**.</span><span class="sxs-lookup"><span data-stu-id="5235a-175">Click **Data Lake Store access**.</span></span>
1. <span data-ttu-id="5235a-176">På hello **Data Lake Store-åtkomst** bladet, klickar du på **använda befintliga**.</span><span class="sxs-lookup"><span data-stu-id="5235a-176">On hello **Data Lake Store access** blade, click **Use existing**.</span></span>
2. <span data-ttu-id="5235a-177">Klicka på **tjänstens huvudnamn**, och välj sedan ett huvudnamn för tjänsten.</span><span class="sxs-lookup"><span data-stu-id="5235a-177">Click **Service Principal**, and then select a service principal.</span></span> 
3. <span data-ttu-id="5235a-178">Överför hello-certifikatet (.pfx-fil) som är kopplad till ditt valda tjänstens huvudnamn och ange sedan hello certifikatlösenord.</span><span class="sxs-lookup"><span data-stu-id="5235a-178">Upload hello certificate (.pfx file) that's associated with your selected service principal, and then enter hello certificate password.</span></span>

    <span data-ttu-id="5235a-179">![Lägg till tjänstens huvudnamn tooHDInsight klustret](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.5.png "Lägg till service principal tooHDInsight-kluster")</span><span class="sxs-lookup"><span data-stu-id="5235a-179">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.5.png "Add service principal tooHDInsight cluster")</span></span>

4. <span data-ttu-id="5235a-180">Klicka på **åtkomst** tooconfigure hello åtkomst.</span><span class="sxs-lookup"><span data-stu-id="5235a-180">Click **Access** tooconfigure hello folder access.</span></span>  <span data-ttu-id="5235a-181">Se [konfigurera filbehörigheter](#configure-file-permissions).</span><span class="sxs-lookup"><span data-stu-id="5235a-181">See [Configure file permissions](#configure-file-permissions).</span></span>


### <span data-ttu-id="5235a-182"><a name="configure-file-permissions"></a>Konfigurera behörigheter för filer</span><span class="sxs-lookup"><span data-stu-id="5235a-182"><a name="configure-file-permissions"></a>Configure file permissions</span></span>

<span data-ttu-id="5235a-183">hello konfigurerar varierar beroende på om hello används som hello standardlagring eller ett ytterligare storage-konto:</span><span class="sxs-lookup"><span data-stu-id="5235a-183">hello configures are different depending on whether hello account is used as hello default storage or an additional storage account:</span></span>

- <span data-ttu-id="5235a-184">Används som standardlagring</span><span class="sxs-lookup"><span data-stu-id="5235a-184">Used as default storage</span></span>

    - <span data-ttu-id="5235a-185">behörigheten på hello rotnivå hello Data Lake Store-konto</span><span class="sxs-lookup"><span data-stu-id="5235a-185">permission at hello root level of hello Data Lake Store account</span></span>
    - <span data-ttu-id="5235a-186">behörigheten på hello rotnivå hello HDInsight klusterlagringen.</span><span class="sxs-lookup"><span data-stu-id="5235a-186">permission at hello root level of hello HDInsight cluster storage.</span></span> <span data-ttu-id="5235a-187">Till exempel hello __/kluster__ mappen som används för tidigare i kursen hello.</span><span class="sxs-lookup"><span data-stu-id="5235a-187">For example, hello __/clusters__ folder used earlier in hello tutorial.</span></span>
- <span data-ttu-id="5235a-188">Använda som ett ytterligare lagringsutrymme</span><span class="sxs-lookup"><span data-stu-id="5235a-188">Use as an additional storage</span></span>

    - <span data-ttu-id="5235a-189">Behörigheten på hello mappar där du behöver filåtkomst.</span><span class="sxs-lookup"><span data-stu-id="5235a-189">Permission at hello folders where you need file access.</span></span>

<span data-ttu-id="5235a-190">**tooassign behörigheten på hello rotnivå för Data Lake Store-konto**</span><span class="sxs-lookup"><span data-stu-id="5235a-190">**tooassign permission at hello Data Lake Store account root level**</span></span>

1. <span data-ttu-id="5235a-191">På hello **Data Lake Store-åtkomst** bladet, klickar du på **åtkomst**.</span><span class="sxs-lookup"><span data-stu-id="5235a-191">On hello **Data Lake Store access** blade, click **Access**.</span></span> <span data-ttu-id="5235a-192">Hej **Välj filbehörigheter** blad öppnas.</span><span class="sxs-lookup"><span data-stu-id="5235a-192">hello **Select file permissions** blade is opened.</span></span> <span data-ttu-id="5235a-193">Den listar alla hello datasjölagerkonton i prenumerationen.</span><span class="sxs-lookup"><span data-stu-id="5235a-193">It lists all hello Data Lake Store accounts in your subscription.</span></span>
2. <span data-ttu-id="5235a-194">Hovra (inte på) hello muspekaren över hello namnet på hello Data Lake Store-konto toomake hello kryssrutan visas, och sedan väljer hello kryssrutan.</span><span class="sxs-lookup"><span data-stu-id="5235a-194">Hover (do not click) hello mouse over hello name of hello Data Lake Store account toomake hello check box visible, then select hello check box.</span></span>

    <span data-ttu-id="5235a-195">![Lägg till tjänstens huvudnamn tooHDInsight klustret](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3.png "Lägg till service principal tooHDInsight-kluster")</span><span class="sxs-lookup"><span data-stu-id="5235a-195">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3.png "Add service principal tooHDInsight cluster")</span></span>

  <span data-ttu-id="5235a-196">Som standard __läsa__, __skriva__, AND __EXECUTE__ är alla markerade.</span><span class="sxs-lookup"><span data-stu-id="5235a-196">By default, __READ__, __WRITE__, AND __EXECUTE__ are all selected.</span></span>

3. <span data-ttu-id="5235a-197">Klicka på **Välj** på hello längst ned på sidan för hello.</span><span class="sxs-lookup"><span data-stu-id="5235a-197">Click **Select** on hello bottom of hello page.</span></span>
4. <span data-ttu-id="5235a-198">Klicka på **kör** tooassign behörighet.</span><span class="sxs-lookup"><span data-stu-id="5235a-198">Click **Run** tooassign permission.</span></span>
5. <span data-ttu-id="5235a-199">Klicka på **Klar**.</span><span class="sxs-lookup"><span data-stu-id="5235a-199">Click **Done**.</span></span>

<span data-ttu-id="5235a-200">**tooassign behörigheten på hello rotnivå för HDInsight-kluster**</span><span class="sxs-lookup"><span data-stu-id="5235a-200">**tooassign permission at hello HDInsight cluster root level**</span></span>

1. <span data-ttu-id="5235a-201">På hello **Data Lake Store-åtkomst** bladet, klickar du på **åtkomst**.</span><span class="sxs-lookup"><span data-stu-id="5235a-201">On hello **Data Lake Store access** blade, click **Access**.</span></span> <span data-ttu-id="5235a-202">Hej **Välj filbehörigheter** blad öppnas.</span><span class="sxs-lookup"><span data-stu-id="5235a-202">hello **Select file permissions** blade is opened.</span></span> <span data-ttu-id="5235a-203">Den listar alla hello datasjölagerkonton i prenumerationen.</span><span class="sxs-lookup"><span data-stu-id="5235a-203">It lists all hello Data Lake Store accounts in your subscription.</span></span>
1. <span data-ttu-id="5235a-204">Från hello **Välj filbehörigheter** bladet, klickar du på hello Data Lake Store namn tooshow dess innehåll.</span><span class="sxs-lookup"><span data-stu-id="5235a-204">From hello **Select file permissions** blade, click hello Data Lake Store name tooshow its content.</span></span>
2. <span data-ttu-id="5235a-205">Välj lagringsroten för hello HDInsight-kluster genom att markera kryssrutan hello hello vänster hello-mappen.</span><span class="sxs-lookup"><span data-stu-id="5235a-205">Select hello HDInsight cluster storage root by selecting hello checkbox on hello left of hello folder.</span></span> <span data-ttu-id="5235a-206">Enligt toohello skärmbild tidigare hello klustret lagringsroten är __/kluster__ mappen som du angav när du väljer hello Data Lake Store som standardlagring.</span><span class="sxs-lookup"><span data-stu-id="5235a-206">According toohello screenshot earlier, hello cluster storage root is __/clusters__ folder that you specified while selecting hello Data Lake Store as default storage.</span></span>
3. <span data-ttu-id="5235a-207">Ange hello behörigheter för hello mapp.</span><span class="sxs-lookup"><span data-stu-id="5235a-207">Set hello permissions on hello folder.</span></span>  <span data-ttu-id="5235a-208">Som standard, läsa, skriva och köra är alla markerade.</span><span class="sxs-lookup"><span data-stu-id="5235a-208">By default, read, write, and execute are all selected.</span></span>
4. <span data-ttu-id="5235a-209">Klicka på **Välj** på hello längst ned på sidan för hello.</span><span class="sxs-lookup"><span data-stu-id="5235a-209">Click **Select** on hello bottom of hello page.</span></span>
5. <span data-ttu-id="5235a-210">Klicka på **Run** (Kör).</span><span class="sxs-lookup"><span data-stu-id="5235a-210">Click **Run**.</span></span>
6. <span data-ttu-id="5235a-211">Klicka på **Klar**.</span><span class="sxs-lookup"><span data-stu-id="5235a-211">Click **Done**.</span></span>

<span data-ttu-id="5235a-212">Om du använder Data Lake Store som ytterligare lagringsutrymme måste du tilldela behörigheten endast för hello mappar som du vill tooaccess från hello HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="5235a-212">If you are using Data Lake Store as additional storage, you must assign permission only for hello folders that you want tooaccess from hello HDInsight cluster.</span></span> <span data-ttu-id="5235a-213">Till exempel i hello skärmbilden nedan du ge åtkomst endast för**hdiaddonstorage** mapp i ett Data Lake Store-konto.</span><span class="sxs-lookup"><span data-stu-id="5235a-213">For example, in hello screenshot below, you provide access only too**hdiaddonstorage** folder in a Data Lake Store account.</span></span>

<span data-ttu-id="5235a-214">![Tilldela service principal behörigheter toohello HDInsight-kluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3-1.png "tilldela service principal behörigheter toohello HDInsight-kluster")</span><span class="sxs-lookup"><span data-stu-id="5235a-214">![Assign service principal permissions toohello HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3-1.png "Assign service principal permissions toohello HDInsight cluster")</span></span>


## <a name="verify-cluster-set-up"></a><span data-ttu-id="5235a-215">Kontrollera konfigurera klustret</span><span class="sxs-lookup"><span data-stu-id="5235a-215">Verify cluster set up</span></span>

<span data-ttu-id="5235a-216">När hello klustret installationen är klar kontrollerar du dina resultat genom att göra någon eller båda av följande hello på hello klusterbladet:</span><span class="sxs-lookup"><span data-stu-id="5235a-216">After hello cluster setup is complete, on hello cluster blade, verify your results by doing either or both of hello following steps:</span></span>

* <span data-ttu-id="5235a-217">tooverify som hello associerade lagringsmedia för hello klustret är hello Data Lake Store-konto som du har angett klickar du på **lagringskonton** hello vänster.</span><span class="sxs-lookup"><span data-stu-id="5235a-217">tooverify that hello associated storage for hello cluster is hello Data Lake Store account that you specified, click **Storage accounts** in hello left pane.</span></span>

    <span data-ttu-id="5235a-218">![Lägg till tjänstens huvudnamn tooHDInsight klustret](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6-1.png "Lägg till service principal tooHDInsight-kluster")</span><span class="sxs-lookup"><span data-stu-id="5235a-218">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6-1.png "Add service principal tooHDInsight cluster")</span></span>

* <span data-ttu-id="5235a-219">tooverify som hello huvudnamn för tjänsten är korrekt associerad med hello HDInsight-kluster, klickar du på **Data Lake Store-åtkomst** hello vänster.</span><span class="sxs-lookup"><span data-stu-id="5235a-219">tooverify that hello service principal is correctly associated with hello HDInsight cluster, click **Data Lake Store access** in hello left pane.</span></span>

    <span data-ttu-id="5235a-220">![Lägg till tjänstens huvudnamn tooHDInsight klustret](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6.png "Lägg till service principal tooHDInsight-kluster")</span><span class="sxs-lookup"><span data-stu-id="5235a-220">![Add service principal tooHDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6.png "Add service principal tooHDInsight cluster")</span></span>


## <a name="examples"></a><span data-ttu-id="5235a-221">Exempel</span><span class="sxs-lookup"><span data-stu-id="5235a-221">Examples</span></span>

<span data-ttu-id="5235a-222">När du har ställt in hello kluster med Data Lake Store som lagringen finns toothese exempel på hur toouse HDInsight-kluster tooanalyze hello data som lagras i Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="5235a-222">After you have set up hello cluster with Data Lake Store as your storage, refer toothese examples of how toouse HDInsight cluster tooanalyze hello data that's stored in Data Lake Store.</span></span>

### <a name="run-a-hive-query-against-data-in-a-data-lake-store-as-primary-storage"></a><span data-ttu-id="5235a-223">Köra en Hive-fråga mot data i ett Data Lake Store (som primär lagring)</span><span class="sxs-lookup"><span data-stu-id="5235a-223">Run a Hive query against data in a Data Lake Store (as primary storage)</span></span>

<span data-ttu-id="5235a-224">toorun en Hive-fråga använda hello Hive vyer gränssnittet i hello Ambari-portalen.</span><span class="sxs-lookup"><span data-stu-id="5235a-224">toorun a Hive query, use hello Hive views interface in hello Ambari portal.</span></span> <span data-ttu-id="5235a-225">Anvisningar för hur toouse Ambari Hive-vyer finns [Använd hello Hive-vy med Hadoop i HDInsight](../hdinsight/hdinsight-hadoop-use-hive-ambari-view.md).</span><span class="sxs-lookup"><span data-stu-id="5235a-225">For instructions on how toouse Ambari Hive views, see [Use hello Hive View with Hadoop in HDInsight](../hdinsight/hdinsight-hadoop-use-hive-ambari-view.md).</span></span>

<span data-ttu-id="5235a-226">När du arbetar med data i ett Data Lake Store finns några strängar toochange.</span><span class="sxs-lookup"><span data-stu-id="5235a-226">When you work with data in a Data Lake Store, there are a few strings toochange.</span></span>

<span data-ttu-id="5235a-227">Om du använder, till exempel hello-klustret som du skapade med Data Lake Store som primär lagring hello sökvägen toohello data är: *adl: / / < data_lake_store_account_name > /azuredatalakestore.net/path/to/file*.</span><span class="sxs-lookup"><span data-stu-id="5235a-227">If you use, for example, hello cluster that you created with Data Lake Store as primary storage, hello path toohello data is: *adl://<data_lake_store_account_name>/azuredatalakestore.net/path/to/file*.</span></span> <span data-ttu-id="5235a-228">En Hive-fråga toocreate en tabell från exempeldata som lagras i hello Data Lake Store-konto som ser ut så hello följande instruktion:</span><span class="sxs-lookup"><span data-stu-id="5235a-228">A Hive query toocreate a table from sample data that's stored in hello Data Lake Store account looks like hello following statement:</span></span>

    CREATE EXTERNAL TABLE websitelog (str string) LOCATION 'adl://hdiadlsstorage.azuredatalakestore.net/clusters/myhdiadlcluster/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/'

<span data-ttu-id="5235a-229">Beskrivningar:</span><span class="sxs-lookup"><span data-stu-id="5235a-229">Descriptions:</span></span>
* <span data-ttu-id="5235a-230">`adl://hdiadlstorage.azuredatalakestore.net/`är hello roten hello Data Lake Store-konto.</span><span class="sxs-lookup"><span data-stu-id="5235a-230">`adl://hdiadlstorage.azuredatalakestore.net/` is hello root of hello Data Lake Store account.</span></span>
* <span data-ttu-id="5235a-231">`/clusters/myhdiadlcluster`är hello klusterdata som du angav när du skapar klustret hello hello roten.</span><span class="sxs-lookup"><span data-stu-id="5235a-231">`/clusters/myhdiadlcluster` is hello root of hello cluster data that you specified while creating hello cluster.</span></span>
* <span data-ttu-id="5235a-232">`/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/`är hello platsen för hello exempelfilen som du använde i hello-frågan.</span><span class="sxs-lookup"><span data-stu-id="5235a-232">`/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/` is hello location of hello sample file that you used in hello query.</span></span>

### <a name="run-a-hive-query-against-data-in-a-data-lake-store-as-additional-storage"></a><span data-ttu-id="5235a-233">Köra en Hive-fråga mot data i ett Data Lake Store (som ytterligare lagringsutrymme)</span><span class="sxs-lookup"><span data-stu-id="5235a-233">Run a Hive query against data in a Data Lake Store (as additional storage)</span></span>

<span data-ttu-id="5235a-234">Om hello-klustret som du skapade använder Blob storage som standardlagring, ingår inte hello exempeldata i hello Azure Data Lake Store-konto som används som ytterligare lagringsutrymme.</span><span class="sxs-lookup"><span data-stu-id="5235a-234">If hello cluster that you created uses Blob storage as default storage, hello sample data is not contained in hello Azure Data Lake Store account that's used as additional storage.</span></span> <span data-ttu-id="5235a-235">I så fall först överföra hello data från Blob storage toohello Data Lake Store och kör sedan hello frågor som visas i föregående exempel hello.</span><span class="sxs-lookup"><span data-stu-id="5235a-235">In such a case, first transfer hello data from Blob storage toohello Data Lake Store, and then run hello queries as shown in hello preceding example.</span></span>

<span data-ttu-id="5235a-236">Information om hur toocopy från Blob storage tooa Data Lake datalager finns hello följande artiklar:</span><span class="sxs-lookup"><span data-stu-id="5235a-236">For information on how toocopy data from Blob storage tooa Data Lake Store, see hello following articles:</span></span>

* [<span data-ttu-id="5235a-237">Använd Distcp toocopy data mellan Azure Storage-blobbar och Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="5235a-237">Use Distcp toocopy data between Azure Storage blobs and Data Lake Store</span></span>](data-lake-store-copy-data-wasb-distcp.md)
* [<span data-ttu-id="5235a-238">Använd AdlCopy toocopy data från Azure Storage-blobbar tooData Datasjölager</span><span class="sxs-lookup"><span data-stu-id="5235a-238">Use AdlCopy toocopy data from Azure Storage blobs tooData Lake Store</span></span>](data-lake-store-copy-data-azure-storage-blob.md)

### <a name="use-data-lake-store-with-a-spark-cluster"></a><span data-ttu-id="5235a-239">Använd Data Lake Store med ett Spark-kluster</span><span class="sxs-lookup"><span data-stu-id="5235a-239">Use Data Lake Store with a Spark cluster</span></span>
<span data-ttu-id="5235a-240">Du kan använda en Spark-kluster toorun Spark-jobb på data som lagras i ett Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="5235a-240">You can use a Spark cluster toorun Spark jobs on data that is stored in a Data Lake Store.</span></span> <span data-ttu-id="5235a-241">Mer information finns i [använda HDInsight Spark-kluster tooanalyze data i Data Lake Store](../hdinsight/hdinsight-apache-spark-use-with-data-lake-store.md).</span><span class="sxs-lookup"><span data-stu-id="5235a-241">For more information, see [Use HDInsight Spark cluster tooanalyze data in Data Lake Store](../hdinsight/hdinsight-apache-spark-use-with-data-lake-store.md).</span></span>


### <a name="use-data-lake-store-in-a-storm-topology"></a><span data-ttu-id="5235a-242">Använd Data Lake Store i en Storm-topologi</span><span class="sxs-lookup"><span data-stu-id="5235a-242">Use Data Lake Store in a Storm topology</span></span>
<span data-ttu-id="5235a-243">Du kan använda hello Data Lake Store toowrite data från en Storm-topologi.</span><span class="sxs-lookup"><span data-stu-id="5235a-243">You can use hello Data Lake Store toowrite data from a Storm topology.</span></span> <span data-ttu-id="5235a-244">Anvisningar för hur tooachieve i det här scenariot finns [Använd Azure Data Lake Store med Apache Storm med HDInsight](../hdinsight/hdinsight-storm-write-data-lake-store.md).</span><span class="sxs-lookup"><span data-stu-id="5235a-244">For instructions on how tooachieve this scenario, see [Use Azure Data Lake Store with Apache Storm with HDInsight](../hdinsight/hdinsight-storm-write-data-lake-store.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="5235a-245">Se även</span><span class="sxs-lookup"><span data-stu-id="5235a-245">See also</span></span>
* [<span data-ttu-id="5235a-246">PowerShell: Skapa ett HDInsight-kluster toouse Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="5235a-246">PowerShell: Create an HDInsight cluster toouse Data Lake Store</span></span>](data-lake-store-hdinsight-hadoop-use-powershell.md)

[makecert]: https://msdn.microsoft.com/library/windows/desktop/ff548309(v=vs.85).aspx
[pvk2pfx]: https://msdn.microsoft.com/library/windows/desktop/ff550672(v=vs.85).aspx
