---
title: "Azure ServiceFabric diagnostik- och övervakning | Microsoft Docs"
description: "Den här artikeln beskriver övervakningsfunktioner för programprestanda i tillförlitliga ServiceRemoting för Service Fabric-körningsmiljön som prestandaräknare som sänds av den."
services: service-fabric
documentationcenter: .net
author: suchiagicha
manager: timlt
editor: suchiagicha
ms.assetid: 1c229923-670a-4634-ad59-468ff781ad18
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/29/2017
ms.author: suchiagicha
ms.openlocfilehash: f54e157654fb15d2f7ff48ddc666c6c8803c75a2
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/03/2017
---
# <a name="diagnostics-and-performance-monitoring-for-reliable-service-remoting"></a><span data-ttu-id="15262-103">Diagnostik- och prestandaövervakning för tillförlitlig tjänst fjärrkommunikation</span><span class="sxs-lookup"><span data-stu-id="15262-103">Diagnostics and performance monitoring for Reliable Service Remoting</span></span>
<span data-ttu-id="15262-104">Tillförlitliga ServiceRemoting runtime avger [prestandaräknare](https://msdn.microsoft.com/library/system.diagnostics.performancecounter.aspx).</span><span class="sxs-lookup"><span data-stu-id="15262-104">The Reliable ServiceRemoting runtime emits  [performance counters](https://msdn.microsoft.com/library/system.diagnostics.performancecounter.aspx).</span></span> <span data-ttu-id="15262-105">Dessa ger insikter om hur ServiceRemoting fungerar och hjälp med felsökning och övervakning av programprestanda.</span><span class="sxs-lookup"><span data-stu-id="15262-105">These provide insights into how the ServiceRemoting is operating and help with troubleshooting and performance monitoring.</span></span>


## <a name="performance-counters"></a><span data-ttu-id="15262-106">Prestandaräknare</span><span class="sxs-lookup"><span data-stu-id="15262-106">Performance counters</span></span>
<span data-ttu-id="15262-107">Tillförlitliga ServiceRemoting runtime definierar följande prestandaräknarkategorier:</span><span class="sxs-lookup"><span data-stu-id="15262-107">The Reliable ServiceRemoting runtime defines the following performance counter categories:</span></span>

| <span data-ttu-id="15262-108">Kategori</span><span class="sxs-lookup"><span data-stu-id="15262-108">Category</span></span> | <span data-ttu-id="15262-109">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="15262-109">Description</span></span> |
| --- | --- |
| <span data-ttu-id="15262-110">Fabric-tjänsten</span><span class="sxs-lookup"><span data-stu-id="15262-110">Service Fabric Service</span></span> |<span data-ttu-id="15262-111">Räknare som är specifika för fjärrkommunikation med Azure Service Fabric-tjänsten, till exempel Genomsnittlig tid det tar att bearbeta begäran</span><span class="sxs-lookup"><span data-stu-id="15262-111">Counters specific to Azure Service Fabric Service Remoting , for example, average time taken to process request</span></span> |
| <span data-ttu-id="15262-112">Metod för Service Fabric-tjänst</span><span class="sxs-lookup"><span data-stu-id="15262-112">Service Fabric Service Method</span></span> |<span data-ttu-id="15262-113">Räknare som är specifika för metoder implementeras av Service Fabric-fjärranslutningstjänsten, till exempel hur ofta en Servicemetoden har anropats</span><span class="sxs-lookup"><span data-stu-id="15262-113">Counters specific to methods implemented by Service Fabric Remoting Service, for example, how often a service method is invoked</span></span> |

<span data-ttu-id="15262-114">Var och en av ovanstående kategorier har en eller flera räknare.</span><span class="sxs-lookup"><span data-stu-id="15262-114">Each of the preceding categories has one or more counters.</span></span>

<span data-ttu-id="15262-115">Den [Windows Prestandaövervakaren](https://technet.microsoft.com/library/cc749249.aspx) program som är tillgängligt som standard i Windows-operativsystemet kan användas för att samla in och visa information om prestandaräknare.</span><span class="sxs-lookup"><span data-stu-id="15262-115">The [Windows Performance Monitor](https://technet.microsoft.com/library/cc749249.aspx) application that is available by default in the Windows operating system can be used to collect and view performance counter data.</span></span> <span data-ttu-id="15262-116">[Azure Diagnostics](../cloud-services/cloud-services-dotnet-diagnostics.md) är ett annat alternativ för att samla in prestandaräknardata och överföra den till Azure-tabeller.</span><span class="sxs-lookup"><span data-stu-id="15262-116">[Azure Diagnostics](../cloud-services/cloud-services-dotnet-diagnostics.md) is another option for collecting performance counter data and uploading it to Azure tables.</span></span>

### <a name="performance-counter-instance-names"></a><span data-ttu-id="15262-117">Namn på prestandaräknarinstanser</span><span class="sxs-lookup"><span data-stu-id="15262-117">Performance counter instance names</span></span>
<span data-ttu-id="15262-118">Ett kluster med ett stort antal ServiceRemoting tjänster eller partitioner har ett stort antal instanser för räknaren av prestanda.</span><span class="sxs-lookup"><span data-stu-id="15262-118">A cluster that has a large number of  ServiceRemoting services or partitions have a large number of  performance counter instances.</span></span> <span data-ttu-id="15262-119">Namn på prestandaräknarinstanser hjälper dig identifiera specifik partition och metod för tjänst (om tillämpligt) som prestandaräknarinstans är kopplad till.</span><span class="sxs-lookup"><span data-stu-id="15262-119">The performance counter instance names can help in identifying the specific partition and Service method (if applicable) that the performance counter instance is associated with.</span></span>

#### <a name="service-fabric-service-category"></a><span data-ttu-id="15262-120">Fabric-tjänsten kategori</span><span class="sxs-lookup"><span data-stu-id="15262-120">Service Fabric Service category</span></span>
<span data-ttu-id="15262-121">För kategori `Service Fabric Service`, instansnamn räknaren finns i följande format:</span><span class="sxs-lookup"><span data-stu-id="15262-121">For the category `Service Fabric Service`, the counter instance names are in the following format:</span></span>

`ServiceFabricPartitionID_ServiceReplicaOrInstanceId_ServiceRuntimeInternalID`

<span data-ttu-id="15262-122">*ServiceFabricPartitionID* är strängrepresentation av Service Fabric partitions-ID som prestandaräknarinstans är kopplad till.</span><span class="sxs-lookup"><span data-stu-id="15262-122">*ServiceFabricPartitionID* is the string representation of the Service Fabric partition ID that the performance counter instance is associated with.</span></span> <span data-ttu-id="15262-123">Partitions-ID är ett GUID och dess strängrepresentation genereras via den [ `Guid.ToString` ](https://msdn.microsoft.com/library/97af8hh4.aspx) metod med Formatspecificeraren ”D”.</span><span class="sxs-lookup"><span data-stu-id="15262-123">The partition ID is a GUID, and its string representation is generated through the [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) method with format specifier "D".</span></span>

<span data-ttu-id="15262-124">*ServiceReplicaOrInstanceId* är strängrepresentation av Service Fabric repliken/instansen ID som prestandaräknarinstans är kopplad till.</span><span class="sxs-lookup"><span data-stu-id="15262-124">*ServiceReplicaOrInstanceId* is the string representation of the Service Fabric Replica/Instance ID that the performance counter instance is associated with.</span></span>

<span data-ttu-id="15262-125">*ServiceRuntimeInternalID* är strängrepresentation av ett 64-bitars heltal som genereras av Service Fabric runtime för intern användning.</span><span class="sxs-lookup"><span data-stu-id="15262-125">*ServiceRuntimeInternalID* is the string representation of a 64-bit integer that is generated by the Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="15262-126">Detta ingår i instansen prestandaräknarnamnet att säkerställa dess unika och undvika konflikter med andra namn på prestandaräknarinstanser.</span><span class="sxs-lookup"><span data-stu-id="15262-126">This is included in the performance counter instance name to ensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="15262-127">Användare försöka inte tolka den här delen av prestandaräknarnamnet för instansen.</span><span class="sxs-lookup"><span data-stu-id="15262-127">Users should not try to interpret this portion of the performance counter instance name.</span></span>

<span data-ttu-id="15262-128">Följande är ett exempel på ett räknaren instansnamn för en räknare som tillhör den `Service Fabric Service` kategori:</span><span class="sxs-lookup"><span data-stu-id="15262-128">The following is an example of a counter instance name for a counter that belongs to the `Service Fabric Service` category:</span></span>

`2740af29-78aa-44bc-a20b-7e60fb783264_635650083799324046_5008379932`

<span data-ttu-id="15262-129">I föregående exempel `2740af29-78aa-44bc-a20b-7e60fb783264` är strängrepresentation av Service Fabric partitions-ID `635650083799324046` är strängrepresentation av repliken/InstanceId och `5008379932` är 64-bitars-ID som genereras för körningsmiljön internt använder.</span><span class="sxs-lookup"><span data-stu-id="15262-129">In the preceding example, `2740af29-78aa-44bc-a20b-7e60fb783264` is the string representation of the Service Fabric partition ID, `635650083799324046` is string representation of Replica/InstanceId and `5008379932` is the 64-bit ID that is generated for the runtime's internal use.</span></span>

#### <a name="service-fabric-service-method-category"></a><span data-ttu-id="15262-130">Service Fabric-tjänsten metoden kategori</span><span class="sxs-lookup"><span data-stu-id="15262-130">Service Fabric Service Method category</span></span>
<span data-ttu-id="15262-131">För kategori `Service Fabric Service Method`, instansnamn räknaren finns i följande format:</span><span class="sxs-lookup"><span data-stu-id="15262-131">For the category `Service Fabric Service Method`, the counter instance names are in the following format:</span></span>

`MethodName_ServiceRuntimeMethodId_ServiceFabricPartitionID_ServiceReplicaOrInstanceId_ServiceRuntimeInternalID`

<span data-ttu-id="15262-132">*MethodName* är namnet på metoden tjänsten som prestandaräknarinstans är kopplad till.</span><span class="sxs-lookup"><span data-stu-id="15262-132">*MethodName* is the name of the service method that the performance counter instance is associated with.</span></span> <span data-ttu-id="15262-133">Formatet för metodnamnet bestäms baserat på viss logik i Fabric Service körningsmiljön som balanserar läsbarhet på namn med begränsningar på den maximala längden på namn på prestandaräknarinstanser i Windows.</span><span class="sxs-lookup"><span data-stu-id="15262-133">The format of the method name is determined based on some logic in the Fabric Service runtime that balances the readability of the name with constraints on the maximum length of the performance counter instance names on Windows.</span></span>

<span data-ttu-id="15262-134">*ServiceRuntimeMethodId* är strängrepresentation av en 32-bitars heltal som genereras av Service Fabric runtime för intern användning.</span><span class="sxs-lookup"><span data-stu-id="15262-134">*ServiceRuntimeMethodId* is the string representation of a 32-bit integer that is generated by the Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="15262-135">Detta ingår i instansen prestandaräknarnamnet att säkerställa dess unika och undvika konflikter med andra namn på prestandaräknarinstanser.</span><span class="sxs-lookup"><span data-stu-id="15262-135">This is included in the performance counter instance name to ensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="15262-136">Användare försöka inte tolka den här delen av prestandaräknarnamnet för instansen.</span><span class="sxs-lookup"><span data-stu-id="15262-136">Users should not try to interpret this portion of the performance counter instance name.</span></span>

<span data-ttu-id="15262-137">*ServiceFabricPartitionID* är strängrepresentation av Service Fabric partitions-ID som prestandaräknarinstans är kopplad till.</span><span class="sxs-lookup"><span data-stu-id="15262-137">*ServiceFabricPartitionID* is the string representation of the Service Fabric partition ID that the performance counter instance is associated with.</span></span> <span data-ttu-id="15262-138">Partitions-ID är ett GUID och dess strängrepresentation genereras via den [ `Guid.ToString` ](https://msdn.microsoft.com/library/97af8hh4.aspx) metod med Formatspecificeraren ”D”.</span><span class="sxs-lookup"><span data-stu-id="15262-138">The partition ID is a GUID, and its string representation is generated through the [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) method with format specifier "D".</span></span>

<span data-ttu-id="15262-139">*ServiceReplicaOrInstanceId* är strängrepresentation av Service Fabric repliken/instansen ID som prestandaräknarinstans är kopplad till.</span><span class="sxs-lookup"><span data-stu-id="15262-139">*ServiceReplicaOrInstanceId* is the string representation of the Service Fabric Replica/Instance ID that the performance counter instance is associated with.</span></span>

<span data-ttu-id="15262-140">*ServiceRuntimeInternalID* är strängrepresentation av ett 64-bitars heltal som genereras av Service Fabric runtime för intern användning.</span><span class="sxs-lookup"><span data-stu-id="15262-140">*ServiceRuntimeInternalID* is the string representation of a 64-bit integer that is generated by the Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="15262-141">Detta ingår i instansen prestandaräknarnamnet att säkerställa dess unika och undvika konflikter med andra namn på prestandaräknarinstanser.</span><span class="sxs-lookup"><span data-stu-id="15262-141">This is included in the performance counter instance name to ensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="15262-142">Användare försöka inte tolka den här delen av prestandaräknarnamnet för instansen.</span><span class="sxs-lookup"><span data-stu-id="15262-142">Users should not try to interpret this portion of the performance counter instance name.</span></span>

<span data-ttu-id="15262-143">Följande är ett exempel på ett räknaren instansnamn för en räknare som tillhör den `Service Fabric Service Method` kategori:</span><span class="sxs-lookup"><span data-stu-id="15262-143">The following is an example of a counter instance name for a counter that belongs to the `Service Fabric Service Method` category:</span></span>

`ivoicemailboxservice.leavemessageasync_2_89383d32-e57e-4a9b-a6ad-57c6792aa521_635650083804480486_5008380`

<span data-ttu-id="15262-144">I föregående exempel `ivoicemailboxservice.leavemessageasync` är metodnamnet på `2` är 32-bitars-ID som genererades för intern användning av den runtime, `89383d32-e57e-4a9b-a6ad-57c6792aa521` är strängrepresentation av Service Fabric partitions-ID`635650083804480486` är strängrepresentation av Service Fabric-replik-/ instans-ID och `5008380` är 64-bitars-ID som genererades för körningsmiljön internt använder.</span><span class="sxs-lookup"><span data-stu-id="15262-144">In the preceding example, `ivoicemailboxservice.leavemessageasync` is the method name, `2` is the 32-bit ID generated for the runtime's internal use, `89383d32-e57e-4a9b-a6ad-57c6792aa521` is the string representation of the Service Fabric partition ID,`635650083804480486` is the string representation of the Service Fabric Replica/Instance ID and `5008380` is the 64-bit ID generated for the runtime's internal use.</span></span>

## <a name="list-of-performance-counters"></a><span data-ttu-id="15262-145">Lista över prestandaräknare</span><span class="sxs-lookup"><span data-stu-id="15262-145">List of Performance counters</span></span>
### <a name="service-method-performance-counters"></a><span data-ttu-id="15262-146">Prestandaräknare för tjänsten metod</span><span class="sxs-lookup"><span data-stu-id="15262-146">Service method performance counters</span></span>

<span data-ttu-id="15262-147">Tillförlitlig tjänst runtime publicerar följande prestandaräknare som rör körning av tjänstmetoder.</span><span class="sxs-lookup"><span data-stu-id="15262-147">The Reliable Service runtime publishes the following performance counters related to the execution of service methods.</span></span>

| <span data-ttu-id="15262-148">Kategorinamn</span><span class="sxs-lookup"><span data-stu-id="15262-148">Category name</span></span> | <span data-ttu-id="15262-149">Räknarens namn</span><span class="sxs-lookup"><span data-stu-id="15262-149">Counter name</span></span> | <span data-ttu-id="15262-150">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="15262-150">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="15262-151">Metod för Service Fabric-tjänst</span><span class="sxs-lookup"><span data-stu-id="15262-151">Service Fabric Service Method</span></span> |<span data-ttu-id="15262-152">Anrop/sek</span><span class="sxs-lookup"><span data-stu-id="15262-152">Invocations/Sec</span></span> |<span data-ttu-id="15262-153">Antalet gånger som Servicemetoden har anropats per sekund</span><span class="sxs-lookup"><span data-stu-id="15262-153">Number of times that the  service method is invoked per second</span></span> |
| <span data-ttu-id="15262-154">Metod för Service Fabric-tjänst</span><span class="sxs-lookup"><span data-stu-id="15262-154">Service Fabric Service Method</span></span> |<span data-ttu-id="15262-155">Genomsnittlig tid i millisekunder per anrop</span><span class="sxs-lookup"><span data-stu-id="15262-155">Average milliseconds per invocation</span></span> |<span data-ttu-id="15262-156">Åtgången tid för att köra Servicemetoden i millisekunder</span><span class="sxs-lookup"><span data-stu-id="15262-156">Time taken to execute the service method in milliseconds</span></span> |
| <span data-ttu-id="15262-157">Metod för Service Fabric-tjänst</span><span class="sxs-lookup"><span data-stu-id="15262-157">Service Fabric Service Method</span></span> |<span data-ttu-id="15262-158">Undantag/sek</span><span class="sxs-lookup"><span data-stu-id="15262-158">Exceptions thrown/Sec</span></span> |<span data-ttu-id="15262-159">Antal gånger som metoden tjänsten utlöste ett undantag per sekund</span><span class="sxs-lookup"><span data-stu-id="15262-159">Number of times that the service method threw an exception per second</span></span> |

### <a name="service-request-processing-performance-counters"></a><span data-ttu-id="15262-160">Prestandaräknare för tjänsten begäran bearbetning</span><span class="sxs-lookup"><span data-stu-id="15262-160">Service request processing performance counters</span></span>
<span data-ttu-id="15262-161">När en klient anropar en metod via en proxy webbtjänstobjektet, resulterar det i ett meddelande om begäran som skickas över nätverket till remoting service.</span><span class="sxs-lookup"><span data-stu-id="15262-161">When a client invokes a method via a service proxy object, it results in a request message being sent over the network to the remoting service.</span></span> <span data-ttu-id="15262-162">Tjänsten bearbetar meddelandet med begäran och skickar tillbaka ett svar till klienten.</span><span class="sxs-lookup"><span data-stu-id="15262-162">The service processes the request message and sends a response back to the client.</span></span> <span data-ttu-id="15262-163">Tillförlitliga ServiceRemoting runtime publicerar följande Prestandaräknare relaterade till behandling av begäranden för tjänsten.</span><span class="sxs-lookup"><span data-stu-id="15262-163">The Reliable ServiceRemoting runtime publishes the following performance counters related to service request processing.</span></span>

| <span data-ttu-id="15262-164">Kategorinamn</span><span class="sxs-lookup"><span data-stu-id="15262-164">Category name</span></span> | <span data-ttu-id="15262-165">Räknarens namn</span><span class="sxs-lookup"><span data-stu-id="15262-165">Counter name</span></span> | <span data-ttu-id="15262-166">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="15262-166">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="15262-167">Fabric-tjänsten</span><span class="sxs-lookup"><span data-stu-id="15262-167">Service Fabric Service</span></span> |<span data-ttu-id="15262-168">Antal väntande förfrågningar</span><span class="sxs-lookup"><span data-stu-id="15262-168"># of outstanding requests</span></span> |<span data-ttu-id="15262-169">Antalet begäranden som bearbetas i tjänsten</span><span class="sxs-lookup"><span data-stu-id="15262-169">Number of requests being processed in the service</span></span> |
| <span data-ttu-id="15262-170">Fabric-tjänsten</span><span class="sxs-lookup"><span data-stu-id="15262-170">Service Fabric Service</span></span> |<span data-ttu-id="15262-171">Genomsnittlig tid i millisekunder per begäran</span><span class="sxs-lookup"><span data-stu-id="15262-171">Average milliseconds per request</span></span> |<span data-ttu-id="15262-172">Tid (i millisekunder av tjänsten för att bearbeta en begäran)</span><span class="sxs-lookup"><span data-stu-id="15262-172">Time taken (in milliseconds) by the service to process a request</span></span> |
| <span data-ttu-id="15262-173">Fabric-tjänsten</span><span class="sxs-lookup"><span data-stu-id="15262-173">Service Fabric Service</span></span> |<span data-ttu-id="15262-174">Genomsnittlig tid i millisekunder för deserialiseringsbegäran</span><span class="sxs-lookup"><span data-stu-id="15262-174">Average milliseconds for request deserialization</span></span> |<span data-ttu-id="15262-175">Tid (i millisekunder) att avserialisera begärandemeddelandet tjänsten när den tas emot med tjänsten</span><span class="sxs-lookup"><span data-stu-id="15262-175">Time taken (in milliseconds) to deserialize service request message when it is received at the service</span></span> |
| <span data-ttu-id="15262-176">Fabric-tjänsten</span><span class="sxs-lookup"><span data-stu-id="15262-176">Service Fabric Service</span></span> |<span data-ttu-id="15262-177">Genomsnittlig tid i millisekunder för serialiseringssvar</span><span class="sxs-lookup"><span data-stu-id="15262-177">Average milliseconds for response serialization</span></span> |<span data-ttu-id="15262-178">Tid (i millisekunder) att serialisera svarsmeddelandet tjänst i tjänsten innan svaret skickas till klienten</span><span class="sxs-lookup"><span data-stu-id="15262-178">Time taken (in milliseconds) to serialize the service response message at the service before the response is sent to the client</span></span> |

## <a name="next-steps"></a><span data-ttu-id="15262-179">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="15262-179">Next steps</span></span>
* [<span data-ttu-id="15262-180">Exempelkod</span><span class="sxs-lookup"><span data-stu-id="15262-180">Sample code</span></span>](https://github.com/Azure/servicefabric-samples)
* [<span data-ttu-id="15262-181">EventSource providrar på förhandsgranskning</span><span class="sxs-lookup"><span data-stu-id="15262-181">EventSource providers in PerfView</span></span>](https://blogs.msdn.microsoft.com/vancem/2012/07/09/introduction-tutorial-logging-etw-events-in-c-system-diagnostics-tracing-eventsource/)
