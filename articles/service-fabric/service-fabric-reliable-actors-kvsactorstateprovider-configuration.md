---
title: "aaaChange KVSActorStateProvider inställningar i Azure mikrotjänster | Microsoft Docs"
description: "Lär dig mer om hur du konfigurerar Azure Service Fabric tillståndskänslig aktörer av typen KVSActorStateProvider."
services: Service-Fabric
documentationcenter: .net
author: sumukhs
manager: timlt
editor: 
ms.assetid: dbed72f4-dda5-4287-bd56-da492710cd96
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 6/29/2017
ms.author: sumukhs
ms.openlocfilehash: e003512678556e68a8926b1b9c6c28d9ae3979d2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-reliable-actors--kvsactorstateprovider"></a><span data-ttu-id="74f4b-103">Konfigurera Reliable Actors--KVSActorStateProvider</span><span class="sxs-lookup"><span data-stu-id="74f4b-103">Configuring Reliable Actors--KVSActorStateProvider</span></span>
<span data-ttu-id="74f4b-104">Du kan ändra hello standardkonfigurationen av KVSActorStateProvider genom att ändra hello settings.xml fil som har genererats i hello Microsoft Visual Studio paketrot hello Config i mappen för hello angivna aktören.</span><span class="sxs-lookup"><span data-stu-id="74f4b-104">You can modify hello default configuration of KVSActorStateProvider by changing hello settings.xml file that is generated in hello Microsoft Visual Studio package root under hello Config folder for hello specified actor.</span></span>

<span data-ttu-id="74f4b-105">hello Azure Service Fabric runtime söker efter fördefinierade Avsnittsnamnen i hello settings.xml filen och förbrukar hello konfigurationsvärden när du skapar hello underliggande körtidskomponenter.</span><span class="sxs-lookup"><span data-stu-id="74f4b-105">hello Azure Service Fabric runtime looks for predefined section names in hello settings.xml file and consumes hello configuration values while creating hello underlying runtime components.</span></span>

> [!NOTE]
> <span data-ttu-id="74f4b-106">Gör **inte** ta bort eller ändra hello Avsnittsnamnen av hello följande konfigurationer i hello settings.xml-filen som har genererats i hello Visual Studio-lösning.</span><span class="sxs-lookup"><span data-stu-id="74f4b-106">Do **not** delete or modify hello section names of hello following configurations in hello settings.xml file that is generated in hello Visual Studio solution.</span></span>
> 
> 

## <a name="replicator-security-configuration"></a><span data-ttu-id="74f4b-107">Replikatorn säkerhetskonfiguration</span><span class="sxs-lookup"><span data-stu-id="74f4b-107">Replicator security configuration</span></span>
<span data-ttu-id="74f4b-108">Replikatorn säkerhetskonfigurationer är används toosecure hello kommunikationskanalen som används vid replikering.</span><span class="sxs-lookup"><span data-stu-id="74f4b-108">Replicator security configurations are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="74f4b-109">Det innebär att tjänster inte kan se varandras replikeringstrafik, säkerställer att hello data som görs högtillgänglig också säker.</span><span class="sxs-lookup"><span data-stu-id="74f4b-109">This means that services cannot see each other's replication traffic, ensuring that hello data that is made highly available is also secure.</span></span>
<span data-ttu-id="74f4b-110">Som standard förhindrar en tom säkerhetskonfigurationsavsnittet replikeringssäkerhet.</span><span class="sxs-lookup"><span data-stu-id="74f4b-110">By default, an empty security configuration section prevents replication security.</span></span>

### <a name="section-name"></a><span data-ttu-id="74f4b-111">Avsnittsnamn</span><span class="sxs-lookup"><span data-stu-id="74f4b-111">Section name</span></span>
<span data-ttu-id="74f4b-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span><span class="sxs-lookup"><span data-stu-id="74f4b-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span></span>

## <a name="replicator-configuration"></a><span data-ttu-id="74f4b-113">Replikatorn konfiguration</span><span class="sxs-lookup"><span data-stu-id="74f4b-113">Replicator configuration</span></span>
<span data-ttu-id="74f4b-114">Konfigurationer för replikatorn konfigurera hello replikatorn som ansvarar för att göra hello aktören Tillståndsprovidern tillstånd hög tillförlitlig.</span><span class="sxs-lookup"><span data-stu-id="74f4b-114">Replicator configurations configure hello replicator that is responsible for making hello Actor State Provider state highly reliable.</span></span>
<span data-ttu-id="74f4b-115">hello standardkonfigurationen genereras av hello Visual Studio-mall och bör vara tillräckligt.</span><span class="sxs-lookup"><span data-stu-id="74f4b-115">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="74f4b-116">Det här avsnittet innehåller information om ytterligare konfigurationer som är tillgängliga tootune hello replikatorn.</span><span class="sxs-lookup"><span data-stu-id="74f4b-116">This section talks about additional configurations that are available tootune hello replicator.</span></span>

### <a name="section-name"></a><span data-ttu-id="74f4b-117">Avsnittsnamn</span><span class="sxs-lookup"><span data-stu-id="74f4b-117">Section name</span></span>
<span data-ttu-id="74f4b-118">&lt;ActorName&gt;ServiceReplicatorConfig</span><span class="sxs-lookup"><span data-stu-id="74f4b-118">&lt;ActorName&gt;ServiceReplicatorConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="74f4b-119">Konfigurationsnamn</span><span class="sxs-lookup"><span data-stu-id="74f4b-119">Configuration names</span></span>
| <span data-ttu-id="74f4b-120">Namn</span><span class="sxs-lookup"><span data-stu-id="74f4b-120">Name</span></span> | <span data-ttu-id="74f4b-121">Enhet</span><span class="sxs-lookup"><span data-stu-id="74f4b-121">Unit</span></span> | <span data-ttu-id="74f4b-122">Standardvärde</span><span class="sxs-lookup"><span data-stu-id="74f4b-122">Default value</span></span> | <span data-ttu-id="74f4b-123">Kommentarer</span><span class="sxs-lookup"><span data-stu-id="74f4b-123">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="74f4b-124">BatchAcknowledgementInterval</span><span class="sxs-lookup"><span data-stu-id="74f4b-124">BatchAcknowledgementInterval</span></span> |<span data-ttu-id="74f4b-125">Sekunder</span><span class="sxs-lookup"><span data-stu-id="74f4b-125">Seconds</span></span> |<span data-ttu-id="74f4b-126">0.015</span><span class="sxs-lookup"><span data-stu-id="74f4b-126">0.015</span></span> |<span data-ttu-id="74f4b-127">Tidsperiod för vilken hello replikatorn på hello sekundära väntar när du har fått en åtgärd innan du skickar tillbaka en bekräftelse toohello primära.</span><span class="sxs-lookup"><span data-stu-id="74f4b-127">Time period for which hello replicator at hello secondary waits after receiving an operation before sending back an acknowledgement toohello primary.</span></span> <span data-ttu-id="74f4b-128">Alla andra bekräftelser toobe skickas för åtgärder som behandlas inom intervallet skickas som ett svar.</span><span class="sxs-lookup"><span data-stu-id="74f4b-128">Any other acknowledgements toobe sent for operations processed within this interval are sent as one response.</span></span> |
| <span data-ttu-id="74f4b-129">ReplicatorEndpoint</span><span class="sxs-lookup"><span data-stu-id="74f4b-129">ReplicatorEndpoint</span></span> |<span data-ttu-id="74f4b-130">Saknas</span><span class="sxs-lookup"><span data-stu-id="74f4b-130">N/A</span></span> |<span data-ttu-id="74f4b-131">Ingen standard--obligatorisk parameter</span><span class="sxs-lookup"><span data-stu-id="74f4b-131">No default--required parameter</span></span> |<span data-ttu-id="74f4b-132">IP-adress och port som hello primära och sekundära replikatorn använder toocommunicate med andra replikatörer i hello replikuppsättningen.</span><span class="sxs-lookup"><span data-stu-id="74f4b-132">IP address and port that hello primary/secondary replicator will use toocommunicate with other replicators in hello replica set.</span></span> <span data-ttu-id="74f4b-133">Detta bör referera en TCP-slutpunkt för resurs i hello service manifest.</span><span class="sxs-lookup"><span data-stu-id="74f4b-133">This should reference a TCP resource endpoint in hello service manifest.</span></span> <span data-ttu-id="74f4b-134">Se för[Service manifest resurser](service-fabric-service-manifest-resources.md) tooread mer om hur du definierar endpoint resurser i hello service manifest.</span><span class="sxs-lookup"><span data-stu-id="74f4b-134">Refer too[Service manifest resources](service-fabric-service-manifest-resources.md) tooread more about defining endpoint resources in hello service manifest.</span></span> |
| <span data-ttu-id="74f4b-135">RetryInterval</span><span class="sxs-lookup"><span data-stu-id="74f4b-135">RetryInterval</span></span> |<span data-ttu-id="74f4b-136">Sekunder</span><span class="sxs-lookup"><span data-stu-id="74f4b-136">Seconds</span></span> |<span data-ttu-id="74f4b-137">5</span><span class="sxs-lookup"><span data-stu-id="74f4b-137">5</span></span> |<span data-ttu-id="74f4b-138">Tidsperiod efter vilken hello replikatorn igen skickar ett meddelande om den inte får ett godkännande för en åtgärd.</span><span class="sxs-lookup"><span data-stu-id="74f4b-138">Time period after which hello replicator re-transmits a message if it does not receive an acknowledgement for an operation.</span></span> |
| <span data-ttu-id="74f4b-139">MaxReplicationMessageSize</span><span class="sxs-lookup"><span data-stu-id="74f4b-139">MaxReplicationMessageSize</span></span> |<span data-ttu-id="74f4b-140">Byte</span><span class="sxs-lookup"><span data-stu-id="74f4b-140">Bytes</span></span> |<span data-ttu-id="74f4b-141">50 MB</span><span class="sxs-lookup"><span data-stu-id="74f4b-141">50 MB</span></span> |<span data-ttu-id="74f4b-142">Maximal storlek för replikeringsdata som kan överföras i ett enda meddelande.</span><span class="sxs-lookup"><span data-stu-id="74f4b-142">Maximum size of replication data that can be transmitted in a single message.</span></span> |
| <span data-ttu-id="74f4b-143">MaxPrimaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="74f4b-143">MaxPrimaryReplicationQueueSize</span></span> |<span data-ttu-id="74f4b-144">Antal åtgärder</span><span class="sxs-lookup"><span data-stu-id="74f4b-144">Number of operations</span></span> |<span data-ttu-id="74f4b-145">1024</span><span class="sxs-lookup"><span data-stu-id="74f4b-145">1024</span></span> |<span data-ttu-id="74f4b-146">Maximalt antal åtgärder i hello primära kön.</span><span class="sxs-lookup"><span data-stu-id="74f4b-146">Maximum number of operations in hello primary queue.</span></span> <span data-ttu-id="74f4b-147">En åtgärd frigjorts när hello primära replikatorn tar emot en bekräftelse från alla hello sekundära replikatörer.</span><span class="sxs-lookup"><span data-stu-id="74f4b-147">An operation is freed up after hello primary replicator receives an acknowledgement from all hello secondary replicators.</span></span> <span data-ttu-id="74f4b-148">Det här värdet måste vara större än 64 och delbart med 2.</span><span class="sxs-lookup"><span data-stu-id="74f4b-148">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="74f4b-149">MaxSecondaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="74f4b-149">MaxSecondaryReplicationQueueSize</span></span> |<span data-ttu-id="74f4b-150">Antal åtgärder</span><span class="sxs-lookup"><span data-stu-id="74f4b-150">Number of operations</span></span> |<span data-ttu-id="74f4b-151">2048</span><span class="sxs-lookup"><span data-stu-id="74f4b-151">2048</span></span> |<span data-ttu-id="74f4b-152">Maximalt antal åtgärder i hello sekundär kö.</span><span class="sxs-lookup"><span data-stu-id="74f4b-152">Maximum number of operations in hello secondary queue.</span></span> <span data-ttu-id="74f4b-153">När du har gjort tillståndet hög tillgänglighet via beständiga frigjorts en åtgärd.</span><span class="sxs-lookup"><span data-stu-id="74f4b-153">An operation is freed up after making its state highly available through persistence.</span></span> <span data-ttu-id="74f4b-154">Det här värdet måste vara större än 64 och delbart med 2.</span><span class="sxs-lookup"><span data-stu-id="74f4b-154">This value must be greater than 64 and a power of 2.</span></span> |

## <a name="store-configuration"></a><span data-ttu-id="74f4b-155">Store-konfiguration</span><span class="sxs-lookup"><span data-stu-id="74f4b-155">Store configuration</span></span>
<span data-ttu-id="74f4b-156">Store konfigurationer är används tooconfigure hello lokalt arkiv som har använt toopersist hello tillstånd som håller på att replikeras.</span><span class="sxs-lookup"><span data-stu-id="74f4b-156">Store configurations are used tooconfigure hello local store that is used toopersist hello state that is being replicated.</span></span>
<span data-ttu-id="74f4b-157">hello standardkonfigurationen genereras av hello Visual Studio-mall och bör vara tillräckligt.</span><span class="sxs-lookup"><span data-stu-id="74f4b-157">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="74f4b-158">Det här avsnittet innehåller information om ytterligare konfigurationer som är tillgängliga tootune hello lokalt Arkiv.</span><span class="sxs-lookup"><span data-stu-id="74f4b-158">This section talks about additional configurations that are available tootune hello local store.</span></span>

### <a name="section-name"></a><span data-ttu-id="74f4b-159">Avsnittsnamn</span><span class="sxs-lookup"><span data-stu-id="74f4b-159">Section name</span></span>
<span data-ttu-id="74f4b-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span><span class="sxs-lookup"><span data-stu-id="74f4b-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="74f4b-161">Konfigurationsnamn</span><span class="sxs-lookup"><span data-stu-id="74f4b-161">Configuration names</span></span>
| <span data-ttu-id="74f4b-162">Namn</span><span class="sxs-lookup"><span data-stu-id="74f4b-162">Name</span></span> | <span data-ttu-id="74f4b-163">Enhet</span><span class="sxs-lookup"><span data-stu-id="74f4b-163">Unit</span></span> | <span data-ttu-id="74f4b-164">Standardvärde</span><span class="sxs-lookup"><span data-stu-id="74f4b-164">Default value</span></span> | <span data-ttu-id="74f4b-165">Kommentarer</span><span class="sxs-lookup"><span data-stu-id="74f4b-165">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="74f4b-166">MaxAsyncCommitDelayInMilliseconds</span><span class="sxs-lookup"><span data-stu-id="74f4b-166">MaxAsyncCommitDelayInMilliseconds</span></span> |<span data-ttu-id="74f4b-167">millisekunder</span><span class="sxs-lookup"><span data-stu-id="74f4b-167">Milliseconds</span></span> |<span data-ttu-id="74f4b-168">200</span><span class="sxs-lookup"><span data-stu-id="74f4b-168">200</span></span> |<span data-ttu-id="74f4b-169">Anger hello maximala batchbearbetning intervall för beständig lokalt Arkiv genomföranden.</span><span class="sxs-lookup"><span data-stu-id="74f4b-169">Sets hello maximum batching interval for durable local store commits.</span></span> |
| <span data-ttu-id="74f4b-170">MaxVerPages</span><span class="sxs-lookup"><span data-stu-id="74f4b-170">MaxVerPages</span></span> |<span data-ttu-id="74f4b-171">Antal sidor</span><span class="sxs-lookup"><span data-stu-id="74f4b-171">Number of pages</span></span> |<span data-ttu-id="74f4b-172">16384</span><span class="sxs-lookup"><span data-stu-id="74f4b-172">16384</span></span> |<span data-ttu-id="74f4b-173">hello maximalt antal version sidor i hello lokal lagring databasen.</span><span class="sxs-lookup"><span data-stu-id="74f4b-173">hello maximum number of version pages in hello local store database.</span></span> <span data-ttu-id="74f4b-174">Den avgör hello maximalt antal väntande transaktioner.</span><span class="sxs-lookup"><span data-stu-id="74f4b-174">It determines hello maximum number of outstanding transactions.</span></span> |

## <a name="sample-configuration-file"></a><span data-ttu-id="74f4b-175">Exempel på konfigurationsfil</span><span class="sxs-lookup"><span data-stu-id="74f4b-175">Sample configuration file</span></span>
```xml
<?xml version="1.0" encoding="utf-8"?>
<Settings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/2011/01/fabric">
   <Section Name="MyActorServiceReplicatorConfig">
      <Parameter Name="ReplicatorEndpoint" Value="MyActorServiceReplicatorEndpoint" />
      <Parameter Name="BatchAcknowledgementInterval" Value="0.05"/>
   </Section>
   <Section Name="MyActorServiceLocalStoreConfig">
      <Parameter Name="MaxVerPages" Value="8192" />
   </Section>
   <Section Name="MyActorServiceReplicatorSecurityConfig">
      <Parameter Name="CredentialType" Value="X509" />
      <Parameter Name="FindType" Value="FindByThumbprint" />
      <Parameter Name="FindValue" Value="9d c9 06 b1 69 dc 4f af fd 16 97 ac 78 1e 80 67 90 74 9d 2f" />
      <Parameter Name="StoreLocation" Value="LocalMachine" />
      <Parameter Name="StoreName" Value="My" />
      <Parameter Name="ProtectionLevel" Value="EncryptAndSign" />
      <Parameter Name="AllowedCommonNames" Value="My-Test-SAN1-Alice,My-Test-SAN1-Bob" />
   </Section>
</Settings>
```
## <a name="remarks"></a><span data-ttu-id="74f4b-176">Kommentarer</span><span class="sxs-lookup"><span data-stu-id="74f4b-176">Remarks</span></span>
<span data-ttu-id="74f4b-177">Hej BatchAcknowledgementInterval parameter styr replikeringsfördröjning.</span><span class="sxs-lookup"><span data-stu-id="74f4b-177">hello BatchAcknowledgementInterval parameter controls replication latency.</span></span> <span data-ttu-id="74f4b-178">Värdet '0' resulterar i hello lägsta möjliga tidsfördröjning, kostnad hello genomströmning (som flera bekräftelsemeddelanden måste skickas och bearbetas, som innehåller färre bekräftelser).</span><span class="sxs-lookup"><span data-stu-id="74f4b-178">A value of '0' results in hello lowest possible latency, at hello cost of throughput (as more acknowledgement messages must be sent and processed, each containing fewer acknowledgements).</span></span>
<span data-ttu-id="74f4b-179">hello större hello-värdet för BatchAcknowledgementInterval, hello högre hello övergripande replikering genomströmning vid hello kostnaden för högre latens för åtgärden.</span><span class="sxs-lookup"><span data-stu-id="74f4b-179">hello larger hello value for BatchAcknowledgementInterval, hello higher hello overall replication throughput, at hello cost of higher operation latency.</span></span> <span data-ttu-id="74f4b-180">Detta innebär direkt toohello svarstiden för genomförda transaktioner.</span><span class="sxs-lookup"><span data-stu-id="74f4b-180">This directly translates toohello latency of transaction commits.</span></span>

