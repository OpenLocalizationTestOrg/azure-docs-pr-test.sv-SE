---
title: "Skillnader mellan molntjänster och Service Fabric | Microsoft Docs"
description: "En översikt för att migrera program från molntjänster till Service Fabric."
services: service-fabric
documentationcenter: .net
author: vturecek
manager: timlt
editor: 
ms.assetid: 0b87b1d3-88ad-4658-a465-9f05a3376dee
ms.service: service-fabric
ms.devlang: dotNet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/29/2017
ms.author: vturecek
ms.openlocfilehash: 26c0256f6fa299551d92e9bcd058ca359d8c85b3
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="learn-about-the-differences-between-cloud-services-and-service-fabric-before-migrating-applications"></a><span data-ttu-id="ee5e9-103">Lär dig mer om skillnaderna mellan molntjänster och Service Fabric innan du migrerar program.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-103">Learn about the differences between Cloud Services and Service Fabric before migrating applications.</span></span>
<span data-ttu-id="ee5e9-104">Microsoft Azure Service Fabric är nästa generations molnet programmet plattform för mycket skalbar, tillförlitlig hög distribuerade program.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-104">Microsoft Azure Service Fabric is the next-generation cloud application platform for highly scalable, highly reliable distributed applications.</span></span> <span data-ttu-id="ee5e9-105">Det har många nya funktioner för paketering, distribution, uppgradera och hantera distribuerade molnprogram.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-105">It introduces many new features for packaging, deploying, upgrading, and managing distributed cloud applications.</span></span> 

<span data-ttu-id="ee5e9-106">Detta är ett inledande guide för att migrera program från molntjänster till Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-106">This is an introductory guide to migrating applications from Cloud Services to Service Fabric.</span></span> <span data-ttu-id="ee5e9-107">Den fokuserar huvudsakligen på arkitektur och utforma skillnaderna mellan molntjänster och Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-107">It focuses primarily on architectural and design differences between Cloud Services and Service Fabric.</span></span>

## <a name="applications-and-infrastructure"></a><span data-ttu-id="ee5e9-108">Program och infrastruktur</span><span class="sxs-lookup"><span data-stu-id="ee5e9-108">Applications and infrastructure</span></span>
<span data-ttu-id="ee5e9-109">En grundläggande skillnaden mellan Cloud Services och Service Fabric är förhållandet mellan virtuella datorer, arbetsbelastningar och program.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-109">A fundamental difference between Cloud Services and Service Fabric is the relationship between VMs, workloads, and applications.</span></span> <span data-ttu-id="ee5e9-110">En arbetsbelastning här definieras som koden du skriver så att utföra en viss uppgift eller tillhandahålla en tjänst.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-110">A workload here is defined as the code you write to perform a specific task or provide a service.</span></span>

* <span data-ttu-id="ee5e9-111">**Molntjänster är hur du distribuerar program som virtuella datorer.**</span><span class="sxs-lookup"><span data-stu-id="ee5e9-111">**Cloud Services is about deploying applications as VMs.**</span></span> <span data-ttu-id="ee5e9-112">Koden du skriver är direkt kopplade till en VM-instans, till exempel en webbplats eller en Worker-rollen.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-112">The code you write is tightly coupled to a VM instance, such as a Web or Worker Role.</span></span> <span data-ttu-id="ee5e9-113">Om du vill distribuera en arbetsbelastning i Cloud Services är för att distribuera en eller flera VM-instanser som körs arbetsbelastningen.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-113">To deploy a workload in Cloud Services is to deploy one or more VM instances that run the workload.</span></span> <span data-ttu-id="ee5e9-114">Det finns ingen åtskillnad mellan program och virtuella datorer och så det finns ingen formell definition av ett program.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-114">There is no separation of applications and VMs, and so there is no formal definition of an application.</span></span> <span data-ttu-id="ee5e9-115">Ett program kan betraktas som en uppsättning webb- eller Arbetsrollen instanser i en distribution för molntjänster eller en hel Cloud Services-distribution.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-115">An application can be thought of as a set of Web or Worker Role instances within a Cloud Services deployment or as an entire Cloud Services deployment.</span></span> <span data-ttu-id="ee5e9-116">I det här exemplet visas ett program som en uppsättning rollinstanser.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-116">In this example, an application is shown as a set of role instances.</span></span>

![Tjänster för molnprogram och topologi][1]

* <span data-ttu-id="ee5e9-118">**Service Fabric är hur du distribuerar program till befintliga virtuella datorer eller datorer som kör Service Fabric på Windows- eller Linux.**</span><span class="sxs-lookup"><span data-stu-id="ee5e9-118">**Service Fabric is about deploying applications to existing VMs or machines running Service Fabric on Windows or Linux.**</span></span> <span data-ttu-id="ee5e9-119">Tjänster som du skriver är helt frikopplad från den underliggande infrastruktur som representeras direkt av Service Fabric-plattformen för programmet så att ett program kan distribueras till flera miljöer.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-119">The services you write are completely decoupled from the underlying infrastructure, which is abstracted away by the Service Fabric application platform, so an application can be deployed to multiple environments.</span></span> <span data-ttu-id="ee5e9-120">En arbetsbelastning i Service Fabric kallas ”tjänst” och en eller flera tjänster grupperas i ett formellt definierade program som körs på plattformen Service Fabric-programmet.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-120">A workload in Service Fabric is called a "service," and one or more services are grouped in a formally-defined application that runs on the Service Fabric application platform.</span></span> <span data-ttu-id="ee5e9-121">Flera program kan distribueras till ett enda Service Fabric-kluster.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-121">Multiple applications can be deployed to a single Service Fabric cluster.</span></span>

![Service Fabric-program och -topologi][2]

<span data-ttu-id="ee5e9-123">Service Fabric själva är plattform programnivå som körs på Windows- eller Linux, Cloud Services är ett system för att distribuera Azure-hanterade virtuella datorer med arbetsbelastningar som är anslutna.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-123">Service Fabric itself is an application platform layer that runs on Windows or Linux, whereas Cloud Services is a system for deploying Azure-managed VMs with workloads attached.</span></span>
<span data-ttu-id="ee5e9-124">Service Fabric-programmodell har ett antal fördelar:</span><span class="sxs-lookup"><span data-stu-id="ee5e9-124">The Service Fabric application model has a number of advantages:</span></span>

* <span data-ttu-id="ee5e9-125">Snabb distribution gånger.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-125">Fast deployment times.</span></span> <span data-ttu-id="ee5e9-126">Skapa VM-instanser kan ta lång tid.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-126">Creating VM instances can be time consuming.</span></span> <span data-ttu-id="ee5e9-127">I Service Fabric distribuerade virtuella datorer bara när för att bilda ett kluster som är värd för programmet Service Fabric-plattformen.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-127">In Service Fabric, VMs are only deployed once to form a cluster that hosts the Service Fabric application platform.</span></span> <span data-ttu-id="ee5e9-128">Från den punkten på kan programpaket bara distribueras till klustret mycket snabbt.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-128">From that point on, application packages can be deployed to the cluster very quickly.</span></span>
* <span data-ttu-id="ee5e9-129">Hög densitet värd.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-129">High-density hosting.</span></span> <span data-ttu-id="ee5e9-130">I Cloud Services, en Worker-rollen virtuell dator är värd för en arbetsbelastning.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-130">In Cloud Services, a Worker Role VM hosts one workload.</span></span> <span data-ttu-id="ee5e9-131">I Service Fabric är program separat från de virtuella datorerna som kör dem, vilket innebär att du kan distribuera ett stort antal program till ett litet antal virtuella datorer som kan sänka övergripande kostnader för större distributioner.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-131">In Service Fabric, applications are separate from the VMs that run them, meaning you can deploy a large number of applications to a small number of VMs, which can lower overall cost for larger deployments.</span></span>
* <span data-ttu-id="ee5e9-132">Den Service Fabric plattform kan köras var som helst som har Windows Server- eller Linux-datorer, oavsett om Azure eller lokalt.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-132">The Service Fabric platform can run anywhere that has Windows Server or Linux machines, whether it's Azure or on-premises.</span></span> <span data-ttu-id="ee5e9-133">Plattformen tillhandahåller ett Abstraktionslager över underliggande infrastruktur så att programmet kan köras på olika miljöer.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-133">The platform provides an abstraction layer over the underlying infrastructure so your application can run on different environments.</span></span> 
* <span data-ttu-id="ee5e9-134">Hantering av distribuerade program.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-134">Distributed application management.</span></span> <span data-ttu-id="ee5e9-135">Service Fabric är en plattform som värd för distribuerade program, men även hjälper dig att hantera livscykeln oberoende av värd VM eller datorn livscykel.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-135">Service Fabric is a platform that not only hosts distributed applications, but also helps manage their lifecycle independently of the hosting VM or machine lifecycle.</span></span>

## <a name="application-architecture"></a><span data-ttu-id="ee5e9-136">Programarkitektur</span><span class="sxs-lookup"><span data-stu-id="ee5e9-136">Application architecture</span></span>
<span data-ttu-id="ee5e9-137">Arkitekturen för en Cloud Services-program innehåller vanligtvis ett stort antal externa tjänstberoenden som Service Bus, Azure Table och Blob Storage, SQL, Redis och andra att hantera tillstånd och data för ett program och kommunikation mellan webb och Arbetsroller i en distribution med molntjänster.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-137">The architecture of a Cloud Services application usually includes numerous external service dependencies, such as Service Bus, Azure Table and Blob Storage, SQL, Redis, and others to manage the state and data of an application and communication between Web and Worker Roles in a Cloud Services deployment.</span></span> <span data-ttu-id="ee5e9-138">Ett exempel på en fullständig Cloud Services-program kan se ut så här:</span><span class="sxs-lookup"><span data-stu-id="ee5e9-138">An example of a complete Cloud Services application might look like this:</span></span>  

![Cloud Services-arkitektur][9]

<span data-ttu-id="ee5e9-140">Service Fabric-program kan också välja att använda samma externa tjänster i en fullständig ansökan.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-140">Service Fabric applications can also choose to use the same external services in a complete application.</span></span> <span data-ttu-id="ee5e9-141">I det här exemplet molntjänster arkitektur är den enklaste migreringsvägen från molntjänster till Service Fabric att ersätta molntjänster distributionen med ett Service Fabric-program, hålla övergripande arkitektur samma.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-141">Using this example Cloud Services architecture, the simplest migration path from Cloud Services to Service Fabric is to replace only the Cloud Services deployment with a Service Fabric application, keeping the overall architecture the same.</span></span> <span data-ttu-id="ee5e9-142">Webb- och arbetsroller kan överföras till Service Fabric tillståndslösa tjänster med minimala kodändringar.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-142">The Web and Worker Roles can be ported to Service Fabric stateless services with minimal code changes.</span></span>

![Arkitektur för Service Fabric efter enkel migrering][10]

<span data-ttu-id="ee5e9-144">I det här skedet bör systemet fortsätta att fungera på samma sätt som innan.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-144">At this stage, the system should continue to work the same as before.</span></span> <span data-ttu-id="ee5e9-145">Dra fördel av Service Fabric tillståndskänslig funktioner, externa tillstånd lagrar kan vara internalized som stateful services tillämpliga.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-145">Taking advantage of Service Fabric's stateful features, external state stores can be internalized as stateful services where applicable.</span></span> <span data-ttu-id="ee5e9-146">Detta är mer komplicerat än en enkel migrering av webb- och arbetsroller till Service Fabric tillståndslösa tjänster, eftersom den kräver att skriva anpassade tjänster som erbjuder motsvarande funktioner för tillämpningsprogrammet som externa tjänster gjorde före.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-146">This is more involved than a simple migration of Web and Worker Roles to Service Fabric stateless services, as it requires writing custom services that provide equivalent functionality to your application as the external services did before.</span></span> <span data-ttu-id="ee5e9-147">Fördelarna med detta inkluderar:</span><span class="sxs-lookup"><span data-stu-id="ee5e9-147">The benefits of doing so include:</span></span> 

* <span data-ttu-id="ee5e9-148">Ta bort externa beroenden</span><span class="sxs-lookup"><span data-stu-id="ee5e9-148">Removing external dependencies</span></span> 
* <span data-ttu-id="ee5e9-149">Enhetlig distribution, hantering och uppgradera modeller.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-149">Unifying the deployment, management, and upgrade models.</span></span> 

<span data-ttu-id="ee5e9-150">Ett exempel resulterande arkitektur internalizing dessa tjänster kan se ut så här:</span><span class="sxs-lookup"><span data-stu-id="ee5e9-150">An example resulting architecture of internalizing these services could look like this:</span></span>

![Arkitektur för Service Fabric efter fullständig migrering][11]

## <a name="communication-and-workflow"></a><span data-ttu-id="ee5e9-152">Kommunikation och arbetsflöde</span><span class="sxs-lookup"><span data-stu-id="ee5e9-152">Communication and workflow</span></span>
<span data-ttu-id="ee5e9-153">De flesta Molntjänsten program består av fler än en nivå.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-153">Most Cloud Service applications consist of more than one tier.</span></span> <span data-ttu-id="ee5e9-154">På liknande sätt kan består ett Service Fabric-program av mer än en tjänst (vanligtvis många tjänster).</span><span class="sxs-lookup"><span data-stu-id="ee5e9-154">Similarly, a Service Fabric application consists of more than one service (typically many services).</span></span> <span data-ttu-id="ee5e9-155">Två vanliga kommunikation modeller är direkt kommunikation och via en extern beständig lagring.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-155">Two common communication models are direct communication and via an external durable storage.</span></span>

### <a name="direct-communication"></a><span data-ttu-id="ee5e9-156">Direkt kommunikation</span><span class="sxs-lookup"><span data-stu-id="ee5e9-156">Direct communication</span></span>
<span data-ttu-id="ee5e9-157">Med direkt kommunikation kommunicera nivåer direkt med slutpunkten som exponeras av varje nivå.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-157">With direct communication, tiers can communicate directly through endpoint exposed by each tier.</span></span> <span data-ttu-id="ee5e9-158">I miljöer som molntjänster, detta innebär att välja en instans av en VM-roll, antingen slumpmässigt eller resursallokering för att utjämna belastningen och ansluta till sin slutpunkt direkt med tillståndslös.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-158">In stateless environments such as Cloud Services, this means selecting an instance of a VM role, either randomly or round-robin to balance load, and connecting to its endpoint directly.</span></span>

![Cloud Services direkt kommunikation][5]

 <span data-ttu-id="ee5e9-160">Direkt kommunikation är en gemensam kommunikationsmodell i Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-160">Direct communication is a common communication model in Service Fabric.</span></span> <span data-ttu-id="ee5e9-161">Den viktigaste skillnaden mellan Service Fabric och Cloud Services är den i molntjänster som du ansluter till en virtuell dator medan i Service Fabric ansluta till en tjänst.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-161">The key difference between Service Fabric and Cloud Services is that in Cloud Services you connect to a VM, whereas in Service Fabric you connect to a service.</span></span> <span data-ttu-id="ee5e9-162">Detta är en viktig skillnad några skäl:</span><span class="sxs-lookup"><span data-stu-id="ee5e9-162">This is an important distinction for a couple reasons:</span></span>

* <span data-ttu-id="ee5e9-163">Tjänster i Service Fabric kan inte bindas till virtuella datorer som är värdar för dem. tjänster kan flytta runt i klustret och i själva verket förväntas flytta av olika skäl: resurs belastningsutjämning, redundans, program och infrastrukturen uppgraderingar och placering eller läsa in villkor.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-163">Services in Service Fabric are not bound to the VMs that host them; services may move around in the cluster, and in fact, are expected to move around for various reasons: Resource balancing, failover, application and infrastructure upgrades, and placement or load constraints.</span></span> <span data-ttu-id="ee5e9-164">Detta innebär en tjänstinstans adress kan ändras när som helst.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-164">This means a service instance's address can change at any time.</span></span> 
* <span data-ttu-id="ee5e9-165">En virtuell dator i Service Fabric kan vara värd för flera tjänster med unika slutpunkter.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-165">A VM in Service Fabric can host multiple services, each with unique endpoints.</span></span>

<span data-ttu-id="ee5e9-166">Service Fabric innehåller en service discovery mekanism som kallas tjänsten namngivning, som kan användas för att lösa slutpunkts-adresser av tjänster.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-166">Service Fabric provides a service discovery mechanism, called the Naming Service, which can be used to resolve endpoint addresses of services.</span></span> 

![Service Fabric direkt kommunikation][6]

### <a name="queues"></a><span data-ttu-id="ee5e9-168">Köer</span><span class="sxs-lookup"><span data-stu-id="ee5e9-168">Queues</span></span>
<span data-ttu-id="ee5e9-169">En gemensam mekanism för kommunikation mellan nivåer i tillståndslös miljöer, till exempel molntjänster är att använda en extern lagringsenhet kö för att lagra varaktigt arbetsuppgifter från en nivå till en annan.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-169">A common communication mechanism between tiers in stateless environments such as Cloud Services is to use an external storage queue to durably store work tasks from one tier to another.</span></span> <span data-ttu-id="ee5e9-170">Ett vanligt scenario är en webbnivå som skickar jobb till en Azure eller Service Bus där Arbetsrollen instanser kan status Created och bearbeta jobben.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-170">A common scenario is a web tier that sends jobs to an Azure Queue or Service Bus where Worker Role instances can dequeue and process the jobs.</span></span>

![Cloud Services kön kommunikation][7]

<span data-ttu-id="ee5e9-172">Samma kommunikation modell kan användas i Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-172">The same communication model can be used in Service Fabric.</span></span> <span data-ttu-id="ee5e9-173">Detta kan vara användbart när du migrerar ett befintligt Cloud Services-program till Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-173">This can be useful when migrating an existing Cloud Services application to Service Fabric.</span></span> 

![Service Fabric direkt kommunikation][8]

## <a name="next-steps"></a><span data-ttu-id="ee5e9-175">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="ee5e9-175">Next Steps</span></span>
<span data-ttu-id="ee5e9-176">Den enklaste migreringsvägen från molntjänster till Service Fabric är att ersätta molntjänster distributionen med ett Service Fabric-program, hålla övergripande arkitektur i ditt program ungefär samma.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-176">The simplest migration path from Cloud Services to Service Fabric is to replace only the Cloud Services deployment with a Service Fabric application, keeping the overall architecture of your application roughly the same.</span></span> <span data-ttu-id="ee5e9-177">Följande artikel innehåller en guide för att omvandla en webbplats eller en Worker-rollen till en tillståndslös Service Fabric-tjänst.</span><span class="sxs-lookup"><span data-stu-id="ee5e9-177">The following article provides a guide to help convert a Web or Worker Role to a Service Fabric stateless service.</span></span>

* [<span data-ttu-id="ee5e9-178">Enkel migrering: konvertera en webbplats eller en Worker-rollen till en tillståndslös Service Fabric-tjänst</span><span class="sxs-lookup"><span data-stu-id="ee5e9-178">Simple migration: convert a Web or Worker Role to a Service Fabric stateless service</span></span>](service-fabric-cloud-services-migration-worker-role-stateless-service.md)

<!--Image references-->
[1]: ./media/service-fabric-cloud-services-migration-differences/topology-cloud-services.png
[2]: ./media/service-fabric-cloud-services-migration-differences/topology-service-fabric.png
[5]: ./media/service-fabric-cloud-services-migration-differences/cloud-service-communication-direct.png
[6]: ./media/service-fabric-cloud-services-migration-differences/service-fabric-communication-direct.png
[7]: ./media/service-fabric-cloud-services-migration-differences/cloud-service-communication-queues.png
[8]: ./media/service-fabric-cloud-services-migration-differences/service-fabric-communication-queues.png
[9]: ./media/service-fabric-cloud-services-migration-differences/cloud-services-architecture.png
[10]: ./media/service-fabric-cloud-services-migration-differences/service-fabric-architecture-simple.png
[11]: ./media/service-fabric-cloud-services-migration-differences/service-fabric-architecture-full.png
