---
title: "aaaPlanning hello kapacitet för Service Fabric-kluster | Microsoft Docs"
description: "Service Fabric-kluster kapacitetsplaneringsöverväganden. Nodetypes får, hållbarhet och tillförlitlighet nivåer"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: 4c584f4a-cb1f-400c-b61f-1f797f11c982
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/24/2017
ms.author: chackdan
ms.openlocfilehash: 83272ce7fefe698eef755cf66493c2874cc3b120
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-cluster-capacity-planning-considerations"></a><span data-ttu-id="14e19-104">Service Fabric-kluster kapacitetsplaneringsöverväganden</span><span class="sxs-lookup"><span data-stu-id="14e19-104">Service Fabric cluster capacity planning considerations</span></span>
<span data-ttu-id="14e19-105">För alla Produktionsdistribution är kapacitetsplanering ett viktigt steg.</span><span class="sxs-lookup"><span data-stu-id="14e19-105">For any production deployment, capacity planning is an important step.</span></span> <span data-ttu-id="14e19-106">Här är en del av hello objekten som du har tooconsider som en del av den här processen.</span><span class="sxs-lookup"><span data-stu-id="14e19-106">Here are some of hello items that you have tooconsider as a part of that process.</span></span>

* <span data-ttu-id="14e19-107">hello antal typer toostart ditt kluster behov ut med</span><span class="sxs-lookup"><span data-stu-id="14e19-107">hello number of node types your cluster needs toostart out with</span></span>
* <span data-ttu-id="14e19-108">hello egenskaperna för varje nodtyp (storlek, primära internetuppkopplad, antalet virtuella datorer, osv.)</span><span class="sxs-lookup"><span data-stu-id="14e19-108">hello properties of each of node type (size, primary, internet facing, number of VMs, etc.)</span></span>
* <span data-ttu-id="14e19-109">hello tillförlitlighet och hållbarhet egenskaper hello kluster</span><span class="sxs-lookup"><span data-stu-id="14e19-109">hello reliability and durability characteristics of hello cluster</span></span>

<span data-ttu-id="14e19-110">Låt oss gå igenom objekten.</span><span class="sxs-lookup"><span data-stu-id="14e19-110">Let us briefly review each of these items.</span></span>

## <a name="hello-number-of-node-types-your-cluster-needs-toostart-out-with"></a><span data-ttu-id="14e19-111">hello antal typer toostart ditt kluster behov ut med</span><span class="sxs-lookup"><span data-stu-id="14e19-111">hello number of node types your cluster needs toostart out with</span></span>
<span data-ttu-id="14e19-112">Du måste först toofigure reda på vilka hello-klustret som du skapar kommer toobe som används för och vilka typer av program som du planerar toodeploy i det här klustret.</span><span class="sxs-lookup"><span data-stu-id="14e19-112">First, you need toofigure out what hello cluster you are creating is going toobe used for and what kinds of applications you are planning toodeploy into this cluster.</span></span> <span data-ttu-id="14e19-113">Om du inte radera på hello syftet hello klustret, du troligen ännu inte klar tooenter hello kapacitetsplanering processen.</span><span class="sxs-lookup"><span data-stu-id="14e19-113">If you are not clear on hello purpose of hello cluster, you are most likely not yet ready tooenter hello capacity planning process.</span></span>

<span data-ttu-id="14e19-114">Upprätta hello antalet nodtyper klustret måste toostart ut med.</span><span class="sxs-lookup"><span data-stu-id="14e19-114">Establish hello number of node types your cluster needs toostart out with.</span></span>  <span data-ttu-id="14e19-115">Varje nodtyp är mappade tooa Skaluppsättning för virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="14e19-115">Each node type is mapped tooa Virtual Machine Scale Set.</span></span> <span data-ttu-id="14e19-116">Varje nodtyp kan sedan skalas upp eller ned separat, har olika uppsättningar av öppna portar och kan ha olika kapacitetsdata.</span><span class="sxs-lookup"><span data-stu-id="14e19-116">Each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="14e19-117">Så handlar hello beslut hello antalet nodtyper i stort sett om toohello följande överväganden:</span><span class="sxs-lookup"><span data-stu-id="14e19-117">So hello decision of hello number of node types essentially comes down toohello following considerations:</span></span>

* <span data-ttu-id="14e19-118">Har ditt program flera tjänster och behöver någon av dem toobe offentliga eller mot internet?</span><span class="sxs-lookup"><span data-stu-id="14e19-118">Does your application have multiple services, and do any of them need toobe public or internet facing?</span></span> <span data-ttu-id="14e19-119">Vanliga program innehåller en frontend-gateway-tjänst som tar emot indata från en klient och en eller flera backend-tjänster som kommunicerar med hello frontend-tjänster.</span><span class="sxs-lookup"><span data-stu-id="14e19-119">Typical applications contain a front-end gateway service that receives input from a client, and one or more back-end services that communicate with hello front-end services.</span></span> <span data-ttu-id="14e19-120">Så i detta fall kan få du med minst två nodtyper.</span><span class="sxs-lookup"><span data-stu-id="14e19-120">So in this case, you end up having at least two node types.</span></span>
* <span data-ttu-id="14e19-121">Har dina tjänster (som utgör ditt program) annan infrastrukturbehov som större RAM-minne eller högre CPU-cykler?</span><span class="sxs-lookup"><span data-stu-id="14e19-121">Do your services (that make up your application) have different infrastructure needs such as greater RAM or higher CPU cycles?</span></span> <span data-ttu-id="14e19-122">Låt oss anta hello programmet som du vill toodeploy innehåller en frontend-tjänst och en backend tjänst.</span><span class="sxs-lookup"><span data-stu-id="14e19-122">For example, let us assume that hello application that you want toodeploy contains a front-end service and a back-end service.</span></span> <span data-ttu-id="14e19-123">hello frontend-tjänsten kan köras på mindre virtuella datorer (VM-storlekar som D2) som har portar är öppna toohello internet.</span><span class="sxs-lookup"><span data-stu-id="14e19-123">hello front-end service can run on smaller VMs (VM sizes like D2) that have ports open toohello internet.</span></span>  <span data-ttu-id="14e19-124">hello backend-tjänst, men beräkning intensiva och behov toorun på större virtuella datorer (med VM-storlekar som D4 D6, D15) som inte är internet riktas.</span><span class="sxs-lookup"><span data-stu-id="14e19-124">hello back-end service, however, is computation intensive and needs toorun on larger VMs (with VM sizes like D4, D6, D15) that are not internet facing.</span></span>
  
  <span data-ttu-id="14e19-125">I det här exemplet, men du kan välja tooput alla Hej tjänster på en nodtyp, rekommenderar vi att du ska placera dem i ett kluster med två nodtyper.</span><span class="sxs-lookup"><span data-stu-id="14e19-125">In this example, although you can decide tooput all hello services on one node type, we recommended that you place them in a cluster with two node types.</span></span>  <span data-ttu-id="14e19-126">Därmed kan varje nod toohave distinkta egenskaper, till exempel internet-anslutning eller VM-storlek.</span><span class="sxs-lookup"><span data-stu-id="14e19-126">This allows for each node type toohave distinct properties such as internet connectivity or VM size.</span></span> <span data-ttu-id="14e19-127">hello antal virtuella datorer kan skalas oberoende av varandra, samt.</span><span class="sxs-lookup"><span data-stu-id="14e19-127">hello number of VMs can be scaled independently, as well.</span></span>  
* <span data-ttu-id="14e19-128">Eftersom du inte förutsäga framtida hello med fakta som du känner av och besluta om hello antalet nodtyper som dina program behöver toostart med.</span><span class="sxs-lookup"><span data-stu-id="14e19-128">Since you cannot predict hello future, go with facts you know of and decide on hello number of node types that your applications need toostart with.</span></span> <span data-ttu-id="14e19-129">Du kan alltid lägga till eller ta bort nodtyper senare.</span><span class="sxs-lookup"><span data-stu-id="14e19-129">You can always add or remove node types later.</span></span> <span data-ttu-id="14e19-130">Service Fabric-klustret måste ha minst en nodtyp.</span><span class="sxs-lookup"><span data-stu-id="14e19-130">A Service Fabric cluster must have at least one node type.</span></span>

## <a name="hello-properties-of-each-node-type"></a><span data-ttu-id="14e19-131">hello egenskaper för varje nodtyp</span><span class="sxs-lookup"><span data-stu-id="14e19-131">hello properties of each node type</span></span>
<span data-ttu-id="14e19-132">Hej **nodtypen** kan ses som motsvarande tooroles i molntjänster.</span><span class="sxs-lookup"><span data-stu-id="14e19-132">hello **node type** can be seen as equivalent tooroles in Cloud Services.</span></span> <span data-ttu-id="14e19-133">Nodtyper definiera hello VM-storlekar, hello antal virtuella datorer och deras egenskaper.</span><span class="sxs-lookup"><span data-stu-id="14e19-133">Node types define hello VM sizes, hello number of VMs, and their properties.</span></span> <span data-ttu-id="14e19-134">Varje nodtyp som definieras i Service Fabric-klustret har konfigurerats som en separat virtuella datorns skaluppsättning.</span><span class="sxs-lookup"><span data-stu-id="14e19-134">Every node type that is defined in a Service Fabric cluster is set up as a separate virtual machine scale set.</span></span> <span data-ttu-id="14e19-135">Skaluppsättning för virtuell dator är en Azure compute-resurs som du kan använda toodeploy och hantera en samling med virtuella datorer som en uppsättning.</span><span class="sxs-lookup"><span data-stu-id="14e19-135">Virtual machine scale set is an Azure compute resource you can use toodeploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="14e19-136">Varje nodtyp som definieras som olika virtuella datorn sedan kan skalas upp eller ned separat, har olika uppsättningar av öppna portar och kan ha olika kapacitetsdata.</span><span class="sxs-lookup"><span data-stu-id="14e19-136">Being defined as distinct virtual machine scale set, each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span>

<span data-ttu-id="14e19-137">Läs [dokumentet](service-fabric-cluster-nodetypes.md) för mer information om hello relation för nodetypes får toovirtual datorns skaluppsättning hur tooRDP till en hello instanser öppna nya portar osv.</span><span class="sxs-lookup"><span data-stu-id="14e19-137">Read [this document](service-fabric-cluster-nodetypes.md) for more details on hello relationship of Nodetypes toovirtual machine scale set, how tooRDP into one of hello instances, open new ports etc.</span></span>

<span data-ttu-id="14e19-138">Klustret kan ha fler än en nodtyp, men hello primära nodtypen (hello förstnämnda som du definierar i hello portal) måste ha minst fem datorer för kluster som används för produktionsarbetsbelastningar (eller minst tre virtuella datorer för testkluster).</span><span class="sxs-lookup"><span data-stu-id="14e19-138">Your cluster can have more than one node type, but hello primary node type (hello first one that you define on hello portal) must have at least five VMs for clusters used for production workloads (or at least three VMs for test clusters).</span></span> <span data-ttu-id="14e19-139">Om du skapar hello-kluster med hjälp av en Resource Manager-mall, leta efter **är primära** attribut under hello nod typdefinition.</span><span class="sxs-lookup"><span data-stu-id="14e19-139">If you are creating hello cluster using a Resource Manager template, then look for **is Primary** attribute under hello node type definition.</span></span> <span data-ttu-id="14e19-140">hello primära nodtypen är hello nodtypen Service Fabric systemtjänster placering.</span><span class="sxs-lookup"><span data-stu-id="14e19-140">hello primary node type is hello node type where Service Fabric system services are placed.</span></span>  

### <a name="primary-node-type"></a><span data-ttu-id="14e19-141">Primära nodtypen</span><span class="sxs-lookup"><span data-stu-id="14e19-141">Primary node type</span></span>
<span data-ttu-id="14e19-142">För ett kluster med flera nodtyper måste toochoose en av dem toobe primära.</span><span class="sxs-lookup"><span data-stu-id="14e19-142">For a cluster with multiple node types, you need toochoose one of them toobe primary.</span></span> <span data-ttu-id="14e19-143">Här följer primära nodtypen hello egenskaper:</span><span class="sxs-lookup"><span data-stu-id="14e19-143">Here are hello characteristics of a primary node type:</span></span>

* <span data-ttu-id="14e19-144">Hej **minsta storlek på virtuella datorer** för hello primära nodtypen bestäms av hello **hållbarhetsnivån** du väljer.</span><span class="sxs-lookup"><span data-stu-id="14e19-144">hello **minimum size of VMs** for hello primary node type is determined by hello **durability tier** you choose.</span></span> <span data-ttu-id="14e19-145">hello standardvärdet för hello hållbarhetsnivån är Brons.</span><span class="sxs-lookup"><span data-stu-id="14e19-145">hello default for hello durability tier is Bronze.</span></span> <span data-ttu-id="14e19-146">Rulla nedåt för information om vilka hello hållbarhetsnivån är och hello värden kan det ta.</span><span class="sxs-lookup"><span data-stu-id="14e19-146">Scroll down for details on what hello durability tier is and hello values it can take.</span></span>  
* <span data-ttu-id="14e19-147">Hej **minsta antal virtuella datorer** för hello primära nodtypen bestäms av hello **tillförlitlighetsnivån** du väljer.</span><span class="sxs-lookup"><span data-stu-id="14e19-147">hello **minimum number of VMs** for hello primary node type is determined by hello **reliability tier** you choose.</span></span> <span data-ttu-id="14e19-148">hello standardvärdet för hello tillförlitlighetsnivån är Silver.</span><span class="sxs-lookup"><span data-stu-id="14e19-148">hello default for hello reliability tier is Silver.</span></span> <span data-ttu-id="14e19-149">Rulla nedåt för information om vilka hello tillförlitlighetsnivån är och hello värden kan det ta.</span><span class="sxs-lookup"><span data-stu-id="14e19-149">Scroll down for details on what hello reliability tier is and hello values it can take.</span></span> 


* <span data-ttu-id="14e19-150">hello Service Fabric-systemtjänster (till exempel hello Klusterhanterare för tjänsten eller Image Store service) är placerad hello primära nodtypen och så hello tillförlitlighet och hållbarhet hello kluster bestäms av hello nivå värdet och hållbarhet tillförlitlighetsnivån värdet som du väljer för hello primära nodtypen.</span><span class="sxs-lookup"><span data-stu-id="14e19-150">hello Service Fabric system services (for example, hello Cluster Manager service or Image Store service) are placed on hello primary node type and so hello reliability and durability of hello cluster is determined by hello reliability tier value and durability tier value you select for hello primary node type.</span></span>

![<span data-ttu-id="14e19-151">Skärmbild av ett kluster med två nodtyper</span><span class="sxs-lookup"><span data-stu-id="14e19-151">Screen shot of a cluster that has two Node Types</span></span> ][SystemServices]

### <a name="non-primary-node-type"></a><span data-ttu-id="14e19-152">Icke-primära nodtypen</span><span class="sxs-lookup"><span data-stu-id="14e19-152">Non-primary node type</span></span>
<span data-ttu-id="14e19-153">Det finns en primära nodtypen och hello resten av dem är icke-primär för ett kluster med flera nodtyper.</span><span class="sxs-lookup"><span data-stu-id="14e19-153">For a cluster with multiple node types, there is one primary node type and hello rest of them are non-primary.</span></span> <span data-ttu-id="14e19-154">Här följer hello egenskaperna för en icke-primära nodtypen:</span><span class="sxs-lookup"><span data-stu-id="14e19-154">Here are hello characteristics of a non-primary node type:</span></span>

* <span data-ttu-id="14e19-155">hello minimistorleken på virtuella datorer för den här nodtypen bestäms av hello hållbarhetsnivån som du väljer.</span><span class="sxs-lookup"><span data-stu-id="14e19-155">hello minimum size of VMs for this node type is determined by hello durability tier you choose.</span></span> <span data-ttu-id="14e19-156">hello standardvärdet för hello hållbarhetsnivån är Brons.</span><span class="sxs-lookup"><span data-stu-id="14e19-156">hello default for hello durability tier is Bronze.</span></span> <span data-ttu-id="14e19-157">Rulla nedåt för information om vilka hello hållbarhetsnivån är och hello värden kan det ta.</span><span class="sxs-lookup"><span data-stu-id="14e19-157">Scroll down for details on what hello durability tier is and hello values it can take.</span></span>  
* <span data-ttu-id="14e19-158">hello minsta antal virtuella datorer för den här nodtypen kan vara en.</span><span class="sxs-lookup"><span data-stu-id="14e19-158">hello minimum number of VMs for this node type can be one.</span></span> <span data-ttu-id="14e19-159">Dock bör du välja det här antalet baseras på hello antal repliker av hello/programtjänster som du vill att toorun i den här nodtypen.</span><span class="sxs-lookup"><span data-stu-id="14e19-159">However you should choose this number based on hello number of replicas of hello application/services that you would like toorun in this node type.</span></span> <span data-ttu-id="14e19-160">hello antal virtuella datorer i en nodtyp kan ökas när du har distribuerat hello klustret.</span><span class="sxs-lookup"><span data-stu-id="14e19-160">hello number of VMs in a node type can be increased after you have deployed hello cluster.</span></span>

## <a name="hello-durability-characteristics-of-hello-cluster"></a><span data-ttu-id="14e19-161">hello hållbarhet egenskaper hello kluster</span><span class="sxs-lookup"><span data-stu-id="14e19-161">hello durability characteristics of hello cluster</span></span>
<span data-ttu-id="14e19-162">Hej hållbarhetsnivån är används tooindicate toohello system hello privilegier dina virtuella datorer har med hello underliggande Azure-infrastrukturen.</span><span class="sxs-lookup"><span data-stu-id="14e19-162">hello durability tier is used tooindicate toohello system hello privileges that your VMs have with hello underlying Azure infrastructure.</span></span> <span data-ttu-id="14e19-163">I hello primära nodtypen kan den här behörigheten Service Fabric toopause varje VM nivån infrastruktur begäran (till exempel omstart VM, VM avbildningsåterställning eller VM-migrering) som påverkar hello kvorum kraven för hello systemtjänster och tillståndskänsliga tjänster.</span><span class="sxs-lookup"><span data-stu-id="14e19-163">In hello primary node type, this privilege allows Service Fabric toopause any VM level infrastructure request (such as a VM reboot, VM reimage, or VM migration) that impact hello quorum requirements for hello system services and your stateful services.</span></span> <span data-ttu-id="14e19-164">I hello icke-primär nodtyper kan den här behörigheten Service Fabric toopause alla VM nivån infrastruktur förfrågningar som VM omstart, avbildningsåterställning VM, VM-migrering osv., som påverkar hello kvorum kraven för din tillståndskänsliga tjänster som körs i den.</span><span class="sxs-lookup"><span data-stu-id="14e19-164">In hello non-primary node types, this privilege allows Service Fabric toopause any VM level infrastructure requests like VM reboot, VM reimage, VM migration etc., that impact hello quorum requirements for your stateful services running in it.</span></span>

<span data-ttu-id="14e19-165">Den här behörigheten uttrycks i hello följande värden:</span><span class="sxs-lookup"><span data-stu-id="14e19-165">This privilege is expressed in hello following values:</span></span>

* <span data-ttu-id="14e19-166">Guld - jobb kan pausas under en period på två timmar per UD hello-infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="14e19-166">Gold - hello infrastructure Jobs can be paused for a duration of two hours per UD.</span></span> <span data-ttu-id="14e19-167">Guld hållbarhet kan endast aktiveras fullständig nod VM SKU: er som D15_V2 G5 osv.</span><span class="sxs-lookup"><span data-stu-id="14e19-167">Gold durability can be enabled only on full node VM skus like D15_V2, G5 etc.</span></span>
* <span data-ttu-id="14e19-168">Silver - hello infrastruktur jobb kan pausas för en varaktighet på 10 minuter per UD och är tillgänglig på alla standard virtuella datorer med enkel kärna och senare.</span><span class="sxs-lookup"><span data-stu-id="14e19-168">Silver - hello infrastructure Jobs can be paused for a duration of 10 minutes per UD and is available on all standard VMs of single core and above.</span></span>
* <span data-ttu-id="14e19-169">Brons - inga privilegier.</span><span class="sxs-lookup"><span data-stu-id="14e19-169">Bronze - No privileges.</span></span> <span data-ttu-id="14e19-170">Detta är standardvärdet för hello.</span><span class="sxs-lookup"><span data-stu-id="14e19-170">This is hello default.</span></span> <span data-ttu-id="14e19-171">Endast använda den här nivån av hållbarhet för nodtyper som kör _endast_ tillståndslösa arbetsbelastningar.</span><span class="sxs-lookup"><span data-stu-id="14e19-171">Only use this durability level for Node Types that run _only_ stateless workloads.</span></span> 

> [!WARNING]
> <span data-ttu-id="14e19-172">Nodetypes får körs med Brons hållbarhet hämta _inga privilegier_.</span><span class="sxs-lookup"><span data-stu-id="14e19-172">NodeTypes running with Bronze durability obtain _no privileges_.</span></span> <span data-ttu-id="14e19-173">Det innebär att infrastrukturen jobb som påverkar din tillståndslösa arbetsbelastningar inte stoppats eller fördröjd.</span><span class="sxs-lookup"><span data-stu-id="14e19-173">This means that infrastructure jobs that impact your stateless workloads will not be stopped or delayed.</span></span> <span data-ttu-id="14e19-174">Det är möjligt att sådan jobb fortfarande kan påverka dina arbetsbelastningar, orsaka driftsavbrott eller andra problem.</span><span class="sxs-lookup"><span data-stu-id="14e19-174">It is possible that such jobs can still impact your workloads, causing downtime or other issues.</span></span> <span data-ttu-id="14e19-175">För alla slags produktion arbetsbelastning körs med minst Silver rekommenderas.</span><span class="sxs-lookup"><span data-stu-id="14e19-175">For any sort of production workload, running with at least Silver is recommended.</span></span> 
> 

<span data-ttu-id="14e19-176">Du får toochoose hållbarhet nivå för var och en av dina nodtyper. Du kan välja en nodtyp toohave hållbarhet andelen guld eller silver och hello andra har Brons i hello samma kluster. **Måste du upprätthålla en minsta antal 5 noder för alla nodtyper som har en hållbarhet guld eller silver**.</span><span class="sxs-lookup"><span data-stu-id="14e19-176">You get toochoose durability level for each of your node-types.You can choose one node-type toohave a durability level of Gold or silver and hello other have Bronze in hello same cluster.**You must maintain a minimum count of 5 nodes for any node-type that has a durability of Gold or silver**.</span></span> 

<span data-ttu-id="14e19-177">**Fördelarna med att använda Silver eller guld hållbarhet nivåer**</span><span class="sxs-lookup"><span data-stu-id="14e19-177">**Advantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="14e19-178">Minskar hello antal steg i en åtgärd för skalan (det vill säga nodinaktiveringen och ta bort ServiceFabricNodeState anropas automatiskt)</span><span class="sxs-lookup"><span data-stu-id="14e19-178">Reduces hello number of required steps in a scale-in operation (that is, node deactivation and Remove-ServiceFabricNodeState is called automatically)</span></span>
2. <span data-ttu-id="14e19-179">Minskar hello risk för dataförlust på grund av tooa kund-initierad lokalt VM SKU ändring eller de Azure-infrastrukturen åtgärder.</span><span class="sxs-lookup"><span data-stu-id="14e19-179">Reduces hello risk of data loss due tooa customer-initiated in-place VM SKU change operation or Azure infrastructure operations.</span></span>
     
<span data-ttu-id="14e19-180">**Nackdelarna med att använda Silver eller guld hållbarhet nivåer**</span><span class="sxs-lookup"><span data-stu-id="14e19-180">**Disadvantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="14e19-181">Distributioner tooyour Skaluppsättning för virtuell dator och andra relaterade Azure-resurser) kan vara fördröjd, kan tar för lång tid eller blockeras helt efter problem i klustret eller på hello infrastrukturnivå.</span><span class="sxs-lookup"><span data-stu-id="14e19-181">Deployments tooyour Virtual Machine Scale Set and other related Azure resources) can be delayed, can time out, or can be blocked entirely by problems in your cluster or at hello infrastructure level.</span></span> 
2. <span data-ttu-id="14e19-182">Ökar hello antalet [replik Livscykelhändelser](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (till exempel primära växlingar) på grund av tooautomated nod avaktiveringar under Azure-infrastrukturen.</span><span class="sxs-lookup"><span data-stu-id="14e19-182">Increases hello number of [replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (for example, primary swaps) due tooautomated node deactivations during Azure infrastructure operations.</span></span>

### <a name="recommendations-on-when-toouse-silver-or-gold-durability-levels"></a><span data-ttu-id="14e19-183">Rekommendationer för när toouse Silver eller guld hållbarhet nivåer</span><span class="sxs-lookup"><span data-stu-id="14e19-183">Recommendations on when toouse Silver or Gold durability levels</span></span>

<span data-ttu-id="14e19-184">Använd Silver eller guld hållbarhet för alla nodtyper som värd stateful tjänster du förväntar dig tooscale i (minska VM-instanser) ofta, och du föredrar att fördröjas distributionsåtgärder för att förenkla dessa åtgärder för skalan.</span><span class="sxs-lookup"><span data-stu-id="14e19-184">Use Silver or Gold durability for all node types that host stateful services you expect tooscale-in (reduce VM instance count) frequently, and you would prefer that deployment operations be delayed in favor of simplifying these scale-in operations.</span></span> <span data-ttu-id="14e19-185">hello skalbar scenarier (lägga till instanser för virtuella datorer) play inte till valet av hållbarhetsnivån hello, bara att skala i har.</span><span class="sxs-lookup"><span data-stu-id="14e19-185">hello scale-out scenarios (adding VMs instances) do not play into your choice of hello durability tier, only scale-in does.</span></span>

### <a name="operational-recommendations-for-hello-node-type-that-you-have-set-toosilver-or-gold-durability-level"></a><span data-ttu-id="14e19-186">Operativa rekommendationer för hello nod skriver du att du har angett toosilver eller guld hållbarhet nivå.</span><span class="sxs-lookup"><span data-stu-id="14e19-186">Operational Recommendations for hello node type that you have set toosilver or gold durability level.</span></span>

1. <span data-ttu-id="14e19-187">Skydda klustret och program felfria vid alla tidpunkter och se till att program svarar tooall [tjänsten replik Livscykelhändelser](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (t.ex. replik i build har fastnat) inom rimlig tid.</span><span class="sxs-lookup"><span data-stu-id="14e19-187">Keep your cluster and applications healthy at all times, and make sure that applications respond tooall [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion.</span></span>
2. <span data-ttu-id="14e19-188">Anta säkrare sätt toomake VM SKU-ändra (skala upp eller ned): ändra hello VM SKU Skalningsuppsättning en virtuell dator är natur osäkra transaktionen och det bör undvikas om möjligt.</span><span class="sxs-lookup"><span data-stu-id="14e19-188">Adopt safer ways toomake a VM SKU change (Scale up/down): Changing hello VM SKU of a Virtual Machine Scale Set is inherently an unsafe operation and so should be avoided if possible.</span></span> <span data-ttu-id="14e19-189">Här är hello process som du kan följa tooavoid vanliga problem.</span><span class="sxs-lookup"><span data-stu-id="14e19-189">Here is hello process you can follow tooavoid common issues.</span></span>
    - <span data-ttu-id="14e19-190">**För icke-primära nodetypes får:** rekommenderas att du skapar nya Virtual Machine Scale Set, ändra hello service placering tooinclude hello nya virtuella datorn/noden Villkorstyp och sedan minska hello gamla Virtual Machine Scale Set instansen antal too0, en nod i taget (detta är toomake till att borttagningen av hello noder inte påverkar hello tillförlitlighet hello kluster).</span><span class="sxs-lookup"><span data-stu-id="14e19-190">**For non-primary nodetypes:** It is recommended that you create new Virtual Machine Scale Set, modify hello service placement constraint tooinclude hello new Virtual Machine Scale Set/node type and then reduce hello old Virtual Machine Scale Set instance count too0, one node at a time (this is toomake sure that removal of hello nodes do not impact hello reliability of hello cluster).</span></span>
    - <span data-ttu-id="14e19-191">**För hello primära nodetype:** vår rekommendation är att du inte ändrar VM SKU hello primära nodtypen.</span><span class="sxs-lookup"><span data-stu-id="14e19-191">**For hello primary nodetype:** Our recommendation is that you do not change VM SKU of hello primary node type.</span></span> <span data-ttu-id="14e19-192">Om hello skäl för hello nya SKU är kapacitet, vi rekommenderar att lägga till flera instanser eller skapa ett nytt kluster.</span><span class="sxs-lookup"><span data-stu-id="14e19-192">If hello reason for hello new SKU is capacity, we recommend adding more instances or if possible, create a new cluster.</span></span> <span data-ttu-id="14e19-193">Om du inte välja hello se ändringar toohello virtuella skala ange Model definition tooreflect nya SKU.</span><span class="sxs-lookup"><span data-stu-id="14e19-193">If you have no choice, then make modifications toohello Virtual Machine Scale Set Model definition tooreflect hello new SKU.</span></span> <span data-ttu-id="14e19-194">Om klustret har endast en nodetype, kontrollerar du att alla tillståndskänsliga program svarar tooall [tjänsten replik Livscykelhändelser](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (t.ex. replik i build har fastnat) i rimlig tid och att tjänsten repliken återskapa varaktighet är mindre än fem minuter (Silver hållbarhet nivå).</span><span class="sxs-lookup"><span data-stu-id="14e19-194">If your cluster has only one nodetype, then make sure that all your stateful applications respond tooall [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion and that your service replica rebuild duration is less than five minutes (for Silver durability level).</span></span> 


> [!WARNING]
> <span data-ttu-id="14e19-195">Ändra hello VM SKU-storleken för Skalningsuppsättningar inte körs på minst Silver hållbarhet är inte rekommenderade.</span><span class="sxs-lookup"><span data-stu-id="14e19-195">Changing hello VM SKU Size for VM Scale Sets not running at least Silver durability is not recommened.</span></span> <span data-ttu-id="14e19-196">Ändra storlek på VM-SKU är skadliga data på plats-infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="14e19-196">Changing VM SKU Size is a data-destructive in-place infrastructure operation.</span></span> <span data-ttu-id="14e19-197">Utan någon möjlighet toodelay eller övervaka den här ändringen är det möjligt att hello åtgärden kan orsaka dataloss för tillståndskänsliga tjänster eller göra andra oförutsebara operativa problem, även för tillståndslösa arbetsbelastningar.</span><span class="sxs-lookup"><span data-stu-id="14e19-197">Without at least some ability toodelay or monitor this change, it is possible that hello operation can cause dataloss for stateful services or cause other unforseen operational issues, even for stateless workloads.</span></span> 
> 
    
3. <span data-ttu-id="14e19-198">Underhåll en minsta antal fem noder för en Skalningsuppsättning virtuell dator som har aktiverat MR</span><span class="sxs-lookup"><span data-stu-id="14e19-198">Maintain a minimum count of five nodes for any Virtual Machine Scale Set that has MR enabled</span></span>
4. <span data-ttu-id="14e19-199">Inte ta bort slumpmässiga VM-instanser måste alltid använda Virtual Machine Scale Set skala ned funktionen.</span><span class="sxs-lookup"><span data-stu-id="14e19-199">Do not delete random VM instances, always use Virtual Machine Scale Set scale down feature.</span></span> <span data-ttu-id="14e19-200">hello borttagning av slumpmässiga VM-instanser har en potentiell skapar obalans i sprids UD och FD hello VM-instans.</span><span class="sxs-lookup"><span data-stu-id="14e19-200">hello deletion of random VM instances has a potential of creating imbalances in hello VM instance spread across UD and FD.</span></span> <span data-ttu-id="14e19-201">Detta att sänka belastningsutjämning för hello system möjligheten tooproperly bland hello service instanser/Service repliker.</span><span class="sxs-lookup"><span data-stu-id="14e19-201">This imbalance could adversely affect hello systems ability tooproperly load balance amongst hello service instances/Service replicas.</span></span>
6. <span data-ttu-id="14e19-202">Om du använder Autoskala, anger du hello regler så att skala (att ta bort av VM-instanser) görs endast en nod i taget.</span><span class="sxs-lookup"><span data-stu-id="14e19-202">If using Autoscale, then set hello rules such that scale in (removing of VM instances) are done only one node at a time.</span></span> <span data-ttu-id="14e19-203">Det är inte säkert att skala ned mer än en instans i taget.</span><span class="sxs-lookup"><span data-stu-id="14e19-203">Scaling down more than one instance at a time is not safe.</span></span>
7. <span data-ttu-id="14e19-204">Om skalning av primära nodtypen skala du aldrig den ned över vilka hello tillförlitlighetsnivån tillåter.</span><span class="sxs-lookup"><span data-stu-id="14e19-204">If Scaling down a primary node type, you should never scale it down more than what hello reliability tier allows.</span></span>


## <a name="hello-reliability-characteristics-of-hello-cluster"></a><span data-ttu-id="14e19-205">hello tillförlitlighetsegenskaper hello kluster</span><span class="sxs-lookup"><span data-stu-id="14e19-205">hello reliability characteristics of hello cluster</span></span>
<span data-ttu-id="14e19-206">hello tillförlitlighetsnivån används tooset hello antal repliker hello systemtjänster som du vill toorun i det här klustret på hello primära nodtypen.</span><span class="sxs-lookup"><span data-stu-id="14e19-206">hello reliability tier is used tooset hello number of replicas of hello system services that you want toorun in this cluster on hello primary node type.</span></span> <span data-ttu-id="14e19-207">Hej hello fler repliker, hello mer tillförlitlig hello systemtjänsterna är i klustret.</span><span class="sxs-lookup"><span data-stu-id="14e19-207">hello more hello number of replicas, hello more reliable hello system services are in your cluster.</span></span>  

<span data-ttu-id="14e19-208">hello tillförlitlighetsnivån kan ta hello följande värden:</span><span class="sxs-lookup"><span data-stu-id="14e19-208">hello reliability tier can take hello following values:</span></span>

* <span data-ttu-id="14e19-209">Platina - kör hello systemtjänster med en mål-replik ange antal 9</span><span class="sxs-lookup"><span data-stu-id="14e19-209">Platinum - Run hello System services with a target replica set count of 9</span></span>
* <span data-ttu-id="14e19-210">Guld - kör hello systemtjänster med en mål-replik ange antal 7</span><span class="sxs-lookup"><span data-stu-id="14e19-210">Gold - Run hello System services with a target replica set count of 7</span></span>
* <span data-ttu-id="14e19-211">Silver - kör hello systemtjänster med en replik set målantalet 5</span><span class="sxs-lookup"><span data-stu-id="14e19-211">Silver - Run hello System services with a target replica set count of 5</span></span> 
* <span data-ttu-id="14e19-212">Brons - kör hello systemtjänster med en replik set målantalet 3</span><span class="sxs-lookup"><span data-stu-id="14e19-212">Bronze - Run hello System services with a target replica set count of 3</span></span>

> [!NOTE]
> <span data-ttu-id="14e19-213">hello tillförlitlighetsnivån som du väljer bestämmer hello minsta antalet noder som den primära nodtypen måste ha.</span><span class="sxs-lookup"><span data-stu-id="14e19-213">hello reliability tier you choose determines hello minimum number of nodes your primary node type must have.</span></span> 
> 
> 


### <a name="recommendations-for-hello-reliability-tier"></a><span data-ttu-id="14e19-214">Rekommendationer för hello tillförlitlighetsnivån.</span><span class="sxs-lookup"><span data-stu-id="14e19-214">Recommendations for hello reliability tier.</span></span>

 <span data-ttu-id="14e19-215">När du ökar eller minskar hello storleken på ditt kluster (hello summan av VM-instanser i alla nodtyper), måste du uppdatera klustret från ett lager tooanother hello tillförlitlighet.</span><span class="sxs-lookup"><span data-stu-id="14e19-215">When you increase or decrease hello size of your cluster (hello sum of VM instances in all node types), you must update hello reliability of your cluster from one tier tooanother.</span></span> <span data-ttu-id="14e19-216">Detta utlöser hello uppgraderingar nödvändiga toochange hello system services replik set antalet kluster.</span><span class="sxs-lookup"><span data-stu-id="14e19-216">Doing this triggers hello cluster upgrades needed toochange hello system services replica set count.</span></span> <span data-ttu-id="14e19-217">Vänta tills hello uppgradering i förloppet toocomplete innan du gör några andra ändringar toohello klustret, som att lägga till noder.</span><span class="sxs-lookup"><span data-stu-id="14e19-217">Wait for hello upgrade in progress toocomplete before making any other changes toohello cluster, like adding nodes.</span></span>  <span data-ttu-id="14e19-218">Du kan övervaka hello hello uppgraderingen på Service Fabric-Utforskaren eller genom att köra [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span><span class="sxs-lookup"><span data-stu-id="14e19-218">You can monitor hello progress of hello upgrade on Service Fabric Explorer or by running [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span></span>

<span data-ttu-id="14e19-219">Här är hello rekommendation om att välja hello tillförlitlighetsnivån.</span><span class="sxs-lookup"><span data-stu-id="14e19-219">Here is hello recommendation on choosing hello reliability tier.</span></span>

| <span data-ttu-id="14e19-220">**Klusterstorleken**</span><span class="sxs-lookup"><span data-stu-id="14e19-220">**Cluster Size**</span></span> | <span data-ttu-id="14e19-221">**Tillförlitlighetsnivån**</span><span class="sxs-lookup"><span data-stu-id="14e19-221">**Reliability Tier**</span></span> |
| --- | --- |
| <span data-ttu-id="14e19-222">1</span><span class="sxs-lookup"><span data-stu-id="14e19-222">1</span></span> |<span data-ttu-id="14e19-223">Ange inte Hej tillförlitlighetsnivån parametern, beräknar hello systemet</span><span class="sxs-lookup"><span data-stu-id="14e19-223">Do not specify hello Reliability Tier parameter, hello system calculates it</span></span> |
| <span data-ttu-id="14e19-224">3</span><span class="sxs-lookup"><span data-stu-id="14e19-224">3</span></span> |<span data-ttu-id="14e19-225">Brons</span><span class="sxs-lookup"><span data-stu-id="14e19-225">Bronze</span></span> |
| <span data-ttu-id="14e19-226">5 eller 6</span><span class="sxs-lookup"><span data-stu-id="14e19-226">5 or 6</span></span>|<span data-ttu-id="14e19-227">Silver</span><span class="sxs-lookup"><span data-stu-id="14e19-227">Silver</span></span> |
| <span data-ttu-id="14e19-228">7 eller 8</span><span class="sxs-lookup"><span data-stu-id="14e19-228">7 or 8</span></span> |<span data-ttu-id="14e19-229">Guld</span><span class="sxs-lookup"><span data-stu-id="14e19-229">Gold</span></span> |
| <span data-ttu-id="14e19-230">9 och senare</span><span class="sxs-lookup"><span data-stu-id="14e19-230">9 and up</span></span> |<span data-ttu-id="14e19-231">Platina</span><span class="sxs-lookup"><span data-stu-id="14e19-231">Platinum</span></span> |




## <a name="primary-node-type---capacity-guidance"></a><span data-ttu-id="14e19-232">Primära nodtypen - kapacitet vägledning</span><span class="sxs-lookup"><span data-stu-id="14e19-232">Primary node type - Capacity Guidance</span></span>

<span data-ttu-id="14e19-233">Här är hello vägledning för planering av hello primära noden typen kapacitet</span><span class="sxs-lookup"><span data-stu-id="14e19-233">Here is hello guidance for planning hello primary node type capacity</span></span>

1. <span data-ttu-id="14e19-234">**Antal Virtuella instanser toorun produktion arbetsbelastningar i Azure:** måste du ange en primär nod typen minimistorleken på 5.</span><span class="sxs-lookup"><span data-stu-id="14e19-234">**Number of VM instances toorun any production workload in Azure:** You must specify a minimum Primary Node type size of 5.</span></span> 
2. <span data-ttu-id="14e19-235">**Antal Virtuella instanser toorun test arbetsbelastningar i Azure** du kan ange en minsta primära noden typen storlek på 1 eller 3.</span><span class="sxs-lookup"><span data-stu-id="14e19-235">**Number of VM instances toorun test workloads in Azure** You can specify a minimum primary node type size of 1 or 3.</span></span> <span data-ttu-id="14e19-236">Hej ett kluster med noder, körs med en specialkonfiguration och, skala ut från det klustret stöds inte.</span><span class="sxs-lookup"><span data-stu-id="14e19-236">hello one node cluster, runs with a special configuration and so, scale out of that cluster is not supported.</span></span> <span data-ttu-id="14e19-237">hello ett kluster med noder, har inga tillförlitlighet och i Resource Manager-mall du måste ange denna konfiguration tooremove ej (inte inställningsvärde hello configuration räcker inte).</span><span class="sxs-lookup"><span data-stu-id="14e19-237">hello one node cluster, has no reliability and so in your Resource Manager template, you have tooremove/not specify that configuration (not setting hello configuration value is not enough).</span></span> <span data-ttu-id="14e19-238">Om du ställer in hello kluster med en nod ställa in via portalen och sedan hello configuration automatiskt har åtgärdats.</span><span class="sxs-lookup"><span data-stu-id="14e19-238">If you set up hello one node cluster set up via portal, then hello configuration is automatically taken care of.</span></span> <span data-ttu-id="14e19-239">kluster med 1 och 3 noder stöds inte för att köra produktionsarbetsbelastningar.</span><span class="sxs-lookup"><span data-stu-id="14e19-239">1 and 3 node clusters are not supported for running production workloads.</span></span> 
3. <span data-ttu-id="14e19-240">**VM-SKU:** primära nodtypen är där hello systemtjänster kör så hello VM SKU du väljer det, måste vidta till kontot hello övergripande högsta Utjämning av du planera tooplace till hello-kluster.</span><span class="sxs-lookup"><span data-stu-id="14e19-240">**VM SKU:** Primary node type is where hello system services run, so hello VM SKU you choose for it, must take into account hello overall peak load you plan tooplace into hello cluster.</span></span> <span data-ttu-id="14e19-241">Här är en liknelsen tooillustrate vad avses här - Se hello primära nodtypen som din ”lungor”, är det den erbjuder kontroll tooyour hjärna och därför om hello hjärna inte får tillräckligt med kontroll din brödtext drabbas av.</span><span class="sxs-lookup"><span data-stu-id="14e19-241">Here is an analogy tooillustrate what I mean here - Think of hello primary node type as your "Lungs", it is what provides oxygen tooyour brain, and so if hello brain does not get enough oxygen, your body suffers.</span></span> 

<span data-ttu-id="14e19-242">Eftersom hello kapacitetsbehov i ett kluster bestäms av arbetsbelastning du planerar toorun i hello kluster, vi kan inte tillhandahålla kvalitativa vägledning för en viss arbetsbelastning, men här är hello bred vägledning toohelp dig att komma igång</span><span class="sxs-lookup"><span data-stu-id="14e19-242">Since hello capacity needs of a cluster is determined by workload you plan toorun in hello cluster, we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="14e19-243">För produktionsarbetsbelastningar</span><span class="sxs-lookup"><span data-stu-id="14e19-243">For production workloads</span></span> 


- <span data-ttu-id="14e19-244">hello bör VM SKU är Standard D3 Standard D3_V2 eller motsvarande med minst 14 GB lokal SSD.</span><span class="sxs-lookup"><span data-stu-id="14e19-244">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="14e19-245">hello minsta stöds Använd VM SKU är Standard D1 Standard D1_V2 eller motsvarande med minst 14 GB lokal SSD.</span><span class="sxs-lookup"><span data-stu-id="14e19-245">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="14e19-246">Partiell core VM SKU: er som Standard A0 stöds inte för produktionsarbetsbelastningar.</span><span class="sxs-lookup"><span data-stu-id="14e19-246">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="14e19-247">A1 SKU: N stöds inte för produktionsarbetsbelastningar av prestandaskäl.</span><span class="sxs-lookup"><span data-stu-id="14e19-247">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateful-workloads"></a><span data-ttu-id="14e19-248">Icke-primära nodtypen - kapacitet vägledning för tillståndskänsliga arbetsbelastningar</span><span class="sxs-lookup"><span data-stu-id="14e19-248">Non-Primary node type - Capacity Guidance for stateful workloads</span></span>

<span data-ttu-id="14e19-249">Den här vägledningen är för tillståndskänsliga arbetsbelastningar med hjälp av Service fabric [tillförlitliga samlingar eller reliable Actors](service-fabric-choose-framework.md) som körs i hello icke-primära nodtypen.</span><span class="sxs-lookup"><span data-stu-id="14e19-249">This guidance is for stateful Workloads using Service fabric [reliable collections or reliable Actors](service-fabric-choose-framework.md) that you are running in hello non-primary node type.</span></span>


<span data-ttu-id="14e19-250">**Antal VM-instanser:** för produktionsarbetsbelastningar som är tillståndskänslig rekommenderas att köra med det lägsta och mål replikantalet 5.</span><span class="sxs-lookup"><span data-stu-id="14e19-250">**Number of VM instances:** For production workloads that are stateful, it is recommended that you run them with a minimum and target replica count of 5.</span></span> <span data-ttu-id="14e19-251">Det innebär att i stabilt tillstånd du att få en replik (från en replikuppsättning) i varje feldomän och uppgraderingsdomänen.</span><span class="sxs-lookup"><span data-stu-id="14e19-251">This means that in steady state you end up with a replica (from a replica set) in each fault domain and upgrade domain.</span></span> <span data-ttu-id="14e19-252">hello hela tillförlitlighet nivå konceptet för hello primära nodtypen är ett sätt toospecify inställningen för systemtjänster.</span><span class="sxs-lookup"><span data-stu-id="14e19-252">hello whole reliability tier concept for hello primary node type is a way toospecify this setting for system services.</span></span> <span data-ttu-id="14e19-253">Hej så samma gäller tooyour tillståndskänsliga tjänster samt.</span><span class="sxs-lookup"><span data-stu-id="14e19-253">So hello same consideration applies tooyour stateful services as well.</span></span>

<span data-ttu-id="14e19-254">För produktionsarbetsbelastningar är hello minsta rekommenderade icke - primära noden teckenstorlek därför 5, om du kör tillståndskänsliga arbetsbelastningar i den.</span><span class="sxs-lookup"><span data-stu-id="14e19-254">So for production workloads, hello minimum recommended non-Primary Node type size is 5, if you are running stateful workloads in it.</span></span>


<span data-ttu-id="14e19-255">**VM-SKU:** detta är hello nodtypen där ditt program körs, så hello VM SKU du väljer för det, måste ske med kontot hello belastning du planera tooplace på varje nod.</span><span class="sxs-lookup"><span data-stu-id="14e19-255">**VM SKU:** This is hello node type where your application services are running, so hello VM SKU you choose for it, must take into account hello peak load you plan tooplace into each Node.</span></span> <span data-ttu-id="14e19-256">Hej kapacitetsbehov för hello nodetype, bestäms av arbetsbelastning som du planerar toorun i hello kluster, så vi inte kan tillhandahålla kvalitativa vägledning för din specifika arbetsbelastning, men det här är hello bred vägledning toohelp dig att komma igång</span><span class="sxs-lookup"><span data-stu-id="14e19-256">hello capacity needs of hello nodetype, is determined by workload you plan toorun in hello cluster, so we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="14e19-257">För produktionsarbetsbelastningar</span><span class="sxs-lookup"><span data-stu-id="14e19-257">For production workloads</span></span> 

- <span data-ttu-id="14e19-258">hello bör VM SKU är Standard D3 Standard D3_V2 eller motsvarande med minst 14 GB lokal SSD.</span><span class="sxs-lookup"><span data-stu-id="14e19-258">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="14e19-259">hello minsta stöds Använd VM SKU är Standard D1 Standard D1_V2 eller motsvarande med minst 14 GB lokal SSD.</span><span class="sxs-lookup"><span data-stu-id="14e19-259">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="14e19-260">Partiell core VM SKU: er som Standard A0 stöds inte för produktionsarbetsbelastningar.</span><span class="sxs-lookup"><span data-stu-id="14e19-260">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="14e19-261">A1 SKU: N stöds inte specifikt för produktionsarbetsbelastningar av prestandaskäl.</span><span class="sxs-lookup"><span data-stu-id="14e19-261">Standard A1 SKU is specifically not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateless-workloads"></a><span data-ttu-id="14e19-262">Icke-primära nodtypen - kapacitet vägledning för tillståndslösa arbetsbelastningar</span><span class="sxs-lookup"><span data-stu-id="14e19-262">Non-Primary node type - Capacity Guidance for stateless workloads</span></span>

<span data-ttu-id="14e19-263">Den här vägledningen tillståndslösa arbetsbelastningar som körs på hello icke-primär nodetype.</span><span class="sxs-lookup"><span data-stu-id="14e19-263">This guidance of stateless Workloads that you are running on hello non-primary nodetype.</span></span>

<span data-ttu-id="14e19-264">**Antal VM-instanser:** för produktionsarbetsbelastningar som är tillståndslös hello minsta stöd för icke - primära noden standardstorleken är 2.</span><span class="sxs-lookup"><span data-stu-id="14e19-264">**Number of VM instances:** For production workloads that are stateless, hello minimum supported non-Primary Node type size is 2.</span></span> <span data-ttu-id="14e19-265">Detta gör att du toorun du två tillståndslös instanser av programmet, så att din tjänst toosurvive hello förlust av en VM-instans.</span><span class="sxs-lookup"><span data-stu-id="14e19-265">This allows you toorun you two stateless instances of your application and allowing your service toosurvive hello loss of a VM instance.</span></span> 

> [!NOTE]
> <span data-ttu-id="14e19-266">Om klustret körs på en service fabric-version lägre än 5.6 körning (det här problemet löses i 5.6), skalning av en icke-primär nod typen tooless än 5, på grund av tooa defekt i hello resulterar i klustret hälsa aktivera feltillstånd, tills du anropa [ Ta bort ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) med hello lämpliga nodnamn.</span><span class="sxs-lookup"><span data-stu-id="14e19-266">If your cluster is running on a service fabric version less than 5.6, due tooa defect in hello runtime (this issue is fixed in 5.6), scaling down a non-primary node type tooless than 5, results in cluster health turning unhealthy, till you call [Remove-ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) with hello appropriate node name.</span></span> <span data-ttu-id="14e19-267">Läs [utföra Service Fabric-klustret in eller ut](service-fabric-cluster-scale-up-down.md) mer information</span><span class="sxs-lookup"><span data-stu-id="14e19-267">Read [perform Service Fabric cluster in or out](service-fabric-cluster-scale-up-down.md) for more details</span></span>
> 
>

<span data-ttu-id="14e19-268">**VM-SKU:** detta är hello nodtypen där ditt program körs, så hello VM SKU du väljer för det, måste ske med kontot hello belastning du planera tooplace på varje nod.</span><span class="sxs-lookup"><span data-stu-id="14e19-268">**VM SKU:** This is hello node type where your application services are running, so hello VM SKU you choose for it, must take into account hello peak load you plan tooplace into each Node.</span></span> <span data-ttu-id="14e19-269">Hej kapacitetsbehov för hello nodetype, bestäms av arbetsbelastning som du planerar toorun i hello kluster, så vi inte kan tillhandahålla kvalitativa vägledning för din specifika arbetsbelastning, men det här är hello bred vägledning toohelp dig att komma igång</span><span class="sxs-lookup"><span data-stu-id="14e19-269">hello capacity needs of hello nodetype, is determined by workload you plan toorun in hello cluster, So we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="14e19-270">För produktionsarbetsbelastningar</span><span class="sxs-lookup"><span data-stu-id="14e19-270">For production workloads</span></span> 


- <span data-ttu-id="14e19-271">hello bör VM SKU är Standard D3 Standard D3_V2 eller motsvarande.</span><span class="sxs-lookup"><span data-stu-id="14e19-271">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent.</span></span> 
- <span data-ttu-id="14e19-272">hello minsta stöds Använd VM SKU är Standard D1 Standard D1_V2 eller motsvarande.</span><span class="sxs-lookup"><span data-stu-id="14e19-272">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent.</span></span> 
- <span data-ttu-id="14e19-273">Partiell core VM SKU: er som Standard A0 stöds inte för produktionsarbetsbelastningar.</span><span class="sxs-lookup"><span data-stu-id="14e19-273">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="14e19-274">A1 SKU: N stöds inte för produktionsarbetsbelastningar av prestandaskäl.</span><span class="sxs-lookup"><span data-stu-id="14e19-274">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>

<!--Every topic should have next steps and links toohello next logical set of content tookeep hello customer engaged-->

## <a name="next-steps"></a><span data-ttu-id="14e19-275">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="14e19-275">Next steps</span></span>
<span data-ttu-id="14e19-276">När du slutför din kapacitetsplanering och konfigurera ett kluster kan du läsa hello följande:</span><span class="sxs-lookup"><span data-stu-id="14e19-276">Once you finish your capacity planning and set up a cluster, read hello following:</span></span>

* [<span data-ttu-id="14e19-277">Säkerhet för Service Fabric-kluster</span><span class="sxs-lookup"><span data-stu-id="14e19-277">Service Fabric cluster security</span></span>](service-fabric-cluster-security.md)
* [<span data-ttu-id="14e19-278">Service Fabric hälsa modellen introduktion</span><span class="sxs-lookup"><span data-stu-id="14e19-278">Service Fabric health model introduction</span></span>](service-fabric-health-introduction.md)
* [<span data-ttu-id="14e19-279">Ange relationen mellan nodetypes får tooVirtual datorn skala</span><span class="sxs-lookup"><span data-stu-id="14e19-279">Relationship of Nodetypes tooVirtual machine scale set</span></span>](service-fabric-cluster-nodetypes.md)

<!--Image references-->
[SystemServices]: ./media/service-fabric-cluster-capacity/SystemServices.png
