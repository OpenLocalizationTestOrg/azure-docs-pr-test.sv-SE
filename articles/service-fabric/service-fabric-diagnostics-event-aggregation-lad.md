---
title: "Azure Service Fabric händelse aggregeringen med Linux Azure-diagnostik | Microsoft Docs"
description: "Läs mer om sammanställa och samlar in händelser med hjälp av LAD för övervakning och diagnostik av Azure Service Fabric-kluster."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 07/17/2017
ms.author: dekapur
ms.openlocfilehash: bcc3a229369a065cfcfbd32eadbf3f6ae6fe0036
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/03/2017
---
# <a name="event-aggregation-and-collection-using-linux-azure-diagnostics"></a><span data-ttu-id="e47ff-103">Aggregering av händelse och med Azure-diagnostik för Linux</span><span class="sxs-lookup"><span data-stu-id="e47ff-103">Event aggregation and collection using Linux Azure Diagnostics</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="e47ff-104">Windows</span><span class="sxs-lookup"><span data-stu-id="e47ff-104">Windows</span></span>](service-fabric-diagnostics-event-aggregation-wad.md)
> * [<span data-ttu-id="e47ff-105">Linux</span><span class="sxs-lookup"><span data-stu-id="e47ff-105">Linux</span></span>](service-fabric-diagnostics-event-aggregation-lad.md)
>
>

<span data-ttu-id="e47ff-106">När du kör ett Azure Service Fabric-kluster, är det en bra idé att samla in loggar från alla noder i en central plats.</span><span class="sxs-lookup"><span data-stu-id="e47ff-106">When you're running an Azure Service Fabric cluster, it's a good idea to collect the logs from all the nodes in a central location.</span></span> <span data-ttu-id="e47ff-107">Med loggarna på en central plats hjälper dig att analysera och felsöka problem i klustret eller problem i program och tjänster som körs i klustret.</span><span class="sxs-lookup"><span data-stu-id="e47ff-107">Having the logs in a central location helps you analyze and troubleshoot issues in your cluster, or issues in the applications and services running in that cluster.</span></span>

<span data-ttu-id="e47ff-108">Ett sätt att överföra och samla in loggar är att använda Linux Azure Diagnostics (LAD)-tillägget, som överför loggar till Azure Storage och har även möjlighet att skicka loggar till Azure Application Insights eller Händelsehubbar.</span><span class="sxs-lookup"><span data-stu-id="e47ff-108">One way to upload and collect logs is to use the Linux Azure Diagnostics (LAD) extension, which uploads logs to Azure Storage, and also has the option to send logs to Azure Application Insights or Event Hubs.</span></span> <span data-ttu-id="e47ff-109">Du kan också använda en extern process för att läsa händelser från lagring och placera dem i en analys plattform produkt som [OMS logganalys](../log-analytics/log-analytics-service-fabric.md) eller en annan lösning för parsning av loggen.</span><span class="sxs-lookup"><span data-stu-id="e47ff-109">You can also use an external process to read the events from storage and place them in an analysis platform product, such as [OMS Log Analytics](../log-analytics/log-analytics-service-fabric.md) or another log-parsing solution.</span></span>

## <a name="log-and-event-sources"></a><span data-ttu-id="e47ff-110">Loggen och händelsen källor</span><span class="sxs-lookup"><span data-stu-id="e47ff-110">Log and event sources</span></span>

### <a name="service-fabric-platform-events"></a><span data-ttu-id="e47ff-111">Service Fabric-plattformen händelser</span><span class="sxs-lookup"><span data-stu-id="e47ff-111">Service Fabric platform events</span></span>
<span data-ttu-id="e47ff-112">Service Fabric avger några out box loggar via [LTTng](http://lttng.org), inklusive operativa händelser eller runtime-händelser.</span><span class="sxs-lookup"><span data-stu-id="e47ff-112">Service Fabric emits a few out-of-the-box logs via [LTTng](http://lttng.org), including operational events or runtime events.</span></span> <span data-ttu-id="e47ff-113">Dessa loggar lagras på den plats som anger klustrets Resource Manager-mall.</span><span class="sxs-lookup"><span data-stu-id="e47ff-113">These logs are stored in the location that the cluster's Resource Manager template specifies.</span></span> <span data-ttu-id="e47ff-114">Om du vill hämta eller ange information om lagringskonto, söka efter taggen **AzureTableWinFabETWQueryable** och leta efter **StoreConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="e47ff-114">To get or set the storage account details, search for the tag **AzureTableWinFabETWQueryable** and look for **StoreConnectionString**.</span></span>

### <a name="application-events"></a><span data-ttu-id="e47ff-115">Programhändelser</span><span class="sxs-lookup"><span data-stu-id="e47ff-115">Application events</span></span>
 <span data-ttu-id="e47ff-116">Händelser som orsakat från program och tjänsterna kod som anges av du när instrumentering din programvara.</span><span class="sxs-lookup"><span data-stu-id="e47ff-116">Events emitted from your applications' and services' code as specified by you when instrumenting your software.</span></span> <span data-ttu-id="e47ff-117">Du kan använda alla loggning lösningar som skriver textbaserade loggfiler – till exempel LTTng.</span><span class="sxs-lookup"><span data-stu-id="e47ff-117">You can use any logging solution that writes text-based log files--for example, LTTng.</span></span> <span data-ttu-id="e47ff-118">Mer information finns i dokumentationen för LTTng på spårning i tillämpningsprogrammet.</span><span class="sxs-lookup"><span data-stu-id="e47ff-118">For more information, see the LTTng documentation on tracing your application.</span></span>

<span data-ttu-id="e47ff-119">[Övervaka och diagnostisera tjänster i en inställning för lokal dator development](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span><span class="sxs-lookup"><span data-stu-id="e47ff-119">[Monitor and diagnose services in a local machine development setup](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span></span>

## <a name="deploy-the-diagnostics-extension"></a><span data-ttu-id="e47ff-120">Distribuera diagnostik-tillägget</span><span class="sxs-lookup"><span data-stu-id="e47ff-120">Deploy the Diagnostics extension</span></span>
<span data-ttu-id="e47ff-121">Det första steget i att samla in loggar är att distribuera diagnostik tillägg på var och en av de virtuella datorerna i Service Fabric-klustret.</span><span class="sxs-lookup"><span data-stu-id="e47ff-121">The first step in collecting logs is to deploy the Diagnostics extension on each of the VMs in the Service Fabric cluster.</span></span> <span data-ttu-id="e47ff-122">Diagnostik-tillägget samlar in loggar på varje virtuell dator och överför dem till lagringskontot som du anger.</span><span class="sxs-lookup"><span data-stu-id="e47ff-122">The Diagnostics extension collects logs on each VM and uploads them to the storage account that you specify.</span></span> <span data-ttu-id="e47ff-123">Stegen variera beroende på om du använder Azure-portalen eller Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="e47ff-123">The steps vary based on whether you use the Azure portal or Azure Resource Manager.</span></span>

<span data-ttu-id="e47ff-124">Om du vill distribuera diagnostik-tillägg till de virtuella datorerna i klustret som en del av klustret har skapats, ange **diagnostik** till **på**.</span><span class="sxs-lookup"><span data-stu-id="e47ff-124">To deploy the Diagnostics extension to the VMs in the cluster as part of cluster creation, set **Diagnostics** to **On**.</span></span> <span data-ttu-id="e47ff-125">När du skapar klustret kan du inte ändra den här inställningen med hjälp av portalen.</span><span class="sxs-lookup"><span data-stu-id="e47ff-125">After you create the cluster, you can't change this setting by using the portal.</span></span>

<span data-ttu-id="e47ff-126">Konfigurera sedan Linux Azure Diagnostics (LAD) för att samla in filer och placera dem i ditt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="e47ff-126">Then, configure Linux Azure Diagnostics (LAD) to collect the files and place them into your storage account.</span></span> <span data-ttu-id="e47ff-127">Den här processen beskrivs som scenario 3 (”överföra din egen loggfiler”) i artikeln [med LAD att övervaka och diagnostisera virtuella Linux-datorer](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="e47ff-127">This process is explained as scenario 3 ("Upload your own log files") in the article [Using LAD to monitor and diagnose Linux VMs](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span> <span data-ttu-id="e47ff-128">Efter den här processen får du tillgång till spåren.</span><span class="sxs-lookup"><span data-stu-id="e47ff-128">Following this process gets you access to the traces.</span></span> <span data-ttu-id="e47ff-129">Du kan överföra spåren till en visualizer du väljer.</span><span class="sxs-lookup"><span data-stu-id="e47ff-129">You can upload the traces to a visualizer of your choice.</span></span>

<span data-ttu-id="e47ff-130">Du kan också distribuera diagnostik-tillägget med hjälp av Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="e47ff-130">You can also deploy the Diagnostics extension by using Azure Resource Manager.</span></span> <span data-ttu-id="e47ff-131">Processen påminner för Windows och Linux- och dokumenteras för Windows-kluster i [hur du samlar in loggar med Azure-diagnostik](service-fabric-diagnostics-how-to-setup-wad.md).</span><span class="sxs-lookup"><span data-stu-id="e47ff-131">The process is similar for Windows and Linux and is documented for Windows clusters in [How to collect logs with Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span></span>

<span data-ttu-id="e47ff-132">Du kan också använda Operations Management Suite som beskrivs i [Operations Management Suite logganalys med Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span><span class="sxs-lookup"><span data-stu-id="e47ff-132">You can also use Operations Management Suite, as described in [Operations Management Suite Log Analytics with Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span></span>

<span data-ttu-id="e47ff-133">När du är klar med den här konfigurationen övervakar LAD agenten angivna loggfilerna.</span><span class="sxs-lookup"><span data-stu-id="e47ff-133">After you finish this configuration, the LAD agent monitors the specified log files.</span></span> <span data-ttu-id="e47ff-134">När en ny rad läggs till filen, skapas en syslog-post som skickas till den lagringsenhet som du angav.</span><span class="sxs-lookup"><span data-stu-id="e47ff-134">Whenever a new line is appended to the file, it creates a syslog entry that is sent to the storage that you specified.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e47ff-135">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="e47ff-135">Next steps</span></span>

<span data-ttu-id="e47ff-136">För att förstå vilka händelser som du bör undersöka vid felsökning av problem i detalj, se [LTTng dokumentationen](http://lttng.org/docs) och [med LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="e47ff-136">To understand in more detail what events you should examine while troubleshooting issues, see [LTTng documentation](http://lttng.org/docs) and [Using LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>