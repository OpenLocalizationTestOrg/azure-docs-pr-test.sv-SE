---
title: "aaaAzure Service Fabric händelse aggregeringen med Azure-diagnostik för Linux | Microsoft Docs"
description: "Läs mer om sammanställa och samlar in händelser med hjälp av LAD för övervakning och diagnostik av Azure Service Fabric-kluster."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 07/17/2017
ms.author: dekapur
ms.openlocfilehash: aefa869219a0dd219e01e6574816fe3ce47fe472
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="event-aggregation-and-collection-using-linux-azure-diagnostics"></a><span data-ttu-id="200ce-103">Aggregering av händelse och med Azure-diagnostik för Linux</span><span class="sxs-lookup"><span data-stu-id="200ce-103">Event aggregation and collection using Linux Azure Diagnostics</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="200ce-104">Windows</span><span class="sxs-lookup"><span data-stu-id="200ce-104">Windows</span></span>](service-fabric-diagnostics-event-aggregation-wad.md)
> * [<span data-ttu-id="200ce-105">Linux</span><span class="sxs-lookup"><span data-stu-id="200ce-105">Linux</span></span>](service-fabric-diagnostics-event-aggregation-lad.md)
>
>

<span data-ttu-id="200ce-106">När du kör ett Azure Service Fabric-kluster, är det en bra idé toocollect hello loggar från alla hello noder på en central plats.</span><span class="sxs-lookup"><span data-stu-id="200ce-106">When you're running an Azure Service Fabric cluster, it's a good idea toocollect hello logs from all hello nodes in a central location.</span></span> <span data-ttu-id="200ce-107">Med hello loggar på en central plats hjälper dig att analysera och felsöka problem i klustret eller problem i hello program och tjänster som körs i klustret.</span><span class="sxs-lookup"><span data-stu-id="200ce-107">Having hello logs in a central location helps you analyze and troubleshoot issues in your cluster, or issues in hello applications and services running in that cluster.</span></span>

<span data-ttu-id="200ce-108">Ett sätt tooupload och samla in loggar är toouse hello Linux Azure Diagnostics (LAD)-tillägg, som överför loggar tooAzure lagring och har dessutom hello alternativet toosend loggar tooAzure Application Insights eller Händelsehubbar.</span><span class="sxs-lookup"><span data-stu-id="200ce-108">One way tooupload and collect logs is toouse hello Linux Azure Diagnostics (LAD) extension, which uploads logs tooAzure Storage, and also has hello option toosend logs tooAzure Application Insights or Event Hubs.</span></span> <span data-ttu-id="200ce-109">Du kan också använda en extern process tooread hello händelser från lagring och placerar dem på en analysis plattform produkt som [OMS logganalys](../log-analytics/log-analytics-service-fabric.md) eller en annan lösning för parsning av loggen.</span><span class="sxs-lookup"><span data-stu-id="200ce-109">You can also use an external process tooread hello events from storage and place them in an analysis platform product, such as [OMS Log Analytics](../log-analytics/log-analytics-service-fabric.md) or another log-parsing solution.</span></span>

## <a name="log-and-event-sources"></a><span data-ttu-id="200ce-110">Loggen och händelsen källor</span><span class="sxs-lookup"><span data-stu-id="200ce-110">Log and event sources</span></span>

### <a name="service-fabric-platform-events"></a><span data-ttu-id="200ce-111">Service Fabric-plattformen händelser</span><span class="sxs-lookup"><span data-stu-id="200ce-111">Service Fabric platform events</span></span>
<span data-ttu-id="200ce-112">Service Fabric avger några out box loggar via [LTTng](http://lttng.org), inklusive operativa händelser eller runtime-händelser.</span><span class="sxs-lookup"><span data-stu-id="200ce-112">Service Fabric emits a few out-of-the-box logs via [LTTng](http://lttng.org), including operational events or runtime events.</span></span> <span data-ttu-id="200ce-113">Dessa loggar lagras i hello-plats som hello klustrets Resource Manager-mall anger.</span><span class="sxs-lookup"><span data-stu-id="200ce-113">These logs are stored in hello location that hello cluster's Resource Manager template specifies.</span></span> <span data-ttu-id="200ce-114">tooget eller ange hello lagringskontouppgifter, söka efter hello taggen **AzureTableWinFabETWQueryable** och leta efter **StoreConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="200ce-114">tooget or set hello storage account details, search for hello tag **AzureTableWinFabETWQueryable** and look for **StoreConnectionString**.</span></span>

### <a name="application-events"></a><span data-ttu-id="200ce-115">Programhändelser</span><span class="sxs-lookup"><span data-stu-id="200ce-115">Application events</span></span>
 <span data-ttu-id="200ce-116">Händelser som orsakat från program och tjänsterna kod som anges av du när instrumentering din programvara.</span><span class="sxs-lookup"><span data-stu-id="200ce-116">Events emitted from your applications' and services' code as specified by you when instrumenting your software.</span></span> <span data-ttu-id="200ce-117">Du kan använda alla loggning lösningar som skriver textbaserade loggfiler – till exempel LTTng.</span><span class="sxs-lookup"><span data-stu-id="200ce-117">You can use any logging solution that writes text-based log files--for example, LTTng.</span></span> <span data-ttu-id="200ce-118">Mer information finns i dokumentationen för hello LTTng på spårning i tillämpningsprogrammet.</span><span class="sxs-lookup"><span data-stu-id="200ce-118">For more information, see hello LTTng documentation on tracing your application.</span></span>

<span data-ttu-id="200ce-119">[Övervaka och diagnostisera tjänster i en inställning för lokal dator development](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span><span class="sxs-lookup"><span data-stu-id="200ce-119">[Monitor and diagnose services in a local machine development setup](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span></span>

## <a name="deploy-hello-diagnostics-extension"></a><span data-ttu-id="200ce-120">Distribuera hello diagnostik tillägg</span><span class="sxs-lookup"><span data-stu-id="200ce-120">Deploy hello Diagnostics extension</span></span>
<span data-ttu-id="200ce-121">hello första steget i att samla in loggar är toodeploy hello diagnostik tillägg på varje hello virtuella datorer i hello Service Fabric-klustret.</span><span class="sxs-lookup"><span data-stu-id="200ce-121">hello first step in collecting logs is toodeploy hello Diagnostics extension on each of hello VMs in hello Service Fabric cluster.</span></span> <span data-ttu-id="200ce-122">hello diagnostik tillägget samlar in loggar på varje virtuell dator och överför dem toohello storage-konto som du anger.</span><span class="sxs-lookup"><span data-stu-id="200ce-122">hello Diagnostics extension collects logs on each VM and uploads them toohello storage account that you specify.</span></span> <span data-ttu-id="200ce-123">hello stegen variera beroende på om du använder hello Azure-portalen eller Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="200ce-123">hello steps vary based on whether you use hello Azure portal or Azure Resource Manager.</span></span>

<span data-ttu-id="200ce-124">Ange toodeploy hello diagnostik tillägget toohello virtuella datorer i hello klustret som en del av klustret skapas **diagnostik** för**på**.</span><span class="sxs-lookup"><span data-stu-id="200ce-124">toodeploy hello Diagnostics extension toohello VMs in hello cluster as part of cluster creation, set **Diagnostics** too**On**.</span></span> <span data-ttu-id="200ce-125">När du har skapat hello klustret kan du inte ändra den här inställningen genom att använda hello-portalen.</span><span class="sxs-lookup"><span data-stu-id="200ce-125">After you create hello cluster, you can't change this setting by using hello portal.</span></span>

<span data-ttu-id="200ce-126">Konfigurera Linux Azure Diagnostics (LAD) toocollect hello filer och placera dem i ditt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="200ce-126">Then, configure Linux Azure Diagnostics (LAD) toocollect hello files and place them into your storage account.</span></span> <span data-ttu-id="200ce-127">Den här processen beskrivs som scenario 3 (”överföra din egen loggfiler”) i hello artikeln [med LAD toomonitor och diagnostisera virtuella Linux-datorer](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="200ce-127">This process is explained as scenario 3 ("Upload your own log files") in hello article [Using LAD toomonitor and diagnose Linux VMs](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span> <span data-ttu-id="200ce-128">Efter den här processen hämtar du komma åt toohello spårar.</span><span class="sxs-lookup"><span data-stu-id="200ce-128">Following this process gets you access toohello traces.</span></span> <span data-ttu-id="200ce-129">Du kan överföra hello spårningar tooa visualizer du väljer.</span><span class="sxs-lookup"><span data-stu-id="200ce-129">You can upload hello traces tooa visualizer of your choice.</span></span>

<span data-ttu-id="200ce-130">Du kan också distribuera hello diagnostik tillägget med hjälp av Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="200ce-130">You can also deploy hello Diagnostics extension by using Azure Resource Manager.</span></span> <span data-ttu-id="200ce-131">hello processen påminner för Windows och Linux- och dokumenteras för Windows-kluster i [hur toocollect loggar med Azure-diagnostik](service-fabric-diagnostics-how-to-setup-wad.md).</span><span class="sxs-lookup"><span data-stu-id="200ce-131">hello process is similar for Windows and Linux and is documented for Windows clusters in [How toocollect logs with Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span></span>

<span data-ttu-id="200ce-132">Du kan också använda Operations Management Suite som beskrivs i [Operations Management Suite logganalys med Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span><span class="sxs-lookup"><span data-stu-id="200ce-132">You can also use Operations Management Suite, as described in [Operations Management Suite Log Analytics with Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span></span>

<span data-ttu-id="200ce-133">När du är klar med den här konfigurationen hello hello LAD agenten övervakar angivna loggfiler.</span><span class="sxs-lookup"><span data-stu-id="200ce-133">After you finish this configuration, hello LAD agent monitors hello specified log files.</span></span> <span data-ttu-id="200ce-134">När en ny rad är tillagda toohello fil, skapas en syslog-transaktion som skickade toohello lagring som du angav.</span><span class="sxs-lookup"><span data-stu-id="200ce-134">Whenever a new line is appended toohello file, it creates a syslog entry that is sent toohello storage that you specified.</span></span>

## <a name="next-steps"></a><span data-ttu-id="200ce-135">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="200ce-135">Next steps</span></span>

<span data-ttu-id="200ce-136">toounderstand i detalj vilka händelser som du bör undersöka vid felsökning av problem, se [LTTng dokumentationen](http://lttng.org/docs) och [med LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="200ce-136">toounderstand in more detail what events you should examine while troubleshooting issues, see [LTTng documentation](http://lttng.org/docs) and [Using LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>
