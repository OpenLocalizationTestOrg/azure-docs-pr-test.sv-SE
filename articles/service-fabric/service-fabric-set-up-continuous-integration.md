---
title: "aaaSet in kontinuerlig integration för Azure mikrotjänster | Microsoft Docs"
description: "Få en översikt över hur tooset in kontinuerlig integrering och distribution för ett Service Fabric-program med hjälp av Visual Studio Team Services VSTS ()."
services: service-fabric
documentationcenter: na
author: mthalman-msft
manager: timlt
editor: 
ms.assetid: 3e8c2290-9e7a-456a-9b2c-db44d1b3988d
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 12/06/2016
ms.author: mthalman;mikhegn
ms.openlocfilehash: 041e081f4a42f379394f2d21f07db4f6de045b24
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="set-up-service-fabric-continuous-integration-and-deployment-with-visual-studio-team-services"></a><span data-ttu-id="a3d91-103">Konfigurera Service Fabric kontinuerlig integrering och distribution med Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="a3d91-103">Set up Service Fabric continuous integration and deployment with Visual Studio Team Services</span></span>
<span data-ttu-id="a3d91-104">Den här artikeln beskriver hello steg tooset in kontinuerlig integrering och distribution för ett Azure Service Fabric-program med hjälp av Visual Studio Team Services VSTS ().</span><span class="sxs-lookup"><span data-stu-id="a3d91-104">This article describes hello steps tooset up continuous integration and deployment for an Azure Service Fabric application by using Visual Studio Team Services (VSTS).</span></span>

<span data-ttu-id="a3d91-105">Det här dokumentet visar hello aktuella proceduren och är förväntade toochange över tid.</span><span class="sxs-lookup"><span data-stu-id="a3d91-105">This document reflects hello current procedure and is expected toochange over time.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="a3d91-106">Krav</span><span class="sxs-lookup"><span data-stu-id="a3d91-106">Prerequisites</span></span>
<span data-ttu-id="a3d91-107">tooget har startats så här:</span><span class="sxs-lookup"><span data-stu-id="a3d91-107">tooget started, follow these steps:</span></span>

1. <span data-ttu-id="a3d91-108">Kontrollera att du har åtkomst tooa Team Services-konto eller [skapar du en](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) själv.</span><span class="sxs-lookup"><span data-stu-id="a3d91-108">Ensure that you have access tooa Team Services account or [create one](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) yourself.</span></span>
2. <span data-ttu-id="a3d91-109">Kontrollera att du har åtkomst tooa Team Services grupprojekt eller [skapar du en](https://www.visualstudio.com/docs/setup-admin/create-team-project) själv.</span><span class="sxs-lookup"><span data-stu-id="a3d91-109">Ensure that you have access tooa Team Services team project or [create one](https://www.visualstudio.com/docs/setup-admin/create-team-project) yourself.</span></span>
3. <span data-ttu-id="a3d91-110">Kontrollera att du har ett Service Fabric-klustret toowhich du kan distribuera ditt program eller skapa en med hjälp av hello [Azure-portalen](service-fabric-cluster-creation-via-portal.md), en [Azure Resource Manager-mall](service-fabric-cluster-creation-via-arm.md), eller [Visual Studio ](service-fabric-cluster-creation-via-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="a3d91-110">Ensure that you have a Service Fabric cluster toowhich you can deploy your application or create one using hello [Azure portal](service-fabric-cluster-creation-via-portal.md), an [Azure Resource Manager template](service-fabric-cluster-creation-via-arm.md), or [Visual Studio](service-fabric-cluster-creation-via-visual-studio.md).</span></span>
4. <span data-ttu-id="a3d91-111">Se till att du redan har skapat ett Service Fabric-program (.sfproj)-projekt.</span><span class="sxs-lookup"><span data-stu-id="a3d91-111">Ensure that you have already created a Service Fabric Application (.sfproj) project.</span></span> <span data-ttu-id="a3d91-112">Du måste ha ett projekt som har skapats eller uppgraderas med Service Fabric SDK 2.1 eller högre (hello .sfproj filen ska innehålla ett egenskapsvärde för ProjectVersion 1.1 eller högre).</span><span class="sxs-lookup"><span data-stu-id="a3d91-112">You must have a project that was created or upgraded with Service Fabric SDK 2.1 or higher (hello .sfproj file should contain a ProjectVersion property value of 1.1 or higher).</span></span>

> [!NOTE]
> <span data-ttu-id="a3d91-113">Anpassade build agenter inte längre behövs.</span><span class="sxs-lookup"><span data-stu-id="a3d91-113">Custom build agents are no longer required.</span></span> <span data-ttu-id="a3d91-114">Team Services finns agenter som nu levereras förinstallerade med Service Fabric klusterhantering för distribution av dina program direkt från dessa agenter.</span><span class="sxs-lookup"><span data-stu-id="a3d91-114">Team Services hosted agents now come pre-installed with Service Fabric cluster management software, allowing for deployment of your applications directly from those agents.</span></span>
> 
> 

## <a name="configure-and-share-your-source-files"></a><span data-ttu-id="a3d91-115">Konfigurera och dela dina källfiler</span><span class="sxs-lookup"><span data-stu-id="a3d91-115">Configure and share your source files</span></span>
<span data-ttu-id="a3d91-116">hello första som du vill använda toodo är förbereda en publiceringsprofil för användning av hello Distributionsprocess som körs i Team Services.</span><span class="sxs-lookup"><span data-stu-id="a3d91-116">hello first thing you want toodo is prepare a publish profile for use by hello deployment process that executes within Team Services.</span></span>  <span data-ttu-id="a3d91-117">hello publiceringsprofil bör vara konfigurerade tootarget hello som du har förberett tidigare:</span><span class="sxs-lookup"><span data-stu-id="a3d91-117">hello publish profile should be configured tootarget hello cluster that you've previously prepared:</span></span>

1. <span data-ttu-id="a3d91-118">Välj en publiceringsprofil inom projektet som du vill toouse för kontinuerlig integration arbetsflödet.</span><span class="sxs-lookup"><span data-stu-id="a3d91-118">Choose a publish profile within your Application project that you want toouse for your continuous integration workflow.</span></span> <span data-ttu-id="a3d91-119">Följ hello [publicera instruktioner](service-fabric-publish-app-remote-cluster.md) om hur toopublish ett program tooa kluster.</span><span class="sxs-lookup"><span data-stu-id="a3d91-119">Follow hello [publish instructions](service-fabric-publish-app-remote-cluster.md) on how toopublish an application tooa remote cluster.</span></span> <span data-ttu-id="a3d91-120">Behöver du inte verkligen toopublish tillämpningsprogrammet om.</span><span class="sxs-lookup"><span data-stu-id="a3d91-120">You don't actually need toopublish your application though.</span></span> <span data-ttu-id="a3d91-121">Du kan klicka på hello **spara** hyperlänk i hello publicera dialogrutan när du har konfigurerat saker på lämpligt sätt.</span><span class="sxs-lookup"><span data-stu-id="a3d91-121">You can click hello **Save** hyperlink in hello publish dialog once you have configured things appropriately.</span></span>
2. <span data-ttu-id="a3d91-122">Om du vill att din ansökan toobe uppgraderas för varje distribution sker inom Team Services, vill du tooconfigure hello Publicera profil tooenable uppgraderingen.</span><span class="sxs-lookup"><span data-stu-id="a3d91-122">If you want your application toobe upgraded for each deployment that occurs within Team Services, you want tooconfigure hello publish profile tooenable upgrade.</span></span> <span data-ttu-id="a3d91-123">Se till att hello hello samma publicera dialogrutan används i steg 1, **uppgradera hello programmet** är markerad.</span><span class="sxs-lookup"><span data-stu-id="a3d91-123">In hello same publish dialog used in step 1, ensure that hello **Upgrade hello Application** checkbox is checked.</span></span>  <span data-ttu-id="a3d91-124">Lär dig mer om [konfigurera ytterligare inställningar](service-fabric-visualstudio-configure-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="a3d91-124">Learn more about [configuring additional upgrade settings](service-fabric-visualstudio-configure-upgrade.md).</span></span> <span data-ttu-id="a3d91-125">Klicka på hello **spara** hyperlink toosave hello inställningar toohello Publicera profil.</span><span class="sxs-lookup"><span data-stu-id="a3d91-125">Click hello **Save** hyperlink toosave hello settings toohello publish profile.</span></span>
3. <span data-ttu-id="a3d91-126">Kontrollera att du har sparat ändringarna toohello Publicera profil och avbryta hello publicera dialogrutan.</span><span class="sxs-lookup"><span data-stu-id="a3d91-126">Ensure that you've saved your changes toohello publish profile and cancel hello publish dialog.</span></span>
4. <span data-ttu-id="a3d91-127">Nu är det dags för[dela källfilerna för programmet projektet](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) med Team Services.</span><span class="sxs-lookup"><span data-stu-id="a3d91-127">Now it's time too[share your Application project source files](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) with Team Services.</span></span> <span data-ttu-id="a3d91-128">När källfilerna är tillgängliga i Team Services, kan du nu flytta på toohello nästa steg att skapa versioner.</span><span class="sxs-lookup"><span data-stu-id="a3d91-128">Once your source files are accessible in Team Services, you can now move on toohello next step of generating builds.</span></span> 

## <a name="create-a-build-definition"></a><span data-ttu-id="a3d91-129">Skapa en build-definition</span><span class="sxs-lookup"><span data-stu-id="a3d91-129">Create a build definition</span></span>
<span data-ttu-id="a3d91-130">En definition av Team Services build beskriver ett arbetsflöde som består av en uppsättning build-åtgärder som utförs i tur och ordning.</span><span class="sxs-lookup"><span data-stu-id="a3d91-130">A Team Services build definition describes a workflow that is composed of a set of build steps that are executed sequentially.</span></span> <span data-ttu-id="a3d91-131">hello målet för hello build definition som du skapar är tooproduce ett Service Fabric-programpaket och andra artefakter som kan använda toodeploy hello program.</span><span class="sxs-lookup"><span data-stu-id="a3d91-131">hello goal of hello build definition that you are creating is tooproduce a Service Fabric application package, and other artifacts, that can be used toodeploy hello application.</span></span> <span data-ttu-id="a3d91-132">Mer information om Team Services [skapa definitioner](https://www.visualstudio.com/docs/build/define/create).</span><span class="sxs-lookup"><span data-stu-id="a3d91-132">Learn more about Team Services [build definitions](https://www.visualstudio.com/docs/build/define/create).</span></span>

### <a name="create-a-definition-from-hello-build-template"></a><span data-ttu-id="a3d91-133">Skapa en definition från hello build-mall</span><span class="sxs-lookup"><span data-stu-id="a3d91-133">Create a definition from hello build template</span></span>
1. <span data-ttu-id="a3d91-134">Öppna team projekt i Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="a3d91-134">Open your team project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="a3d91-135">Välj hello **skapa** fliken.</span><span class="sxs-lookup"><span data-stu-id="a3d91-135">Select hello **Build** tab.</span></span>
3. <span data-ttu-id="a3d91-136">Välj hello grönt  **+**  logga toocreate en ny build-definition.</span><span class="sxs-lookup"><span data-stu-id="a3d91-136">Select hello green **+** sign toocreate a new build definition.</span></span>
4. <span data-ttu-id="a3d91-137">I hello dialogrutan som öppnas väljer **Azure Service Fabric-programmet** inom hello **skapa** mallkategori.</span><span class="sxs-lookup"><span data-stu-id="a3d91-137">In hello dialog that opens, select **Azure Service Fabric Application** within hello **Build** template category.</span></span>
5. <span data-ttu-id="a3d91-138">Välj **nästa**.</span><span class="sxs-lookup"><span data-stu-id="a3d91-138">Select **Next**.</span></span>
6. <span data-ttu-id="a3d91-139">Välj hello databasen och gren kopplad till Service Fabric-programmet.</span><span class="sxs-lookup"><span data-stu-id="a3d91-139">Select hello repository and branch associated with your Service Fabric application.</span></span>
7. <span data-ttu-id="a3d91-140">Välj hello agent kön som du vill toouse.</span><span class="sxs-lookup"><span data-stu-id="a3d91-140">Select hello agent queue you wish toouse.</span></span> <span data-ttu-id="a3d91-141">Värdbaserade agenter stöds.</span><span class="sxs-lookup"><span data-stu-id="a3d91-141">Hosted agents are supported.</span></span>
8. <span data-ttu-id="a3d91-142">Välj **Skapa**.</span><span class="sxs-lookup"><span data-stu-id="a3d91-142">Select **Create**.</span></span>
9. <span data-ttu-id="a3d91-143">Spara hello build definition och ange ett namn.</span><span class="sxs-lookup"><span data-stu-id="a3d91-143">Save hello build definition and provide a name.</span></span>
10. <span data-ttu-id="a3d91-144">hello är följande punkt en beskrivning av hello build steg som genererats av hello mallen:</span><span class="sxs-lookup"><span data-stu-id="a3d91-144">hello following paragraph is a description of hello build steps generated by hello template:</span></span>

| <span data-ttu-id="a3d91-145">Skapa steg</span><span class="sxs-lookup"><span data-stu-id="a3d91-145">Build step</span></span> | <span data-ttu-id="a3d91-146">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="a3d91-146">Description</span></span> |
| --- | --- |
| <span data-ttu-id="a3d91-147">NuGet-återställning</span><span class="sxs-lookup"><span data-stu-id="a3d91-147">NuGet restore</span></span> |<span data-ttu-id="a3d91-148">Återställer hello NuGet-paket för hello lösningen.</span><span class="sxs-lookup"><span data-stu-id="a3d91-148">Restores hello NuGet packages for hello solution.</span></span> |
| <span data-ttu-id="a3d91-149">Skapa lösningen \*SLN</span><span class="sxs-lookup"><span data-stu-id="a3d91-149">Build solution \*.sln</span></span> |<span data-ttu-id="a3d91-150">Skapar hello hela lösningen.</span><span class="sxs-lookup"><span data-stu-id="a3d91-150">Builds hello entire solution.</span></span> |
| <span data-ttu-id="a3d91-151">Skapa lösningen \*.sfproj</span><span class="sxs-lookup"><span data-stu-id="a3d91-151">Build solution \*.sfproj</span></span> |<span data-ttu-id="a3d91-152">Genererar hello Service Fabric-programpaket som är används toodeploy hello program.</span><span class="sxs-lookup"><span data-stu-id="a3d91-152">Generates hello Service Fabric application package that is used toodeploy hello application.</span></span> <span data-ttu-id="a3d91-153">hello programmet paketplatsen är angivna toobe i hello build artefakt katalog.</span><span class="sxs-lookup"><span data-stu-id="a3d91-153">hello application package location is specified toobe within hello build's artifact directory.</span></span> |
| <span data-ttu-id="a3d91-154">Uppdatera Appversioner för Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a3d91-154">Update Service Fabric App Versions</span></span> |<span data-ttu-id="a3d91-155">Uppdaterar hello Versionsvärden i hello programmet paketet manifestfiler tooallow för stöd för uppgradering.</span><span class="sxs-lookup"><span data-stu-id="a3d91-155">Updates hello version values contained in hello application package's manifest files tooallow for upgrade support.</span></span> <span data-ttu-id="a3d91-156">Se hello [dokumentationssidan för aktiviteten](https://go.microsoft.com/fwlink/?LinkId=820529) för mer information.</span><span class="sxs-lookup"><span data-stu-id="a3d91-156">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> |
| <span data-ttu-id="a3d91-157">Kopiera filer</span><span class="sxs-lookup"><span data-stu-id="a3d91-157">Copy Files</span></span> |<span data-ttu-id="a3d91-158">Kopior hello Publicera profil och programmet parametrar filer toohello build's artefakter toobe används för distribution.</span><span class="sxs-lookup"><span data-stu-id="a3d91-158">Copies hello publish profile and application parameters files toohello build's artifacts toobe consumed for deployment.</span></span> |
| <span data-ttu-id="a3d91-159">Publicera artefakt</span><span class="sxs-lookup"><span data-stu-id="a3d91-159">Publish Artifact</span></span> |<span data-ttu-id="a3d91-160">Publicerar hello build-artefakter.</span><span class="sxs-lookup"><span data-stu-id="a3d91-160">Publishes hello build's artifacts.</span></span> <span data-ttu-id="a3d91-161">Gör en definition av versionen tooconsume hello build-artefakter.</span><span class="sxs-lookup"><span data-stu-id="a3d91-161">Allows a release definition tooconsume hello build's artifacts.</span></span> |

### <a name="verify-hello-default-set-of-tasks"></a><span data-ttu-id="a3d91-162">Kontrollera hello standarduppsättning aktiviteter</span><span class="sxs-lookup"><span data-stu-id="a3d91-162">Verify hello default set of tasks</span></span>
1. <span data-ttu-id="a3d91-163">Kontrollera hello **lösning** inmatningsfältet för hello **NuGet återställning** och **skapa lösning** skapa steg.</span><span class="sxs-lookup"><span data-stu-id="a3d91-163">Verify hello **Solution** input field for hello **NuGet restore** and **Build solution** build steps.</span></span>  <span data-ttu-id="a3d91-164">Som standard build steg köras på alla lösningsfiler som finns i hello associerade databasen.</span><span class="sxs-lookup"><span data-stu-id="a3d91-164">By default, these build steps execute upon all solution files that are contained in hello associated repository.</span></span>  <span data-ttu-id="a3d91-165">Om du bara vill hello build definition toooperate på en av filerna lösningen måste tooexplicitly hello sökvägen toothat uppdateringsfil.</span><span class="sxs-lookup"><span data-stu-id="a3d91-165">If you only want hello build definition toooperate on one of those solution files, you need tooexplicitly update hello path toothat file.</span></span>
2. <span data-ttu-id="a3d91-166">Kontrollera hello **lösning** inmatningsfältet för hello **paketera program** skapa steg.</span><span class="sxs-lookup"><span data-stu-id="a3d91-166">Verify hello **Solution** input field for hello **Package application** build step.</span></span>  <span data-ttu-id="a3d91-167">Som standard förutsätter det här build-steget endast ett tjänstprogram för Fabric-projekt (.sfproj) finns i hello-databasen.</span><span class="sxs-lookup"><span data-stu-id="a3d91-167">By default, this build step assumes only one Service Fabric Application project (.sfproj) exists in hello repository.</span></span>  <span data-ttu-id="a3d91-168">Om du har flera filer i databasen och vill tootarget endast en av dem för denna build-definition, måste tooexplicitly hello sökvägen toothat uppdateringsfil.</span><span class="sxs-lookup"><span data-stu-id="a3d91-168">If you have multiple such files in your repository and want tootarget only one of them for this build definition, you need tooexplicitly update hello path toothat file.</span></span>  <span data-ttu-id="a3d91-169">Om du vill toopackage flera program projekt i databasen, måste toocreate ytterligare **Visual Studio skapa** stegen i hello build definition varje mål Application-projekt.</span><span class="sxs-lookup"><span data-stu-id="a3d91-169">If you want toopackage multiple Application projects in your repository, you need toocreate additional **Visual Studio Build** steps in hello build definition that each target an Application project.</span></span>  <span data-ttu-id="a3d91-170">Du sedan måste också tooupdate hello **MSBuild-argument** fält för var och en av de skapa steg så att hello paketplatsen är unika för dem.</span><span class="sxs-lookup"><span data-stu-id="a3d91-170">You would then also need tooupdate hello **MSBuild Arguments** field for each of those build steps so that hello package location is unique for each of them.</span></span>
3. <span data-ttu-id="a3d91-171">Kontrollera hello versionshantering beteende som definierats i hello **App Uppdateringsversioner Service Fabric** skapa steg.</span><span class="sxs-lookup"><span data-stu-id="a3d91-171">Verify hello versioning behavior defined in hello **Update Service Fabric App Versions** build step.</span></span>  <span data-ttu-id="a3d91-172">Som standard läggs det här steget Skapa hello build tooall version siffervärdena i hello programmet paketet manifest-filer.</span><span class="sxs-lookup"><span data-stu-id="a3d91-172">By default, this build step appends hello build number tooall version values in hello application package's manifest files.</span></span> <span data-ttu-id="a3d91-173">Se hello [dokumentationssidan för aktiviteten](https://go.microsoft.com/fwlink/?LinkId=820529) för mer information.</span><span class="sxs-lookup"><span data-stu-id="a3d91-173">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> <span data-ttu-id="a3d91-174">Detta är användbart för att stödja uppgradering av ditt program eftersom varje uppgradera distributionen kräver olika Versionsvärden från tidigare hello-distribution.</span><span class="sxs-lookup"><span data-stu-id="a3d91-174">This is useful for supporting upgrade of your application since each upgrade deployment requires different version values from hello previous deployment.</span></span> <span data-ttu-id="a3d91-175">Om du inte avsikten är toouse Programuppgradering i arbetsflödet, kan du inaktivera det här build-steget.</span><span class="sxs-lookup"><span data-stu-id="a3d91-175">If you're not intending toouse application upgrade in your workflow, you may consider disabling this build step.</span></span> <span data-ttu-id="a3d91-176">Det måste inaktiveras om din avsikt är tooproduce en version som kan vara används toooverwrite ett befintligt Service Fabric-program.</span><span class="sxs-lookup"><span data-stu-id="a3d91-176">It must be disabled if your intention is tooproduce a build that can be used toooverwrite an existing Service Fabric application.</span></span> <span data-ttu-id="a3d91-177">hello distributionen misslyckas om hello version av hello-programmet som produceras av hello build inte matchar hello version av programmet hello i hello klustret.</span><span class="sxs-lookup"><span data-stu-id="a3d91-177">hello deployment fails if hello version of hello application produced by hello build does not match hello version of hello application in hello cluster.</span></span>
4. <span data-ttu-id="a3d91-178">Om din lösning innehåller ett .NET Core-projekt, måste du kontrollera att din build-definition innehåller ett build-steg som återställer hello beroenden:</span><span class="sxs-lookup"><span data-stu-id="a3d91-178">If your solution contains a .NET Core project, you must ensure that your build definition contains a build step that restores hello dependencies:</span></span>
   1. <span data-ttu-id="a3d91-179">Välj **Lägg till build steg...** .</span><span class="sxs-lookup"><span data-stu-id="a3d91-179">Select **Add build step...**.</span></span>
   2. <span data-ttu-id="a3d91-180">Leta upp hello **kommandoradsverktyget** aktiviteten inom hello verktyget fliken och klicka på knappen Lägg till.</span><span class="sxs-lookup"><span data-stu-id="a3d91-180">Locate hello **Command-Line** task within hello Utility tab and click its Add button.</span></span>
   3. <span data-ttu-id="a3d91-181">Hello aktivitetens inmatningsfält, Använd hello följande värden:</span><span class="sxs-lookup"><span data-stu-id="a3d91-181">For hello task's input fields, use hello following values:</span></span>
   4. <span data-ttu-id="a3d91-182">Verktyget: dotnet</span><span class="sxs-lookup"><span data-stu-id="a3d91-182">Tool: dotnet</span></span>
   5. <span data-ttu-id="a3d91-183">Argument: återställa</span><span class="sxs-lookup"><span data-stu-id="a3d91-183">Arguments: restore</span></span>
   6. <span data-ttu-id="a3d91-184">Dra hello uppgift så att den är omedelbart efter hello **NuGet återställning** steg.</span><span class="sxs-lookup"><span data-stu-id="a3d91-184">Drag hello task so that it is immediately after hello **NuGet restore** step.</span></span>
5. <span data-ttu-id="a3d91-185">Spara alla ändringar har du gjort toohello build-definition.</span><span class="sxs-lookup"><span data-stu-id="a3d91-185">Save any changes you've made toohello build definition.</span></span>

### <a name="try-it"></a><span data-ttu-id="a3d91-186">Prova</span><span class="sxs-lookup"><span data-stu-id="a3d91-186">Try it</span></span>
<span data-ttu-id="a3d91-187">Välj **kön skapa** toomanually starta en version.</span><span class="sxs-lookup"><span data-stu-id="a3d91-187">Select **Queue Build** toomanually start a build.</span></span> <span data-ttu-id="a3d91-188">Bygger också utlösare på push eller incheckning.</span><span class="sxs-lookup"><span data-stu-id="a3d91-188">Builds also triggers upon push or check-in.</span></span> <span data-ttu-id="a3d91-189">När du har kontrollerat att hello build körs korrekt kan flytta du nu en definition av versionen som distribuerar programmet tooa klustret på toodefining.</span><span class="sxs-lookup"><span data-stu-id="a3d91-189">Once you've verified that hello build is executing successfully, you can now move on toodefining a release definition that deploys your application tooa cluster.</span></span>

## <a name="create-a-release-definition"></a><span data-ttu-id="a3d91-190">Skapa en definition för versionen</span><span class="sxs-lookup"><span data-stu-id="a3d91-190">Create a release definition</span></span>
<span data-ttu-id="a3d91-191">En definition av Team Services versionen beskriver ett arbetsflöde som består av en uppsättning uppgifter som utförs i tur och ordning.</span><span class="sxs-lookup"><span data-stu-id="a3d91-191">A Team Services release definition describes a workflow that is composed of a set of tasks that are executed sequentially.</span></span> <span data-ttu-id="a3d91-192">hello målet för definition av hello versionen som du skapar är tootake ett programpaket och distribuerar den tooa klustret.</span><span class="sxs-lookup"><span data-stu-id="a3d91-192">hello goal of hello release definition that you are creating is tootake an application package and deploy it tooa cluster.</span></span> <span data-ttu-id="a3d91-193">När de används tillsammans hello skapa definition och versionen definition kan köra hello hela arbetsflödet från att starta med källan filer tooending med ett program som körs i klustret.</span><span class="sxs-lookup"><span data-stu-id="a3d91-193">When used together, hello build definition and release definition can execute hello entire workflow from starting with source files tooending with a running application in your cluster.</span></span> <span data-ttu-id="a3d91-194">Mer information om Team Services [viktiga definitioner](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span><span class="sxs-lookup"><span data-stu-id="a3d91-194">Learn more about Team Services [release definitions](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span></span>

### <a name="create-a-definition-from-hello-release-template"></a><span data-ttu-id="a3d91-195">Skapa en definition av hello versionsmall</span><span class="sxs-lookup"><span data-stu-id="a3d91-195">Create a definition from hello release template</span></span>
1. <span data-ttu-id="a3d91-196">Öppna projektet i Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="a3d91-196">Open your project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="a3d91-197">Välj hello **versionen** fliken.</span><span class="sxs-lookup"><span data-stu-id="a3d91-197">Select hello **Release** tab.</span></span>
3. <span data-ttu-id="a3d91-198">Välj hello grönt  **+**  toocreate en ny version definition och markera **skapa versionen definition** hello-menyn.</span><span class="sxs-lookup"><span data-stu-id="a3d91-198">Select hello green **+** sign toocreate a new release definition and select **Create release definition** in hello menu.</span></span>
4. <span data-ttu-id="a3d91-199">I hello dialogrutan som öppnas väljer **Azure Service Fabric-distribution** inom hello **distribution** mallkategori.</span><span class="sxs-lookup"><span data-stu-id="a3d91-199">In hello dialog that opens, select **Azure Service Fabric Deployment** within hello **Deployment** template category.</span></span>
5. <span data-ttu-id="a3d91-200">Välj **nästa**.</span><span class="sxs-lookup"><span data-stu-id="a3d91-200">Select **Next**.</span></span>
6. <span data-ttu-id="a3d91-201">Välj hello build definition av du vill använda toouse som hello källan för den här versionen definitionen.</span><span class="sxs-lookup"><span data-stu-id="a3d91-201">Select hello build definition you want toouse as hello source of this release definition.</span></span>  <span data-ttu-id="a3d91-202">hello versionen definition referenser hello artefakter av hello valt skapa definition.</span><span class="sxs-lookup"><span data-stu-id="a3d91-202">hello release definition references hello artifacts that were produced by hello selected build definition.</span></span>
7. <span data-ttu-id="a3d91-203">Kontrollera hello **kontinuerlig distribution** kryssrutan om du inte vill toohave Team Services automatiskt skapa en ny version och distribuera hello Service Fabric program när ett build har slutförts.</span><span class="sxs-lookup"><span data-stu-id="a3d91-203">Check hello **Continuous deployment** check box if you wish toohave Team Services automatically create a new release and deploy hello Service Fabric application whenever a build completes.</span></span>
8. <span data-ttu-id="a3d91-204">Välj hello agent kön som du vill toouse.</span><span class="sxs-lookup"><span data-stu-id="a3d91-204">Select hello agent queue you wish toouse.</span></span> <span data-ttu-id="a3d91-205">Värdbaserade agenter stöds.</span><span class="sxs-lookup"><span data-stu-id="a3d91-205">Hosted agents are supported.</span></span>
9. <span data-ttu-id="a3d91-206">Välj **Skapa**.</span><span class="sxs-lookup"><span data-stu-id="a3d91-206">Select **Create**.</span></span>
10. <span data-ttu-id="a3d91-207">Redigera namnet på definitionen av hello genom att klicka på hello pennikonen hello överst på hello sidan.</span><span class="sxs-lookup"><span data-stu-id="a3d91-207">Edit hello definition name by clicking hello pencil icon at hello top of hello page.</span></span>
11. <span data-ttu-id="a3d91-208">Välj hello klustret toowhich programmet ska distribueras från hello **klustret anslutning** inmatningsfält hello-aktivitet.</span><span class="sxs-lookup"><span data-stu-id="a3d91-208">Select hello cluster toowhich your application should be deployed from hello **Cluster Connection** input field of hello task.</span></span> <span data-ttu-id="a3d91-209">hello klustret anslutning ger hello nödvändig information som gör att hello distribution uppgiften tooconnect toohello klustret.</span><span class="sxs-lookup"><span data-stu-id="a3d91-209">hello cluster connection provides hello necessary information that allows hello deployment task tooconnect toohello cluster.</span></span> <span data-ttu-id="a3d91-210">Om du ännu inte har en kluster-anslutning för klustret, väljer hello **hantera** hyperlink nästa toohello fältet tooadd en.</span><span class="sxs-lookup"><span data-stu-id="a3d91-210">If you do not yet have a cluster connection for your cluster, select hello **Manage** hyperlink next toohello field tooadd one.</span></span> <span data-ttu-id="a3d91-211">Utför följande hello på hello sida som öppnas:</span><span class="sxs-lookup"><span data-stu-id="a3d91-211">On hello page that opens, perform hello following steps:</span></span>
    1. <span data-ttu-id="a3d91-212">Välj **nya tjänstslutpunkten** och välj sedan **Azure Service Fabric** hello-menyn.</span><span class="sxs-lookup"><span data-stu-id="a3d91-212">Select **New Service Endpoint** and then select **Azure Service Fabric** from hello menu.</span></span>
    2. <span data-ttu-id="a3d91-213">Välj hello typ av autentisering som används av hello-kluster som är mål för den här slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="a3d91-213">Select hello type of authentication being used by hello cluster targeted by this endpoint.</span></span>
    3. <span data-ttu-id="a3d91-214">Ange ett namn för anslutningen i hello **anslutningsnamn** fältet.</span><span class="sxs-lookup"><span data-stu-id="a3d91-214">Define a name for your connection in hello **Connection Name** field.</span></span>  <span data-ttu-id="a3d91-215">Normalt använder du hello namnet på klustret.</span><span class="sxs-lookup"><span data-stu-id="a3d91-215">Typically, you would use hello name of your cluster.</span></span>
    4. <span data-ttu-id="a3d91-216">Definiera hello klienten anslutning slutpunkts-URL i hello **Klusterslutpunkten** fältet.</span><span class="sxs-lookup"><span data-stu-id="a3d91-216">Define hello client connection endpoint URL in hello **Cluster Endpoint** field.</span></span>  <span data-ttu-id="a3d91-217">Exempel: tcp://contoso.westus.cloudapp.azure.com:19000.</span><span class="sxs-lookup"><span data-stu-id="a3d91-217">Example: tcp://contoso.westus.cloudapp.azure.com:19000.</span></span>
    5. <span data-ttu-id="a3d91-218">Azure Active Directory-autentiseringsuppgifter för att definiera hello autentiseringsuppgifter som du vill toouse tooconnect toohello klustret i hello **användarnamn** och **lösenord** fält.</span><span class="sxs-lookup"><span data-stu-id="a3d91-218">For Azure Active Directory credentials, define hello credentials you want toouse tooconnect toohello cluster in hello **Username** and **Password** fields.</span></span>
    6. <span data-ttu-id="a3d91-219">Definiera för certifikatbaserad autentisering hello Base64-kodning av hello klienten certifikatfilen i hello **klientcertifikat** fältet.</span><span class="sxs-lookup"><span data-stu-id="a3d91-219">For Certificate Based authentication, define hello Base64 encoding of hello client certificate file in hello **Client Certificate** field.</span></span>  <span data-ttu-id="a3d91-220">Se hello hjälp popup-fönster på fältet för information om hur tooget värde.</span><span class="sxs-lookup"><span data-stu-id="a3d91-220">See hello help pop-up on that field for info on how tooget that value.</span></span>  <span data-ttu-id="a3d91-221">Om certifikatet är lösenordsskyddad, definiera hello lösenord i hello **lösenord** fältet.</span><span class="sxs-lookup"><span data-stu-id="a3d91-221">If your certificate is password-protected, define hello password in hello **Password** field.</span></span>
    7. <span data-ttu-id="a3d91-222">Bekräfta ändringarna genom att klicka på **OK**.</span><span class="sxs-lookup"><span data-stu-id="a3d91-222">Confirm your changes by clicking **OK**.</span></span> <span data-ttu-id="a3d91-223">När du navigerar bakåt tooyour släpper definition klickar du på hello-ikonen på hello **klustret anslutning** fältet toosee hello slutpunkt som du just lagt till.</span><span class="sxs-lookup"><span data-stu-id="a3d91-223">After navigating back tooyour release definition, click hello refresh icon on hello **Cluster Connection** field toosee hello endpoint you just added.</span></span>
12. <span data-ttu-id="a3d91-224">Spara definition för hello-versionen.</span><span class="sxs-lookup"><span data-stu-id="a3d91-224">Save hello release definition.</span></span>

> [!NOTE]
> <span data-ttu-id="a3d91-225">Microsoft Accounts (till exempel @hotmail.com eller @outlook.com) stöds inte med Azure Active Directory-autentisering.</span><span class="sxs-lookup"><span data-stu-id="a3d91-225">Microsoft Accounts (for example, @hotmail.com or @outlook.com) are not supported with Azure Active Directory authentication.</span></span>
> 
> 

<span data-ttu-id="a3d91-226">hello definition som skapas består av en aktivitet av typen **Service Fabric-programdistribution**.</span><span class="sxs-lookup"><span data-stu-id="a3d91-226">hello definition that is created consists of one task of type **Service Fabric Application Deployment**.</span></span> <span data-ttu-id="a3d91-227">Se hello [dokumentationssidan för aktiviteten](https://go.microsoft.com/fwlink/?LinkId=820528) för mer information om den här uppgiften.</span><span class="sxs-lookup"><span data-stu-id="a3d91-227">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820528) for more information about this task.</span></span>

### <a name="verify-hello-template-defaults"></a><span data-ttu-id="a3d91-228">Kontrollera hello mallen standardvärden</span><span class="sxs-lookup"><span data-stu-id="a3d91-228">Verify hello template defaults</span></span>
1. <span data-ttu-id="a3d91-229">Kontrollera hello **Publicera profil** inmatningsfältet för hello **distribuera Fabric tjänstprogrammet** aktivitet.</span><span class="sxs-lookup"><span data-stu-id="a3d91-229">Verify hello **Publish Profile** input field for hello **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="a3d91-230">Det här fältet refererar till en profil med namnet Cloud.xml i hello build artefakter som standard.</span><span class="sxs-lookup"><span data-stu-id="a3d91-230">By default, this field references a publish profile named Cloud.xml contained in hello build's artifacts.</span></span> <span data-ttu-id="a3d91-231">Om du vill tooreference en annan profil, eller om hello build innehåller flera programpaket i dess artefakter, måste tooupdate hello sökväg på lämpligt sätt.</span><span class="sxs-lookup"><span data-stu-id="a3d91-231">If you want tooreference a different publish profile or if hello build contains multiple application packages in its artifacts, you need tooupdate hello path appropriately.</span></span>
2. <span data-ttu-id="a3d91-232">Kontrollera hello **programpaket** inmatningsfältet för hello **distribuera Fabric tjänstprogrammet** aktivitet.</span><span class="sxs-lookup"><span data-stu-id="a3d91-232">Verify hello **Application Package** input field for hello **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="a3d91-233">Som standard refererar till det här fältet hello programmet paketet standardsökvägen som används i mallen för hello build-definition.</span><span class="sxs-lookup"><span data-stu-id="a3d91-233">By default, this field references hello default application package path used in hello build definition template.</span></span>  <span data-ttu-id="a3d91-234">Om du har ändrat hello standardsökvägen programmet paketet i hello skapa definition måste du tooupdate hello sökväg korrekt här samt.</span><span class="sxs-lookup"><span data-stu-id="a3d91-234">If you've modified hello default application package path in hello build definition, you need tooupdate hello path appropriately here as well.</span></span>

### <a name="try-it"></a><span data-ttu-id="a3d91-235">Prova</span><span class="sxs-lookup"><span data-stu-id="a3d91-235">Try it</span></span>
<span data-ttu-id="a3d91-236">Välj **skapa släpper** från hello **släpper** knappen menyn toomanually skapa en version.</span><span class="sxs-lookup"><span data-stu-id="a3d91-236">Select **Create Release** from hello **Release** button menu toomanually create a release.</span></span> <span data-ttu-id="a3d91-237">I hello dialogrutan som öppnas väljer du hello-version som du vill använda toobase hello versionen på och klicka sedan på **skapa**.</span><span class="sxs-lookup"><span data-stu-id="a3d91-237">In hello dialog that opens, select hello build that you want toobase hello release on and then click **Create**.</span></span> <span data-ttu-id="a3d91-238">Om du har aktiverat kontinuerlig distribution kommer versioner att skapas automatiskt när hello associerade build definition har slutfört en version.</span><span class="sxs-lookup"><span data-stu-id="a3d91-238">If you enabled continuous deployment, releases will be created automatically when hello associated build definition completes a build.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a3d91-239">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="a3d91-239">Next steps</span></span>
<span data-ttu-id="a3d91-240">toolearn mer om kontinuerlig integration med Service Fabric-program, läsa hello följande artiklar:</span><span class="sxs-lookup"><span data-stu-id="a3d91-240">toolearn more about continuous integration with Service Fabric applications, read hello following articles:</span></span>

* [<span data-ttu-id="a3d91-241">Team Services dokumentationen hemnätverk</span><span class="sxs-lookup"><span data-stu-id="a3d91-241">Team Services documentation home</span></span>](https://www.visualstudio.com/docs/overview)
* [<span data-ttu-id="a3d91-242">Skapa hantering i Team Services</span><span class="sxs-lookup"><span data-stu-id="a3d91-242">Build management in Team Services</span></span>](https://www.visualstudio.com/docs/build/overview)
* [<span data-ttu-id="a3d91-243">Versionshantering i Team Services</span><span class="sxs-lookup"><span data-stu-id="a3d91-243">Release management in Team Services</span></span>](https://www.visualstudio.com/docs/release/overview)

