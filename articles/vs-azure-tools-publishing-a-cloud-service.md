---
title: "Publicera en tjänst i molnet med hjälp av Azure-verktyg | Microsoft Docs"
description: "Läs mer om hur du publicerar Azure molntjänstprojekt med hjälp av Visual Studio."
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 1a07b6e4-3678-4cbf-b37e-4520b402a3d9
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 8/14/2017
ms.author: kraigb
ms.openlocfilehash: e617d600dbc8287eea737fc4969833e873365288
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/29/2017
---
# <a name="publishing-a-cloud-service-using-the-azure-tools"></a><span data-ttu-id="2c584-103">Publicera en tjänst i molnet med hjälp av Azure-verktyg</span><span class="sxs-lookup"><span data-stu-id="2c584-103">Publishing a Cloud Service using the Azure Tools</span></span>
<span data-ttu-id="2c584-104">Genom att använda Azure Tools för Microsoft Visual Studio kan du publicera dina Azure-program direkt från Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2c584-104">By using the Azure Tools for Microsoft Visual Studio, you can publish your Azure application directly from Visual Studio.</span></span> <span data-ttu-id="2c584-105">Visual Studio stöder integrerad publicering till antingen mellanlagrings- eller produktionsmiljön i en molntjänst.</span><span class="sxs-lookup"><span data-stu-id="2c584-105">Visual Studio supports integrated publishing to either the Staging or the Production environment of a cloud service.</span></span>

<span data-ttu-id="2c584-106">Innan du kan publicera ett Azure-program, måste du ha en Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="2c584-106">Before you can publish an Azure application, you must have an Azure subscription.</span></span> <span data-ttu-id="2c584-107">Du måste också ange ett moln tjänsten och storage-konto som ska användas av ditt program.</span><span class="sxs-lookup"><span data-stu-id="2c584-107">You must also set up a cloud service and storage account to be used by your application.</span></span> <span data-ttu-id="2c584-108">Du kan konfigurera dessa på den [klassiska Azure-portalen](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="2c584-108">You can set these up at the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2c584-109">När du publicerar väljer du distributionsmiljön för Molntjänsten.</span><span class="sxs-lookup"><span data-stu-id="2c584-109">When you publish, you can select the deployment environment for your cloud service.</span></span> <span data-ttu-id="2c584-110">Du måste också välja ett lagringskonto som används för att lagra programpaket för distribution.</span><span class="sxs-lookup"><span data-stu-id="2c584-110">You must also select a storage account that is used to store the application package for deployment.</span></span> <span data-ttu-id="2c584-111">Efter distributionen tas programpaketet bort från lagringskontot.</span><span class="sxs-lookup"><span data-stu-id="2c584-111">After deployment, the application package is removed from the storage account.</span></span>
> 
> 

<span data-ttu-id="2c584-112">När du utvecklar och testar ett Azure-program kan använda du webbdistribution för att publicera ändringar inkrementellt för web-roller.</span><span class="sxs-lookup"><span data-stu-id="2c584-112">When you are developing and testing an Azure application, you can use Web Deploy to publish changes incrementally for your web roles.</span></span> <span data-ttu-id="2c584-113">När du publicerar ditt program till en distributionsmiljö, kan Web Deploy du distribuera ändringarna direkt till den virtuella datorn som kör webbrollen.</span><span class="sxs-lookup"><span data-stu-id="2c584-113">After you publish your application to a deployment environment, Web Deploy lets you deploy changes directly to the virtual machine that is running the web role.</span></span> <span data-ttu-id="2c584-114">Du behöver inte paketet och publicera hela Azure programmet varje gång som du vill uppdatera din webbroll att testa ändringarna.</span><span class="sxs-lookup"><span data-stu-id="2c584-114">You do not have to package and publish your entire Azure application each time you want to update your web role to test out the changes.</span></span> <span data-ttu-id="2c584-115">Du kan ha web rollen ändringarna tillgängliga i molnet för att testa utan att ha programmet publiceras till en distribution med den här metoden.</span><span class="sxs-lookup"><span data-stu-id="2c584-115">With this approach you can have your web role changes available in the cloud for testing without waiting to have your application published to a deployment environment.</span></span>

<span data-ttu-id="2c584-116">Använd följande procedurer för att publicera ditt Azure-program och för att uppdatera en webbroll med hjälp av Web Deploy:</span><span class="sxs-lookup"><span data-stu-id="2c584-116">Use the following procedures to publish your Azure application and to update a web role by using Web Deploy:</span></span>

* <span data-ttu-id="2c584-117">Publicera eller ett Azure-program från Visual Studio-paketet</span><span class="sxs-lookup"><span data-stu-id="2c584-117">Publish or Package an Azure application from Visual Studio</span></span>
* <span data-ttu-id="2c584-118">Uppdatera en webbroll som en del av utveckling och testning cykel</span><span class="sxs-lookup"><span data-stu-id="2c584-118">Update a web role as part of the development and testing cycle</span></span>

## <a name="publish-or-package-an-azure-application-from-visual-studio"></a><span data-ttu-id="2c584-119">Publicera eller ett Azure-program från Visual Studio-paketet</span><span class="sxs-lookup"><span data-stu-id="2c584-119">Publish or Package an Azure Application from Visual Studio</span></span>
<span data-ttu-id="2c584-120">När du publicerar ditt Azure-program kan göra du något av följande uppgifter:</span><span class="sxs-lookup"><span data-stu-id="2c584-120">When you publish your Azure application, you can do one of the following tasks:</span></span>

* <span data-ttu-id="2c584-121">Skapa ett tjänstepaket: du kan använda det här paketet och tjänstkonfigurationsfilen för att publicera programmet till en distribution från den [klassiska Azure-portalen](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="2c584-121">Create a service package: You can use this package and the service configuration file to publish your application to a deployment environment from the [Azure Classic Portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
* <span data-ttu-id="2c584-122">Publicera din Azure-projekt från Visual Studio: för att publicera programmet direkt till Azure måste du använda guiden Publicera.</span><span class="sxs-lookup"><span data-stu-id="2c584-122">Publish your Azure project from Visual Studio: To publish your application directly to Azure, you use the Publish Wizard.</span></span> <span data-ttu-id="2c584-123">Mer information finns i [Publiceringsguiden för Azure-program](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="2c584-123">For information, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="to-create-a-service-package-from-visual-studio"></a><span data-ttu-id="2c584-124">Att skapa ett servicepaket från Visual Studio</span><span class="sxs-lookup"><span data-stu-id="2c584-124">To create a service package from Visual Studio</span></span>
1. <span data-ttu-id="2c584-125">När du är redo att publicera programmet öppna Solution Explorer, öppna snabbmenyn för Azure-projekt som innehåller dina roller och välja publicera.</span><span class="sxs-lookup"><span data-stu-id="2c584-125">When you are ready to publish your application, open Solution Explorer, open the shortcut menu for the Azure project that contains your roles, and choose Publish.</span></span>
2. <span data-ttu-id="2c584-126">Följ dessa steg om du vill skapa ett servicepaket:</span><span class="sxs-lookup"><span data-stu-id="2c584-126">To create a service package only, follow these steps:</span></span>  
   
   1. <span data-ttu-id="2c584-127">Välj på snabbmenyn för Azure-projekt, **paketet**.</span><span class="sxs-lookup"><span data-stu-id="2c584-127">On the shortcut menu for the Azure project, choose **Package**.</span></span>
   2. <span data-ttu-id="2c584-128">I den **paketet Azure-programmet** dialogrutan Välj konfigurationen för tjänsten som du vill skapa ett paket och välj sedan versionskonfiguration.</span><span class="sxs-lookup"><span data-stu-id="2c584-128">In the **Package Azure Application** dialog box, choose the service configuration for which you want to create a package, and then choose the build configuration.</span></span>
   3. <span data-ttu-id="2c584-129">(valfritt) Om du vill aktivera Fjärrskrivbord för Molntjänsten när du har publicerat, Välj den **aktivera Fjärrskrivbord för alla roller** kryssrutan och välj sedan **inställningar** Konfigurera fjärrskrivbord.</span><span class="sxs-lookup"><span data-stu-id="2c584-129">(optional) To turn on Remote Desktop for the cloud service after you publish it, select the **Enable Remote Desktop for all Roles** check box, and then select **Settings** to configure Remote Desktop.</span></span> <span data-ttu-id="2c584-130">Om du vill felsöka din molntjänst när du har publicerat aktivera fjärrfelsökning genom att välja **aktivera fjärråtkomst felsökare för alla roller**.</span><span class="sxs-lookup"><span data-stu-id="2c584-130">If you want to debug your cloud service after you publish it, turn on remote debugging by selecting **Enable Remote Debugger for all Roles**.</span></span>
      
      <span data-ttu-id="2c584-131">Mer information finns i [med hjälp av fjärrskrivbord med Azure-roller](vs-azure-tools-remote-desktop-roles.md).</span><span class="sxs-lookup"><span data-stu-id="2c584-131">For more information, see [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md).</span></span>
   4. <span data-ttu-id="2c584-132">För att skapa paketet, Välj den **paketet** länk.</span><span class="sxs-lookup"><span data-stu-id="2c584-132">To create the package, choose the **Package** link.</span></span>
      
      <span data-ttu-id="2c584-133">Utforskaren visar sökvägen till det nya paketet.</span><span class="sxs-lookup"><span data-stu-id="2c584-133">File Explorer shows the file location of the newly created package.</span></span> <span data-ttu-id="2c584-134">Du kan kopiera den här platsen så att du kan använda den från den [klassiska Azure-portalen](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="2c584-134">You can copy this location so that you can use it from the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
   5. <span data-ttu-id="2c584-135">Om du vill publicera det här paketet till en distributionsmiljö, måste du använda den här platsen som paketplatsen när du skapar en tjänst i molnet och distribuera det här paketet till en miljö med den [klassiska Azure-portalen](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="2c584-135">To publish this package to a deployment environment, you must use this location as the Package location when you create a cloud service and deploy this package to an environment with the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
3. <span data-ttu-id="2c584-136">(Valfritt) Om du vill avbryta distributionsprocessen på snabbmenyn för artikeln i aktivitetsloggen, Välj **Avbryt och ta bort**.</span><span class="sxs-lookup"><span data-stu-id="2c584-136">(Optional) To cancel the deployment process, on the shortcut menu for the line item in the activity log, choose **Cancel and remove**.</span></span> <span data-ttu-id="2c584-137">Detta stoppar distributionsprocessen och tar bort distributionsmiljö från Azure.</span><span class="sxs-lookup"><span data-stu-id="2c584-137">This stops the deployment process and deletes the deployment environment from Azure.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="2c584-138">Om du vill ta bort den här distributionsmiljön när det har distribuerats, måste du använda den [klassiska Azure-portalen](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="2c584-138">To remove this deployment environment after it has been deployed, you must use the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
   > 
   > 
4. <span data-ttu-id="2c584-139">(Valfritt) När dina rollinstanser har startat, visar Visual Studio automatiskt distributionsmiljön i den **molntjänster** nod i Server Explorer.</span><span class="sxs-lookup"><span data-stu-id="2c584-139">(Optional) After your role instances have started, Visual Studio automatically shows the deployment environment in the **Cloud Services** node in Server Explorer.</span></span> <span data-ttu-id="2c584-140">Här kan se du status för enskilda instanser.</span><span class="sxs-lookup"><span data-stu-id="2c584-140">From here, you can see the status of the individual role instances.</span></span> <span data-ttu-id="2c584-141">Se [hantera Azure-resurser med Cloud Explorer](vs-azure-tools-resources-managing-with-cloud-explorer.md). Följande bild visar rollinstanserna medan de är fortfarande i tillståndet initierar:</span><span class="sxs-lookup"><span data-stu-id="2c584-141">See [Managing Azure resources with Cloud Explorer](vs-azure-tools-resources-managing-with-cloud-explorer.md).The following illustration shows the role instances while they are still in the Initializing state:</span></span>
   
    ![VST_DeployComputeNode](./media/vs-azure-tools-publishing-a-cloud-service/IC744134.png)

## <a name="update-a-web-role-as-part-of-the-development-and-testing-cycle"></a><span data-ttu-id="2c584-143">Uppdatera en Webbroll som en del av utveckling och testning cykel</span><span class="sxs-lookup"><span data-stu-id="2c584-143">Update a Web Role as Part of the Development and Testing Cycle</span></span>
<span data-ttu-id="2c584-144">Om appens backend-infrastruktur är stabilt, men web-roller behöver mer uppdateras regelbundet, kan du använda webbdistribution för att uppdatera en webbroll i projektet.</span><span class="sxs-lookup"><span data-stu-id="2c584-144">If your app’s backend infrastructure is stable, but the web roles need more frequent updating, you can use Web Deploy to update only a web role in your project.</span></span> <span data-ttu-id="2c584-145">Detta är praktiskt när du inte vill återskapa och distribuera om backend-arbetsroller, eller om du har flera webbroller och du vill uppdatera endast en av rollerna webb.</span><span class="sxs-lookup"><span data-stu-id="2c584-145">This is handy when you don’t want to rebuild and redeploy the backend worker roles, or if you have multiple web roles and you want to update only one of the web roles.</span></span>

### <a name="requirements"></a><span data-ttu-id="2c584-146">Krav</span><span class="sxs-lookup"><span data-stu-id="2c584-146">Requirements</span></span>
<span data-ttu-id="2c584-147">Här är kraven för att använda webbdistribution för att uppdatera din webbroll:</span><span class="sxs-lookup"><span data-stu-id="2c584-147">Here are the requirements to use Web Deploy to update your web role:</span></span>

* <span data-ttu-id="2c584-148">**Endast avsett för utveckling och testning:** ändringarna görs direkt till den virtuella datorn där webbrollen körs.</span><span class="sxs-lookup"><span data-stu-id="2c584-148">**For development and testing purposes only:** The changes are made directly to the virtual machine where the web role is running.</span></span> <span data-ttu-id="2c584-149">Om den här virtuella datorn har återvinnas, försvinner ändringarna eftersom det ursprungliga paketet som du har publicerat används för att skapa den virtuella datorn för rollen.</span><span class="sxs-lookup"><span data-stu-id="2c584-149">If this virtual machine has to be recycled, the changes are lost because the original package that you published is used to recreate the virtual machine for the role.</span></span> <span data-ttu-id="2c584-150">Du måste publicera om tillämpningsprogrammet att hämta de senaste ändringarna för webbrollen.</span><span class="sxs-lookup"><span data-stu-id="2c584-150">You must republish your application to get the latest changes for the web role.</span></span>
* <span data-ttu-id="2c584-151">**Endast webbroller kan uppdateras:** arbetsroller kan inte uppdateras.</span><span class="sxs-lookup"><span data-stu-id="2c584-151">**Only web roles can be updated:** Worker roles can’t be updated.</span></span> <span data-ttu-id="2c584-152">Dessutom kan du uppdatera RoleEntryPoint i web role.cs.</span><span class="sxs-lookup"><span data-stu-id="2c584-152">In addition, you can’t update the RoleEntryPoint in web role.cs.</span></span>
* <span data-ttu-id="2c584-153">**Stöder bara en instans av en webbroll:** du kan inte ha flera instanser av en webbserver-rollen i din distributionsmiljö.</span><span class="sxs-lookup"><span data-stu-id="2c584-153">**Can only support a single instance of a web role:** You can’t have multiple instances of any web role in your deployment environment.</span></span> <span data-ttu-id="2c584-154">Dock som flera webbroller varje med endast en instans stöds.</span><span class="sxs-lookup"><span data-stu-id="2c584-154">However, multiple web roles each with only one instance are supported.</span></span>
* <span data-ttu-id="2c584-155">**Du måste aktivera anslutning till fjärrskrivbord:** detta krävs så att webbdistribution kan använda användare och lösenord för att ansluta till den virtuella datorn för att distribuera ändringarna till den server som kör Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="2c584-155">**You must enable remote desktop connections:** This is required so that Web Deploy can use the user and password to connect to the virtual machine to deploy the changes to the server that’s running Internet Information Services (IIS).</span></span> <span data-ttu-id="2c584-156">Dessutom kan behöva du ansluta till den virtuella datorn för att lägga till ett betrott certifikat i IIS på den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="2c584-156">In addition, you might need to connect to the virtual machine to add a trusted certificate to IIS on this virtual machine.</span></span> <span data-ttu-id="2c584-157">(Det säkerställer att fjärranslutningen för IIS som används av webbdistribution är säker.)</span><span class="sxs-lookup"><span data-stu-id="2c584-157">(This ensures that the remote connection for IIS that is used by Web Deploy is secure.)</span></span>

<span data-ttu-id="2c584-158">Följande procedur förutsätter att du använder den **publicera Azure-programmet** guiden.</span><span class="sxs-lookup"><span data-stu-id="2c584-158">The following procedure assumes that you are using the **Publish Azure Application** wizard.</span></span>

### <a name="to-enable-web-deploy-when-you-publish-your-application"></a><span data-ttu-id="2c584-159">Om du vill aktivera webbdistribution när du publicerar ditt program</span><span class="sxs-lookup"><span data-stu-id="2c584-159">To Enable Web Deploy When You Publish Your Application</span></span>
1. <span data-ttu-id="2c584-160">Så här aktiverar du den **aktivera Web Deploy** för alla webbprogram roller måste du först konfigurera anslutning till fjärrskrivbord.</span><span class="sxs-lookup"><span data-stu-id="2c584-160">To enable the **Enable Web Deploy** for all web roles check box, you must first configure remote desktop connections.</span></span> <span data-ttu-id="2c584-161">Välj **aktivera Fjärrskrivbord** för alla roller och ange de autentiseringsuppgifter som används för att ansluta via fjärranslutning i den **konfiguration av fjärrskrivbord** som visas.</span><span class="sxs-lookup"><span data-stu-id="2c584-161">Select **Enable Remote Desktop** for all roles and then supply the credentials that will be used to connect remotely in the **Remote Desktop Configuration** box that appears.</span></span> <span data-ttu-id="2c584-162">Se [med hjälp av fjärrskrivbord med Azure-roller](vs-azure-tools-remote-desktop-roles.md) för mer information.</span><span class="sxs-lookup"><span data-stu-id="2c584-162">See [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md) for more information.</span></span>
2. <span data-ttu-id="2c584-163">Välj för att aktivera webbdistribution för webbroller i ditt program **aktivera webbdistribution för alla webbroller för**.</span><span class="sxs-lookup"><span data-stu-id="2c584-163">To enable Web Deploy for all the web roles in your application, select **Enable Web Deploy for all web roles**.</span></span>
   
    <span data-ttu-id="2c584-164">En gul varningstriangel visas.</span><span class="sxs-lookup"><span data-stu-id="2c584-164">A yellow warning triangle appears.</span></span> <span data-ttu-id="2c584-165">Webbdistribution använder en icke betrodd och självsignerat certifikat som standard, vilket inte rekommenderas för uppladdning av känsliga data.</span><span class="sxs-lookup"><span data-stu-id="2c584-165">Web Deploy uses an untrusted, self-signed certificate by default, which is not recommended for uploading sensitive data.</span></span> <span data-ttu-id="2c584-166">Om du behöver att skydda den här processen för känsliga data kan du lägga till ett SSL-certifikat som ska användas för Web Deploy-anslutningar.</span><span class="sxs-lookup"><span data-stu-id="2c584-166">If you need to secure this process for sensitive data, you can add a SSL certificate to be used for Web Deploy connections.</span></span> <span data-ttu-id="2c584-167">Det här certifikatet måste vara ett betrott certifikat.</span><span class="sxs-lookup"><span data-stu-id="2c584-167">This certificate needs to be a trusted certificate.</span></span> <span data-ttu-id="2c584-168">Information om hur du gör detta finns i avsnittet **att göra Web distribuera säkra** senare i det här avsnittet.</span><span class="sxs-lookup"><span data-stu-id="2c584-168">For information about how to do this, see the section **To Make Web Deploy Secure** later in this topic.</span></span>
3. <span data-ttu-id="2c584-169">Välj **nästa** att visa den **sammanfattning** skärmen och väljer sedan **publicera** att distribuera Molntjänsten.</span><span class="sxs-lookup"><span data-stu-id="2c584-169">Choose **Next** to show the **Summary** screen, and then choose **Publish** to deploy the cloud service.</span></span>
   
    <span data-ttu-id="2c584-170">Molntjänsten har publicerats.</span><span class="sxs-lookup"><span data-stu-id="2c584-170">The cloud service is published.</span></span> <span data-ttu-id="2c584-171">Den virtuella datorn som skapas har fjärranslutningar aktiverade för IIS så att webbdistribution kan användas för att uppdatera web-roller utan att publicera dem.</span><span class="sxs-lookup"><span data-stu-id="2c584-171">The virtual machine that is created has remote connections enabled for IIS so that Web Deploy can be used to update your web roles without republishing them.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="2c584-172">Om du har mer än en instans som konfigurerats för en webbroll, visas ett varningsmeddelande om att varje webbroll begränsas till en instans endast i paketet som skapas för att publicera programmet.</span><span class="sxs-lookup"><span data-stu-id="2c584-172">If you have more than one instance configured for a web role, a warning message appears, stating that each web role will be limited to one instance only in the package that’s created to publish your application.</span></span> <span data-ttu-id="2c584-173">Välj **OK** att fortsätta.</span><span class="sxs-lookup"><span data-stu-id="2c584-173">Select **OK** to continue.</span></span> <span data-ttu-id="2c584-174">Du kan ha fler än en webbroll men bara en instans av varje roll som anges i avsnittet krav.</span><span class="sxs-lookup"><span data-stu-id="2c584-174">As stated in the Requirements section, you can have more than one web role but only one instance of each role.</span></span>
   > 
   > 

### <a name="to-update-your-web-role-by-using-web-deploy"></a><span data-ttu-id="2c584-175">Om du vill uppdatera din Webbroll med webbdistribution</span><span class="sxs-lookup"><span data-stu-id="2c584-175">To Update Your Web Role by Using Web Deploy</span></span>
1. <span data-ttu-id="2c584-176">Om du vill använda webbdistribution måste göra kodändringar i projektet för någon av dina webbroller i Visual Studio som du vill publicera, högerklicka på den här projektnoden i din lösning och peka på **publicera**.</span><span class="sxs-lookup"><span data-stu-id="2c584-176">To use Web Deploy, make code changes to the project for any of your web roles in Visual Studio that you want to publish, and then right-click this project node in your solution and point to **Publish**.</span></span> <span data-ttu-id="2c584-177">Den **Publicera webbplats** dialogrutan visas.</span><span class="sxs-lookup"><span data-stu-id="2c584-177">The **Publish Web** dialog box appears.</span></span>
2. <span data-ttu-id="2c584-178">(Valfritt) Om du har lagt till ett betrott SSL-certifikat ska användas för fjärranslutningar i IIS kan du rensa den **Tillåt ej betrodda certifikat** kryssrutan.</span><span class="sxs-lookup"><span data-stu-id="2c584-178">(Optional) If you added a trusted SSL certificate to use for remote connections for IIS, you can clear the **Allow untrusted certificate** check box.</span></span> <span data-ttu-id="2c584-179">Information om hur du lägger till ett certifikat för att göra webbdistribution säker, finns i avsnittet **att göra Web distribuera säkra** senare i det här avsnittet.</span><span class="sxs-lookup"><span data-stu-id="2c584-179">For information about how to add a certificate to make Web Deploy secure, see the section **To Make Web Deploy Secure** later in this topic.</span></span>
3. <span data-ttu-id="2c584-180">Om du vill använda webbdistribution måste publicera mekanism användarnamn och lösenord som du ställer in för din anslutning till fjärrskrivbord när du först publicerade paketet.</span><span class="sxs-lookup"><span data-stu-id="2c584-180">To use Web Deploy, the publish mechanism needs the user name and password that you set up for your remote desktop connection when you first published the package.</span></span>
   
   1. <span data-ttu-id="2c584-181">I **användarnamn**, ange namnet på användaren.</span><span class="sxs-lookup"><span data-stu-id="2c584-181">In **User name**, enter the user name.</span></span>
   2. <span data-ttu-id="2c584-182">I **lösenord**, ange lösenordet.</span><span class="sxs-lookup"><span data-stu-id="2c584-182">In **Password**, enter the password.</span></span>
   3. <span data-ttu-id="2c584-183">(Valfritt) Välj om du vill spara lösenordet i den här profilen **spara lösenordet**.</span><span class="sxs-lookup"><span data-stu-id="2c584-183">(Optional) If you want to save this password in this profile, choose **Save password**.</span></span>
4. <span data-ttu-id="2c584-184">Om du vill publicera ändringarna till din webbroll, Välj **publicera**.</span><span class="sxs-lookup"><span data-stu-id="2c584-184">To publish the changes to your web role, choose **Publish**.</span></span>
   
    <span data-ttu-id="2c584-185">Statusfältet visar **publicera igång**.</span><span class="sxs-lookup"><span data-stu-id="2c584-185">The status line displays **Publish started**.</span></span> <span data-ttu-id="2c584-186">När publiceringen är klar **publicera lyckades** visas.</span><span class="sxs-lookup"><span data-stu-id="2c584-186">When the publishing has completed, **Publish succeeded** appears.</span></span> <span data-ttu-id="2c584-187">Ändringarna har nu distribuerats till rollen webbserver på den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="2c584-187">The changes have now been deployed to the web role on your virtual machine.</span></span> <span data-ttu-id="2c584-188">Nu kan du börja ditt Azure-program i Azure-miljön att testa dina ändringar.</span><span class="sxs-lookup"><span data-stu-id="2c584-188">Now you can start your Azure application in the Azure environment to test your changes.</span></span>

### <a name="to-make-web-deploy-secure"></a><span data-ttu-id="2c584-189">För att distribuera webbprogram säkerheten</span><span class="sxs-lookup"><span data-stu-id="2c584-189">To Make Web Deploy Secure</span></span>
1. <span data-ttu-id="2c584-190">Webbdistribution använder en icke betrodd och självsignerat certifikat som standard, vilket inte rekommenderas för uppladdning av känsliga data.</span><span class="sxs-lookup"><span data-stu-id="2c584-190">Web Deploy uses an untrusted, self-signed certificate by default, which is not recommended for uploading sensitive data.</span></span> <span data-ttu-id="2c584-191">Om du behöver att skydda den här processen för känsliga data kan du lägga till ett SSL-certifikat som ska användas för Web Deploy-anslutningar.</span><span class="sxs-lookup"><span data-stu-id="2c584-191">If you need to secure this process for sensitive data, you can add a SSL certificate to be used for Web Deploy connections.</span></span> <span data-ttu-id="2c584-192">Det här certifikatet måste vara ett betrott certifikat som du kan hämta från en certifikatutfärdare (CA).</span><span class="sxs-lookup"><span data-stu-id="2c584-192">This certificate needs to be a trusted certificate, which you obtain from a certificate authority (CA).</span></span>
   
    <span data-ttu-id="2c584-193">Om du vill göra webbdistribution säker för varje virtuell dator för varje web-roller, måste du överföra det betrodda certifikatet som du vill använda för web distribuera till den [klassiska Azure-portalen](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="2c584-193">To make Web Deploy secure for each virtual machine for each of your web roles, you must upload the trusted certificate that you want to use for web deploy to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span> <span data-ttu-id="2c584-194">Detta säkerställer att certifikatet har lagts till den virtuella datorn som skapas för webbrollen när du publicerar ditt program.</span><span class="sxs-lookup"><span data-stu-id="2c584-194">This makes sure that the certificate is added to the virtual machine that is created for the web role when you publish your application.</span></span>
2. <span data-ttu-id="2c584-195">Följ dessa steg om du vill lägga till ett betrott SSL-certifikat i IIS ska använda för fjärranslutningar:</span><span class="sxs-lookup"><span data-stu-id="2c584-195">To add a trusted SSL certificate to IIS to use for remote connections, follow these steps:</span></span>
   
   1. <span data-ttu-id="2c584-196">För att ansluta till den virtuella datorn som kör webbrollen, väljer du instansen av rollen webbserver i **Cloud Explorer** eller **Server Explorer**, och välj sedan den **ansluta med hjälp av fjärrskrivbord**  kommando.</span><span class="sxs-lookup"><span data-stu-id="2c584-196">To connect to the virtual machine that is running the web role, select the instance of the web role in **Cloud Explorer** or **Server Explorer**, and then choose the **Connect using Remote Desktop** command.</span></span> <span data-ttu-id="2c584-197">Detaljerade anvisningar om hur du ansluter till den virtuella datorn finns [med hjälp av fjärrskrivbord med Azure-roller](vs-azure-tools-remote-desktop-roles.md).</span><span class="sxs-lookup"><span data-stu-id="2c584-197">For detailed steps about how to connect to the virtual machine, see [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md).</span></span>
      
      <span data-ttu-id="2c584-198">Din webbläsare uppmanas du att hämta en. RDP-filen.</span><span class="sxs-lookup"><span data-stu-id="2c584-198">Your browser will prompt you to download an .RDP file.</span></span>
   2. <span data-ttu-id="2c584-199">Om du vill lägga till ett SSL-certifikat, öppna management-tjänsten i IIS-hanteraren.</span><span class="sxs-lookup"><span data-stu-id="2c584-199">To add an SSL certificate, open the management service in IIS Manager.</span></span> <span data-ttu-id="2c584-200">I IIS-hanteraren aktivera SSL genom att öppna den **bindningar** länken i den **åtgärd** fönstret.</span><span class="sxs-lookup"><span data-stu-id="2c584-200">In IIS Manager, enable SSL by opening the **Bindings** link in the **Action** pane.</span></span> <span data-ttu-id="2c584-201">Den **Lägg till webbplatsbindning** dialogrutan visas.</span><span class="sxs-lookup"><span data-stu-id="2c584-201">The **Add Site Binding** dialog box appears.</span></span> <span data-ttu-id="2c584-202">Välj **Lägg till**, och välj sedan HTTPS i den **typen** listrutan.</span><span class="sxs-lookup"><span data-stu-id="2c584-202">Choose **Add**, and then choose HTTPS in the **Type** dropdown list.</span></span> <span data-ttu-id="2c584-203">I den **SSL-certifikat** Välj SSL-certifikatet som du har signerats av en Certifikatutfärdare och att du har överförts till den [klassiska Azure-portalen](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="2c584-203">In the **SSL certificate** list, choose the SSL certificate that you had signed by a CA and that you uploaded to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span> <span data-ttu-id="2c584-204">Mer information finns i [Konfigurera anslutningsinställningar för hanteringstjänsten](http://go.microsoft.com/fwlink/?LinkId=215824).</span><span class="sxs-lookup"><span data-stu-id="2c584-204">For more information, see [Configure Connection Settings for the Management Service](http://go.microsoft.com/fwlink/?LinkId=215824).</span></span>
      
      > [!NOTE]
      > <span data-ttu-id="2c584-205">Om du lägger till ett betrott certifikat för SSL på gul varningstriangel inte längre visas i den **Publiceringsguiden**.</span><span class="sxs-lookup"><span data-stu-id="2c584-205">If you add a trusted SSL certificate, the yellow warning triangle no longer appears in the **Publish Wizard**.</span></span>
      > 
      > 

## <a name="include-files-in-the-service-package"></a><span data-ttu-id="2c584-206">Ta med filer i tjänstepaketet</span><span class="sxs-lookup"><span data-stu-id="2c584-206">Include Files in the Service Package</span></span>
<span data-ttu-id="2c584-207">Du kan behöva inkludera specifika filer i tjänstepaketet så att de är tillgängliga på den virtuella datorn som skapas för en roll.</span><span class="sxs-lookup"><span data-stu-id="2c584-207">You might need to include specific files in your service package so that they are available on the virtual machine that is created for a role.</span></span> <span data-ttu-id="2c584-208">Du kanske vill lägga till en .exe eller en MSI-fil som används av ett startskript till ditt abonnemang.</span><span class="sxs-lookup"><span data-stu-id="2c584-208">For example, you might want to add an .exe or an .msi file that is used by a startup script to your service package.</span></span> <span data-ttu-id="2c584-209">Eller kanske du måste lägga till en sammansättning som kräver en roll eller worker webbrollsprojektet.</span><span class="sxs-lookup"><span data-stu-id="2c584-209">Or you might need to add an assembly that a web role or worker role project requires.</span></span> <span data-ttu-id="2c584-210">Inkludera filer som de måste läggas till lösningen för ditt Azure-program.</span><span class="sxs-lookup"><span data-stu-id="2c584-210">To include files they must be added to the solution for your Azure application.</span></span>

### <a name="to-include-files-in-the-service-package"></a><span data-ttu-id="2c584-211">Inkludera filer i tjänstepaketet</span><span class="sxs-lookup"><span data-stu-id="2c584-211">To include files in the service package</span></span>
1. <span data-ttu-id="2c584-212">Använd följande steg för att lägga till en sammansättning i ett tjänstepaket:</span><span class="sxs-lookup"><span data-stu-id="2c584-212">To add an assembly to a service package, use the following steps:</span></span>
   
   1. <span data-ttu-id="2c584-213">I **Solution Explorer** öppna projektnoden för projektet som saknar den refererade sammansättningen.</span><span class="sxs-lookup"><span data-stu-id="2c584-213">In **Solution Explorer** open the project node for the project that is missing the referenced assembly.</span></span>
   2. <span data-ttu-id="2c584-214">Lägg till sammansättningen i projektet genom att öppna snabbmenyn för den **referenser** mapp och välj sedan **Lägg till referens**.</span><span class="sxs-lookup"><span data-stu-id="2c584-214">To add the assembly to the project, open the shortcut menu for the **References** folder and then choose **Add Reference**.</span></span> <span data-ttu-id="2c584-215">Dialogrutan Lägg till referens visas.</span><span class="sxs-lookup"><span data-stu-id="2c584-215">The Add Reference dialog appears.</span></span>
   3. <span data-ttu-id="2c584-216">Välj den referens som du vill lägga till och välj sedan den **OK** knappen.</span><span class="sxs-lookup"><span data-stu-id="2c584-216">Choose the reference that you want to add and then choose the **OK** button.</span></span>
      
      <span data-ttu-id="2c584-217">Referensen har lagts till i listan under den **referenser** mapp.</span><span class="sxs-lookup"><span data-stu-id="2c584-217">The reference is added to the list under the **References** folder.</span></span>
   4. <span data-ttu-id="2c584-218">Öppna snabbmenyn för sammansättningen som du har lagt till och välj **egenskaper**.</span><span class="sxs-lookup"><span data-stu-id="2c584-218">Open the shortcut menu for the assembly that you added and choose **Properties**.</span></span> <span data-ttu-id="2c584-219">Den **egenskaper** visas.</span><span class="sxs-lookup"><span data-stu-id="2c584-219">The **Properties** window appears.</span></span>
      
      <span data-ttu-id="2c584-220">Med den här sammansättningen i service-paketet i den **kopiera lokala listan** Välj **True**.</span><span class="sxs-lookup"><span data-stu-id="2c584-220">To include this assembly in the service package, in the **Copy Local list** choose **True**.</span></span>
2. <span data-ttu-id="2c584-221">I **Solution Explorer** öppna projektnoden för projektet som saknar den refererade sammansättningen.</span><span class="sxs-lookup"><span data-stu-id="2c584-221">In **Solution Explorer** open the project node for the project that is missing the referenced assembly.</span></span>
3. <span data-ttu-id="2c584-222">Lägg till sammansättningen i projektet genom att öppna snabbmenyn för den **referenser** mapp och välj sedan **Lägg till referens**.</span><span class="sxs-lookup"><span data-stu-id="2c584-222">To add the assembly to the project, open the shortcut menu for the **References** folder and then choose **Add Reference**.</span></span> <span data-ttu-id="2c584-223">Den **Lägg till referens** visas.</span><span class="sxs-lookup"><span data-stu-id="2c584-223">The **Add Reference** dialog appears.</span></span>
4. <span data-ttu-id="2c584-224">Välj den referens som du vill lägga till och välj sedan den **OK** knappen.</span><span class="sxs-lookup"><span data-stu-id="2c584-224">Choose the reference that you want to add and then choose the **OK** button.</span></span>
   
    <span data-ttu-id="2c584-225">Referensen har lagts till i listan under den **referenser** mapp.</span><span class="sxs-lookup"><span data-stu-id="2c584-225">The reference is added to the list under the **References** folder.</span></span>
5. <span data-ttu-id="2c584-226">Öppna snabbmenyn för sammansättningen som du har lagt till och välj **egenskaper**.</span><span class="sxs-lookup"><span data-stu-id="2c584-226">Open the shortcut menu for the assembly that you added and choose **Properties**.</span></span> <span data-ttu-id="2c584-227">Fönstret Egenskaper visas.</span><span class="sxs-lookup"><span data-stu-id="2c584-227">The Properties window appears.</span></span>
6. <span data-ttu-id="2c584-228">Att inkludera den här sammansättningen i service-paketet i den **kopiera lokala** Välj **SANT**.</span><span class="sxs-lookup"><span data-stu-id="2c584-228">To include this assembly in the service package, in the **Copy Local** list, choose **True**.</span></span>
7. <span data-ttu-id="2c584-229">Om du vill ta med filer i tjänstepaketet som har lagts till din webbrollsprojektet, öppna snabbmenyn för filen och välj sedan **egenskaper**.</span><span class="sxs-lookup"><span data-stu-id="2c584-229">To include files in the service package that have been added to your web role project, open the shortcut menu for the file, and then choose **Properties**.</span></span> <span data-ttu-id="2c584-230">Från den **egenskaper** fönstret Välj **innehåll** från den **Skapa åtgärd** listrutan.</span><span class="sxs-lookup"><span data-stu-id="2c584-230">From the **Properties** window, choose **Content** from the **Build Action** list box.</span></span>
8. <span data-ttu-id="2c584-231">Om du vill ta med filer i tjänstepaketet som har lagts till arbetsrollsprojektet, öppna snabbmenyn för filen och välj sedan **egenskaper**.</span><span class="sxs-lookup"><span data-stu-id="2c584-231">To include files in the service package that have been added to your worker role project, open the shortcut menu for the file, and then choose **Properties**.</span></span> <span data-ttu-id="2c584-232">Från den **egenskaper** fönstret Välj **kopiera om nyare** från den **kopiera till utdatakatalog** listrutan.</span><span class="sxs-lookup"><span data-stu-id="2c584-232">From the **Properties** window, choose **Copy if newer** from the **Copy to output directory** list box.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2c584-233">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="2c584-233">Next steps</span></span>
<span data-ttu-id="2c584-234">Läs mer om hur du publicerar till Azure från Visual Studio i [Publiceringsguiden för Azure-program](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="2c584-234">To learn more about publishing to Azure from Visual Studio, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

