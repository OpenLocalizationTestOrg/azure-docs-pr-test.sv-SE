---
title: "Felsök felkoder för Azure MFA NPS-tillägg | Microsoft Docs"
description: "Få hjälp med att lösa problem med NPS-tillägget för Azure Multi-Factor Authentication med specifika lösningar på vanliga felmeddelanden"
services: multi-factor-authentication
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: multi-factor-authentication
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/14/2017
ms.author: kgremban
ms.reviewer: yossib
ms.custom: it-pro
ms.openlocfilehash: 173353d67772c2549aa1b8ec9f2a471bd1c65677
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/03/2017
---
# <a name="resolve-error-messages-from-the-nps-extension-for-azure-multi-factor-authentication"></a><span data-ttu-id="ec31a-103">Lösa felmeddelanden från NPS-tillägg för Azure Multi-Factor Authentication</span><span class="sxs-lookup"><span data-stu-id="ec31a-103">Resolve error messages from the NPS extension for Azure Multi-Factor Authentication</span></span>

<span data-ttu-id="ec31a-104">Om det uppstår problem med NPS-tillägget för Azure Multi-Factor Authentication, kan du använda den här artikeln för att nå en lösning snabbare.</span><span class="sxs-lookup"><span data-stu-id="ec31a-104">If you encounter errors with the NPS extension for Azure Multi-Factor Authentication, use this article to reach a resolution faster.</span></span> 

## <a name="troubleshooting-steps-for-common-errors"></a><span data-ttu-id="ec31a-105">Felsökning av vanliga fel</span><span class="sxs-lookup"><span data-stu-id="ec31a-105">Troubleshooting steps for common errors</span></span>

| <span data-ttu-id="ec31a-106">Felkod</span><span class="sxs-lookup"><span data-stu-id="ec31a-106">Error code</span></span> | <span data-ttu-id="ec31a-107">Felsökningssteg</span><span class="sxs-lookup"><span data-stu-id="ec31a-107">Troubleshooting steps</span></span> |
| ---------- | --------------------- |
| <span data-ttu-id="ec31a-108">**CONTACT_SUPPORT**</span><span class="sxs-lookup"><span data-stu-id="ec31a-108">**CONTACT_SUPPORT**</span></span> | <span data-ttu-id="ec31a-109">[Kontakta supporten](#contact-microsoft-support), och nämnt lista över steg för att samla in loggar.</span><span class="sxs-lookup"><span data-stu-id="ec31a-109">[Contact support](#contact-microsoft-support), and mention the list of steps for collecting logs.</span></span> <span data-ttu-id="ec31a-110">Ange så mycket information som du kan om vad som hänt innan felet, inklusive klient-id och användarens huvudnamn (UPN).</span><span class="sxs-lookup"><span data-stu-id="ec31a-110">Provide as much information as you can about what happened before the error, including tenant id, and user principal name (UPN).</span></span> |
| <span data-ttu-id="ec31a-111">**CLIENT_CERT_INSTALL_ERROR**</span><span class="sxs-lookup"><span data-stu-id="ec31a-111">**CLIENT_CERT_INSTALL_ERROR**</span></span> | <span data-ttu-id="ec31a-112">Det kan finnas ett problem med hur klientcertifikatet installerades eller som är associerade med din klient.</span><span class="sxs-lookup"><span data-stu-id="ec31a-112">There may be an issue with how the client certificate was installed or associated with your tenant.</span></span> <span data-ttu-id="ec31a-113">Följ instruktionerna i [felsökning MFA NPS-tillägget](multi-factor-authentication-nps-extension.md#troubleshooting) att undersöka problem med klient-certifikat.</span><span class="sxs-lookup"><span data-stu-id="ec31a-113">Follow the instructions in [Troubleshooting the MFA NPS extension](multi-factor-authentication-nps-extension.md#troubleshooting) to investigate client cert problems.</span></span> |
| <span data-ttu-id="ec31a-114">**ESTS_TOKEN_ERROR**</span><span class="sxs-lookup"><span data-stu-id="ec31a-114">**ESTS_TOKEN_ERROR**</span></span> | <span data-ttu-id="ec31a-115">Följ instruktionerna i [felsökning MFA NPS-tillägget](multi-factor-authentication-nps-extension.md#troubleshooting) för att undersöka klienten cert och ADAL token problem.</span><span class="sxs-lookup"><span data-stu-id="ec31a-115">Follow the instructions in [Troubleshooting the MFA NPS extension](multi-factor-authentication-nps-extension.md#troubleshooting) to investigate client cert and ADAL token problems.</span></span> |
| <span data-ttu-id="ec31a-116">**HTTPS_COMMUNICATION_ERROR**</span><span class="sxs-lookup"><span data-stu-id="ec31a-116">**HTTPS_COMMUNICATION_ERROR**</span></span> | <span data-ttu-id="ec31a-117">NPS-servern kan inte ta emot svar från Azure MFA.</span><span class="sxs-lookup"><span data-stu-id="ec31a-117">The NPS server is unable to receive responses from Azure MFA.</span></span> <span data-ttu-id="ec31a-118">Kontrollera att dina brandväggar är öppet åt två håll för trafik till och från https://adnotifications.windowsazure.com</span><span class="sxs-lookup"><span data-stu-id="ec31a-118">Verify that your firewalls are open bidirectionally for traffic to and from https://adnotifications.windowsazure.com</span></span> |
| <span data-ttu-id="ec31a-119">**HTTP_CONNECT_ERROR**</span><span class="sxs-lookup"><span data-stu-id="ec31a-119">**HTTP_CONNECT_ERROR**</span></span> | <span data-ttu-id="ec31a-120">Kontrollera att du kan nå https://adnotifications.windowsazure.com och https://login.microsoftonline.com/ på den server som kör NPS-tillägget.</span><span class="sxs-lookup"><span data-stu-id="ec31a-120">On the server that runs the NPS extension, verify that you can reach  https://adnotifications.windowsazure.com and https://login.microsoftonline.com/.</span></span> <span data-ttu-id="ec31a-121">Om dessa platser inte ladda, felsöka anslutning på den servern.</span><span class="sxs-lookup"><span data-stu-id="ec31a-121">If those sites don't load, troubleshoot connectivity on that server.</span></span> |
| <span data-ttu-id="ec31a-122">**REGISTRY_CONFIG_ERROR**</span><span class="sxs-lookup"><span data-stu-id="ec31a-122">**REGISTRY_CONFIG_ERROR**</span></span> | <span data-ttu-id="ec31a-123">En nyckel saknas i registret för programmet, vilket kan bero på att den [PowerShell-skript](multi-factor-authentication-nps-extension.md#install-the-nps-extension) inte kör efter installationen.</span><span class="sxs-lookup"><span data-stu-id="ec31a-123">A key is missing in the registry for the application, which may be because the [PowerShell script](multi-factor-authentication-nps-extension.md#install-the-nps-extension) wasn't run after installation.</span></span> <span data-ttu-id="ec31a-124">Felmeddelandet ska innehålla nyckeln som saknas.</span><span class="sxs-lookup"><span data-stu-id="ec31a-124">The error message should include the missing key.</span></span> <span data-ttu-id="ec31a-125">Kontrollera att du har nyckeln under HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\AzureMfa.</span><span class="sxs-lookup"><span data-stu-id="ec31a-125">Make sure you have the key under HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\AzureMfa.</span></span> |
| <span data-ttu-id="ec31a-126">**REQUEST_FORMAT_ERROR**</span><span class="sxs-lookup"><span data-stu-id="ec31a-126">**REQUEST_FORMAT_ERROR**</span></span> <br> <span data-ttu-id="ec31a-127">RADIUS-begäran saknar det obligatoriska attributet för Radius-userName\Identifier. Kontrollera att NPS får RADIUS-begäranden</span><span class="sxs-lookup"><span data-stu-id="ec31a-127">Radius Request missing mandatory Radius userName\Identifier attribute.Verify that NPS is receiving RADIUS requests</span></span> | <span data-ttu-id="ec31a-128">Det här felet visar vanligtvis ett installationsproblem.</span><span class="sxs-lookup"><span data-stu-id="ec31a-128">This error usually reflects an installation issue.</span></span> <span data-ttu-id="ec31a-129">NPS-tillägget måste vara installerad i NPS-servrar som kan ta emot RADIUS-begäranden.</span><span class="sxs-lookup"><span data-stu-id="ec31a-129">The NPS extension must be installed in NPS servers that can receive RADIUS requests.</span></span> <span data-ttu-id="ec31a-130">NPS-servrar som är installerade som beroenden för tjänster som Fjärrskrivbordsgateway och RRAS inte ta emot radius-begäranden.</span><span class="sxs-lookup"><span data-stu-id="ec31a-130">NPS servers that are installed as dependencies for services like RDG and RRAS don't receive radius requests.</span></span> <span data-ttu-id="ec31a-131">NPS-tillägg fungerar inte när du installerar över sådana installationer och fel eftersom det inte går att läsa information från autentiseringsbegäran.</span><span class="sxs-lookup"><span data-stu-id="ec31a-131">NPS Extension does not work when installed over such installations and errors out since it cannot read the details from the authentication request.</span></span> |
| <span data-ttu-id="ec31a-132">**REQUEST_MISSING_CODE**</span><span class="sxs-lookup"><span data-stu-id="ec31a-132">**REQUEST_MISSING_CODE**</span></span> | <span data-ttu-id="ec31a-133">Kontrollera att lösenordet krypteringsprotokollet mellan NPS- och NAS stöder sekundära autentiseringsmetoden som du använder.</span><span class="sxs-lookup"><span data-stu-id="ec31a-133">Make sure that the password encryption protocol between the NPS and NAS servers supports the secondary authentication method that you're using.</span></span> <span data-ttu-id="ec31a-134">**PAP** stöder alla autentiseringsmetoder i Azure MFA i molnet: telefonsamtal, enkelriktade SMS, mobilappavisering och Verifieringskod för mobila appar.</span><span class="sxs-lookup"><span data-stu-id="ec31a-134">**PAP** supports all the authentication methods of Azure MFA in the cloud: phone call, one-way text message, mobile app notification, and mobile app verification code.</span></span> <span data-ttu-id="ec31a-135">**CHAPv2** och **EAP** stöd för telefonsamtal och mobilappavisering.</span><span class="sxs-lookup"><span data-stu-id="ec31a-135">**CHAPV2** and **EAP** support phone call and mobile app notification.</span></span> |
| <span data-ttu-id="ec31a-136">**USERNAME_CANONICALIZATION_ERROR**</span><span class="sxs-lookup"><span data-stu-id="ec31a-136">**USERNAME_CANONICALIZATION_ERROR**</span></span> | <span data-ttu-id="ec31a-137">Kontrollera att användaren är tillgänglig i din lokala Active Directory-instans och att NPS-tjänsten har behörighet att få åtkomst till katalogen.</span><span class="sxs-lookup"><span data-stu-id="ec31a-137">Verify that the user is present in your on-premises Active Directory instance, and that the NPS Service has permissions to access the directory.</span></span> <span data-ttu-id="ec31a-138">Om du använder förtroenden mellan skogar, [supporten](#contact-microsoft-support) för ytterligare hjälp.</span><span class="sxs-lookup"><span data-stu-id="ec31a-138">If you are using cross-forest trusts, [contact support](#contact-microsoft-support) for further help.</span></span> |


   

### <a name="alternate-login-id-errors"></a><span data-ttu-id="ec31a-139">Alternativt inloggnings-ID-fel</span><span class="sxs-lookup"><span data-stu-id="ec31a-139">Alternate login ID errors</span></span>

| <span data-ttu-id="ec31a-140">Felkod</span><span class="sxs-lookup"><span data-stu-id="ec31a-140">Error code</span></span> | <span data-ttu-id="ec31a-141">Felmeddelande</span><span class="sxs-lookup"><span data-stu-id="ec31a-141">Error message</span></span> | <span data-ttu-id="ec31a-142">Felsökningssteg</span><span class="sxs-lookup"><span data-stu-id="ec31a-142">Troubleshooting steps</span></span> |
| ---------- | ------------- | --------------------- |
| <span data-ttu-id="ec31a-143">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="ec31a-143">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="ec31a-144">Fel: userObjectSid sökning misslyckades</span><span class="sxs-lookup"><span data-stu-id="ec31a-144">Error: userObjectSid lookup failed</span></span> | <span data-ttu-id="ec31a-145">Kontrollera att användaren finns i din lokala Active Directory-instans.</span><span class="sxs-lookup"><span data-stu-id="ec31a-145">Verify that the user exists in your on-premises Active Directory instance.</span></span> <span data-ttu-id="ec31a-146">Om du använder förtroenden mellan skogar, [supporten](#contact-microsoft-support) för ytterligare hjälp.</span><span class="sxs-lookup"><span data-stu-id="ec31a-146">If you are using cross-forest trusts, [contact support](#contact-microsoft-support) for further help.</span></span> |
| <span data-ttu-id="ec31a-147">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="ec31a-147">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="ec31a-148">Fel: Det gick inte att alternativa LoginId sökning</span><span class="sxs-lookup"><span data-stu-id="ec31a-148">Error: Alternate LoginId lookup failed</span></span> | <span data-ttu-id="ec31a-149">Kontrollera att LDAP_ALTERNATE_LOGINID_ATTRIBUTE är en [giltigt active directory-attributet](https://msdn.microsoft.com/library/ms675090(v=vs.85).aspx).</span><span class="sxs-lookup"><span data-stu-id="ec31a-149">Verify that LDAP_ALTERNATE_LOGINID_ATTRIBUTE is set to a [valid active directory attribute](https://msdn.microsoft.com/library/ms675090(v=vs.85).aspx).</span></span> <br><br> <span data-ttu-id="ec31a-150">Om LDAP_FORCE_GLOBAL_CATALOG har angetts till True, eller LDAP_LOOKUP_FORESTS har konfigurerats med ett tomt värde, kontrollera att du har konfigurerat en Global katalog och att attributet AlternateLoginId har lagts till den.</span><span class="sxs-lookup"><span data-stu-id="ec31a-150">If LDAP_FORCE_GLOBAL_CATALOG is set to True, or LDAP_LOOKUP_FORESTS is configured with a non-empty value, verify that you have configured a Global Catalog and that the AlternateLoginId attribute is added to it.</span></span> <br><br> <span data-ttu-id="ec31a-151">Om LDAP_LOOKUP_FORESTS är konfigurerad med ett tomt värde, kan du kontrollera att värdet är korrekt.</span><span class="sxs-lookup"><span data-stu-id="ec31a-151">If LDAP_LOOKUP_FORESTS is configured with a non-empty value, verify that the value is correct.</span></span> <span data-ttu-id="ec31a-152">Om det finns fler än en skogsnamnet, måste namnen vara avgränsade med semikolon, inte blanksteg.</span><span class="sxs-lookup"><span data-stu-id="ec31a-152">If there is more than one forest name, the names must be separated with semi-colons, not spaces.</span></span> <br><br> <span data-ttu-id="ec31a-153">Om stegen inte löser problemet, [supporten](#contact-microsoft-support) mer hjälp.</span><span class="sxs-lookup"><span data-stu-id="ec31a-153">If these steps don't fix the problem, [contact support](#contact-microsoft-support) for more help.</span></span> |
| <span data-ttu-id="ec31a-154">**ALTERNATE_LOGIN_ID_ERROR**</span><span class="sxs-lookup"><span data-stu-id="ec31a-154">**ALTERNATE_LOGIN_ID_ERROR**</span></span> | <span data-ttu-id="ec31a-155">Fel: Alternativ LoginId värdet är tomt</span><span class="sxs-lookup"><span data-stu-id="ec31a-155">Error: Alternate LoginId value is empty</span></span> | <span data-ttu-id="ec31a-156">Kontrollera att attributet AlternateLoginId har konfigurerats för användaren.</span><span class="sxs-lookup"><span data-stu-id="ec31a-156">Verify that the AlternateLoginId attribute is configured for the user.</span></span> |


## <a name="errors-your-users-may-encounter"></a><span data-ttu-id="ec31a-157">Fel kan uppstå när dina användare</span><span class="sxs-lookup"><span data-stu-id="ec31a-157">Errors your users may encounter</span></span>

| <span data-ttu-id="ec31a-158">Felkod</span><span class="sxs-lookup"><span data-stu-id="ec31a-158">Error code</span></span> | <span data-ttu-id="ec31a-159">Felmeddelande</span><span class="sxs-lookup"><span data-stu-id="ec31a-159">Error message</span></span> | <span data-ttu-id="ec31a-160">Felsökningssteg</span><span class="sxs-lookup"><span data-stu-id="ec31a-160">Troubleshooting steps</span></span> |
| ---------- | ------------- | --------------------- |
| <span data-ttu-id="ec31a-161">**AccessDenied**</span><span class="sxs-lookup"><span data-stu-id="ec31a-161">**AccessDenied**</span></span> | <span data-ttu-id="ec31a-162">Anroparen klienten har inte behörighet att utföra autentiseringen för användaren</span><span class="sxs-lookup"><span data-stu-id="ec31a-162">Caller tenant does not have access permissions to do authentication for the user</span></span> | <span data-ttu-id="ec31a-163">Kontrollera om klientdomänen och domänen för användarens huvudnamn (UPN) är samma.</span><span class="sxs-lookup"><span data-stu-id="ec31a-163">Check whether the tenant domain and the domain of the user principal name (UPN) are the same.</span></span> <span data-ttu-id="ec31a-164">Till exempel se till att user@contoso.com försöker autentisera till Contoso-klienten.</span><span class="sxs-lookup"><span data-stu-id="ec31a-164">For example, make sure that user@contoso.com is trying to authenticate to the Contoso tenant.</span></span> <span data-ttu-id="ec31a-165">UPN representerar en giltig användare för klienten i Azure.</span><span class="sxs-lookup"><span data-stu-id="ec31a-165">The UPN represents a valid user for the tenant in Azure.</span></span> |
| <span data-ttu-id="ec31a-166">**AuthenticationMethodNotConfigured**</span><span class="sxs-lookup"><span data-stu-id="ec31a-166">**AuthenticationMethodNotConfigured**</span></span> | <span data-ttu-id="ec31a-167">Angiven autentiseringsmetod har inte konfigurerats för användaren</span><span class="sxs-lookup"><span data-stu-id="ec31a-167">The specified authentication method was not configured for the user</span></span> | <span data-ttu-id="ec31a-168">Behörighet att lägga till eller verifiera sina verifieringsmetoderna enligt anvisningarna i [hantera inställningar för tvåstegsverifiering](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="ec31a-168">Have the user add or verify their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> |
| <span data-ttu-id="ec31a-169">**AuthenticationMethodNotSupported**</span><span class="sxs-lookup"><span data-stu-id="ec31a-169">**AuthenticationMethodNotSupported**</span></span> | <span data-ttu-id="ec31a-170">Angiven autentiseringsmetod stöds inte.</span><span class="sxs-lookup"><span data-stu-id="ec31a-170">Specified authentication method is not supported.</span></span> | <span data-ttu-id="ec31a-171">Samla in alla loggfiler som innehåller det här felet och [supporten](#contact-microsoft-support).</span><span class="sxs-lookup"><span data-stu-id="ec31a-171">Collect all your logs that include this error, and [contact support](#contact-microsoft-support).</span></span> <span data-ttu-id="ec31a-172">Ange användarnamnet och det sekundära verifieringsmetod som utlöste felet när du kontaktar supporten.</span><span class="sxs-lookup"><span data-stu-id="ec31a-172">When you contact support, provide the username and the secondary verification method that triggered the error.</span></span> |
| <span data-ttu-id="ec31a-173">**BecAccessDenied**</span><span class="sxs-lookup"><span data-stu-id="ec31a-173">**BecAccessDenied**</span></span> | <span data-ttu-id="ec31a-174">MSODS Bec-anropet returnerade åtkomst nekad, förmodligen användarnamnet har inte definierats i klienten</span><span class="sxs-lookup"><span data-stu-id="ec31a-174">MSODS Bec call returned access denied, probably the username is not defined in the tenant</span></span> | <span data-ttu-id="ec31a-175">Användaren finns i Active Directory lokalt men har synkroniserats inte till Azure AD med AD Connect.</span><span class="sxs-lookup"><span data-stu-id="ec31a-175">The user is present in Active Directory on-premises but is not synced into Azure AD by AD Connect.</span></span> <span data-ttu-id="ec31a-176">Eller användaren saknas för klienten.</span><span class="sxs-lookup"><span data-stu-id="ec31a-176">Or, the user is missing for the tenant.</span></span> <span data-ttu-id="ec31a-177">Lägga till användaren i Azure AD och ha dem lägga till sina verifieringsmetoderna enligt anvisningarna i [hantera inställningar för tvåstegsverifiering](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="ec31a-177">Add the user to Azure AD and have them add their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> |
| <span data-ttu-id="ec31a-178">**InvalidFormat** eller **StrongAuthenticationServiceInvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="ec31a-178">**InvalidFormat** or **StrongAuthenticationServiceInvalidParameter**</span></span> | <span data-ttu-id="ec31a-179">Telefonnumret är i ett okänt format</span><span class="sxs-lookup"><span data-stu-id="ec31a-179">The phone number is in an unrecognizable format</span></span> | <span data-ttu-id="ec31a-180">Låt användaren korrigera deras telefonnummer för verifiering.</span><span class="sxs-lookup"><span data-stu-id="ec31a-180">Have the user correct their verification phone numbers.</span></span> |
| <span data-ttu-id="ec31a-181">**InvalidSession**</span><span class="sxs-lookup"><span data-stu-id="ec31a-181">**InvalidSession**</span></span> | <span data-ttu-id="ec31a-182">Den angivna sessionen är ogiltig eller har gått ut</span><span class="sxs-lookup"><span data-stu-id="ec31a-182">The specified session is invalid or may have expired</span></span> | <span data-ttu-id="ec31a-183">Sessionen har trätt i mer än tre minuter att slutföra.</span><span class="sxs-lookup"><span data-stu-id="ec31a-183">The session has taken more than three minutes to complete.</span></span> <span data-ttu-id="ec31a-184">Kontrollera att användaren att ange verifieringskoden eller svara på appmeddelande inom tre minuter för inledande autentiseringsförfrågan.</span><span class="sxs-lookup"><span data-stu-id="ec31a-184">Verify that the user is entering the verification code, or responding to the app notification, within three minutes of initiating the authentication request.</span></span> <span data-ttu-id="ec31a-185">Om detta inte löser problemet, kontrollerar du att det inte finns några nätverksfördröjningar mellan klienten, NAS-Server, NPS-Server och Azure MFA-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="ec31a-185">If that doesn't fix the problem, check that there are no network latencies between client, NAS Server, NPS Server, and the Azure MFA endpoint.</span></span>  |
| <span data-ttu-id="ec31a-186">**NoDefaultAuthenticationMethodIsConfigured**</span><span class="sxs-lookup"><span data-stu-id="ec31a-186">**NoDefaultAuthenticationMethodIsConfigured**</span></span> | <span data-ttu-id="ec31a-187">Ingen standardautentiseringsmetod har konfigurerats för användaren</span><span class="sxs-lookup"><span data-stu-id="ec31a-187">No default authentication method was configured for the user</span></span> | <span data-ttu-id="ec31a-188">Behörighet att lägga till eller verifiera sina verifieringsmetoderna enligt anvisningarna i [hantera inställningar för tvåstegsverifiering](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="ec31a-188">Have the user add or verify their verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> <span data-ttu-id="ec31a-189">Kontrollera att användaren har valt en standardmetoden för autentisering och konfigurerats som metod för sitt konto.</span><span class="sxs-lookup"><span data-stu-id="ec31a-189">Verify that the user has chosen a default authentication method, and configured that method for their account.</span></span> |
| <span data-ttu-id="ec31a-190">**OathCodePinIncorrect**</span><span class="sxs-lookup"><span data-stu-id="ec31a-190">**OathCodePinIncorrect**</span></span> | <span data-ttu-id="ec31a-191">Fel kod och angiven PIN-kod.</span><span class="sxs-lookup"><span data-stu-id="ec31a-191">Wrong code and pin entered.</span></span> | <span data-ttu-id="ec31a-192">Det här felet förväntas inte i NPS-tillägget.</span><span class="sxs-lookup"><span data-stu-id="ec31a-192">This error is not expected in the NPS extension.</span></span> <span data-ttu-id="ec31a-193">Om användaren påträffar, [supporten](#contact-microsoft-support) för hjälp med felsökning.</span><span class="sxs-lookup"><span data-stu-id="ec31a-193">If your user encounters this, [contact support](#contact-microsoft-support) for troubleshooting help.</span></span> |
| <span data-ttu-id="ec31a-194">**ProofDataNotFound**</span><span class="sxs-lookup"><span data-stu-id="ec31a-194">**ProofDataNotFound**</span></span> | <span data-ttu-id="ec31a-195">Bevis data har inte konfigurerats för den angivna autentiseringsmetoden.</span><span class="sxs-lookup"><span data-stu-id="ec31a-195">Proof data was not configured for the specified authentication method.</span></span> | <span data-ttu-id="ec31a-196">Låt användaren prova ett annat verifieringsmetod eller Lägg till en ny verifieringsmetoderna enligt anvisningarna i [hantera inställningar för tvåstegsverifiering](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span><span class="sxs-lookup"><span data-stu-id="ec31a-196">Have the user try a different verification method, or add a new verification methods according to the instructions in [Manage your settings for two-step verification](./end-user/multi-factor-authentication-end-user-manage-settings.md).</span></span> <span data-ttu-id="ec31a-197">Om användaren fortfarande att se det här felet när du har bekräftat att deras verifieringsmetod är korrekt konfigurerade, [supporten](#contact-microsoft-support).</span><span class="sxs-lookup"><span data-stu-id="ec31a-197">If the user continues to see this error after you confirmed that their verification method is set up correctly, [contact support](#contact-microsoft-support).</span></span> |
| <span data-ttu-id="ec31a-198">**SMSAuthFailedWrongCodePinEntered**</span><span class="sxs-lookup"><span data-stu-id="ec31a-198">**SMSAuthFailedWrongCodePinEntered**</span></span> | <span data-ttu-id="ec31a-199">Fel kod och angiven PIN-kod.</span><span class="sxs-lookup"><span data-stu-id="ec31a-199">Wrong code and pin entered.</span></span> <span data-ttu-id="ec31a-200">(OneWaySMS)</span><span class="sxs-lookup"><span data-stu-id="ec31a-200">(OneWaySMS)</span></span> | <span data-ttu-id="ec31a-201">Det här felet förväntas inte i NPS-tillägget.</span><span class="sxs-lookup"><span data-stu-id="ec31a-201">This error is not expected in the NPS extension.</span></span> <span data-ttu-id="ec31a-202">Om användaren påträffar, [supporten](#contact-microsoft-support) för hjälp med felsökning.</span><span class="sxs-lookup"><span data-stu-id="ec31a-202">If your user encounters this, [contact support](#contact-microsoft-support) for troubleshooting help.</span></span> |
| <span data-ttu-id="ec31a-203">**TenantIsBlocked**</span><span class="sxs-lookup"><span data-stu-id="ec31a-203">**TenantIsBlocked**</span></span> | <span data-ttu-id="ec31a-204">Klienten är blockerad</span><span class="sxs-lookup"><span data-stu-id="ec31a-204">Tenant is blocked</span></span> | <span data-ttu-id="ec31a-205">[Kontakta supporten](#contact-microsoft-support) med katalog-ID från Azure AD-egenskapssidan i Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="ec31a-205">[Contact support](#contact-microsoft-support) with Directory ID from the Azure AD properties page in the Azure portal.</span></span> |
| <span data-ttu-id="ec31a-206">**UserNotFound**</span><span class="sxs-lookup"><span data-stu-id="ec31a-206">**UserNotFound**</span></span> | <span data-ttu-id="ec31a-207">Det gick inte att hitta den angivna användaren</span><span class="sxs-lookup"><span data-stu-id="ec31a-207">The specified user was not found</span></span> | <span data-ttu-id="ec31a-208">Klienten inte längre visas som aktiv i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="ec31a-208">The tenant is no longer visible as active in Azure AD.</span></span> <span data-ttu-id="ec31a-209">Kontrollera att din prenumeration är aktiv och att du har de nödvändiga första part appar.</span><span class="sxs-lookup"><span data-stu-id="ec31a-209">Check that your subscription is active and you have the required first party apps.</span></span> <span data-ttu-id="ec31a-210">Kontrollera också att klienten i certifikatets ämne är som förväntat och cert fortfarande är giltig och registrerad under tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="ec31a-210">Also make sure the tenant in the certificate subject is as expected and the cert is still valid and registered under the service principal.</span></span> |

## <a name="messages-your-users-may-encounter-that-arent-errors"></a><span data-ttu-id="ec31a-211">Meddelandena som användarna kan stöta på som inte fel</span><span class="sxs-lookup"><span data-stu-id="ec31a-211">Messages your users may encounter that aren't errors</span></span>

<span data-ttu-id="ec31a-212">Ibland kan kan användarna få meddelanden från Multi-Factor Authentication eftersom deras autentiseringsbegäran misslyckades.</span><span class="sxs-lookup"><span data-stu-id="ec31a-212">Sometimes, your users may get messages from Multi-Factor Authentication because their authentication request failed.</span></span> <span data-ttu-id="ec31a-213">Dessa är inte fel i produkten av konfigurationen, men är avsiktlig varningar som förklarar varför begäran om autentisering nekades.</span><span class="sxs-lookup"><span data-stu-id="ec31a-213">These aren't errors in the product of configuration, but are intentional warnings explaining why an authentication request was denied.</span></span>

| <span data-ttu-id="ec31a-214">Felkod</span><span class="sxs-lookup"><span data-stu-id="ec31a-214">Error code</span></span> | <span data-ttu-id="ec31a-215">Felmeddelande</span><span class="sxs-lookup"><span data-stu-id="ec31a-215">Error message</span></span> | <span data-ttu-id="ec31a-216">Rekommenderade åtgärder</span><span class="sxs-lookup"><span data-stu-id="ec31a-216">Recommended steps</span></span> | 
| ---------- | ------------- | ----------------- |
| <span data-ttu-id="ec31a-217">**OathCodeIncorrect**</span><span class="sxs-lookup"><span data-stu-id="ec31a-217">**OathCodeIncorrect**</span></span> | <span data-ttu-id="ec31a-218">Fel kod entered\OATH kod felaktig</span><span class="sxs-lookup"><span data-stu-id="ec31a-218">Wrong code entered\OATH Code Incorrect</span></span> | <span data-ttu-id="ec31a-219">Användaren har angett fel kod inte ett fel.</span><span class="sxs-lookup"><span data-stu-id="ec31a-219">Not an error,User has entered wrong code.</span></span> | <span data-ttu-id="ec31a-220">Användaren angav fel kod.</span><span class="sxs-lookup"><span data-stu-id="ec31a-220">The user entered the wrong code.</span></span> <span data-ttu-id="ec31a-221">Låt användaren prova igen genom att begära en ny kod eller logga in igen.</span><span class="sxs-lookup"><span data-stu-id="ec31a-221">Have them try again by requesting a new code or signing in again.</span></span> | 
| <span data-ttu-id="ec31a-222">**SMSAuthFailedMaxAllowedCodeRetryReached**</span><span class="sxs-lookup"><span data-stu-id="ec31a-222">**SMSAuthFailedMaxAllowedCodeRetryReached**</span></span> | <span data-ttu-id="ec31a-223">Högsta tillåtna kod försök nå</span><span class="sxs-lookup"><span data-stu-id="ec31a-223">Maximum allowed code retry reached</span></span> | <span data-ttu-id="ec31a-224">Användaren inte verifiering utmaning för många gånger.</span><span class="sxs-lookup"><span data-stu-id="ec31a-224">The user failed the verification challenge too many times.</span></span> <span data-ttu-id="ec31a-225">Beroende på dina inställningar, kan de behöva avblockerad av en administratör nu.</span><span class="sxs-lookup"><span data-stu-id="ec31a-225">Depending on your settings, they may need to be unblocked by an admin now.</span></span>  |
| <span data-ttu-id="ec31a-226">**SMSAuthFailedWrongCodeEntered**</span><span class="sxs-lookup"><span data-stu-id="ec31a-226">**SMSAuthFailedWrongCodeEntered**</span></span> | <span data-ttu-id="ec31a-227">Fel kod anges/Text meddelandet OTP felaktigt</span><span class="sxs-lookup"><span data-stu-id="ec31a-227">Wrong code entered/Text Message OTP Incorrect</span></span> | <span data-ttu-id="ec31a-228">Användaren angav fel kod.</span><span class="sxs-lookup"><span data-stu-id="ec31a-228">The user entered the wrong code.</span></span> <span data-ttu-id="ec31a-229">Låt användaren prova igen genom att begära en ny kod eller logga in igen.</span><span class="sxs-lookup"><span data-stu-id="ec31a-229">Have them try again by requesting a new code or signing in again.</span></span> |

## <a name="errors-that-require-support"></a><span data-ttu-id="ec31a-230">Fel som kräver stöd</span><span class="sxs-lookup"><span data-stu-id="ec31a-230">Errors that require support</span></span>

<span data-ttu-id="ec31a-231">Om det uppstår något av dessa fel, rekommenderar vi att du [supporten](#contact-microsoft-support) diagnostiska hjälp.</span><span class="sxs-lookup"><span data-stu-id="ec31a-231">If you encounter one of these errors, we recommend that you [contact support](#contact-microsoft-support) for diagnostic help.</span></span> <span data-ttu-id="ec31a-232">Det finns ingen standarduppsättning steg som kan åtgärda dessa fel.</span><span class="sxs-lookup"><span data-stu-id="ec31a-232">There's no standard set of steps that can address these errors.</span></span> <span data-ttu-id="ec31a-233">När du kontaktar supporten, se till att ta så mycket information som möjligt om de steg som ledde till ett fel och klient-information.</span><span class="sxs-lookup"><span data-stu-id="ec31a-233">When you do contact support, be sure to include as much information as possible about the steps that led to an error, and your tenant information.</span></span>

| <span data-ttu-id="ec31a-234">Felkod</span><span class="sxs-lookup"><span data-stu-id="ec31a-234">Error code</span></span> | <span data-ttu-id="ec31a-235">Felmeddelande</span><span class="sxs-lookup"><span data-stu-id="ec31a-235">Error message</span></span> |
| ---------- | ------------- |
| <span data-ttu-id="ec31a-236">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="ec31a-236">**InvalidParameter**</span></span> | <span data-ttu-id="ec31a-237">Begäran får inte vara null</span><span class="sxs-lookup"><span data-stu-id="ec31a-237">Request must not be null</span></span> |
| <span data-ttu-id="ec31a-238">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="ec31a-238">**InvalidParameter**</span></span> | <span data-ttu-id="ec31a-239">ObjectId får inte vara null eller tomt för ReplicationScope: {0}</span><span class="sxs-lookup"><span data-stu-id="ec31a-239">ObjectId must not be null or empty for ReplicationScope:{0}</span></span> |
| <span data-ttu-id="ec31a-240">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="ec31a-240">**InvalidParameter**</span></span> | <span data-ttu-id="ec31a-241">Längden på CompanyName \{0} \ är längre än den maximalt tillåtna längden {1}</span><span class="sxs-lookup"><span data-stu-id="ec31a-241">The length of CompanyName \{0}\ is longer than the maximum allowed length {1}</span></span> |
| <span data-ttu-id="ec31a-242">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="ec31a-242">**InvalidParameter**</span></span> | <span data-ttu-id="ec31a-243">UserPrincipalName får inte vara null eller tomt</span><span class="sxs-lookup"><span data-stu-id="ec31a-243">UserPrincipalName must not be null or empty</span></span> |
| <span data-ttu-id="ec31a-244">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="ec31a-244">**InvalidParameter**</span></span> | <span data-ttu-id="ec31a-245">Den angivna TenantId har inte rätt format</span><span class="sxs-lookup"><span data-stu-id="ec31a-245">The provided TenantId is not in correct format</span></span> |
| <span data-ttu-id="ec31a-246">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="ec31a-246">**InvalidParameter**</span></span> | <span data-ttu-id="ec31a-247">Sessions-ID får inte vara null eller tomt</span><span class="sxs-lookup"><span data-stu-id="ec31a-247">SessionId must not be null or empty</span></span> |
| <span data-ttu-id="ec31a-248">**InvalidParameter**</span><span class="sxs-lookup"><span data-stu-id="ec31a-248">**InvalidParameter**</span></span> | <span data-ttu-id="ec31a-249">Det gick inte att matcha alla ProofData från begäran eller Msods.</span><span class="sxs-lookup"><span data-stu-id="ec31a-249">Could not resolve any ProofData from request or Msods.</span></span> <span data-ttu-id="ec31a-250">ProofData är okänd</span><span class="sxs-lookup"><span data-stu-id="ec31a-250">The ProofData is unKnown</span></span> |
| <span data-ttu-id="ec31a-251">**InternalError**</span><span class="sxs-lookup"><span data-stu-id="ec31a-251">**InternalError**</span></span> |  |
| <span data-ttu-id="ec31a-252">**OathCodePinIncorrect**</span><span class="sxs-lookup"><span data-stu-id="ec31a-252">**OathCodePinIncorrect**</span></span> |  |
| <span data-ttu-id="ec31a-253">**VersionNotSupported**</span><span class="sxs-lookup"><span data-stu-id="ec31a-253">**VersionNotSupported**</span></span> |  |
| <span data-ttu-id="ec31a-254">**MFAPinNotSetup**</span><span class="sxs-lookup"><span data-stu-id="ec31a-254">**MFAPinNotSetup**</span></span> |  |

## <a name="next-steps"></a><span data-ttu-id="ec31a-255">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="ec31a-255">Next steps</span></span>

### <a name="troubleshoot-user-accounts"></a><span data-ttu-id="ec31a-256">Felsöka användarkonton</span><span class="sxs-lookup"><span data-stu-id="ec31a-256">Troubleshoot user accounts</span></span>

<span data-ttu-id="ec31a-257">Om användarna är [har problem med tvåstegsverifiering](./end-user/multi-factor-authentication-end-user-troubleshoot.md), hjälpa dem själv diagnosticera problem.</span><span class="sxs-lookup"><span data-stu-id="ec31a-257">If your users are [Having trouble with two-step verification](./end-user/multi-factor-authentication-end-user-troubleshoot.md), help them self-diagnose problems.</span></span> 

### <a name="contact-microsoft-support"></a><span data-ttu-id="ec31a-258">Kontakta Microsoft support</span><span class="sxs-lookup"><span data-stu-id="ec31a-258">Contact Microsoft support</span></span>

<span data-ttu-id="ec31a-259">Om du behöver ytterligare hjälp kan du kontakta supportpersonalen via [stöd för Azure Multi-Factor Authentication-servern](https://support.microsoft.com/oas/default.aspx?prid=14947).</span><span class="sxs-lookup"><span data-stu-id="ec31a-259">If you need additional help, contact a support professional through [Azure Multi-Factor Authentication Server support](https://support.microsoft.com/oas/default.aspx?prid=14947).</span></span> <span data-ttu-id="ec31a-260">När du kontaktar oss är det bra om du kan ange så mycket information om problemet som möjligt.</span><span class="sxs-lookup"><span data-stu-id="ec31a-260">When contacting us, it's helpful if you can include as much information about your issue as possible.</span></span> <span data-ttu-id="ec31a-261">Information som du kan ange innehåller sidan där du såg fel, den specifika felkoden specifika sessions-ID, ID för den användare som såg felet, loggar och felsökningsloggar.</span><span class="sxs-lookup"><span data-stu-id="ec31a-261">Information you can supply includes the page where you saw the error, the specific error code, the specific session ID, the ID of the user who saw the error, and debug logs.</span></span>

<span data-ttu-id="ec31a-262">Använd följande steg för att samla in felsökningsloggar för stöd för diagnostik:</span><span class="sxs-lookup"><span data-stu-id="ec31a-262">To collect debug logs for support diagnostics, use the following steps:</span></span> 

1. <span data-ttu-id="ec31a-263">Öppna en administratörskommandotolk och kör följande kommandon:</span><span class="sxs-lookup"><span data-stu-id="ec31a-263">Open an Administrator command prompt and run these commands:</span></span>

   ```
   Mkdir c:\NPS
   Cd NPS
   netsh trace start Scenario=NetConnection capture=yes tracefile=c:\NPS\nettrace.etl
   logman create trace "NPSExtension" -ow -o c:\NPS\NPSExtension.etl -p {7237ED00-E119-430B-AB0F-C63360C8EE81} 0xffffffffffffffff 0xff -nb 16 16 -bs 1024 -mode Circular -f bincirc -max 4096 -ets
   logman update trace "NPSExtension" -p {EC2E6D3A-C958-4C76-8EA4-0262520886FF} 0xffffffffffffffff 0xff -ets
   ```

2. <span data-ttu-id="ec31a-264">Återskapa problemet</span><span class="sxs-lookup"><span data-stu-id="ec31a-264">Reproduce the issue</span></span>

3. <span data-ttu-id="ec31a-265">Stoppa spårning med följande kommandon:</span><span class="sxs-lookup"><span data-stu-id="ec31a-265">Stop the tracing with these commands:</span></span>

   ```
   logman stop "NPSExtension" -ets
   netsh trace stop
   wevtutil epl AuthNOptCh C:\NPS\%computername%_AuthNOptCh.evtx
   wevtutil epl AuthZOptCh C:\NPS\%computername%_AuthZOptCh.evtx
   wevtutil epl AuthZAdminCh C:\NPS\%computername%_AuthZAdminCh.evtx
   Start .
   ```

4. <span data-ttu-id="ec31a-266">ZIP-innehållet i mappen C:\NPS och bifoga den komprimerade filen i supportärende.</span><span class="sxs-lookup"><span data-stu-id="ec31a-266">Zip the contents of the C:\NPS folder and attach the zipped file to the support case.</span></span>


