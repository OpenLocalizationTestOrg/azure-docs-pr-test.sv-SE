---
title: "Felsöka Azure Storage med diagnostik & Message Analyzer | Microsoft Docs"
description: "En självstudiekurs visar slutpunkt till slutpunkt felsökning med Azure Storage Analytics, AzCopy och Microsoft Message Analyzer"
services: storage
documentationcenter: dotnet
author: robinsh
manager: timlt
ms.assetid: 6b23cba5-0d53-439e-870b-de8e406107d8
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 01/23/2017
ms.author: robinsh
ms.openlocfilehash: ca8c91ce4fe213d89c5bd10e86d5794be44f914b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="end-to-end-troubleshooting-using-azure-storage-metrics-and-logging-azcopy-and-message-analyzer"></a><span data-ttu-id="3466b-103">Slutpunkt till slutpunkt-felsökning med hjälp av Azure Storage-mätvärden och loggning, AzCopy och Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="3466b-103">End-to-End Troubleshooting using Azure Storage metrics and logging, AzCopy, and Message Analyzer</span></span>
[!INCLUDE [storage-selector-portal-e2e-troubleshooting](../../includes/storage-selector-portal-e2e-troubleshooting.md)]

## <a name="overview"></a><span data-ttu-id="3466b-104">Översikt</span><span class="sxs-lookup"><span data-stu-id="3466b-104">Overview</span></span>
<span data-ttu-id="3466b-105">Diagnostisera och felsöka är en nyckel kunskap för att bygga och stöd för program med Microsoft Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="3466b-105">Diagnosing and troubleshooting is a key skill for building and supporting client applications with Microsoft Azure Storage.</span></span> <span data-ttu-id="3466b-106">På grund av distribuerade uppbyggnad ett Azure-program, kan det vara mer komplexa än i vanliga miljöer att diagnostisera och felsöka fel och problem med prestanda.</span><span class="sxs-lookup"><span data-stu-id="3466b-106">Due to the distributed nature of an Azure application, diagnosing and troubleshooting errors and performance issues may be more complex than in traditional environments.</span></span>

<span data-ttu-id="3466b-107">I den här kursen visar vi hur identifiera klienten vissa fel som kan påverka prestanda och felsökning av dessa fel från slutpunkt till slutpunkt med hjälp av verktyg som tillhandahålls av Microsoft och Azure Storage för att optimera klientprogrammet.</span><span class="sxs-lookup"><span data-stu-id="3466b-107">In this tutorial, we will demonstrate how to identify client certain errors that may affect performance, and troubleshoot those errors from end-to-end using tools provided by Microsoft and Azure Storage, in order to optimize the client application.</span></span>

<span data-ttu-id="3466b-108">Den här självstudiekursen innehåller en praktisk utforska för ett scenario för slutpunkt till slutpunkt-felsökning.</span><span class="sxs-lookup"><span data-stu-id="3466b-108">This tutorial provides a hands-on exploration of an end-to-end troubleshooting scenario.</span></span> <span data-ttu-id="3466b-109">En detaljerad konceptuella guide till felsökning av Azure storage-program finns [övervaka, diagnostisera och felsöka Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="3466b-109">For an in-depth conceptual guide to troubleshooting Azure storage applications, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="tools-for-troubleshooting-azure-storage-applications"></a><span data-ttu-id="3466b-110">Verktyg för felsökning av Azure Storage-program</span><span class="sxs-lookup"><span data-stu-id="3466b-110">Tools for troubleshooting Azure Storage applications</span></span>
<span data-ttu-id="3466b-111">Du kan använda en kombination av verktyg för att felsöka klientprogram som använder Microsoft Azure Storage för att bestämma när ett problem har uppstått och vad som kan vara orsaken till problemet.</span><span class="sxs-lookup"><span data-stu-id="3466b-111">To troubleshoot client applications using Microsoft Azure Storage, you can use a combination of tools to determine when an issue has occurred and what the cause of the problem may be.</span></span> <span data-ttu-id="3466b-112">Dessa verktyg innefattar:</span><span class="sxs-lookup"><span data-stu-id="3466b-112">These tools include:</span></span>

* <span data-ttu-id="3466b-113">**Azure Storage Analytics**.</span><span class="sxs-lookup"><span data-stu-id="3466b-113">**Azure Storage Analytics**.</span></span> <span data-ttu-id="3466b-114">[Azure Storage Analytics](http://msdn.microsoft.com/library/azure/hh343270.aspx) innehåller mått och loggning för Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="3466b-114">[Azure Storage Analytics](http://msdn.microsoft.com/library/azure/hh343270.aspx) provides metrics and logging for Azure Storage.</span></span>

  * <span data-ttu-id="3466b-115">**Storage-mätvärden** spårar transaktion mått och kapacitetsmått för ditt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="3466b-115">**Storage metrics** tracks transaction metrics and capacity metrics for your storage account.</span></span> <span data-ttu-id="3466b-116">Med hjälp av mätvärden, kan du bestämma hur programmet fungerar enligt en mängd olika åtgärder.</span><span class="sxs-lookup"><span data-stu-id="3466b-116">Using metrics, you can determine how your application is performing according to a variety of different measures.</span></span> <span data-ttu-id="3466b-117">Se [Storage Analytics mätvärden tabellschemat](http://msdn.microsoft.com/library/azure/hh343264.aspx) för mer information om vilka typer av mått som spåras av Storage Analytics.</span><span class="sxs-lookup"><span data-stu-id="3466b-117">See [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx) for more information about the types of metrics tracked by Storage Analytics.</span></span>
  * <span data-ttu-id="3466b-118">**Lagring loggning** loggar varje begäran i Azure Storage-tjänster till en logg för serversidan.</span><span class="sxs-lookup"><span data-stu-id="3466b-118">**Storage logging** logs each request to the Azure Storage services to a server-side log.</span></span> <span data-ttu-id="3466b-119">Loggen spårar detaljerad information för varje begäran, inklusive åtgärd utförs, status för drift och latensinformation.</span><span class="sxs-lookup"><span data-stu-id="3466b-119">The log tracks detailed data for each request, including the operation performed, the status of the operation, and latency information.</span></span> <span data-ttu-id="3466b-120">Se [Storage Analytics loggformatet](http://msdn.microsoft.com/library/azure/hh343259.aspx) mer information om begärande- och data som skrivs till loggarna av Storage Analytics.</span><span class="sxs-lookup"><span data-stu-id="3466b-120">See [Storage Analytics Log Format](http://msdn.microsoft.com/library/azure/hh343259.aspx) for more information about the request and response data that is written to the logs by Storage Analytics.</span></span>

> [!NOTE]
> <span data-ttu-id="3466b-121">Storage-konton med en typ av replikering av Zonredundant lagring (ZRS) har inte mått eller loggningsfunktioner just nu.</span><span class="sxs-lookup"><span data-stu-id="3466b-121">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have the metrics or logging capability enabled at this time.</span></span>
>
>

* <span data-ttu-id="3466b-122">**Klassiska Azure-portalen**.</span><span class="sxs-lookup"><span data-stu-id="3466b-122">**Azure Classic Portal**.</span></span> <span data-ttu-id="3466b-123">Du kan konfigurera mått och loggning för ditt lagringskonto i den [klassiska Azure-portalen](https://manage.windowsazure.com).</span><span class="sxs-lookup"><span data-stu-id="3466b-123">You can configure metrics and logging for your storage account in the [Azure Classic Portal](https://manage.windowsazure.com).</span></span> <span data-ttu-id="3466b-124">Du kan också visa tabeller och diagram som visar hur programmet fungerar över tid och konfigurera varningar som meddelar dig om ditt program fungerar annorlunda än förväntat för ett visst mått.</span><span class="sxs-lookup"><span data-stu-id="3466b-124">You can also view charts and graphs that show how your application is performing over time, and configure alerts to notify you if your application performs differently than expected for a specified metric.</span></span>

    <span data-ttu-id="3466b-125">Se [övervaka ett lagringskonto i Azure Portal](storage-monitor-storage-account.md) information om hur du konfigurerar övervakning i den klassiska Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="3466b-125">See [Monitor a storage account in the Azure Portal](storage-monitor-storage-account.md) for information about configuring monitoring in the Azure Classic Portal.</span></span>
* <span data-ttu-id="3466b-126">**AzCopy**.</span><span class="sxs-lookup"><span data-stu-id="3466b-126">**AzCopy**.</span></span> <span data-ttu-id="3466b-127">Server-loggar för Azure Storage lagras som blobbar, så du kan använda AzCopy för att kopiera loggen BLOB till en lokal katalog för analys med hjälp av Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="3466b-127">Server logs for Azure Storage are stored as blobs, so you can use AzCopy to copy the log blobs to a local directory for analysis using Microsoft Message Analyzer.</span></span> <span data-ttu-id="3466b-128">Se [överföra data med kommandoradsverktyget Azcopy](storage-use-azcopy.md) för mer information om AzCopy.</span><span class="sxs-lookup"><span data-stu-id="3466b-128">See [Transfer data with the AzCopy Command-Line Utility](storage-use-azcopy.md) for more information about AzCopy.</span></span>
* <span data-ttu-id="3466b-129">**Microsoft Message Analyzer**.</span><span class="sxs-lookup"><span data-stu-id="3466b-129">**Microsoft Message Analyzer**.</span></span> <span data-ttu-id="3466b-130">Message Analyzer är ett verktyg som förbrukar loggfiler och visar loggdata i ett visuellt format som gör det enkelt att filtrera, söka efter och grupp loggdata i användbara grupper som du kan använda för att analysera fel och problem med prestanda.</span><span class="sxs-lookup"><span data-stu-id="3466b-130">Message Analyzer is a tool that consumes log files and displays log data in a visual format that makes it easy to filter, search, and group log data into useful sets that you can use to analyze errors and performance issues.</span></span> <span data-ttu-id="3466b-131">Se [operativsystem handboken för Microsoft Message Analyzer](http://technet.microsoft.com/library/jj649776.aspx) mer information om Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="3466b-131">See [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx) for more information about Message Analyzer.</span></span>

## <a name="about-the-sample-scenario"></a><span data-ttu-id="3466b-132">Om exempelscenariot</span><span class="sxs-lookup"><span data-stu-id="3466b-132">About the sample scenario</span></span>
<span data-ttu-id="3466b-133">Vi går igenom ett scenario där Azure Storage-mätvärden anger en låg procent slutförandenivå för ett program som anropar Azure-lagring för den här självstudiekursen.</span><span class="sxs-lookup"><span data-stu-id="3466b-133">For this tutorial, we'll examine a scenario where Azure Storage metrics indicates a low percent success rate for an application that calls Azure storage.</span></span> <span data-ttu-id="3466b-134">Låg procent lyckade hastighet mått (visas som **PercentSuccess** i den klassiska Azure-portalen och mått tabeller) spårar åtgärder som lyckas, men som kan returnera ett HTTP-statuskod som är större än 299.</span><span class="sxs-lookup"><span data-stu-id="3466b-134">The low percent success rate metric (shown as **PercentSuccess** in the Azure Classic Portal and in the metrics tables) tracks operations that succeed, but that return an HTTP status code that is greater than 299.</span></span> <span data-ttu-id="3466b-135">I loggfilerna serversidan lagring åtgärderna registreras med transaktionsstatus **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="3466b-135">In the server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span> <span data-ttu-id="3466b-136">Mer information om låg procent lyckade mått finns [mätvärdena visar låg PercentSuccess eller analytics loggposter innehålla åtgärder med transaktionsstatus av ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span><span class="sxs-lookup"><span data-stu-id="3466b-136">For more details about the low percent success metric, see [Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span></span>

<span data-ttu-id="3466b-137">Azure Storage-åtgärder kan returnera HTTP-statuskoder större än 299 som en del av deras normala funktioner.</span><span class="sxs-lookup"><span data-stu-id="3466b-137">Azure Storage operations may return HTTP status codes greater than 299 as part of their normal functionality.</span></span> <span data-ttu-id="3466b-138">Men dessa fel i vissa fall kan indikera att du kanske att optimera ditt klientprogram för bättre prestanda.</span><span class="sxs-lookup"><span data-stu-id="3466b-138">But these errors in some cases indicate that you may be able to optimize your client application for improved performance.</span></span>

<span data-ttu-id="3466b-139">I det här scenariot ska vi anser att en låg procent slutförandenivå vara allt under 100%.</span><span class="sxs-lookup"><span data-stu-id="3466b-139">In this scenario, we'll consider a low percent success rate to be anything below 100%.</span></span> <span data-ttu-id="3466b-140">Du kan välja en annan mått nivå, men efter dina behov.</span><span class="sxs-lookup"><span data-stu-id="3466b-140">You can choose a different metric level, however, according to your needs.</span></span> <span data-ttu-id="3466b-141">Vi rekommenderar att under testningen av programmet, du upprätta en baslinje tolerans för dina nyckeltal.</span><span class="sxs-lookup"><span data-stu-id="3466b-141">We recommend that during testing of your application, you establish a baseline tolerance for your key performance metrics.</span></span> <span data-ttu-id="3466b-142">T.ex, du kan fastställa baserat på testning, att ditt program bör ha en konsekvent procent slutförandenivå 90% eller 85%.</span><span class="sxs-lookup"><span data-stu-id="3466b-142">For example, you might determine, based on testing, that your application should have a consistent percent success rate of 90%, or 85%.</span></span> <span data-ttu-id="3466b-143">Om din mätvärdesdata visar att programmet avviker från det antalet och sedan kan du undersöka vad orsakar ökningen.</span><span class="sxs-lookup"><span data-stu-id="3466b-143">If your metrics data shows that the application is deviating from that number, then you can investigate what may be causing the increase.</span></span>

<span data-ttu-id="3466b-144">När vi har etablerat att procent lyckade hastighet mått är mindre än 100%, i vårt Exempelscenario, kommer vi granska loggarna för att hitta de fel som stämmer med mätvärdena och använda dem för att ta reda på vad som orsakar lägre procent slutförandenivå.</span><span class="sxs-lookup"><span data-stu-id="3466b-144">For our sample scenario, once we've established that the percent success rate metric is below 100%, we will examine the logs to find the errors that correlate to the metrics, and use them to figure out what is causing the lower percent success rate.</span></span> <span data-ttu-id="3466b-145">Vi ska titta särskilt på fel i 400 intervallet.</span><span class="sxs-lookup"><span data-stu-id="3466b-145">We'll look specifically at errors in the 400 range.</span></span> <span data-ttu-id="3466b-146">Sedan ska vi närmare undersöka 404 (inget hittas) fel.</span><span class="sxs-lookup"><span data-stu-id="3466b-146">Then we'll more closely investigate 404 (Not Found) errors.</span></span>

### <a name="some-causes-of-400-range-errors"></a><span data-ttu-id="3466b-147">Vissa orsakerna till 400-range-fel</span><span class="sxs-lookup"><span data-stu-id="3466b-147">Some causes of 400-range errors</span></span>
<span data-ttu-id="3466b-148">Exemplen nedan visas ett urval av fel 400-intervall för begäran mot Azure Blob Storage och deras möjliga orsaker.</span><span class="sxs-lookup"><span data-stu-id="3466b-148">The examples below shows a sampling of some 400-range errors for requests against Azure Blob Storage, and their possible causes.</span></span> <span data-ttu-id="3466b-149">Något av dessa fel, samt fel i intervallet 300 och 500 intervallet kan bidra till en låg procent lyckade resultat.</span><span class="sxs-lookup"><span data-stu-id="3466b-149">Any of these errors, as well as errors in the 300 range and the 500 range, can contribute to a low percent success rate.</span></span>

<span data-ttu-id="3466b-150">Observera att listorna nedan är långt från klar.</span><span class="sxs-lookup"><span data-stu-id="3466b-150">Note that the lists below are far from complete.</span></span> <span data-ttu-id="3466b-151">Se [Status och felkoder](http://msdn.microsoft.com/library/azure/dd179382.aspx) för information om allmänna Azure Storage-fel och om fel som är specifika för varje storage-tjänster.</span><span class="sxs-lookup"><span data-stu-id="3466b-151">See [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) for details about general Azure Storage errors and about errors specific to each of the storage services.</span></span>

<span data-ttu-id="3466b-152">**Status 404 (inget hittas)-kodexempel**</span><span class="sxs-lookup"><span data-stu-id="3466b-152">**Status Code 404 (Not Found) Examples**</span></span>

<span data-ttu-id="3466b-153">Inträffar när en Läsåtgärd mot en behållare eller blobb misslyckas eftersom blob eller behållaren inte finns.</span><span class="sxs-lookup"><span data-stu-id="3466b-153">Occurs when a read operation against a container or blob fails because the blob or container is not found.</span></span>

* <span data-ttu-id="3466b-154">Inträffar om en behållare eller blobb har tagits bort av en annan klient innan denna begäran.</span><span class="sxs-lookup"><span data-stu-id="3466b-154">Occurs if a container or blob has been deleted by another client before this request.</span></span>
* <span data-ttu-id="3466b-155">Inträffar om du använder ett API-anrop som skapar behållare eller blobb när du har kontrollerat om den finns.</span><span class="sxs-lookup"><span data-stu-id="3466b-155">Occurs if you are using an API call that creates the container or blob after checking whether it exists.</span></span> <span data-ttu-id="3466b-156">CreateIfNotExists APIs ringa HEAD först för att kontrollera förekomsten av behållare eller blobb; Om det inte finns ett 404-fel returneras och sedan en andra PUT-anrop görs för att skriva behållare eller blob.</span><span class="sxs-lookup"><span data-stu-id="3466b-156">The CreateIfNotExists APIs make a HEAD call first to check for the existence of the container or blob; if it does not exist, a 404 error is returned, and then a second PUT call is made to write the container or blob.</span></span>

<span data-ttu-id="3466b-157">**Status-kodexempel 409 (konflikt)**</span><span class="sxs-lookup"><span data-stu-id="3466b-157">**Status Code 409 (Conflict) Examples**</span></span>

* <span data-ttu-id="3466b-158">Inträffar om du använder en skapa API för att skapa en ny behållare eller blobb, utan att först kontrollera befintliga och en behållare eller blob med det namnet finns redan.</span><span class="sxs-lookup"><span data-stu-id="3466b-158">Occurs if you use a Create API to create a new container or blob, without checking for existence first, and a container or blob with that name already exists.</span></span>
* <span data-ttu-id="3466b-159">Inträffar om en behållare tas bort och du försöker skapa en ny behållare med samma namn innan borttagningen är klar.</span><span class="sxs-lookup"><span data-stu-id="3466b-159">Occurs if a container is being deleted, and you attempt to create a new container with the same name before the deletion operation is complete.</span></span>
* <span data-ttu-id="3466b-160">Inträffar om du anger ett lån på en behållare eller blobb och det finns redan ett lån finns.</span><span class="sxs-lookup"><span data-stu-id="3466b-160">Occurs if you specify a lease on a container or blob, and there is already a lease present.</span></span>

<span data-ttu-id="3466b-161">**Statuskod 412 (villkor misslyckades) exempel**</span><span class="sxs-lookup"><span data-stu-id="3466b-161">**Status Code 412 (Precondition Failed) Examples**</span></span>

* <span data-ttu-id="3466b-162">Inträffar när det villkor som anges av ett villkorat huvud inte har uppfyllts.</span><span class="sxs-lookup"><span data-stu-id="3466b-162">Occurs when the condition specified by a conditional header has not been met.</span></span>
* <span data-ttu-id="3466b-163">Inträffar när lånet-ID som angetts inte matchar lease-ID på behållaren eller blob.</span><span class="sxs-lookup"><span data-stu-id="3466b-163">Occurs when the lease ID specified does not match the lease ID on the container or blob.</span></span>

## <a name="generate-log-files-for-analysis"></a><span data-ttu-id="3466b-164">Skapa loggfiler för analys</span><span class="sxs-lookup"><span data-stu-id="3466b-164">Generate log files for analysis</span></span>
<span data-ttu-id="3466b-165">I den här kursen använder vi Message Analyzer för att arbeta med tre olika typer av loggfiler, men du kan välja att arbeta med något av dessa:</span><span class="sxs-lookup"><span data-stu-id="3466b-165">In this tutorial, we'll use Message Analyzer to work with three different types of log files, although you could choose to work with any one of these:</span></span>

* <span data-ttu-id="3466b-166">Den **serverloggen**, som skapas när du aktiverar loggning för Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="3466b-166">The **server log**, which is created when you enable Azure Storage logging.</span></span> <span data-ttu-id="3466b-167">Serverloggen innehåller information om varje åtgärd som kallas mot en av tjänsterna Azure Storage - blob, kön, tabell och fil.</span><span class="sxs-lookup"><span data-stu-id="3466b-167">The server log contains data about each operation called against one of the Azure Storage services - blob, queue, table, and file.</span></span> <span data-ttu-id="3466b-168">Serverloggen anger vilken åtgärd anropades och vilka statuskoden var returnerade, samt annan information om begäran och svar.</span><span class="sxs-lookup"><span data-stu-id="3466b-168">The server log indicates which operation was called and what status code was returned, as well as other details about the request and response.</span></span>
* <span data-ttu-id="3466b-169">Den **.NET-klientloggen**, som skapas när du aktiverar loggning på klientsidan från .NET-program.</span><span class="sxs-lookup"><span data-stu-id="3466b-169">The **.NET client log**, which is created when you enable client-side logging from within your .NET application.</span></span> <span data-ttu-id="3466b-170">Klientloggen innehåller detaljerad information om hur klienten förbereder begäran och tar emot och bearbetar svaret.</span><span class="sxs-lookup"><span data-stu-id="3466b-170">The client log includes detailed information about how the client prepares the request and receives and processes the response.</span></span>
* <span data-ttu-id="3466b-171">Den **HTTP nätverket spårningslogg**, som samlar in data på HTTP/HTTPS-begäran och svar data, inklusive för åtgärder mot Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="3466b-171">The **HTTP network trace log**, which collects data on HTTP/HTTPS request and response data, including for operations against Azure Storage.</span></span> <span data-ttu-id="3466b-172">I den här kursen ska vi generera spårning i nätverket via Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="3466b-172">In this tutorial, we'll generate the network trace via Message Analyzer.</span></span>

### <a name="configure-server-side-logging-and-metrics"></a><span data-ttu-id="3466b-173">Konfigurera loggning på serversidan och mått</span><span class="sxs-lookup"><span data-stu-id="3466b-173">Configure server-side logging and metrics</span></span>
<span data-ttu-id="3466b-174">Först måste du konfigurera Azure Storage-loggning och statistik, så att vi har data från klientprogram att analysera.</span><span class="sxs-lookup"><span data-stu-id="3466b-174">First, we'll need to configure Azure Storage logging and metrics, so that we have data from the client application to analyze.</span></span> <span data-ttu-id="3466b-175">Du kan konfigurera loggning och mått i en mängd olika sätt – den [klassiska Azure-portalen](https://manage.windowsazure.com), med hjälp av PowerShell, eller programmässigt.</span><span class="sxs-lookup"><span data-stu-id="3466b-175">You can configure logging and metrics in a variety of ways - via the [Azure Classic Portal](https://manage.windowsazure.com), by using PowerShell, or programmatically.</span></span> <span data-ttu-id="3466b-176">Se [aktivera Storage-mätvärden och visa mått Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) och [aktivera loggning för lagring och åtkomst till loggdata](http://msdn.microsoft.com/library/azure/dn782840.aspx) mer information om hur du konfigurerar loggning och mått.</span><span class="sxs-lookup"><span data-stu-id="3466b-176">See [Enabling Storage Metrics and Viewing Metrics Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) and [Enabling Storage Logging and Accessing Log Data](http://msdn.microsoft.com/library/azure/dn782840.aspx) for details about configuring logging and metrics.</span></span>

<span data-ttu-id="3466b-177">**Via den klassiska Azure-portalen**</span><span class="sxs-lookup"><span data-stu-id="3466b-177">**Via the Azure Classic Portal**</span></span>

<span data-ttu-id="3466b-178">Om du vill konfigurera loggning och mått för ditt lagringskonto med hjälp av portalen, följer du anvisningarna [övervaka ett lagringskonto i Azure Portal](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="3466b-178">To configure logging and metrics for your storage account using the portal, follow the instructions at [Monitor a storage account in the Azure Portal](storage-monitor-storage-account.md).</span></span>

> [!NOTE]
> <span data-ttu-id="3466b-179">Det går inte att ange minut mått med den klassiska Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="3466b-179">It's not possible to set minute metrics using the Azure Classic Portal.</span></span> <span data-ttu-id="3466b-180">Vi rekommenderar dock att du har angett dem för den här kursen och för att undersöka prestandaproblem med ditt program.</span><span class="sxs-lookup"><span data-stu-id="3466b-180">However, we recommend that you do set them for the purposes of this tutorial, and for investigating performance issues with your application.</span></span> <span data-ttu-id="3466b-181">Du kan ange minut mått med hjälp av PowerShell som visas nedan, eller programmässigt eller via den klassiska Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="3466b-181">You can set minute metrics using PowerShell as shown below, or programmatically, or via the Azure Classic Portal.</span></span>
>
> <span data-ttu-id="3466b-182">Observera att den klassiska Azure-portalen inte kan visa minut statistik, och endast timvis mått.</span><span class="sxs-lookup"><span data-stu-id="3466b-182">Note that the Azure Classic Portal cannot display minute metrics, only hourly metrics.</span></span>
>
>

<span data-ttu-id="3466b-183">**Via PowerShell**</span><span class="sxs-lookup"><span data-stu-id="3466b-183">**Via PowerShell**</span></span>

<span data-ttu-id="3466b-184">Om du vill komma igång med PowerShell för Azure, se [hur du installerar och konfigurerar du Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="3466b-184">To get started with PowerShell for Azure, see [How to install and configure Azure PowerShell](/powershell/azure/overview).</span></span>

1. <span data-ttu-id="3466b-185">Använd den [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) för att lägga till användarkontot Azure PowerShell-fönstret:</span><span class="sxs-lookup"><span data-stu-id="3466b-185">Use the [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet to add your Azure user account to the PowerShell window:</span></span>

    ```powershell
     Add-AzureAccount
    ```

2. <span data-ttu-id="3466b-186">I den **logga in på Microsoft Azure** fönstret skriver du e-postadress och lösenord som är kopplad till ditt konto.</span><span class="sxs-lookup"><span data-stu-id="3466b-186">In the **Sign in to Microsoft Azure** window, type the email address and password associated with your account.</span></span> <span data-ttu-id="3466b-187">Azure autentiserar och sparar autentiseringsuppgifterna och stänger sedan fönstret.</span><span class="sxs-lookup"><span data-stu-id="3466b-187">Azure authenticates and saves the credential information, and then closes the window.</span></span>
3. <span data-ttu-id="3466b-188">Ange standardkontot för lagring till storage-konto som du använder för kursen genom att köra dessa kommandon i PowerShell-fönstret:</span><span class="sxs-lookup"><span data-stu-id="3466b-188">Set the default storage account to the storage account you are using for the tutorial by executing these commands in the PowerShell window:</span></span>

    ```powershell
    $SubscriptionName = 'Your subscription name'
    $StorageAccountName = 'yourstorageaccount'
    Set-AzureSubscription -CurrentStorageAccountName $StorageAccountName -SubscriptionName $SubscriptionName
    ```

4. <span data-ttu-id="3466b-189">Aktivera loggning för lagring för Blob-tjänsten:</span><span class="sxs-lookup"><span data-stu-id="3466b-189">Enable storage logging for the Blob service:</span></span>

    ```powershell
    Set-AzureStorageServiceLoggingProperty -ServiceType Blob -LoggingOperations Read,Write,Delete -PassThru -RetentionDays 7 -Version 1.0
    ```

5. <span data-ttu-id="3466b-190">Aktivera storage-mätvärden för Blob-tjänsten, se till att ange **- MetricsType** till `Minute`:</span><span class="sxs-lookup"><span data-stu-id="3466b-190">Enable storage metrics for the Blob service, making sure to set **-MetricsType** to `Minute`:</span></span>

    ```powershell
    Set-AzureStorageServiceMetricsProperty -ServiceType Blob -MetricsType Minute -MetricsLevel ServiceAndApi -PassThru -RetentionDays 7 -Version 1.0
    ```

### <a name="configure-net-client-side-logging"></a><span data-ttu-id="3466b-191">Konfigurera loggning för klientsidan av .NET</span><span class="sxs-lookup"><span data-stu-id="3466b-191">Configure .NET client-side logging</span></span>
<span data-ttu-id="3466b-192">Aktivera .NET diagnostik i programmets konfigurationsfil (web.config eller app.config) om du vill konfigurera loggning på klientsidan för en .NET-program.</span><span class="sxs-lookup"><span data-stu-id="3466b-192">To configure client-side logging for a .NET application, enable .NET diagnostics in the application's configuration file (web.config or app.config).</span></span> <span data-ttu-id="3466b-193">Se [klientsidan loggning med Storage-klientbiblioteket för .NET](http://msdn.microsoft.com/library/azure/dn782839.aspx) och [klientsidan loggning med Microsoft Azure Storage SDK för Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) mer information.</span><span class="sxs-lookup"><span data-stu-id="3466b-193">See [Client-side Logging with the .NET Storage Client Library](http://msdn.microsoft.com/library/azure/dn782839.aspx) and [Client-side Logging with the Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) for details.</span></span>

<span data-ttu-id="3466b-194">Klientsidans loggen innehåller detaljerad information om hur klienten förbereder begäran och tar emot och bearbetar svaret.</span><span class="sxs-lookup"><span data-stu-id="3466b-194">The client-side log includes detailed information about how the client prepares the request and receives and processes the response.</span></span>

<span data-ttu-id="3466b-195">Storage-klientbiblioteket lagrar klientsidan loggdata i den plats som anges i programmets konfigurationsfil (web.config eller app.config).</span><span class="sxs-lookup"><span data-stu-id="3466b-195">The Storage Client Library stores client-side log data in the location specified in the application's configuration file (web.config or app.config).</span></span>

### <a name="collect-a-network-trace"></a><span data-ttu-id="3466b-196">Samla in en spårning i nätverket</span><span class="sxs-lookup"><span data-stu-id="3466b-196">Collect a network trace</span></span>
<span data-ttu-id="3466b-197">Du kan använda analysverktyg för att samla in en spårning i nätverket för HTTP/HTTPS när klientprogrammet körs.</span><span class="sxs-lookup"><span data-stu-id="3466b-197">You can use Message Analyzer to collect an HTTP/HTTPS network trace while your client application is running.</span></span> <span data-ttu-id="3466b-198">Message Analyzer använder [Fiddler](http://www.telerik.com/fiddler) på serverdelen.</span><span class="sxs-lookup"><span data-stu-id="3466b-198">Message Analyzer uses [Fiddler](http://www.telerik.com/fiddler) on the back end.</span></span> <span data-ttu-id="3466b-199">Innan du samlar in spårning i nätverket, rekommenderar vi att du konfigurerar Fiddler för att registrera okrypterad HTTPS-trafik:</span><span class="sxs-lookup"><span data-stu-id="3466b-199">Before you collect the network trace, we recommend that you configure Fiddler to record unencrypted HTTPS traffic:</span></span>

1. <span data-ttu-id="3466b-200">Installera [Fiddler](http://www.telerik.com/download/fiddler).</span><span class="sxs-lookup"><span data-stu-id="3466b-200">Install [Fiddler](http://www.telerik.com/download/fiddler).</span></span>
2. <span data-ttu-id="3466b-201">Starta Fiddler.</span><span class="sxs-lookup"><span data-stu-id="3466b-201">Launch Fiddler.</span></span>
3. <span data-ttu-id="3466b-202">Välj **verktyg | Alternativ för fiddler**.</span><span class="sxs-lookup"><span data-stu-id="3466b-202">Select **Tools | Fiddler Options**.</span></span>
4. <span data-ttu-id="3466b-203">I dialogrutan Alternativ kontrollerar du att **avbilda HTTPS ansluter** och **dekryptera HTTPS-trafik** båda är valda, enligt nedan.</span><span class="sxs-lookup"><span data-stu-id="3466b-203">In the Options dialog, ensure that **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** are both selected, as shown below.</span></span>

![Konfigurera alternativ för Fiddler](./media/storage-e2e-troubleshooting-classic-portal/fiddler-options-1.png)

<span data-ttu-id="3466b-205">Samla in och spara en spårning i nätverket först i Message Analyzer och skapar en analys-session för att analysera spårningen och loggar för självstudierna.</span><span class="sxs-lookup"><span data-stu-id="3466b-205">For the tutorial, collect and save a network trace first in Message Analyzer, then create an analysis session to analyze the trace and the logs.</span></span> <span data-ttu-id="3466b-206">Att samla in en spårning i nätverket i Message Analyzer:</span><span class="sxs-lookup"><span data-stu-id="3466b-206">To collect a network trace in Message Analyzer:</span></span>

1. <span data-ttu-id="3466b-207">Välj i Message Analyzer **filen | Snabb Trace | Okrypterade HTTPS**.</span><span class="sxs-lookup"><span data-stu-id="3466b-207">In Message Analyzer, select **File | Quick Trace | Unencrypted HTTPS**.</span></span>
2. <span data-ttu-id="3466b-208">Spårningen startar omedelbart.</span><span class="sxs-lookup"><span data-stu-id="3466b-208">The trace will begin immediately.</span></span> <span data-ttu-id="3466b-209">Välj **stoppa** att stoppa spårningen så att vi kan konfigurera att spåra lagringsrelaterad trafik.</span><span class="sxs-lookup"><span data-stu-id="3466b-209">Select **Stop** to stop the trace so that we can configure it to trace storage traffic only.</span></span>
3. <span data-ttu-id="3466b-210">Välj **redigera** redigera spårningssessionen.</span><span class="sxs-lookup"><span data-stu-id="3466b-210">Select **Edit** to edit the tracing session.</span></span>
4. <span data-ttu-id="3466b-211">Välj den **konfigurera** länken till höger om den **Microsoft-Pef-WebProxy** ETW-provider.</span><span class="sxs-lookup"><span data-stu-id="3466b-211">Select the **Configure** link to the right of the **Microsoft-Pef-WebProxy** ETW provider.</span></span>
5. <span data-ttu-id="3466b-212">I den **avancerade inställningar** dialogrutan klickar du på den **Provider** fliken.</span><span class="sxs-lookup"><span data-stu-id="3466b-212">In the **Advanced Settings** dialog, click the **Provider** tab.</span></span>
6. <span data-ttu-id="3466b-213">I den **filtret Hostname** anger dina slutpunkter för lagring, avgränsade med blanksteg.</span><span class="sxs-lookup"><span data-stu-id="3466b-213">In the **Hostname Filter** field, specify your storage endpoints, separated by spaces.</span></span> <span data-ttu-id="3466b-214">Exempelvis kan du ange dina slutpunkter enligt följande; ändra `storagesample` till namnet på ditt lagringskonto:</span><span class="sxs-lookup"><span data-stu-id="3466b-214">For example, you can specify your endpoints as follows; change `storagesample` to the name of your storage account:</span></span>

    ```   
    storagesample.blob.core.windows.net storagesample.queue.core.windows.net storagesample.table.core.windows.net
    ```

7. <span data-ttu-id="3466b-215">Avslutar dialogrutan och klicka på **starta om** att börja samla in spårningen med hostname-filter på plats, så att endast Azure Storage-nätverkstrafik ingår i spårningen.</span><span class="sxs-lookup"><span data-stu-id="3466b-215">Exit the dialog, and click **Restart** to begin collecting the trace with the hostname filter in place, so that only Azure Storage network traffic is included in the trace.</span></span>

> [!NOTE]
> <span data-ttu-id="3466b-216">När du är klar att samla in en spårning i nätverket, rekommenderar vi starkt att du återställa de inställningar som du har ändrat i Fiddler att dekryptera HTTPS-trafik.</span><span class="sxs-lookup"><span data-stu-id="3466b-216">After you have finished collecting your network trace, we strongly recommend that you revert the settings that you may have changed in Fiddler to decrypt HTTPS traffic.</span></span> <span data-ttu-id="3466b-217">I dialogrutan Alternativ för Fiddler avmarkera den **avbilda HTTPS ansluter** och **dekryptera HTTPS-trafik** kryssrutorna.</span><span class="sxs-lookup"><span data-stu-id="3466b-217">In the Fiddler Options dialog, deselect the **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** checkboxes.</span></span>
>
>

<span data-ttu-id="3466b-218">Se [använder nätverksfunktioner spårning](http://technet.microsoft.com/library/jj674819.aspx) på Technet för mer information.</span><span class="sxs-lookup"><span data-stu-id="3466b-218">See [Using the Network Tracing Features](http://technet.microsoft.com/library/jj674819.aspx) on Technet for more details.</span></span>

## <a name="review-metrics-data-in-the-azure-classic-portal"></a><span data-ttu-id="3466b-219">Granska mått data i den klassiska Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="3466b-219">Review metrics data in the Azure Classic Portal</span></span>
<span data-ttu-id="3466b-220">När programmet har körts för en viss tidsperiod, kan du granska mått diagrammen som visas i den klassiska Azure-portalen vill se hur tjänsten fungerar.</span><span class="sxs-lookup"><span data-stu-id="3466b-220">Once your application has been running for a period of time, you can review the metrics charts that appear in the Azure Classic Portal to observe how your service has been performing.</span></span> <span data-ttu-id="3466b-221">Först måste du lägga till den **lyckade procentandel** mått till sidan övervakning:</span><span class="sxs-lookup"><span data-stu-id="3466b-221">First, we'll add the **Success Percentage** metric to the Monitoring page:</span></span>

1. <span data-ttu-id="3466b-222">Gå till instrumentpanelen för ditt lagringskonto i den [klassiska Azure-portalen](https://manage.windowsazure.com)och välj **övervakaren** att visa sidan övervakning.</span><span class="sxs-lookup"><span data-stu-id="3466b-222">Navigate to the Dashboard for your storage account in the [Azure Classic Portal](https://manage.windowsazure.com), then select **Monitor** to view the monitoring page.</span></span>
2. <span data-ttu-id="3466b-223">Klicka på **lägga till mätvärden** att visa den **välja mått** dialogrutan.</span><span class="sxs-lookup"><span data-stu-id="3466b-223">Click **Add Metrics** to display the **Choose Metrics** dialog.</span></span>
3. <span data-ttu-id="3466b-224">Rulla hitta den **lyckade procentandel** gruppen, expandera den och välj sedan **sammanställd**som visas i bilden nedan.</span><span class="sxs-lookup"><span data-stu-id="3466b-224">Scroll down to find the **Success Percentage** group, expand it, then select **Aggregate**, as shown in the picture below.</span></span> <span data-ttu-id="3466b-225">Det här måttet aggregerar lyckade procentandelsdata från alla Blob-åtgärder.</span><span class="sxs-lookup"><span data-stu-id="3466b-225">This metric aggregates success percentage data from all Blob operations.</span></span>

![Välj mått](./media/storage-e2e-troubleshooting-classic-portal/choose-metrics-portal-1.png)

<span data-ttu-id="3466b-227">I den klassiska Azure-portalen visas nu **lyckade procentandel** i Övervakningsdiagrammet, tillsammans med andra mått du kanske har lagt till (upp till sex kan visas i diagrammet på samma gång).</span><span class="sxs-lookup"><span data-stu-id="3466b-227">In the Azure Classic Portal, you'll now see **Success Percentage** in the monitoring chart, along with any other metrics you may have added (up to six can be displayed on the chart at once).</span></span> <span data-ttu-id="3466b-228">Du kan se att procent lyckade resultat är något under 100%, vilket är det scenario som vi ska undersöka bredvid genom att analysera loggar i Message Analyzer i bilden nedan:</span><span class="sxs-lookup"><span data-stu-id="3466b-228">In the picture below, you can see that the percent success rate is somewhat below 100%, which is the scenario we'll investigate next by analyzing the logs in Message Analyzer:</span></span>

![Mått diagram i portalen](./media/storage-e2e-troubleshooting-classic-portal/portal-metrics-chart-1.png)

<span data-ttu-id="3466b-230">Mer information om att lägga till mått till sidan övervakning finns [så här: lägga till mått i tabellen mått](storage-monitor-storage-account.md#add-metrics-charts-to-the-portal-dashboard).</span><span class="sxs-lookup"><span data-stu-id="3466b-230">For more details on adding metrics to the Monitoring page, see [How to: Add metrics to the metrics table](storage-monitor-storage-account.md#add-metrics-charts-to-the-portal-dashboard).</span></span>

> [!NOTE]
> <span data-ttu-id="3466b-231">Det kan ta lite tid för dina mått data ska visas i den klassiska Azure-portalen när du aktiverar lagring mått.</span><span class="sxs-lookup"><span data-stu-id="3466b-231">It may take some time for your metrics data to appear in the Azure Classic Portal after you enable storage metrics.</span></span> <span data-ttu-id="3466b-232">Det beror på att varje timme mätvärden för föregående timma inte visas i den klassiska Azure-portalen förrän den aktuella timman har gått ut.</span><span class="sxs-lookup"><span data-stu-id="3466b-232">This is because hourly metrics for the previous hour are not displayed in the Azure Classic Portal until the current hour has elapsed.</span></span> <span data-ttu-id="3466b-233">Dessutom visas inte minut mått i den klassiska Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="3466b-233">Also, minute metrics are not displayed in the Azure Classic Portal.</span></span> <span data-ttu-id="3466b-234">Så beroende på när du aktiverar mått, det kan ta upp till två timmar att se data för mått.</span><span class="sxs-lookup"><span data-stu-id="3466b-234">So depending on when you enable metrics, it may take up to two hours to see metrics data.</span></span>
>
>

## <a name="use-azcopy-to-copy-server-logs-to-a-local-directory"></a><span data-ttu-id="3466b-235">Använd AzCopy för att kopiera server-loggar till en lokal katalog</span><span class="sxs-lookup"><span data-stu-id="3466b-235">Use AzCopy to copy server logs to a local directory</span></span>
<span data-ttu-id="3466b-236">Azure Storage skriver server loggdata till blobbar, medan mätvärdena skrivs till tabeller.</span><span class="sxs-lookup"><span data-stu-id="3466b-236">Azure Storage writes server log data to blobs, while metrics are written to tables.</span></span> <span data-ttu-id="3466b-237">Loggen blobbar är tillgängliga i den välkända `$logs` behållare för ditt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="3466b-237">Log blobs are available in the well-known `$logs` container for your storage account.</span></span> <span data-ttu-id="3466b-238">Loggen blobbar namnet hierarkiskt som år, månad, dag och timme, så att du lätt kan hitta tidsperiod som du vill undersöka.</span><span class="sxs-lookup"><span data-stu-id="3466b-238">Log blobs are named hierarchically by year, month, day, and hour, so that you can easily locate the range of time you wish to investigate.</span></span> <span data-ttu-id="3466b-239">Till exempel i den `storagesample` kontot behållaren för logg-BLOB för 01/02/2015 från 8 9 am, är `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span><span class="sxs-lookup"><span data-stu-id="3466b-239">For example, in the `storagesample` account, the container for the log blobs for 01/02/2015, from 8-9 am, is `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span></span> <span data-ttu-id="3466b-240">Enskilda blobbar i den här behållaren har sekventiella namn, från och med `000000.log`.</span><span class="sxs-lookup"><span data-stu-id="3466b-240">The individual blobs in this container are named sequentially, beginning with `000000.log`.</span></span>

<span data-ttu-id="3466b-241">Du kan använda kommandoradsverktyget AzCopy för att ladda ned dessa loggfiler för servern till en plats på den lokala datorn.</span><span class="sxs-lookup"><span data-stu-id="3466b-241">You can use the AzCopy command-line tool to download these server-side log files to a location of your choice on your local machine.</span></span> <span data-ttu-id="3466b-242">Du kan till exempel använda följande kommando för att hämta loggfilerna för blob-åtgärder som utfördes på 2 januari 2015 till mappen `C:\Temp\Logs\Server`; Ersätt `<storageaccountname>` med namnet på ditt lagringskonto och `<storageaccountkey>` med din åtkomstnyckel:</span><span class="sxs-lookup"><span data-stu-id="3466b-242">For example, you can use the following command to download the log files for blob operations that took place on January 2, 2015 to the folder `C:\Temp\Logs\Server`; replace `<storageaccountname>` with the name of your storage account, and `<storageaccountkey>` with your account access key:</span></span>

```azcopy
AzCopy.exe /Source:http://<storageaccountname>.blob.core.windows.net/$logs /Dest:C:\Temp\Logs\Server /Pattern:"blob/2015/01/02" /SourceKey:<storageaccountkey> /S /V
```

<span data-ttu-id="3466b-243">AzCopy är tillgänglig för hämtning på den [Azure hämtar](https://azure.microsoft.com/downloads/) sidan.</span><span class="sxs-lookup"><span data-stu-id="3466b-243">AzCopy is available for download on the [Azure Downloads](https://azure.microsoft.com/downloads/) page.</span></span> <span data-ttu-id="3466b-244">Mer information om hur du använder AzCopy finns [överföra data med kommandoradsverktyget Azcopy](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="3466b-244">For details about using AzCopy, see [Transfer data with the AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

<span data-ttu-id="3466b-245">Mer information om hur du hämtar serversidan loggar finns [hämtar lagring loggning loggdata](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span><span class="sxs-lookup"><span data-stu-id="3466b-245">For additional information about downloading server-side logs, see [Downloading Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span></span>

## <a name="use-microsoft-message-analyzer-to-analyze-log-data"></a><span data-ttu-id="3466b-246">Använda Microsoft Message Analyzer för att analysera loggdata</span><span class="sxs-lookup"><span data-stu-id="3466b-246">Use Microsoft Message Analyzer to analyze log data</span></span>
<span data-ttu-id="3466b-247">Microsoft Message Analyzer är ett verktyg för att samla in, visa och analysera protokollet messaging trafik, händelser och andra system- eller meddelanden i scenarier med felsökning och diagnostik.</span><span class="sxs-lookup"><span data-stu-id="3466b-247">Microsoft Message Analyzer is a tool for capturing, displaying, and analyzing protocol messaging traffic, events, and other system or application messages in troubleshooting and diagnostic scenarios.</span></span> <span data-ttu-id="3466b-248">Message Analyzer också kan du läsa in, sammanställa och analysera data från loggen och sparas spårningsfiler.</span><span class="sxs-lookup"><span data-stu-id="3466b-248">Message Analyzer also enables you to load, aggregate, and analyze data from log and saved trace files.</span></span> <span data-ttu-id="3466b-249">Mer information om Message Analyzer finns [operativsystem handboken för Microsoft Message Analyzer](http://technet.microsoft.com/library/jj649776.aspx).</span><span class="sxs-lookup"><span data-stu-id="3466b-249">For more information about Message Analyzer, see [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx).</span></span>

<span data-ttu-id="3466b-250">Message Analyzer innehåller tillgångar för Azure Storage som hjälper dig att analysera servern, klienten och loggar för nätverket.</span><span class="sxs-lookup"><span data-stu-id="3466b-250">Message Analyzer includes assets for Azure Storage that help you to analyze server, client, and network logs.</span></span> <span data-ttu-id="3466b-251">I det här avsnittet diskuterar vi hur du använder dessa verktyg för att åtgärda problemet för låg procent lyckas i loggarna för lagring.</span><span class="sxs-lookup"><span data-stu-id="3466b-251">In this section, we'll discuss how to use those tools to address the issue of low percent success in the storage logs.</span></span>

### <a name="download-and-install-message-analyzer-and-the-azure-storage-assets"></a><span data-ttu-id="3466b-252">Hämta och installera Message Analyzer och Azure Storage-tillgångar</span><span class="sxs-lookup"><span data-stu-id="3466b-252">Download and install Message Analyzer and the Azure Storage Assets</span></span>
1. <span data-ttu-id="3466b-253">Hämta [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) från Microsoft Download Center och kör installationsprogrammet.</span><span class="sxs-lookup"><span data-stu-id="3466b-253">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) from the Microsoft Download Center, and run the installer.</span></span>
2. <span data-ttu-id="3466b-254">Starta Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="3466b-254">Launch Message Analyzer.</span></span>
3. <span data-ttu-id="3466b-255">Från den **verktyg** väljer du **Tillgångsansvarig**.</span><span class="sxs-lookup"><span data-stu-id="3466b-255">From the **Tools** menu, select **Asset Manager**.</span></span> <span data-ttu-id="3466b-256">I den **Tillgångsansvarig** markerar **hämtar**, sedan filtrera **Azure Storage**.</span><span class="sxs-lookup"><span data-stu-id="3466b-256">In the **Asset Manager** dialog, select **Downloads**, then filter on **Azure Storage**.</span></span> <span data-ttu-id="3466b-257">Azure Storage tillgångar, visas som visas i bilden nedan.</span><span class="sxs-lookup"><span data-stu-id="3466b-257">You will see the Azure Storage Assets, as shown in the picture below.</span></span>
4. <span data-ttu-id="3466b-258">Klicka på **synkronisera alla visas objekt** att installera Azure Storage tillgångar.</span><span class="sxs-lookup"><span data-stu-id="3466b-258">Click **Sync All Displayed Items** to install the Azure Storage Assets.</span></span> <span data-ttu-id="3466b-259">De tillgängliga resurserna är:</span><span class="sxs-lookup"><span data-stu-id="3466b-259">The available assets include:</span></span>
   * <span data-ttu-id="3466b-260">**Azure Storage-färgregler:** färgregler för Azure Storage kan du definiera särskilda filter som använder färg, text och format för att fokusera på meddelanden som innehåller specifik information i en spårning.</span><span class="sxs-lookup"><span data-stu-id="3466b-260">**Azure Storage Color Rules:** Azure Storage color rules enable you to define special filters that use color, text, and font styles to highlight messages that contain specific information in a trace.</span></span>
   * <span data-ttu-id="3466b-261">**Azure Storage-diagram:** diagram för Azure Storage är fördefinierade diagram som diagramdata server-loggen.</span><span class="sxs-lookup"><span data-stu-id="3466b-261">**Azure Storage Charts:** Azure Storage charts are predefined charts that graph server log data.</span></span> <span data-ttu-id="3466b-262">Observera att om du vill använda Azure Storage diagram just nu, kan endast läsa serverloggen i rutnätet för analys.</span><span class="sxs-lookup"><span data-stu-id="3466b-262">Note that to use Azure Storage charts at this time, you may only load the server log into the Analysis Grid.</span></span>
   * <span data-ttu-id="3466b-263">**Azure Storage-Parser:** Azure Storage-Parser tolka Azure Storage-klienten, server och HTTP-loggarna för att visa dem i rutnätet analys.</span><span class="sxs-lookup"><span data-stu-id="3466b-263">**Azure Storage Parsers:** The Azure Storage parsers parse the Azure Storage client, server, and HTTP logs in order to display them in the Analysis Grid.</span></span>
   * <span data-ttu-id="3466b-264">**Azure Storage-filter:** Azure Storage filter är fördefinierade kriterier som du kan använda för att fråga data i rutnätet analys.</span><span class="sxs-lookup"><span data-stu-id="3466b-264">**Azure Storage Filters:** Azure Storage filters are predefined criteria that you can use to query your data in the Analysis Grid.</span></span>
   * <span data-ttu-id="3466b-265">**Azure Storage layouter:** layouter Azure Storage är fördefinierad kolumn och grupperingar i rutnätet analys.</span><span class="sxs-lookup"><span data-stu-id="3466b-265">**Azure Storage View Layouts:** Azure Storage view layouts are predefined column layouts and groupings in the Analysis Grid.</span></span>
5. <span data-ttu-id="3466b-266">Starta om Message Analyzer när du har installerat tillgångar.</span><span class="sxs-lookup"><span data-stu-id="3466b-266">Restart Message Analyzer after you've installed the assets.</span></span>

![Message Analyzer Tillgångsansvarig](./media/storage-e2e-troubleshooting-classic-portal/mma-start-page-1.png)

> [!NOTE]
> <span data-ttu-id="3466b-268">Installera alla Azure Storage-tillgångar som visas för den här kursen.</span><span class="sxs-lookup"><span data-stu-id="3466b-268">Install all of the Azure Storage assets shown for the purposes of this tutorial.</span></span>
>
>

### <a name="import-your-log-files-into-message-analyzer"></a><span data-ttu-id="3466b-269">Importera loggfilerna till Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="3466b-269">Import your log files into Message Analyzer</span></span>
<span data-ttu-id="3466b-270">Du kan importera alla dina sparade loggfiler (servern, klienten och nätverk) till en enda session i Microsoft Message Analyzer för analys.</span><span class="sxs-lookup"><span data-stu-id="3466b-270">You can import all of your saved log files (server-side, client-side, and network) into a single session in Microsoft Message Analyzer for analysis.</span></span>

1. <span data-ttu-id="3466b-271">På den **filen** Klicka på menyn i Microsoft Message Analyzer **ny Session**, och klicka sedan på **tom Session**.</span><span class="sxs-lookup"><span data-stu-id="3466b-271">On the **File** menu in Microsoft Message Analyzer, click **New Session**, and then click **Blank Session**.</span></span> <span data-ttu-id="3466b-272">I den **ny Session** dialogrutan, ange ett namn för din session för analys.</span><span class="sxs-lookup"><span data-stu-id="3466b-272">In the **New Session** dialog, enter a name for your analysis session.</span></span> <span data-ttu-id="3466b-273">I den **sessionsinformation** panelen, klickar du på den **filer** knappen.</span><span class="sxs-lookup"><span data-stu-id="3466b-273">In the **Session Details** panel, click on the **Files** button.</span></span>
2. <span data-ttu-id="3466b-274">Klicka på för att läsa in nätverket spåra data som genereras av Message Analyzer **Lägg till filer**, bläddra till platsen där du sparade filen .matp från webben spårningssessionen, markera filen .matp och klicka på **öppna**.</span><span class="sxs-lookup"><span data-stu-id="3466b-274">To load the network trace data generated by Message Analyzer, click on **Add Files**, browse to the location where you saved your .matp file from your web tracing session, select the .matp file, and click **Open**.</span></span>
3. <span data-ttu-id="3466b-275">Om du vill läsa in loggdata för serversidan, klickar du på **Lägg till filer**, bläddra till den plats där du sparade loggarna serversidan, väljer du loggfilerna för det tidsintervall som du vill analysera och klicka på **öppna**.</span><span class="sxs-lookup"><span data-stu-id="3466b-275">To load the server-side log data, click on **Add Files**, browse to the location where you downloaded your server-side logs, select the log files for the time range you want to analyze, and click **Open**.</span></span> <span data-ttu-id="3466b-276">I den **sessionsinformation** panelen genom att ange den **Text konfigurationen av loggen** listrutan för varje serversidan loggfilen till **AzureStorageLog** så att Microsoft Message Analyzer kan parsa loggfilen på rätt sätt.</span><span class="sxs-lookup"><span data-stu-id="3466b-276">Then, in the **Session Details** panel, set the **Text Log Configuration** drop-down for each server-side log file to **AzureStorageLog** to ensure that Microsoft Message Analyzer can parse the log file correctly.</span></span>
4. <span data-ttu-id="3466b-277">Klicka på för att läsa in loggdata för klientsidan **Lägg till filer**, bläddra till platsen där du sparade loggarna på klientsidan, välja loggfiler som du vill analysera och klicka på **öppna**.</span><span class="sxs-lookup"><span data-stu-id="3466b-277">To load the client-side log data, click on **Add Files**, browse to the location where you saved your client-side logs, select the log files you want to analyze, and click **Open**.</span></span> <span data-ttu-id="3466b-278">I den **sessionsinformation** panelen genom att ange den **Text konfigurationen av loggen** listrutan för varje klientsidan loggfilen till **AzureStorageClientDotNetV4** så att Microsoft Message Analyzer kan parsa loggfilen på rätt sätt.</span><span class="sxs-lookup"><span data-stu-id="3466b-278">Then, in the **Session Details** panel, set the **Text Log Configuration** drop-down for each client-side log file to **AzureStorageClientDotNetV4** to ensure that Microsoft Message Analyzer can parse the log file correctly.</span></span>
5. <span data-ttu-id="3466b-279">Klicka på **starta** i den **ny Session** för att läsa in och tolka loggdata.</span><span class="sxs-lookup"><span data-stu-id="3466b-279">Click **Start** in the **New Session** dialog to load and parse the log data.</span></span> <span data-ttu-id="3466b-280">Loggdata som visas i rutnätet Message Analyzer analys.</span><span class="sxs-lookup"><span data-stu-id="3466b-280">The log data displays in the Message Analyzer Analysis Grid.</span></span>

<span data-ttu-id="3466b-281">I bilden nedan visas en exempel-session som har konfigurerats med servern, klienten och spårningsloggfilerna i nätverket.</span><span class="sxs-lookup"><span data-stu-id="3466b-281">The picture below shows an example session configured with server, client, and network trace log files.</span></span>

![Konfigurera Message Analyzer Session](./media/storage-e2e-troubleshooting-classic-portal/configure-mma-session-1.png)

<span data-ttu-id="3466b-283">Observera att Message Analyzer läser in loggfiler i minnet.</span><span class="sxs-lookup"><span data-stu-id="3466b-283">Note that Message Analyzer loads log files into memory.</span></span> <span data-ttu-id="3466b-284">Om du har en stor mängd loggade data, kommer du vill filtrera för att få bästa möjliga prestanda från Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="3466b-284">If you have a large set of log data, you will want to filter it in order to get the best performance from Message Analyzer.</span></span>

<span data-ttu-id="3466b-285">Först fastställa den tidsperiod som du vill granska och att denna tidsram så liten som möjligt.</span><span class="sxs-lookup"><span data-stu-id="3466b-285">First, determine the time frame that you are interested in reviewing, and keep this time frame as small as possible.</span></span> <span data-ttu-id="3466b-286">I många fall vill du granska en tidsperiod minuter eller timmar högst.</span><span class="sxs-lookup"><span data-stu-id="3466b-286">In many cases you will want to review a period of minutes or hours at most.</span></span> <span data-ttu-id="3466b-287">Importera den minsta mängden loggar som uppfyller dina behov.</span><span class="sxs-lookup"><span data-stu-id="3466b-287">Import the smallest set of logs that can meet your needs.</span></span>

<span data-ttu-id="3466b-288">Om du fortfarande har en stor mängd loggdata vill ange en session och filtrerar logga data innan du läsa in den.</span><span class="sxs-lookup"><span data-stu-id="3466b-288">If you still have a large amount of log data, then you may want to specify a session filter to filter your log data before you load it.</span></span> <span data-ttu-id="3466b-289">I den **Sessionsfiltret** markerar den **biblioteket** knappen om du vill välja ett fördefinierat filter, till exempel välja **Global tid Filter I** från Azure Storage filter för att filtrera på ett tidsintervall.</span><span class="sxs-lookup"><span data-stu-id="3466b-289">In the **Session Filter** box, select the **Library** button to choose a predefined filter; for example, choose **Global Time Filter I** from the Azure Storage filters to filter on a time interval.</span></span> <span data-ttu-id="3466b-290">Du kan sedan redigera filtervillkoren om du vill ange de inledande och avslutande tidsstämpel för intervallet som du vill se.</span><span class="sxs-lookup"><span data-stu-id="3466b-290">You can then edit the filter criteria to specify the starting and ending timestamp for the interval you want to see.</span></span> <span data-ttu-id="3466b-291">Du kan också filtrera på en viss statuskod; Du kan exempelvis välja att läsa in endast loggposter där statuskoden är 404.</span><span class="sxs-lookup"><span data-stu-id="3466b-291">You can also filter on a particular status code; for example, you can choose to load only log entries where the status code is 404.</span></span>

<span data-ttu-id="3466b-292">Mer information om att importera loggdata till Microsoft Message Analyzer finns [hämtar meddelandedata](http://technet.microsoft.com/library/dn772437.aspx) på TechNet.</span><span class="sxs-lookup"><span data-stu-id="3466b-292">For more information about importing log data into Microsoft Message Analyzer, see [Retrieving Message Data](http://technet.microsoft.com/library/dn772437.aspx) on TechNet.</span></span>

### <a name="use-the-client-request-id-to-correlate-log-file-data"></a><span data-ttu-id="3466b-293">Använd ID för klientbegäran för att korrelera data för loggfil</span><span class="sxs-lookup"><span data-stu-id="3466b-293">Use the client request ID to correlate log file data</span></span>
<span data-ttu-id="3466b-294">Azure Storage-klientbiblioteket genererar automatiskt ett unikt ID för klientbegäran för varje begäran.</span><span class="sxs-lookup"><span data-stu-id="3466b-294">The Azure Storage Client Library automatically generates a unique client request ID for every request.</span></span> <span data-ttu-id="3466b-295">Det här värdet skrivs till klientloggen och serverloggen spårning i nätverket, så du kan använda för att korrelera data över alla tre loggar inom Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="3466b-295">This value is written to the client log, the server log, and the network trace, so you can use it to correlate data across all three logs within Message Analyzer.</span></span> <span data-ttu-id="3466b-296">Se [ID för klientbegäran](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) för ytterligare information om klienten begär ID.</span><span class="sxs-lookup"><span data-stu-id="3466b-296">See [Client request ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) for additional information about the client request ID.</span></span>

<span data-ttu-id="3466b-297">I avsnitten nedan beskrivs hur du använder layouten förkonfigurerade och anpassade vyer för korrelation och gruppera data baserat på klient-begäran-ID.</span><span class="sxs-lookup"><span data-stu-id="3466b-297">The sections below describe how to use pre-configured and custom layout views to correlate and group data based on the client request ID.</span></span>

### <a name="select-a-view-layout-to-display-in-the-analysis-grid"></a><span data-ttu-id="3466b-298">Välj en layout för vyn ska visas i rutnätet analys</span><span class="sxs-lookup"><span data-stu-id="3466b-298">Select a view layout to display in the Analysis Grid</span></span>
<span data-ttu-id="3466b-299">Storage-resurser för Message Analyzer inkluderar Azure Storage layouter, som är förkonfigurerad vyer som du kan använda för att visa dina data med användbar grupperingar och kolumner för olika scenarier.</span><span class="sxs-lookup"><span data-stu-id="3466b-299">The Storage Assets for Message Analyzer include Azure Storage View Layouts, which are pre-configured views that you can use to display your data with useful groupings and columns for different scenarios.</span></span> <span data-ttu-id="3466b-300">Du kan också skapa anpassade layouter och spara dem för återanvändning.</span><span class="sxs-lookup"><span data-stu-id="3466b-300">You can also create custom view layouts and save them for reuse.</span></span>

<span data-ttu-id="3466b-301">Bilden nedan visar den **visa Layout** menyn genom att välja **visa Layout** från verktygsfältet menyfliksområdet.</span><span class="sxs-lookup"><span data-stu-id="3466b-301">The picture below shows the **View Layout** menu, available by selecting **View Layout** from the toolbar ribbon.</span></span> <span data-ttu-id="3466b-302">Visa layouter för Azure Storage är grupperade under den **Azure Storage** nod i menyn.</span><span class="sxs-lookup"><span data-stu-id="3466b-302">The view layouts for Azure Storage are grouped under the **Azure Storage** node in the menu.</span></span> <span data-ttu-id="3466b-303">Du kan söka efter `Azure Storage` Visa endast layouter i sökrutan för att filtrera på Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="3466b-303">You can search for `Azure Storage` in the search box to filter on Azure Storage view layouts only.</span></span> <span data-ttu-id="3466b-304">Du kan också välja star bredvid layouten vyn att göra det en favorit och visa det överst på menyn.</span><span class="sxs-lookup"><span data-stu-id="3466b-304">You can also select the star next to a view layout to make it a favorite and display it at the top of the menu.</span></span>

![Visa menyn Layout](./media/storage-e2e-troubleshooting-classic-portal/view-layout-menu.png)

<span data-ttu-id="3466b-306">Börja med att välja **grupperade efter ClientRequestID och modulen**.</span><span class="sxs-lookup"><span data-stu-id="3466b-306">To begin with, select **Grouped by ClientRequestID and Module**.</span></span> <span data-ttu-id="3466b-307">Den här vyn layout grupper logga data från alla tre loggar först efter ID för klientbegäran, sedan efter loggfil för källdatorn (eller **modulen** i Message Analyzer).</span><span class="sxs-lookup"><span data-stu-id="3466b-307">This view layout groups log data from all three logs first by client request ID, then by source log file (or **Module** in Message Analyzer).</span></span> <span data-ttu-id="3466b-308">Med den här vyn kan du detaljnivån i en viss klient-ID för förfrågan och se data från alla tre loggfiler för klientbegäran-ID.</span><span class="sxs-lookup"><span data-stu-id="3466b-308">With this view, you can drill down into a particular client request ID, and see data from all three log files for that client request ID.</span></span>

<span data-ttu-id="3466b-309">Bilden nedan visar den här layoutvyn tillämpas på loggen exempeldata, med en delmängd med kolumner som visas.</span><span class="sxs-lookup"><span data-stu-id="3466b-309">The picture below shows this layout view applied to the sample log data, with a subset of columns displayed.</span></span> <span data-ttu-id="3466b-310">Du kan se att analys rutnätet för en viss klient begärande-ID visar data från den klientloggen och serverloggen spårning i nätverket.</span><span class="sxs-lookup"><span data-stu-id="3466b-310">You can see that for a particular client request ID, the Analysis Grid displays data from the client log, server log, and network trace.</span></span>

![Azure Storage visa Layout](./media/storage-e2e-troubleshooting-classic-portal/view-layout-client-request-id-module.png)

> [!NOTE]
> <span data-ttu-id="3466b-312">Olika loggfilerna har olika kolumner, så när data från flera loggfiler visas i rutnätet analys, vissa kolumner inte får innehålla några data för en viss rad.</span><span class="sxs-lookup"><span data-stu-id="3466b-312">Different log files have different columns, so when data from multiple log files is displayed in the Analysis Grid, some columns may not contain any data for a given row.</span></span> <span data-ttu-id="3466b-313">Till exempel i bilden ovan klienten loggen rader visas inte alla data för den **tidsstämpel**, **TimeElapsed**, **källa**, och **mål** kolumner, eftersom dessa kolumner finns inte i klientloggen för, men finns i spårning i nätverket.</span><span class="sxs-lookup"><span data-stu-id="3466b-313">For example, in the picture above, the client log rows do not show any data for the **Timestamp**, **TimeElapsed**, **Source**, and **Destination** columns, because these columns do not exist in the client log, but do exist in the network trace.</span></span> <span data-ttu-id="3466b-314">På liknande sätt den **tidsstämpel** visar kolumnen tidsstämpel data från serverloggen, men inga data visas för den **TimeElapsed**, **källa**, och **mål** kolumner som inte ingår i serverloggen.</span><span class="sxs-lookup"><span data-stu-id="3466b-314">Similarly, the **Timestamp** column displays timestamp data from the server log, but no data is displayed for the **TimeElapsed**, **Source**, and **Destination** columns, which are not part of the server log.</span></span>
>
>

<span data-ttu-id="3466b-315">Förutom att använda layouter i Azure Storage kan du också definiera och spara egna layouter.</span><span class="sxs-lookup"><span data-stu-id="3466b-315">In addition to using the Azure Storage view layouts, you can also define and save your own view layouts.</span></span> <span data-ttu-id="3466b-316">Du kan välja andra önskade fält för gruppering av data och spara grupperingen som en del av din anpassade layout.</span><span class="sxs-lookup"><span data-stu-id="3466b-316">You can select other desired fields for grouping data and save the grouping as part of your custom layout as well.</span></span>

### <a name="apply-color-rules-to-the-analysis-grid"></a><span data-ttu-id="3466b-317">Tillämpa färgregler på rutnätet Analysis</span><span class="sxs-lookup"><span data-stu-id="3466b-317">Apply color rules to the Analysis Grid</span></span>
<span data-ttu-id="3466b-318">Storage-tillgångar också innefatta färgregler som ger en visuell innebär att identifiera olika typer av fel i rutnätet analys.</span><span class="sxs-lookup"><span data-stu-id="3466b-318">The Storage Assets also include color rules, which offer a visual means to identify different types of errors in the Analysis Grid.</span></span> <span data-ttu-id="3466b-319">Fördefinierade färgregler gäller för HTTP-fel, så att de visas endast för serverspårning loggen och nätverk.</span><span class="sxs-lookup"><span data-stu-id="3466b-319">The predefined color rules apply to HTTP errors, so they appear only for the server log and network trace.</span></span>

<span data-ttu-id="3466b-320">Markera för att tillämpa färgregler **färgregler** från verktygsfältet menyfliksområdet.</span><span class="sxs-lookup"><span data-stu-id="3466b-320">To apply color rules, select **Color Rules** from the toolbar ribbon.</span></span> <span data-ttu-id="3466b-321">Regler för Azure Storage-färg i menyn visas.</span><span class="sxs-lookup"><span data-stu-id="3466b-321">You'll see the Azure Storage color rules in the menu.</span></span> <span data-ttu-id="3466b-322">Kursen, Välj **klientfel (StatusCode mellan 400 och 499)**som visas i bilden nedan.</span><span class="sxs-lookup"><span data-stu-id="3466b-322">For the tutorial, select **Client Errors (StatusCode between 400 and 499)**, as shown in the picture below.</span></span>

![Azure Storage visa Layout](./media/storage-e2e-troubleshooting-classic-portal/color-rules-menu.png)

<span data-ttu-id="3466b-324">Förutom att använda färgregler för Azure Storage kan du också definiera och spara dina egna färgregler.</span><span class="sxs-lookup"><span data-stu-id="3466b-324">In addition to using the Azure Storage color rules, you can also define and save your own color rules.</span></span>

### <a name="group-and-filter-log-data-to-find-400-range-errors"></a><span data-ttu-id="3466b-325">Gruppen och filtrera loggdata för att hitta 400-range-fel</span><span class="sxs-lookup"><span data-stu-id="3466b-325">Group and filter log data to find 400-range errors</span></span>
<span data-ttu-id="3466b-326">Nu ska vi gruppen och filtrera loggdata för att hitta alla fel i 400 intervallet.</span><span class="sxs-lookup"><span data-stu-id="3466b-326">Next, we'll group and filter the log data to find all errors in the 400 range.</span></span>

1. <span data-ttu-id="3466b-327">Leta upp den **StatusCode** kolumn i rutnätet analys högerklickar du på kolumnen rubrik och välj **gruppen**.</span><span class="sxs-lookup"><span data-stu-id="3466b-327">Locate the **StatusCode** column in the Analysis Grid, right-click the column heading, and select **Group**.</span></span>
2. <span data-ttu-id="3466b-328">Därefter gruppen på den **ClientRequestId** kolumn.</span><span class="sxs-lookup"><span data-stu-id="3466b-328">Next, group on the **ClientRequestId** column.</span></span> <span data-ttu-id="3466b-329">Ser du att data i rutnätet analys nu är ordnad efter statuskod och genom att klient-begäran-ID.</span><span class="sxs-lookup"><span data-stu-id="3466b-329">You'll see that the data in the Analysis Grid is now organized by status code and by client request ID.</span></span>
3. <span data-ttu-id="3466b-330">Visa fönstret Visa Filter-verktyget om den inte redan visas.</span><span class="sxs-lookup"><span data-stu-id="3466b-330">Display the View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="3466b-331">Välj på menyfliken verktygsfältet **verktyget Windows**, sedan **visningsfilter**.</span><span class="sxs-lookup"><span data-stu-id="3466b-331">On the toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
4. <span data-ttu-id="3466b-332">Om du vill filtrera loggdata för att visa endast 400 intervallet fel, lägger du till följande filterkriterier för att den **visningsfilter** , och klicka på **Verkställ**:</span><span class="sxs-lookup"><span data-stu-id="3466b-332">To filter the log data to display only 400-range errors, add the following filter criteria to the **View Filter** window, and click **Apply**:</span></span>

    ```   
    (AzureStorageLog.StatusCode >= 400 && AzureStorageLog.StatusCode <=499) || (HTTP.StatusCode >= 400 && HTTP.StatusCode <= 499)
    ```

<span data-ttu-id="3466b-333">Bilden nedan visar resultatet av den här grupperingen och filter.</span><span class="sxs-lookup"><span data-stu-id="3466b-333">The picture below shows the results of this grouping and filter.</span></span> <span data-ttu-id="3466b-334">Expandera den **ClientRequestID** fältet under gruppering för statuskod 409, till exempel visar en åtgärd som resulterade i att statuskod.</span><span class="sxs-lookup"><span data-stu-id="3466b-334">Expanding the **ClientRequestID** field beneath the grouping for status code 409, for example, shows an operation that resulted in that status code.</span></span>

![Azure Storage visa Layout](./media/storage-e2e-troubleshooting-classic-portal/400-range-errors1.png)

<span data-ttu-id="3466b-336">Efter att det här filtret, ser du att rader från klientloggen undantas, som klienten loggen inte innehåller en **StatusCode** kolumn.</span><span class="sxs-lookup"><span data-stu-id="3466b-336">After applying this filter, you'll see that rows from the client log are excluded, as the client log does not include a **StatusCode** column.</span></span> <span data-ttu-id="3466b-337">Börja med att vi ska granska server och nätverk spårningsloggar att hitta 404-fel och vi återkommer till klientloggen att undersöka Klientåtgärder som ledde till dem.</span><span class="sxs-lookup"><span data-stu-id="3466b-337">To begin with, we'll review the server and network trace logs to locate 404 errors, and then we'll return to the client log to examine the client operations that led to them.</span></span>

> [!NOTE]
> <span data-ttu-id="3466b-338">Du kan filtrera efter den **StatusCode** kolumn och fortfarande visa data från alla tre loggar, inklusive klientloggen om du lägger till ett uttryck filter som innehåller poster där statuskoden är null.</span><span class="sxs-lookup"><span data-stu-id="3466b-338">You can filter on the **StatusCode** column and still display data from all three logs, including the client log, if you add an expression to the filter that includes log entries where the status code is null.</span></span> <span data-ttu-id="3466b-339">Använd för att skapa den här filteruttrycket:</span><span class="sxs-lookup"><span data-stu-id="3466b-339">To construct this filter expression, use:</span></span>
>
> <code>&#42;StatusCode >= 400 or !&#42;StatusCode</code>
>
> <span data-ttu-id="3466b-340">Det här filtret returnerar alla rader från klienten loggen och endast rader från serverloggen och HTTP-loggen där statuskoden är större än 400.</span><span class="sxs-lookup"><span data-stu-id="3466b-340">This filter returns all rows from the client log and only rows from the server log and HTTP log where the status code is greater than 400.</span></span> <span data-ttu-id="3466b-341">Om du använder för att visa layouten grupperade efter ID för klientbegäran och modulen, du kan söka eller bläddra igenom loggposter för att hitta sådana där alla tre loggar visas.</span><span class="sxs-lookup"><span data-stu-id="3466b-341">If you apply it to the view layout grouped by client request ID and module, you can search or scroll through the log entries to find ones where all three logs are represented.</span></span>   
>
>

### <a name="filter-log-data-to-find-404-errors"></a><span data-ttu-id="3466b-342">Filtrera loggdata för att hitta 404-fel</span><span class="sxs-lookup"><span data-stu-id="3466b-342">Filter log data to find 404 errors</span></span>
<span data-ttu-id="3466b-343">Storage-tillgångar inkluderar fördefinierade filter som du kan använda för att begränsa loggdata för att söka efter fel eller trender som du letar efter.</span><span class="sxs-lookup"><span data-stu-id="3466b-343">The Storage Assets include predefined filters that you can use to narrow log data to find the errors or trends you are looking for.</span></span> <span data-ttu-id="3466b-344">Nu ska vi ska använda två fördefinierade filter: en som filtrerar server och nätverk spårningsloggar för 404-fel och en som filtrerar data på ett angivet tidsintervall.</span><span class="sxs-lookup"><span data-stu-id="3466b-344">Next, we'll apply two predefined filters: one that filters the server and network trace logs for 404 errors, and one that filters the data on a specified time range.</span></span>

1. <span data-ttu-id="3466b-345">Visa fönstret Visa Filter-verktyget om den inte redan visas.</span><span class="sxs-lookup"><span data-stu-id="3466b-345">Display the View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="3466b-346">Välj på menyfliken verktygsfältet **verktyget Windows**, sedan **visningsfilter**.</span><span class="sxs-lookup"><span data-stu-id="3466b-346">On the toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
2. <span data-ttu-id="3466b-347">I fönstret Visa Filter Välj **biblioteket**, och Sök på `Azure Storage` hitta Azure Storage-filter.</span><span class="sxs-lookup"><span data-stu-id="3466b-347">In the View Filter window, select **Library**, and search on `Azure Storage` to find the Azure Storage filters.</span></span> <span data-ttu-id="3466b-348">Välj filtret för **404 (inget hittas) meddelanden i alla loggar**.</span><span class="sxs-lookup"><span data-stu-id="3466b-348">Select the filter for **404 (Not Found) messages in all logs**.</span></span>
3. <span data-ttu-id="3466b-349">Visa den **biblioteket** menyn igen, och leta upp och markera den **globala tidsfiltret**.</span><span class="sxs-lookup"><span data-stu-id="3466b-349">Display the **Library** menu again, and locate and select the **Global Time Filter**.</span></span>
4. <span data-ttu-id="3466b-350">Redigera tidsstämplar som visas i filtret på intervallet som du vill visa.</span><span class="sxs-lookup"><span data-stu-id="3466b-350">Edit the timestamps shown in the filter to the range you wish to view.</span></span> <span data-ttu-id="3466b-351">Detta hjälper för att begränsa mängd data för att analysera.</span><span class="sxs-lookup"><span data-stu-id="3466b-351">This will help to narrow the range of data to analyze.</span></span>
5. <span data-ttu-id="3466b-352">Filtret bör likna exemplet nedan.</span><span class="sxs-lookup"><span data-stu-id="3466b-352">Your filter should appear similar to the example below.</span></span> <span data-ttu-id="3466b-353">Klicka på **tillämpa** att tillämpa filtret analys rutnätet.</span><span class="sxs-lookup"><span data-stu-id="3466b-353">Click **Apply** to apply the filter to the Analysis Grid.</span></span>

    ```   
    ((AzureStorageLog.StatusCode == 404 || HTTP.StatusCode == 404)) And
    (#Timestamp >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39)
    ```

![Azure Storage visa Layout](./media/storage-e2e-troubleshooting-classic-portal/404-filtered-errors1.png)

### <a name="analyze-your-log-data"></a><span data-ttu-id="3466b-355">Analysera dina loggdata</span><span class="sxs-lookup"><span data-stu-id="3466b-355">Analyze your log data</span></span>
<span data-ttu-id="3466b-356">Nu när du har grupperats och filtreras data kan granska du information om enskilda förfrågningar som genererade fel 404.</span><span class="sxs-lookup"><span data-stu-id="3466b-356">Now that you have grouped and filtered your data, you can examine the details of individual requests that generated 404 errors.</span></span> <span data-ttu-id="3466b-357">I den aktuella vyn layouten grupperas data efter ID för klientbegäran, sedan efter källan.</span><span class="sxs-lookup"><span data-stu-id="3466b-357">In the current view layout, the data is grouped by client request ID, then by log source.</span></span> <span data-ttu-id="3466b-358">Eftersom vi filtrerar på begäranden där fältet StatusCode innehåller 404 kan se vi servern och nätverket spårningsdata, inte klienten loggdata.</span><span class="sxs-lookup"><span data-stu-id="3466b-358">Since we are filtering on requests where the StatusCode field contains 404, we'll see only the server and network trace data, not the client log data.</span></span>

<span data-ttu-id="3466b-359">Bilden nedan visar en specifik begäran där en hämta Blob-åtgärd gav en 404 eftersom blobben inte finns.</span><span class="sxs-lookup"><span data-stu-id="3466b-359">The picture below shows a specific request where a Get Blob operation yielded a 404 because the blob did not exist.</span></span> <span data-ttu-id="3466b-360">Observera att vissa kolumner har tagits bort från vyn standard för att visa relevanta data.</span><span class="sxs-lookup"><span data-stu-id="3466b-360">Note that some columns have been removed from the standard view in order to display the relevant data.</span></span>

![Filtrerade Server och nätverk spårningsloggar](./media/storage-e2e-troubleshooting-classic-portal/server-filtered-404-error.png)

<span data-ttu-id="3466b-362">Vi kommer därefter korrelera detta klient-ID för begäran med loggdata klienten se vad klienten tog när felet inträffade.</span><span class="sxs-lookup"><span data-stu-id="3466b-362">Next, we'll correlate this client request ID with the client log data to see what actions the client was taking when the error happened.</span></span> <span data-ttu-id="3466b-363">Du kan visa en ny analys rutnätsvy för den här sessionen att visa loggdata klienten som öppnas i andra fliken:</span><span class="sxs-lookup"><span data-stu-id="3466b-363">You can display a new Analysis Grid view for this session to view the client log data, which opens in a second tab:</span></span>

1. <span data-ttu-id="3466b-364">Först kopiera värdet för den **ClientRequestId** till Urklipp.</span><span class="sxs-lookup"><span data-stu-id="3466b-364">First, copy the value of the **ClientRequestId** field to the clipboard.</span></span> <span data-ttu-id="3466b-365">Du kan göra detta genom att välja antingen rad, lokalisera den **ClientRequestId** fältet, högerklicka på datavärdet och välja **kopiera 'ClientRequestId'**.</span><span class="sxs-lookup"><span data-stu-id="3466b-365">You can do this by selecting either row, locating the **ClientRequestId** field, right-clicking on the data value, and choosing **Copy 'ClientRequestId'**.</span></span>
2. <span data-ttu-id="3466b-366">Markera på menyfliken verktygsfältet **nya visningsprogrammet för**och välj **analys rutnätet** att öppna en ny flik.</span><span class="sxs-lookup"><span data-stu-id="3466b-366">On the toolbar ribbon, select **New Viewer**, then select **Analysis Grid** to open a new tab.</span></span> <span data-ttu-id="3466b-367">Den nya fliken visar alla data i loggfilerna, utan gruppering, filtrering och färgregler.</span><span class="sxs-lookup"><span data-stu-id="3466b-367">The new tab shows all data in your log files, without grouping, filtering, or color rules.</span></span>
3. <span data-ttu-id="3466b-368">På menyfliken verktygsfältet väljer **visa Layout**och välj **alla .NET klienten kolumner** under den **Azure Storage** avsnitt.</span><span class="sxs-lookup"><span data-stu-id="3466b-368">On the toolbar ribbon, select **View Layout**, then select **All .NET Client Columns** under the **Azure Storage** section.</span></span> <span data-ttu-id="3466b-369">Layout för den här vyn visar data från klienten loggen samt spårningsloggar server och nätverk.</span><span class="sxs-lookup"><span data-stu-id="3466b-369">This view layout shows data from the client log as well as the server and network trace logs.</span></span> <span data-ttu-id="3466b-370">Som standard den sorteras på den **MessageNumber** kolumn.</span><span class="sxs-lookup"><span data-stu-id="3466b-370">By default it is sorted on the **MessageNumber** column.</span></span>
4. <span data-ttu-id="3466b-371">Nu söka klientloggen för klient-begäran-ID.</span><span class="sxs-lookup"><span data-stu-id="3466b-371">Next, search the client log for the client request ID.</span></span> <span data-ttu-id="3466b-372">På menyfliken verktygsfältet väljer **hitta meddelanden**, ange ett filter på klient-ID för begäran i den **hitta** fältet.</span><span class="sxs-lookup"><span data-stu-id="3466b-372">On the toolbar ribbon, select **Find Messages**, then specify a custom filter on the client request ID in the **Find** field.</span></span> <span data-ttu-id="3466b-373">Använd följande syntax för filtret, ange din egen klient-ID för begäran:</span><span class="sxs-lookup"><span data-stu-id="3466b-373">Use this syntax for the filter, specifying your own client request ID:</span></span>

    ```  
    *ClientRequestId == "398bac41-7725-484b-8a69-2a9e48fc669a"
    ```

<span data-ttu-id="3466b-374">Message Analyzer hittar och väljer den första loggposten där matchar sökkriterierna klienten begärande-ID.</span><span class="sxs-lookup"><span data-stu-id="3466b-374">Message Analyzer locates and selects the first log entry where the search criteria matches the client request ID.</span></span> <span data-ttu-id="3466b-375">Klientloggen, finns det flera poster för varje ID för klientbegäran, så kanske du vill gruppera dem på den **ClientRequestId** fält som du vill göra det lättare att se dem samtidigt.</span><span class="sxs-lookup"><span data-stu-id="3466b-375">In the client log, there are several entries for each client request ID, so you may want to group them on the **ClientRequestId** field to make it easier to see them all together.</span></span> <span data-ttu-id="3466b-376">I bilden nedan visas alla meddelanden i klientloggen för för den angivna klienten begärande-ID.</span><span class="sxs-lookup"><span data-stu-id="3466b-376">The picture below shows all of the messages in the client log for the specified client request ID.</span></span>

![Klienten loggen visar 404-fel](./media/storage-e2e-troubleshooting-classic-portal/client-log-analysis-grid1.png)

<span data-ttu-id="3466b-378">Du kan analysera begärandedata för att avgöra vad kan ha orsakat felet med hjälp av data som visas i vyn layouter i dessa två flikar.</span><span class="sxs-lookup"><span data-stu-id="3466b-378">Using the data shown in the view layouts in these two tabs, you can analyze the request data to determine what may have caused the error.</span></span> <span data-ttu-id="3466b-379">Du kan också se begäranden som föregås den för att se om en tidigare händelse har lett till 404-fel.</span><span class="sxs-lookup"><span data-stu-id="3466b-379">You can also look at requests that preceded this one to see if a previous event may have led to the 404 error.</span></span> <span data-ttu-id="3466b-380">Du kan till exempel granska klienten loggposter före detta klient-ID för begäran om att avgöra om blob kan ha tagits bort, eller om felet beror på att klientprogram anropar en CreateIfNotExists API på en behållare eller blobb.</span><span class="sxs-lookup"><span data-stu-id="3466b-380">For example, you can review the client log entries preceding this client request ID to determine whether the blob may have been deleted, or if the error was due to the client application calling a CreateIfNotExists API on a container or blob.</span></span> <span data-ttu-id="3466b-381">I klientloggen hittar du i blob-adress i den **beskrivning** fältet; i servern och nätverket spårningsloggar, visas informationen i den **sammanfattning** fältet.</span><span class="sxs-lookup"><span data-stu-id="3466b-381">In the client log, you can find the blob's address in the **Description** field; in the server and network trace logs, this information appears in the **Summary** field.</span></span>

<span data-ttu-id="3466b-382">När du vet adressen till blob som gav 404-fel kan undersöka du vidare.</span><span class="sxs-lookup"><span data-stu-id="3466b-382">Once you know the address of the blob that yielded the 404 error, you can investigate further.</span></span> <span data-ttu-id="3466b-383">Du kan kontrollera om klienten tidigare bort entiteten om du söker loggposter för andra meddelanden som är associerade med åtgärder på samma blob.</span><span class="sxs-lookup"><span data-stu-id="3466b-383">If you search the log entries for other messages associated with operations on the same blob, you can check whether the client previously deleted the entity.</span></span>

## <a name="analyze-other-types-of-storage-errors"></a><span data-ttu-id="3466b-384">Analysera andra typer av lagring fel</span><span class="sxs-lookup"><span data-stu-id="3466b-384">Analyze other types of storage errors</span></span>
<span data-ttu-id="3466b-385">Nu när du är bekant med Message Analyzer för att analysera dina loggdata kan du analysera andra typer av fel i vyn layouter, färgregler och söka/filtrering.</span><span class="sxs-lookup"><span data-stu-id="3466b-385">Now that you are familiar with using Message Analyzer to analyze your log data, you can analyze other types of errors using view layouts, color rules, and searching/filtering.</span></span> <span data-ttu-id="3466b-386">Tabellerna nedan listas några problem som kan uppstå och filtervillkoren som du kan använda för att hitta dem.</span><span class="sxs-lookup"><span data-stu-id="3466b-386">The tables below lists some issues you may encounter and the filter criteria you can use to locate them.</span></span> <span data-ttu-id="3466b-387">Mer information om konstruera filter och analysverktyg som filtrering språk finns [filtrering meddelandedata](http://technet.microsoft.com/library/jj819365.aspx).</span><span class="sxs-lookup"><span data-stu-id="3466b-387">For more information on constructing filters and the Message Analyzer filtering language, see [Filtering Message Data](http://technet.microsoft.com/library/jj819365.aspx).</span></span>

| <span data-ttu-id="3466b-388">Att undersöka...</span><span class="sxs-lookup"><span data-stu-id="3466b-388">To Investigate…</span></span> | <span data-ttu-id="3466b-389">Använd filteruttrycket...</span><span class="sxs-lookup"><span data-stu-id="3466b-389">Use Filter Expression…</span></span> | <span data-ttu-id="3466b-390">Uttryck som gäller för Log (klient, Server, nätverk, alla)</span><span class="sxs-lookup"><span data-stu-id="3466b-390">Expression Applies to Log (Client, Server,   Network, All)</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3466b-391">Oväntade fördröjningar i leverans av meddelanden i en kö</span><span class="sxs-lookup"><span data-stu-id="3466b-391">Unexpected delays in message delivery on a queue</span></span> |<span data-ttu-id="3466b-392">AzureStorageClientDotNetV4.Description innehåller ”försöker på nytt misslyckades igen”.</span><span class="sxs-lookup"><span data-stu-id="3466b-392">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span></span> |<span data-ttu-id="3466b-393">Client</span><span class="sxs-lookup"><span data-stu-id="3466b-393">Client</span></span> |
| <span data-ttu-id="3466b-394">HTTP-ökning av PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="3466b-394">HTTP Increase in PercentThrottlingError</span></span> |<span data-ttu-id="3466b-395">HTTP. Response.StatusCode == 500 &#124; &#124; HTTP. Response.StatusCode == 503</span><span class="sxs-lookup"><span data-stu-id="3466b-395">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span></span> |<span data-ttu-id="3466b-396">Nätverk</span><span class="sxs-lookup"><span data-stu-id="3466b-396">Network</span></span> |
| <span data-ttu-id="3466b-397">Öka i PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="3466b-397">Increase in PercentTimeoutError</span></span> |<span data-ttu-id="3466b-398">HTTP. Response.StatusCode == 500</span><span class="sxs-lookup"><span data-stu-id="3466b-398">HTTP.Response.StatusCode   == 500</span></span> |<span data-ttu-id="3466b-399">Nätverk</span><span class="sxs-lookup"><span data-stu-id="3466b-399">Network</span></span> |
| <span data-ttu-id="3466b-400">Öka i PercentTimeoutError (alla)</span><span class="sxs-lookup"><span data-stu-id="3466b-400">Increase in PercentTimeoutError (all)</span></span> |<span data-ttu-id="3466b-401">* StatusCode == 500</span><span class="sxs-lookup"><span data-stu-id="3466b-401">*StatusCode   == 500</span></span> |<span data-ttu-id="3466b-402">Alla</span><span class="sxs-lookup"><span data-stu-id="3466b-402">All</span></span> |
| <span data-ttu-id="3466b-403">Öka i PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="3466b-403">Increase in PercentNetworkError</span></span> |<span data-ttu-id="3466b-404">AzureStorageClientDotNetV4.EventLogEntry.Level < 2</span><span class="sxs-lookup"><span data-stu-id="3466b-404">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span></span> |<span data-ttu-id="3466b-405">Client</span><span class="sxs-lookup"><span data-stu-id="3466b-405">Client</span></span> |
| <span data-ttu-id="3466b-406">HTTP 403 (nekas) meddelanden</span><span class="sxs-lookup"><span data-stu-id="3466b-406">HTTP 403 (Forbidden) messages</span></span> |<span data-ttu-id="3466b-407">HTTP. Response.StatusCode == 403</span><span class="sxs-lookup"><span data-stu-id="3466b-407">HTTP.Response.StatusCode   == 403</span></span> |<span data-ttu-id="3466b-408">Nätverk</span><span class="sxs-lookup"><span data-stu-id="3466b-408">Network</span></span> |
| <span data-ttu-id="3466b-409">HTTP 404 (inget hittas) meddelanden</span><span class="sxs-lookup"><span data-stu-id="3466b-409">HTTP 404 (Not found) messages</span></span> |<span data-ttu-id="3466b-410">HTTP. Response.StatusCode == 404</span><span class="sxs-lookup"><span data-stu-id="3466b-410">HTTP.Response.StatusCode   == 404</span></span> |<span data-ttu-id="3466b-411">Nätverk</span><span class="sxs-lookup"><span data-stu-id="3466b-411">Network</span></span> |
| <span data-ttu-id="3466b-412">404 (alla)</span><span class="sxs-lookup"><span data-stu-id="3466b-412">404 (all)</span></span> |<span data-ttu-id="3466b-413">* StatusCode == 404</span><span class="sxs-lookup"><span data-stu-id="3466b-413">*StatusCode   == 404</span></span> |<span data-ttu-id="3466b-414">Alla</span><span class="sxs-lookup"><span data-stu-id="3466b-414">All</span></span> |
| <span data-ttu-id="3466b-415">Delade signatur åtkomst (SAS) auktorisering problemet</span><span class="sxs-lookup"><span data-stu-id="3466b-415">Shared Access Signature (SAS) authorization issue</span></span> |<span data-ttu-id="3466b-416">AzureStorageLog.RequestStatus == ”SASAuthorizationError”</span><span class="sxs-lookup"><span data-stu-id="3466b-416">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span></span> |<span data-ttu-id="3466b-417">Nätverk</span><span class="sxs-lookup"><span data-stu-id="3466b-417">Network</span></span> |
| <span data-ttu-id="3466b-418">HTTP 409 (konflikt) meddelanden</span><span class="sxs-lookup"><span data-stu-id="3466b-418">HTTP 409 (Conflict) messages</span></span> |<span data-ttu-id="3466b-419">HTTP. Response.StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="3466b-419">HTTP.Response.StatusCode   == 409</span></span> |<span data-ttu-id="3466b-420">Nätverk</span><span class="sxs-lookup"><span data-stu-id="3466b-420">Network</span></span> |
| <span data-ttu-id="3466b-421">409 (alla)</span><span class="sxs-lookup"><span data-stu-id="3466b-421">409 (all)</span></span> |<span data-ttu-id="3466b-422">* StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="3466b-422">*StatusCode   == 409</span></span> |<span data-ttu-id="3466b-423">Alla</span><span class="sxs-lookup"><span data-stu-id="3466b-423">All</span></span> |
| <span data-ttu-id="3466b-424">Låg PercentSuccess eller analytics loggposter innehålla åtgärder med transaktionsstatus för ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="3466b-424">Low PercentSuccess or analytics log entries have   operations with transaction status of ClientOtherErrors</span></span> |<span data-ttu-id="3466b-425">AzureStorageLog.RequestStatus == ”ClientOtherError”</span><span class="sxs-lookup"><span data-stu-id="3466b-425">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span></span> |<span data-ttu-id="3466b-426">Server</span><span class="sxs-lookup"><span data-stu-id="3466b-426">Server</span></span> |
| <span data-ttu-id="3466b-427">Nagle varning</span><span class="sxs-lookup"><span data-stu-id="3466b-427">Nagle   Warning</span></span> |<span data-ttu-id="3466b-428">((AzureStorageLog.EndToEndLatencyMS-AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS * 1.5)) och (AzureStorageLog.RequestPacketSize < 1 460) och (AzureStorageLog.EndToEndLatencyMS - AzureStorageLog.ServerLatencyMS > = 200)</span><span class="sxs-lookup"><span data-stu-id="3466b-428">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span></span> |<span data-ttu-id="3466b-429">Server</span><span class="sxs-lookup"><span data-stu-id="3466b-429">Server</span></span> |
| <span data-ttu-id="3466b-430">Tidsintervall i Server- och loggar</span><span class="sxs-lookup"><span data-stu-id="3466b-430">Range of   time in Server and Network logs</span></span> |<span data-ttu-id="3466b-431">#Timestamp > = 2014-10-20T16:36:38 och #Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="3466b-431">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span></span> |<span data-ttu-id="3466b-432">Servern nätverk</span><span class="sxs-lookup"><span data-stu-id="3466b-432">Server, Network</span></span> |
| <span data-ttu-id="3466b-433">Tidsintervall i Server-loggar</span><span class="sxs-lookup"><span data-stu-id="3466b-433">Range of   time in Server logs</span></span> |<span data-ttu-id="3466b-434">AzureStorageLog.Timestamp > = 2014-10-20T16:36:38 och AzureStorageLog.Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="3466b-434">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 and AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span></span> |<span data-ttu-id="3466b-435">Server</span><span class="sxs-lookup"><span data-stu-id="3466b-435">Server</span></span> |

## <a name="next-steps"></a><span data-ttu-id="3466b-436">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="3466b-436">Next steps</span></span>
<span data-ttu-id="3466b-437">Mer information om felsökning slutpunkt till slutpunkt-scenarier i Azure Storage finns i följande resurser:</span><span class="sxs-lookup"><span data-stu-id="3466b-437">For more information about troubleshooting end-to-end scenarios in Azure Storage, see these resources:</span></span>

* [<span data-ttu-id="3466b-438">Övervaka, diagnostisera och felsöka Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="3466b-438">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](storage-monitoring-diagnosing-troubleshooting.md)
* [<span data-ttu-id="3466b-439">Lagringsanalys</span><span class="sxs-lookup"><span data-stu-id="3466b-439">Storage Analytics</span></span>](http://msdn.microsoft.com/library/azure/hh343270.aspx)
* [<span data-ttu-id="3466b-440">Övervaka ett lagringskonto i Azure Portal</span><span class="sxs-lookup"><span data-stu-id="3466b-440">Monitor a storage account in the Azure Portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="3466b-441">Överföra data med kommandoradsverktyget AzCopy</span><span class="sxs-lookup"><span data-stu-id="3466b-441">Transfer data with the AzCopy command-line utility</span></span>](storage-use-azcopy.md)
* [<span data-ttu-id="3466b-442">Microsoft Message Analyzer fungerar Guide</span><span class="sxs-lookup"><span data-stu-id="3466b-442">Microsoft Message Analyzer Operating Guide</span></span>](http://technet.microsoft.com/library/jj649776.aspx)
