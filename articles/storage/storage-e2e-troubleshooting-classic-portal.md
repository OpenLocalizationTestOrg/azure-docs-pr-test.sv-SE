---
title: aaaTroubleshooting Azure Storage med diagnostik & Message Analyzer | Microsoft Docs
description: "En självstudiekurs visar slutpunkt till slutpunkt felsökning med Azure Storage Analytics, AzCopy och Microsoft Message Analyzer"
services: storage
documentationcenter: dotnet
author: robinsh
manager: timlt
ms.assetid: 6b23cba5-0d53-439e-870b-de8e406107d8
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 01/23/2017
ms.author: robinsh
ms.openlocfilehash: 74ee126bab30b9a45f4904a065b6fe3006f76101
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="end-to-end-troubleshooting-using-azure-storage-metrics-and-logging-azcopy-and-message-analyzer"></a><span data-ttu-id="a7317-103">Slutpunkt till slutpunkt-felsökning med hjälp av Azure Storage-mätvärden och loggning, AzCopy och Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="a7317-103">End-to-End Troubleshooting using Azure Storage metrics and logging, AzCopy, and Message Analyzer</span></span>
[!INCLUDE [storage-selector-portal-e2e-troubleshooting](../../includes/storage-selector-portal-e2e-troubleshooting.md)]

## <a name="overview"></a><span data-ttu-id="a7317-104">Översikt</span><span class="sxs-lookup"><span data-stu-id="a7317-104">Overview</span></span>
<span data-ttu-id="a7317-105">Diagnostisera och felsöka är en nyckel kunskap för att bygga och stöd för program med Microsoft Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="a7317-105">Diagnosing and troubleshooting is a key skill for building and supporting client applications with Microsoft Azure Storage.</span></span> <span data-ttu-id="a7317-106">På grund av toohello distribuerade uppbyggnad ett Azure-program, kan det vara mer komplexa än i vanliga miljöer att diagnostisera och felsöka fel och problem med prestanda.</span><span class="sxs-lookup"><span data-stu-id="a7317-106">Due toohello distributed nature of an Azure application, diagnosing and troubleshooting errors and performance issues may be more complex than in traditional environments.</span></span>

<span data-ttu-id="a7317-107">I den här kursen visar vi hur tooidentify klienten vissa fel som kan påverka prestanda och felsökning av dessa fel från slutpunkt till slutpunkt med hjälp av verktyg som tillhandahålls av Microsoft och Azure Storage, i ordning toooptimize hello-klientprogrammet.</span><span class="sxs-lookup"><span data-stu-id="a7317-107">In this tutorial, we will demonstrate how tooidentify client certain errors that may affect performance, and troubleshoot those errors from end-to-end using tools provided by Microsoft and Azure Storage, in order toooptimize hello client application.</span></span>

<span data-ttu-id="a7317-108">Den här självstudiekursen innehåller en praktisk utforska för ett scenario för slutpunkt till slutpunkt-felsökning.</span><span class="sxs-lookup"><span data-stu-id="a7317-108">This tutorial provides a hands-on exploration of an end-to-end troubleshooting scenario.</span></span> <span data-ttu-id="a7317-109">En detaljerad konceptuella guiden tootroubleshooting Azure storage-program, se [övervaka, diagnostisera och felsöka Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="a7317-109">For an in-depth conceptual guide tootroubleshooting Azure storage applications, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="tools-for-troubleshooting-azure-storage-applications"></a><span data-ttu-id="a7317-110">Verktyg för felsökning av Azure Storage-program</span><span class="sxs-lookup"><span data-stu-id="a7317-110">Tools for troubleshooting Azure Storage applications</span></span>
<span data-ttu-id="a7317-111">tootroubleshoot klientprogram som använder Microsoft Azure Storage, kan du använda en kombination av verktyg toodetermine när ett problem har uppstått och vilka problem hello hello orsaken kan vara.</span><span class="sxs-lookup"><span data-stu-id="a7317-111">tootroubleshoot client applications using Microsoft Azure Storage, you can use a combination of tools toodetermine when an issue has occurred and what hello cause of hello problem may be.</span></span> <span data-ttu-id="a7317-112">Dessa verktyg innefattar:</span><span class="sxs-lookup"><span data-stu-id="a7317-112">These tools include:</span></span>

* <span data-ttu-id="a7317-113">**Azure Storage Analytics**.</span><span class="sxs-lookup"><span data-stu-id="a7317-113">**Azure Storage Analytics**.</span></span> <span data-ttu-id="a7317-114">[Azure Storage Analytics](http://msdn.microsoft.com/library/azure/hh343270.aspx) innehåller mått och loggning för Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="a7317-114">[Azure Storage Analytics](http://msdn.microsoft.com/library/azure/hh343270.aspx) provides metrics and logging for Azure Storage.</span></span>

  * <span data-ttu-id="a7317-115">**Storage-mätvärden** spårar transaktion mått och kapacitetsmått för ditt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="a7317-115">**Storage metrics** tracks transaction metrics and capacity metrics for your storage account.</span></span> <span data-ttu-id="a7317-116">Med hjälp av mätvärden, kan du bestämma hur programmet fungerar bl.a tooa mängd olika åtgärder.</span><span class="sxs-lookup"><span data-stu-id="a7317-116">Using metrics, you can determine how your application is performing according tooa variety of different measures.</span></span> <span data-ttu-id="a7317-117">Se [Storage Analytics mätvärden tabellschemat](http://msdn.microsoft.com/library/azure/hh343264.aspx) för mer information om hello typer av spåras av Storage Analytics mätvärden.</span><span class="sxs-lookup"><span data-stu-id="a7317-117">See [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx) for more information about hello types of metrics tracked by Storage Analytics.</span></span>
  * <span data-ttu-id="a7317-118">**Lagring loggning** loggar varje begäran toohello Azure Storage services tooa serversidan logg.</span><span class="sxs-lookup"><span data-stu-id="a7317-118">**Storage logging** logs each request toohello Azure Storage services tooa server-side log.</span></span> <span data-ttu-id="a7317-119">hello spårar detaljerad loggdata för varje begäran, inklusive hello åtgärden utföras hello status för hello igen och svarstid information.</span><span class="sxs-lookup"><span data-stu-id="a7317-119">hello log tracks detailed data for each request, including hello operation performed, hello status of hello operation, and latency information.</span></span> <span data-ttu-id="a7317-120">Se [Storage Analytics loggformatet](http://msdn.microsoft.com/library/azure/hh343259.aspx) mer information om hello förfrågan och svar data som skrivs toohello loggar av Storage Analytics.</span><span class="sxs-lookup"><span data-stu-id="a7317-120">See [Storage Analytics Log Format](http://msdn.microsoft.com/library/azure/hh343259.aspx) for more information about hello request and response data that is written toohello logs by Storage Analytics.</span></span>

> [!NOTE]
> <span data-ttu-id="a7317-121">Storage-konton med en typ av replikering av Zonredundant lagring (ZRS) har inte hello mått eller loggningsfunktioner just nu.</span><span class="sxs-lookup"><span data-stu-id="a7317-121">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have hello metrics or logging capability enabled at this time.</span></span>
>
>

* <span data-ttu-id="a7317-122">**Klassiska Azure-portalen**.</span><span class="sxs-lookup"><span data-stu-id="a7317-122">**Azure Classic Portal**.</span></span> <span data-ttu-id="a7317-123">Du kan konfigurera mått och loggning för ditt lagringskonto i hello [klassiska Azure-portalen](https://manage.windowsazure.com).</span><span class="sxs-lookup"><span data-stu-id="a7317-123">You can configure metrics and logging for your storage account in hello [Azure Classic Portal](https://manage.windowsazure.com).</span></span> <span data-ttu-id="a7317-124">Du kan också visa tabeller och diagram som visar hur programmet fungerar över tid och konfigurera aviseringar toonotify du om dina program fungerar annorlunda än förväntat för ett visst mått.</span><span class="sxs-lookup"><span data-stu-id="a7317-124">You can also view charts and graphs that show how your application is performing over time, and configure alerts toonotify you if your application performs differently than expected for a specified metric.</span></span>

    <span data-ttu-id="a7317-125">Se [övervaka ett lagringskonto i hello Azure Portal](storage-monitor-storage-account.md) information om hur du konfigurerar övervakning i hello klassiska Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="a7317-125">See [Monitor a storage account in hello Azure Portal](storage-monitor-storage-account.md) for information about configuring monitoring in hello Azure Classic Portal.</span></span>
* <span data-ttu-id="a7317-126">**AzCopy**.</span><span class="sxs-lookup"><span data-stu-id="a7317-126">**AzCopy**.</span></span> <span data-ttu-id="a7317-127">Server-loggar för Azure Storage lagras som blobbar, så du kan använda AzCopy toocopy hello blobbar tooa lokala loggkatalog för analys med hjälp av Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="a7317-127">Server logs for Azure Storage are stored as blobs, so you can use AzCopy toocopy hello log blobs tooa local directory for analysis using Microsoft Message Analyzer.</span></span> <span data-ttu-id="a7317-128">Se [överföra data med kommandoradsverktyget Azcopy hello](storage-use-azcopy.md) mer information om AzCopy.</span><span class="sxs-lookup"><span data-stu-id="a7317-128">See [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md) for more information about AzCopy.</span></span>
* <span data-ttu-id="a7317-129">**Microsoft Message Analyzer**.</span><span class="sxs-lookup"><span data-stu-id="a7317-129">**Microsoft Message Analyzer**.</span></span> <span data-ttu-id="a7317-130">Message Analyzer är ett verktyg som förbrukar loggfiler och visar loggdata i ett visuellt format som gör det enkelt toofilter, Sök och gruppen logga data till användbar anger att du kan använda tooanalyze fel och problem med prestanda.</span><span class="sxs-lookup"><span data-stu-id="a7317-130">Message Analyzer is a tool that consumes log files and displays log data in a visual format that makes it easy toofilter, search, and group log data into useful sets that you can use tooanalyze errors and performance issues.</span></span> <span data-ttu-id="a7317-131">Se [operativsystem handboken för Microsoft Message Analyzer](http://technet.microsoft.com/library/jj649776.aspx) mer information om Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="a7317-131">See [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx) for more information about Message Analyzer.</span></span>

## <a name="about-hello-sample-scenario"></a><span data-ttu-id="a7317-132">Om hello Exempelscenario</span><span class="sxs-lookup"><span data-stu-id="a7317-132">About hello sample scenario</span></span>
<span data-ttu-id="a7317-133">Vi går igenom ett scenario där Azure Storage-mätvärden anger en låg procent slutförandenivå för ett program som anropar Azure-lagring för den här självstudiekursen.</span><span class="sxs-lookup"><span data-stu-id="a7317-133">For this tutorial, we'll examine a scenario where Azure Storage metrics indicates a low percent success rate for an application that calls Azure storage.</span></span> <span data-ttu-id="a7317-134">Hej låg procent lyckade hastighet mått (visas som **PercentSuccess** i hello klassiska Azure-portalen och hello mått tabeller) spårar åtgärder som lyckas, men som kan returnera ett HTTP-statuskod som är större än 299.</span><span class="sxs-lookup"><span data-stu-id="a7317-134">hello low percent success rate metric (shown as **PercentSuccess** in hello Azure Classic Portal and in hello metrics tables) tracks operations that succeed, but that return an HTTP status code that is greater than 299.</span></span> <span data-ttu-id="a7317-135">I hello serversidan lagring loggfiler åtgärderna registreras med transaktionsstatus **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="a7317-135">In hello server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span> <span data-ttu-id="a7317-136">Mer information om hello låg procent lyckade mått finns [mätvärdena visar låg PercentSuccess eller analytics loggposter innehålla åtgärder med transaktionsstatus av ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span><span class="sxs-lookup"><span data-stu-id="a7317-136">For more details about hello low percent success metric, see [Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span></span>

<span data-ttu-id="a7317-137">Azure Storage-åtgärder kan returnera HTTP-statuskoder större än 299 som en del av deras normala funktioner.</span><span class="sxs-lookup"><span data-stu-id="a7317-137">Azure Storage operations may return HTTP status codes greater than 299 as part of their normal functionality.</span></span> <span data-ttu-id="a7317-138">Men dessa fel i vissa fall kan indikera att du kan toooptimize klientprogrammet för bättre prestanda.</span><span class="sxs-lookup"><span data-stu-id="a7317-138">But these errors in some cases indicate that you may be able toooptimize your client application for improved performance.</span></span>

<span data-ttu-id="a7317-139">I det här scenariot vi ska anser att en låg procent lyckade hastighet toobe något under 100%.</span><span class="sxs-lookup"><span data-stu-id="a7317-139">In this scenario, we'll consider a low percent success rate toobe anything below 100%.</span></span> <span data-ttu-id="a7317-140">Du kan välja en annan mått nivå, men enligt tooyour behov.</span><span class="sxs-lookup"><span data-stu-id="a7317-140">You can choose a different metric level, however, according tooyour needs.</span></span> <span data-ttu-id="a7317-141">Vi rekommenderar att under testningen av programmet, du upprätta en baslinje tolerans för dina nyckeltal.</span><span class="sxs-lookup"><span data-stu-id="a7317-141">We recommend that during testing of your application, you establish a baseline tolerance for your key performance metrics.</span></span> <span data-ttu-id="a7317-142">T.ex, du kan fastställa baserat på testning, att ditt program bör ha en konsekvent procent slutförandenivå 90% eller 85%.</span><span class="sxs-lookup"><span data-stu-id="a7317-142">For example, you might determine, based on testing, that your application should have a consistent percent success rate of 90%, or 85%.</span></span> <span data-ttu-id="a7317-143">Om din mätvärdesdata visar att programmet hello avviker från det numret, kan du undersöka vad orsakar hello ökning.</span><span class="sxs-lookup"><span data-stu-id="a7317-143">If your metrics data shows that hello application is deviating from that number, then you can investigate what may be causing hello increase.</span></span>

<span data-ttu-id="a7317-144">I vårt Exempelscenario när vi har etablerat att hello procent lyckade hastighet mått är mindre än 100%, vi undersöka hello loggar toofind hello fel som toohello mått och använder dem som toofigure reda på vad orsakar hello lägre procent lyckade resultat.</span><span class="sxs-lookup"><span data-stu-id="a7317-144">For our sample scenario, once we've established that hello percent success rate metric is below 100%, we will examine hello logs toofind hello errors that correlate toohello metrics, and use them toofigure out what is causing hello lower percent success rate.</span></span> <span data-ttu-id="a7317-145">Vi ska titta särskilt på fel i hello 400 intervall.</span><span class="sxs-lookup"><span data-stu-id="a7317-145">We'll look specifically at errors in hello 400 range.</span></span> <span data-ttu-id="a7317-146">Sedan ska vi närmare undersöka 404 (inget hittas) fel.</span><span class="sxs-lookup"><span data-stu-id="a7317-146">Then we'll more closely investigate 404 (Not Found) errors.</span></span>

### <a name="some-causes-of-400-range-errors"></a><span data-ttu-id="a7317-147">Vissa orsakerna till 400-range-fel</span><span class="sxs-lookup"><span data-stu-id="a7317-147">Some causes of 400-range errors</span></span>
<span data-ttu-id="a7317-148">hello exemplen nedan visas ett urval av fel 400-intervall för förfrågningar mot Azure Blob Storage och deras möjliga orsaker.</span><span class="sxs-lookup"><span data-stu-id="a7317-148">hello examples below shows a sampling of some 400-range errors for requests against Azure Blob Storage, and their possible causes.</span></span> <span data-ttu-id="a7317-149">Något av dessa fel, samt fel i hello 300 intervall och 500 hello-intervall kan bidra tooa låg procent lyckade resultat.</span><span class="sxs-lookup"><span data-stu-id="a7317-149">Any of these errors, as well as errors in hello 300 range and hello 500 range, can contribute tooa low percent success rate.</span></span>

<span data-ttu-id="a7317-150">Observera att hello listorna nedan är långt från klar.</span><span class="sxs-lookup"><span data-stu-id="a7317-150">Note that hello lists below are far from complete.</span></span> <span data-ttu-id="a7317-151">Se [Status och felkoder](http://msdn.microsoft.com/library/azure/dd179382.aspx) för information om allmänna Azure Storage-fel och om fel specifika tooeach i hello lagringstjänster.</span><span class="sxs-lookup"><span data-stu-id="a7317-151">See [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) for details about general Azure Storage errors and about errors specific tooeach of hello storage services.</span></span>

<span data-ttu-id="a7317-152">**Status 404 (inget hittas)-kodexempel**</span><span class="sxs-lookup"><span data-stu-id="a7317-152">**Status Code 404 (Not Found) Examples**</span></span>

<span data-ttu-id="a7317-153">Inträffar när en Läsåtgärd mot en behållare eller blobb misslyckas eftersom hello blob eller behållaren inte finns.</span><span class="sxs-lookup"><span data-stu-id="a7317-153">Occurs when a read operation against a container or blob fails because hello blob or container is not found.</span></span>

* <span data-ttu-id="a7317-154">Inträffar om en behållare eller blobb har tagits bort av en annan klient innan denna begäran.</span><span class="sxs-lookup"><span data-stu-id="a7317-154">Occurs if a container or blob has been deleted by another client before this request.</span></span>
* <span data-ttu-id="a7317-155">Inträffar om du använder ett API-anrop som skapar hello behållare eller blobb när du har kontrollerat om den finns.</span><span class="sxs-lookup"><span data-stu-id="a7317-155">Occurs if you are using an API call that creates hello container or blob after checking whether it exists.</span></span> <span data-ttu-id="a7317-156">Hej CreateIfNotExists APIs gör en HEAD anropa första toocheck hello befintliga hello behållare eller blobb; Om det inte finns ett 404-fel returneras och sedan en andra PUT-anrop toowrite hello behållare eller blob.</span><span class="sxs-lookup"><span data-stu-id="a7317-156">hello CreateIfNotExists APIs make a HEAD call first toocheck for hello existence of hello container or blob; if it does not exist, a 404 error is returned, and then a second PUT call is made toowrite hello container or blob.</span></span>

<span data-ttu-id="a7317-157">**Status-kodexempel 409 (konflikt)**</span><span class="sxs-lookup"><span data-stu-id="a7317-157">**Status Code 409 (Conflict) Examples**</span></span>

* <span data-ttu-id="a7317-158">Inträffar om du använder en skapa API toocreate en ny behållare eller blobb, utan att först kontrollera befintliga och en behållare eller blob med det namnet finns redan.</span><span class="sxs-lookup"><span data-stu-id="a7317-158">Occurs if you use a Create API toocreate a new container or blob, without checking for existence first, and a container or blob with that name already exists.</span></span>
* <span data-ttu-id="a7317-159">Inträffar om en behållare tas bort och försöker toocreate en ny behållare med hello samma namn innan hello borttagningen är klar.</span><span class="sxs-lookup"><span data-stu-id="a7317-159">Occurs if a container is being deleted, and you attempt toocreate a new container with hello same name before hello deletion operation is complete.</span></span>
* <span data-ttu-id="a7317-160">Inträffar om du anger ett lån på en behållare eller blobb och det finns redan ett lån finns.</span><span class="sxs-lookup"><span data-stu-id="a7317-160">Occurs if you specify a lease on a container or blob, and there is already a lease present.</span></span>

<span data-ttu-id="a7317-161">**Statuskod 412 (villkor misslyckades) exempel**</span><span class="sxs-lookup"><span data-stu-id="a7317-161">**Status Code 412 (Precondition Failed) Examples**</span></span>

* <span data-ttu-id="a7317-162">Inträffar när hello villkor som anges av ett villkorat huvud inte har uppfyllts.</span><span class="sxs-lookup"><span data-stu-id="a7317-162">Occurs when hello condition specified by a conditional header has not been met.</span></span>
* <span data-ttu-id="a7317-163">Inträffar när hello lease-ID som angetts inte matchar hello lease-ID på hello behållare eller blob.</span><span class="sxs-lookup"><span data-stu-id="a7317-163">Occurs when hello lease ID specified does not match hello lease ID on hello container or blob.</span></span>

## <a name="generate-log-files-for-analysis"></a><span data-ttu-id="a7317-164">Skapa loggfiler för analys</span><span class="sxs-lookup"><span data-stu-id="a7317-164">Generate log files for analysis</span></span>
<span data-ttu-id="a7317-165">I den här självstudiekursen kommer använder vi Message Analyzer toowork med tre olika typer av loggfiler, men du kan välja toowork med någon av följande:</span><span class="sxs-lookup"><span data-stu-id="a7317-165">In this tutorial, we'll use Message Analyzer toowork with three different types of log files, although you could choose toowork with any one of these:</span></span>

* <span data-ttu-id="a7317-166">Hej **serverloggen**, som skapas när du aktiverar loggning för Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="a7317-166">hello **server log**, which is created when you enable Azure Storage logging.</span></span> <span data-ttu-id="a7317-167">hello serverloggen innehåller information om varje åtgärd som kallas mot en hello Azure Storage services - blob, kön, tabell och fil.</span><span class="sxs-lookup"><span data-stu-id="a7317-167">hello server log contains data about each operation called against one of hello Azure Storage services - blob, queue, table, and file.</span></span> <span data-ttu-id="a7317-168">hello serverloggen anger vilken åtgärd anropades och vilka statuskoden var returnerade, samt annan information om hello förfrågan och svar.</span><span class="sxs-lookup"><span data-stu-id="a7317-168">hello server log indicates which operation was called and what status code was returned, as well as other details about hello request and response.</span></span>
* <span data-ttu-id="a7317-169">Hej **.NET-klientloggen**, som skapas när du aktiverar loggning på klientsidan från .NET-program.</span><span class="sxs-lookup"><span data-stu-id="a7317-169">hello **.NET client log**, which is created when you enable client-side logging from within your .NET application.</span></span> <span data-ttu-id="a7317-170">hello klientloggen innehåller detaljerad information om hur hello klienten förbereder hello begäran och tar emot och bearbetar hello svar.</span><span class="sxs-lookup"><span data-stu-id="a7317-170">hello client log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>
* <span data-ttu-id="a7317-171">Hej **HTTP nätverket spårningslogg**, som samlar in data på HTTP/HTTPS-begäran och svar data, inklusive för åtgärder mot Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="a7317-171">hello **HTTP network trace log**, which collects data on HTTP/HTTPS request and response data, including for operations against Azure Storage.</span></span> <span data-ttu-id="a7317-172">I den här kursen ska vi generera hello spårning i nätverket via Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="a7317-172">In this tutorial, we'll generate hello network trace via Message Analyzer.</span></span>

### <a name="configure-server-side-logging-and-metrics"></a><span data-ttu-id="a7317-173">Konfigurera loggning på serversidan och mått</span><span class="sxs-lookup"><span data-stu-id="a7317-173">Configure server-side logging and metrics</span></span>
<span data-ttu-id="a7317-174">Först måste behöver vi tooconfigure Azure Storage-loggning och statistik, så att vi har data från hello klienten programmet tooanalyze.</span><span class="sxs-lookup"><span data-stu-id="a7317-174">First, we'll need tooconfigure Azure Storage logging and metrics, so that we have data from hello client application tooanalyze.</span></span> <span data-ttu-id="a7317-175">Du kan konfigurera loggning och mått i en mängd olika sätt – via hello [klassiska Azure-portalen](https://manage.windowsazure.com), med hjälp av PowerShell, eller programmässigt.</span><span class="sxs-lookup"><span data-stu-id="a7317-175">You can configure logging and metrics in a variety of ways - via hello [Azure Classic Portal](https://manage.windowsazure.com), by using PowerShell, or programmatically.</span></span> <span data-ttu-id="a7317-176">Se [aktivera Storage-mätvärden och visa mått Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) och [aktivera loggning för lagring och åtkomst till loggdata](http://msdn.microsoft.com/library/azure/dn782840.aspx) mer information om hur du konfigurerar loggning och mått.</span><span class="sxs-lookup"><span data-stu-id="a7317-176">See [Enabling Storage Metrics and Viewing Metrics Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) and [Enabling Storage Logging and Accessing Log Data](http://msdn.microsoft.com/library/azure/dn782840.aspx) for details about configuring logging and metrics.</span></span>

<span data-ttu-id="a7317-177">**Via hello klassiska Azure-portalen**</span><span class="sxs-lookup"><span data-stu-id="a7317-177">**Via hello Azure Classic Portal**</span></span>

<span data-ttu-id="a7317-178">tooconfigure loggning och mått för ditt lagringskonto med hjälp av hello portal, följ instruktionerna för hello på [övervaka ett lagringskonto i hello Azure Portal](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="a7317-178">tooconfigure logging and metrics for your storage account using hello portal, follow hello instructions at [Monitor a storage account in hello Azure Portal](storage-monitor-storage-account.md).</span></span>

> [!NOTE]
> <span data-ttu-id="a7317-179">Det är inte möjligt tooset minut mått med hello klassiska Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="a7317-179">It's not possible tooset minute metrics using hello Azure Classic Portal.</span></span> <span data-ttu-id="a7317-180">Vi rekommenderar dock att du har angett dem för hello syftet med den här kursen och för att undersöka prestandaproblem med ditt program.</span><span class="sxs-lookup"><span data-stu-id="a7317-180">However, we recommend that you do set them for hello purposes of this tutorial, and for investigating performance issues with your application.</span></span> <span data-ttu-id="a7317-181">Du kan ange minut mått med hjälp av PowerShell som visas nedan, eller programmässigt eller via hello klassiska Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="a7317-181">You can set minute metrics using PowerShell as shown below, or programmatically, or via hello Azure Classic Portal.</span></span>
>
> <span data-ttu-id="a7317-182">Observera att hello klassiska Azure-portalen kan inte visa minut statistik, och endast timvis mått.</span><span class="sxs-lookup"><span data-stu-id="a7317-182">Note that hello Azure Classic Portal cannot display minute metrics, only hourly metrics.</span></span>
>
>

<span data-ttu-id="a7317-183">**Via PowerShell**</span><span class="sxs-lookup"><span data-stu-id="a7317-183">**Via PowerShell**</span></span>

<span data-ttu-id="a7317-184">tooget igång med PowerShell för Azure, se [hur tooinstall och konfigurera Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="a7317-184">tooget started with PowerShell for Azure, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

1. <span data-ttu-id="a7317-185">Använd hello [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet tooadd din Azure-användarkonto toohello PowerShell-fönstret:</span><span class="sxs-lookup"><span data-stu-id="a7317-185">Use hello [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet tooadd your Azure user account toohello PowerShell window:</span></span>

    ```powershell
     Add-AzureAccount
    ```

2. <span data-ttu-id="a7317-186">I hello **logga in tooMicrosoft Azure** fönster, Skriv hello e-postadress och lösenord som är associerat med ditt konto.</span><span class="sxs-lookup"><span data-stu-id="a7317-186">In hello **Sign in tooMicrosoft Azure** window, type hello email address and password associated with your account.</span></span> <span data-ttu-id="a7317-187">Azure autentiserar sparar hello autentiseringsuppgifter och sedan stänger hello-fönstret.</span><span class="sxs-lookup"><span data-stu-id="a7317-187">Azure authenticates and saves hello credential information, and then closes hello window.</span></span>
3. <span data-ttu-id="a7317-188">Ange hello konto toohello lagring standardkontot för lagring som används för hello kursen genom att köra dessa kommandon hello PowerShell-fönstret:</span><span class="sxs-lookup"><span data-stu-id="a7317-188">Set hello default storage account toohello storage account you are using for hello tutorial by executing these commands in hello PowerShell window:</span></span>

    ```powershell
    $SubscriptionName = 'Your subscription name'
    $StorageAccountName = 'yourstorageaccount'
    Set-AzureSubscription -CurrentStorageAccountName $StorageAccountName -SubscriptionName $SubscriptionName
    ```

4. <span data-ttu-id="a7317-189">Aktivera loggning för hello Blob-tjänsten lagring:</span><span class="sxs-lookup"><span data-stu-id="a7317-189">Enable storage logging for hello Blob service:</span></span>

    ```powershell
    Set-AzureStorageServiceLoggingProperty -ServiceType Blob -LoggingOperations Read,Write,Delete -PassThru -RetentionDays 7 -Version 1.0
    ```

5. <span data-ttu-id="a7317-190">Aktivera storage-mätvärden för hello Blob-tjänsten, vilket gör att tooset **- MetricsType** för`Minute`:</span><span class="sxs-lookup"><span data-stu-id="a7317-190">Enable storage metrics for hello Blob service, making sure tooset **-MetricsType** too`Minute`:</span></span>

    ```powershell
    Set-AzureStorageServiceMetricsProperty -ServiceType Blob -MetricsType Minute -MetricsLevel ServiceAndApi -PassThru -RetentionDays 7 -Version 1.0
    ```

### <a name="configure-net-client-side-logging"></a><span data-ttu-id="a7317-191">Konfigurera loggning för klientsidan av .NET</span><span class="sxs-lookup"><span data-stu-id="a7317-191">Configure .NET client-side logging</span></span>
<span data-ttu-id="a7317-192">tooconfigure klientsidan loggning för en .NET-program, aktivera .NET diagnostik i hello programmets konfigurationsfil (web.config eller app.config).</span><span class="sxs-lookup"><span data-stu-id="a7317-192">tooconfigure client-side logging for a .NET application, enable .NET diagnostics in hello application's configuration file (web.config or app.config).</span></span> <span data-ttu-id="a7317-193">Se [klientsidan loggning med hello Storage-klientbibliotek för .NET](http://msdn.microsoft.com/library/azure/dn782839.aspx) och [klientsidan loggning med hello Microsoft Azure Storage SDK för Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) mer information.</span><span class="sxs-lookup"><span data-stu-id="a7317-193">See [Client-side Logging with hello .NET Storage Client Library](http://msdn.microsoft.com/library/azure/dn782839.aspx) and [Client-side Logging with hello Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) for details.</span></span>

<span data-ttu-id="a7317-194">hello klientsidan loggen innehåller detaljerad information om hur hello klienten förbereder hello begäran och tar emot och bearbetar hello svar.</span><span class="sxs-lookup"><span data-stu-id="a7317-194">hello client-side log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>

<span data-ttu-id="a7317-195">hello Storage-klientbibliotek lagrar klientsidan loggdata i hello-plats som anges i hello programmets konfigurationsfil (web.config eller app.config).</span><span class="sxs-lookup"><span data-stu-id="a7317-195">hello Storage Client Library stores client-side log data in hello location specified in hello application's configuration file (web.config or app.config).</span></span>

### <a name="collect-a-network-trace"></a><span data-ttu-id="a7317-196">Samla in en spårning i nätverket</span><span class="sxs-lookup"><span data-stu-id="a7317-196">Collect a network trace</span></span>
<span data-ttu-id="a7317-197">Du kan använda Message Analyzer toocollect en spårning i nätverket för HTTP/HTTPS när klientprogrammet körs.</span><span class="sxs-lookup"><span data-stu-id="a7317-197">You can use Message Analyzer toocollect an HTTP/HTTPS network trace while your client application is running.</span></span> <span data-ttu-id="a7317-198">Message Analyzer använder [Fiddler](http://www.telerik.com/fiddler) på hello serverdel.</span><span class="sxs-lookup"><span data-stu-id="a7317-198">Message Analyzer uses [Fiddler](http://www.telerik.com/fiddler) on hello back end.</span></span> <span data-ttu-id="a7317-199">Innan du samlar in hello spårning i nätverket, rekommenderar vi att du konfigurerar Fiddler toorecord okrypterade HTTPS-trafik:</span><span class="sxs-lookup"><span data-stu-id="a7317-199">Before you collect hello network trace, we recommend that you configure Fiddler toorecord unencrypted HTTPS traffic:</span></span>

1. <span data-ttu-id="a7317-200">Installera [Fiddler](http://www.telerik.com/download/fiddler).</span><span class="sxs-lookup"><span data-stu-id="a7317-200">Install [Fiddler](http://www.telerik.com/download/fiddler).</span></span>
2. <span data-ttu-id="a7317-201">Starta Fiddler.</span><span class="sxs-lookup"><span data-stu-id="a7317-201">Launch Fiddler.</span></span>
3. <span data-ttu-id="a7317-202">Välj **verktyg | Alternativ för fiddler**.</span><span class="sxs-lookup"><span data-stu-id="a7317-202">Select **Tools | Fiddler Options**.</span></span>
4. <span data-ttu-id="a7317-203">I dialogrutan för hello alternativ kontrollerar du att **avbilda HTTPS ansluter** och **dekryptera HTTPS-trafik** båda är valda, enligt nedan.</span><span class="sxs-lookup"><span data-stu-id="a7317-203">In hello Options dialog, ensure that **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** are both selected, as shown below.</span></span>

![Konfigurera alternativ för Fiddler](./media/storage-e2e-troubleshooting-classic-portal/fiddler-options-1.png)

<span data-ttu-id="a7317-205">Hello genomgång kan samla in och spara en spårning i nätverket först i Message Analyzer och sedan skapa en analys session tooanalyze hello spårning och hello loggar.</span><span class="sxs-lookup"><span data-stu-id="a7317-205">For hello tutorial, collect and save a network trace first in Message Analyzer, then create an analysis session tooanalyze hello trace and hello logs.</span></span> <span data-ttu-id="a7317-206">toocollect en spårning i nätverket i Message Analyzer:</span><span class="sxs-lookup"><span data-stu-id="a7317-206">toocollect a network trace in Message Analyzer:</span></span>

1. <span data-ttu-id="a7317-207">Välj i Message Analyzer **filen | Snabb Trace | Okrypterade HTTPS**.</span><span class="sxs-lookup"><span data-stu-id="a7317-207">In Message Analyzer, select **File | Quick Trace | Unencrypted HTTPS**.</span></span>
2. <span data-ttu-id="a7317-208">hello trace börjar omedelbart.</span><span class="sxs-lookup"><span data-stu-id="a7317-208">hello trace will begin immediately.</span></span> <span data-ttu-id="a7317-209">Välj **stoppa** toostop hello trace så att vi kan konfigurera den tootrace lagringsrelaterad trafik.</span><span class="sxs-lookup"><span data-stu-id="a7317-209">Select **Stop** toostop hello trace so that we can configure it tootrace storage traffic only.</span></span>
3. <span data-ttu-id="a7317-210">Välj **redigera** tooedit hello spårningssessionen.</span><span class="sxs-lookup"><span data-stu-id="a7317-210">Select **Edit** tooedit hello tracing session.</span></span>
4. <span data-ttu-id="a7317-211">Välj hello **konfigurera** länka toohello till höger om hello **Microsoft-Pef-WebProxy** ETW-provider.</span><span class="sxs-lookup"><span data-stu-id="a7317-211">Select hello **Configure** link toohello right of hello **Microsoft-Pef-WebProxy** ETW provider.</span></span>
5. <span data-ttu-id="a7317-212">I hello **avancerade inställningar** dialogrutan klickar du på hello **Provider** fliken.</span><span class="sxs-lookup"><span data-stu-id="a7317-212">In hello **Advanced Settings** dialog, click hello **Provider** tab.</span></span>
6. <span data-ttu-id="a7317-213">I hello **filtret Hostname** anger dina slutpunkter för lagring, avgränsade med blanksteg.</span><span class="sxs-lookup"><span data-stu-id="a7317-213">In hello **Hostname Filter** field, specify your storage endpoints, separated by spaces.</span></span> <span data-ttu-id="a7317-214">Exempelvis kan du ange dina slutpunkter enligt följande; ändra `storagesample` toohello namnet på ditt lagringskonto:</span><span class="sxs-lookup"><span data-stu-id="a7317-214">For example, you can specify your endpoints as follows; change `storagesample` toohello name of your storage account:</span></span>

    ```   
    storagesample.blob.core.windows.net storagesample.queue.core.windows.net storagesample.table.core.windows.net
    ```

7. <span data-ttu-id="a7317-215">Avsluta hello dialogrutan och klicka på **starta om** toobegin att samla in hello spårningen med hello hostname filter på plats, så att endast Azure Storage-nätverkstrafik ingår i hello spårning.</span><span class="sxs-lookup"><span data-stu-id="a7317-215">Exit hello dialog, and click **Restart** toobegin collecting hello trace with hello hostname filter in place, so that only Azure Storage network traffic is included in hello trace.</span></span>

> [!NOTE]
> <span data-ttu-id="a7317-216">När du är klar att samla in en spårning i nätverket, rekommenderar vi att du återställer hello-inställningar som du har ändrat Fiddler toodecrypt HTTPS-trafik.</span><span class="sxs-lookup"><span data-stu-id="a7317-216">After you have finished collecting your network trace, we strongly recommend that you revert hello settings that you may have changed in Fiddler toodecrypt HTTPS traffic.</span></span> <span data-ttu-id="a7317-217">I dialogrutan för hello Fiddler alternativ, avmarkera hello **avbilda HTTPS ansluter** och **dekryptera HTTPS-trafik** kryssrutorna.</span><span class="sxs-lookup"><span data-stu-id="a7317-217">In hello Fiddler Options dialog, deselect hello **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** checkboxes.</span></span>
>
>

<span data-ttu-id="a7317-218">Se [med hello spårning nätverksfunktioner](http://technet.microsoft.com/library/jj674819.aspx) på Technet för mer information.</span><span class="sxs-lookup"><span data-stu-id="a7317-218">See [Using hello Network Tracing Features](http://technet.microsoft.com/library/jj674819.aspx) on Technet for more details.</span></span>

## <a name="review-metrics-data-in-hello-azure-classic-portal"></a><span data-ttu-id="a7317-219">Granska mätvärdesdata i hello klassiska Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="a7317-219">Review metrics data in hello Azure Classic Portal</span></span>
<span data-ttu-id="a7317-220">När programmet har körts för en viss tidsperiod, kan du granska hello mått diagrammen som visas i hello Azure klassiska Portal tooobserve hur tjänsten fungerar.</span><span class="sxs-lookup"><span data-stu-id="a7317-220">Once your application has been running for a period of time, you can review hello metrics charts that appear in hello Azure Classic Portal tooobserve how your service has been performing.</span></span> <span data-ttu-id="a7317-221">Först måste vi lägger till hello **lyckade procentandel** mått toohello övervakning sidan:</span><span class="sxs-lookup"><span data-stu-id="a7317-221">First, we'll add hello **Success Percentage** metric toohello Monitoring page:</span></span>

1. <span data-ttu-id="a7317-222">Navigera toohello instrumentpanelen för ditt lagringskonto i hello [klassiska Azure-portalen](https://manage.windowsazure.com)och välj **övervakaren** tooview hello övervakning sidan.</span><span class="sxs-lookup"><span data-stu-id="a7317-222">Navigate toohello Dashboard for your storage account in hello [Azure Classic Portal](https://manage.windowsazure.com), then select **Monitor** tooview hello monitoring page.</span></span>
2. <span data-ttu-id="a7317-223">Klicka på **lägga till mätvärden** toodisplay hello **välja mått** dialogrutan.</span><span class="sxs-lookup"><span data-stu-id="a7317-223">Click **Add Metrics** toodisplay hello **Choose Metrics** dialog.</span></span>
3. <span data-ttu-id="a7317-224">Bläddra nedåt toofind hello **lyckade procentandel** gruppen, expandera den och välj sedan **sammanställd**, som hello bilden nedan.</span><span class="sxs-lookup"><span data-stu-id="a7317-224">Scroll down toofind hello **Success Percentage** group, expand it, then select **Aggregate**, as shown in hello picture below.</span></span> <span data-ttu-id="a7317-225">Det här måttet aggregerar lyckade procentandelsdata från alla Blob-åtgärder.</span><span class="sxs-lookup"><span data-stu-id="a7317-225">This metric aggregates success percentage data from all Blob operations.</span></span>

![Välj mått](./media/storage-e2e-troubleshooting-classic-portal/choose-metrics-portal-1.png)

<span data-ttu-id="a7317-227">I hello klassiska Azure-portalen, visas nu **lyckade procentandel** hello övervakning diagram, tillsammans med andra mått du kanske har lagt till i (in toosix kan visas i hello diagram samtidigt).</span><span class="sxs-lookup"><span data-stu-id="a7317-227">In hello Azure Classic Portal, you'll now see **Success Percentage** in hello monitoring chart, along with any other metrics you may have added (up toosix can be displayed on hello chart at once).</span></span> <span data-ttu-id="a7317-228">I hello bilden nedan ser du att hello procent lyckade reparationer är något under 100%, vilket är hello-scenariot som vi ska undersöka bredvid genom att analysera hello loggar i Message Analyzer:</span><span class="sxs-lookup"><span data-stu-id="a7317-228">In hello picture below, you can see that hello percent success rate is somewhat below 100%, which is hello scenario we'll investigate next by analyzing hello logs in Message Analyzer:</span></span>

![Mått diagram i portalen](./media/storage-e2e-troubleshooting-classic-portal/portal-metrics-chart-1.png)

<span data-ttu-id="a7317-230">Mer information om att lägga till mätvärden toohello övervakning sidan finns [så här: Lägg till mått toohello mått tabell](storage-monitor-storage-account.md#add-metrics-charts-to-the-portal-dashboard).</span><span class="sxs-lookup"><span data-stu-id="a7317-230">For more details on adding metrics toohello Monitoring page, see [How to: Add metrics toohello metrics table](storage-monitor-storage-account.md#add-metrics-charts-to-the-portal-dashboard).</span></span>

> [!NOTE]
> <span data-ttu-id="a7317-231">Det kan ta lite tid för din mått data tooappear i hello klassiska Azure-portalen när du aktiverar lagring mått.</span><span class="sxs-lookup"><span data-stu-id="a7317-231">It may take some time for your metrics data tooappear in hello Azure Classic Portal after you enable storage metrics.</span></span> <span data-ttu-id="a7317-232">Det beror på att varje timme mätvärden för hello föregående timma inte visas i hello klassiska Azure-portalen förrän hello aktuell timme har gått ut.</span><span class="sxs-lookup"><span data-stu-id="a7317-232">This is because hourly metrics for hello previous hour are not displayed in hello Azure Classic Portal until hello current hour has elapsed.</span></span> <span data-ttu-id="a7317-233">Dessutom visas inte minut mått i hello klassiska Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="a7317-233">Also, minute metrics are not displayed in hello Azure Classic Portal.</span></span> <span data-ttu-id="a7317-234">Så det kan ta upp tootwo timmar toosee mått data beroende på när du aktiverar mått.</span><span class="sxs-lookup"><span data-stu-id="a7317-234">So depending on when you enable metrics, it may take up tootwo hours toosee metrics data.</span></span>
>
>

## <a name="use-azcopy-toocopy-server-logs-tooa-local-directory"></a><span data-ttu-id="a7317-235">Använd AzCopy toocopy serverloggen tooa lokal katalog</span><span class="sxs-lookup"><span data-stu-id="a7317-235">Use AzCopy toocopy server logs tooa local directory</span></span>
<span data-ttu-id="a7317-236">Azure Storage skriver server logga data tooblobs medan mätvärdena skrivs tootables.</span><span class="sxs-lookup"><span data-stu-id="a7317-236">Azure Storage writes server log data tooblobs, while metrics are written tootables.</span></span> <span data-ttu-id="a7317-237">Loggen blobbar finns i hello välkända `$logs` behållare för ditt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="a7317-237">Log blobs are available in hello well-known `$logs` container for your storage account.</span></span> <span data-ttu-id="a7317-238">Loggen blobbar namnet hierarkiskt som år, månad, dag och timme, så att du lätt kan hitta hello tidsintervallet för när du vill tooinvestigate.</span><span class="sxs-lookup"><span data-stu-id="a7317-238">Log blobs are named hierarchically by year, month, day, and hour, so that you can easily locate hello range of time you wish tooinvestigate.</span></span> <span data-ttu-id="a7317-239">Till exempel i hello `storagesample` kontot hello behållare för hello loggen BLOB för 02/01/2015, från 8 – 9: 00, är `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span><span class="sxs-lookup"><span data-stu-id="a7317-239">For example, in hello `storagesample` account, hello container for hello log blobs for 01/02/2015, from 8-9 am, is `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span></span> <span data-ttu-id="a7317-240">hello enskilda blobbar i den här behållaren har sekventiella namn, från och med `000000.log`.</span><span class="sxs-lookup"><span data-stu-id="a7317-240">hello individual blobs in this container are named sequentially, beginning with `000000.log`.</span></span>

<span data-ttu-id="a7317-241">Du kan använda hello AzCopy kommandoradsverktyget toodownload dessa serversidan loggen filer tooa plats på den lokala datorn.</span><span class="sxs-lookup"><span data-stu-id="a7317-241">You can use hello AzCopy command-line tool toodownload these server-side log files tooa location of your choice on your local machine.</span></span> <span data-ttu-id="a7317-242">Du kan till exempel använda hello efter kommandot toodownload hello loggfiler för blob-åtgärder som tog placera på 2 januari 2015 toohello mappen `C:\Temp\Logs\Server`; Ersätt `<storageaccountname>` med hello namnet på ditt lagringskonto och `<storageaccountkey>` med din åtkomstnyckel:</span><span class="sxs-lookup"><span data-stu-id="a7317-242">For example, you can use hello following command toodownload hello log files for blob operations that took place on January 2, 2015 toohello folder `C:\Temp\Logs\Server`; replace `<storageaccountname>` with hello name of your storage account, and `<storageaccountkey>` with your account access key:</span></span>

```azcopy
AzCopy.exe /Source:http://<storageaccountname>.blob.core.windows.net/$logs /Dest:C:\Temp\Logs\Server /Pattern:"blob/2015/01/02" /SourceKey:<storageaccountkey> /S /V
```

<span data-ttu-id="a7317-243">AzCopy är tillgänglig för hämtning på hello [Azure hämtar](https://azure.microsoft.com/downloads/) sidan.</span><span class="sxs-lookup"><span data-stu-id="a7317-243">AzCopy is available for download on hello [Azure Downloads](https://azure.microsoft.com/downloads/) page.</span></span> <span data-ttu-id="a7317-244">Mer information om hur du använder AzCopy finns [överföra data med kommandoradsverktyget Azcopy hello](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="a7317-244">For details about using AzCopy, see [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

<span data-ttu-id="a7317-245">Mer information om hur du hämtar serversidan loggar finns [hämtar lagring loggning loggdata](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span><span class="sxs-lookup"><span data-stu-id="a7317-245">For additional information about downloading server-side logs, see [Downloading Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span></span>

## <a name="use-microsoft-message-analyzer-tooanalyze-log-data"></a><span data-ttu-id="a7317-246">Använd Microsoft Message Analyzer tooanalyze loggdata</span><span class="sxs-lookup"><span data-stu-id="a7317-246">Use Microsoft Message Analyzer tooanalyze log data</span></span>
<span data-ttu-id="a7317-247">Microsoft Message Analyzer är ett verktyg för att samla in, visa och analysera protokollet messaging trafik, händelser och andra system- eller meddelanden i scenarier med felsökning och diagnostik.</span><span class="sxs-lookup"><span data-stu-id="a7317-247">Microsoft Message Analyzer is a tool for capturing, displaying, and analyzing protocol messaging traffic, events, and other system or application messages in troubleshooting and diagnostic scenarios.</span></span> <span data-ttu-id="a7317-248">Message Analyzer kan du tooload, sammanställd, och analysera data från loggen också och spara spårningsfiler.</span><span class="sxs-lookup"><span data-stu-id="a7317-248">Message Analyzer also enables you tooload, aggregate, and analyze data from log and saved trace files.</span></span> <span data-ttu-id="a7317-249">Mer information om Message Analyzer finns [operativsystem handboken för Microsoft Message Analyzer](http://technet.microsoft.com/library/jj649776.aspx).</span><span class="sxs-lookup"><span data-stu-id="a7317-249">For more information about Message Analyzer, see [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx).</span></span>

<span data-ttu-id="a7317-250">Message Analyzer innehåller tillgångar för Azure Storage som hjälper dig tooanalyze servern, klienten och loggar för nätverket.</span><span class="sxs-lookup"><span data-stu-id="a7317-250">Message Analyzer includes assets for Azure Storage that help you tooanalyze server, client, and network logs.</span></span> <span data-ttu-id="a7317-251">I det här avsnittet diskuterar vi hur toouse dessa verktyg tooaddress hello problemet av låg procent hello lagring loggar.</span><span class="sxs-lookup"><span data-stu-id="a7317-251">In this section, we'll discuss how toouse those tools tooaddress hello issue of low percent success in hello storage logs.</span></span>

### <a name="download-and-install-message-analyzer-and-hello-azure-storage-assets"></a><span data-ttu-id="a7317-252">Hämta och installera Message Analyzer och hello Azure Storage-tillgångar</span><span class="sxs-lookup"><span data-stu-id="a7317-252">Download and install Message Analyzer and hello Azure Storage Assets</span></span>
1. <span data-ttu-id="a7317-253">Hämta [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) hello från Microsoft Download Center och kör installationsprogrammet för hello.</span><span class="sxs-lookup"><span data-stu-id="a7317-253">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) from hello Microsoft Download Center, and run hello installer.</span></span>
2. <span data-ttu-id="a7317-254">Starta Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="a7317-254">Launch Message Analyzer.</span></span>
3. <span data-ttu-id="a7317-255">Från hello **verktyg** väljer du **Tillgångsansvarig**.</span><span class="sxs-lookup"><span data-stu-id="a7317-255">From hello **Tools** menu, select **Asset Manager**.</span></span> <span data-ttu-id="a7317-256">I hello **Tillgångsansvarig** markerar **hämtar**, sedan filtrera **Azure Storage**.</span><span class="sxs-lookup"><span data-stu-id="a7317-256">In hello **Asset Manager** dialog, select **Downloads**, then filter on **Azure Storage**.</span></span> <span data-ttu-id="a7317-257">Hello Azure Storage tillgångar, visas som hello bilden nedan.</span><span class="sxs-lookup"><span data-stu-id="a7317-257">You will see hello Azure Storage Assets, as shown in hello picture below.</span></span>
4. <span data-ttu-id="a7317-258">Klicka på **synkronisera alla visas objekt** tooinstall hello Azure Storage tillgångar.</span><span class="sxs-lookup"><span data-stu-id="a7317-258">Click **Sync All Displayed Items** tooinstall hello Azure Storage Assets.</span></span> <span data-ttu-id="a7317-259">hello tillgängliga resurser inkluderar:</span><span class="sxs-lookup"><span data-stu-id="a7317-259">hello available assets include:</span></span>
   * <span data-ttu-id="a7317-260">**Azure Storage-färgregler:** färgregler för Azure Storage kan du toodefine särskilda filter som använder färg, text och stilar toohighlight meddelanden som innehåller specifik information i en spårning.</span><span class="sxs-lookup"><span data-stu-id="a7317-260">**Azure Storage Color Rules:** Azure Storage color rules enable you toodefine special filters that use color, text, and font styles toohighlight messages that contain specific information in a trace.</span></span>
   * <span data-ttu-id="a7317-261">**Azure Storage-diagram:** diagram för Azure Storage är fördefinierade diagram som diagramdata server-loggen.</span><span class="sxs-lookup"><span data-stu-id="a7317-261">**Azure Storage Charts:** Azure Storage charts are predefined charts that graph server log data.</span></span> <span data-ttu-id="a7317-262">Observera att toouse Azure Storage diagram just nu, du kan bara läsa in hello serverloggen i hello analys rutnätet.</span><span class="sxs-lookup"><span data-stu-id="a7317-262">Note that toouse Azure Storage charts at this time, you may only load hello server log into hello Analysis Grid.</span></span>
   * <span data-ttu-id="a7317-263">**Azure Storage-Parser:** hello Azure Storage Parser parse hello Azure Storage-klienten, server och HTTP-loggar i ordning toodisplay dem i hello analys rutnätet.</span><span class="sxs-lookup"><span data-stu-id="a7317-263">**Azure Storage Parsers:** hello Azure Storage parsers parse hello Azure Storage client, server, and HTTP logs in order toodisplay them in hello Analysis Grid.</span></span>
   * <span data-ttu-id="a7317-264">**Azure Storage-filter:** Azure Storage filter är fördefinierade kriterier som du kan använda tooquery dina data i hello analys rutnätet.</span><span class="sxs-lookup"><span data-stu-id="a7317-264">**Azure Storage Filters:** Azure Storage filters are predefined criteria that you can use tooquery your data in hello Analysis Grid.</span></span>
   * <span data-ttu-id="a7317-265">**Azure Storage layouter:** layouter Azure Storage är fördefinierad kolumn och grupperingar i hello analys rutnätet.</span><span class="sxs-lookup"><span data-stu-id="a7317-265">**Azure Storage View Layouts:** Azure Storage view layouts are predefined column layouts and groupings in hello Analysis Grid.</span></span>
5. <span data-ttu-id="a7317-266">Starta om Message Analyzer när du har installerat hello tillgångar.</span><span class="sxs-lookup"><span data-stu-id="a7317-266">Restart Message Analyzer after you've installed hello assets.</span></span>

![Message Analyzer Tillgångsansvarig](./media/storage-e2e-troubleshooting-classic-portal/mma-start-page-1.png)

> [!NOTE]
> <span data-ttu-id="a7317-268">Installera alla hello Azure Storage tillgångarna för hello syftet med den här kursen.</span><span class="sxs-lookup"><span data-stu-id="a7317-268">Install all of hello Azure Storage assets shown for hello purposes of this tutorial.</span></span>
>
>

### <a name="import-your-log-files-into-message-analyzer"></a><span data-ttu-id="a7317-269">Importera loggfilerna till Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="a7317-269">Import your log files into Message Analyzer</span></span>
<span data-ttu-id="a7317-270">Du kan importera alla dina sparade loggfiler (servern, klienten och nätverk) till en enda session i Microsoft Message Analyzer för analys.</span><span class="sxs-lookup"><span data-stu-id="a7317-270">You can import all of your saved log files (server-side, client-side, and network) into a single session in Microsoft Message Analyzer for analysis.</span></span>

1. <span data-ttu-id="a7317-271">På hello **filen** Klicka på menyn i Microsoft Message Analyzer **ny Session**, och klicka sedan på **tom Session**.</span><span class="sxs-lookup"><span data-stu-id="a7317-271">On hello **File** menu in Microsoft Message Analyzer, click **New Session**, and then click **Blank Session**.</span></span> <span data-ttu-id="a7317-272">I hello **ny Session** dialogrutan, ange ett namn för din session för analys.</span><span class="sxs-lookup"><span data-stu-id="a7317-272">In hello **New Session** dialog, enter a name for your analysis session.</span></span> <span data-ttu-id="a7317-273">I hello **sessionsinformation** klickar du på på hello **filer** knappen.</span><span class="sxs-lookup"><span data-stu-id="a7317-273">In hello **Session Details** panel, click on hello **Files** button.</span></span>
2. <span data-ttu-id="a7317-274">tooload hello nätverket spåra data som genereras av Message Analyzer klickar du på **Lägg till filer**, bläddra toohello plats där du sparade filen .matp från webben spårningssessionen och välj hello .matp filen och klicka på **öppna**.</span><span class="sxs-lookup"><span data-stu-id="a7317-274">tooload hello network trace data generated by Message Analyzer, click on **Add Files**, browse toohello location where you saved your .matp file from your web tracing session, select hello .matp file, and click **Open**.</span></span>
3. <span data-ttu-id="a7317-275">tooload hello serversidan loggdata, klicka på **Lägg till filer**, bläddra toohello plats där du sparade loggarna serversidan, Välj hello loggfiler för hello tidsintervall du tooanalyze och på **öppna**.</span><span class="sxs-lookup"><span data-stu-id="a7317-275">tooload hello server-side log data, click on **Add Files**, browse toohello location where you downloaded your server-side logs, select hello log files for hello time range you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="a7317-276">Sedan hello **sessionsinformation** panelen, ange hello **Text konfigurationen av loggen** listrutan för varje serversidan loggfil för**AzureStorageLog** tooensure som Microsoft Message Analyzer kan parsa hello loggfilen på rätt sätt.</span><span class="sxs-lookup"><span data-stu-id="a7317-276">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each server-side log file too**AzureStorageLog** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
4. <span data-ttu-id="a7317-277">tooload hello klientsidan loggdata, klicka på **Lägg till filer**, bläddra toohello plats där du sparade loggarna på klientsidan, välja hello loggfiler du tooanalyze och på **öppna**.</span><span class="sxs-lookup"><span data-stu-id="a7317-277">tooload hello client-side log data, click on **Add Files**, browse toohello location where you saved your client-side logs, select hello log files you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="a7317-278">Sedan hello **sessionsinformation** panelen, ange hello **Text konfigurationen av loggen** listrutan för varje loggfil på klientsidan för**AzureStorageClientDotNetV4** tooensure som Microsoft Message Analyzer kan parsa hello loggfilen på rätt sätt.</span><span class="sxs-lookup"><span data-stu-id="a7317-278">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each client-side log file too**AzureStorageClientDotNetV4** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
5. <span data-ttu-id="a7317-279">Klicka på **starta** i hello **ny Session** dialogrutan tooload och parsa hello loggdata.</span><span class="sxs-lookup"><span data-stu-id="a7317-279">Click **Start** in hello **New Session** dialog tooload and parse hello log data.</span></span> <span data-ttu-id="a7317-280">hello loggdata visar hello Message Analyzer analys rutnätet.</span><span class="sxs-lookup"><span data-stu-id="a7317-280">hello log data displays in hello Message Analyzer Analysis Grid.</span></span>

<span data-ttu-id="a7317-281">hello bilden nedan visas en exempel-session som har konfigurerats med servern, klienten och spårningsloggfilerna i nätverket.</span><span class="sxs-lookup"><span data-stu-id="a7317-281">hello picture below shows an example session configured with server, client, and network trace log files.</span></span>

![Konfigurera Message Analyzer Session](./media/storage-e2e-troubleshooting-classic-portal/configure-mma-session-1.png)

<span data-ttu-id="a7317-283">Observera att Message Analyzer läser in loggfiler i minnet.</span><span class="sxs-lookup"><span data-stu-id="a7317-283">Note that Message Analyzer loads log files into memory.</span></span> <span data-ttu-id="a7317-284">Om du har en stor mängd loggdata vill toofilter i ordning tooget hello bästa möjliga prestanda från Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="a7317-284">If you have a large set of log data, you will want toofilter it in order tooget hello best performance from Message Analyzer.</span></span>

<span data-ttu-id="a7317-285">Först fastställa hello tidsram som du är intresserad av att granska och att denna tidsram så liten som möjligt.</span><span class="sxs-lookup"><span data-stu-id="a7317-285">First, determine hello time frame that you are interested in reviewing, and keep this time frame as small as possible.</span></span> <span data-ttu-id="a7317-286">I många fall vill tooreview en tid i minuter eller timmar högst.</span><span class="sxs-lookup"><span data-stu-id="a7317-286">In many cases you will want tooreview a period of minutes or hours at most.</span></span> <span data-ttu-id="a7317-287">Importera hello minsta uppsättning loggar som uppfyller dina behov.</span><span class="sxs-lookup"><span data-stu-id="a7317-287">Import hello smallest set of logs that can meet your needs.</span></span>

<span data-ttu-id="a7317-288">Om du fortfarande har en stor mängd loggade data kanske du vill toospecify en session filter toofilter logga data innan du läser in.</span><span class="sxs-lookup"><span data-stu-id="a7317-288">If you still have a large amount of log data, then you may want toospecify a session filter toofilter your log data before you load it.</span></span> <span data-ttu-id="a7317-289">I hello **Sessionsfiltret** rutan, Välj hello **biblioteket** knappen toochoose ett fördefinierat filter, till exempel välja **Global tid Filter I** från hello Azure Storage-filter toofilter under ett tidsintervall.</span><span class="sxs-lookup"><span data-stu-id="a7317-289">In hello **Session Filter** box, select hello **Library** button toochoose a predefined filter; for example, choose **Global Time Filter I** from hello Azure Storage filters toofilter on a time interval.</span></span> <span data-ttu-id="a7317-290">Du kan redigera hello filter kriterier toospecify hello börjar och slutar tidsstämpel för hello-intervall du vill toosee.</span><span class="sxs-lookup"><span data-stu-id="a7317-290">You can then edit hello filter criteria toospecify hello starting and ending timestamp for hello interval you want toosee.</span></span> <span data-ttu-id="a7317-291">Du kan också filtrera på en viss statuskod; Exempelvis kan du välja tooload endast loggposter där är hello statuskod 404.</span><span class="sxs-lookup"><span data-stu-id="a7317-291">You can also filter on a particular status code; for example, you can choose tooload only log entries where hello status code is 404.</span></span>

<span data-ttu-id="a7317-292">Mer information om att importera loggdata till Microsoft Message Analyzer finns [hämtar meddelandedata](http://technet.microsoft.com/library/dn772437.aspx) på TechNet.</span><span class="sxs-lookup"><span data-stu-id="a7317-292">For more information about importing log data into Microsoft Message Analyzer, see [Retrieving Message Data](http://technet.microsoft.com/library/dn772437.aspx) on TechNet.</span></span>

### <a name="use-hello-client-request-id-toocorrelate-log-file-data"></a><span data-ttu-id="a7317-293">Använd hello klienten begäran-ID toocorrelate loggfilernas data</span><span class="sxs-lookup"><span data-stu-id="a7317-293">Use hello client request ID toocorrelate log file data</span></span>
<span data-ttu-id="a7317-294">hello Azure Storage-klientbibliotek genererar automatiskt ett unikt ID för klientbegäran för varje begäran.</span><span class="sxs-lookup"><span data-stu-id="a7317-294">hello Azure Storage Client Library automatically generates a unique client request ID for every request.</span></span> <span data-ttu-id="a7317-295">Det här värdet skrivs toohello klientloggen och serverloggen hello hello spårning i nätverket, så du kan använda den toocorrelate data över alla tre loggar inom Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="a7317-295">This value is written toohello client log, hello server log, and hello network trace, so you can use it toocorrelate data across all three logs within Message Analyzer.</span></span> <span data-ttu-id="a7317-296">Se [ID för klientbegäran](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) be för ytterligare information om hello klient-ID.</span><span class="sxs-lookup"><span data-stu-id="a7317-296">See [Client request ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) for additional information about hello client request ID.</span></span>

<span data-ttu-id="a7317-297">hello i nedanstående avsnitt beskrivs hur toouse förkonfigurerade och anpassad layout vyer toocorrelate och gruppera data baserat på klientbegäran hello-ID.</span><span class="sxs-lookup"><span data-stu-id="a7317-297">hello sections below describe how toouse pre-configured and custom layout views toocorrelate and group data based on hello client request ID.</span></span>

### <a name="select-a-view-layout-toodisplay-in-hello-analysis-grid"></a><span data-ttu-id="a7317-298">Välj en vy layout toodisplay i hello analys rutnätet</span><span class="sxs-lookup"><span data-stu-id="a7317-298">Select a view layout toodisplay in hello Analysis Grid</span></span>
<span data-ttu-id="a7317-299">hello lagring tillgångar för Message Analyzer inkluderar Azure Storage layouter, som är förkonfigurerad vyer som du kan använda toodisplay dina data med användbar grupperingar och kolumner för olika scenarier.</span><span class="sxs-lookup"><span data-stu-id="a7317-299">hello Storage Assets for Message Analyzer include Azure Storage View Layouts, which are pre-configured views that you can use toodisplay your data with useful groupings and columns for different scenarios.</span></span> <span data-ttu-id="a7317-300">Du kan också skapa anpassade layouter och spara dem för återanvändning.</span><span class="sxs-lookup"><span data-stu-id="a7317-300">You can also create custom view layouts and save them for reuse.</span></span>

<span data-ttu-id="a7317-301">hello bilden nedan visar hello **visa Layout** menyn genom att välja **visa Layout** från hello verktygsfältet menyfliksområdet.</span><span class="sxs-lookup"><span data-stu-id="a7317-301">hello picture below shows hello **View Layout** menu, available by selecting **View Layout** from hello toolbar ribbon.</span></span> <span data-ttu-id="a7317-302">hello layouter för Azure Storage är grupperade under hello **Azure Storage** nod hello-menyn.</span><span class="sxs-lookup"><span data-stu-id="a7317-302">hello view layouts for Azure Storage are grouped under hello **Azure Storage** node in hello menu.</span></span> <span data-ttu-id="a7317-303">Du kan söka efter `Azure Storage` Visa endast layouter i hello Sök rutan toofilter på Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="a7317-303">You can search for `Azure Storage` in hello search box toofilter on Azure Storage view layouts only.</span></span> <span data-ttu-id="a7317-304">Du kan också välja hello stjärna nästa tooa vyn layout toomake it som en favorit och visa det hello överst i hello-menyn.</span><span class="sxs-lookup"><span data-stu-id="a7317-304">You can also select hello star next tooa view layout toomake it a favorite and display it at hello top of hello menu.</span></span>

![Visa menyn Layout](./media/storage-e2e-troubleshooting-classic-portal/view-layout-menu.png)

<span data-ttu-id="a7317-306">toobegin med utvalda **grupperade efter ClientRequestID och modulen**.</span><span class="sxs-lookup"><span data-stu-id="a7317-306">toobegin with, select **Grouped by ClientRequestID and Module**.</span></span> <span data-ttu-id="a7317-307">Den här vyn layout grupper logga data från alla tre loggar först efter ID för klientbegäran, sedan efter loggfil för källdatorn (eller **modulen** i Message Analyzer).</span><span class="sxs-lookup"><span data-stu-id="a7317-307">This view layout groups log data from all three logs first by client request ID, then by source log file (or **Module** in Message Analyzer).</span></span> <span data-ttu-id="a7317-308">Med den här vyn kan du detaljnivån i en viss klient-ID för förfrågan och se data från alla tre loggfiler för klientbegäran-ID.</span><span class="sxs-lookup"><span data-stu-id="a7317-308">With this view, you can drill down into a particular client request ID, and see data from all three log files for that client request ID.</span></span>

<span data-ttu-id="a7317-309">hello bilden nedan visar den här layouten visa tillämpas toohello loggen exempeldata, med en delmängd med kolumner som visas.</span><span class="sxs-lookup"><span data-stu-id="a7317-309">hello picture below shows this layout view applied toohello sample log data, with a subset of columns displayed.</span></span> <span data-ttu-id="a7317-310">Du kan se att hello analys rutnätet för en viss klient begärande-ID visar data från hello-klientloggen och serverloggen spårning i nätverket.</span><span class="sxs-lookup"><span data-stu-id="a7317-310">You can see that for a particular client request ID, hello Analysis Grid displays data from hello client log, server log, and network trace.</span></span>

![Azure Storage visa Layout](./media/storage-e2e-troubleshooting-classic-portal/view-layout-client-request-id-module.png)

> [!NOTE]
> <span data-ttu-id="a7317-312">Olika loggfilerna har olika kolumner, så när data från flera loggfiler visas i hello analys rutnätet vissa kolumner inte får innehålla några data för en viss rad.</span><span class="sxs-lookup"><span data-stu-id="a7317-312">Different log files have different columns, so when data from multiple log files is displayed in hello Analysis Grid, some columns may not contain any data for a given row.</span></span> <span data-ttu-id="a7317-313">Till exempel i hello bilden ovan klienten loggen rader visas inte alla data för hello **tidsstämpel**, **TimeElapsed**, **källa**, och **mål** kolumner, eftersom dessa kolumner finns inte i hello-klientloggen, men finns i hello spårning i nätverket.</span><span class="sxs-lookup"><span data-stu-id="a7317-313">For example, in hello picture above, the client log rows do not show any data for hello **Timestamp**, **TimeElapsed**, **Source**, and **Destination** columns, because these columns do not exist in hello client log, but do exist in hello network trace.</span></span> <span data-ttu-id="a7317-314">På liknande sätt hello **tidsstämpel** visar kolumnen tidsstämpel data från hello serverloggen, men inga data visas för hello **TimeElapsed**, **källa**, och  **Mål** kolumner som inte är del av hello serverloggen.</span><span class="sxs-lookup"><span data-stu-id="a7317-314">Similarly, hello **Timestamp** column displays timestamp data from hello server log, but no data is displayed for hello **TimeElapsed**, **Source**, and **Destination** columns, which are not part of hello server log.</span></span>
>
>

<span data-ttu-id="a7317-315">Dessutom toousing hello Azure Storage layouter, du kan också definiera och spara egna layouter.</span><span class="sxs-lookup"><span data-stu-id="a7317-315">In addition toousing hello Azure Storage view layouts, you can also define and save your own view layouts.</span></span> <span data-ttu-id="a7317-316">Du kan välja andra önskade fält för gruppering av data och spara hello gruppering som en del av din anpassade layout.</span><span class="sxs-lookup"><span data-stu-id="a7317-316">You can select other desired fields for grouping data and save hello grouping as part of your custom layout as well.</span></span>

### <a name="apply-color-rules-toohello-analysis-grid"></a><span data-ttu-id="a7317-317">Tillämpa färg regler toohello analys rutnätet</span><span class="sxs-lookup"><span data-stu-id="a7317-317">Apply color rules toohello Analysis Grid</span></span>
<span data-ttu-id="a7317-318">hello lagring tillgångar också innefatta färgregler som ger en visuell innebär tooidentify olika typer av fel i hello analys rutnätet.</span><span class="sxs-lookup"><span data-stu-id="a7317-318">hello Storage Assets also include color rules, which offer a visual means tooidentify different types of errors in hello Analysis Grid.</span></span> <span data-ttu-id="a7317-319">hello gäller fördefinierade färgregler tooHTTP fel, så att de visas endast för hello logg- och serverspårning.</span><span class="sxs-lookup"><span data-stu-id="a7317-319">hello predefined color rules apply tooHTTP errors, so they appear only for hello server log and network trace.</span></span>

<span data-ttu-id="a7317-320">Välj tooapply färgregler **färgregler** från hello verktygsfältet menyfliksområdet.</span><span class="sxs-lookup"><span data-stu-id="a7317-320">tooapply color rules, select **Color Rules** from hello toolbar ribbon.</span></span> <span data-ttu-id="a7317-321">Du ser hello Azure Storage färgregler hello-menyn.</span><span class="sxs-lookup"><span data-stu-id="a7317-321">You'll see hello Azure Storage color rules in hello menu.</span></span> <span data-ttu-id="a7317-322">Hello självstudier, Välj **klientfel (StatusCode mellan 400 och 499)**, som hello bilden nedan.</span><span class="sxs-lookup"><span data-stu-id="a7317-322">For hello tutorial, select **Client Errors (StatusCode between 400 and 499)**, as shown in hello picture below.</span></span>

![Azure Storage visa Layout](./media/storage-e2e-troubleshooting-classic-portal/color-rules-menu.png)

<span data-ttu-id="a7317-324">Dessutom toousing hello Azure Storage färg regler, du kan också definiera och spara dina egna färgregler.</span><span class="sxs-lookup"><span data-stu-id="a7317-324">In addition toousing hello Azure Storage color rules, you can also define and save your own color rules.</span></span>

### <a name="group-and-filter-log-data-toofind-400-range-errors"></a><span data-ttu-id="a7317-325">Gruppen och filtrera logga datafel toofind 400-intervall</span><span class="sxs-lookup"><span data-stu-id="a7317-325">Group and filter log data toofind 400-range errors</span></span>
<span data-ttu-id="a7317-326">Därefter vi gruppen och filtrera hello logga data toofind alla fel i hello 400 intervall.</span><span class="sxs-lookup"><span data-stu-id="a7317-326">Next, we'll group and filter hello log data toofind all errors in hello 400 range.</span></span>

1. <span data-ttu-id="a7317-327">Leta upp hello **StatusCode** kolumn i hello analys rutnät, högerklicka på hello kolumnen rubrik och välj **gruppen**.</span><span class="sxs-lookup"><span data-stu-id="a7317-327">Locate hello **StatusCode** column in hello Analysis Grid, right-click hello column heading, and select **Group**.</span></span>
2. <span data-ttu-id="a7317-328">Därefter gruppen på hello **ClientRequestId** kolumn.</span><span class="sxs-lookup"><span data-stu-id="a7317-328">Next, group on hello **ClientRequestId** column.</span></span> <span data-ttu-id="a7317-329">Du ser att hello data i hello analys rutnätet nu är ordnad efter status code och av klientbegäran-ID.</span><span class="sxs-lookup"><span data-stu-id="a7317-329">You'll see that hello data in hello Analysis Grid is now organized by status code and by client request ID.</span></span>
3. <span data-ttu-id="a7317-330">Visa hello visningsfilter verktygsfönster om den inte redan visas.</span><span class="sxs-lookup"><span data-stu-id="a7317-330">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="a7317-331">Hello verktygsfältet menyfliksområdet, Välj **verktyget Windows**, sedan **visningsfilter**.</span><span class="sxs-lookup"><span data-stu-id="a7317-331">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
4. <span data-ttu-id="a7317-332">toofilter hello logga data toodisplay endast 400-intervallet fel, Lägg till hello följande filter kriterier toohello **visningsfilter** , och klicka på **Verkställ**:</span><span class="sxs-lookup"><span data-stu-id="a7317-332">toofilter hello log data toodisplay only 400-range errors, add hello following filter criteria toohello **View Filter** window, and click **Apply**:</span></span>

    ```   
    (AzureStorageLog.StatusCode >= 400 && AzureStorageLog.StatusCode <=499) || (HTTP.StatusCode >= 400 && HTTP.StatusCode <= 499)
    ```

<span data-ttu-id="a7317-333">hello bilden nedan visar hello resultatet av den här grupperingen och filter.</span><span class="sxs-lookup"><span data-stu-id="a7317-333">hello picture below shows hello results of this grouping and filter.</span></span> <span data-ttu-id="a7317-334">Expanderande hello **ClientRequestID** fältet under hello gruppering för statuskod 409, till exempel visar en åtgärd som resulterade i att statuskod.</span><span class="sxs-lookup"><span data-stu-id="a7317-334">Expanding hello **ClientRequestID** field beneath hello grouping for status code 409, for example, shows an operation that resulted in that status code.</span></span>

![Azure Storage visa Layout](./media/storage-e2e-troubleshooting-classic-portal/400-range-errors1.png)

<span data-ttu-id="a7317-336">Efter att det här filtret, ser du att rader från hello klientloggen undantas, som hello klientloggen inte innehåller en **StatusCode** kolumn.</span><span class="sxs-lookup"><span data-stu-id="a7317-336">After applying this filter, you'll see that rows from hello client log are excluded, as hello client log does not include a **StatusCode** column.</span></span> <span data-ttu-id="a7317-337">toobegin med vi granskar hello server och spåra loggar toolocate 404 nätverksfel och sedan returnerar vi toohello klienten loggen tooexamine hello Klientåtgärder som ledde toothem.</span><span class="sxs-lookup"><span data-stu-id="a7317-337">toobegin with, we'll review hello server and network trace logs toolocate 404 errors, and then we'll return toohello client log tooexamine hello client operations that led toothem.</span></span>

> [!NOTE]
> <span data-ttu-id="a7317-338">Du kan filtrera på hello **StatusCode** kolumn och fortfarande visa data från alla tre loggar, inklusive hello klientloggen om du lägger till ett uttryck toohello filter som innehåller poster där hello-statuskoden är null.</span><span class="sxs-lookup"><span data-stu-id="a7317-338">You can filter on hello **StatusCode** column and still display data from all three logs, including hello client log, if you add an expression toohello filter that includes log entries where hello status code is null.</span></span> <span data-ttu-id="a7317-339">tooconstruct denna filteruttrycket, Använd:</span><span class="sxs-lookup"><span data-stu-id="a7317-339">tooconstruct this filter expression, use:</span></span>
>
> <code>&#42;StatusCode >= 400 or !&#42;StatusCode</code>
>
> <span data-ttu-id="a7317-340">Det här filtret returnerar alla rader från hello klienten loggen och endast rader från hello serverloggen och HTTP-loggen där hello-statuskoden är större än 400.</span><span class="sxs-lookup"><span data-stu-id="a7317-340">This filter returns all rows from hello client log and only rows from hello server log and HTTP log where hello status code is greater than 400.</span></span> <span data-ttu-id="a7317-341">Om du använder den toohello Visa layout grupperade efter ID för klientbegäran och modulen, kan du söka eller bläddra igenom hello logga poster toofind sådana där alla tre loggar visas.</span><span class="sxs-lookup"><span data-stu-id="a7317-341">If you apply it toohello view layout grouped by client request ID and module, you can search or scroll through hello log entries toofind ones where all three logs are represented.</span></span>   
>
>

### <a name="filter-log-data-toofind-404-errors"></a><span data-ttu-id="a7317-342">Filtrera loggen data toofind 404-fel</span><span class="sxs-lookup"><span data-stu-id="a7317-342">Filter log data toofind 404 errors</span></span>
<span data-ttu-id="a7317-343">hello lagring tillgångar inkludera fördefinierade filter som du kan använda toonarrow logga data toofind hello fel eller trender som du letar efter.</span><span class="sxs-lookup"><span data-stu-id="a7317-343">hello Storage Assets include predefined filters that you can use toonarrow log data toofind hello errors or trends you are looking for.</span></span> <span data-ttu-id="a7317-344">Nu ska vi ska använda två fördefinierade filter: en som filtrerar hello server och nätverk spårningsloggar för 404-fel och en som filtrerar hello data på ett angivet tidsintervall.</span><span class="sxs-lookup"><span data-stu-id="a7317-344">Next, we'll apply two predefined filters: one that filters hello server and network trace logs for 404 errors, and one that filters hello data on a specified time range.</span></span>

1. <span data-ttu-id="a7317-345">Visa hello visningsfilter verktygsfönster om den inte redan visas.</span><span class="sxs-lookup"><span data-stu-id="a7317-345">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="a7317-346">Hello verktygsfältet menyfliksområdet, Välj **verktyget Windows**, sedan **visningsfilter**.</span><span class="sxs-lookup"><span data-stu-id="a7317-346">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
2. <span data-ttu-id="a7317-347">I fönstret Visa Filter hello väljer **biblioteket**, och Sök på `Azure Storage` toofind hello Azure Storage-filter.</span><span class="sxs-lookup"><span data-stu-id="a7317-347">In hello View Filter window, select **Library**, and search on `Azure Storage` toofind hello Azure Storage filters.</span></span> <span data-ttu-id="a7317-348">Välj hello filter för **404 (inget hittas) meddelanden i alla loggar**.</span><span class="sxs-lookup"><span data-stu-id="a7317-348">Select hello filter for **404 (Not Found) messages in all logs**.</span></span>
3. <span data-ttu-id="a7317-349">Visa hello **biblioteket** menyn igen, och leta upp och markera hello **globala tidsfiltret**.</span><span class="sxs-lookup"><span data-stu-id="a7317-349">Display hello **Library** menu again, and locate and select hello **Global Time Filter**.</span></span>
4. <span data-ttu-id="a7317-350">Redigera hello tidsstämplar visas i hello filter toohello intervallet gärna tooview.</span><span class="sxs-lookup"><span data-stu-id="a7317-350">Edit hello timestamps shown in hello filter toohello range you wish tooview.</span></span> <span data-ttu-id="a7317-351">Detta hjälper toonarrow hello mängd data tooanalyze.</span><span class="sxs-lookup"><span data-stu-id="a7317-351">This will help toonarrow hello range of data tooanalyze.</span></span>
5. <span data-ttu-id="a7317-352">Filtret bör visas liknande toohello exemplet nedan.</span><span class="sxs-lookup"><span data-stu-id="a7317-352">Your filter should appear similar toohello example below.</span></span> <span data-ttu-id="a7317-353">Klicka på **tillämpa** tooapply hello filter toohello analys rutnätet.</span><span class="sxs-lookup"><span data-stu-id="a7317-353">Click **Apply** tooapply hello filter toohello Analysis Grid.</span></span>

    ```   
    ((AzureStorageLog.StatusCode == 404 || HTTP.StatusCode == 404)) And
    (#Timestamp >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39)
    ```

![Azure Storage visa Layout](./media/storage-e2e-troubleshooting-classic-portal/404-filtered-errors1.png)

### <a name="analyze-your-log-data"></a><span data-ttu-id="a7317-355">Analysera dina loggdata</span><span class="sxs-lookup"><span data-stu-id="a7317-355">Analyze your log data</span></span>
<span data-ttu-id="a7317-356">Nu när du har grupperats och filtreras data, kan du undersöka hello information om enskilda förfrågningar som genererade fel 404.</span><span class="sxs-lookup"><span data-stu-id="a7317-356">Now that you have grouped and filtered your data, you can examine hello details of individual requests that generated 404 errors.</span></span> <span data-ttu-id="a7317-357">I hello aktuella Visa layout grupperas hello data efter ID för klientbegäran, sedan efter källan.</span><span class="sxs-lookup"><span data-stu-id="a7317-357">In hello current view layout, hello data is grouped by client request ID, then by log source.</span></span> <span data-ttu-id="a7317-358">Eftersom vi filtrerar på begäranden där hello StatusCode fältet innehåller 404 kan se vi endast hello server och nätverk spårningsdata, inte hello klienten loggdata.</span><span class="sxs-lookup"><span data-stu-id="a7317-358">Since we are filtering on requests where hello StatusCode field contains 404, we'll see only hello server and network trace data, not hello client log data.</span></span>

<span data-ttu-id="a7317-359">hello bilden nedan visar en specifik begäran där en hämta Blob-åtgärd gav en 404 eftersom hello blob inte finns.</span><span class="sxs-lookup"><span data-stu-id="a7317-359">hello picture below shows a specific request where a Get Blob operation yielded a 404 because hello blob did not exist.</span></span> <span data-ttu-id="a7317-360">Observera att vissa kolumner har tagits bort från hello standardvyn i ordning toodisplay hello relevanta data.</span><span class="sxs-lookup"><span data-stu-id="a7317-360">Note that some columns have been removed from hello standard view in order toodisplay hello relevant data.</span></span>

![Filtrerade Server och nätverk spårningsloggar](./media/storage-e2e-troubleshooting-classic-portal/server-filtered-404-error.png)

<span data-ttu-id="a7317-362">Vi kommer därefter korrelera detta klient-ID för begäran med hello klienten logga data toosee vilka åtgärder hello-klienten tog när hello-fel inträffade.</span><span class="sxs-lookup"><span data-stu-id="a7317-362">Next, we'll correlate this client request ID with hello client log data toosee what actions hello client was taking when hello error happened.</span></span> <span data-ttu-id="a7317-363">Du kan visa en ny analys rutnätsvy för den här sessionen tooview hello klienten loggdata som öppnas i andra fliken:</span><span class="sxs-lookup"><span data-stu-id="a7317-363">You can display a new Analysis Grid view for this session tooview hello client log data, which opens in a second tab:</span></span>

1. <span data-ttu-id="a7317-364">Kopiera först hello värdet för hello **ClientRequestId** fältet toohello Urklipp.</span><span class="sxs-lookup"><span data-stu-id="a7317-364">First, copy hello value of hello **ClientRequestId** field toohello clipboard.</span></span> <span data-ttu-id="a7317-365">Du kan göra detta genom att välja antingen rad hitta hello **ClientRequestId** fältet, högerklicka på hello datavärdet och välja **kopiera 'ClientRequestId'**.</span><span class="sxs-lookup"><span data-stu-id="a7317-365">You can do this by selecting either row, locating hello **ClientRequestId** field, right-clicking on hello data value, and choosing **Copy 'ClientRequestId'**.</span></span>
2. <span data-ttu-id="a7317-366">Hello verktygsfältet menyfliksområdet, Välj **nya visningsprogrammet**och välj **analys rutnätet** tooopen en ny fliken hello ny flik visar alla data i loggfilerna, utan gruppering, filtrering eller färgregler.</span><span class="sxs-lookup"><span data-stu-id="a7317-366">On hello toolbar ribbon, select **New Viewer**, then select **Analysis Grid** tooopen a new tab. hello new tab shows all data in your log files, without grouping, filtering, or color rules.</span></span>
3. <span data-ttu-id="a7317-367">Hello verktygsfältet menyfliksområdet, Välj **visa Layout**och välj **alla .NET klienten kolumner** under hello **Azure Storage** avsnitt.</span><span class="sxs-lookup"><span data-stu-id="a7317-367">On hello toolbar ribbon, select **View Layout**, then select **All .NET Client Columns** under hello **Azure Storage** section.</span></span> <span data-ttu-id="a7317-368">Layout för den här vyn visar data från hello-klientloggen samt hello server- och spårningsloggar.</span><span class="sxs-lookup"><span data-stu-id="a7317-368">This view layout shows data from hello client log as well as hello server and network trace logs.</span></span> <span data-ttu-id="a7317-369">Som standard den sorteras på hello **MessageNumber** kolumn.</span><span class="sxs-lookup"><span data-stu-id="a7317-369">By default it is sorted on hello **MessageNumber** column.</span></span>
4. <span data-ttu-id="a7317-370">Därefter letar hello klientloggen hello klient begäran-ID.</span><span class="sxs-lookup"><span data-stu-id="a7317-370">Next, search hello client log for hello client request ID.</span></span> <span data-ttu-id="a7317-371">Hello verktygsfältet menyfliksområdet, Välj **hitta meddelanden**, ange ett filter på hello ID för klientbegäran i hello **hitta** fältet.</span><span class="sxs-lookup"><span data-stu-id="a7317-371">On hello toolbar ribbon, select **Find Messages**, then specify a custom filter on hello client request ID in hello **Find** field.</span></span> <span data-ttu-id="a7317-372">Använd följande syntax för hello filter att ange en egen klient-ID för begäran:</span><span class="sxs-lookup"><span data-stu-id="a7317-372">Use this syntax for hello filter, specifying your own client request ID:</span></span>

    ```  
    *ClientRequestId == "398bac41-7725-484b-8a69-2a9e48fc669a"
    ```

<span data-ttu-id="a7317-373">Message Analyzer hittar och väljer hello första loggposten där hello sökvillkor matchar hello klient begäran-ID.</span><span class="sxs-lookup"><span data-stu-id="a7317-373">Message Analyzer locates and selects hello first log entry where hello search criteria matches hello client request ID.</span></span> <span data-ttu-id="a7317-374">Hello-klientloggen finns det flera poster för varje ID för klientbegäran, så du kan toogroup dem på hello **ClientRequestId** fältet toomake den enklare toosee dem alla tillsammans.</span><span class="sxs-lookup"><span data-stu-id="a7317-374">In hello client log, there are several entries for each client request ID, so you may want toogroup them on hello **ClientRequestId** field toomake it easier toosee them all together.</span></span> <span data-ttu-id="a7317-375">hello bilden nedan visar alla hälsningsmeddelande i hello-klient loggar för hello angivna klient-begäran-ID.</span><span class="sxs-lookup"><span data-stu-id="a7317-375">hello picture below shows all of hello messages in hello client log for hello specified client request ID.</span></span>

![Klienten loggen visar 404-fel](./media/storage-e2e-troubleshooting-classic-portal/client-log-analysis-grid1.png)

<span data-ttu-id="a7317-377">Med hello data som visas i hello layouter i dessa två flikar kan analysera du hello begäran data toodetermine vad kan ha orsakat hello fel.</span><span class="sxs-lookup"><span data-stu-id="a7317-377">Using hello data shown in hello view layouts in these two tabs, you can analyze hello request data toodetermine what may have caused hello error.</span></span> <span data-ttu-id="a7317-378">Du kan också se begäranden som föregås av den här en toosee om en tidigare händelse har lett toohello 404-fel.</span><span class="sxs-lookup"><span data-stu-id="a7317-378">You can also look at requests that preceded this one toosee if a previous event may have led toohello 404 error.</span></span> <span data-ttu-id="a7317-379">Du kan till exempel granska hello klienten loggposter som föregår den här klienten begäran-ID toodetermine om hello blob kan ha tagits bort eller om hello fel på grund av toohello klientprogram anropar en CreateIfNotExists API på en behållare eller blobb.</span><span class="sxs-lookup"><span data-stu-id="a7317-379">For example, you can review hello client log entries preceding this client request ID toodetermine whether hello blob may have been deleted, or if hello error was due toohello client application calling a CreateIfNotExists API on a container or blob.</span></span> <span data-ttu-id="a7317-380">I hello klientloggar du hittar hello blob-adress i hello **beskrivning** fältet; i hello server och nätverk spårningsloggar informationen som visas i hello **sammanfattning** fältet.</span><span class="sxs-lookup"><span data-stu-id="a7317-380">In hello client log, you can find hello blob's address in hello **Description** field; in hello server and network trace logs, this information appears in hello **Summary** field.</span></span>

<span data-ttu-id="a7317-381">När du vet hello-adressen för hello blob som gav hello 404-fel kan undersöka du vidare.</span><span class="sxs-lookup"><span data-stu-id="a7317-381">Once you know hello address of hello blob that yielded hello 404 error, you can investigate further.</span></span> <span data-ttu-id="a7317-382">Om du söker hello loggposter för andra meddelanden som är associerade med åtgärder på hello samma blob, du kan kontrollera om hello klienten tidigare bort hello entitet.</span><span class="sxs-lookup"><span data-stu-id="a7317-382">If you search hello log entries for other messages associated with operations on hello same blob, you can check whether hello client previously deleted hello entity.</span></span>

## <a name="analyze-other-types-of-storage-errors"></a><span data-ttu-id="a7317-383">Analysera andra typer av lagring fel</span><span class="sxs-lookup"><span data-stu-id="a7317-383">Analyze other types of storage errors</span></span>
<span data-ttu-id="a7317-384">Nu när du är bekant med Message Analyzer tooanalyze dina loggdata kan du analysera andra typer av fel i vyn layouter, färgregler och söka/filtrering.</span><span class="sxs-lookup"><span data-stu-id="a7317-384">Now that you are familiar with using Message Analyzer tooanalyze your log data, you can analyze other types of errors using view layouts, color rules, and searching/filtering.</span></span> <span data-ttu-id="a7317-385">hello tabellerna nedan visar några problem du kan stöta på och hello filterkriterier som du kan använda toolocate dem.</span><span class="sxs-lookup"><span data-stu-id="a7317-385">hello tables below lists some issues you may encounter and hello filter criteria you can use toolocate them.</span></span> <span data-ttu-id="a7317-386">Mer information om hur du skapar filter och hello Message Analyzer filtrering språk, se [filtrering meddelandedata](http://technet.microsoft.com/library/jj819365.aspx).</span><span class="sxs-lookup"><span data-stu-id="a7317-386">For more information on constructing filters and hello Message Analyzer filtering language, see [Filtering Message Data](http://technet.microsoft.com/library/jj819365.aspx).</span></span>

| <span data-ttu-id="a7317-387">tooInvestigate...</span><span class="sxs-lookup"><span data-stu-id="a7317-387">tooInvestigate…</span></span> | <span data-ttu-id="a7317-388">Använd filteruttrycket...</span><span class="sxs-lookup"><span data-stu-id="a7317-388">Use Filter Expression…</span></span> | <span data-ttu-id="a7317-389">Uttryck gäller tooLog (klient, Server, nätverk, alla)</span><span class="sxs-lookup"><span data-stu-id="a7317-389">Expression Applies tooLog (Client, Server,   Network, All)</span></span> |
| --- | --- | --- |
| <span data-ttu-id="a7317-390">Oväntade fördröjningar i leverans av meddelanden i en kö</span><span class="sxs-lookup"><span data-stu-id="a7317-390">Unexpected delays in message delivery on a queue</span></span> |<span data-ttu-id="a7317-391">AzureStorageClientDotNetV4.Description innehåller ”försöker på nytt misslyckades igen”.</span><span class="sxs-lookup"><span data-stu-id="a7317-391">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span></span> |<span data-ttu-id="a7317-392">Client</span><span class="sxs-lookup"><span data-stu-id="a7317-392">Client</span></span> |
| <span data-ttu-id="a7317-393">HTTP-ökning av PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="a7317-393">HTTP Increase in PercentThrottlingError</span></span> |<span data-ttu-id="a7317-394">HTTP. Response.StatusCode == 500 &#124; &#124; HTTP. Response.StatusCode == 503</span><span class="sxs-lookup"><span data-stu-id="a7317-394">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span></span> |<span data-ttu-id="a7317-395">Nätverk</span><span class="sxs-lookup"><span data-stu-id="a7317-395">Network</span></span> |
| <span data-ttu-id="a7317-396">Öka i PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="a7317-396">Increase in PercentTimeoutError</span></span> |<span data-ttu-id="a7317-397">HTTP. Response.StatusCode == 500</span><span class="sxs-lookup"><span data-stu-id="a7317-397">HTTP.Response.StatusCode   == 500</span></span> |<span data-ttu-id="a7317-398">Nätverk</span><span class="sxs-lookup"><span data-stu-id="a7317-398">Network</span></span> |
| <span data-ttu-id="a7317-399">Öka i PercentTimeoutError (alla)</span><span class="sxs-lookup"><span data-stu-id="a7317-399">Increase in PercentTimeoutError (all)</span></span> |<span data-ttu-id="a7317-400">* StatusCode == 500</span><span class="sxs-lookup"><span data-stu-id="a7317-400">*StatusCode   == 500</span></span> |<span data-ttu-id="a7317-401">Alla</span><span class="sxs-lookup"><span data-stu-id="a7317-401">All</span></span> |
| <span data-ttu-id="a7317-402">Öka i PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="a7317-402">Increase in PercentNetworkError</span></span> |<span data-ttu-id="a7317-403">AzureStorageClientDotNetV4.EventLogEntry.Level < 2</span><span class="sxs-lookup"><span data-stu-id="a7317-403">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span></span> |<span data-ttu-id="a7317-404">Client</span><span class="sxs-lookup"><span data-stu-id="a7317-404">Client</span></span> |
| <span data-ttu-id="a7317-405">HTTP 403 (nekas) meddelanden</span><span class="sxs-lookup"><span data-stu-id="a7317-405">HTTP 403 (Forbidden) messages</span></span> |<span data-ttu-id="a7317-406">HTTP. Response.StatusCode == 403</span><span class="sxs-lookup"><span data-stu-id="a7317-406">HTTP.Response.StatusCode   == 403</span></span> |<span data-ttu-id="a7317-407">Nätverk</span><span class="sxs-lookup"><span data-stu-id="a7317-407">Network</span></span> |
| <span data-ttu-id="a7317-408">HTTP 404 (inget hittas) meddelanden</span><span class="sxs-lookup"><span data-stu-id="a7317-408">HTTP 404 (Not found) messages</span></span> |<span data-ttu-id="a7317-409">HTTP. Response.StatusCode == 404</span><span class="sxs-lookup"><span data-stu-id="a7317-409">HTTP.Response.StatusCode   == 404</span></span> |<span data-ttu-id="a7317-410">Nätverk</span><span class="sxs-lookup"><span data-stu-id="a7317-410">Network</span></span> |
| <span data-ttu-id="a7317-411">404 (alla)</span><span class="sxs-lookup"><span data-stu-id="a7317-411">404 (all)</span></span> |<span data-ttu-id="a7317-412">* StatusCode == 404</span><span class="sxs-lookup"><span data-stu-id="a7317-412">*StatusCode   == 404</span></span> |<span data-ttu-id="a7317-413">Alla</span><span class="sxs-lookup"><span data-stu-id="a7317-413">All</span></span> |
| <span data-ttu-id="a7317-414">Delade signatur åtkomst (SAS) auktorisering problemet</span><span class="sxs-lookup"><span data-stu-id="a7317-414">Shared Access Signature (SAS) authorization issue</span></span> |<span data-ttu-id="a7317-415">AzureStorageLog.RequestStatus == ”SASAuthorizationError”</span><span class="sxs-lookup"><span data-stu-id="a7317-415">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span></span> |<span data-ttu-id="a7317-416">Nätverk</span><span class="sxs-lookup"><span data-stu-id="a7317-416">Network</span></span> |
| <span data-ttu-id="a7317-417">HTTP 409 (konflikt) meddelanden</span><span class="sxs-lookup"><span data-stu-id="a7317-417">HTTP 409 (Conflict) messages</span></span> |<span data-ttu-id="a7317-418">HTTP. Response.StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="a7317-418">HTTP.Response.StatusCode   == 409</span></span> |<span data-ttu-id="a7317-419">Nätverk</span><span class="sxs-lookup"><span data-stu-id="a7317-419">Network</span></span> |
| <span data-ttu-id="a7317-420">409 (alla)</span><span class="sxs-lookup"><span data-stu-id="a7317-420">409 (all)</span></span> |<span data-ttu-id="a7317-421">* StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="a7317-421">*StatusCode   == 409</span></span> |<span data-ttu-id="a7317-422">Alla</span><span class="sxs-lookup"><span data-stu-id="a7317-422">All</span></span> |
| <span data-ttu-id="a7317-423">Låg PercentSuccess eller analytics loggposter innehålla åtgärder med transaktionsstatus för ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="a7317-423">Low PercentSuccess or analytics log entries have   operations with transaction status of ClientOtherErrors</span></span> |<span data-ttu-id="a7317-424">AzureStorageLog.RequestStatus == ”ClientOtherError”</span><span class="sxs-lookup"><span data-stu-id="a7317-424">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span></span> |<span data-ttu-id="a7317-425">Server</span><span class="sxs-lookup"><span data-stu-id="a7317-425">Server</span></span> |
| <span data-ttu-id="a7317-426">Nagle varning</span><span class="sxs-lookup"><span data-stu-id="a7317-426">Nagle   Warning</span></span> |<span data-ttu-id="a7317-427">((AzureStorageLog.EndToEndLatencyMS-AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS * 1.5)) och (AzureStorageLog.RequestPacketSize < 1 460) och (AzureStorageLog.EndToEndLatencyMS - AzureStorageLog.ServerLatencyMS > = 200)</span><span class="sxs-lookup"><span data-stu-id="a7317-427">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span></span> |<span data-ttu-id="a7317-428">Server</span><span class="sxs-lookup"><span data-stu-id="a7317-428">Server</span></span> |
| <span data-ttu-id="a7317-429">Tidsintervall i Server- och loggar</span><span class="sxs-lookup"><span data-stu-id="a7317-429">Range of   time in Server and Network logs</span></span> |<span data-ttu-id="a7317-430">#Timestamp > = 2014-10-20T16:36:38 och #Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="a7317-430">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span></span> |<span data-ttu-id="a7317-431">Servern nätverk</span><span class="sxs-lookup"><span data-stu-id="a7317-431">Server, Network</span></span> |
| <span data-ttu-id="a7317-432">Tidsintervall i Server-loggar</span><span class="sxs-lookup"><span data-stu-id="a7317-432">Range of   time in Server logs</span></span> |<span data-ttu-id="a7317-433">AzureStorageLog.Timestamp > = 2014-10-20T16:36:38 och AzureStorageLog.Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="a7317-433">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 and AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span></span> |<span data-ttu-id="a7317-434">Server</span><span class="sxs-lookup"><span data-stu-id="a7317-434">Server</span></span> |

## <a name="next-steps"></a><span data-ttu-id="a7317-435">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="a7317-435">Next steps</span></span>
<span data-ttu-id="a7317-436">Mer information om felsökning slutpunkt till slutpunkt-scenarier i Azure Storage finns i följande resurser:</span><span class="sxs-lookup"><span data-stu-id="a7317-436">For more information about troubleshooting end-to-end scenarios in Azure Storage, see these resources:</span></span>

* [<span data-ttu-id="a7317-437">Övervaka, diagnostisera och felsöka Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="a7317-437">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](storage-monitoring-diagnosing-troubleshooting.md)
* [<span data-ttu-id="a7317-438">Lagringsanalys</span><span class="sxs-lookup"><span data-stu-id="a7317-438">Storage Analytics</span></span>](http://msdn.microsoft.com/library/azure/hh343270.aspx)
* [<span data-ttu-id="a7317-439">Övervaka ett lagringskonto i hello Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="a7317-439">Monitor a storage account in hello Azure Portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="a7317-440">Överföra data med hello kommandoradsverktyget azcopy</span><span class="sxs-lookup"><span data-stu-id="a7317-440">Transfer data with hello AzCopy command-line utility</span></span>](storage-use-azcopy.md)
* [<span data-ttu-id="a7317-441">Microsoft Message Analyzer fungerar Guide</span><span class="sxs-lookup"><span data-stu-id="a7317-441">Microsoft Message Analyzer Operating Guide</span></span>](http://technet.microsoft.com/library/jj649776.aspx)
