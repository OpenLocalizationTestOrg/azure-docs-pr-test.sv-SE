---
title: "Övervaka, diagnostisera och felsöka Storage | Microsoft Docs"
description: "Använda funktioner som storage analytics loggning på klientsidan och andra verktyg från tredje part att identifiera, diagnostisera och felsöka Azure Storage-relaterade problem."
services: storage
documentationcenter: 
author: fhryo-msft
manager: jahogg
editor: tysonn
ms.assetid: da57e844-705d-449d-8ed5-5607d2a6170b
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/28/2017
ms.author: fhryo-msft
ms.openlocfilehash: 0ce739e1b62c908a469a5c37331915f17809018b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="monitor-diagnose-and-troubleshoot-microsoft-azure-storage"></a><span data-ttu-id="8eb7f-103">Övervaka, diagnostisera och felsök Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="8eb7f-103">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>
[!INCLUDE [storage-selector-portal-monitoring-diagnosing-troubleshooting](../../includes/storage-selector-portal-monitoring-diagnosing-troubleshooting.md)]

## <a name="overview"></a><span data-ttu-id="8eb7f-104">Översikt</span><span class="sxs-lookup"><span data-stu-id="8eb7f-104">Overview</span></span>
<span data-ttu-id="8eb7f-105">Diagnostisera och felsöka problem i ett distribuerat program som finns i en molnmiljö kan vara mer komplicerat än i vanliga miljöer.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-105">Diagnosing and troubleshooting issues in a distributed application hosted in a cloud environment can be more complex than in traditional environments.</span></span> <span data-ttu-id="8eb7f-106">Program kan distribueras i en PaaS eller IaaS-infrastruktur lokalt på en mobil enhet eller i en kombination av dessa.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-106">Applications can be deployed in a PaaS or IaaS infrastructure, on premises, on a mobile device, or in some combination of these.</span></span> <span data-ttu-id="8eb7f-107">Normalt nätverkstrafik för ditt program kan bläddra offentliga och privata nätverk och ditt program kan använda flera lagringstekniker som Microsoft Azure Storage-tabeller, Blobbar, köer eller filer och andra data lagras sådana som relationella och dokumentera databaser.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-107">Typically, your application's network traffic may traverse public and private networks and your application may use multiple storage technologies such as Microsoft Azure Storage Tables, Blobs, Queues, or Files in addition to other data stores such as relational and document databases.</span></span>

<span data-ttu-id="8eb7f-108">Om du vill hantera sådana program har bör du övervaka dem proaktivt och lär dig att diagnostisera och felsöka alla aspekter av dem och deras beroende tekniker.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-108">To manage such applications successfully you should monitor them proactively and understand how to diagnose and troubleshoot all aspects of them and their dependent technologies.</span></span> <span data-ttu-id="8eb7f-109">Som användare av Azure Storage-tjänster, bör du alltid övervaka Storage-tjänster som används i ditt program för eventuella oväntade ändringar i beteendet (till exempel långsammare än vanligt svarstider) och använder loggning att samla in mer detaljerade data och analysera problem på djupet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-109">As a user of Azure Storage services, you should continuously monitor the Storage services your application uses for any unexpected changes in behavior (such as slower than usual response times), and use logging to collect more detailed data and to analyze a problem in depth.</span></span> <span data-ttu-id="8eb7f-110">Diagnostikinformationen du hämta från både övervakning och loggning hjälper dig att fastställa orsaken till problemet uppstod i ditt program.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-110">The diagnostics information you obtain from both monitoring and logging will help you to determine the root cause of the issue your application encountered.</span></span> <span data-ttu-id="8eb7f-111">Sedan kan du felsöka problemet och fastställa lämpliga åtgärder du kan vidta kan åtgärdas.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-111">Then you can troubleshoot the issue and determine the appropriate steps you can take to remediate it.</span></span> <span data-ttu-id="8eb7f-112">Azure Storage är en grundläggande Azure-tjänsten och utgör en viktig del av flesta lösningar som kunder distribuera till Azure-infrastrukturen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-112">Azure Storage is a core Azure service, and forms an important part of the majority of solutions that customers deploy to the Azure infrastructure.</span></span> <span data-ttu-id="8eb7f-113">Azure Storage innehåller funktioner för att förenkla övervaka, diagnostisera och felsöka problem med lagring i dina molnbaserade program.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-113">Azure Storage includes capabilities to simplify monitoring, diagnosing, and troubleshooting storage issues in your cloud-based applications.</span></span>

> [!NOTE]
> <span data-ttu-id="8eb7f-114">Storage-konton med en typ av replikering av Zonredundant lagring (ZRS) har inte mått eller loggningsfunktioner just nu.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-114">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have the metrics or logging capability enabled at this time.</span></span> 
> 
> 

<span data-ttu-id="8eb7f-115">En praktisk guide till slutpunkt till slutpunkt för felsökning i Azure Storage-program finns [slutpunkt till slutpunkt felsökning med hjälp av Azure Storage-mätvärden och loggning, AzCopy och Message Analyzer](storage-e2e-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-115">For a hands-on guide to end-to-end troubleshooting in Azure Storage applications, see [End-to-End Troubleshooting using Azure Storage Metrics and Logging, AzCopy, and Message Analyzer](storage-e2e-troubleshooting.md).</span></span>

* <span data-ttu-id="8eb7f-116">[Introduktion]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-116">[Introduction]</span></span>
  * <span data-ttu-id="8eb7f-117">[Hur den här guiden är organiserat]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-117">[How this guide is organized]</span></span>
* <span data-ttu-id="8eb7f-118">[övervakning lagringstjänsten]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-118">[Monitoring your storage service]</span></span>
  * <span data-ttu-id="8eb7f-119">[Övervakning av tjänstens hälsa]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-119">[Monitoring service health]</span></span>
  * <span data-ttu-id="8eb7f-120">[Övervakning av kapacitet]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-120">[Monitoring capacity]</span></span>
  * <span data-ttu-id="8eb7f-121">[Övervaka tillgänglighet]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-121">[Monitoring availability]</span></span>
  * <span data-ttu-id="8eb7f-122">[Övervaka prestanda]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-122">[Monitoring performance]</span></span>
* <span data-ttu-id="8eb7f-123">[diagnostisera problem med lagring]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-123">[Diagnosing storage issues]</span></span>
  * <span data-ttu-id="8eb7f-124">[Hälsotillståndsproblem med tjänsten för]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-124">[Service health issues]</span></span>
  * <span data-ttu-id="8eb7f-125">[Prestandaproblem]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-125">[Performance issues]</span></span>
  * <span data-ttu-id="8eb7f-126">[Diagnostisera fel]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-126">[Diagnosing errors]</span></span>
  * <span data-ttu-id="8eb7f-127">[Storage-emulatorn problem]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-127">[Storage emulator issues]</span></span>
  * <span data-ttu-id="8eb7f-128">[Loggningsverktyg för lagring]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-128">[Storage logging tools]</span></span>
  * <span data-ttu-id="8eb7f-129">[Med hjälp av verktyg för loggning]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-129">[Using network logging tools]</span></span>
* <span data-ttu-id="8eb7f-130">[slutpunkt till slutpunkt spårning]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-130">[End-to-end tracing]</span></span>
  * <span data-ttu-id="8eb7f-131">[Korrelerar loggdata]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-131">[Correlating log data]</span></span>
  * <span data-ttu-id="8eb7f-132">[ID för klientbegäran]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-132">[Client request ID]</span></span>
  * <span data-ttu-id="8eb7f-133">[Server begäran-ID]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-133">[Server request ID]</span></span>
  * <span data-ttu-id="8eb7f-134">[Tidsstämplar]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-134">[Timestamps]</span></span>
* <span data-ttu-id="8eb7f-135">[felsökningsanvisningar]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-135">[Troubleshooting guidance]</span></span>
  * <span data-ttu-id="8eb7f-136">[mätvärdena visar AverageE2ELatency hög och låg AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-136">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
  * <span data-ttu-id="8eb7f-137">[Mätningar visar låga värden för AverageE2ELatency och AverageServerLatency, men klienten har ändå långa svarstider]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-137">[Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency]</span></span>
  * <span data-ttu-id="8eb7f-138">[Mätningar visar ett högt värde för AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-138">[Metrics show high AverageServerLatency]</span></span>
  * <span data-ttu-id="8eb7f-139">[Du upplever oväntade fördröjningar i en köad meddelandeleverans]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-139">[You are experiencing unexpected delays in message delivery on a queue]</span></span>
  * <span data-ttu-id="8eb7f-140">[mätvärdena visar en ökning i PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-140">[Metrics show an increase in PercentThrottlingError]</span></span>
  * <span data-ttu-id="8eb7f-141">[mätvärdena visar en ökning i PercentTimeoutError]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-141">[Metrics show an increase in PercentTimeoutError]</span></span>
  * <span data-ttu-id="8eb7f-142">[Mätningar visar en ökning i PercentNetworkError]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-142">[Metrics show an increase in PercentNetworkError]</span></span>
  * <span data-ttu-id="8eb7f-143">[Klienten tar emot HTTP 403 (förbjuden) meddelanden]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-143">[The client is receiving HTTP 403 (Forbidden) messages]</span></span>
  * <span data-ttu-id="8eb7f-144">[Klienten tar emot HTTP 404 (inget hittas) meddelanden]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-144">[The client is receiving HTTP 404 (Not found) messages]</span></span>
  * <span data-ttu-id="8eb7f-145">[Klienten tar emot HTTP 409 (konflikt) meddelanden]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-145">[The client is receiving HTTP 409 (Conflict) messages]</span></span>
  * <span data-ttu-id="8eb7f-146">[mätvärdena visar låg PercentSuccess eller analytics loggposter innehålla åtgärder med transaktionsstatus av ClientOtherErrors]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-146">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>
  * <span data-ttu-id="8eb7f-147">[Kapacitetsdata visar en oväntad ökning i kapacitetsförbrukning för lagring]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-147">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>
  * <span data-ttu-id="8eb7f-148">[Det uppstår oväntade omstarter av virtuella datorer som har ett stort antal anslutna virtuella hårddiskar]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-148">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>
  * <span data-ttu-id="8eb7f-149">[Problemet uppstår från med hjälp av storage-emulatorn för utveckling eller testning]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-149">[Your issue arises from using the storage emulator for development or test]</span></span>
  * <span data-ttu-id="8eb7f-150">[Det uppstår problem med att installera Azure SDK för .NET]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-150">[You are encountering problems installing the Azure SDK for .NET]</span></span>
  * <span data-ttu-id="8eb7f-151">[Du har ett annat problem med en storage-tjänst]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-151">[You have a different issue with a storage service]</span></span>
* <span data-ttu-id="8eb7f-152">[tilläggen]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-152">[Appendices]</span></span>
  * <span data-ttu-id="8eb7f-153">[bilaga 1: använder Fiddler för att samla in HTTP och HTTPS-trafik]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-153">[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]</span></span>
  * <span data-ttu-id="8eb7f-154">[bilaga 2: använda Wireshark att avbilda nätverkstrafik]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-154">[Appendix 2: Using Wireshark to capture network traffic]</span></span>
  * <span data-ttu-id="8eb7f-155">[tillägg 3: använda Microsoft Message Analyzer att avbilda nätverkstrafik]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-155">[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]</span></span>
  * <span data-ttu-id="8eb7f-156">[Tillägg 4: Använda Excel för att visa mått och logga data]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-156">[Appendix 4: Using Excel to view metrics and log data]</span></span>
  * <span data-ttu-id="8eb7f-157">[tillägg 5: övervaka med Programinsikter för Visual Studio Team Services]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-157">[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]</span></span>

## <span data-ttu-id="8eb7f-158"><a name="introduction"></a>Introduktion</span><span class="sxs-lookup"><span data-stu-id="8eb7f-158"><a name="introduction"></a>Introduction</span></span>
<span data-ttu-id="8eb7f-159">Den här guiden visar hur du använder funktioner, till exempel Azure Storage Analytics klientsidan loggning i Azure Storage-klientbiblioteket och andra verktyg från tredje part för att identifiera, diagnostisera och felsöka Azure Storage-relaterade problem.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-159">This guide shows you how to use features such as Azure Storage Analytics, client-side logging in the Azure Storage Client Library, and other third-party tools to identify, diagnose, and troubleshoot Azure Storage related issues.</span></span>

![][1]

<span data-ttu-id="8eb7f-160">*Bild 1 övervakning, diagnostik, och felsökning*</span><span class="sxs-lookup"><span data-stu-id="8eb7f-160">*Figure 1 Monitoring, Diagnostics, and Troubleshooting*</span></span>

<span data-ttu-id="8eb7f-161">Den här guiden är avsedd att läsas i första hand av utvecklare av online-tjänster som använder Azure Storage-tjänster och IT-experter som ansvarar för att hantera dessa online services.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-161">This guide is intended to be read primarily by developers of online services that use Azure Storage Services and IT Pros responsible for managing such online services.</span></span> <span data-ttu-id="8eb7f-162">Målen med den här guiden är:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-162">The goals of this guide are:</span></span>

* <span data-ttu-id="8eb7f-163">Som hjälper dig att upprätthålla hälsotillstånd och prestanda för dina Azure Storage-konton.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-163">To help you maintain the health and performance of your Azure Storage accounts.</span></span>
* <span data-ttu-id="8eb7f-164">Att tillhandahålla nödvändiga processer och verktyg för att avgöra om ett problem eller problem i ett program som relaterar till Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-164">To provide you with the necessary processes and tools to help you decide if an issue or problem in an application relates to Azure Storage.</span></span>
* <span data-ttu-id="8eb7f-165">Du kan få tillämplig vägledning för att lösa problem som rör Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-165">To provide you with actionable guidance for resolving problems related to Azure Storage.</span></span>

### <span data-ttu-id="8eb7f-166"><a name="how-this-guide-is-organized"></a>Hur den här guiden är organiserat</span><span class="sxs-lookup"><span data-stu-id="8eb7f-166"><a name="how-this-guide-is-organized"></a>How this guide is organized</span></span>
<span data-ttu-id="8eb7f-167">I avsnittet ”[övervakning lagringstjänsten]” beskriver hur du övervakar hälsotillstånd och prestanda för ditt Azure Storage-tjänster med hjälp av Azure Storage Analytics mätvärden (Storage-mätvärden).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-167">The section "[Monitoring your storage service]" describes how to monitor the health and performance of your Azure Storage services using Azure Storage Analytics Metrics (Storage Metrics).</span></span>

<span data-ttu-id="8eb7f-168">I avsnittet ”[diagnostisera problem med lagring]” beskriver hur du diagnostisera problem med Azure Storage Analytics loggning (Storage loggning).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-168">The section "[Diagnosing storage issues]" describes how to diagnose issues using Azure Storage Analytics Logging (Storage Logging).</span></span> <span data-ttu-id="8eb7f-169">Det beskriver också hur du aktiverar loggning för klientsidan med funktionerna i en av klientbiblioteken exempelvis Storage-klientbiblioteket för .NET eller Azure SDK för Java.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-169">It also describes how to enable client-side logging using the facilities in one of the client libraries such as the Storage Client Library for .NET or the Azure SDK for Java.</span></span>

<span data-ttu-id="8eb7f-170">I avsnittet ”[slutpunkt till slutpunkt spårning]” beskriver hur du kan jämföra informationen i olika loggfiler och mätvärdesdata.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-170">The section "[End-to-end tracing]" describes how you can correlate the information contained in various log files and metrics data.</span></span>

<span data-ttu-id="8eb7f-171">I avsnittet ”[felsökningsanvisningar]” ger riktlinjer för felsökning för några vanliga lagringsrelaterade problem du kan stöta på.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-171">The section "[Troubleshooting guidance]" provides troubleshooting guidance for some of the common storage-related issues you might encounter.</span></span>

<span data-ttu-id="8eb7f-172">Den ”[tilläggen]” innehåller information om hur du använder andra verktyg som Wireshark och Netmon för analysera nätverk paketdata, Fiddler för att analysera HTTP/HTTPS-meddelanden och Microsoft Message Analyzer för korrelation mellan logga data.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-172">The "[Appendices]" include information about using other tools such as Wireshark and Netmon for analyzing network packet data, Fiddler for analyzing HTTP/HTTPS messages, and Microsoft Message Analyzer for correlating log data.</span></span>

## <span data-ttu-id="8eb7f-173"><a name="monitoring-your-storage-service"></a>Övervaka storage-tjänst</span><span class="sxs-lookup"><span data-stu-id="8eb7f-173"><a name="monitoring-your-storage-service"></a>Monitoring your storage service</span></span>
<span data-ttu-id="8eb7f-174">Om du är bekant med prestandaövervakning av Windows kan du se Storage-mätvärden som motsvarande Azure Storage för Windows-prestandaräknare.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-174">If you are familiar with Windows performance monitoring, you can think of Storage Metrics as being an Azure Storage equivalent of Windows Performance Monitor counters.</span></span> <span data-ttu-id="8eb7f-175">Storage-mätvärden innehåller en omfattande uppsättning mått (räknare i Prestandaövervakaren terminologi), till exempel tjänsttillgänglighet, totalt antal begäranden till tjänsten eller procent av lyckade begäranden till tjänsten (en fullständig lista över de tillgänglig statistik, se <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics mätvärden tabellschemat</a> på MSDN).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-175">In Storage Metrics you will find a comprehensive set of metrics (counters in Windows Performance Monitor terminology) such as service availability, total number of requests to service, or percentage of successful requests to service (for a full list of the available metrics, see <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics Metrics Table Schema</a> on MSDN).</span></span> <span data-ttu-id="8eb7f-176">Du kan ange om du vill att lagringstjänsten för att samla in och sammanställa mätvärden varje timme eller varje minut.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-176">You can specify whether you want the storage service to collect and aggregate metrics every hour or every minute.</span></span> <span data-ttu-id="8eb7f-177">Mer information om hur du aktivera mätvärden och övervaka dina lagringskonton finns <a href="http://go.microsoft.com/fwlink/?LinkId=510865" target="_blank">aktivera storage-mätvärden</a> på MSDN.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-177">For more information about how to enable metrics and monitor your storage accounts, see <a href="http://go.microsoft.com/fwlink/?LinkId=510865" target="_blank">Enabling storage metrics</a> on MSDN.</span></span>

<span data-ttu-id="8eb7f-178">Du kan välja vilka timvis mått som du vill visa i den klassiska Azure-portalen och konfigurera regler som meddela administratörer av e-post när en timvis måttet överskrider ett visst tröskelvärde (Mer information finns på sidan <a href="http://msdn.microsoft.com/library/azure/dn306638.aspx" target="_blank">så här: ta emot Aviseringar och hantera Varningsregler i Azure</a>).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-178">You can choose which hourly metrics you want to display in the Azure Classic Portal and configure rules that notify administrators by email whenever an hourly metric exceeds a particular threshold (for more information, see the page <a href="http://msdn.microsoft.com/library/azure/dn306638.aspx" target="_blank">How to: Receive Alert Notifications and Manage Alert Rules in Azure</a>).</span></span> <span data-ttu-id="8eb7f-179">Lagringstjänsten samlar in mått med bästa prestanda, men kan inte registrera varje Lagringsåtgärden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-179">The storage service collects metrics using a best effort, but may not record every storage operation.</span></span>

<span data-ttu-id="8eb7f-180">Bild 2 nedan visar sidan Övervakare i den klassiska Azure-portalen där du kan visa mätvärden, till exempel tillgänglighet, totalt antal begäranden och genomsnittlig svarstid för nummer för ett lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-180">Figure 2 below shows the Monitor page in the Azure Classic Portal where you can view metrics such as availability, total requests, and average latency numbers for a storage account.</span></span> <span data-ttu-id="8eb7f-181">En meddelanderegel har också angetts som varnar administratörer om tillgänglighet sjunker under en viss nivå.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-181">A notification rule has also been set up to alert an administrator if availability drops below a certain level.</span></span> <span data-ttu-id="8eb7f-182">Från att visa dessa data, ett möjligt området för undersökning är tabellen service lyckade är lägre än 100% (Mer information finns i avsnittet ”[mätvärdena visar låg PercentSuccess eller analytics loggposter innehålla åtgärder med transaktionsstatus av ClientOtherErrors]”).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-182">From viewing this data, one possible area for investigation is the table service success percentage being below 100% (for more information, see the section "[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]").</span></span>

![][2]

<span data-ttu-id="8eb7f-183">*Bild 2 visar lagring mått i den klassiska Azure-portalen*</span><span class="sxs-lookup"><span data-stu-id="8eb7f-183">*Figure 2 Viewing storage metrics in the Azure Classic Portal*</span></span>

<span data-ttu-id="8eb7f-184">Du bör alltid övervaka din Azure-program att säkerställa att de är felfria och fungerar som väntat genom att:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-184">You should continuously monitor your Azure applications to ensure they are healthy and performing as expected by:</span></span>

* <span data-ttu-id="8eb7f-185">Etablera vissa baslinjen mått för program som gör att du kan jämföra aktuella data och identifiera betydande förändringar i beteendet för Azure storage och ditt program.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-185">Establishing some baseline metrics for application that will enable you to compare current data and identify any significant changes in the behavior of Azure storage and your application.</span></span> <span data-ttu-id="8eb7f-186">Värdena för baslinje-mätvärden, i många fall blir specifika program och du bör fastställa dem när du är prestandatestning ditt program.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-186">The values of your baseline metrics will, in many cases, be application specific and you should establish them when you are performance testing your application.</span></span>
* <span data-ttu-id="8eb7f-187">Registrering minut mått och använda dem för att övervaka aktivt för oväntade fel och inkonsekvenser, till exempel toppar i fel räknar eller be priser.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-187">Recording minute metrics and using them to monitor actively for unexpected errors and anomalies such as spikes in error counts or request rates.</span></span>
* <span data-ttu-id="8eb7f-188">Registrering av varje timme mått och använda dem för att övervaka genomsnittsvärden som genomsnittlig fel antal och begära priser.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-188">Recording hourly metrics and using them to monitor average values such as average error counts and request rates.</span></span>
* <span data-ttu-id="8eb7f-189">Undersöker möjliga problem med diagnosverktyg som beskrivs senare i avsnittet ”[diagnostisera problem med lagring]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-189">Investigating potential issues using diagnostics tools as discussed later in the section "[Diagnosing storage issues]."</span></span>

<span data-ttu-id="8eb7f-190">Diagrammen i bild 3 nedan visar hur medelvärdet som inträffar för varje timme mått kan dölja toppar i aktiviteten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-190">The charts in Figure 3 below illustrate how the averaging that occurs for hourly metrics can hide spikes in activity.</span></span> <span data-ttu-id="8eb7f-191">Varje timme mått visas en konstant andel begäranden under den minuten mått avslöja variationer som verkligen äger rum.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-191">The hourly metrics appear to show a steady rate of requests, while the minute metrics reveal the fluctuations that are really taking place.</span></span>

![][3]

<span data-ttu-id="8eb7f-192">Resten av det här avsnittet beskriver vilka mått som du bör övervaka och varför.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-192">The remainder of this section describes what metrics you should monitor and why.</span></span>

### <span data-ttu-id="8eb7f-193"><a name="monitoring-service-health"></a>Övervakning av tjänstens hälsa</span><span class="sxs-lookup"><span data-stu-id="8eb7f-193"><a name="monitoring-service-health"></a>Monitoring service health</span></span>
<span data-ttu-id="8eb7f-194">Du kan använda den [klassiska Azure-portalen](https://manage.windowsazure.com) att visa hälsotillståndet för lagringstjänsten (och andra Azure-tjänster) i alla regioner som Azure runtom i världen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-194">You can use the [Azure Classic Portal](https://manage.windowsazure.com) to view the health of the Storage service (and other Azure services) in all the Azure regions around the world.</span></span> <span data-ttu-id="8eb7f-195">På så sätt kan du direkt se om problemet inte kan kontrollera påverkar Storage-tjänsten i den region som du använder för ditt program.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-195">This enables you to see immediately if an issue outside of your control is affecting the Storage service in the region you use for your application.</span></span>

<span data-ttu-id="8eb7f-196">Den klassiska Azure-portalen kan också ge meddelanden om incidenter som påverkar olika Azure-tjänster.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-196">The Azure Classic Portal can also provide with notifications of incidents that affect the various Azure services.</span></span>
<span data-ttu-id="8eb7f-197">Obs: Den här informationen tidigare var tillgänglig, tillsammans med historiska data på instrumentpanelen för Azure-tjänsten på <a href="http://status.azure.com" target="_blank">http://status.azure.com</a>.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-197">Note: This information was previously available, along with historical data, on the Azure Service Dashboard at <a href="http://status.azure.com" target="_blank">http://status.azure.com</a>.</span></span>

<span data-ttu-id="8eb7f-198">När den klassiska Azure-portalen och samlar in hälsouppgifter från inuti Azure datacenter (innanför ut övervakning), kan även överväga införandet av en utanför metod för att generera syntetiska transaktioner som regelbundet åtkomst till din Azure-baserad webbtjänst program från flera platser.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-198">While the Azure Classic Portal collects health information from inside the Azure datacenters (inside-out monitoring), you could also consider adopting an outside-in approach to generate synthetic transactions that periodically access your Azure-hosted web application from multiple locations.</span></span> <span data-ttu-id="8eb7f-199">Tjänster som erbjuds av <a href="http://www.keynote.com/solutions/monitoring/web-monitoring" target="_blank">presentation</a>, <a href="https://www.gomeznetworks.com/?g=1" target="_blank">Gomez</a>, och Programinsikter för Visual Studio Team Services är exempel på den här metoden för utanför.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-199">The services offered by <a href="http://www.keynote.com/solutions/monitoring/web-monitoring" target="_blank">Keynote</a>, <a href="https://www.gomeznetworks.com/?g=1" target="_blank">Gomez</a>, and Application Insights for Visual Studio Team Services are examples of this outside-in approach.</span></span> <span data-ttu-id="8eb7f-200">Mer information om Application Insights för Visual Studio Team Services finns i tillägget ”[tillägg 5: övervaka med Programinsikter för Visual Studio Team Services]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-200">For more information about Application Insights for Visual Studio Team Services, see the appendix "[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]."</span></span>

### <span data-ttu-id="8eb7f-201"><a name="monitoring-capacity"></a>Övervakning av kapacitet</span><span class="sxs-lookup"><span data-stu-id="8eb7f-201"><a name="monitoring-capacity"></a>Monitoring capacity</span></span>
<span data-ttu-id="8eb7f-202">Storage-mätvärden lagrar bara kapacitetsdata för blob-tjänsten eftersom blobbar vanligtvis hänsyn till största del av lagrade data (vid tidpunkten för skrivning, det går inte att använda Storage-mätvärden för att övervaka kapacitet för tabeller och köer).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-202">Storage Metrics only stores capacity metrics for the blob service because blobs typically account for the largest proportion of stored data (at the time of writing, it is not possible to use Storage Metrics to monitor the capacity of your tables and queues).</span></span> <span data-ttu-id="8eb7f-203">Du hittar dessa data i den **$MetricsCapacityBlob** tabell om du har aktiverat övervakning för Blob-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-203">You can find this data in the **$MetricsCapacityBlob** table if you have enabled monitoring for the Blob service.</span></span> <span data-ttu-id="8eb7f-204">Storage-mätvärden registrerar dessa data en gång per dag, och du kan använda värdet för den **RowKey** att fastställa om raden innehåller en entitet som är kopplat till användardata (värdet **data**) eller analysdata (värdet **analytics**).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-204">Storage Metrics records this data once per day, and you can use the value of the **RowKey** to determine whether the row contains an entity that relates to user data (value **data**) or analytics data (value **analytics**).</span></span> <span data-ttu-id="8eb7f-205">Varje lagrade entitet innehåller information om hur mycket lagringsutrymme som används (**kapacitet** mätt i byte) och det aktuella antalet behållare (**ContainerCount**) och blobbar (**ObjectCount**) används i lagringskontot.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-205">Each stored entity contains information about the amount of storage used (**Capacity** measured in bytes) and the current number of containers (**ContainerCount**) and blobs (**ObjectCount**) in use in the storage account.</span></span> <span data-ttu-id="8eb7f-206">Mer information om kapacitetsdata som lagras i den **$MetricsCapacityBlob** tabell, se <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics mätvärden tabellschemat</a> på MSDN.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-206">For more information about the capacity metrics stored in the **$MetricsCapacityBlob** table, see <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics Metrics Table Schema</a> on MSDN.</span></span>

> [!NOTE]
> <span data-ttu-id="8eb7f-207">Du bör övervaka de här värdena för en tidig varning att du närmar dig kapacitetsbegränsningar för ditt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-207">You should monitor these values for an early warning that you are approaching the capacity limits of your storage account.</span></span> <span data-ttu-id="8eb7f-208">I den klassiska Azure-portalen på den **övervakaren** sidan för ditt lagringskonto kan du lägga till Varningsregler för att meddela dig om sammanställd lagringsanvändning överskrider eller understiger tröskelvärden som du anger.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-208">In the Azure Classic Portal, on the **Monitor** page for your storage account, you can add alert rules to notify you if aggregate storage use exceeds or falls below thresholds that you specify.</span></span>
> 
> 

<span data-ttu-id="8eb7f-209">Om du behöver hjälp uppskatta storlek för olika lagringsobjekt,, till exempel blobbar, finns i bloggposten <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx" target="_blank">förstå Azure Storage fakturering – bandbredd, transaktioner och kapacitet</a>.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-209">For help estimating the size of various storage objects such as blobs, see the blog post <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx" target="_blank">Understanding Azure Storage Billing – Bandwidth, Transactions, and Capacity</a>.</span></span>

### <span data-ttu-id="8eb7f-210"><a name="monitoring-availability"></a>Övervaka tillgänglighet</span><span class="sxs-lookup"><span data-stu-id="8eb7f-210"><a name="monitoring-availability"></a>Monitoring availability</span></span>
<span data-ttu-id="8eb7f-211">Du bör övervaka tillgängligheten för storage-tjänster i ditt lagringskonto genom att övervaka värdet i den **tillgänglighet** kolumn i tabellerna timvis eller minut mått – **$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-211">You should monitor the availability of the storage services in your storage account by monitoring the value in the **Availability** column in the hourly or minute metrics tables — **$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**.</span></span> <span data-ttu-id="8eb7f-212">Den **tillgänglighet** kolumnen innehåller ett procentvärde som visar tillgängligheten för tjänsten eller API-åtgärd som representeras av raden (den **RowKey** visar om raden innehåller mått för tjänsten som helhet eller för en specifik åtgärd API).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-212">The **Availability** column contains a percentage value that indicates the availability of the service or the API operation represented by the row (the **RowKey** shows if the row contains metrics for the service as a whole or for a specific API operation).</span></span>

<span data-ttu-id="8eb7f-213">Alla värdet som är mindre än 100% anger att vissa lagringsbegäranden skickas.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-213">Any value less than 100% indicates that some storage requests are failing.</span></span> <span data-ttu-id="8eb7f-214">Du kan se varför de inte genom att undersöka andra kolumner i mätvärdesdata som visar antalet begäranden med olika feltyper som **ServerTimeoutError**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-214">You can see why they are failing by examining the other columns in the metrics data that show the numbers of requests with different error types such as **ServerTimeoutError**.</span></span> <span data-ttu-id="8eb7f-215">Du bör se **tillgänglighet** tillfälligt faller under 100% skäl, till exempel tillfälligt server-timeout när tjänsten flyttar partitioner till bättre belastningsutjämning begäran; logik för omprövning i ditt klientprogram ska hantera dessa återkommande villkor.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-215">You should expect to see **Availability** fall temporarily below 100% for reasons such as transient server timeouts while the service moves partitions to better load-balance request; the retry logic in your client application should handle such intermittent conditions.</span></span> <span data-ttu-id="8eb7f-216">Sidan <a href="http://msdn.microsoft.com/library/azure/hh343260.aspx" target="_blank"> </a> visar transaktionstyper med Storage-mätvärden i dess **tillgänglighet** beräkning.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-216">The page <a href="http://msdn.microsoft.com/library/azure/hh343260.aspx" target="_blank"></a> lists the transaction types that Storage Metrics includes in its **Availability** calculation.</span></span>

<span data-ttu-id="8eb7f-217">I den klassiska Azure-portalen på den **övervakaren** sidan för ditt lagringskonto kan du lägga till Varningsregler för att meddela dig om **tillgänglighet** för en tjänst som ligger under ett tröskelvärde som du anger.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-217">In the Azure Classic Portal, on the **Monitor** page for your storage account, you can add alert rules to notify you if **Availability** for a service falls below a threshold that you specify.</span></span>

<span data-ttu-id="8eb7f-218">Den ”[felsökningsanvisningar]” i den här guiden beskriver några vanliga storage service problem som rör tillgängligheten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-218">The "[Troubleshooting guidance]" section of this guide describes some common storage service issues related to availability.</span></span>

### <span data-ttu-id="8eb7f-219"><a name="monitoring-performance"></a>Övervaka prestanda</span><span class="sxs-lookup"><span data-stu-id="8eb7f-219"><a name="monitoring-performance"></a>Monitoring performance</span></span>
<span data-ttu-id="8eb7f-220">Du kan använda följande mått från varje timme och minut mått tabeller för att övervaka prestanda för storage-tjänster.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-220">To monitor the performance of the storage services, you can use the following metrics from the hourly and minute metrics tables.</span></span>

* <span data-ttu-id="8eb7f-221">Värdena i den **AverageE2ELatency** och **AverageServerLatency** visar den genomsnittliga tiden lagringstjänsten eller API åtgärdstypen tar det att bearbeta begäranden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-221">The values in the **AverageE2ELatency** and **AverageServerLatency** show the average time the storage service or API operation type is taking to process requests.</span></span> <span data-ttu-id="8eb7f-222">**AverageE2ELatency** är ett mått på svarstid för slutpunkt-till-slutpunkt som innehåller den tid det tar att läsa begäran och skicka svaret förutom den tid det tar att bearbeta begäran (därför omfattar Nätverksfördröjningen när begäran når lagringstjänsten); **AverageServerLatency** är ett mått på bara bearbetningstiden och därför utesluter alla nätverks-svarstid som är relaterade till att kommunicera med klienten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-222">**AverageE2ELatency** is a measure of end-to-end latency that includes the time taken to read the request and send the response in addition to the time taken to process the request (therefore includes network latency once the request reaches the storage service); **AverageServerLatency** is a measure of just the processing time and therefore excludes any network latency related to communicating with the client.</span></span> <span data-ttu-id="8eb7f-223">Se avsnittet ”[mätvärdena visar AverageE2ELatency hög och låg AverageServerLatency]” senare i den här guiden för en beskrivning av varför det finnas betydande skillnader mellan dessa två värden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-223">See the section "[Metrics show high AverageE2ELatency and low AverageServerLatency]" later in this guide for a discussion of why there might be a significant difference between these two values.</span></span>
* <span data-ttu-id="8eb7f-224">Värdena i den **TotalIngress** och **TotalEgress** kolumner visar den totala mängden data i byte, kommer till och kommer utanför lagringstjänsten eller via en viss typ för API-åtgärden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-224">The values in the **TotalIngress** and **TotalEgress** columns show the total amount of data, in bytes, coming in to and going out of your storage service or through a specific API operation type.</span></span>
* <span data-ttu-id="8eb7f-225">Värdena i den **TotalRequests** kolumn visar det totala antalet förfrågningar som tar emot lagringstjänsten av API-åtgärd.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-225">The values in the **TotalRequests** column show the total number of requests that the storage service of API operation is receiving.</span></span> <span data-ttu-id="8eb7f-226">**TotalRequests** är det totala antalet förfrågningar som tar emot storage-tjänst.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-226">**TotalRequests** is the total number of requests that the storage service receives.</span></span>

<span data-ttu-id="8eb7f-227">Normalt ska övervakas av oväntade förändringar i någon av dessa värden som en indikator på att du har ett problem som kräver en undersökning.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-227">Typically, you will monitor for unexpected changes in any of these values as an indicator that you have an issue that requires investigation.</span></span>

<span data-ttu-id="8eb7f-228">I den klassiska Azure-portalen på den **övervakaren** sidan för ditt lagringskonto kan du lägga till Varningsregler för att meddela dig om något av prestandamåtten för den här tjänsten faller under eller överskrider ett tröskelvärde som du anger.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-228">In the Azure Classic Portal, on the **Monitor** page for your storage account, you can add alert rules to notify you if any of the performance metrics for this service fall below or exceed a threshold that you specify.</span></span>

<span data-ttu-id="8eb7f-229">Den ”[felsökningsanvisningar]” i den här guiden beskriver några vanliga storage service problem relaterade till prestanda.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-229">The "[Troubleshooting guidance]" section of this guide describes some common storage service issues related to performance.</span></span>

## <span data-ttu-id="8eb7f-230"><a name="diagnosing-storage-issues"></a>Diagnostisera problem med lagring</span><span class="sxs-lookup"><span data-stu-id="8eb7f-230"><a name="diagnosing-storage-issues"></a>Diagnosing storage issues</span></span>
<span data-ttu-id="8eb7f-231">Det finns ett antal sätt att kan du blir medveten om problem och frågor i ditt program, bland annat:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-231">There are a number of ways that you might become aware of a problem or issue in your application, these include:</span></span>

* <span data-ttu-id="8eb7f-232">Ett allvarligt fel inträffar som gör att programmet kraschar eller slutar fungera.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-232">A major failure that causes the application to crash or to stop working.</span></span>
* <span data-ttu-id="8eb7f-233">Betydande förändringar från baslinjevärdena i de mätvärden som du övervakar enligt beskrivningen i föregående avsnitt ”[övervakning lagringstjänsten]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-233">Significant changes from baseline values in the metrics you are monitoring as described in the previous section "[Monitoring your storage service]."</span></span>
* <span data-ttu-id="8eb7f-234">-Rapporter från användare av ditt program inte har en viss åtgärd slutförs som förväntat eller att vissa funktionen inte fungerar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-234">Reports from users of your application that some particular operation didn't complete as expected or that some feature is not working.</span></span>
* <span data-ttu-id="8eb7f-235">Fel som har genererats i programmet som visas i loggfiler eller via någon annan metod för meddelande.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-235">Errors generated within your application that appear in log files or through some other notification method.</span></span>

<span data-ttu-id="8eb7f-236">Normalt problem relaterade till Azure-lagringstjänster indelas i fyra kategorier:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-236">Typically, issues related to Azure storage services fall into one of four broad categories:</span></span>

* <span data-ttu-id="8eb7f-237">Programmet har ett prestandaproblem rapporteras av användarna eller framgick av ändringar i prestandamåtten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-237">Your application has a performance issue, either reported by your users, or revealed by changes in the performance metrics.</span></span>
* <span data-ttu-id="8eb7f-238">Det finns ett problem med Azure Storage-infrastrukturen i en eller flera regioner.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-238">There is a problem with the Azure Storage infrastructure in one or more regions.</span></span>
* <span data-ttu-id="8eb7f-239">Programmet har uppstått ett fel rapporterat av användarna eller visas med en ökning i någon av fel antal mått som du övervakar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-239">Your application is encountering an error, either reported by your users, or revealed by an increase in one of the error count metrics you monitor.</span></span>
* <span data-ttu-id="8eb7f-240">Under utveckling och testning, kan du använda den lokala lagringsemulatorn; Du kan stöta på problem som rör särskilt användning av storage-emulatorn.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-240">During development and test, you may be using the local storage emulator; you may encounter some issues that relate specifically to usage of the storage emulator.</span></span>

<span data-ttu-id="8eb7f-241">I följande avsnitt beskrivs de steg som du bör följa att diagnostisera och felsöka problem i alla dessa fyra kategorier.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-241">The following sections outline the steps you should follow to diagnose and troubleshoot issues in each of these four categories.</span></span> <span data-ttu-id="8eb7f-242">I avsnittet ”[felsökningsanvisningar]” senare i den här guiden ger fler detaljer för några vanliga problem du kan stöta på.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-242">The section "[Troubleshooting guidance]" later in this guide provides more detail for some common issues you may encounter.</span></span>

### <span data-ttu-id="8eb7f-243"><a name="service-health-issues"></a>Hälsotillståndsproblem med tjänsten för</span><span class="sxs-lookup"><span data-stu-id="8eb7f-243"><a name="service-health-issues"></a>Service health issues</span></span>
<span data-ttu-id="8eb7f-244">Tjänstens hälsotillstånd är vanligtvis inte kan kontrollera.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-244">Service health issues are typically outside of your control.</span></span> <span data-ttu-id="8eb7f-245">Den klassiska Azure-portalen innehåller information om pågående problem med Azure-tjänster inklusive lagringstjänster.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-245">The Azure Classic Portal provides information about any ongoing issues with Azure services including storage services.</span></span> <span data-ttu-id="8eb7f-246">Om du har valt för Geo-Redundant lagring med läsbehörighet när du skapade ditt lagringskonto, kunde sedan om dina data som inte var tillgänglig i den primära platsen tillämpningsprogrammet tillfälligt växla till skrivskyddad kopia på den sekundära platsen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-246">If you opted for Read-Access Geo-Redundant Storage when you created your storage account, then in the event of your data being unavailable in the primary location, your application could switch temporarily to the read-only copy in the secondary location.</span></span> <span data-ttu-id="8eb7f-247">Om du vill göra detta måste ditt program kan växla mellan att använda de primära och sekundära lagringsplatser och kan arbeta i begränsat läge med skrivskyddade data.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-247">To do this, your application must be able to switch between using the primary and secondary storage locations, and be able to work in a reduced functionality mode with read-only data.</span></span> <span data-ttu-id="8eb7f-248">Azure Storage-klientbibliotek kan du definiera en återförsöksprincip som kan läsa från sekundär lagring om en läsning från primära lagring misslyckas.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-248">The Azure Storage Client libraries allow you to define a retry policy that can read from secondary storage in case a read from primary storage fails.</span></span> <span data-ttu-id="8eb7f-249">Programmet måste också vara medveten om att data på den sekundära platsen är överensstämmelse.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-249">Your application also needs to be aware that the data in the secondary location is eventually consistent.</span></span> <span data-ttu-id="8eb7f-250">Mer information finns i bloggposten <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/04/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx" target="_blank">Azure lagringsalternativ för redundans och Geo-Redundant lagring med läsbehörighet</a>.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-250">For more information, see the blog post <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/04/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx" target="_blank">Azure Storage Redundancy Options and Read Access Geo Redundant Storage</a>.</span></span>

### <span data-ttu-id="8eb7f-251"><a name="performance-issues"></a>Prestandaproblem</span><span class="sxs-lookup"><span data-stu-id="8eb7f-251"><a name="performance-issues"></a>Performance issues</span></span>
<span data-ttu-id="8eb7f-252">Upplevelsen av programprestanda kan vara högst subjektiv, särskilt från ett användarperspektiv.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-252">The performance of an application can be subjective, especially from a user perspective.</span></span> <span data-ttu-id="8eb7f-253">Därför är det viktigt att ha tillgång till jämförelsemått, så att du tydligt ser när det blir problem med prestandan.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-253">Therefore, it is important to have baseline metrics available to help you identify where there might be a performance issue.</span></span> <span data-ttu-id="8eb7f-254">Många faktorer kan påverka prestanda för ett Azure storage-tjänst ur klientens perspektiv för programmet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-254">Many factors might affect the performance of an Azure storage service from the client application perspective.</span></span> <span data-ttu-id="8eb7f-255">Dessa faktorer kan fungera i lagringstjänsten, klienten eller nätverksinfrastruktur. Det är därför viktigt att ha en strategi för att identifiera prestandaproblem ursprung.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-255">These factors might operate in the storage service, in the client, or in the network infrastructure; therefore it is important to have a strategy for identifying the origin of the performance issue.</span></span>

<span data-ttu-id="8eb7f-256">När du har identifierat sannolika var orsaken till prestandaproblemet från mätvärdena använda du sedan loggfilerna för att hitta detaljerad information för att diagnostisera och Felsök problemet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-256">After you have identified the likely location of the cause of the performance issue from the metrics, you can then use the log files to find detailed information to diagnose and troubleshoot the problem further.</span></span>

<span data-ttu-id="8eb7f-257">I avsnittet ”[felsökningsanvisningar]” senare i den här guiden ger mer information om vanliga prestanda relaterade problem som du kan stöta på.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-257">The section "[Troubleshooting guidance]" later in this guide provides more information about some common performance related issues you may encounter.</span></span>

### <span data-ttu-id="8eb7f-258"><a name="diagnosing-errors"></a>Diagnostisera fel</span><span class="sxs-lookup"><span data-stu-id="8eb7f-258"><a name="diagnosing-errors"></a>Diagnosing errors</span></span>
<span data-ttu-id="8eb7f-259">Användare av ditt program kan meddela dig om felen som rapporteras av klientprogrammet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-259">Users of your application may notify you of errors reported by the client application.</span></span> <span data-ttu-id="8eb7f-260">Storage-mätvärden även information om antal fel för olika typer av storage-tjänster som **NetworkError**, **ClientTimeoutError**, eller **AuthorizationError**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-260">Storage Metrics also records counts of different error types from your storage services such as **NetworkError**, **ClientTimeoutError**, or **AuthorizationError**.</span></span> <span data-ttu-id="8eb7f-261">Medan Storage-mätvärden spelar bara antal olika feltyper, hittar du mer information om enskilda begäranden genom att undersöka serversidan och klientsidan loggar för nätverket.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-261">While Storage Metrics only records counts of different error types, you can obtain more detail about individual requests by examining server-side, client-side, and network logs.</span></span> <span data-ttu-id="8eb7f-262">Normalt ger HTTP-statuskoden som returnerades av lagringstjänsten en indikation om varför begäran misslyckades.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-262">Typically, the HTTP status code returned by the storage service will give an indication of why the request failed.</span></span>

> [!NOTE]
> <span data-ttu-id="8eb7f-263">Kom ihåg att du bör se återkommande fel: till exempel fel på grund av tillfälliga nätverksproblem eller programfel.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-263">Remember that you should expect to see some intermittent errors: for example, errors due to transient network conditions, or application errors.</span></span>
> 
> 

<span data-ttu-id="8eb7f-264">I följande resurser på MSDN är användbara för att förstå lagringsrelaterade status och felkoder:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-264">The following resources on MSDN are useful for understanding storage-related status and error codes:</span></span>

* <span data-ttu-id="8eb7f-265"><a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">Vanliga REST API-felkoder</a></span><span class="sxs-lookup"><span data-stu-id="8eb7f-265"><a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">Common REST API Error Codes</a></span></span>
* <span data-ttu-id="8eb7f-266"><a href="http://msdn.microsoft.com/library/azure/dd179439.aspx" target="_blank">Felkoder för BLOB-tjänst</a></span><span class="sxs-lookup"><span data-stu-id="8eb7f-266"><a href="http://msdn.microsoft.com/library/azure/dd179439.aspx" target="_blank">Blob Service Error Codes</a></span></span>
* <span data-ttu-id="8eb7f-267"><a href="http://msdn.microsoft.com/library/azure/dd179446.aspx" target="_blank">Felkoder för kön</a></span><span class="sxs-lookup"><span data-stu-id="8eb7f-267"><a href="http://msdn.microsoft.com/library/azure/dd179446.aspx" target="_blank">Queue Service Error Codes</a></span></span>
* <span data-ttu-id="8eb7f-268"><a href="http://msdn.microsoft.com/library/azure/dd179438.aspx" target="_blank">Felkoder för tabellen</a></span><span class="sxs-lookup"><span data-stu-id="8eb7f-268"><a href="http://msdn.microsoft.com/library/azure/dd179438.aspx" target="_blank">Table Service Error Codes</a></span></span>

### <span data-ttu-id="8eb7f-269"><a name="storage-emulator-issues"></a>Storage-emulatorn problem</span><span class="sxs-lookup"><span data-stu-id="8eb7f-269"><a name="storage-emulator-issues"></a>Storage emulator issues</span></span>
<span data-ttu-id="8eb7f-270">Azure SDK innehåller en storage-emulatorn som du kan köra på en arbetsstation för utveckling.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-270">The Azure SDK includes a storage emulator you can run on a development workstation.</span></span> <span data-ttu-id="8eb7f-271">Den här emulatorn simulerar de flesta beteendet för Azure storage-tjänster och är användbart under utveckling och testning, så att du kan köra program som använder Azure storage-tjänster utan att behöva en Azure-prenumeration och ett Azure storage-konto.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-271">This emulator simulates most of the behavior of the Azure storage services and is useful during development and test, enabling you to run applications that use Azure storage services without the need for an Azure subscription and an Azure storage account.</span></span>

<span data-ttu-id="8eb7f-272">Den ”[felsökningsanvisningar]” i den här guiden beskriver några vanliga problem som uppstod med storage-emulatorn.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-272">The "[Troubleshooting guidance]" section of this guide describes some common issues encountered using the storage emulator.</span></span>

### <span data-ttu-id="8eb7f-273"><a name="storage-logging-tools"></a>Loggningsverktyg för lagring</span><span class="sxs-lookup"><span data-stu-id="8eb7f-273"><a name="storage-logging-tools"></a>Storage logging tools</span></span>
<span data-ttu-id="8eb7f-274">Storage-loggning innehåller serversidan loggningen av lagring i ditt Azure storage-konto.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-274">Storage Logging provides server-side logging of storage requests in your Azure storage account.</span></span> <span data-ttu-id="8eb7f-275">Mer information om hur du aktiverar loggning på serversidan och komma åt loggdata finns <a href="http://go.microsoft.com/fwlink/?LinkId=510867" target="_blank">med hjälp av serversidan loggning</a> på MSDN.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-275">For more information about how to enable server-side logging and access the log data, see <a href="http://go.microsoft.com/fwlink/?LinkId=510867" target="_blank">Using server-side logging</a> on MSDN.</span></span>

<span data-ttu-id="8eb7f-276">Storage-klientbiblioteket för .NET kan du samla in loggdata för klientsidan som är kopplat till storage-åtgärder som utförs av ditt program.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-276">The Storage Client Library for .NET enables you to collect client-side log data that relates to storage operations performed by your application.</span></span> <span data-ttu-id="8eb7f-277">Mer information om hur du aktiverar loggning på klientsidan och få åtkomst till loggdata finns <a href="http://go.microsoft.com/fwlink/?LinkId=510868" target="_blank">klientsidan loggning med Storage-klientbiblioteket</a> på MSDN.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-277">For more information about how to enable client-side logging and access the log data, see <a href="http://go.microsoft.com/fwlink/?LinkId=510868" target="_blank">Client-side logging using the Storage Client Library</a> on MSDN.</span></span>

> [!NOTE]
> <span data-ttu-id="8eb7f-278">I vissa fall (till exempel SAS auktoriseringsproblem) kan en användare rapportera ett fel som du kan hitta inga data om begäran i loggarna för serversidan lagring.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-278">In some circumstances (such as SAS authorization failures), a user may report an error for which you can find no request data in the server-side Storage logs.</span></span> <span data-ttu-id="8eb7f-279">Du kan använda funktioner för loggning av Storage-klientbiblioteket för att ta reda på om problemet beror på klienten eller använda verktyg för nätverksövervakning för att undersöka nätverket.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-279">You can use the logging capabilities of the Storage Client Library to investigate if the cause of the issue is on the client or use network monitoring tools to investigate the network.</span></span>
> 
> 

### <span data-ttu-id="8eb7f-280"><a name="using-network-logging-tools"></a>Med hjälp av verktyg för loggning</span><span class="sxs-lookup"><span data-stu-id="8eb7f-280"><a name="using-network-logging-tools"></a>Using network logging tools</span></span>
<span data-ttu-id="8eb7f-281">Du kan avbilda trafik mellan klienten och servern för att tillhandahålla detaljerad information om de data som klienten och servern utbyter och underliggande nätverksförhållanden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-281">You can capture the traffic between the client and server to provide detailed information about the data the client and server are exchanging and the underlying network conditions.</span></span> <span data-ttu-id="8eb7f-282">Användbara verktyg för loggning är:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-282">Useful network logging tools include:</span></span>

* <span data-ttu-id="8eb7f-283">Fiddler (<a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>) är en gratis webbplatser felsökning proxy som du kan undersöka sidhuvuden och nyttolasten för HTTP och HTTPS-begäran och svar-meddelanden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-283">Fiddler (<a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>) is a free web debugging proxy that enables you to examine the headers and payload data of HTTP and HTTPS request and response messages.</span></span> <span data-ttu-id="8eb7f-284">Mer information finns i ”[bilaga 1: använder Fiddler för att samla in HTTP och HTTPS-trafik]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-284">For more information, see "[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]".</span></span>
* <span data-ttu-id="8eb7f-285">Microsoft Network Monitor (Netmon) (<a href="http://www.microsoft.com/download/details.aspx?id=4865" target="_blank">http://www.microsoft.com/download/details.aspx?id=4865</a>) och Wireshark (<a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>) är ledigt nätverk protokollet analyzers som möjliggör Du kan visa detaljerad paketinformationen för en mängd olika nätverksprotokoll.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-285">Microsoft Network Monitor (Netmon) (<a href="http://www.microsoft.com/download/details.aspx?id=4865" target="_blank">http://www.microsoft.com/download/details.aspx?id=4865</a>) and Wireshark (<a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>) are free network protocol analyzers that enable you to view detailed packet information for a wide range of network protocols.</span></span> <span data-ttu-id="8eb7f-286">Läs mer om Wireshark ”[bilaga 2: använda Wireshark att avbilda nätverkstrafik]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-286">For more information about Wireshark, see "[Appendix 2: Using Wireshark to capture network traffic]".</span></span>
* <span data-ttu-id="8eb7f-287">Microsoft Message Analyzer är ett verktyg från Microsoft som ersätter Netmon och att hämta paket nätverksdata, kan du visa och analysera loggdata som hämtats från andra verktyg.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-287">Microsoft Message Analyzer is a tool from Microsoft that supersedes Netmon and that in addition to capturing network packet data, helps you to view and analyze the log data captured from other tools.</span></span> <span data-ttu-id="8eb7f-288">Mer information finns i ”[tillägg 3: använda Microsoft Message Analyzer att avbilda nätverkstrafik]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-288">For more information, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]".</span></span>
* <span data-ttu-id="8eb7f-289">Om du vill utföra en grundläggande anslutningstest för att kontrollera att klientdatorn kan ansluta till Azure storage-tjänst i nätverket, du kan göra detta med vanlig **ping** verktyget på klienten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-289">If you want to perform a basic connectivity test to check that your client machine can connect to the Azure storage service over the network, you cannot do this using the standard **ping** tool on the client.</span></span> <span data-ttu-id="8eb7f-290">Du kan använda den **tcping** verktyg för att kontrollera anslutningen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-290">However, you can use the **tcping** tool to check connectivity.</span></span> <span data-ttu-id="8eb7f-291">**Tcping** är tillgänglig för hämtning på <a href="http://www.elifulkerson.com/projects/tcping.php" target="_blank">http://www.elifulkerson.com/projects/tcping.php</a>.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-291">**Tcping** is available for download at <a href="http://www.elifulkerson.com/projects/tcping.php" target="_blank">http://www.elifulkerson.com/projects/tcping.php</a>.</span></span>

<span data-ttu-id="8eb7f-292">Loggdata från lagring loggning och Storage-klientbiblioteket ska vara tillräcklig för att diagnostisera problem i många fall, men i vissa fall kan du behöva mer detaljerad information som kan tillhandahålla dessa verktyg för loggning.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-292">In many cases, the log data from Storage Logging and the Storage Client Library will be sufficient to diagnose an issue, but in some scenarios, you may need the more detailed information that these network logging tools can provide.</span></span> <span data-ttu-id="8eb7f-293">Med Fiddler visa HTTP och HTTPS-meddelanden kan du visa huvudet och nyttolasten data som skickas till och från storage-tjänster som gör att du kan granska hur ett klientprogram försöker lagringsåtgärder.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-293">For example, using Fiddler to view HTTP and HTTPS messages enables you to view header and payload data sent to and from the storage services, which would enable you to examine how a client application retries storage operations.</span></span> <span data-ttu-id="8eb7f-294">Protokollet analyzers, till exempel Wireshark fungerar på paketnivå som gör att du kan visa data för TCP, vilket gör att du kan felsöka förlorade paket och problem med nätverksanslutningen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-294">Protocol analyzers such as Wireshark operate at the packet level enabling you to view TCP data, which would enable you to troubleshoot lost packets and connectivity issues.</span></span> <span data-ttu-id="8eb7f-295">Message Analyzer kan köras på både HTTP och TCP-lager.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-295">Message Analyzer can operate at both HTTP and TCP layers.</span></span>

## <span data-ttu-id="8eb7f-296"><a name="end-to-end-tracing"></a>Slutpunkt till slutpunkt-spårning</span><span class="sxs-lookup"><span data-stu-id="8eb7f-296"><a name="end-to-end-tracing"></a>End-to-end tracing</span></span>
<span data-ttu-id="8eb7f-297">Spårning för slutpunkt till slutpunkt med ett antal olika loggfiler är en användbar teknik för att undersöka potentiella problem.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-297">End-to-end tracing using a variety of log files is a useful technique for investigating potential issues.</span></span> <span data-ttu-id="8eb7f-298">Du kan använda datum/tid-informationen från dina data mått som en indikation på var du vill börja söka i loggfiler för detaljerad information som hjälper dig att felsöka problemet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-298">You can use the date/time information from your metrics data as an indication of where to start looking in the log files for the detailed information that will help you troubleshoot the issue.</span></span>

### <span data-ttu-id="8eb7f-299"><a name="correlating-log-data"></a>Korrelerar loggdata</span><span class="sxs-lookup"><span data-stu-id="8eb7f-299"><a name="correlating-log-data"></a>Correlating log data</span></span>
<span data-ttu-id="8eb7f-300">När du visar loggar från klientprogram spårar nätverk och lagring för serversidan loggning är det viktigt att kunna korrelera begäranden mellan de olika loggfilerna.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-300">When viewing logs from client applications, network traces, and server-side storage logging it is critical to be able to correlate requests across the different log files.</span></span> <span data-ttu-id="8eb7f-301">Loggfilerna innehåller ett antal olika fält som är användbara Korrelations-ID: n.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-301">The log files include a number of different fields that are useful as correlation identifiers.</span></span> <span data-ttu-id="8eb7f-302">Klient-id för begäran är mest användbara fältet som används för att korrelera poster i olika loggarna.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-302">The client request id is the most useful field to use to correlate entries in the different logs.</span></span> <span data-ttu-id="8eb7f-303">Men ibland kan det vara praktiskt att använda server begäran-id eller tidsstämplar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-303">However sometimes, it can be useful to use either the server request id or timestamps.</span></span> <span data-ttu-id="8eb7f-304">Följande avsnitt innehåller mer information om dessa alternativ.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-304">The following sections provide more details about these options.</span></span>

### <span data-ttu-id="8eb7f-305"><a name="client-request-id"></a>ID för klientbegäran</span><span class="sxs-lookup"><span data-stu-id="8eb7f-305"><a name="client-request-id"></a>Client request ID</span></span>
<span data-ttu-id="8eb7f-306">Storage-klientbiblioteket genererar automatiskt ett unikt id för klientbegäran för varje begäran.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-306">The Storage Client Library automatically generates a unique client request id for every request.</span></span>

* <span data-ttu-id="8eb7f-307">I loggen för klientsidan som skapar Storage-klientbiblioteket, klient-id för begäran som visas i den **ID för klientbegäran** i varje loggpost som rör begäran.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-307">In the client-side log that the Storage Client Library creates, the client request id appears in the **Client Request ID** field of every log entry relating to the request.</span></span>
* <span data-ttu-id="8eb7f-308">En spårning i nätverket, till exempel en avbildas Fiddler, klient-id för begäran är synligt i begärandemeddelanden som den **x-ms-client-request-id** värde för HTTP-huvudet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-308">In a network trace such as one captured by Fiddler, the client request id is visible in request messages as the **x-ms-client-request-id** HTTP header value.</span></span>
* <span data-ttu-id="8eb7f-309">I serversidan lagring loggning loggfilen visas klient-id för begäran i kolumnen klient-ID för begäran.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-309">In the server-side Storage Logging log, the client request id appears in the Client request ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="8eb7f-310">Det är möjligt för flera begäranden att dela samma begäran-id för klienten eftersom klienten tilldelas värdet (även om Storage-klientbiblioteket tilldelar automatiskt ett nytt värde).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-310">It is possible for multiple requests to share the same client request id because the client can assign this value (although the Storage Client Library assigns a new value automatically).</span></span> <span data-ttu-id="8eb7f-311">Alla försök dela samma klient begäran-id för återförsök från klienten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-311">In the case of retries from the client, all attempts share the same client request id.</span></span> <span data-ttu-id="8eb7f-312">När det gäller en batch som skickats från klienten batchen en enskild klient-id för förfrågan.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-312">In the case of a batch sent from the client, the batch has a single client request id.</span></span>
> 
> 

### <span data-ttu-id="8eb7f-313"><a name="server-request-id"></a>Server-ID för begäran</span><span class="sxs-lookup"><span data-stu-id="8eb7f-313"><a name="server-request-id"></a>Server request ID</span></span>
<span data-ttu-id="8eb7f-314">Lagringstjänsten genererar automatiskt server begäran-ID: n.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-314">The storage service automatically generates server request ids.</span></span>

* <span data-ttu-id="8eb7f-315">Det begärt-id visas i loggen lagring loggning serversidan den **huvud för begäran-ID** kolumn.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-315">In the server-side Storage Logging log, the server request id appears the **Request ID header** column.</span></span>
* <span data-ttu-id="8eb7f-316">I en spårning i nätverket, till exempel en avbildas av Fiddler, visas det begärt-id i svarsmeddelanden som den **x-ms-begäran-id** värde för HTTP-huvudet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-316">In a network trace such as one captured by Fiddler, the server request id appears in response messages as the **x-ms-request-id** HTTP header value.</span></span>
* <span data-ttu-id="8eb7f-317">I loggen för klientsidan som skapar Storage-klientbiblioteket, det begärt-id som visas i den **åtgärden Text** för loggposten visar information om svaret från servern.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-317">In the client-side log that the Storage Client Library creates, the server request id appears in the **Operation Text** column for the log entry showing details of the server response.</span></span>

> [!NOTE]
> <span data-ttu-id="8eb7f-318">Lagringstjänsten tilldelar alltid en unik server begärande-id till varje begäran som den tar emot så att varje nytt försök från klienten och varje funktion som ingår i en batch har unika server begäran-id.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-318">The storage service always assigns a unique server request id to every request it receives, so every retry attempt from the client and every operation included in a batch has a unique server request id.</span></span>
> 
> 

<span data-ttu-id="8eb7f-319">Om Storage-klientbiblioteket genererar en **StorageException** i klienten den **RequestInformation** -egenskapen innehåller en **RequestResult** -objekt som innehåller en **ServiceRequestID** egenskapen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-319">If the Storage Client Library throws a **StorageException** in the client, the **RequestInformation** property contains a **RequestResult** object that includes a **ServiceRequestID** property.</span></span> <span data-ttu-id="8eb7f-320">Du kan också komma åt en **RequestResult** objekt från en **OperationContext** instans.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-320">You can also access a **RequestResult** object from an **OperationContext** instance.</span></span>

<span data-ttu-id="8eb7f-321">Kodexemplet nedan visar hur du anger en anpassad **ClientRequestId** värde genom att koppla en **OperationContext** objekt-begäran till storage-tjänst.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-321">The code sample below demonstrates how to set a custom **ClientRequestId** value by attaching an **OperationContext** object the request to the storage service.</span></span> <span data-ttu-id="8eb7f-322">Visar även hur du hämtar den **ServerRequestId** värde från svarsmeddelandet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-322">It also shows how to retrieve the **ServerRequestId** value from the response message.</span></span>

```csharp
//Parse the connection string for the storage account.
const string ConnectionString = "DefaultEndpointsProtocol=https;AccountName=account-name;AccountKey=account-key";
CloudStorageAccount storageAccount = CloudStorageAccount.Parse(ConnectionString);
CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();

// Create an Operation Context that includes custom ClientRequestId string based on constants defined within the application along with a Guid.
OperationContext oc = new OperationContext();
oc.ClientRequestID = String.Format("{0} {1} {2} {3}", HOSTNAME, APPNAME, USERID, Guid.NewGuid().ToString());

try
{
    CloudBlobContainer container = blobClient.GetContainerReference("democontainer");
    ICloudBlob blob = container.GetBlobReferenceFromServer("testImage.jpg", null, null, oc);  
    var downloadToPath = string.Format("./{0}", blob.Name);
    using (var fs = File.OpenWrite(downloadToPath))
    {
        blob.DownloadToStream(fs, null, null, oc);
        Console.WriteLine("\t Blob downloaded to file: {0}", downloadToPath);
    }
}
catch (StorageException storageException)
{
    Console.WriteLine("Storage exception {0} occurred", storageException.Message);
    // Multiple results may exist due to client side retry logic - each retried operation will have a unique ServiceRequestId
    foreach (var result in oc.RequestResults)
    {
            Console.WriteLine("HttpStatus: {0}, ServiceRequestId {1}", result.HttpStatusCode, result.ServiceRequestID);
    }
}
```

### <span data-ttu-id="8eb7f-323"><a name="timestamps"></a>Tidsstämplar</span><span class="sxs-lookup"><span data-stu-id="8eb7f-323"><a name="timestamps"></a>Timestamps</span></span>
<span data-ttu-id="8eb7f-324">Du kan också använda tidsstämplar för att hitta relaterade loggposter, men var försiktig med en förskjutning av klockan mellan klienten och servern som kan finnas.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-324">You can also use timestamps to locate related log entries, but be careful of any clock skew between the client and server that may exist.</span></span> <span data-ttu-id="8eb7f-325">Du bör söka plus eller minus 15 minuter för att matcha serversidan poster baserat på tidsstämpeln på klienten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-325">You should search plus or minus 15 minutes for matching server-side entries based on the timestamp on the client.</span></span> <span data-ttu-id="8eb7f-326">Kom ihåg att blobmetadata för blob som innehåller mått Anger tidsintervall för de mätvärden som lagras i blob; Detta är användbart om du har många mått BLOB för samma minut eller timme.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-326">Remember that the blob metadata for the blobs containing metrics indicates the time range for the metrics stored in the blob; this is useful if you have many metrics blobs for the same minute or hour.</span></span>

## <span data-ttu-id="8eb7f-327"><a name="troubleshooting-guidance"></a>Riktlinjer för felsökning</span><span class="sxs-lookup"><span data-stu-id="8eb7f-327"><a name="troubleshooting-guidance"></a>Troubleshooting guidance</span></span>
<span data-ttu-id="8eb7f-328">Det här avsnittet hjälper dig med diagnos och felsökning av vanliga problem ditt program kan uppstå när du använder Azure-lagringstjänster.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-328">This section will help you with the diagnosis and troubleshooting of some of the common issues your application may encounter when using the Azure storage services.</span></span> <span data-ttu-id="8eb7f-329">Använd listan nedan för att hitta informationen som är relevant för ditt problem.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-329">Use the list below to locate the information relevant to your specific issue.</span></span>

<span data-ttu-id="8eb7f-330">**Felsökning av beslutsträdet**</span><span class="sxs-lookup"><span data-stu-id="8eb7f-330">**Troubleshooting Decision Tree**</span></span>

- - -
<span data-ttu-id="8eb7f-331">Problemet relaterar till prestanda för en av lagringstjänsterna?</span><span class="sxs-lookup"><span data-stu-id="8eb7f-331">Does your issue relate to the performance of one of the storage services?</span></span>

* <span data-ttu-id="8eb7f-332">[mätvärdena visar AverageE2ELatency hög och låg AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-332">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
* <span data-ttu-id="8eb7f-333">[Mätningar visar låga värden för AverageE2ELatency och AverageServerLatency, men klienten har ändå långa svarstider]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-333">[Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency]</span></span>
* <span data-ttu-id="8eb7f-334">[Mätningar visar ett högt värde för AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-334">[Metrics show high AverageServerLatency]</span></span>
* <span data-ttu-id="8eb7f-335">[Du upplever oväntade fördröjningar i en köad meddelandeleverans]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-335">[You are experiencing unexpected delays in message delivery on a queue]</span></span>

- - -
<span data-ttu-id="8eb7f-336">Ditt problem som rör tillgängligheten för en av lagringstjänsterna?</span><span class="sxs-lookup"><span data-stu-id="8eb7f-336">Does your issue relate to the availability of one of the storage services?</span></span>

* <span data-ttu-id="8eb7f-337">[mätvärdena visar en ökning i PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-337">[Metrics show an increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="8eb7f-338">[mätvärdena visar en ökning i PercentTimeoutError]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-338">[Metrics show an increase in PercentTimeoutError]</span></span>
* <span data-ttu-id="8eb7f-339">[Mätningar visar en ökning i PercentNetworkError]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-339">[Metrics show an increase in PercentNetworkError]</span></span>

- - -
<span data-ttu-id="8eb7f-340">Klientprogrammet tar emot en HTTP-svar som 4XX (till exempel 404) från en lagringstjänsten?</span><span class="sxs-lookup"><span data-stu-id="8eb7f-340">Is your client application receiving an HTTP 4XX (such as 404) response from a storage service?</span></span>

* <span data-ttu-id="8eb7f-341">[Klienten tar emot HTTP 403 (förbjuden) meddelanden]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-341">[The client is receiving HTTP 403 (Forbidden) messages]</span></span>
* <span data-ttu-id="8eb7f-342">[Klienten tar emot HTTP 404 (inget hittas) meddelanden]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-342">[The client is receiving HTTP 404 (Not found) messages]</span></span>
* <span data-ttu-id="8eb7f-343">[Klienten tar emot HTTP 409 (konflikt) meddelanden]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-343">[The client is receiving HTTP 409 (Conflict) messages]</span></span>

- - -
<span data-ttu-id="8eb7f-344">[mätvärdena visar låg PercentSuccess eller analytics loggposter innehålla åtgärder med transaktionsstatus av ClientOtherErrors]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-344">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>

- - -
<span data-ttu-id="8eb7f-345">[Kapacitetsdata visar en oväntad ökning i kapacitetsförbrukning för lagring]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-345">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>

- - -
<span data-ttu-id="8eb7f-346">[Det uppstår oväntade omstarter av virtuella datorer som har ett stort antal anslutna virtuella hårddiskar]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-346">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>

- - -
<span data-ttu-id="8eb7f-347">[Problemet uppstår från med hjälp av storage-emulatorn för utveckling eller testning]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-347">[Your issue arises from using the storage emulator for development or test]</span></span>

- - -
<span data-ttu-id="8eb7f-348">[Det uppstår problem med att installera Azure SDK för .NET]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-348">[You are encountering problems installing the Azure SDK for .NET]</span></span>

- - -
<span data-ttu-id="8eb7f-349">[Du har ett annat problem med en storage-tjänst]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-349">[You have a different issue with a storage service]</span></span>

- - -
### <span data-ttu-id="8eb7f-350"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Mätvärdena visar AverageE2ELatency hög och låg AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="8eb7f-350"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show high AverageE2ELatency and low AverageServerLatency</span></span>
<span data-ttu-id="8eb7f-351">Bild blåser bort från den klassiska Azure-portalen övervakningsverktyg visar ett exempel där den **AverageE2ELatency** är avsevärt högre än den **AverageServerLatency**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-351">The illustration blow from the Azure Classic Portal monitoring tool shows an example where the **AverageE2ELatency** is significantly higher than the **AverageServerLatency**.</span></span>

![][4]

<span data-ttu-id="8eb7f-352">Observera att lagringstjänsten endast beräknar måttet **AverageE2ELatency** för lyckade begäranden och till skillnad från **AverageServerLatency**, innehåller den tid som klienten använder för att skicka data och få godkännande från storage-tjänst.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-352">Note that the storage service only calculates the metric **AverageE2ELatency** for successful requests and, unlike **AverageServerLatency**, includes the time the client takes to send the data and receive acknowledgement from the storage service.</span></span> <span data-ttu-id="8eb7f-353">Därför skillnad mellan **AverageE2ELatency** och **AverageServerLatency** kan vara antingen på grund av klientprogrammet som svarar långsamt eller på grund av villkor i nätverket.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-353">Therefore, a difference between **AverageE2ELatency** and **AverageServerLatency** could be either due to the client application being slow to respond, or due to conditions on the network.</span></span>

> [!NOTE]
> <span data-ttu-id="8eb7f-354">Du kan också visa **E2ELatency** och **ServerLatency** logga data för enskilda lagringsåtgärder i loggning av lagring.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-354">You can also view **E2ELatency** and **ServerLatency** for individual storage operations in the Storage Logging log data.</span></span>
> 
> 

#### <a name="investigating-client-performance-issues"></a><span data-ttu-id="8eb7f-355">Undersöka prestandaproblem för klienten</span><span class="sxs-lookup"><span data-stu-id="8eb7f-355">Investigating client performance issues</span></span>
<span data-ttu-id="8eb7f-356">Möjliga orsaker till klienten svarar långsamt inkluderar med ett begränsat antal tillgängliga anslutningar eller -trådar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-356">Possible reasons for the client responding slowly include having a limited number of available connections or threads.</span></span> <span data-ttu-id="8eb7f-357">Du kanske kan lösa problemet genom att ändra klientkod så att mer effektivt (till exempel med hjälp av asynkrona anrop till tjänsten storage) eller genom att använda en större virtuell dator (med flera kärnor och mer minne).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-357">You may be able to resolve the issue by modifying the client code to be more efficient (for example by using asynchronous calls to the storage service), or by using a larger Virtual Machine (with more cores and more memory).</span></span>

<span data-ttu-id="8eb7f-358">För tjänsterna tabell och kön algoritmen Nagle kan också orsakas av hög **AverageE2ELatency** jämfört med **AverageServerLatency**: Mer information finns i inlägg <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx" target="_blank">Nagles algoritm är inte egna gentemot små begäran</a> på den Microsoft Azure Storage-teamets blogg.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-358">For the table and queue services, the Nagle algorithm can also cause high **AverageE2ELatency** as compared to **AverageServerLatency**: for more information see the post <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx" target="_blank">Nagle's Algorithm is Not Friendly towards Small Requests</a> on the Microsoft Azure Storage Team Blog.</span></span> <span data-ttu-id="8eb7f-359">Du kan inaktivera algoritmen Nagle i kod med hjälp av den **ServicePointManager** klassen i den **System.Net** namnområde.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-359">You can disable the Nagle algorithm in code by using the **ServicePointManager** class in the **System.Net** namespace.</span></span> <span data-ttu-id="8eb7f-360">Du bör göra detta innan du gör ett anrop till tabellen eller queue-tjänster i ditt program eftersom det inte påverkar anslutningar som redan är öppna.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-360">You should do this before you make any calls to the table or queue services in your application since this does not affect connections that are already open.</span></span> <span data-ttu-id="8eb7f-361">I följande exempel kommer från den **Application_Start** metod i en arbetsroll.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-361">The following example comes from the **Application_Start** method in a worker role.</span></span>

```csharp
var storageAccount = CloudStorageAccount.Parse(connStr);
ServicePoint tableServicePoint = ServicePointManager.FindServicePoint(storageAccount.TableEndpoint);
tableServicePoint.UseNagleAlgorithm = false;
ServicePoint queueServicePoint = ServicePointManager.FindServicePoint(storageAccount.QueueEndpoint);
queueServicePoint.UseNagleAlgorithm = false;
```

<span data-ttu-id="8eb7f-362">Du bör kontrollera klientsidan-loggarna för att se hur många begäranden att klientprogrammet skickar och Sök efter allmän .NET relaterade flaskhalsar i din klient, till exempel CPU, .NET skräpinsamling, belastningen på nätverket eller minne (som en startpunkt vid felsökning av .NET-klientprogram <a href="http://msdn.microsoft.com/library/7fe0dd2y(v=vs.110).aspx" target="_blank">felsökning och spårning Profiling</a> på MSDN).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-362">You should check the client-side logs to see how many requests your client application is submitting, and check for general .NET related performance bottlenecks in your client such as CPU, .NET garbage collection, network utilization, or memory (as a starting point for troubleshooting .NET client applications, see <a href="http://msdn.microsoft.com/library/7fe0dd2y(v=vs.110).aspx" target="_blank">Debugging, Tracing, and Profiling</a> on MSDN).</span></span>

#### <a name="investigating-network-latency-issues"></a><span data-ttu-id="8eb7f-363">Undersöka problem med nätverkssvarstiden</span><span class="sxs-lookup"><span data-stu-id="8eb7f-363">Investigating network latency issues</span></span>
<span data-ttu-id="8eb7f-364">Fördröjningar som slutpunkt till slutpunkt på grund av nätverket är vanligtvis på grund av övergående förhållanden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-364">Typically, high end-to-end latency caused by the network is due to transient conditions.</span></span> <span data-ttu-id="8eb7f-365">Du kan undersöka både tillfälliga och permanenta nätverksproblem, till exempel ignorerade paket med hjälp av verktyg som Wireshark eller Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-365">You can investigate both transient and persistent network issues such as dropped packets by using tools such as Wireshark or Microsoft Message Analyzer.</span></span>

<span data-ttu-id="8eb7f-366">Mer information om hur du använder Wireshark felsökning av nätverksproblem finns ”[bilaga 2: använda Wireshark att avbilda nätverkstrafik]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-366">For more information about using Wireshark to troubleshoot network issues, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="8eb7f-367">Mer information om hur du använder Microsoft Message Analyzer felsökning av nätverksproblem finns ”[tillägg 3: använda Microsoft Message Analyzer att avbilda nätverkstrafik]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-367">For more information about using Microsoft Message Analyzer to troubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

### <span data-ttu-id="8eb7f-368"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Mätvärdena visar låg AverageE2ELatency och låg AverageServerLatency men klienten har hög fördröjning</span><span class="sxs-lookup"><span data-stu-id="8eb7f-368"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency</span></span>
<span data-ttu-id="8eb7f-369">I det här fallet är den troligaste orsaken en fördröjning i lagring begäran når storage-tjänst.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-369">In this scenario, the most likely cause is a delay in the storage requests reaching the storage service.</span></span> <span data-ttu-id="8eb7f-370">Du bör undersöka varför förfrågningar från klienten inte gör det via blob-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-370">You should investigate why requests from the client are not making it through to the blob service.</span></span>

<span data-ttu-id="8eb7f-371">Möjliga orsaker till klienten att skicka förfrågningar inkluderar med ett begränsat antal tillgängliga anslutningar eller -trådar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-371">Possible reasons for the client delaying sending requests include having a limited number of available connections or threads.</span></span> <span data-ttu-id="8eb7f-372">Du bör också kontrollera om klienten utför upprepade försök och ta reda på varför om så är fallet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-372">You should also check if the client is performing multiple retries, and investigate the reason if this is the case.</span></span> <span data-ttu-id="8eb7f-373">Du kan göra detta via programmering genom att titta i den **OperationContext** objekt som är kopplad till begäran och hämta de **ServerRequestId** värde.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-373">You can do this programmatically by looking in the **OperationContext** object associated with the request and retrieving the **ServerRequestId** value.</span></span> <span data-ttu-id="8eb7f-374">Mer information finns i kodexemplet i avsnittet ”[Server begäran-ID]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-374">For more information, see the code sample in the section "[Server request ID]."</span></span>

<span data-ttu-id="8eb7f-375">Om det inte finns några problem i klienten, bör du undersöka potentiella nätverksproblem, till exempel paketförlust.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-375">If there are no issues in the client, you should investigate potential network issues such as packet loss.</span></span> <span data-ttu-id="8eb7f-376">Du kan använda verktyg som Wireshark eller Microsoft Message Analyzer för att undersöka nätverksproblem.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-376">You can use tools such as Wireshark or Microsoft Message Analyzer to investigate network issues.</span></span>

<span data-ttu-id="8eb7f-377">Mer information om hur du använder Wireshark felsökning av nätverksproblem finns ”[bilaga 2: använda Wireshark att avbilda nätverkstrafik]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-377">For more information about using Wireshark to troubleshoot network issues, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="8eb7f-378">Mer information om hur du använder Microsoft Message Analyzer felsökning av nätverksproblem finns ”[tillägg 3: använda Microsoft Message Analyzer att avbilda nätverkstrafik]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-378">For more information about using Microsoft Message Analyzer to troubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

### <span data-ttu-id="8eb7f-379"><a name="metrics-show-high-AverageServerLatency"></a>Mätvärdena visar hög AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="8eb7f-379"><a name="metrics-show-high-AverageServerLatency"></a>Metrics show high AverageServerLatency</span></span>
<span data-ttu-id="8eb7f-380">Vid hög **AverageServerLatency** för blob-hämtningsbegäranden, bör du använda lagring loggning loggarna om det finns upprepade begäranden för samma blob (eller uppsättning blobbar).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-380">In the case of high **AverageServerLatency** for blob download requests, you should use the Storage Logging logs to see if there are repeated requests for the same blob (or set of blobs).</span></span> <span data-ttu-id="8eb7f-381">Blob-överföringar, bör du undersöka vilka block storlek klienten använder (till exempel blockerar mindre än 64 kB kan resultera i kostnaderna om läsningar finns också i mindre än 64 kB segment), och om flera klienter överför block på samma blobben parallellt.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-381">For blob upload requests, you should investigate what block size the client is using (for example, blocks less than 64K in size can result in overheads unless the reads are also in less than 64K chunks), and if multiple clients are uploading blocks to the same blob in parallel.</span></span> <span data-ttu-id="8eb7f-382">Du bör också kontrollera mått per minut för toppar i antalet begäranden som resulterar i mer än den per andra skalbarhetsmål: också se ”[mätvärdena visar en ökning i PercentTimeoutError]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-382">You should also check the per-minute metrics for spikes in the number of requests that result in exceeding the per second scalability targets: also see "[Metrics show an increase in PercentTimeoutError]."</span></span>

<span data-ttu-id="8eb7f-383">Om du ser högt **AverageServerLatency** blob hämtas begäranden när det upprepas begär samma blob eller uppsättning blobbar och sedan bör du cachelagring dessa blobar med hjälp av Azure Cache eller Azure Content Delivery Network (CDN).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-383">If you are seeing high **AverageServerLatency** for blob download requests when there are repeated requests the same blob or set of blobs, then you should consider caching these blobs using Azure Cache or the Azure Content Delivery Network (CDN).</span></span> <span data-ttu-id="8eb7f-384">Du kan förbättra genomflödet med hjälp av en större blockstorlek för överföringsbegäranden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-384">For upload requests, you can improve the throughput by using a larger block size.</span></span> <span data-ttu-id="8eb7f-385">För frågor till tabeller är det också möjligt att implementera klientcachelagring på klienter som utför åtgärder för samma fråga och där data inte ändras ofta.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-385">For queries to tables, it is also possible to implement client-side caching on clients that perform the same query operations and where the data doesn't change frequently.</span></span>

<span data-ttu-id="8eb7f-386">Hög **AverageServerLatency** värden kan också vara ett symtom på dåligt utformad tabeller eller frågor att resultera i genomsökningen eller som följer Lägg till/lägga ett mönster.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-386">High **AverageServerLatency** values can also be a symptom of poorly designed tables or queries that result in scan operations or that follow the append/prepend anti-pattern.</span></span> <span data-ttu-id="8eb7f-387">Se ”[mätvärdena visar en ökning i PercentThrottlingError]” mer information.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-387">See "[Metrics show an increase in PercentThrottlingError]" for more information.</span></span>

> [!NOTE]
> <span data-ttu-id="8eb7f-388">Du hittar en omfattande checklista prestanda checklista här: [Microsoft Azure Storage prestanda och skalbarhet checklista](storage-performance-checklist.md).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-388">You can find a comprehensive checklist performance checklist here: [Microsoft Azure Storage Performance and Scalability Checklist](storage-performance-checklist.md).</span></span>
> 
> 

### <span data-ttu-id="8eb7f-389"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>Det uppstår oväntade fördröjningar i leverans av meddelanden i en kö</span><span class="sxs-lookup"><span data-stu-id="8eb7f-389"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>You are experiencing unexpected delays in message delivery on a queue</span></span>
<span data-ttu-id="8eb7f-390">Om det uppstår en fördröjning mellan den tid som ett program lägger till ett meddelande till en kö och den tid det blir tillgängligt för att läsa från kön, bör du utföra följande steg för att diagnostisera problemet:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-390">If you are experiencing a delay between the time an application adds a message to a queue and the time it becomes available to read from the queue, then you should take the following steps to diagnose the issue:</span></span>

* <span data-ttu-id="8eb7f-391">Kontrollera att programmet har på att lägga till meddelanden i kön.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-391">Verify the application is successfully adding the messages to the queue.</span></span> <span data-ttu-id="8eb7f-392">Kontrollera att programmet inte försöker på nytt den **AddMessage** metoden flera gånger innan du lyckas.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-392">Check that the application is not retrying the **AddMessage** method several times before succeeding.</span></span> <span data-ttu-id="8eb7f-393">Storage-klientbibliotek loggarna visas alla upprepade försök av lagringsåtgärder.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-393">The Storage Client Library logs will show any repeated retries of storage operations.</span></span>
* <span data-ttu-id="8eb7f-394">Kontrollera det finns ingen klocka skeva mellan worker-rollen som lägger till meddelandet i kön och den arbetsroll som läser meddelandet från kön som gör det visas som om det uppstår en fördröjning i bearbetningen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-394">Verify there is no clock skew between the worker role that adds the message to the queue and the worker role that reads the message from the queue that makes it appear as if there is a delay in processing.</span></span>
* <span data-ttu-id="8eb7f-395">Kontrollera om den arbetsroll som läser meddelanden från kön skadad.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-395">Check if the worker role that reads the messages from the queue is failing.</span></span> <span data-ttu-id="8eb7f-396">Om en kö klient anropar den **GetMessage** metod men misslyckas att svara med en bekräftelse meddelandet förblir osynliga kön tills den **invisibilityTimeout** period har löpt ut.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-396">If a queue client calls the **GetMessage** method but fails to respond with an acknowledgement, the message will remain invisible on the queue until the **invisibilityTimeout** period expires.</span></span> <span data-ttu-id="8eb7f-397">Nu blir meddelandet tillgängliga för bearbetning av igen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-397">At this point, the message becomes available for processing again.</span></span>
* <span data-ttu-id="8eb7f-398">Kontrollera om kölängden ökar med tiden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-398">Check if the queue length is growing over time.</span></span> <span data-ttu-id="8eb7f-399">Detta kan inträffa om du inte har tillräcklig anställda att utföra alla meddelanden som andra personer monterar kön.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-399">This can occur if you do not have sufficient workers available to process all of the messages that other workers are placing on the queue.</span></span> <span data-ttu-id="8eb7f-400">Du bör kontrollera att mätvärdena som är att se om delete-begäranden misslyckas och antalet dequeue på meddelanden som kan tyda på upprepas misslyckade försök att ta bort meddelandet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-400">You should also check the metrics to see if delete requests are failing and the dequeue count on messages, which might indicate repeated failed attempts to delete the message.</span></span>
* <span data-ttu-id="8eb7f-401">Granska loggarna lagring loggning för alla åtgärder i kön som har högre än förväntat **E2ELatency** och **ServerLatency** värden under en längre tid än vanligt.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-401">Examine the Storage Logging logs for any queue operations that have higher than expected **E2ELatency** and **ServerLatency** values over a longer period of time than usual.</span></span>

### <span data-ttu-id="8eb7f-402"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Mätvärdena visar en ökning i PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="8eb7f-402"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Metrics show an increase in PercentThrottlingError</span></span>
<span data-ttu-id="8eb7f-403">Bandbreddsbegränsning fel uppstår när du överskrider skalbarhetsmål för storage-tjänst.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-403">Throttling errors occur when you exceed the scalability targets of a storage service.</span></span> <span data-ttu-id="8eb7f-404">Lagringstjänsten gör detta för att säkerställa att ingen enskild klient eller innehavare kan använda tjänsten på bekostnad av andra.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-404">The storage service does this to ensure that no single client or tenant can use the service at the expense of others.</span></span> <span data-ttu-id="8eb7f-405">Mer information finns i <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">Azure Storage skalbarhets- och prestandamål</a> detaljer om skalbarhetsmål för storage-konton och prestandamål för partitioner i storage-konton.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-405">For more information, see <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">Azure Storage Scalability and Performance Targets</a> for details on scalability targets for storage accounts and performance targets for partitions within storage accounts.</span></span>

<span data-ttu-id="8eb7f-406">Om den **PercentThrottlingError** måttet visar en ökning i procent av begäranden som misslyckas med felet bandbreddsbegränsning, måste du undersöka en av två scenarier:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-406">If the **PercentThrottlingError** metric show an increase in the percentage of requests that are failing with a throttling error, you need to investigate one of two scenarios:</span></span>

* <span data-ttu-id="8eb7f-407">[Tillfällig ökning PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-407">[Transient increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="8eb7f-408">[Permanent ökning PercentThrottlingError fel]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-408">[Permanent increase in PercentThrottlingError error]</span></span>

<span data-ttu-id="8eb7f-409">En ökning av **PercentThrottlingError** ofta uppstår samtidigt som en ökning av antalet förfrågningar om lagring, eller när du först läsa testa ditt program.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-409">An increase in **PercentThrottlingError** often occurs at the same time as an increase in the number of storage requests, or when you are initially load testing your application.</span></span> <span data-ttu-id="8eb7f-410">Detta kan också visa sig i klienten som ”503 servern upptagen” eller ”tidsgräns för 500 åtgärd” HTTP statusmeddelanden från lagringsåtgärder.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-410">This may also manifest itself in the client as "503 Server Busy" or "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

#### <span data-ttu-id="8eb7f-411"><a name="transient-increase-in-PercentThrottlingError"></a>Tillfällig ökning PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="8eb7f-411"><a name="transient-increase-in-PercentThrottlingError"></a>Transient increase in PercentThrottlingError</span></span>
<span data-ttu-id="8eb7f-412">Om du ser toppar i värdet för **PercentThrottlingError** som sammanfaller med perioder med hög aktivitet för program bör du implementera ett exponentiell (inte linjär) tillbaka av strategi för nya försök i din klient: Detta minskar omedelbar belastningen på partitionen och att ditt program om du vill jämna ut toppar i trafiken.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-412">If you are seeing spikes in the value of **PercentThrottlingError** that coincide with periods of high activity for the application, you should implement an exponential (not linear) back off strategy for retries in your client: this will reduce the immediate load on the partition and help your application to smooth out spikes in traffic.</span></span> <span data-ttu-id="8eb7f-413">Mer information om hur du implementerar försök principer med hjälp av Storage-klientbiblioteket finns <a href="http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx" target="_blank">Microsoft.WindowsAzure.Storage.RetryPolicies Namespace</a> på MSDN.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-413">For more information about how to implement retry policies using the Storage Client Library, see <a href="http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx" target="_blank">Microsoft.WindowsAzure.Storage.RetryPolicies Namespace</a> on MSDN.</span></span>

> [!NOTE]
> <span data-ttu-id="8eb7f-414">Du kan också se toppar i värdet för **PercentThrottlingError** som inte krockar med perioder med hög aktivitet för program: den troligaste orsaken är lagringstjänsten flytta partitioner för att förbättra belastningsutjämning.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-414">You may also see spikes in the value of **PercentThrottlingError** that do not coincide with periods of high activity for the application: the most likely cause here is the storage service moving partitions to improve load balancing.</span></span>
> 
> 

#### <span data-ttu-id="8eb7f-415"><a name="permanent-increase-in-PercentThrottlingError"></a>Permanent ökning PercentThrottlingError fel</span><span class="sxs-lookup"><span data-stu-id="8eb7f-415"><a name="permanent-increase-in-PercentThrottlingError"></a>Permanent increase in PercentThrottlingError error</span></span>
<span data-ttu-id="8eb7f-416">Om du ser ett konsekvent högt värde för **PercentThrottlingError** efter en permanent ökning i din transaktionsvolymer eller när du utför din första last testar för ditt program, måste du utvärdera hur ditt program använder partitioner för lagring och om den närmar sig skalbarhetsmål för ett lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-416">If you are seeing a consistently high value for **PercentThrottlingError** following a permanent increase in your transaction volumes, or when you are performing your initial load tests on your application, then you need to evaluate how your application is using storage partitions and whether it is approaching the scalability targets for a storage account.</span></span> <span data-ttu-id="8eb7f-417">Till exempel om du ser begränsning fel på en kö (som räknas som en enda partition), bör sedan du använda ytterligare köer kan sprida sig transaktioner över flera partitioner.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-417">For example, if you are seeing throttling errors on a queue (which counts as a single partition), then you should consider using additional queues to spread the transactions across multiple partitions.</span></span> <span data-ttu-id="8eb7f-418">Om du ser begränsning fel på en tabell, måste du bör du sprida dina transaktioner över flera partitioner med hjälp av ett brett spektrum av partitionsnyckelvärden med en annan partitioneringsschema.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-418">If you are seeing throttling errors on a table, you need to consider using a different partitioning scheme to spread your transactions across multiple partitions by using a wider range of partition key values.</span></span> <span data-ttu-id="8eb7f-419">En vanlig orsak till det här problemet är prepend/lägga till ett mönstret där du väljer datumet som partitionsnyckel och sedan alla data på en viss dag skrivs till en partition: belastning detta kan resultera i en flaskhals för skrivning.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-419">One common cause of this issue is the prepend/append anti-pattern where you select the date as the partition key and then all data on a particular day is written to one partition: under load, this can result in a write bottleneck.</span></span> <span data-ttu-id="8eb7f-420">Du bör du överväga en annan partitionering design, eller så kan du utvärdera om med blob storage kan vara en bättre lösning.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-420">You should either consider a different partitioning design or evaluate whether using blob storage might be a better solution.</span></span> <span data-ttu-id="8eb7f-421">Dessutom bör du kontrollera om begränsningen uppstår till följd av toppar i trafiken och undersöka sätt av Utjämning mönstret för förfrågningar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-421">You should also check if the throttling is occurring as a result of spikes in your traffic and investigate ways of smoothing your pattern of requests.</span></span>

<span data-ttu-id="8eb7f-422">Om du distribuerar dina transaktioner över flera partitioner, måste du fortfarande vara medveten om gränserna skalbarhet för lagringskontot.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-422">If you distribute your transactions across multiple partitions, you must still be aware of the scalability limits set for the storage account.</span></span> <span data-ttu-id="8eb7f-423">Till exempel om du använde tio köer bearbetning högst 2 000 1KB meddelanden per sekund vara på övergripande högst 20 000 meddelanden per sekund för lagringskontot.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-423">For example, if you used ten queues each processing the maximum of 2,000 1KB messages per second, you will be at the overall limit of 20,000 messages per second for the storage account.</span></span> <span data-ttu-id="8eb7f-424">Om du måste bearbeta fler än 20 000 enheter per sekund, bör du använda flera lagringskonton.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-424">If you need to process more than 20,000 entities per second, you should consider using multiple storage accounts.</span></span> <span data-ttu-id="8eb7f-425">Du bör också ha i åtanke att storleken på din begäran och entiteter har påverkas när lagringstjänsten begränsar klienterna: Om du har större begäranden och enheter kan du kanske att begränsas snabbare.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-425">You should also bear in mind that the size of your requests and entities has an impact on when the storage service throttles your clients: if you have larger requests and entities, you may be throttled sooner.</span></span>

<span data-ttu-id="8eb7f-426">Ineffektiv frågedesigntillståndet kan också medföra att träffa skalbarhetsbegränsningar för tabellpartitioner.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-426">Inefficient query design can also cause you to hit the scalability limits for table partitions.</span></span> <span data-ttu-id="8eb7f-427">Till exempel behöver en fråga med ett filter som endast väljer en procent av enheterna i en partition men som söker igenom alla entiteter i en partition åtkomst till varje entitet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-427">For example, a query with a filter that only selects one percent of the entities in a partition but that scans all the entities in a partition will need to access each entity.</span></span> <span data-ttu-id="8eb7f-428">Varje entitet läsa räknas som en av det totala antalet transaktioner i den aktuella partitionen; Därför kan du enkelt kan nå skalbarhetsmål.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-428">Every entity read will count towards the total number of transactions in that partition; therefore, you can easily reach the scalability targets.</span></span>

> [!NOTE]
> <span data-ttu-id="8eb7f-429">Din prestandatestning bör Visa inga ineffektiv frågan Designer i ditt program.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-429">Your performance testing should reveal any inefficient query designs in your application.</span></span>
> 
> 

### <span data-ttu-id="8eb7f-430"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Mätvärdena visar en ökning i PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="8eb7f-430"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Metrics show an increase in PercentTimeoutError</span></span>
<span data-ttu-id="8eb7f-431">Din mätvärdena visar en ökning av **PercentTimeoutError** för en storage-tjänster.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-431">Your metrics show an increase in **PercentTimeoutError** for one of your storage services.</span></span> <span data-ttu-id="8eb7f-432">På samma gång klienten tar emot en stor volym med ”tidsgräns för 500 åtgärd” HTTP statusmeddelanden från lagringsåtgärder.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-432">At the same time, the client receives a high volume of "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

> [!NOTE]
> <span data-ttu-id="8eb7f-433">Du kan se timeout-fel tillfälligt som lagringstjänsten läsa in saldon begäranden genom att flytta en partition till en ny server.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-433">You may see timeout errors temporarily as the storage service load balances requests by moving a partition to a new server.</span></span>
> 
> 

<span data-ttu-id="8eb7f-434">Den **PercentTimeoutError** mått är en sammanställning av följande mått: **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**, och **SASServerTimeoutError**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-434">The **PercentTimeoutError** metric is an aggregation of the following metrics: **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**, and **SASServerTimeoutError**.</span></span>

<span data-ttu-id="8eb7f-435">Server-timeout orsakas av ett fel på servern.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-435">The server timeouts are caused by an error on the server.</span></span> <span data-ttu-id="8eb7f-436">Klient-timeout bero på att en åtgärd på servern har överskridit tidsgränsen som angetts av klienten. en klient som använder Storage-klientbiblioteket kan till exempel ange en tidsgräns för en åtgärd med hjälp av den **ServerTimeout** -egenskapen för den **QueueRequestOptions** klass.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-436">The client timeouts happen because an operation on the server has exceeded the timeout specified by the client; for example, a client using the Storage Client Library can set a timeout for an operation by using the **ServerTimeout** property of the **QueueRequestOptions** class.</span></span>

<span data-ttu-id="8eb7f-437">Server-timeout tyda på ett problem med tjänsten storage som kräver ytterligare undersökning.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-437">Server timeouts indicate a problem with the storage service that requires further investigation.</span></span> <span data-ttu-id="8eb7f-438">Du kan använda mått för att se om du träffa skalbarhetsbegränsningar för tjänsten och identifiera eventuella toppar i trafik som kan orsaka det här problemet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-438">You can use metrics to see if you are hitting the scalability limits for the service and to identify any spikes in traffic that might be causing this problem.</span></span> <span data-ttu-id="8eb7f-439">Om problemet är tillfälligt, kan det bero på belastningsutjämning aktivitet i tjänsten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-439">If the problem is intermittent, it may be due to load-balancing activity in the service.</span></span> <span data-ttu-id="8eb7f-440">Om problemet inte orsakas av programmet träffa skalbarhetsbegränsningar för tjänsten är beständig, ska du höja ett supportproblem.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-440">If the problem is persistent and is not caused by your application hitting the scalability limits of the service, you should raise a support issue.</span></span> <span data-ttu-id="8eb7f-441">För klient-timeout måste du bestämma om tidsgränsen har angetts till ett lämpligt värde i klienten och antingen ändra timeout-värdet i klienten eller undersöka hur du kan förbättra prestanda för åtgärder i lagringstjänsten, till exempel genom att optimera dina frågor för tabellen eller minska storleken på dina meddelanden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-441">For client timeouts, you must decide if the timeout is set to an appropriate value in the client and either change the timeout value set in the client or investigate how you can improve the performance of the operations in the storage service, for example by optimizing your table queries or reducing the size of your messages.</span></span>

### <span data-ttu-id="8eb7f-442"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>Mätvärdena visar en ökning i PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="8eb7f-442"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>Metrics show an increase in PercentNetworkError</span></span>
<span data-ttu-id="8eb7f-443">Din mätvärdena visar en ökning av **PercentNetworkError** för en storage-tjänster.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-443">Your metrics show an increase in **PercentNetworkError** for one of your storage services.</span></span> <span data-ttu-id="8eb7f-444">Den **PercentNetworkError** mått är en sammanställning av följande mått: **NetworkError**, **AnonymousNetworkError**, och **SASNetworkError**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-444">The **PercentNetworkError** metric is an aggregation of the following metrics: **NetworkError**, **AnonymousNetworkError**, and **SASNetworkError**.</span></span> <span data-ttu-id="8eb7f-445">Dessa visas när lagringstjänsten uppstår ett fel när klienten begär lagring.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-445">These occur when the storage service detects a network error when the client makes a storage request.</span></span>

<span data-ttu-id="8eb7f-446">Den vanligaste orsaken till felet är en klient kopplar från innan tidsgränsen upphör att gälla i lagringstjänsten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-446">The most common cause of this error is a client disconnecting before a timeout expires in the storage service.</span></span> <span data-ttu-id="8eb7f-447">Du bör undersöka koden i din klient att förstå varför och när klienten kopplas från storage-tjänst.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-447">You should investigate the code in your client to understand why and when the client disconnects from the storage service.</span></span> <span data-ttu-id="8eb7f-448">Du kan också använda Wireshark, Microsoft Message Analyzer eller Tcping för att undersöka problem med nätverksanslutningen från klienten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-448">You can also use Wireshark, Microsoft Message Analyzer, or Tcping to investigate network connectivity issues from the client.</span></span> <span data-ttu-id="8eb7f-449">Dessa verktyg beskrivs i den [tilläggen].</span><span class="sxs-lookup"><span data-stu-id="8eb7f-449">These tools are described in the [Appendices].</span></span>

### <span data-ttu-id="8eb7f-450"><a name="the-client-is-receiving-403-messages"></a>Klienten tar emot HTTP 403 (förbjuden) meddelanden</span><span class="sxs-lookup"><span data-stu-id="8eb7f-450"><a name="the-client-is-receiving-403-messages"></a>The client is receiving HTTP 403 (Forbidden) messages</span></span>
<span data-ttu-id="8eb7f-451">Om klientprogrammet har egna HTTP 403 (förbjuden) fel är en trolig orsak att klienten använder en utgången delade signatur åtkomst (SAS) när den skickar en begäran om lagring (även om andra möjliga orsaker kan vara klockan skeva ogiltig nycklar och tom rubriker).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-451">If your client application is throwing HTTP 403 (Forbidden) errors, a likely cause is that the client is using an expired Shared Access Signature (SAS) when it sends a storage request (although other possible causes include clock skew, invalid keys, and empty headers).</span></span> <span data-ttu-id="8eb7f-452">Om en utgången SAS-nyckel är orsaken, visas inte några poster i lagring loggning loggdata för serversidan.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-452">If an expired SAS key is the cause, you will not see any entries in the server-side Storage Logging log data.</span></span> <span data-ttu-id="8eb7f-453">I följande tabell visas ett exempel på klientsidan loggen genereras av Storage-klientbiblioteket som illustrerar det här problemet inträffar:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-453">The following table shows a sample from the client-side log generated by the Storage Client Library that illustrates this issue occurring:</span></span>

| <span data-ttu-id="8eb7f-454">Källa</span><span class="sxs-lookup"><span data-stu-id="8eb7f-454">Source</span></span> | <span data-ttu-id="8eb7f-455">Detaljnivå</span><span class="sxs-lookup"><span data-stu-id="8eb7f-455">Verbosity</span></span> | <span data-ttu-id="8eb7f-456">Detaljnivå</span><span class="sxs-lookup"><span data-stu-id="8eb7f-456">Verbosity</span></span> | <span data-ttu-id="8eb7f-457">Id för klientbegäran</span><span class="sxs-lookup"><span data-stu-id="8eb7f-457">Client request id</span></span> | <span data-ttu-id="8eb7f-458">Åtgärden text</span><span class="sxs-lookup"><span data-stu-id="8eb7f-458">Operation text</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="8eb7f-459">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="8eb7f-459">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="8eb7f-460">Information</span><span class="sxs-lookup"><span data-stu-id="8eb7f-460">Information</span></span> |<span data-ttu-id="8eb7f-461">3</span><span class="sxs-lookup"><span data-stu-id="8eb7f-461">3</span></span> |<span data-ttu-id="8eb7f-462">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-462">85d077ab-…</span></span> |<span data-ttu-id="8eb7f-463">Starta åtgärden med platsen primära per plats läge PrimaryOnly.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-463">Starting operation with location Primary per location mode PrimaryOnly.</span></span> |
| <span data-ttu-id="8eb7f-464">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="8eb7f-464">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="8eb7f-465">Information</span><span class="sxs-lookup"><span data-stu-id="8eb7f-465">Information</span></span> |<span data-ttu-id="8eb7f-466">3</span><span class="sxs-lookup"><span data-stu-id="8eb7f-466">3</span></span> |<span data-ttu-id="8eb7f-467">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-467">85d077ab -…</span></span> |<span data-ttu-id="8eb7f-468">Starta synkron begäran om att https://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr = c&amp;si = mypolicy&amp;sig = OFnd4Rd7z01fIvh % 2BmcR6zbudIH2F5Ikm % 2FyhNYZEmJNQ % 3D&amp;api-version = 2014-02-14.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-468">Starting synchronous request to https://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr=c&amp;si=mypolicy&amp;sig=OFnd4Rd7z01fIvh%2BmcR6zbudIH2F5Ikm%2FyhNYZEmJNQ%3D&amp;api-version=2014-02-14.</span></span> |
| <span data-ttu-id="8eb7f-469">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="8eb7f-469">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="8eb7f-470">Information</span><span class="sxs-lookup"><span data-stu-id="8eb7f-470">Information</span></span> |<span data-ttu-id="8eb7f-471">3</span><span class="sxs-lookup"><span data-stu-id="8eb7f-471">3</span></span> |<span data-ttu-id="8eb7f-472">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-472">85d077ab -…</span></span> |<span data-ttu-id="8eb7f-473">Väntar på svar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-473">Waiting for response.</span></span> |
| <span data-ttu-id="8eb7f-474">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="8eb7f-474">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="8eb7f-475">Varning</span><span class="sxs-lookup"><span data-stu-id="8eb7f-475">Warning</span></span> |<span data-ttu-id="8eb7f-476">2</span><span class="sxs-lookup"><span data-stu-id="8eb7f-476">2</span></span> |<span data-ttu-id="8eb7f-477">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-477">85d077ab -…</span></span> |<span data-ttu-id="8eb7f-478">Ett undantag uppstod under väntan på svar: fjärrservern returnerade ett fel: (403) nekad...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-478">Exception thrown while waiting for response: The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="8eb7f-479">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="8eb7f-479">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="8eb7f-480">Information</span><span class="sxs-lookup"><span data-stu-id="8eb7f-480">Information</span></span> |<span data-ttu-id="8eb7f-481">3</span><span class="sxs-lookup"><span data-stu-id="8eb7f-481">3</span></span> |<span data-ttu-id="8eb7f-482">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-482">85d077ab -…</span></span> |<span data-ttu-id="8eb7f-483">Svar mottogs.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-483">Response received.</span></span> <span data-ttu-id="8eb7f-484">Statuskod = 403 begäran-ID = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-484">Status code = 403, Request ID = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="8eb7f-485">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="8eb7f-485">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="8eb7f-486">Varning</span><span class="sxs-lookup"><span data-stu-id="8eb7f-486">Warning</span></span> |<span data-ttu-id="8eb7f-487">2</span><span class="sxs-lookup"><span data-stu-id="8eb7f-487">2</span></span> |<span data-ttu-id="8eb7f-488">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-488">85d077ab -…</span></span> |<span data-ttu-id="8eb7f-489">Ett undantag uppstod under åtgärden: fjärrservern returnerade ett fel: (403) nekad...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-489">Exception thrown during the operation: The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="8eb7f-490">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="8eb7f-490">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="8eb7f-491">Information</span><span class="sxs-lookup"><span data-stu-id="8eb7f-491">Information</span></span> |<span data-ttu-id="8eb7f-492">3</span><span class="sxs-lookup"><span data-stu-id="8eb7f-492">3</span></span> |<span data-ttu-id="8eb7f-493">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-493">85d077ab -…</span></span> |<span data-ttu-id="8eb7f-494">Kontrollerar om åtgärden bör provas igen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-494">Checking if the operation should be retried.</span></span> <span data-ttu-id="8eb7f-495">Antal försök = 0, HTTP-statuskod = 403 undantag = fjärrservern returnerade ett fel: (403) nekad...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-495">Retry count = 0, HTTP status code = 403, Exception = The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="8eb7f-496">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="8eb7f-496">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="8eb7f-497">Information</span><span class="sxs-lookup"><span data-stu-id="8eb7f-497">Information</span></span> |<span data-ttu-id="8eb7f-498">3</span><span class="sxs-lookup"><span data-stu-id="8eb7f-498">3</span></span> |<span data-ttu-id="8eb7f-499">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-499">85d077ab -…</span></span> |<span data-ttu-id="8eb7f-500">Nästa plats har angetts till primära, baserat på plats.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-500">The next location has been set to Primary, based on the location mode.</span></span> |
| <span data-ttu-id="8eb7f-501">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="8eb7f-501">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="8eb7f-502">Fel</span><span class="sxs-lookup"><span data-stu-id="8eb7f-502">Error</span></span> |<span data-ttu-id="8eb7f-503">1</span><span class="sxs-lookup"><span data-stu-id="8eb7f-503">1</span></span> |<span data-ttu-id="8eb7f-504">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-504">85d077ab -…</span></span> |<span data-ttu-id="8eb7f-505">Återförsöksprincipen tillät inte för ett nytt försök.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-505">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="8eb7f-506">Misslyckas med fjärrservern returnerade ett fel: (403) förbjuden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-506">Failing with The remote server returned an error: (403) Forbidden.</span></span> |

<span data-ttu-id="8eb7f-507">Du bör undersöka varför SAS-token upphör att gälla innan klienten skickar token till servern i det här scenariot:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-507">In this scenario, you should investigate why the SAS token is expiring before the client sends the token to the server:</span></span>

* <span data-ttu-id="8eb7f-508">Normalt bör du inte ange en starttid som när du skapar en SAS för en klient att använda direkt.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-508">Typically, you should not set a start time when you create a SAS for a client to use immediately.</span></span> <span data-ttu-id="8eb7f-509">Om det finns liten klocka skillnader mellan värden generera SAS med hjälp av den aktuella tiden och storage-tjänst är det möjligt för storage-tjänsten för att få en SAS inte är giltigt ännu.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-509">If there are small clock differences between the host generating the SAS using the current time and the storage service, then it is possible for the storage service to receive a SAS that is not yet valid.</span></span>
* <span data-ttu-id="8eb7f-510">Du bör inte ange en mycket kort förfallotid på en SAS.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-510">You should not set a very short expiry time on a SAS.</span></span> <span data-ttu-id="8eb7f-511">Igen, liten klocka skillnaderna mellan värden som genererar SAS och storage-tjänst kan leda till en SAS uppenbarligen ut tidigare än förväntat.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-511">Again, small clock differences between the host generating the SAS and the storage service can lead to a SAS apparently expiring earlier than anticipated.</span></span>
* <span data-ttu-id="8eb7f-512">Har versionsparametern i SAS-nyckeln (till exempel **SA = 2012-02-12**) matchar versionen av Storage-klientbiblioteket som du använder.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-512">Does the version parameter in the SAS key (for example **sv=2012-02-12**) match the version of the Storage Client Library you are using.</span></span> <span data-ttu-id="8eb7f-513">Du bör alltid använda den senaste versionen av klientbiblioteket.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-513">You should always use the latest version of the Storage Client Library.</span></span> <span data-ttu-id="8eb7f-514">Mer information om SAS-token versionshantering finns [vad är nytt för Microsoft Azure Storage](http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/14/what-s-new-for-microsoft-azure-storage-at-teched-2014.aspx).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-514">For more information about SAS token versioning, see [What's new for Microsoft Azure Storage](http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/14/what-s-new-for-microsoft-azure-storage-at-teched-2014.aspx).</span></span>
* * <span data-ttu-id="8eb7f-515">Om du återskapar dina åtkomstnycklar för lagring (klicka på **hantera åtkomstnycklar** på valfri sida i ditt lagringskonto i den klassiska Azure-portalen) kan detta ogiltigförklara eventuella befintliga SAS-token.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-515">If you regenerate your storage access keys (click **Manage Access Keys** on any page in your storage account in the Azure Classic Portal) this can invalidate any existing SAS tokens.</span></span> <span data-ttu-id="8eb7f-516">Detta kan vara ett problem om du generera en SAS-token med en lång förfallotiden för klientprogram som ska cachelagras.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-516">This may be an issue if you generate SAS tokens with a long expiry time for client applications to cache.</span></span>

<span data-ttu-id="8eb7f-517">Om du använder Storage-klientbiblioteket för att generera SAS-token, är det enkelt att skapa en giltig token.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-517">If you are using the Storage Client Library to generate SAS tokens, then it is easy to build a valid token.</span></span> <span data-ttu-id="8eb7f-518">Men om du använder Storage REST-API och hur du skapar SAS token manuellt du noga läsa avsnittet <a href="http://msdn.microsoft.com/library/azure/ee395415.aspx" target="_blank">delegera åtkomst med en signatur för delad åtkomst</a> på MSDN.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-518">However, if you are using the Storage REST API and constructing the SAS tokens by hand you should carefully read the topic <a href="http://msdn.microsoft.com/library/azure/ee395415.aspx" target="_blank">Delegating Access with a Shared Access Signature</a> on MSDN.</span></span>

### <span data-ttu-id="8eb7f-519"><a name="the-client-is-receiving-404-messages"></a>Klienten tar emot HTTP 404 (inget hittas) meddelanden</span><span class="sxs-lookup"><span data-stu-id="8eb7f-519"><a name="the-client-is-receiving-404-messages"></a>The client is receiving HTTP 404 (Not found) messages</span></span>
<span data-ttu-id="8eb7f-520">Om klientprogrammet får felmeddelandet HTTP 404 (inget hittas) från servern, innebär det att objektet som klienten försökte använda (till exempel en entitet, tabell, blob, behållare eller kön) inte finns i lagringstjänsten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-520">If the client application receives an HTTP 404 (Not found) message from the server, this implies that the object the client was attempting to use (such as an entity, table, blob, container, or queue) does not exist in the storage service.</span></span> <span data-ttu-id="8eb7f-521">Det finns ett antal möjliga orsaker till detta, exempelvis:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-521">There are a number of possible reasons for this, such as:</span></span>

* <span data-ttu-id="8eb7f-522">[Klienten eller en annan process tidigare har tagit bort objektet]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-522">[The client or another process previously deleted the object]</span></span>
* <span data-ttu-id="8eb7f-523">[Ett problem med auktorisering delade signatur åtkomst (SAS)]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-523">[A Shared Access Signature (SAS) authorization issue]</span></span>
* <span data-ttu-id="8eb7f-524">[Klientens JavaScript-kod har inte behörighet att komma åt objektet]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-524">[Client-side JavaScript code does not have permission to access the object]</span></span>
* <span data-ttu-id="8eb7f-525">[Nätverksfel]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-525">[Network failure]</span></span>

#### <span data-ttu-id="8eb7f-526"><a name="client-previously-deleted-the-object"></a>Klienten eller en annan process tidigare har tagit bort objektet</span><span class="sxs-lookup"><span data-stu-id="8eb7f-526"><a name="client-previously-deleted-the-object"></a>The client or another process previously deleted the object</span></span>
<span data-ttu-id="8eb7f-527">I scenarier där klienten försöker läsa, uppdatera eller ta bort data i en storage-tjänst är det oftast lättare att identifiera i loggarna serversidan en tidigare åtgärd som tagit bort det aktuella objektet från storage-tjänst.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-527">In scenarios where the client is attempting to read, update, or delete data in a storage service it is usually easy to identify in the server-side logs a previous operation that deleted the object in question from the storage service.</span></span> <span data-ttu-id="8eb7f-528">Loggdata visar så ofta att en annan användare eller process bort objektet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-528">Very often, the log data shows that another user or process deleted the object.</span></span> <span data-ttu-id="8eb7f-529">I loggen lagring loggning serversidan visar åtgärden typ och begärt Objektnyckel kolumner när en klient bort ett objekt.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-529">In the server-side Storage Logging log, the operation-type and requested-object-key columns show when a client deleted an object.</span></span>

<span data-ttu-id="8eb7f-530">I ett scenario där en klient försöker infoga ett objekt, kanske den inte visar sig omedelbart anledningen till detta resulterar i ett HTTP 404 (inget hittas) svar med tanke på att klienten är att skapa ett nytt objekt.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-530">In the scenario where a client is attempting to insert an object, it may not be immediately obvious why this results in an HTTP 404 (Not found) response given that the client is creating a new object.</span></span> <span data-ttu-id="8eb7f-531">Men måste om klienten skapar en blob som den ska kunna hitta blob-behållaren om klienten skapar ett meddelande som måste kunna hitta en kö, och om klienten är att lägga till en rad den kunna hitta tabellen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-531">However, if the client is creating a blob it must be able to find the blob container, if the client is creating a message it must be able to find a queue, and if the client is adding a row it must be able to find the table.</span></span>

<span data-ttu-id="8eb7f-532">Du kan använda klientsidan loggen från Storage-klientbiblioteket för att få en mer detaljerad förståelse för när klienten skickar specifika förfrågningar till lagringstjänsten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-532">You can use the client-side log from the Storage Client Library to gain a more detailed understanding of when the client sends specific requests to the storage service.</span></span>

<span data-ttu-id="8eb7f-533">Följande klientsidan loggen genereras av Storage-klientbiblioteket illustrerar problemet när klienten inte kan hitta behållaren för blob den skapar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-533">The following client-side log generated by the Storage Client library illustrates the problem when the client cannot find the container for the blob it is creating.</span></span> <span data-ttu-id="8eb7f-534">Den här loggfilen innehåller information om följande lagringsåtgärder för:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-534">This log includes details of the following storage operations:</span></span>

| <span data-ttu-id="8eb7f-535">ID för begäran</span><span class="sxs-lookup"><span data-stu-id="8eb7f-535">Request ID</span></span> | <span data-ttu-id="8eb7f-536">Åtgärd</span><span class="sxs-lookup"><span data-stu-id="8eb7f-536">Operation</span></span> |
| --- | --- |
| <span data-ttu-id="8eb7f-537">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-537">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-538">**DeleteIfExists** metod för att ta bort blob-behållaren.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-538">**DeleteIfExists** method to delete the blob container.</span></span> <span data-ttu-id="8eb7f-539">Observera att den här åtgärden innehåller en **HEAD** begäran att söka efter befintliga för behållaren.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-539">Note that this operation includes a **HEAD** request to check for the existence of the container.</span></span> |
| <span data-ttu-id="8eb7f-540">e2d06d78...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-540">e2d06d78…</span></span> |<span data-ttu-id="8eb7f-541">**CreateIfNotExists** metoden för att skapa blob-behållaren.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-541">**CreateIfNotExists** method to create the blob container.</span></span> <span data-ttu-id="8eb7f-542">Observera att den här åtgärden innehåller en **HEAD** begäran som kontrollerar om behållaren finns.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-542">Note that this operation includes a **HEAD** request that checks for the existence of the container.</span></span> <span data-ttu-id="8eb7f-543">Den **HEAD** returnerar ett 404 meddelande men fortsätter.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-543">The **HEAD** returns a 404 message but continues.</span></span> |
| <span data-ttu-id="8eb7f-544">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-544">de8b1c3c-...</span></span> |<span data-ttu-id="8eb7f-545">**UploadFromStream** metoden för att skapa blob.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-545">**UploadFromStream** method to create the blob.</span></span> <span data-ttu-id="8eb7f-546">Den **PLACERA** begäran misslyckas med ett 404-meddelande</span><span class="sxs-lookup"><span data-stu-id="8eb7f-546">The **PUT** request fails with a 404 message</span></span> |

<span data-ttu-id="8eb7f-547">Loggposter:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-547">Log entries:</span></span>

| <span data-ttu-id="8eb7f-548">ID för begäran</span><span class="sxs-lookup"><span data-stu-id="8eb7f-548">Request ID</span></span> | <span data-ttu-id="8eb7f-549">Åtgärden Text</span><span class="sxs-lookup"><span data-stu-id="8eb7f-549">Operation Text</span></span> |
| --- | --- |
| <span data-ttu-id="8eb7f-550">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-550">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-551">Starta en synkron begäran till https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-551">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="8eb7f-552">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-552">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-553">StringToSign = HEAD...x-ms-client-request-id:07b26a5d-...x-ms-date:Tue, 03 Jun 2014 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-553">StringToSign = HEAD............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="8eb7f-554">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-554">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-555">Väntar på svar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-555">Waiting for response.</span></span> |
| <span data-ttu-id="8eb7f-556">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-556">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-557">Svar mottogs.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-557">Response received.</span></span> <span data-ttu-id="8eb7f-558">Statuskod = 200, ID för begäran = eeead849... Content-MD5 = ETag = &quot;0x8D14D2DC63D059B&quot;.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-558">Status code = 200, Request ID = eeead849-...Content-MD5 = , ETag =    &quot;0x8D14D2DC63D059B&quot;.</span></span> |
| <span data-ttu-id="8eb7f-559">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-559">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-560">Svarshuvuden har bearbetats, fortsätter med resten av åtgärden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-560">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="8eb7f-561">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-561">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-562">Hämtar brödtext för svar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-562">Downloading response body.</span></span> |
| <span data-ttu-id="8eb7f-563">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-563">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-564">Åtgärden har slutförts.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-564">Operation completed successfully.</span></span> |
| <span data-ttu-id="8eb7f-565">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-565">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-566">Starta en synkron begäran till https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-566">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="8eb7f-567">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-567">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-568">StringToSign = DELETE...x-ms-client-request-id:07b26a5d-...x-ms-date:Tue, 03 Jun 2014 12:10:33 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-568">StringToSign = DELETE............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:12    GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="8eb7f-569">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-569">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-570">Väntar på svar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-570">Waiting for response.</span></span> |
| <span data-ttu-id="8eb7f-571">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-571">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-572">Svar mottogs.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-572">Response received.</span></span> <span data-ttu-id="8eb7f-573">Statuskod = 202, ID för begäran = 6ab2a4cf-..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-573">Status code = 202, Request ID = 6ab2a4cf-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="8eb7f-574">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-574">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-575">Svarshuvuden har bearbetats, fortsätter med resten av åtgärden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-575">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="8eb7f-576">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-576">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-577">Hämtar brödtext för svar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-577">Downloading response body.</span></span> |
| <span data-ttu-id="8eb7f-578">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-578">07b26a5d-...</span></span> |<span data-ttu-id="8eb7f-579">Åtgärden har slutförts.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-579">Operation completed successfully.</span></span> |
| <span data-ttu-id="8eb7f-580">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-580">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-581">Starta en asynkron begäran till https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-581">Starting asynchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span></td> |
| <span data-ttu-id="8eb7f-582">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-582">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-583">StringToSign = HEAD...x-ms-client-request-id:e2d06d78-...x-ms-date:Tue, 03 Jun 2014 12:10:33 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-583">StringToSign = HEAD............x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="8eb7f-584">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-584">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-585">Väntar på svar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-585">Waiting for response.</span></span> |
| <span data-ttu-id="8eb7f-586">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-586">de8b1c3c-...</span></span> |<span data-ttu-id="8eb7f-587">Starta en synkron begäran till https://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-587">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="8eb7f-588">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-588">de8b1c3c-...</span></span> |<span data-ttu-id="8eb7f-589">StringToSign = PUT... 64.qCmF+TQLPhq/YYK50mP9ZQ==...x-MS-BLOB-Type:BlockBlob.x-MS-Client-Request-ID:de8b1c3c-...x-MS-Date:TUE 03 Jun 2014 12:10:33 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-589">StringToSign = PUT...64.qCmF+TQLPhq/YYK50mP9ZQ==........x-ms-blob-type:BlockBlob.x-ms-client-request-id:de8b1c3c-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="8eb7f-590">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-590">de8b1c3c-...</span></span> |<span data-ttu-id="8eb7f-591">Förbereder att skriva data för begäran.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-591">Preparing to write request data.</span></span> |
| <span data-ttu-id="8eb7f-592">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-592">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-593">Ett undantag uppstod under väntan på svar: fjärrservern returnerade ett fel: (404) gick inte att hitta...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-593">Exception thrown while waiting for response: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="8eb7f-594">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-594">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-595">Svar mottogs.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-595">Response received.</span></span> <span data-ttu-id="8eb7f-596">Statuskod = 404 begäran-ID = 353ae3bc-..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-596">Status code = 404, Request ID = 353ae3bc-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="8eb7f-597">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-597">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-598">Svarshuvuden har bearbetats, fortsätter med resten av åtgärden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-598">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="8eb7f-599">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-599">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-600">Hämtar brödtext för svar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-600">Downloading response body.</span></span> |
| <span data-ttu-id="8eb7f-601">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-601">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-602">Åtgärden har slutförts.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-602">Operation completed successfully.</span></span> |
| <span data-ttu-id="8eb7f-603">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-603">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-604">Starta en asynkron begäran till https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-604">Starting asynchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="8eb7f-605">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-605">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-606">StringToSign = PUT... 0...x-MS-Client-Request-ID:e2d06d78-...x-MS-Date:TUE 03 Jun 2014 12:10:33 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-606">StringToSign = PUT...0.........x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="8eb7f-607">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-607">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-608">Väntar på svar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-608">Waiting for response.</span></span> |
| <span data-ttu-id="8eb7f-609">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-609">de8b1c3c-...</span></span> |<span data-ttu-id="8eb7f-610">Begäran när data skrevs.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-610">Writing request data.</span></span> |
| <span data-ttu-id="8eb7f-611">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-611">de8b1c3c-...</span></span> |<span data-ttu-id="8eb7f-612">Väntar på svar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-612">Waiting for response.</span></span> |
| <span data-ttu-id="8eb7f-613">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-613">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-614">Ett undantag uppstod under väntan på svar: fjärrservern returnerade ett fel: (409) konflikt...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-614">Exception thrown while waiting for response: The remote server returned an error: (409) Conflict..</span></span> |
| <span data-ttu-id="8eb7f-615">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-615">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-616">Svar mottogs.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-616">Response received.</span></span> <span data-ttu-id="8eb7f-617">Statuskod = 409, ID för begäran = c27da20e-..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-617">Status code = 409, Request ID = c27da20e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="8eb7f-618">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-618">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-619">Hämtar fel svarstexten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-619">Downloading error response body.</span></span> |
| <span data-ttu-id="8eb7f-620">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-620">de8b1c3c-...</span></span> |<span data-ttu-id="8eb7f-621">Ett undantag uppstod under väntan på svar: fjärrservern returnerade ett fel: (404) gick inte att hitta...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-621">Exception thrown while waiting for response: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="8eb7f-622">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-622">de8b1c3c-...</span></span> |<span data-ttu-id="8eb7f-623">Svar mottogs.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-623">Response received.</span></span> <span data-ttu-id="8eb7f-624">Statuskod = 404 begäran-ID = 0eaeab3e-..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-624">Status code = 404, Request ID = 0eaeab3e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="8eb7f-625">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-625">de8b1c3c-...</span></span> |<span data-ttu-id="8eb7f-626">Ett undantag uppstod under åtgärden: fjärrservern returnerade ett fel: (404) gick inte att hitta...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-626">Exception thrown during the operation: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="8eb7f-627">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-627">de8b1c3c-...</span></span> |<span data-ttu-id="8eb7f-628">Återförsöksprincipen tillät inte för ett nytt försök.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-628">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="8eb7f-629">Misslyckas med fjärrservern returnerade ett fel: (404) gick inte att hitta...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-629">Failing with The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="8eb7f-630">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-630">e2d06d78-...</span></span> |<span data-ttu-id="8eb7f-631">Återförsöksprincipen tillät inte för ett nytt försök.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-631">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="8eb7f-632">Misslyckas med fjärrservern returnerade ett fel: (409) konflikt...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-632">Failing with The remote server returned an error: (409) Conflict..</span></span> |

<span data-ttu-id="8eb7f-633">I det här exemplet visar loggen att klienten interfoliering begäranden från den **CreateIfNotExists** metod (begäran-id e2d06d78...) med begäranden från den **UploadFromStream** metod (de8b1c3c-...); Detta beror på att klientprogram anropar asynkront dessa metoder.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-633">In this example, the log shows that the client is interleaving requests from the **CreateIfNotExists** method (request id e2d06d78…) with the requests from the **UploadFromStream** method (de8b1c3c-...); this is happening because the client application is invoking these methods asynchronously.</span></span> <span data-ttu-id="8eb7f-634">Du bör ändra asynkrona koden i klienten så att den skapar behållaren innan du försöker överföra data till en blobb i behållaren.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-634">You should modify the asynchronous code in the client to ensure that it creates the container before attempting to upload any data to a blob in that container.</span></span> <span data-ttu-id="8eb7f-635">Helst bör du skapa alla behållare i förväg.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-635">Ideally, you should create all your containers in advance.</span></span>

#### <span data-ttu-id="8eb7f-636"><a name="SAS-authorization-issue"></a>Ett problem med auktorisering delade signatur åtkomst (SAS)</span><span class="sxs-lookup"><span data-stu-id="8eb7f-636"><a name="SAS-authorization-issue"></a>A Shared Access Signature (SAS) authorization issue</span></span>
<span data-ttu-id="8eb7f-637">Om klientprogrammet försöker använda en SAS-nyckel som inte har tillräcklig behörighet för åtgärden, returnerar lagringstjänsten meddelandet HTTP 404 (inget hittas) till klienten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-637">If the client application attempts to use a SAS key that does not include the necessary permissions for the operation, the storage service returns an HTTP 404 (Not found) message to the client.</span></span> <span data-ttu-id="8eb7f-638">Samtidigt, du kan även se ett noll-värde för **SASAuthorizationError** i mätvärdena.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-638">At the same time, you will also see a non-zero value for **SASAuthorizationError** in the metrics.</span></span>

<span data-ttu-id="8eb7f-639">I följande tabell visas en serversidan loggmeddelande exempel från lagring loggning loggfilen:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-639">The following table shows a sample server-side log message from the Storage Logging log file:</span></span>

| <span data-ttu-id="8eb7f-640">Namn</span><span class="sxs-lookup"><span data-stu-id="8eb7f-640">Name</span></span> | <span data-ttu-id="8eb7f-641">Värde</span><span class="sxs-lookup"><span data-stu-id="8eb7f-641">Value</span></span> |
| --- | --- |
| <span data-ttu-id="8eb7f-642">Starttid för begäran</span><span class="sxs-lookup"><span data-stu-id="8eb7f-642">Request start time</span></span> | <span data-ttu-id="8eb7f-643">2014-05-30T06:17:48.4473697Z</span><span class="sxs-lookup"><span data-stu-id="8eb7f-643">2014-05-30T06:17:48.4473697Z</span></span> |
| <span data-ttu-id="8eb7f-644">Åtgärdstyp</span><span class="sxs-lookup"><span data-stu-id="8eb7f-644">Operation type</span></span>     | <span data-ttu-id="8eb7f-645">GetBlobProperties</span><span class="sxs-lookup"><span data-stu-id="8eb7f-645">GetBlobProperties</span></span>            |
| <span data-ttu-id="8eb7f-646">Status för tjänstbegäran</span><span class="sxs-lookup"><span data-stu-id="8eb7f-646">Request status</span></span>     | <span data-ttu-id="8eb7f-647">SASAuthorizationError</span><span class="sxs-lookup"><span data-stu-id="8eb7f-647">SASAuthorizationError</span></span>        |
| <span data-ttu-id="8eb7f-648">HTTP-statuskod</span><span class="sxs-lookup"><span data-stu-id="8eb7f-648">HTTP status code</span></span>   | <span data-ttu-id="8eb7f-649">404</span><span class="sxs-lookup"><span data-stu-id="8eb7f-649">404</span></span>                          |
| <span data-ttu-id="8eb7f-650">Autentiseringstyp</span><span class="sxs-lookup"><span data-stu-id="8eb7f-650">Authentication type</span></span>| <span data-ttu-id="8eb7f-651">SAS</span><span class="sxs-lookup"><span data-stu-id="8eb7f-651">Sas</span></span>                          |
| <span data-ttu-id="8eb7f-652">Typ av tjänst</span><span class="sxs-lookup"><span data-stu-id="8eb7f-652">Service type</span></span>       | <span data-ttu-id="8eb7f-653">Blob</span><span class="sxs-lookup"><span data-stu-id="8eb7f-653">Blob</span></span>                         |
| <span data-ttu-id="8eb7f-654">URL-begäran</span><span class="sxs-lookup"><span data-stu-id="8eb7f-654">Request URL</span></span>        | <span data-ttu-id="8eb7f-655">https://domemaildist.BLOB.Core.Windows.NET/azureimblobcontainer/blobCreatedViaSAS.txt</span><span class="sxs-lookup"><span data-stu-id="8eb7f-655">https://domemaildist.blob.core.windows.net/azureimblobcontainer/blobCreatedViaSAS.txt</span></span> |
| <span data-ttu-id="8eb7f-656">nbsp;</span><span class="sxs-lookup"><span data-stu-id="8eb7f-656">nbsp;</span></span>              |   <span data-ttu-id="8eb7f-657">? SA = 2014-02-14 & sr = c & si = mypolicy & sig = XXXXX&;api-version = 2014-02-14</span><span class="sxs-lookup"><span data-stu-id="8eb7f-657">?sv=2014-02-14&sr=c&si=mypolicy&sig=XXXXX&;api-version=2014-02-14</span></span> |
| <span data-ttu-id="8eb7f-658">Huvudet i begäran-id</span><span class="sxs-lookup"><span data-stu-id="8eb7f-658">Request id header</span></span>  | <span data-ttu-id="8eb7f-659">a1f348d5-8032-4912-93EF-b393e5252a3b</span><span class="sxs-lookup"><span data-stu-id="8eb7f-659">a1f348d5-8032-4912-93ef-b393e5252a3b</span></span> |
| <span data-ttu-id="8eb7f-660">ID för klientbegäran</span><span class="sxs-lookup"><span data-stu-id="8eb7f-660">Client request ID</span></span>  | <span data-ttu-id="8eb7f-661">2d064953-8436-4ee0-aa0c-65cb874f7929</span><span class="sxs-lookup"><span data-stu-id="8eb7f-661">2d064953-8436-4ee0-aa0c-65cb874f7929</span></span> |

<span data-ttu-id="8eb7f-662">Du bör undersöka varför ditt klientprogram försöker utföra en åtgärd som det inte har beviljats behörigheter för.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-662">You should investigate why your client application is attempting to perform an operation it has not been granted permissions for.</span></span>

#### <span data-ttu-id="8eb7f-663"><a name="JavaScript-code-does-not-have-permission"></a>Klientens JavaScript-kod har inte behörighet att komma åt objektet</span><span class="sxs-lookup"><span data-stu-id="8eb7f-663"><a name="JavaScript-code-does-not-have-permission"></a>Client-side JavaScript code does not have permission to access the object</span></span>
<span data-ttu-id="8eb7f-664">Om du använder en JavaScript-klient och lagringstjänsten returnerar HTTP 404-meddelanden, Sök efter följande JavaScript-fel i webbläsaren:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-664">If you are using a JavaScript client and the storage service is returning HTTP 404 messages, you check for the following JavaScript errors in the browser:</span></span>

```
SEC7120: Origin http://localhost:56309 not found in Access-Control-Allow-Origin header.
SCRIPT7002: XMLHttpRequest: Network Error 0x80070005, Access is denied.
```

> [!NOTE]
> <span data-ttu-id="8eb7f-665">Du kan använda F12 utvecklingsverktygen i Internet Explorer för att spåra de meddelanden som utbyts mellan webbläsaren och lagringstjänsten när du felsöker problem med klientens JavaScript.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-665">You can use the F12 Developer Tools in Internet Explorer to trace the messages exchanged between the browser and the storage service when you are troubleshooting client-side JavaScript issues.</span></span>
> 
> 

<span data-ttu-id="8eb7f-666">Dessa fel uppstår eftersom webbläsaren implementerar den <a href="http://www.w3.org/Security/wiki/Same_Origin_Policy" target="_blank">samma ursprung princip</a> säkerhetsbegränsningar som förhindrar att en webbsida anropar en API i en annan domän från domänen sidan kommer från.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-666">These errors occur because the web browser implements the <a href="http://www.w3.org/Security/wiki/Same_Origin_Policy" target="_blank">same-origin policy</a> security restriction that prevents a web page from calling an API in a different domain from the domain the page comes from.</span></span>

<span data-ttu-id="8eb7f-667">Undvik problemet JavaScript, kan du konfigurera Cross Origin Resource Sharing (CORS) för lagringstjänsten klienten har åtkomst till.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-667">To work around the JavaScript issue, you can configure Cross Origin Resource Sharing (CORS) for the storage service the client is accessing.</span></span> <span data-ttu-id="8eb7f-668">Mer information finns i <a href="http://msdn.microsoft.com/library/azure/dn535601.aspx" target="_blank">Cross-Origin Resource Sharing (CORS) stöd för Azure Storage-tjänster</a> på MSDN.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-668">For more information, see <a href="http://msdn.microsoft.com/library/azure/dn535601.aspx" target="_blank">Cross-Origin Resource Sharing (CORS) Support for Azure Storage Services</a> on MSDN.</span></span>

<span data-ttu-id="8eb7f-669">Följande kodexempel visar hur du konfigurerar blob-tjänsten för att tillåta JavaScript körs i Contoso-domänen åtkomst till en blobb i ditt blob storage-tjänst:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-669">The following code sample shows how to configure your blob service to allow JavaScript running in the Contoso domain to access a blob in your blob storage service:</span></span>

```csharp
CloudBlobClient client = new CloudBlobClient(blobEndpoint, new StorageCredentials(accountName, accountKey));
// Set the service properties.
ServiceProperties sp = client.GetServiceProperties();
sp.DefaultServiceVersion = "2013-08-15";
CorsRule cr = new CorsRule();
cr.AllowedHeaders.Add("*");
cr.AllowedMethods = CorsHttpMethods.Get | CorsHttpMethods.Put;
cr.AllowedOrigins.Add("http://www.contoso.com");
cr.ExposedHeaders.Add("x-ms-*");
cr.MaxAgeInSeconds = 5;
sp.Cors.CorsRules.Clear();
sp.Cors.CorsRules.Add(cr);
client.SetServiceProperties(sp);
```

#### <span data-ttu-id="8eb7f-670"><a name="network-failure"></a>Nätverksfel</span><span class="sxs-lookup"><span data-stu-id="8eb7f-670"><a name="network-failure"></a>Network Failure</span></span>
<span data-ttu-id="8eb7f-671">I vissa fall kan förlorade nätverkspaket leda till lagringstjänsten returnera HTTP 404-meddelanden till klienten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-671">In some circumstances, lost network packets can lead to the storage service returning HTTP 404 messages to the client.</span></span> <span data-ttu-id="8eb7f-672">Till exempel när klientprogrammet tas bort en entitet från tabelltjänsten Se utlösa en lagring undantag reporting-klienten ett ”HTTP 404 (inget hittas)” statusmeddelande från tabelltjänsten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-672">For example, when your client application is deleting an entity from the table service you see the client throw a storage exception reporting an "HTTP 404 (Not Found)" status message from the table service.</span></span> <span data-ttu-id="8eb7f-673">När du undersöker tabellen i table storage-tjänsten Se du att tjänsten tog bort enheten enligt begäran.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-673">When you investigate the table in the table storage service, you see that the service did delete the entity as requested.</span></span>

<span data-ttu-id="8eb7f-674">Undantagsinformation i klienten inkluderar id för begäran (7e84f12d...) som tilldelats av tabelltjänsten för begäran: du kan använda den här informationen för att hitta information för begäran i loggarna serversidan lagring genom att söka i den **huvud för begäran-id** kolumn i loggfilen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-674">The exception details in the client include the request id (7e84f12d…) assigned by the table service for the request: you can use this information to locate the request details in the server-side storage logs by searching in the **request-id-header** column in the log file.</span></span> <span data-ttu-id="8eb7f-675">Du kan också använda mätvärden för att identifiera när fel sådana här uppstå och sök sedan filerna baserat på tiden som mätvärdena registreras det här felet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-675">You could also use the metrics to identify when failures such as this occur and then search the log files based on the time the metrics recorded this error.</span></span> <span data-ttu-id="8eb7f-676">Loggposten visar att borttagningen misslyckades med ett statusmeddelande för ”HTTP (404) klient fel”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-676">This log entry shows that the delete failed with an "HTTP (404) Client Other Error" status message.</span></span> <span data-ttu-id="8eb7f-677">Samma loggposten även det begärt-id som genererades av klienten i den **client-request-id** kolumn (813ea74f...).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-677">The same log entry also includes the request id generated by the client in the **client-request-id** column (813ea74f…).</span></span>

<span data-ttu-id="8eb7f-678">Serversidan loggen innehåller även en annan transaktion med samma **client-request-id** värde (813ea74f...) för en lyckad borttagningsåtgärden för samma entitet och från samma klient.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-678">The server-side log also includes another entry with the same **client-request-id** value (813ea74f…) for a successful delete operation for the same entity, and from the same client.</span></span> <span data-ttu-id="8eb7f-679">Borttagningsåtgärden lyckas ta ägde rum precis innan det misslyckade ta bort begäran.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-679">This successful delete operation took place very shortly before the failed delete request.</span></span>

<span data-ttu-id="8eb7f-680">Den troligaste orsaken till det här scenariot är att klienten har skickat en begäran om borttagning för entiteten tjänsten tabell, som har slutförts men tog inte emot en bekräftelse från servern (kanske på grund av en tillfällig nätverksproblem).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-680">The most likely cause of this scenario is that the client sent a delete request for the entity to the table service, which succeeded, but did not receive an acknowledgement from the server (perhaps due to a temporary network issue).</span></span> <span data-ttu-id="8eb7f-681">Klienten sedan automatiskt ett nytt försök för åtgärden (använder samma **client-request-id**), och den här nya försöket misslyckades eftersom enheten redan har tagits bort.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-681">The client then automatically retried the operation (using the same **client-request-id**), and this retry failed because the entity had already been deleted.</span></span>

<span data-ttu-id="8eb7f-682">Om det här problemet uppstår ofta bör du undersöka varför klienten inte kan ta emot bekräftelser från tabelltjänsten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-682">If this problem occurs frequently, you should investigate why the client is failing to receive acknowledgements from the table service.</span></span> <span data-ttu-id="8eb7f-683">Om problemet är tillfälligt, bör du hantera felet ”Det gick inte att hitta HTTP (404)” och logga in på klienten, men tillåter klienten att fortsätta.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-683">If the problem is intermittent, you should trap the "HTTP (404) Not Found" error and log it in the client, but allow the client to continue.</span></span>

### <span data-ttu-id="8eb7f-684"><a name="the-client-is-receiving-409-messages"></a>Klienten tar emot HTTP 409 (konflikt) meddelanden</span><span class="sxs-lookup"><span data-stu-id="8eb7f-684"><a name="the-client-is-receiving-409-messages"></a>The client is receiving HTTP 409 (Conflict) messages</span></span>
<span data-ttu-id="8eb7f-685">I följande tabell visas ett utdrag ur serversidan loggen för två Klientåtgärder: **DeleteIfExists** följt av omedelbart **CreateIfNotExists** med samma namn för blob-behållaren.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-685">The following table shows an extract from the server-side log for two client operations: **DeleteIfExists** followed immediately by **CreateIfNotExists** using the same blob container name.</span></span> <span data-ttu-id="8eb7f-686">Observera att varje klientåtgärden resulterar i två förfrågningar som skickas till servern först en **GetContainerProperties** begäran om att kontrollera om behållaren finns, följt av den **DeleteContainer** eller **CreateContainer** begäran.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-686">Note that each client operation results in two requests sent to the server, first a **GetContainerProperties** request to check if the container exists, followed by the **DeleteContainer** or **CreateContainer** request.</span></span>

| <span data-ttu-id="8eb7f-687">tidsstämpel</span><span class="sxs-lookup"><span data-stu-id="8eb7f-687">Timestamp</span></span> | <span data-ttu-id="8eb7f-688">Åtgärd</span><span class="sxs-lookup"><span data-stu-id="8eb7f-688">Operation</span></span> | <span data-ttu-id="8eb7f-689">Resultat</span><span class="sxs-lookup"><span data-stu-id="8eb7f-689">Result</span></span> | <span data-ttu-id="8eb7f-690">Behållarens namn</span><span class="sxs-lookup"><span data-stu-id="8eb7f-690">Container name</span></span> | <span data-ttu-id="8eb7f-691">Id för klientbegäran</span><span class="sxs-lookup"><span data-stu-id="8eb7f-691">Client request id</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="8eb7f-692">05:10:13.7167225</span><span class="sxs-lookup"><span data-stu-id="8eb7f-692">05:10:13.7167225</span></span> |<span data-ttu-id="8eb7f-693">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="8eb7f-693">GetContainerProperties</span></span> |<span data-ttu-id="8eb7f-694">200</span><span class="sxs-lookup"><span data-stu-id="8eb7f-694">200</span></span> |<span data-ttu-id="8eb7f-695">mmcont</span><span class="sxs-lookup"><span data-stu-id="8eb7f-695">mmcont</span></span> |<span data-ttu-id="8eb7f-696">c9f52c89-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-696">c9f52c89-…</span></span> |
| <span data-ttu-id="8eb7f-697">05:10:13.8167325</span><span class="sxs-lookup"><span data-stu-id="8eb7f-697">05:10:13.8167325</span></span> |<span data-ttu-id="8eb7f-698">DeleteContainer</span><span class="sxs-lookup"><span data-stu-id="8eb7f-698">DeleteContainer</span></span> |<span data-ttu-id="8eb7f-699">202</span><span class="sxs-lookup"><span data-stu-id="8eb7f-699">202</span></span> |<span data-ttu-id="8eb7f-700">mmcont</span><span class="sxs-lookup"><span data-stu-id="8eb7f-700">mmcont</span></span> |<span data-ttu-id="8eb7f-701">c9f52c89-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-701">c9f52c89-…</span></span> |
| <span data-ttu-id="8eb7f-702">05:10:13.8987407</span><span class="sxs-lookup"><span data-stu-id="8eb7f-702">05:10:13.8987407</span></span> |<span data-ttu-id="8eb7f-703">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="8eb7f-703">GetContainerProperties</span></span> |<span data-ttu-id="8eb7f-704">404</span><span class="sxs-lookup"><span data-stu-id="8eb7f-704">404</span></span> |<span data-ttu-id="8eb7f-705">mmcont</span><span class="sxs-lookup"><span data-stu-id="8eb7f-705">mmcont</span></span> |<span data-ttu-id="8eb7f-706">bc881924-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-706">bc881924-…</span></span> |
| <span data-ttu-id="8eb7f-707">05:10:14.2147723</span><span class="sxs-lookup"><span data-stu-id="8eb7f-707">05:10:14.2147723</span></span> |<span data-ttu-id="8eb7f-708">CreateContainer</span><span class="sxs-lookup"><span data-stu-id="8eb7f-708">CreateContainer</span></span> |<span data-ttu-id="8eb7f-709">409</span><span class="sxs-lookup"><span data-stu-id="8eb7f-709">409</span></span> |<span data-ttu-id="8eb7f-710">mmcont</span><span class="sxs-lookup"><span data-stu-id="8eb7f-710">mmcont</span></span> |<span data-ttu-id="8eb7f-711">bc881924-...</span><span class="sxs-lookup"><span data-stu-id="8eb7f-711">bc881924-…</span></span> |

<span data-ttu-id="8eb7f-712">Koden i klientprogrammet tas bort och återskapar sedan omedelbart en blob-behållare med samma namn: den **CreateIfNotExists** metod (klienten begär ID bc881924-...) så småningom misslyckas med felmeddelandet HTTP 409 (konflikt).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-712">The code in the client application deletes and then immediately recreates a blob container using the same name: the **CreateIfNotExists** method (Client request ID bc881924-…) eventually fails with the HTTP 409 (Conflict) error.</span></span> <span data-ttu-id="8eb7f-713">När en klient tar bort blob-behållare, tabeller eller köer som det finns en kort period före namnet blir tillgänglig igen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-713">When a client deletes blob containers, tables, or queues there is a brief period before the name becomes available again.</span></span>

<span data-ttu-id="8eb7f-714">Klientprogram ska använda unikt behållarnamn när du skapar den nya behållare om ta bort/återskapa mönstret är vanligt.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-714">The client application should use unique container names whenever it creates new containers if the delete/recreate pattern is common.</span></span>

### <span data-ttu-id="8eb7f-715"><a name="metrics-show-low-percent-success"></a>Mätvärdena visar låg PercentSuccess eller analytics loggposter innehålla åtgärder med transaktionsstatus för ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="8eb7f-715"><a name="metrics-show-low-percent-success"></a>Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors</span></span>
<span data-ttu-id="8eb7f-716">Den **PercentSuccess** mått samlar in procentuella av åtgärder som har genomförts baserat på HTTP-statuskod.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-716">The **PercentSuccess** metric captures the percent of operations that were successful based on their HTTP Status Code.</span></span> <span data-ttu-id="8eb7f-717">Åtgärder med statuskoder av 2XX räknas som slutförd medan åtgärder med statuskoder i 3XX, 4XX och 5XX intervall räknas som misslyckad och lägre den **PercentSucess** värde.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-717">Operations with status codes of 2XX count as successful, whereas operations with status codes in 3XX, 4XX and 5XX ranges are counted as unsuccessful and lower the **PercentSucess** metric value.</span></span> <span data-ttu-id="8eb7f-718">I loggfilerna serversidan lagring åtgärderna registreras med transaktionsstatus **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-718">In the server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span>

<span data-ttu-id="8eb7f-719">Det är viktigt att Observera att dessa åtgärder har slutförts och därför inte påverkar andra mått, till exempel tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-719">It is important to note that these operations have completed successfully and therefore do not affect other metrics such as availability.</span></span> <span data-ttu-id="8eb7f-720">Exempel på åtgärder som köras men som kan leda till misslyckade HTTP-statuskoder är:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-720">Some examples of operations that execute successfully but that can result in unsuccessful HTTP status codes include:</span></span>

* <span data-ttu-id="8eb7f-721">**ResourceNotFound** (inte att hitta 404), till exempel från en GET-begäran till en blob som inte finns.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-721">**ResourceNotFound** (Not Found 404), for example from a GET request to a blob that does not exist.</span></span>
* <span data-ttu-id="8eb7f-722">**ResouceAlreadyExists** (konflikt 409), till exempel från ett **CreateIfNotExist** åtgärden där resursen finns redan.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-722">**ResouceAlreadyExists** (Conflict 409), for example from a **CreateIfNotExist** operation where the resource already exists.</span></span>
* <span data-ttu-id="8eb7f-723">**ConditionNotMet** (inte ändrade 304), till exempel från en villkorlig åtgärd, till exempel när en klient skickar en **ETag** värde och en HTTP- **If-None-Match** huvudet för att begära en bild endast om den har uppdaterats sedan den senaste åtgärden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-723">**ConditionNotMet** (Not Modified 304), for example from a conditional operation such as when a client sends an **ETag** value and an HTTP **If-None-Match** header to request an image only if it has been updated since the last operation.</span></span>

<span data-ttu-id="8eb7f-724">Du hittar en lista över vanliga felkoder för REST-API som lagringstjänsterna returnerar på sidan <a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">vanliga felkoder för REST-API</a>.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-724">You can find a list of common REST API error codes that the storage services return on the page <a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">Common REST API Error Codes</a>.</span></span>

### <span data-ttu-id="8eb7f-725"><a name="capacity-metrics-show-an-unexpected-increase"></a>Kapacitetsdata visar en oväntad ökning i kapacitetsförbrukning för lagring</span><span class="sxs-lookup"><span data-stu-id="8eb7f-725"><a name="capacity-metrics-show-an-unexpected-increase"></a>Capacity metrics show an unexpected increase in storage capacity usage</span></span>
<span data-ttu-id="8eb7f-726">Om du ser plötslig oväntade ändringar i kapacitetsförbrukning i ditt lagringskonto, du kan undersöka skälen genom att studera din mått för tillgänglighet; till exempel en ökning av antalet misslyckade delete begäranden kan leda till en ökning av blob-lagring som du använder som specifika program rensningsåtgärder som du kan ha förväntas att frigöra utrymme inte kanske fungerar som förväntat (till exempel eftersom SAS-token som används för att frigöra utrymme har upphört att gälla).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-726">If you see sudden, unexpected changes in capacity usage in your storage account, you can investigate the reasons by first looking at your availability metrics; for example, an increase in the number of failed delete requests might lead to an increase in the amount of blob storage you are using as application specific cleanup operations you might have expected to be freeing up space may not be working as expected (for example, because the SAS tokens used for freeing up space have expired).</span></span>

### <span data-ttu-id="8eb7f-727"><a name="you-are-experiencing-unexpected-reboots"></a>Det uppstår oväntade omstarter av Azure virtuella datorer som har ett stort antal anslutna virtuella hårddiskar</span><span class="sxs-lookup"><span data-stu-id="8eb7f-727"><a name="you-are-experiencing-unexpected-reboots"></a>You are experiencing unexpected reboots of Azure Virtual Machines that have a large number of attached VHDs</span></span>
<span data-ttu-id="8eb7f-728">Om Azure virtuell dator (VM) har ett stort antal anslutna virtuella hårddiskar som är i samma lagringskonto, kan du överskrida skalbarhetsmål för en enskild storage-konto som orsakar den virtuella datorn misslyckas.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-728">If an Azure Virtual Machine (VM) has a large number of attached VHDs that are in the same storage account, you could exceed the scalability targets for an individual storage account causing the VM to fail.</span></span> <span data-ttu-id="8eb7f-729">Du bör kontrollera minut mätvärden för storage-konto (**TotalRequests**/**TotalIngress**/**TotalEgress**) för toppar som överskrider skalbarhetsmål för ett lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-729">You should check the minute metrics for the storage account (**TotalRequests**/**TotalIngress**/**TotalEgress**) for spikes that exceed the scalability targets for a storage account.</span></span> <span data-ttu-id="8eb7f-730">Se avsnittet ”[mätvärdena visar en ökning i PercentThrottlingError]” för stöd för att fastställa om begränsning har inträffat i ditt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-730">See the section "[Metrics show an increase in PercentThrottlingError]" for assistance in determining if throttling has occurred on your storage account.</span></span>

<span data-ttu-id="8eb7f-731">I allmänhet varje enskild indata eller utdata-åtgärden på en VHD från en virtuell dator innebär **hämta sidan** eller **placera sidan** åtgärder på den underliggande sidblob.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-731">In general, each individual input or output operation on a VHD from a Virtual Machine translates to **Get Page** or **Put Page** operations on the underlying page blob.</span></span> <span data-ttu-id="8eb7f-732">Därför kan du använda den uppskattade IOPS för din miljö för att finjustera hur många virtuella hårddiskar kan i ett enda lagringskonto baserat på vad som sker på ditt program.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-732">Therefore, you can use the estimated IOPS for your environment to tune how many VHDs you can have in a single storage account based on the specific behavior of your application.</span></span> <span data-ttu-id="8eb7f-733">Vi rekommenderar inte att ha fler än 40 diskar i ett enda storage-konto.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-733">We do not recommend having more than 40 disks in a single storage account.</span></span> <span data-ttu-id="8eb7f-734">Se <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">Azure Storage skalbarhets- och prestandamål</a> mer information om de aktuella skalbarhetsmål för storage-konton, i synnerhet totala begäran hastighet och den totala bandbredden för typ av lagringskonto du använder.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-734">See <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">Azure Storage Scalability and Performance Targets</a> for details of the current scalability targets for storage accounts, in particular the total request rate and total bandwidth for the type of storage account you are using.</span></span>
<span data-ttu-id="8eb7f-735">Om du överskrider skalbarhetsmål för ditt lagringskonto, bör du placera de virtuella hårddiskarna på flera olika lagringskonton för att minska aktiviteten i varje enskilt konto.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-735">If you are exceeding the scalability targets for your storage account, you should place your VHDs in multiple different storage accounts to reduce the activity in each individual account.</span></span>

### <span data-ttu-id="8eb7f-736"><a name="your-issue-arises-from-using-the-storage-emulator"></a>Problemet uppstår från med hjälp av storage-emulatorn för utveckling eller testning</span><span class="sxs-lookup"><span data-stu-id="8eb7f-736"><a name="your-issue-arises-from-using-the-storage-emulator"></a>Your issue arises from using the storage emulator for development or test</span></span>
<span data-ttu-id="8eb7f-737">Du vanligtvis använda lagringsemulatorn under utveckling och test för att undvika kravet för ett Azure storage-konto.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-737">You typically use the storage emulator during development and test to avoid the requirement for an Azure storage account.</span></span> <span data-ttu-id="8eb7f-738">Vanliga problem som kan uppstå när du använder lagringsemulatorn är:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-738">The common issues that can occur when you are using the storage emulator are:</span></span>

* <span data-ttu-id="8eb7f-739">[Funktionen ”X” fungerar inte i storage-emulatorn]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-739">[Feature "X" is not working in the storage emulator]</span></span>
* <span data-ttu-id="8eb7f-740">[Fel ”värdet för en HTTP-huvuden är inte i rätt format” när du använder lagringsemulatorn]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-740">[Error "The value for one of the HTTP headers is not in the correct format" when using the storage emulator]</span></span>
* <span data-ttu-id="8eb7f-741">[Kör lagringsemulatorn kräver administratörsbehörighet]</span><span class="sxs-lookup"><span data-stu-id="8eb7f-741">[Running the storage emulator requires administrative privileges]</span></span>

#### <span data-ttu-id="8eb7f-742"><a name="feature-X-is-not-working"></a>Funktionen ”X” fungerar inte i storage-emulatorn</span><span class="sxs-lookup"><span data-stu-id="8eb7f-742"><a name="feature-X-is-not-working"></a>Feature "X" is not working in the storage emulator</span></span>
<span data-ttu-id="8eb7f-743">Storage-emulatorn stöder inte alla funktioner i Azure storage-tjänster som tjänsten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-743">The storage emulator does not support all of the features of the Azure storage services such as the file service.</span></span> <span data-ttu-id="8eb7f-744">Mer information finns i <a href="http://msdn.microsoft.com/library/azure/gg433135.aspx" target="_blank">skillnader mellan Lagringsemulatorn och Azure Storage-tjänster</a> på MSDN.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-744">For more information, see <a href="http://msdn.microsoft.com/library/azure/gg433135.aspx" target="_blank">Differences Between the Storage Emulator and Azure Storage Services</a> on MSDN.</span></span>

<span data-ttu-id="8eb7f-745">Använd Azure storage-tjänst i molnet för de funktioner som inte har stöd för storage-emulatorn.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-745">For those features that the storage emulator does not support, use the Azure storage service in the cloud.</span></span>

#### <span data-ttu-id="8eb7f-746"><a name="error-HTTP-header-not-correct-format"></a>Fel ”värdet för en HTTP-huvuden är inte i rätt format” när du använder lagringsemulatorn</span><span class="sxs-lookup"><span data-stu-id="8eb7f-746"><a name="error-HTTP-header-not-correct-format"></a>Error "The value for one of the HTTP headers is not in the correct format" when using the storage emulator</span></span>
<span data-ttu-id="8eb7f-747">Du testar ditt program som använder Storage-klientbiblioteket mot lokal lagring emulatorn och metoden anrop exempelvis **CreateIfNotExists** misslyckas med felmeddelandet ”värdet för en HTTP-huvuden inte är i rätt format”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-747">You are testing your application that use the Storage Client Library against the local storage emulator and method calls such as **CreateIfNotExists** fail with the error message "The value for one of the HTTP headers is not in the correct format."</span></span> <span data-ttu-id="8eb7f-748">Detta anger att versionen av storage-emulatorn som du använder inte stöder versionen av storage-klientbiblioteket som du använder.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-748">This indicates that the version of the storage emulator you are using does not support the version of the storage client library you are using.</span></span> <span data-ttu-id="8eb7f-749">Storage-klientbiblioteket lägger till huvudet **x-ms-version** alla begäranden som gör det.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-749">The Storage Client Library adds the header **x-ms-version** to all the requests it makes.</span></span> <span data-ttu-id="8eb7f-750">Om storage-emulatorn inte känner igen värdet i den **x-ms-version** sidhuvud, avvisar begäran.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-750">If the storage emulator does not recognize the value in the **x-ms-version** header, it rejects the request.</span></span>

<span data-ttu-id="8eb7f-751">Du kan använda lagring Biblioteksklient loggarna för att visa värdet för den **x-ms-versionshuvud** som skickas.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-751">You can use the Storage Library Client logs to see the value of the **x-ms-version header** it is sending.</span></span> <span data-ttu-id="8eb7f-752">Du kan också se värdet för den **x-ms-versionshuvud** om du använder Fiddler för att spåra begäranden från klientprogrammet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-752">You can also see the value of the **x-ms-version header** if you use Fiddler to trace the requests from your client application.</span></span>

<span data-ttu-id="8eb7f-753">Detta inträffar vanligtvis om du installerar och använder den senaste versionen av Storage-klientbiblioteket utan att uppdatera storage-emulatorn.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-753">This scenario typically occurs if you install and use the latest version of the Storage Client Library without updating the storage emulator.</span></span> <span data-ttu-id="8eb7f-754">Du bör installera den senaste versionen av lagringsemulatorn eller använda molnlagring i stället för emulatorn för utveckling och testning.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-754">You should either install the latest version of the storage emulator, or use cloud storage instead of the emulator for development and test.</span></span>

#### <span data-ttu-id="8eb7f-755"><a name="storage-emulator-requires-administrative-privileges"></a>Kör lagringsemulatorn kräver administratörsbehörighet</span><span class="sxs-lookup"><span data-stu-id="8eb7f-755"><a name="storage-emulator-requires-administrative-privileges"></a>Running the storage emulator requires administrative privileges</span></span>
<span data-ttu-id="8eb7f-756">Du tillfrågas om autentiseringsuppgifter när du kör storage-emulatorn.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-756">You are prompted for administrator credentials when you run the storage emulator.</span></span> <span data-ttu-id="8eb7f-757">Det här inträffar bara när du initierar storage-emulatorn för första gången.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-757">This only occurs when you are initializing the storage emulator for the first time.</span></span> <span data-ttu-id="8eb7f-758">När du har initierat storage-emulatorn, behöver inte administratörsbehörighet för att köra det igen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-758">After you have initialized the storage emulator, you do not need administrative privileges to run it again.</span></span>

<span data-ttu-id="8eb7f-759">Mer information finns i <a href="http://msdn.microsoft.com/library/azure/gg433132.aspx" target="_blank">initiera Storage-emulatorn med hjälp av kommandoradsverktyget</a> på MSDN (du kan också initiera storage-emulatorn i Visual Studio, vilket även kräver administratörsbehörighet).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-759">For more information, see <a href="http://msdn.microsoft.com/library/azure/gg433132.aspx" target="_blank">Initialize the Storage Emulator by Using the Command-Line Tool</a> on MSDN (you can also initialize the storage emulator in Visual Studio, which will also require administrative privileges).</span></span>

### <span data-ttu-id="8eb7f-760"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>Det uppstår problem med att installera Azure SDK för .NET</span><span class="sxs-lookup"><span data-stu-id="8eb7f-760"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>You are encountering problems installing the Azure SDK for .NET</span></span>
<span data-ttu-id="8eb7f-761">När du försöker installera SDK misslyckas med att installera storage-emulatorn på din lokala dator.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-761">When you try to install the SDK, it fails trying to install the storage emulator on your local machine.</span></span> <span data-ttu-id="8eb7f-762">Installationsloggen innehåller något av följande meddelanden:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-762">The installation log contains one of the following messages:</span></span>

* <span data-ttu-id="8eb7f-763">CAQuietExec: Fel: Det gick inte att komma åt SQL-instans</span><span class="sxs-lookup"><span data-stu-id="8eb7f-763">CAQuietExec:  Error: Unable to access SQL instance</span></span>
* <span data-ttu-id="8eb7f-764">CAQuietExec: Fel: Det gick inte att skapa databas</span><span class="sxs-lookup"><span data-stu-id="8eb7f-764">CAQuietExec:  Error: Unable to create database</span></span>

<span data-ttu-id="8eb7f-765">Orsaken är ett problem med en befintlig LocalDB-installation.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-765">The cause is an issue with existing LocalDB installation.</span></span> <span data-ttu-id="8eb7f-766">Som standard använder lagringsemulatorn LocalDB för att bevara data när den simulerar Azure storage-tjänster.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-766">By default, the storage emulator uses LocalDB to persist data when it simulates the Azure storage services.</span></span> <span data-ttu-id="8eb7f-767">Du kan återställa din LocalDB-instans genom att köra följande kommandon i ett Kommandotolk fönster innan du försöker installera SDK.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-767">You can reset your LocalDB instance by running the following commands in a command-prompt window before trying to install the SDK.</span></span>

```
sqllocaldb stop v11.0
sqllocaldb delete v11.0
delete %USERPROFILE%\WAStorageEmulatorDb3*.*
sqllocaldb create v11.0
```

<span data-ttu-id="8eb7f-768">Den **ta bort** kommandot tar bort eventuella gamla databasfiler från en tidigare installation av storage-emulatorn.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-768">The **delete** command removes any old database files from previous installations of the storage emulator.</span></span>

### <span data-ttu-id="8eb7f-769"><a name="you-have-a-different-issue-with-a-storage-service"></a>Du har ett annat problem med en storage-tjänst</span><span class="sxs-lookup"><span data-stu-id="8eb7f-769"><a name="you-have-a-different-issue-with-a-storage-service"></a>You have a different issue with a storage service</span></span>
<span data-ttu-id="8eb7f-770">Om föregående felsökningsavsnitt innehåller inte inkluderar problem som du har med en storage-tjänst, bör du vidta följande metod för att diagnostisera och felsöka problemet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-770">If the previous troubleshooting sections do not include the issue you are having with a storage service, you should adopt the following approach to diagnosing and troubleshooting your issue.</span></span>

* <span data-ttu-id="8eb7f-771">Kontrollera din mått för att se om det finns ändringar från din förväntade baslinjen beteende.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-771">Check your metrics to see if there is any change from your expected base-line behavior.</span></span> <span data-ttu-id="8eb7f-772">Från statistik du kan avgöra om problemet är tillfälligt eller permanent och vilka lagringsåtgärder problemet påverkar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-772">From the metrics, you may be able to determine whether the issue is transient or permanent, and which storage operations the issue is affecting.</span></span>
* <span data-ttu-id="8eb7f-773">Du kan använda mått information som hjälper dig att söka efter loggdata serversidan för mer detaljerad information om fel som uppstår.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-773">You can use the metrics information to help you search your server-side log data for more detailed information about any errors that are occurring.</span></span> <span data-ttu-id="8eb7f-774">Den här informationen kan hjälpa dig att felsöka och lösa problemet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-774">This information may help you troubleshoot and resolve the issue.</span></span>
* <span data-ttu-id="8eb7f-775">Du kan använda Storage-klientbibliotek klientsidan loggar för att undersöka beteendet för ditt klientprogram och verktyg som Fiddler, Wireshark och Microsoft Message Analyzer för att undersöka nätverket om informationen i loggarna servern inte är tillräckligt för att felsöka problemet har.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-775">If the information in the server-side logs is not sufficient to troubleshoot the issue successfully, you can use the Storage Client Library client-side logs to investigate the behavior of your client application, and tools such as Fiddler, Wireshark, and Microsoft Message Analyzer to investigate your network.</span></span>

<span data-ttu-id="8eb7f-776">Mer information om hur du använder Fiddler finns ”[bilaga 1: använder Fiddler för att samla in HTTP och HTTPS-trafik]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-776">For more information about using Fiddler, see "[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]."</span></span>

<span data-ttu-id="8eb7f-777">Mer information om hur du använder Wireshark finns ”[bilaga 2: använda Wireshark att avbilda nätverkstrafik]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-777">For more information about using Wireshark, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="8eb7f-778">Mer information om hur du använder Microsoft Message Analyzer finns ”[tillägg 3: använda Microsoft Message Analyzer att avbilda nätverkstrafik]”.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-778">For more information about using Microsoft Message Analyzer, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

## <span data-ttu-id="8eb7f-779"><a name="appendices"></a>Tilläggen</span><span class="sxs-lookup"><span data-stu-id="8eb7f-779"><a name="appendices"></a>Appendices</span></span>
<span data-ttu-id="8eb7f-780">Tilläggen beskrivs flera verktyg som kan vara praktiskt när du diagnostiserar och felsökning av problem med Azure Storage (och andra tjänster).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-780">The appendices describe several tools that you may find useful when you are diagnosing and troubleshooting issues with Azure Storage (and other services).</span></span> <span data-ttu-id="8eb7f-781">Dessa verktyg är inte en del av Azure Storage och vissa är produkter från tredje part.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-781">These tools are not part of Azure Storage and some are third-party products.</span></span> <span data-ttu-id="8eb7f-782">De verktyg som beskrivs i de här tilläggen omfattas inte av några supportavtal som du kan ha med Microsoft Azure eller Azure Storage som sådana och därför som en del av din utvärdering av du bör undersöka licensiering och support alternativen från providers av dessa verktyg.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-782">As such, the tools discussed in these appendices are not covered by any support agreement you may have with Microsoft Azure or Azure Storage, and therefore as part of your evaluation process you should examine the licensing and support options available from the providers of these tools.</span></span>

### <span data-ttu-id="8eb7f-783"><a name="appendix-1"></a>Bilaga 1: Med Fiddler att samla in HTTP och HTTPS-trafik</span><span class="sxs-lookup"><span data-stu-id="8eb7f-783"><a name="appendix-1"></a>Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic</span></span>
<span data-ttu-id="8eb7f-784">Fiddler är användbart för att analysera HTTP och HTTPS-trafik mellan ditt klientprogram och Azure storage-tjänst som du använder.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-784">Fiddler is a useful tool for analyzing the HTTP and HTTPS traffic between your client application and the Azure storage service you are using.</span></span> <span data-ttu-id="8eb7f-785">Du kan hämta Fiddler från <a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-785">You can download Fiddler from <a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>.</span></span>

> [!NOTE]
> <span data-ttu-id="8eb7f-786">Fiddler kan avkoda HTTPS-trafik. Du bör läsa dokumentationen Fiddler noggrant för att förstå hur detta sker och att förstå säkerhetsaspekterna.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-786">Fiddler can decode HTTPS traffic; you should read the Fiddler documentation carefully to understand how it does this, and to understand the security implications.</span></span>
> 
> 

<span data-ttu-id="8eb7f-787">Den här bilagan innehåller en kort genomgång av hur du konfigurerar Fiddler för att fånga in trafik mellan den lokala datorn där du har installerat Fiddler och Azure storage-tjänster.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-787">This appendix provides a brief walkthrough of how to configure Fiddler to capture traffic between the local machine where you have installed Fiddler and the Azure storage services.</span></span>

<span data-ttu-id="8eb7f-788">När du har öppnat Fiddler börjar samla in HTTP och HTTPS-trafik på den lokala datorn.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-788">After you have launched Fiddler, it will begin capturing HTTP and HTTPS traffic on your local machine.</span></span> <span data-ttu-id="8eb7f-789">Följande är några användbara kommandon för att styra Fiddler:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-789">The following are some useful commands for controlling Fiddler:</span></span>

* <span data-ttu-id="8eb7f-790">Stoppa och starta fånga in trafik.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-790">Stop and start capturing traffic.</span></span> <span data-ttu-id="8eb7f-791">På huvudmenyn, gå till **filen** och klicka sedan på **fånga in trafik** att växla avbildning på och stänga av.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-791">On the main menu, go to **File** and then click **Capture Traffic** to toggle capturing on and off.</span></span>
* <span data-ttu-id="8eb7f-792">Spara insamlade trafikinformation.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-792">Save captured traffic data.</span></span> <span data-ttu-id="8eb7f-793">På huvudmenyn, gå till **filen**, klickar du på **spara**, och klicka sedan på **alla sessioner**: Detta gör att du kan spara trafiken i en Session arkivfilen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-793">On the main menu, go to **File**, click **Save**, and then click **All Sessions**: this enables you to save the traffic in a Session Archive file.</span></span> <span data-ttu-id="8eb7f-794">Du kan läsa in ett Session-Arkiv senare för analys, eller skicka den begäran till Microsoft support.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-794">You can reload a Session Archive later for analysis, or send it if requested to Microsoft support.</span></span>

<span data-ttu-id="8eb7f-795">Om du vill begränsa mängden trafik som samlar in Fiddler, du kan använda filter som du konfigurerar i den **filter** fliken.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-795">To limit the amount of traffic that Fiddler captures, you can use filters that you configure in the **Filters** tab.</span></span> <span data-ttu-id="8eb7f-796">Följande skärmbild visar ett filter som samlar in endast trafik som skickas till den **contosoemaildist.table.core.windows.net** lagring slutpunkt:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-796">The following screenshot shows a filter that captures only traffic sent to the **contosoemaildist.table.core.windows.net** storage endpoint:</span></span>

![][5]

### <span data-ttu-id="8eb7f-797"><a name="appendix-2"></a>Bilaga 2: Använder Wireshark för att avbilda nätverkstrafik</span><span class="sxs-lookup"><span data-stu-id="8eb7f-797"><a name="appendix-2"></a>Appendix 2: Using Wireshark to capture network traffic</span></span>
<span data-ttu-id="8eb7f-798">Wireshark är en nätverksprotokollanalysator som gör att du kan visa detaljerad paketinformationen för en mängd olika nätverksprotokoll.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-798">Wireshark is a network protocol analyzer that enables you to view detailed packet information for a wide range of network protocols.</span></span> <span data-ttu-id="8eb7f-799">Du kan hämta Wireshark från <a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-799">You can download Wireshark from <a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>.</span></span>

<span data-ttu-id="8eb7f-800">Följande procedur visar hur du kan få detaljerad paketinformationen för trafik från den lokala datorn där du installerade Wireshark till tabelltjänsten i ditt Azure storage-konto.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-800">The following procedure shows you how to capture detailed packet information for traffic from the local machine where you installed Wireshark to the table service in your Azure storage account.</span></span>

1. <span data-ttu-id="8eb7f-801">Starta Wireshark på din lokala dator.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-801">Launch Wireshark on your local machine.</span></span>
2. <span data-ttu-id="8eb7f-802">I den **starta** väljer du det lokala nätverket eller flera gränssnitt som är anslutna till internet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-802">In the **Start** section, select the local network interface or interfaces that are connected to the internet.</span></span>
3. <span data-ttu-id="8eb7f-803">Klicka på **avbilda alternativ**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-803">Click **Capture Options**.</span></span>
4. <span data-ttu-id="8eb7f-804">Lägg till ett filter för att den **Capture Filter** textruta.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-804">Add a filter to the **Capture Filter** textbox.</span></span> <span data-ttu-id="8eb7f-805">Till exempel **värd contosoemaildist.table.core.windows.net** konfigurerar Wireshark för att avbilda endast de paket som skickas till eller från tabelltjänst i den **contosoemaildist** storage-konto.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-805">For example, **host contosoemaildist.table.core.windows.net** will configure Wireshark to capture only packets sent to or from the table service endpoint in the **contosoemaildist** storage account.</span></span> <span data-ttu-id="8eb7f-806">En fullständig lista över avbilda filter finns <a href="http://wiki.wireshark.org/CaptureFilters" target="_blank">http://wiki.wireshark.org/CaptureFilters</a>.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-806">For a complete list of Capture Filters see <a href="http://wiki.wireshark.org/CaptureFilters" target="_blank">http://wiki.wireshark.org/CaptureFilters</a>.</span></span>
   
   ![][6]
5. <span data-ttu-id="8eb7f-807">Klicka på **starta**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-807">Click **Start**.</span></span> <span data-ttu-id="8eb7f-808">Wireshark nu avbildar alla paketen skickas till eller från tabellen tjänstslutpunkten som du använder klientprogrammet på den lokala datorn.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-808">Wireshark will now capture all the packets send to or from the table service endpoint as you use your client application on your local machine.</span></span>
6. <span data-ttu-id="8eb7f-809">När du är klar, klicka på huvudmenyn **avbilda** och sedan **stoppa**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-809">When you have finished, on the main menu click **Capture** and then **Stop**.</span></span>
7. <span data-ttu-id="8eb7f-810">Om du vill spara den fångade data i en Wireshark avbilda fil på huvudmenyn klickar du på **filen** och sedan **spara**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-810">To save the captured data in a Wireshark Capture File, on the main menu click **File** and then **Save**.</span></span>

<span data-ttu-id="8eb7f-811">WireShark markerar du eventuella fel som finns i den **packetlist** fönster.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-811">WireShark will highlight any errors that exist in the **packetlist** window.</span></span> <span data-ttu-id="8eb7f-812">Du kan också använda den **Expert Info** fönstret (klicka på **analysera**, sedan **Expert Info**) att visa en sammanfattning av fel och varningar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-812">You can also use the **Expert Info** window (click **Analyze**, then **Expert Info**) to view a summary of errors and warnings.</span></span>

![][7]

<span data-ttu-id="8eb7f-813">Kan du också välja att visa TCP-data som programlager ser den genom att högerklicka på TCP-data och välja **följer TCP-ström**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-813">You can also chose to view the TCP data as the application layer sees it by right-clicking on the TCP data and selecting **Follow TCP Stream**.</span></span> <span data-ttu-id="8eb7f-814">Detta är särskilt användbart om du har hämtat dina dump utan ett filter för avbildning.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-814">This is particularly useful if you captured your dump without a capture filter.</span></span> <span data-ttu-id="8eb7f-815">Se <a href="http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html" target="_blank">här</a> för mer information.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-815">See <a href="http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html" target="_blank">here</a> for more information.</span></span>

![][8]

> [!NOTE]
> <span data-ttu-id="8eb7f-816">Mer information om hur du använder Wireshark finns i <a href="http://www.wireshark.org/docs/wsug_html_chunked/" target="_blank">Wireshark användarhandboken</a>.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-816">For more information about using Wireshark, see the <a href="http://www.wireshark.org/docs/wsug_html_chunked/" target="_blank">Wireshark Users Guide</a>.</span></span>
> 
> 

### <span data-ttu-id="8eb7f-817"><a name="appendix-3"></a>Tillägg 3: Använda Microsoft Message Analyzer för att avbilda nätverkstrafik</span><span class="sxs-lookup"><span data-stu-id="8eb7f-817"><a name="appendix-3"></a>Appendix 3: Using Microsoft Message Analyzer to capture network traffic</span></span>
<span data-ttu-id="8eb7f-818">Du kan använda Microsoft Message Analyzer att samla in HTTP och HTTPS-trafik på liknande sätt som i Fiddler och avbilda nätverkstrafik på ett liknande sätt att Wireshark.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-818">You can use Microsoft Message Analyzer to capture HTTP and HTTPS traffic in a similar way to Fiddler, and capture network traffic in a similar way to Wireshark.</span></span>

#### <a name="configure-a-web-tracing-session-using-microsoft-message-analyzer"></a><span data-ttu-id="8eb7f-819">Konfigurera en session för spårning av webbprogram med hjälp av Microsoft Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="8eb7f-819">Configure a web tracing session using Microsoft Message Analyzer</span></span>
<span data-ttu-id="8eb7f-820">Så här konfigurerar du en spårning webbsessionen för HTTP och HTTPS-trafik med hjälp av Microsoft Message Analyzer kör programmet Microsoft Message Analyzer och sedan på den **filen** -menyn klickar du på **avbilda/Trace**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-820">To configure a web tracing session for HTTP and HTTPS traffic using Microsoft Message Analyzer, run the Microsoft Message Analyzer application and then on the **File** menu, click **Capture/Trace**.</span></span> <span data-ttu-id="8eb7f-821">Välj i listan över tillgängliga trace scenarier, **webbproxy**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-821">In the list of available trace scenarios, select **Web Proxy**.</span></span> <span data-ttu-id="8eb7f-822">I den **scenariot spårningskonfiguration** panelen i den **HostnameFilter** textruta lägga till namnen på dina slutpunkter för lagring (kan du söka efter dessa namn i den klassiska Azure-portalen).</span><span class="sxs-lookup"><span data-stu-id="8eb7f-822">Then in the **Trace Scenario Configuration** panel, in the **HostnameFilter** textbox, add the names of your storage endpoints (you can look up these names in the Azure Classic Portal).</span></span> <span data-ttu-id="8eb7f-823">Om namnet på ditt Azure storage-konto är till exempel **contosodata**, bör du lägga till följande för att den **HostnameFilter** textruta:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-823">For example, if the name of your Azure storage account is **contosodata**, you should add the following to the **HostnameFilter** textbox:</span></span>

```
contosodata.blob.core.windows.net contosodata.table.core.windows.net contosodata.queue.core.windows.net
```

> [!NOTE]
> <span data-ttu-id="8eb7f-824">Blanksteg avgränsar värdnamnen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-824">A space character separates the hostnames.</span></span>
> 
> 

<span data-ttu-id="8eb7f-825">När du är redo att börja samla in spårningsdata klickar du på den **starta med** knappen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-825">When you are ready to start collecting trace data, click the **Start With** button.</span></span>

<span data-ttu-id="8eb7f-826">Mer information om Microsoft Message Analyzer **webbproxy** spåra, se <a href="http://technet.microsoft.com/library/jj674814.aspx" target="_blank">PEF WebProxy providern</a> på TechNet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-826">For more information about the Microsoft Message Analyzer **Web Proxy** trace, see <a href="http://technet.microsoft.com/library/jj674814.aspx" target="_blank">PEF-WebProxy Provider</a> on TechNet.</span></span>

<span data-ttu-id="8eb7f-827">Inbyggt **webbproxy** spårning i Microsoft Message Analyzer baseras på Fiddler; den kan samla in klientsidans HTTPS-trafik och visa okrypterade HTTPS-meddelanden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-827">The built-in **Web Proxy** trace in Microsoft Message Analyzer is based on Fiddler; it can capture client-side HTTPS traffic and display unencrypted HTTPS messages.</span></span> <span data-ttu-id="8eb7f-828">Den **webbproxy** spåra fungerar genom att konfigurera en lokal proxyserver för alla HTTP och HTTPS-trafik som ger tillgång till okrypterade meddelanden.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-828">The **Web Proxy** trace works by configuring a local proxy for all HTTP and HTTPS traffic that gives it access to unencrypted messages.</span></span>

#### <a name="diagnosing-network-issues-using-microsoft-message-analyzer"></a><span data-ttu-id="8eb7f-829">Diagnostisera problem med Microsoft Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="8eb7f-829">Diagnosing network issues using Microsoft Message Analyzer</span></span>
<span data-ttu-id="8eb7f-830">Förutom att använda Microsoft Message Analyzer **webbproxy** spårning för att samla in information om HTTP/HTTPs-trafik mellan klientprogrammet och storage-tjänst, du kan också använda inbyggt **lokala länknivå** spårning för att samla in nätverksinformation för paketet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-830">In addition to using the Microsoft Message Analyzer **Web Proxy** trace to capture details of the HTTP/HTTPs traffic between the client application and the storage service, you can also use the built-in **Local Link Layer** trace to capture network packet information.</span></span> <span data-ttu-id="8eb7f-831">Det här kan du samla in data som liknar den som du kan avbilda med Wireshark och diagnostisera nätverk problem som tappade paket.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-831">This enables you to capture data similar to that which you can capture with Wireshark, and diagnose network issues such as dropped packets.</span></span>

<span data-ttu-id="8eb7f-832">Följande skärmbild visar ett exempel **lokala länknivå** spårningen med några **informationsmeddelande** meddelanden i den **DiagnosisTypes** kolumn.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-832">The following screenshot shows an example **Local Link Layer** trace with some **informational** messages in the **DiagnosisTypes** column.</span></span> <span data-ttu-id="8eb7f-833">Klicka på en ikon i den **DiagnosisTypes** kolumnen visar informationen för meddelandet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-833">Clicking on an icon in the **DiagnosisTypes** column shows the details of the message.</span></span> <span data-ttu-id="8eb7f-834">I det här exemplet skickats meddelandet #305 om servern eftersom den inte fick en bekräftelse från klienten:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-834">In this example, the server retransmitted message #305 because it did not receive an acknowledgement from the client:</span></span>

![][9]

<span data-ttu-id="8eb7f-835">När du skapar spårningssessionen i Microsoft Message Analyzer kan du ange filter för att minska mängden brus i spårningen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-835">When you create the trace session in Microsoft Message Analyzer, you can specify filters to reduce the amount of noise in the trace.</span></span> <span data-ttu-id="8eb7f-836">På den **avbilda / spåra** sida där du definierar spårningen, klicka på den **konfigurera** länka bredvid **Microsoft-Windows-NDIS-PacketCapture**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-836">On the **Capture / Trace** page where you define the trace, click on the **Configure** link next to **Microsoft-Windows-NDIS-PacketCapture**.</span></span> <span data-ttu-id="8eb7f-837">Följande skärmbild visar en konfiguration som filtrerar TCP-trafik för IP-adresserna för tre storage-tjänster:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-837">The following screenshot shows a configuration that filters TCP traffic for the IP addresses of three storage services:</span></span>

![][10]

<span data-ttu-id="8eb7f-838">Läs mer om Microsoft Message Analyzer lokala länknivå spårningen <a href="http://technet.microsoft.com/library/jj659264.aspx" target="_blank">PEF-NDIS-PacketCapture Provider</a> på TechNet.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-838">For more information about the Microsoft Message Analyzer Local Link Layer trace, see <a href="http://technet.microsoft.com/library/jj659264.aspx" target="_blank">PEF-NDIS-PacketCapture Provider</a> on TechNet.</span></span>

### <span data-ttu-id="8eb7f-839"><a name="appendix-4"></a>Tillägg 4: Använda Excel för att visa mått och logga data</span><span class="sxs-lookup"><span data-stu-id="8eb7f-839"><a name="appendix-4"></a>Appendix 4: Using Excel to view metrics and log data</span></span>
<span data-ttu-id="8eb7f-840">Många verktyg kan du ladda ned Storage-mätvärden data från Azure-tabellagring i formatet avgränsad som gör det enkelt att läsa in data till Excel för visning och analys.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-840">Many tools enable you to download the Storage Metrics data from Azure table storage in a delimited format that makes it easy to load the data into Excel for viewing and analysis.</span></span> <span data-ttu-id="8eb7f-841">Lagring loggningsdata från Azure blob storage finns redan i en avgränsad format som du kan läsa in i Excel.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-841">Storage Logging data from Azure blob storage is already in a delimited format that you can load into Excel.</span></span> <span data-ttu-id="8eb7f-842">Men du behöver lägga till lämpliga kolumnrubrikerna i informationen på <a href="http://msdn.microsoft.com/library/azure/hh343259.aspx" target="_blank">Storage Analytics loggformatet</a> och <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics mätvärden tabellschemat</a>.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-842">However, you will need to add appropriate column headings based in the information at <a href="http://msdn.microsoft.com/library/azure/hh343259.aspx" target="_blank">Storage Analytics Log Format</a> and <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics Metrics Table Schema</a>.</span></span>

<span data-ttu-id="8eb7f-843">Importera dina data för loggning av lagring till Excel när du har hämtat från blob storage:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-843">To import your Storage Logging data into Excel after you download it from blob storage:</span></span>

* <span data-ttu-id="8eb7f-844">På den **Data** -menyn klickar du på **från Text**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-844">On the **Data** menu, click **From Text**.</span></span>
* <span data-ttu-id="8eb7f-845">Bläddra till den loggfil som du vill visa och klicka på **importera**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-845">Browse to the log file you want to view and click **Import**.</span></span>
* <span data-ttu-id="8eb7f-846">I steg 1 i den **guiden**väljer **avgränsad**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-846">On step 1 of the **Text Import Wizard**, select **Delimited**.</span></span>

<span data-ttu-id="8eb7f-847">I steg 1 i den **guiden**väljer **semikolon** som endast avgränsare och välj dubbla citattecken som den **textavgränsare**.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-847">On step 1 of the **Text Import Wizard**, select **Semicolon** as the only delimiter and choose double-quote as the **Text qualifier**.</span></span> <span data-ttu-id="8eb7f-848">Klicka på **Slutför** och välj var du ska placera data i arbetsboken.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-848">Then click **Finish** and choose where to place the data in your workbook.</span></span>

### <span data-ttu-id="8eb7f-849"><a name="appendix-5"></a>Tillägg 5: Övervaka med Programinsikter för Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="8eb7f-849"><a name="appendix-5"></a>Appendix 5: Monitoring with Application Insights for Visual Studio Team Services</span></span>
<span data-ttu-id="8eb7f-850">Du kan också använda funktionen Programinsikter för Visual Studio Team Services som en del av prestanda och tillgänglighetsövervakning.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-850">You can also use the Application Insights feature for Visual Studio Team Services as part of your performance and availability monitoring.</span></span> <span data-ttu-id="8eb7f-851">Det här verktyget kan:</span><span class="sxs-lookup"><span data-stu-id="8eb7f-851">This tool can:</span></span>

* <span data-ttu-id="8eb7f-852">Kontrollera att webbtjänsten är tillgänglig och svarstid.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-852">Make sure your web service is available and responsive.</span></span> <span data-ttu-id="8eb7f-853">Om din app är en webbplats eller en enhetsapp som använder en webbtjänst kan det Testa URL: en med några minuters mellanrum från platser över hela världen och att du vet om det finns ett problem.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-853">Whether your app is a web site or a device app that uses a web service, it can test your URL every few minutes from locations around the world, and let you know if there's a problem.</span></span>
* <span data-ttu-id="8eb7f-854">Snabbt diagnostisera eventuella problem med prestanda eller undantag i webbtjänsten.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-854">Quickly diagnose any performance issues or exceptions in your web service.</span></span> <span data-ttu-id="8eb7f-855">Ta reda på om CPU eller andra resurser är att sträckas ut, hämta stackspår från undantag och enkelt söka igenom loggspårningar.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-855">Find out if CPU or other resources are being stretched, get stack traces from exceptions, and easily search through log traces.</span></span> <span data-ttu-id="8eb7f-856">Om appens prestanda sjunker under acceptabla gränser, kan vi skicka ett e-postmeddelande.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-856">If the app's performance drops below acceptable limits, we can send you an email.</span></span> <span data-ttu-id="8eb7f-857">Du kan övervaka både .NET och Java-webbtjänster.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-857">You can monitor both .NET and Java web services.</span></span>

<span data-ttu-id="8eb7f-858">Vid tiden för skrivning Application Insights är i förhandsgranskningen.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-858">At the time of writing Application Insights is in preview.</span></span> <span data-ttu-id="8eb7f-859">Du hittar mer information i <a href="http://msdn.microsoft.com/library/azure/dn481095.aspx" target="_blank">Programinsikter för Visual Studio Team Services på MSDN</a>.</span><span class="sxs-lookup"><span data-stu-id="8eb7f-859">You can find more information at <a href="http://msdn.microsoft.com/library/azure/dn481095.aspx" target="_blank">Application Insights for Visual Studio Team Services on MSDN</a>.</span></span>

<!--Anchors-->
<span data-ttu-id="8eb7f-860">[Introduktion]: #introduction</span><span class="sxs-lookup"><span data-stu-id="8eb7f-860">[Introduction]: #introduction</span></span>
<span data-ttu-id="8eb7f-861">[Hur den här guiden är organiserat]: #how-this-guide-is-organized</span><span class="sxs-lookup"><span data-stu-id="8eb7f-861">[How this guide is organized]: #how-this-guide-is-organized</span></span>

<span data-ttu-id="8eb7f-862">[övervakning lagringstjänsten]: #monitoring-your-storage-service</span><span class="sxs-lookup"><span data-stu-id="8eb7f-862">[Monitoring your storage service]: #monitoring-your-storage-service</span></span>
<span data-ttu-id="8eb7f-863">[Övervakning av tjänstens hälsa]: #monitoring-service-health</span><span class="sxs-lookup"><span data-stu-id="8eb7f-863">[Monitoring service health]: #monitoring-service-health</span></span>
<span data-ttu-id="8eb7f-864">[Övervakning av kapacitet]: #monitoring-capacity</span><span class="sxs-lookup"><span data-stu-id="8eb7f-864">[Monitoring capacity]: #monitoring-capacity</span></span>
<span data-ttu-id="8eb7f-865">[Övervaka tillgänglighet]: #monitoring-availability</span><span class="sxs-lookup"><span data-stu-id="8eb7f-865">[Monitoring availability]: #monitoring-availability</span></span>
<span data-ttu-id="8eb7f-866">[Övervaka prestanda]: #monitoring-performance</span><span class="sxs-lookup"><span data-stu-id="8eb7f-866">[Monitoring performance]: #monitoring-performance</span></span>

<span data-ttu-id="8eb7f-867">[diagnostisera problem med lagring]: #diagnosing-storage-issues</span><span class="sxs-lookup"><span data-stu-id="8eb7f-867">[Diagnosing storage issues]: #diagnosing-storage-issues</span></span>
<span data-ttu-id="8eb7f-868">[Hälsotillståndsproblem med tjänsten för]: #service-health-issues</span><span class="sxs-lookup"><span data-stu-id="8eb7f-868">[Service health issues]: #service-health-issues</span></span>
<span data-ttu-id="8eb7f-869">[Prestandaproblem]: #performance-issues</span><span class="sxs-lookup"><span data-stu-id="8eb7f-869">[Performance issues]: #performance-issues</span></span>
<span data-ttu-id="8eb7f-870">[Diagnostisera fel]: #diagnosing-errors</span><span class="sxs-lookup"><span data-stu-id="8eb7f-870">[Diagnosing errors]: #diagnosing-errors</span></span>
<span data-ttu-id="8eb7f-871">[Storage-emulatorn problem]: #storage-emulator-issues</span><span class="sxs-lookup"><span data-stu-id="8eb7f-871">[Storage emulator issues]: #storage-emulator-issues</span></span>
<span data-ttu-id="8eb7f-872">[Loggningsverktyg för lagring]: #storage-logging-tools</span><span class="sxs-lookup"><span data-stu-id="8eb7f-872">[Storage logging tools]: #storage-logging-tools</span></span>
<span data-ttu-id="8eb7f-873">[Med hjälp av verktyg för loggning]: #using-network-logging-tools</span><span class="sxs-lookup"><span data-stu-id="8eb7f-873">[Using network logging tools]: #using-network-logging-tools</span></span>

<span data-ttu-id="8eb7f-874">[slutpunkt till slutpunkt spårning]: #end-to-end-tracing</span><span class="sxs-lookup"><span data-stu-id="8eb7f-874">[End-to-end tracing]: #end-to-end-tracing</span></span>
<span data-ttu-id="8eb7f-875">[Korrelerar loggdata]: #correlating-log-data</span><span class="sxs-lookup"><span data-stu-id="8eb7f-875">[Correlating log data]: #correlating-log-data</span></span>
<span data-ttu-id="8eb7f-876">[ID för klientbegäran]: #client-request-id</span><span class="sxs-lookup"><span data-stu-id="8eb7f-876">[Client request ID]: #client-request-id</span></span>
<span data-ttu-id="8eb7f-877">[Server begäran-ID]: #server-request-id</span><span class="sxs-lookup"><span data-stu-id="8eb7f-877">[Server request ID]: #server-request-id</span></span>
<span data-ttu-id="8eb7f-878">[Tidsstämplar]: #timestamps</span><span class="sxs-lookup"><span data-stu-id="8eb7f-878">[Timestamps]: #timestamps</span></span>

<span data-ttu-id="8eb7f-879">[felsökningsanvisningar]: #troubleshooting-guidance</span><span class="sxs-lookup"><span data-stu-id="8eb7f-879">[Troubleshooting guidance]: #troubleshooting-guidance</span></span>
<span data-ttu-id="8eb7f-880">[mätvärdena visar AverageE2ELatency hög och låg AverageServerLatency]: #metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="8eb7f-880">[Metrics show high AverageE2ELatency and low AverageServerLatency]: #metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency</span></span>
<span data-ttu-id="8eb7f-881">[Mätningar visar låga värden för AverageE2ELatency och AverageServerLatency, men klienten har ändå långa svarstider]: #metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="8eb7f-881">[Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency]: #metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency</span></span>
<span data-ttu-id="8eb7f-882">[Mätningar visar ett högt värde för AverageServerLatency]: #metrics-show-high-AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="8eb7f-882">[Metrics show high AverageServerLatency]: #metrics-show-high-AverageServerLatency</span></span>
<span data-ttu-id="8eb7f-883">[Du upplever oväntade fördröjningar i en köad meddelandeleverans]: #you-are-experiencing-unexpected-delays-in-message-delivery</span><span class="sxs-lookup"><span data-stu-id="8eb7f-883">[You are experiencing unexpected delays in message delivery on a queue]: #you-are-experiencing-unexpected-delays-in-message-delivery</span></span>

<span data-ttu-id="8eb7f-884">[mätvärdena visar en ökning i PercentThrottlingError]: #metrics-show-an-increase-in-PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="8eb7f-884">[Metrics show an increase in PercentThrottlingError]: #metrics-show-an-increase-in-PercentThrottlingError</span></span>
<span data-ttu-id="8eb7f-885">[Tillfällig ökning PercentThrottlingError]: #transient-increase-in-PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="8eb7f-885">[Transient increase in PercentThrottlingError]: #transient-increase-in-PercentThrottlingError</span></span>
<span data-ttu-id="8eb7f-886">[Permanent ökning PercentThrottlingError fel]: #permanent-increase-in-PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="8eb7f-886">[Permanent increase in PercentThrottlingError error]: #permanent-increase-in-PercentThrottlingError</span></span>
<span data-ttu-id="8eb7f-887">[mätvärdena visar en ökning i PercentTimeoutError]: #metrics-show-an-increase-in-PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="8eb7f-887">[Metrics show an increase in PercentTimeoutError]: #metrics-show-an-increase-in-PercentTimeoutError</span></span>
<span data-ttu-id="8eb7f-888">[Mätningar visar en ökning i PercentNetworkError]: #metrics-show-an-increase-in-PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="8eb7f-888">[Metrics show an increase in PercentNetworkError]: #metrics-show-an-increase-in-PercentNetworkError</span></span>

<span data-ttu-id="8eb7f-889">[Klienten tar emot HTTP 403 (förbjuden) meddelanden]: #the-client-is-receiving-403-messages</span><span class="sxs-lookup"><span data-stu-id="8eb7f-889">[The client is receiving HTTP 403 (Forbidden) messages]: #the-client-is-receiving-403-messages</span></span>
<span data-ttu-id="8eb7f-890">[Klienten tar emot HTTP 404 (inget hittas) meddelanden]: #the-client-is-receiving-404-messages</span><span class="sxs-lookup"><span data-stu-id="8eb7f-890">[The client is receiving HTTP 404 (Not found) messages]: #the-client-is-receiving-404-messages</span></span>
<span data-ttu-id="8eb7f-891">[Klienten eller en annan process tidigare har tagit bort objektet]: #client-previously-deleted-the-object</span><span class="sxs-lookup"><span data-stu-id="8eb7f-891">[The client or another process previously deleted the object]: #client-previously-deleted-the-object</span></span>
<span data-ttu-id="8eb7f-892">[Ett problem med auktorisering delade signatur åtkomst (SAS)]: #SAS-authorization-issue</span><span class="sxs-lookup"><span data-stu-id="8eb7f-892">[A Shared Access Signature (SAS) authorization issue]: #SAS-authorization-issue</span></span>
<span data-ttu-id="8eb7f-893">[Klientens JavaScript-kod har inte behörighet att komma åt objektet]: #JavaScript-code-does-not-have-permission</span><span class="sxs-lookup"><span data-stu-id="8eb7f-893">[Client-side JavaScript code does not have permission to access the object]: #JavaScript-code-does-not-have-permission</span></span>
<span data-ttu-id="8eb7f-894">[Nätverksfel]: #network-failure</span><span class="sxs-lookup"><span data-stu-id="8eb7f-894">[Network failure]: #network-failure</span></span>
<span data-ttu-id="8eb7f-895">[Klienten tar emot HTTP 409 (konflikt) meddelanden]: #the-client-is-receiving-409-messages</span><span class="sxs-lookup"><span data-stu-id="8eb7f-895">[The client is receiving HTTP 409 (Conflict) messages]: #the-client-is-receiving-409-messages</span></span>

<span data-ttu-id="8eb7f-896">[mätvärdena visar låg PercentSuccess eller analytics loggposter innehålla åtgärder med transaktionsstatus av ClientOtherErrors]: #metrics-show-low-percent-success</span><span class="sxs-lookup"><span data-stu-id="8eb7f-896">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]: #metrics-show-low-percent-success</span></span>
<span data-ttu-id="8eb7f-897">[Kapacitetsdata visar en oväntad ökning i kapacitetsförbrukning för lagring]: #capacity-metrics-show-an-unexpected-increase</span><span class="sxs-lookup"><span data-stu-id="8eb7f-897">[Capacity metrics show an unexpected increase in storage capacity usage]: #capacity-metrics-show-an-unexpected-increase</span></span>
<span data-ttu-id="8eb7f-898">[Det uppstår oväntade omstarter av virtuella datorer som har ett stort antal anslutna virtuella hårddiskar]: #you-are-experiencing-unexpected-reboots</span><span class="sxs-lookup"><span data-stu-id="8eb7f-898">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]: #you-are-experiencing-unexpected-reboots</span></span>
<span data-ttu-id="8eb7f-899">[Problemet uppstår från med hjälp av storage-emulatorn för utveckling eller testning]: #your-issue-arises-from-using-the-storage-emulator</span><span class="sxs-lookup"><span data-stu-id="8eb7f-899">[Your issue arises from using the storage emulator for development or test]: #your-issue-arises-from-using-the-storage-emulator</span></span>
<span data-ttu-id="8eb7f-900">[Funktionen ”X” fungerar inte i storage-emulatorn]: #feature-X-is-not-working</span><span class="sxs-lookup"><span data-stu-id="8eb7f-900">[Feature "X" is not working in the storage emulator]: #feature-X-is-not-working</span></span>
<span data-ttu-id="8eb7f-901">[Fel ”värdet för en HTTP-huvuden är inte i rätt format” när du använder lagringsemulatorn]: #error-HTTP-header-not-correct-format</span><span class="sxs-lookup"><span data-stu-id="8eb7f-901">[Error "The value for one of the HTTP headers is not in the correct format" when using the storage emulator]: #error-HTTP-header-not-correct-format</span></span>
<span data-ttu-id="8eb7f-902">[Kör lagringsemulatorn kräver administratörsbehörighet]: #storage-emulator-requires-administrative-privileges</span><span class="sxs-lookup"><span data-stu-id="8eb7f-902">[Running the storage emulator requires administrative privileges]: #storage-emulator-requires-administrative-privileges</span></span>
<span data-ttu-id="8eb7f-903">[Det uppstår problem med att installera Azure SDK för .NET]: #you-are-encountering-problems-installing-the-Windows-Azure-SDK</span><span class="sxs-lookup"><span data-stu-id="8eb7f-903">[You are encountering problems installing the Azure SDK for .NET]: #you-are-encountering-problems-installing-the-Windows-Azure-SDK</span></span>
<span data-ttu-id="8eb7f-904">[Du har ett annat problem med en storage-tjänst]: #you-have-a-different-issue-with-a-storage-service</span><span class="sxs-lookup"><span data-stu-id="8eb7f-904">[You have a different issue with a storage service]: #you-have-a-different-issue-with-a-storage-service</span></span>

<span data-ttu-id="8eb7f-905">[tilläggen]: #appendices</span><span class="sxs-lookup"><span data-stu-id="8eb7f-905">[Appendices]: #appendices</span></span>
<span data-ttu-id="8eb7f-906">[bilaga 1: använder Fiddler för att samla in HTTP och HTTPS-trafik]: #appendix-1</span><span class="sxs-lookup"><span data-stu-id="8eb7f-906">[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]: #appendix-1</span></span>
<span data-ttu-id="8eb7f-907">[bilaga 2: använda Wireshark att avbilda nätverkstrafik]: #appendix-2</span><span class="sxs-lookup"><span data-stu-id="8eb7f-907">[Appendix 2: Using Wireshark to capture network traffic]: #appendix-2</span></span>
<span data-ttu-id="8eb7f-908">[tillägg 3: använda Microsoft Message Analyzer att avbilda nätverkstrafik]: #appendix-3</span><span class="sxs-lookup"><span data-stu-id="8eb7f-908">[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]: #appendix-3</span></span>
<span data-ttu-id="8eb7f-909">[Tillägg 4: Använda Excel för att visa mått och logga data]: #appendix-4</span><span class="sxs-lookup"><span data-stu-id="8eb7f-909">[Appendix 4: Using Excel to view metrics and log data]: #appendix-4</span></span>
<span data-ttu-id="8eb7f-910">[tillägg 5: övervaka med Programinsikter för Visual Studio Team Services]: #appendix-5</span><span class="sxs-lookup"><span data-stu-id="8eb7f-910">[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]: #appendix-5</span></span>

<!--Image references-->
[1]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/overview.png
[2]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/portal-screenshot.png
[3]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/hour-minute-metrics.png
[4]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/high-e2e-latency.png
[5]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/fiddler-screenshot.png
[6]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/wireshark-screenshot-1.png
[7]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/wireshark-screenshot-2.png
[8]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/wireshark-screenshot-3.png
[9]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/mma-screenshot-1.png
[10]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/mma-screenshot-2.png
