---
title: "Använder Azure CDN åtkomst till blobbar med anpassade domäner via HTTPS"
description: "Lär dig att integrera Azure CDN med blob storage för att få åtkomst till blobbar med anpassade domäner via HTTPS"
services: storage
documentationcenter: 
author: michaelhauss
manager: vamshik
editor: tysonn
ms.assetid: 
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/04/2017
ms.author: mihauss
ms.openlocfilehash: 6bad04df324a374f6e8473890345cf516322abd6
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/29/2017
---
# <a name="using-the-azure-cdn-to-access-blobs-with-custom-domains-over-https"></a><span data-ttu-id="49a8b-103">Använder Azure CDN åtkomst till blobbar med anpassade domäner via HTTPS</span><span class="sxs-lookup"><span data-stu-id="49a8b-103">Using the Azure CDN to access blobs with custom domains over HTTPS</span></span>

<span data-ttu-id="49a8b-104">Azure Content Delivery Network (CDN) har nu stöd för HTTPS för anpassade domännamn.</span><span class="sxs-lookup"><span data-stu-id="49a8b-104">Azure Content Delivery Network (CDN) now supports HTTPS for custom domain names.</span></span>
<span data-ttu-id="49a8b-105">Du kan använda den här funktionen för att komma åt storage-blobbar med hjälp av den anpassade domänen via HTTPS.</span><span class="sxs-lookup"><span data-stu-id="49a8b-105">You can leverage this feature to access storage blobs using your custom domain over HTTPS.</span></span> <span data-ttu-id="49a8b-106">Om du vill göra det måste måste du först du aktivera Azure CDN för din slutpunkt för blob och mappa CDN till ett anpassat domännamn.</span><span class="sxs-lookup"><span data-stu-id="49a8b-106">To do so, you’ll first need to enable Azure CDN on your blob endpoint and map the CDN to a custom domain name.</span></span> <span data-ttu-id="49a8b-107">När du har gjort är aktivera HTTPS för den anpassade domänen förenklad via en enda klickning aktivering, fullständig certifikathantering och alla med utan extra kostnad för normal CDN-prisnivå.</span><span class="sxs-lookup"><span data-stu-id="49a8b-107">Once you take these steps, enabling HTTPS for your custom domain is simplified via one-click enablement, complete certificate management, and all with no additional cost to normal CDN pricing.</span></span>

<span data-ttu-id="49a8b-108">Den här möjligheten är viktigt eftersom det gör det möjligt att skydda sekretessen och dataintegritet känsliga web application data under överföringen.</span><span class="sxs-lookup"><span data-stu-id="49a8b-108">This ability is important because it enables you to protect the privacy and data integrity of your sensitive web application data while in transit.</span></span> <span data-ttu-id="49a8b-109">Använda SSL-protokollet för att hantera trafik via HTTPS garanterar att data krypteras när de skickas över internet.</span><span class="sxs-lookup"><span data-stu-id="49a8b-109">Using the SSL protocol to serve traffic via HTTPS ensures that data is encrypted when it is sent across the internet.</span></span> <span data-ttu-id="49a8b-110">HTTPS ger förtroende och autentisering och skyddar ditt webbprogram från attacker.</span><span class="sxs-lookup"><span data-stu-id="49a8b-110">HTTPS provides trust and authentication, and protects your web applications from attacks.</span></span>

> [!NOTE]
> <span data-ttu-id="49a8b-111">Förutom att tillhandahålla SSL-stöd för anpassade domännamn kan Azure CDN hjälp du skala ditt program för att leverera innehåll med hög bandbredd runtom i världen.</span><span class="sxs-lookup"><span data-stu-id="49a8b-111">In addition to providing SSL support for custom domain names, the Azure CDN can help you scale your application to deliver high-bandwidth content around the world.</span></span>
> <span data-ttu-id="49a8b-112">Lär dig mer genom att checka ut [översikt över Azure CDN](../../cdn/cdn-overview.md).</span><span class="sxs-lookup"><span data-stu-id="49a8b-112">To learn more, check out [Overview of the Azure CDN](../../cdn/cdn-overview.md).</span></span>
>
>

## <a name="quick-start"></a><span data-ttu-id="49a8b-113">Snabbstart</span><span class="sxs-lookup"><span data-stu-id="49a8b-113">Quick start</span></span>

<span data-ttu-id="49a8b-114">Dessa är de steg som krävs för att aktivera HTTPS för din anpassade blob storage-slutpunkt:</span><span class="sxs-lookup"><span data-stu-id="49a8b-114">These are the steps required to enable HTTPS for your custom blob storage endpoint:</span></span>

1.  <span data-ttu-id="49a8b-115">[Integrera Azure storage-konto med Azure CDN](../../cdn/cdn-create-a-storage-account-with-cdn.md).</span><span class="sxs-lookup"><span data-stu-id="49a8b-115">[Integrate an Azure storage account with Azure CDN](../../cdn/cdn-create-a-storage-account-with-cdn.md).</span></span>
    <span data-ttu-id="49a8b-116">Den här artikeln vägleder dig genom att skapa ett lagringskonto i Azure Portal om du inte har gjort det redan.</span><span class="sxs-lookup"><span data-stu-id="49a8b-116">This article walks you through creating a storage account in the Azure Portal if you have not done so already.</span></span>
2.  <span data-ttu-id="49a8b-117">[Mappa Azure CDN innehåll till en anpassad domän](../../cdn/cdn-map-content-to-custom-domain.md).</span><span class="sxs-lookup"><span data-stu-id="49a8b-117">[Map Azure CDN content to a custom domain](../../cdn/cdn-map-content-to-custom-domain.md).</span></span>
3.  <span data-ttu-id="49a8b-118">[Aktivera HTTPS på en anpassad domän för Azure CDN](../../cdn/cdn-custom-ssl.md).</span><span class="sxs-lookup"><span data-stu-id="49a8b-118">[Enable HTTPS on an Azure CDN custom domain](../../cdn/cdn-custom-ssl.md).</span></span>

## <a name="shared-access-signatures"></a><span data-ttu-id="49a8b-119">Signaturer för delad åtkomst</span><span class="sxs-lookup"><span data-stu-id="49a8b-119">Shared Access Signatures</span></span>

<span data-ttu-id="49a8b-120">Om din slutpunkt för blob storage är konfigurerad för att neka anonym läsbehörighet, behöver du ange en [delade signatur åtkomst (SAS)](../common/storage-dotnet-shared-access-signature-part-1.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json) token för varje begäran som du gör i domänen.</span><span class="sxs-lookup"><span data-stu-id="49a8b-120">If your blob storage endpoint is configured to disallow anonymous read access, you will need to provide a [Shared Access Signature (SAS)](../common/storage-dotnet-shared-access-signature-part-1.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json) token in each request you make to your custom domain.</span></span> <span data-ttu-id="49a8b-121">Som standard inte blob storage slutpunkter tillåta anonym läsbehörighet.</span><span class="sxs-lookup"><span data-stu-id="49a8b-121">By default, blob storage endpoints disallow anonymous read access.</span></span> <span data-ttu-id="49a8b-122">Se [Hantera anonym läsbehörighet till behållare och blobbar](storage-manage-access-to-resources.md) mer information om signaturer för delad åtkomst.</span><span class="sxs-lookup"><span data-stu-id="49a8b-122">See [Managing anonymous read access to containers and blobs](storage-manage-access-to-resources.md) for more information on shared access signatures.</span></span>

<span data-ttu-id="49a8b-123">Azure CDN gäller inte några begränsningar som lagts till SAS-token.</span><span class="sxs-lookup"><span data-stu-id="49a8b-123">Azure CDN does not respect any restrictions added to the SAS token.</span></span> <span data-ttu-id="49a8b-124">Alla SAS-token har till exempel en förfallotid.</span><span class="sxs-lookup"><span data-stu-id="49a8b-124">For example, all SAS tokens have an expiration time.</span></span> <span data-ttu-id="49a8b-125">Detta innebär att innehåll kan fortfarande nås med ett utgånget SAS tills innehållet tas bort från CDN edge-noder.</span><span class="sxs-lookup"><span data-stu-id="49a8b-125">This means that content can still be accessed with an expired SAS until that content is purged from the CDN edge nodes.</span></span> <span data-ttu-id="49a8b-126">Du kan styra hur länge data cachelagras på CDN genom att ange rubriken cache.</span><span class="sxs-lookup"><span data-stu-id="49a8b-126">You can control how long data is cached on the CDN by setting the cache response header.</span></span> <span data-ttu-id="49a8b-127">Se [hantera förfallodatum för Azure Storage-blobbar i Azure CDN](../../cdn/cdn-manage-expiration-of-blob-content.md) anvisningar.</span><span class="sxs-lookup"><span data-stu-id="49a8b-127">See [Managing expiration of Azure Storage blobs in Azure CDN](../../cdn/cdn-manage-expiration-of-blob-content.md) for instructions.</span></span>

<span data-ttu-id="49a8b-128">Om du skapar flera SAS-URL: er för samma blob-slutpunkten, rekommenderar vi aktivera cachelagring för Azure CDN.</span><span class="sxs-lookup"><span data-stu-id="49a8b-128">If you create multiple SAS URLs for the same blob endpoint, we recommend turning on query string caching for your Azure CDN.</span></span> <span data-ttu-id="49a8b-129">Detta är att säkerställa att varje URL behandlas som en unik entitet.</span><span class="sxs-lookup"><span data-stu-id="49a8b-129">This is to ensure that each URL is treated as a unique entity.</span></span> <span data-ttu-id="49a8b-130">Se [styra Azure CDN cachelagring av frågesträngar med frågesträngar](../../cdn/cdn-query-string.md) för mer information.</span><span class="sxs-lookup"><span data-stu-id="49a8b-130">See [Controlling Azure CDN caching behavior with query strings](../../cdn/cdn-query-string.md) for more information.</span></span>

## <a name="http-to-https-redirection"></a><span data-ttu-id="49a8b-131">HTTP till HTTPS-omdirigering</span><span class="sxs-lookup"><span data-stu-id="49a8b-131">HTTP to HTTPS redirection</span></span>

<span data-ttu-id="49a8b-132">Du kan välja att dirigera HTTP-trafik till HTTPS.</span><span class="sxs-lookup"><span data-stu-id="49a8b-132">You can elect to redirect HTTP traffic to HTTPS.</span></span> <span data-ttu-id="49a8b-133">Detta kräver användning av Azure CDN premium erbjudande från Verizon.</span><span class="sxs-lookup"><span data-stu-id="49a8b-133">This requires use of the Azure CDN premium offering from Verizon.</span></span> <span data-ttu-id="49a8b-134">Du behöver [åsidosätta HTTP beteende med hjälp av Azure CDN regelmotor](../../cdn/cdn-rules-engine.md) med följande regel:</span><span class="sxs-lookup"><span data-stu-id="49a8b-134">You need to [Override HTTP behavior using the Azure CDN rules engine](../../cdn/cdn-rules-engine.md) with the following rule:</span></span>

![](./media/storage-https-custom-domain-cdn/redirect-to-https.png)

<span data-ttu-id="49a8b-135">”Cdn-slutpunkt-name” refererar till det namn som du har konfigurerat för CDN-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="49a8b-135">“Cdn-endpoint-name” refers to the name that you configured for your CDN endpoint.</span></span> <span data-ttu-id="49a8b-136">Du kan välja det här värdet i listrutan.</span><span class="sxs-lookup"><span data-stu-id="49a8b-136">You can select this value from the dropdown.</span></span> <span data-ttu-id="49a8b-137">”Ursprungssökväg” syftar på sökvägen inom ditt ursprung storage-konto där din statiskt innehåll finns.</span><span class="sxs-lookup"><span data-stu-id="49a8b-137">“Origin-path” refers to the path within your origin storage account where your static content resides.</span></span>
<span data-ttu-id="49a8b-138">Om du är värd för alla statiska innehållet i en enskild behållare, ersätter du ”ursprungssökväg” med namnet på behållaren.</span><span class="sxs-lookup"><span data-stu-id="49a8b-138">If you are hosting all static content in a single container, replace “origin-path” with the name of that container.</span></span>

<span data-ttu-id="49a8b-139">En mer grundlig genomgång i regler finns i [Azure CDN regler motorn funktioner](../../cdn/cdn-rules-engine-reference-features.md).</span><span class="sxs-lookup"><span data-stu-id="49a8b-139">For a deeper dive into rules, please see the [Azure CDN rules engine features](../../cdn/cdn-rules-engine-reference-features.md).</span></span>

## <a name="pricing-and-billing"></a><span data-ttu-id="49a8b-140">Priser och fakturering</span><span class="sxs-lookup"><span data-stu-id="49a8b-140">Pricing and billing</span></span>

<span data-ttu-id="49a8b-141">När du har åtkomst till blobbar via en Azure CDN du betalar [Blob storage-priser](https://azure.microsoft.com/pricing/details/storage/blobs/) för trafik mellan noder kant och ursprung (Blob storage) och [CDN priser](https://azure.microsoft.com/pricing/details/cdn/) för data som nås från kant-noder.</span><span class="sxs-lookup"><span data-stu-id="49a8b-141">When you access blobs through an Azure CDN, you pay [Blob storage prices](https://azure.microsoft.com/pricing/details/storage/blobs/) for traffic between the edge nodes and the origin (Blob storage), and [CDN prices](https://azure.microsoft.com/pricing/details/cdn/) for data accessed from the edge nodes.</span></span>

<span data-ttu-id="49a8b-142">Anta exempelvis att du har ett lagringskonto i USA, västra som används med en Azure CDN.</span><span class="sxs-lookup"><span data-stu-id="49a8b-142">For example, say you have a storage account in West US that is being accessed using an Azure CDN.</span></span> <span data-ttu-id="49a8b-143">Om någon i Storbritannien försöker att komma åt en av blobbar i det lagringskontot via CDN kontrollerar Azure först kantnod som är närmast Storbritannien för blobben.</span><span class="sxs-lookup"><span data-stu-id="49a8b-143">If someone in the UK tries to access one of the blobs in that storage account via the CDN, Azure first checks the edge node closest to the UK for that blob.</span></span> <span data-ttu-id="49a8b-144">Om att hitta den ansluter till kopian av blob och använder CDN prissättning, eftersom den används på CDN.</span><span class="sxs-lookup"><span data-stu-id="49a8b-144">If found, it accesses that copy of the blob and will use CDN pricing, because it is being accessed on the CDN.</span></span> <span data-ttu-id="49a8b-145">Om det inte att hitta Azure kommer att kopiera blob till kantnoden, vilket resulterar i utgång och transaktionen avgifter som anges i priser för Blob storage och komma åt filen på kantnod, vilket leder till CDN fakturering.</span><span class="sxs-lookup"><span data-stu-id="49a8b-145">If not found, Azure will copy the blob to the edge node, which will result in egress and transaction charges as specified in the Blob storage pricing, and then access the file on the edge node, which will result in CDN billing.</span></span>

<span data-ttu-id="49a8b-146">När du tittar på det [CDN sida med priser](https://azure.microsoft.com/pricing/details/cdn/), Observera att HTTPS-stöd för anpassade domännamn är endast tillgängligt för Azure CDN från Verizon produkter (Standard och Premium).</span><span class="sxs-lookup"><span data-stu-id="49a8b-146">When looking at the [CDN pricing page](https://azure.microsoft.com/pricing/details/cdn/), note that HTTPS support for custom domain names is only available for Azure CDN from Verizon products (Standard and Premium).</span></span>

## <a name="next-steps"></a><span data-ttu-id="49a8b-147">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="49a8b-147">Next steps</span></span>

[<span data-ttu-id="49a8b-148">Konfigurera ett anpassat domännamn för din slutpunkt för Blob-lagring</span><span class="sxs-lookup"><span data-stu-id="49a8b-148">Configure a custom domain name for your Blob storage endpoint</span></span>](storage-custom-domain-name.md)
