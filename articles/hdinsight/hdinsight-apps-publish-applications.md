---
title: aaaPublish HDInsight-program - Azure | Microsoft Docs
description: "Lär dig hur toocreate och publicerar HDInsight-program."
services: hdinsight
documentationcenter: 
author: mumian
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 14aef891-7a37-4cf1-8f7d-ca923565c783
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/25/2017
ms.author: jgao
ms.openlocfilehash: 7da0aa53828563e50ef372df901e1ba541fb40be
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="publish-hdinsight-applications-into-hello-azure-marketplace"></a><span data-ttu-id="b0879-103">Publicera HDInsight-program hello Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="b0879-103">Publish HDInsight applications into hello Azure Marketplace</span></span>
<span data-ttu-id="b0879-104">Ett HDInsight-program är ett program som användarna kan installera på ett Linux-baserat HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="b0879-104">An HDInsight application is an application that users can install on a Linux-based HDInsight cluster.</span></span> <span data-ttu-id="b0879-105">Dessa program kan utvecklas av Microsoft, oberoende programvaruleverantörer och av dig själv.</span><span class="sxs-lookup"><span data-stu-id="b0879-105">These applications can be developed by Microsoft, independent software vendors (ISV) or by yourself.</span></span> <span data-ttu-id="b0879-106">I den här artikeln får du lära dig hur toopublish ett HDInsight-program i hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="b0879-106">In this article, you learn how toopublish an HDInsight application into hello Azure Marketplace.</span></span>  <span data-ttu-id="b0879-107">Allmän information om hur du publicerar hello Azure Marketplace finns [publicera ett erbjudande toohello Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="b0879-107">For general information about publishing into hello Azure Marketplace, see [publish an offer toohello Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md).</span></span>

<span data-ttu-id="b0879-108">HDInsight-program använda hello *Bring Your Own License (BYOL)* modellen, där programmets provider ansvarar för licensiering hello tooend-programanvändare och slutanvändarna endast debiteras av Azure för hello resurser de Skapa till exempel hello HDInsight-kluster och virtuella datorer/noder.</span><span class="sxs-lookup"><span data-stu-id="b0879-108">HDInsight applications use hello *Bring Your Own License (BYOL)* model, where application provider is responsible for licensing hello application tooend-users, and end-users are only charged by Azure for hello resources they create, such as hello HDInsight cluster and its VMs/nodes.</span></span> <span data-ttu-id="b0879-109">Fakturering för själva hello programmet görs för närvarande inte via Azure.</span><span class="sxs-lookup"><span data-stu-id="b0879-109">Currently, billing for hello application itself is not done through Azure.</span></span>

<span data-ttu-id="b0879-110">Andra HDInsight programrelaterad artikel:</span><span class="sxs-lookup"><span data-stu-id="b0879-110">Other HDInsight application-related article:</span></span>

* <span data-ttu-id="b0879-111">[Installera HDInsight-program](hdinsight-apps-install-applications.md): Lär dig hur tooinstall tooyour för programmet ett HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="b0879-111">[Install HDInsight applications](hdinsight-apps-install-applications.md): Learn how tooinstall an HDInsight application tooyour clusters.</span></span>
* <span data-ttu-id="b0879-112">[Installera anpassade HDInsight-program](hdinsight-apps-install-custom-applications.md): Lär dig hur tooinstall och testa anpassade HDInsight-program.</span><span class="sxs-lookup"><span data-stu-id="b0879-112">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): Learn how tooinstall and test custom HDInsight applications.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="b0879-113">Krav</span><span class="sxs-lookup"><span data-stu-id="b0879-113">Prerequisites</span></span>
<span data-ttu-id="b0879-114">toosubmit toohello marketplace för din anpassade program du har skapat och testat det anpassade programmet.</span><span class="sxs-lookup"><span data-stu-id="b0879-114">toosubmit your custom application toohello marketplace, you must have created and tested your custom application.</span></span> <span data-ttu-id="b0879-115">Se hello följande artiklar:</span><span class="sxs-lookup"><span data-stu-id="b0879-115">See hello following articles:</span></span>

* <span data-ttu-id="b0879-116">[Installera anpassade HDInsight-program](hdinsight-apps-install-custom-applications.md): Lär dig hur tooinstall och testa anpassade HDInsight-program.</span><span class="sxs-lookup"><span data-stu-id="b0879-116">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): Learn how tooinstall and test custom HDInsight applications.</span></span>

<span data-ttu-id="b0879-117">Du måste också ha registrerat ett utvecklarkonto.</span><span class="sxs-lookup"><span data-stu-id="b0879-117">You must also have registered your developer account.</span></span> <span data-ttu-id="b0879-118">Se [publicera ett erbjudande toohello Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md) och [skapa ett konto på Microsoft Developer](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span><span class="sxs-lookup"><span data-stu-id="b0879-118">See [publish an offer toohello Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md) and [Create a Microsoft Developer account](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span></span>

## <a name="define-application"></a><span data-ttu-id="b0879-119">Definiera programmet</span><span class="sxs-lookup"><span data-stu-id="b0879-119">Define application</span></span>
<span data-ttu-id="b0879-120">Det finns två steg för att publicera program toohello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="b0879-120">There are two steps involved for publishing applications toohello Azure Marketplace.</span></span>  <span data-ttu-id="b0879-121">Först definierar du en **createUiDef.json** filen tooindicate som kluster programmet är kompatibelt med. sedan publicerar hello-mall från hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="b0879-121">First you define a **createUiDef.json** file tooindicate which clusters your application is compatible with; and then you publish hello template from hello Azure portal.</span></span> <span data-ttu-id="b0879-122">hello efter avsnittet är ett exempel createUiDef.json-fil.</span><span class="sxs-lookup"><span data-stu-id="b0879-122">hello following section is a sample createUiDef.json file.</span></span>

    {
        "handler": "Microsoft.HDInsight",
        "version": "0.0.1-preview",
        "clusterFilters": {
            "types": ["Hadoop", "HBase", "Storm", "Spark"],
            "tiers": ["Standard", "Premium"],
            "versions": ["3.4"]
        }
    }


| <span data-ttu-id="b0879-123">Fält</span><span class="sxs-lookup"><span data-stu-id="b0879-123">Field</span></span> | <span data-ttu-id="b0879-124">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="b0879-124">Description</span></span> | <span data-ttu-id="b0879-125">Möjliga värden</span><span class="sxs-lookup"><span data-stu-id="b0879-125">Possible values</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b0879-126">typer</span><span class="sxs-lookup"><span data-stu-id="b0879-126">types</span></span> |<span data-ttu-id="b0879-127">Hej klustertyper hello program är kompatibla med.</span><span class="sxs-lookup"><span data-stu-id="b0879-127">hello cluster types that hello application is compatible with.</span></span> |<span data-ttu-id="b0879-128">Hadoop, HBase, Storm, Spark (eller en kombination av dem)</span><span class="sxs-lookup"><span data-stu-id="b0879-128">Hadoop, HBase, Storm, Spark, (or any combination of these)</span></span> |
| <span data-ttu-id="b0879-129">nivåer</span><span class="sxs-lookup"><span data-stu-id="b0879-129">tiers</span></span> |<span data-ttu-id="b0879-130">Hej klusternivåer hello program är kompatibla med.</span><span class="sxs-lookup"><span data-stu-id="b0879-130">hello cluster tiers that hello application is compatible with.</span></span> |<span data-ttu-id="b0879-131">Standard, Premium (eller båda)</span><span class="sxs-lookup"><span data-stu-id="b0879-131">Standard, Premium, (or both)</span></span> |
| <span data-ttu-id="b0879-132">versioner</span><span class="sxs-lookup"><span data-stu-id="b0879-132">versions</span></span> |<span data-ttu-id="b0879-133">Hej HDInsight klustertyper hello program är kompatibla med.</span><span class="sxs-lookup"><span data-stu-id="b0879-133">hello HDInsight cluster types that hello application is compatible with.</span></span> |<span data-ttu-id="b0879-134">3.4</span><span class="sxs-lookup"><span data-stu-id="b0879-134">3.4</span></span> |

## <a name="application-install-script"></a><span data-ttu-id="b0879-135">Installationsskriptet för programmet</span><span class="sxs-lookup"><span data-stu-id="b0879-135">Application install script</span></span>
<span data-ttu-id="b0879-136">När ett program har installerats på ett kluster (en befintlig eller en ny), en kantnod har skapats och hello installationsskriptet för programmet körs på den.</span><span class="sxs-lookup"><span data-stu-id="b0879-136">Whenever an application is installed on a cluster (either an existing one or a new one), an edge node is created and hello application install script is run on it.</span></span>
  > [!IMPORTANT]
  > <span data-ttu-id="b0879-137">installationsskriptet för hello programmet hello namn måste vara unikt för ett visst kluster med hello följande format.</span><span class="sxs-lookup"><span data-stu-id="b0879-137">hello name of hello application install script names must be unique for a particular cluster with hello following format.</span></span>
  > 
  > <span data-ttu-id="b0879-138">name": "[concat('hue-install-v0','-' ,uniquestring(‘applicationName’)]"</span><span class="sxs-lookup"><span data-stu-id="b0879-138">name": "[concat('hue-install-v0','-' ,uniquestring(‘applicationName’)]"</span></span>
  > 
  > <span data-ttu-id="b0879-139">Observera att det finns tre delar toohello skriptets namn:</span><span class="sxs-lookup"><span data-stu-id="b0879-139">Note there are three parts toohello script name:</span></span>
  > 
  > 1. <span data-ttu-id="b0879-140">Ett skriptnamnsprefix, vilket omfattar hello programnamnet eller ett namn på relevanta toohello program.</span><span class="sxs-lookup"><span data-stu-id="b0879-140">A script name prefix, which shall include either hello application name or a name relevant toohello application.</span></span>
  > 2. <span data-ttu-id="b0879-141">Ett "-" för läsbarhet.</span><span class="sxs-lookup"><span data-stu-id="b0879-141">A "-" for readability.</span></span>
  > 3. <span data-ttu-id="b0879-142">En unik Strängfunktion med hello programnamn som hello parametern.</span><span class="sxs-lookup"><span data-stu-id="b0879-142">A unique string function with hello application name as hello parameter.</span></span>
  > 
  > <span data-ttu-id="b0879-143">Ett exempel är hello ovan avslutas blir: hue-install-v0-4wkahss55hlas i hello bestående skript listan över.</span><span class="sxs-lookup"><span data-stu-id="b0879-143">An example is hello above ends up becoming: hue-install-v0-4wkahss55hlas in hello persisted script action list.</span></span> <span data-ttu-id="b0879-144">Ett exempel på en JSON-nyttolast finns på [https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json](https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="b0879-144">For a sample JSON payload, see [https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json](https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json).</span></span>
  > 
<span data-ttu-id="b0879-145">hello installationsskriptet måste ha hello följande egenskaper:</span><span class="sxs-lookup"><span data-stu-id="b0879-145">hello installation script must have hello following characteristics:</span></span>
1. <span data-ttu-id="b0879-146">Kontrollera att idempotent hello skript.</span><span class="sxs-lookup"><span data-stu-id="b0879-146">Ensure that hello script is idempotent.</span></span> <span data-ttu-id="b0879-147">Flera anrop toohello skript ska producera hello samma resultat.</span><span class="sxs-lookup"><span data-stu-id="b0879-147">Multiple calls toohello script should produce hello same result.</span></span>
2. <span data-ttu-id="b0879-148">hello skript ska vara korrekt version.</span><span class="sxs-lookup"><span data-stu-id="b0879-148">hello script should be properly versioned.</span></span> <span data-ttu-id="b0879-149">Använd en annan plats för hello skript när du uppgraderar eller testa ändringar så att kunder som försöker tooinstall hello programmet inte påverkas.</span><span class="sxs-lookup"><span data-stu-id="b0879-149">Use a different location for hello script when you are upgrading or testing out changes so that customers that are trying tooinstall hello application are not affected.</span></span> 
3. <span data-ttu-id="b0879-150">Lägga till lämpliga loggning toohello skript på varje plats.</span><span class="sxs-lookup"><span data-stu-id="b0879-150">Add adequate logging toohello scripts at each point.</span></span> <span data-ttu-id="b0879-151">Vanligtvis hello skriptet loggar är hello endast sätt toodebug problem med installation av programmet.</span><span class="sxs-lookup"><span data-stu-id="b0879-151">Usually hello script logs are hello only way toodebug application installation issues.</span></span>
4. <span data-ttu-id="b0879-152">Kontrollera att anrop tooexternal tjänster eller resurser har tillräcklig återförsök så att hello installation inte påverkas av tillfälliga nätverksproblem.</span><span class="sxs-lookup"><span data-stu-id="b0879-152">Ensure that calls tooexternal services or resources have adequate retries so that hello installation is not affected by transient network issues.</span></span>
5. <span data-ttu-id="b0879-153">Om skriptet startar tjänsterna på hello noder, kontrollera att hello tjänster som ska övervakas och konfigurerade toostart automatiskt vid omstarter av noden.</span><span class="sxs-lookup"><span data-stu-id="b0879-153">If your script is starting services on hello nodes, ensure that hello services are monitored and configured toostart automatically in case of node reboots.</span></span>

## <a name="package-application"></a><span data-ttu-id="b0879-154">Paketera programmet</span><span class="sxs-lookup"><span data-stu-id="b0879-154">Package application</span></span>
<span data-ttu-id="b0879-155">Skapa en zip-fil som innehåller alla filer som krävs för att installera dina HDInsight-program.</span><span class="sxs-lookup"><span data-stu-id="b0879-155">Create a zip file that contains all required files for installing your HDInsight applications.</span></span> <span data-ttu-id="b0879-156">Du behöver hello zip-filen i [publicera program](#publish-application).</span><span class="sxs-lookup"><span data-stu-id="b0879-156">You need hello zip file in [Publish application](#publish-application).</span></span>

* <span data-ttu-id="b0879-157">[createUiDefinition.json](#define-application).</span><span class="sxs-lookup"><span data-stu-id="b0879-157">[createUiDefinition.json](#define-application).</span></span>
* <span data-ttu-id="b0879-158">mainTemplate.json.</span><span class="sxs-lookup"><span data-stu-id="b0879-158">mainTemplate.json.</span></span> <span data-ttu-id="b0879-159">Du hittar exempel i [Installera anpassade HDInsight-program](hdinsight-apps-install-custom-applications.md).</span><span class="sxs-lookup"><span data-stu-id="b0879-159">See a sample at [Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md).</span></span>
* <span data-ttu-id="b0879-160">Alla nödvändiga skript.</span><span class="sxs-lookup"><span data-stu-id="b0879-160">All required scripts.</span></span>

> [!NOTE]
> <span data-ttu-id="b0879-161">Hej programfilerna (inklusive webbprogramfiler om sådana finns) kan finnas på valfri offentligt tillgänglig slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="b0879-161">hello application files (including web application files if there is any) can be located on any publicly accessible endpoint.</span></span>
> 

## <a name="publish-application"></a><span data-ttu-id="b0879-162">Publicera programmet</span><span class="sxs-lookup"><span data-stu-id="b0879-162">Publish application</span></span>
<span data-ttu-id="b0879-163">Följ hello följande steg toopublish ett HDInsight-program:</span><span class="sxs-lookup"><span data-stu-id="b0879-163">Follow hello following steps toopublish an HDInsight application:</span></span>

1. <span data-ttu-id="b0879-164">Logga in toohello [Azure Publishing portal](https://publish.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="b0879-164">Sign on toohello [Azure Publishing portal](https://publish.windowsazure.com/).</span></span>
2. <span data-ttu-id="b0879-165">Klicka på **lösningsmallar** från hello vänstra toocreate en ny lösningsmall.</span><span class="sxs-lookup"><span data-stu-id="b0879-165">Click **Solution templates** from hello left toocreate a new solution template.</span></span>
3. <span data-ttu-id="b0879-166">Ange ett namn och klicka på **Skapa en ny lösningsmall**.</span><span class="sxs-lookup"><span data-stu-id="b0879-166">Enter a title, and then click **Create a new solution template**.</span></span>
4. <span data-ttu-id="b0879-167">Klicka på **skapa Dev Center-konto och Anslut till hello Azure programmet** tooregister ditt företag om du inte gjort det.</span><span class="sxs-lookup"><span data-stu-id="b0879-167">Click **Create Dev Center account and join hello Azure program** tooregister your company if you haven't done so.</span></span>  <span data-ttu-id="b0879-168">Se [Skapa ett Microsoft-utvecklarkonto](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span><span class="sxs-lookup"><span data-stu-id="b0879-168">See [Create a Microsoft Developer account](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span></span>
5. <span data-ttu-id="b0879-169">Klicka på **definiera vissa topologier tooget igång**.</span><span class="sxs-lookup"><span data-stu-id="b0879-169">Click **Define some Topologies tooget Started**.</span></span> <span data-ttu-id="b0879-170">En lösningsmall är en ”överordnad” tooall dess topologier.</span><span class="sxs-lookup"><span data-stu-id="b0879-170">A solution template is a "parent" tooall its topologies.</span></span> <span data-ttu-id="b0879-171">Du kan definiera flera topologier i en erbjudande-/lösningsmall.</span><span class="sxs-lookup"><span data-stu-id="b0879-171">You can define multiple topologies in one offer/solution template.</span></span> <span data-ttu-id="b0879-172">När ett erbjudande pushas toostaging pushas den med alla sina topologier.</span><span class="sxs-lookup"><span data-stu-id="b0879-172">When an offer is pushed toostaging, it is pushed with all its topologies.</span></span> 
6. <span data-ttu-id="b0879-173">Ange ett namn på topologin och klicka på hello plustecken.</span><span class="sxs-lookup"><span data-stu-id="b0879-173">Enter a topology name, and then click hello plus sign.</span></span>
7. <span data-ttu-id="b0879-174">Ange en ny version och klicka på hello plustecknet.</span><span class="sxs-lookup"><span data-stu-id="b0879-174">Enter a new version, and then click hello Plus sign.</span></span>
8. <span data-ttu-id="b0879-175">Överför hello zip-filen som skapades i [paketera program](#package-application).</span><span class="sxs-lookup"><span data-stu-id="b0879-175">Upload hello zip file prepared in [Package application](#package-application).</span></span>  
9. <span data-ttu-id="b0879-176">Klicka på **Begär certifiering**.</span><span class="sxs-lookup"><span data-stu-id="b0879-176">Click **Request Certification**.</span></span> <span data-ttu-id="b0879-177">hello Microsofts certifieringsteam granskar hello filer och certifiera hello-topologi.</span><span class="sxs-lookup"><span data-stu-id="b0879-177">hello Microsoft certification team will review hello files and certify hello topology.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b0879-178">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="b0879-178">Next steps</span></span>
* <span data-ttu-id="b0879-179">[Installera HDInsight-program](hdinsight-apps-install-applications.md): Lär dig hur tooinstall tooyour för programmet ett HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="b0879-179">[Install HDInsight applications](hdinsight-apps-install-applications.md): Learn how tooinstall an HDInsight application tooyour clusters.</span></span>
* <span data-ttu-id="b0879-180">[Installera anpassade HDInsight-program](hdinsight-apps-install-custom-applications.md): Lär dig hur toodeploy tooHDInsight för ett Opublicerat HDInsight-program.</span><span class="sxs-lookup"><span data-stu-id="b0879-180">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): learn how toodeploy an unpublished HDInsight application tooHDInsight.</span></span>
* <span data-ttu-id="b0879-181">[Anpassa Linux-baserat HDInsight-kluster med skriptåtgärder](hdinsight-hadoop-customize-cluster-linux.md): Lär dig hur toouse skriptåtgärd tooinstall fler program.</span><span class="sxs-lookup"><span data-stu-id="b0879-181">[Customize Linux-based HDInsight clusters using Script Action](hdinsight-hadoop-customize-cluster-linux.md): learn how toouse Script Action tooinstall additional applications.</span></span>
* <span data-ttu-id="b0879-182">[Skapa Linux-baserade Hadoop-kluster i HDInsight med hjälp av Azure Resource Manager-mallar](hdinsight-hadoop-create-linux-clusters-arm-templates.md): Lär dig hur toocall Resource Manager-mallar toocreate HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="b0879-182">[Create Linux-based Hadoop clusters in HDInsight using Azure Resource Manager templates](hdinsight-hadoop-create-linux-clusters-arm-templates.md): learn how toocall Resource Manager templates toocreate HDInsight clusters.</span></span>
* <span data-ttu-id="b0879-183">[Använd tom edge-noder i HDInsight](hdinsight-apps-use-edge-node.md): Lär dig hur toouse en tom kant för att få åtkomst till HDInsight-kluster, testa HDInsight-program och värd för HDInsight-program.</span><span class="sxs-lookup"><span data-stu-id="b0879-183">[Use empty edge nodes in HDInsight](hdinsight-apps-use-edge-node.md): learn how toouse an empty edge node for accessing HDInsight cluster, testing HDInsight applications, and hosting HDInsight applications.</span></span>

