---
title: "aaaAccess Hadoop YARN-program programmässigt - loggar Azure | Microsoft Docs"
description: "Programmet Access loggar programmässigt på ett Hadoop-kluster i HDInsight."
services: hdinsight
documentationcenter: 
tags: azure-portal
author: mumian
manager: jhubbard
editor: cgronlun
ms.assetid: 0198d6c9-7767-4682-bd34-42838cf48fc5
ms.service: hdinsight
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/25/2017
ms.author: jgao
ROBOTS: NOINDEX
ms.openlocfilehash: 064efee1ea6a864c29ab897692ead0152c926c0b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="access-yarn-application-logs-on-windows-based-hdinsight"></a><span data-ttu-id="b5899-103">Åtkomst programloggar YARN på Windows-baserade HDInsight</span><span class="sxs-lookup"><span data-stu-id="b5899-103">Access YARN application logs on Windows-based HDInsight</span></span>
<span data-ttu-id="b5899-104">Det här avsnittet beskrivs hur tooaccess hello loggar för YARN (ännu en annan resurs förhandlare)-program som har gått ut på en Windows-baserade Hadoop-kluster i Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="b5899-104">This topic explains how tooaccess hello logs for YARN (Yet Another Resource Negotiator) applications that have finished on a Windows-based Hadoop cluster in Azure HDInsight</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b5899-105">hello informationen i det här dokumentet gäller endast tooWindows-baserade HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="b5899-105">hello information in this document applies only tooWindows-based HDInsight clusters.</span></span> <span data-ttu-id="b5899-106">Linux är hello endast operativsystem på HDInsight version 3.4 eller senare.</span><span class="sxs-lookup"><span data-stu-id="b5899-106">Linux is hello only operating system used on HDInsight version 3.4 or greater.</span></span> <span data-ttu-id="b5899-107">Mer information finns i [HDInsight-avveckling på Windows](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span><span class="sxs-lookup"><span data-stu-id="b5899-107">For more information, see [HDInsight retirement on Windows](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span></span> <span data-ttu-id="b5899-108">För information om hur du använder YARN loggar på Linux-baserade HDInsight-kluster, se [åtkomst YARN programloggar på Linux-baserade Hadoop i HDInsight](hdinsight-hadoop-access-yarn-app-logs-linux.md)</span><span class="sxs-lookup"><span data-stu-id="b5899-108">For information on accessing YARN logs on Linux-based HDInsight clusters, see [Access YARN application logs on Linux-based Hadoop on HDInsight](hdinsight-hadoop-access-yarn-app-logs-linux.md)</span></span>
>


### <a name="prerequisites"></a><span data-ttu-id="b5899-109">Krav</span><span class="sxs-lookup"><span data-stu-id="b5899-109">Prerequisites</span></span>
* <span data-ttu-id="b5899-110">Ett Windows-baserade HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="b5899-110">A Windows-based HDInsight cluster.</span></span>  <span data-ttu-id="b5899-111">Se [skapa Windows-baserade Hadoop-kluster i HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="b5899-111">See [Create Windows-based Hadoop clusters in HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span></span>

## <a name="yarn-timeline-server"></a><span data-ttu-id="b5899-112">YARN tidslinjen Server</span><span class="sxs-lookup"><span data-stu-id="b5899-112">YARN Timeline Server</span></span>
<span data-ttu-id="b5899-113">Hej <a href="http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" target="_blank">YARN tidslinjen Server</a> innehåller allmän information om slutförda program samt som framework-specifik information om programmet via två olika gränssnitt.</span><span class="sxs-lookup"><span data-stu-id="b5899-113">hello <a href="http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" target="_blank">YARN Timeline Server</a> provides generic information on completed applications as well as framework-specific application information through two different interfaces.</span></span> <span data-ttu-id="b5899-114">Närmare bestämt:</span><span class="sxs-lookup"><span data-stu-id="b5899-114">Specifically:</span></span>

* <span data-ttu-id="b5899-115">Lagring och hämtning av information för Allmänt program på HDInsight-kluster har aktiverat med version 3.1.1.374 eller högre.</span><span class="sxs-lookup"><span data-stu-id="b5899-115">Storage and retrieval of generic application information on HDInsight clusters has been enabled with version 3.1.1.374 or higher.</span></span>
* <span data-ttu-id="b5899-116">hello framework-specifik information programkomponent av hello tidslinjen Server är inte tillgänglig på HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="b5899-116">hello framework-specific application information component of hello Timeline Server is not currently available on HDInsight clusters.</span></span>

<span data-ttu-id="b5899-117">Allmän information om program innehåller hello följande typer av data:</span><span class="sxs-lookup"><span data-stu-id="b5899-117">Generic information on applications includes hello following sorts of data:</span></span>

* <span data-ttu-id="b5899-118">hello program-ID, en unik identifierare för ett program</span><span class="sxs-lookup"><span data-stu-id="b5899-118">hello application ID, a unique identifier of an application</span></span>
* <span data-ttu-id="b5899-119">hello-användare som startade hello program</span><span class="sxs-lookup"><span data-stu-id="b5899-119">hello user who started hello application</span></span>
* <span data-ttu-id="b5899-120">Information om försök görs toocomplete hello program</span><span class="sxs-lookup"><span data-stu-id="b5899-120">Information on attempts made toocomplete hello application</span></span>
* <span data-ttu-id="b5899-121">hello-behållare som används av ett visst program försök</span><span class="sxs-lookup"><span data-stu-id="b5899-121">hello containers used by any given application attempt</span></span>

<span data-ttu-id="b5899-122">Den här informationen kommer att lagras av Azure Resource Manager tooa historik store i hello standardbehållaren för ditt Azure Storage-standardkonto på HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="b5899-122">On your HDInsight clusters, this information will be stored by Azure Resource Manager tooa history store in hello default container of your default Azure Storage account.</span></span> <span data-ttu-id="b5899-123">Allmänna data på slutförda program kan hämtas via ett REST-API:</span><span class="sxs-lookup"><span data-stu-id="b5899-123">This generic data on completed applications can be retrieved through a REST API:</span></span>

    GET on https://<cluster-dns-name>.azurehdinsight.net/ws/v1/applicationhistory/apps


## <a name="yarn-applications-and-logs"></a><span data-ttu-id="b5899-124">YARN program och loggfiler</span><span class="sxs-lookup"><span data-stu-id="b5899-124">YARN applications and logs</span></span>
<span data-ttu-id="b5899-125">YARN stöder flera programmeringsmodeller (MapReduce är en av dem) genom Frikoppling resurshantering från schemaläggning/programövervakning.</span><span class="sxs-lookup"><span data-stu-id="b5899-125">YARN supports multiple programming models (MapReduce being one of them) by decoupling resource management from application scheduling/monitoring.</span></span> <span data-ttu-id="b5899-126">Detta görs via en global *ResourceManager* (RM) per arbetsnoden *NodeManagers* (NMs), och programspecifika *ApplicationMasters* (AMs).</span><span class="sxs-lookup"><span data-stu-id="b5899-126">This is done through a global *ResourceManager* (RM), per-worker-node *NodeManagers* (NMs), and per-application *ApplicationMasters* (AMs).</span></span> <span data-ttu-id="b5899-127">hello förhandlar programspecifika AM resurser (processor, minne, disk, nätverk) för att köra programmet med hello RM.</span><span class="sxs-lookup"><span data-stu-id="b5899-127">hello per-application AM negotiates resources (CPU, memory, disk, network) for running your application with hello RM.</span></span> <span data-ttu-id="b5899-128">hello RM fungerar med NMs toogrant dessa resurser, som beviljas som *behållare*.</span><span class="sxs-lookup"><span data-stu-id="b5899-128">hello RM works with NMs toogrant these resources, which are granted as *containers*.</span></span> <span data-ttu-id="b5899-129">hello AM ansvarar för att spåra hello fortskrider hello behållare som tilldelats tooit av hello RM.</span><span class="sxs-lookup"><span data-stu-id="b5899-129">hello AM is responsible for tracking hello progress of hello containers assigned tooit by hello RM.</span></span> <span data-ttu-id="b5899-130">Ett program kan kräva många behållare beroende på hello uppbyggnad hello program.</span><span class="sxs-lookup"><span data-stu-id="b5899-130">An application may require many containers depending on hello nature of hello application.</span></span>

<span data-ttu-id="b5899-131">Dessutom kan varje program kan bestå av flera *program försöker* i ordning toofinish i hello förekomst av krascher eller på grund av toohello förlust av kommunikation mellan en AM och en RM.</span><span class="sxs-lookup"><span data-stu-id="b5899-131">Furthermore, each application may consist of multiple *application attempts* in order toofinish in hello presence of crashes or due toohello loss of communication between an AM and an RM.</span></span> <span data-ttu-id="b5899-132">Därför måste beviljas behållare tooa specifika försök av ett program.</span><span class="sxs-lookup"><span data-stu-id="b5899-132">Hence, containers are granted tooa specific attempt of an application.</span></span> <span data-ttu-id="b5899-133">En behållare ger hello kontext för grundläggande enheten för arbete som utförs av en YARN-program i en mening och allt arbete som utförs inom hello kontext för en behållare utförs på hello enskild worker nod på vilka hello behållaren har tilldelats.</span><span class="sxs-lookup"><span data-stu-id="b5899-133">In a sense, a container provides hello context for basic unit of work performed by a YARN application, and all work that is done within hello context of a container is performed on hello single worker node on which hello container was allocated.</span></span> <span data-ttu-id="b5899-134">Se [YARN begrepp] [ YARN-concepts] ytterligare referens.</span><span class="sxs-lookup"><span data-stu-id="b5899-134">See [YARN Concepts][YARN-concepts] for further reference.</span></span>

<span data-ttu-id="b5899-135">Programmet loggar (och associerade hello behållaren loggar) är kritiska felsöka problematiska Hadoop-program.</span><span class="sxs-lookup"><span data-stu-id="b5899-135">Application logs (and hello associated container logs) are critical in debugging problematic Hadoop applications.</span></span> <span data-ttu-id="b5899-136">YARN tillhandahåller ett bra ramverk för att samla in, sammanställa och lagra programloggarna med hello [loggen aggregering] [ log-aggregation] funktion.</span><span class="sxs-lookup"><span data-stu-id="b5899-136">YARN provides a nice framework for collecting, aggregating, and storing application logs with hello [Log Aggregation][log-aggregation] feature.</span></span> <span data-ttu-id="b5899-137">hello loggen aggregering funktionen gör att nå programloggarna mer deterministisk aggregerar loggar över alla behållare på en arbetsnod och lagrar dem som en sammansatt loggfil per arbetsnoden på hello standardfilsystem när ett program har slutförts.</span><span class="sxs-lookup"><span data-stu-id="b5899-137">hello Log Aggregation feature makes accessing application logs more deterministic, as it aggregates logs across all containers on a worker node and stores them as one aggregated log file per worker node on hello default file system after an application finishes.</span></span> <span data-ttu-id="b5899-138">Programmet kan använda hundratals eller tusentals behållare, men loggar för alla behållare som körs på en enda arbetsnod kommer alltid att aggregerade tooa en fil, vilket resulterar i en loggfil per arbetsnoden som används av ditt program.</span><span class="sxs-lookup"><span data-stu-id="b5899-138">Your application may use hundreds or thousands of containers, but logs for all containers run on a single worker node will always be aggregated tooa single file, resulting in one log file per worker node used by your application.</span></span> <span data-ttu-id="b5899-139">Aggregering av loggen är aktiverad som standard i HDInsight-kluster (version 3.0 och senare), och aggregerade loggar finns i hello standardbehållaren på klustret på hello följande plats:</span><span class="sxs-lookup"><span data-stu-id="b5899-139">Log Aggregation is enabled by default on HDInsight clusters (version 3.0 and above), and aggregated logs can be found in hello default container of your cluster at hello following location:</span></span>

    wasb:///app-logs/<user>/logs/<applicationId>

<span data-ttu-id="b5899-140">På den platsen kan *användare* är hello användare som startade hello programmet hello namn och *applicationId* är hello Unik identifierare för ett program som tilldelats av hello YARN RM.</span><span class="sxs-lookup"><span data-stu-id="b5899-140">In that location, *user* is hello name of hello user who started hello application, and *applicationId* is hello unique identifier of an application as assigned by hello YARN RM.</span></span>

<span data-ttu-id="b5899-141">hello aggregerade loggar är inte direkt läsbar, som de är skrivna en [TFile][T-file], [binärformat] [ binary-format] indexeras av behållare.</span><span class="sxs-lookup"><span data-stu-id="b5899-141">hello aggregated logs are not directly readable, as they are written in a [TFile][T-file], [binary format][binary-format] indexed by container.</span></span> <span data-ttu-id="b5899-142">YARN tillhandahåller CLI verktyg toodump loggarna som oformaterad text för program eller behållare av intresse.</span><span class="sxs-lookup"><span data-stu-id="b5899-142">YARN provides CLI tools toodump these logs as plain text for applications or containers of interest.</span></span> <span data-ttu-id="b5899-143">Du kan visa dessa loggar som oformaterad text genom att köra ett hello följande YARN kommandon direkt på hello klusternoder (när du ansluter tooit via RDP):</span><span class="sxs-lookup"><span data-stu-id="b5899-143">You can view these logs as plain text by running one of hello following YARN commands directly on hello cluster nodes (after connecting tooit through RDP):</span></span>

    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application>
    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application> -containerId <containerId> -nodeAddress <worker-node-address>


## <a name="yarn-resourcemanager-ui"></a><span data-ttu-id="b5899-144">YARN ResourceManager-Användargränssnittet</span><span class="sxs-lookup"><span data-stu-id="b5899-144">YARN ResourceManager UI</span></span>
<span data-ttu-id="b5899-145">Hej YARN ResourceManager-Användargränssnittet körs på hello klustret headnode och kan nås via hello Azure portalens instrumentpanel:</span><span class="sxs-lookup"><span data-stu-id="b5899-145">hello YARN ResourceManager UI runs on hello cluster headnode, and can be accessed through hello Azure portal dashboard:</span></span>

1. <span data-ttu-id="b5899-146">Logga in för[Azure-portalen](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="b5899-146">Sign in too[Azure portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="b5899-147">På hello vänstra menyn **Bläddra**, klickar du på **HDInsight-kluster**, klickar du på ett Windows-kluster som du vill tooaccess hello YARN programloggar.</span><span class="sxs-lookup"><span data-stu-id="b5899-147">On hello left menu, click **Browse**, click **HDInsight Clusters**, click a Windows-based cluster that you want tooaccess hello YARN application logs.</span></span>
3. <span data-ttu-id="b5899-148">På hello översta menyn **instrumentpanelen**.</span><span class="sxs-lookup"><span data-stu-id="b5899-148">On hello top menu, click **Dashboard**.</span></span> <span data-ttu-id="b5899-149">Du ser en sida öppnas på en ny webbläsare flik med namnet **HDInsight frågan konsolen**.</span><span class="sxs-lookup"><span data-stu-id="b5899-149">You will see a page opened on a new browser tab called **HDInsight Query Console**.</span></span>
4. <span data-ttu-id="b5899-150">Från **HDInsight frågan konsolen**, klickar du på **Yarn-Användargränssnittet**.</span><span class="sxs-lookup"><span data-stu-id="b5899-150">From **HDInsight Query Console**, click **Yarn UI**.</span></span>

[YARN-timeline-server]:http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html
[log-aggregation]:http://hortonworks.com/blog/simplifying-user-logs-management-and-access-in-yarn/
[T-file]:https://issues.apache.org/jira/secure/attachment/12396286/TFile%20Specification%2020081217.pdf
[binary-format]:https://issues.apache.org/jira/browse/HADOOP-3315
[YARN-concepts]:http://hortonworks.com/blog/apache-hadoop-yarn-concepts-and-applications/
