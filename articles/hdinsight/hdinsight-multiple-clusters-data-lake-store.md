---
title: aaaUse flera HDInsight-kluster med ett Azure Data Lake Store-konto - Azure | Microsoft Docs
description: "Lär dig hur toouse mer än ett HDInsight-kluster med ett enda Data Lake Store-konto"
keywords: "hdinsight lagring, hdfs, strukturerade data, Ostrukturerade data, datasjölager"
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 3a125b91fcc1e436270a1bd349f7a2d8f27e06fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="5ae50-104">Använda flera HDInsight-kluster med ett Azure Data Lake Store-konto</span><span class="sxs-lookup"><span data-stu-id="5ae50-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="5ae50-105">Från och med HDInsight version 3.5 kan skapa du HDInsight-kluster med Azure Data Lake Store-konton som hello standard filsystem.</span><span class="sxs-lookup"><span data-stu-id="5ae50-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as hello default filesystem.</span></span>
<span data-ttu-id="5ae50-106">Data Lake Store stöder obegränsad lagring som gör det perfekta inte värd för stora mängder data. men även som värd för flera HDInsight-kluster som delar ett enda Data Lake Store-konto.</span><span class="sxs-lookup"><span data-stu-id="5ae50-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="5ae50-107">Instructionson hur toocreate ett HDInsight-kluster med Data Lake Store som hello lagring, se [skapa HDInsight-kluster med Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="5ae50-107">For instructionson how toocreate an HDInsight cluster with Data Lake Store as hello storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="5ae50-108">Den här artikeln innehåller rekommendationer toohello Data Lake store-administratören för att skapa en enkel och delad lagring Datasjökontot som kan användas på flera **active** HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="5ae50-108">This article provides recommendations toohello Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="5ae50-109">De här rekommendationerna gäller toohosting flera säkra som inte är säkra Hadoop-kluster på ett delade Data Lake store-konto.</span><span class="sxs-lookup"><span data-stu-id="5ae50-109">These recommendations apply toohosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="5ae50-110">Data Lake Store fil- och nivå ACL: er</span><span class="sxs-lookup"><span data-stu-id="5ae50-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="5ae50-111">hello resten av den här artikeln förutsätter att du har goda kunskaper om fil- och nivå ACL: er i Azure Data Lake Store, som beskrivs i detalj i [åtkomstkontroll i Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="5ae50-111">hello rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="5ae50-112">Data Lake Store-inställningar för flera HDInsight-kluster</span><span class="sxs-lookup"><span data-stu-id="5ae50-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="5ae50-113">Låt oss ta ett två nivåer mapphierarkin tooexplain hello rekommendationer för att använda fler HDInsight-kluster med ett Data Lake Store-konto.</span><span class="sxs-lookup"><span data-stu-id="5ae50-113">Let us take a two-level folder hierarchy tooexplain hello recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="5ae50-114">Överväg att du har ett Data Lake Store-konto med hello mappstruktur **/kluster/ekonomi**.</span><span class="sxs-lookup"><span data-stu-id="5ae50-114">Consider you have a Data Lake Store account with hello folder structure **/clusters/finance**.</span></span> <span data-ttu-id="5ae50-115">Med den här strukturen kan alla hello kluster hello ekonomi organisation kräver använda /clusters/finance som hello lagringsplats.</span><span class="sxs-lookup"><span data-stu-id="5ae50-115">With this structure, all hello clusters required by hello Finance organization can use /clusters/finance as hello storage location.</span></span> <span data-ttu-id="5ae50-116">I hello framtida om en annan organisation säger marknadsföring, vill toocreate HDInsight-kluster med Hej samma Data Lake Store-konto, de kan skapa /clusters/marketing.</span><span class="sxs-lookup"><span data-stu-id="5ae50-116">In hello future, if another organization, say Marketing, wants toocreate HDInsight clusters using hello same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="5ae50-117">Nu ska vi använda **/kluster/ekonomi**.</span><span class="sxs-lookup"><span data-stu-id="5ae50-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="5ae50-118">tooenable som den här mappen strukturen toobe effektivt används av HDInsight-kluster hello Data Lake Store administratören måste tilldela rätt behörighet, enligt beskrivningen i hello tabell.</span><span class="sxs-lookup"><span data-stu-id="5ae50-118">tooenable this folder structure toobe effectively used by HDInsight clusters, hello Data Lake Store administrator must assign appropriate permissions, as described in hello table.</span></span> <span data-ttu-id="5ae50-119">hello behörigheter som visas i tabellen hello motsvara tooAccess ACL: er och inte standard-ACL: er.</span><span class="sxs-lookup"><span data-stu-id="5ae50-119">hello permissions shown in hello table correspond tooAccess-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="5ae50-120">Mapp</span><span class="sxs-lookup"><span data-stu-id="5ae50-120">Folder</span></span>  |<span data-ttu-id="5ae50-121">Behörigheter</span><span class="sxs-lookup"><span data-stu-id="5ae50-121">Permissions</span></span>  |<span data-ttu-id="5ae50-122">Ägande användare</span><span class="sxs-lookup"><span data-stu-id="5ae50-122">Owning user</span></span>  |<span data-ttu-id="5ae50-123">Ägande grupp</span><span class="sxs-lookup"><span data-stu-id="5ae50-123">Owning group</span></span>  | <span data-ttu-id="5ae50-124">Namngiven användare</span><span class="sxs-lookup"><span data-stu-id="5ae50-124">Named user</span></span> | <span data-ttu-id="5ae50-125">Namngiven användarbehörighet</span><span class="sxs-lookup"><span data-stu-id="5ae50-125">Named user permissions</span></span> | <span data-ttu-id="5ae50-126">Namngiven grupp</span><span class="sxs-lookup"><span data-stu-id="5ae50-126">Named group</span></span> | <span data-ttu-id="5ae50-127">Namngivna gruppbehörigheter</span><span class="sxs-lookup"><span data-stu-id="5ae50-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="5ae50-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="5ae50-128">rwxr-x--x</span></span>  |<span data-ttu-id="5ae50-129">Admin</span><span class="sxs-lookup"><span data-stu-id="5ae50-129">admin</span></span> |<span data-ttu-id="5ae50-130">Admin</span><span class="sxs-lookup"><span data-stu-id="5ae50-130">admin</span></span>  |<span data-ttu-id="5ae50-131">Tjänstens huvudnamn</span><span class="sxs-lookup"><span data-stu-id="5ae50-131">Service principal</span></span> |<span data-ttu-id="5ae50-132">--x</span><span class="sxs-lookup"><span data-stu-id="5ae50-132">--x</span></span>  |<span data-ttu-id="5ae50-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="5ae50-133">FINGRP</span></span>   |<span data-ttu-id="5ae50-134">r-x</span><span class="sxs-lookup"><span data-stu-id="5ae50-134">r-x</span></span>         |
|<span data-ttu-id="5ae50-135">/Clusters</span><span class="sxs-lookup"><span data-stu-id="5ae50-135">/clusters</span></span> | <span data-ttu-id="5ae50-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="5ae50-136">rwxr-x--x</span></span> |<span data-ttu-id="5ae50-137">Admin</span><span class="sxs-lookup"><span data-stu-id="5ae50-137">admin</span></span> |<span data-ttu-id="5ae50-138">Admin</span><span class="sxs-lookup"><span data-stu-id="5ae50-138">admin</span></span> |<span data-ttu-id="5ae50-139">Tjänstens huvudnamn</span><span class="sxs-lookup"><span data-stu-id="5ae50-139">Service principal</span></span> |<span data-ttu-id="5ae50-140">--x</span><span class="sxs-lookup"><span data-stu-id="5ae50-140">--x</span></span>  |<span data-ttu-id="5ae50-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="5ae50-141">FINGRP</span></span> |<span data-ttu-id="5ae50-142">r-x</span><span class="sxs-lookup"><span data-stu-id="5ae50-142">r-x</span></span>         |
|<span data-ttu-id="5ae50-143">/ kluster/ekonomi</span><span class="sxs-lookup"><span data-stu-id="5ae50-143">/clusters/finance</span></span> | <span data-ttu-id="5ae50-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="5ae50-144">rwxr-x--t</span></span> |<span data-ttu-id="5ae50-145">Admin</span><span class="sxs-lookup"><span data-stu-id="5ae50-145">admin</span></span> |<span data-ttu-id="5ae50-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="5ae50-146">FINGRP</span></span>  |<span data-ttu-id="5ae50-147">Tjänstens huvudnamn</span><span class="sxs-lookup"><span data-stu-id="5ae50-147">Service principal</span></span> |<span data-ttu-id="5ae50-148">rwx</span><span class="sxs-lookup"><span data-stu-id="5ae50-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="5ae50-149">I hello tabell</span><span class="sxs-lookup"><span data-stu-id="5ae50-149">In hello table,</span></span>

- <span data-ttu-id="5ae50-150">**Admin** är hello skapare och administratör i hello Data Lake Store-konto.</span><span class="sxs-lookup"><span data-stu-id="5ae50-150">**admin** is hello creator and administrator of hello Data Lake Store account.</span></span>
- <span data-ttu-id="5ae50-151">**Tjänstens huvudnamn** är hello Azure Active Directory (AAD) tjänstens huvudnamn som associeras med hello-konto.</span><span class="sxs-lookup"><span data-stu-id="5ae50-151">**Service principal** is hello Azure Active Directory (AAD) service principal associated with hello account.</span></span>
- <span data-ttu-id="5ae50-152">**FINGRP** är en användargrupp som skapats i AAD som innehåller användare från hello ekonomi-organisation.</span><span class="sxs-lookup"><span data-stu-id="5ae50-152">**FINGRP** is a user group created in AAD that contains users from hello Finance organization.</span></span>

<span data-ttu-id="5ae50-153">Anvisningar för hur toocreate ett AAD-program (som skapar också ett huvudnamn för tjänsten), se [skapa ett AAD-program](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="5ae50-153">For instructions on how toocreate an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="5ae50-154">Anvisningar för hur toocreate en användargrupp i AAD, se [hantera grupper i Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="5ae50-154">For instructions on how toocreate a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="5ae50-155">Några viktiga punkter tooconsider.</span><span class="sxs-lookup"><span data-stu-id="5ae50-155">Some key points tooconsider.</span></span>

- <span data-ttu-id="5ae50-156">hello två nivåer mappstrukturen (**/kluster/ekonomi/**) måste skapas och etablerats med rätt behörighet av Hej Data Lake Store administratör **innan** använder hello storage-konto för kluster.</span><span class="sxs-lookup"><span data-stu-id="5ae50-156">hello two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by hello Data Lake Store admin **before** using hello storage account for clusters.</span></span> <span data-ttu-id="5ae50-157">Den här strukturen skapas inte automatiskt när du skapar kluster.</span><span class="sxs-lookup"><span data-stu-id="5ae50-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="5ae50-158">hello-exemplet ovan rekommenderar inställningen hello äger grupp **/kluster/ekonomi** som **FINGRP** och gör det möjligt att **r-x** komma åt tooFINGRP toohello hela mapphierarki startar från hello rot.</span><span class="sxs-lookup"><span data-stu-id="5ae50-158">hello example above recommends setting hello owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access tooFINGRP toohello entire folder hierarchy starting from hello root.</span></span> <span data-ttu-id="5ae50-159">Detta säkerställer att hello medlemmar i FINGRP kan navigera hello mappstrukturen från roten.</span><span class="sxs-lookup"><span data-stu-id="5ae50-159">This ensures that hello members of FINGRP can navigate hello folder structure starting from root.</span></span>
- <span data-ttu-id="5ae50-160">I hello fallet när olika AAD tjänstens huvudnamn kan skapa kluster under **/kluster/ekonomi**, Fäst hello-bitars (på hello **ekonomi** mapp) så att mappar skapas en tjänst Säkerhetsobjekt kan inte tas bort av hello andra.</span><span class="sxs-lookup"><span data-stu-id="5ae50-160">In hello case when different AAD Service Principals can create clusters under **/clusters/finance**, hello sticky-bit (when set on hello **finance** folder) ensures that folders created by one Service Principal cannot be deleted by hello other.</span></span>
- <span data-ttu-id="5ae50-161">När hello mappstrukturen och behörigheterna är på plats, HDInsight klusterskapandeprocessen skapar en klusterspecifika lagring loaction under **/kluster/ekonomi/**.</span><span class="sxs-lookup"><span data-stu-id="5ae50-161">Once hello folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="5ae50-162">Hello lagring för ett kluster med hello namnet fincluster01 kan till exempel vara **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="5ae50-162">For example, hello storage for a cluster with hello name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="5ae50-163">hello ägarskap och behörigheter för hello mappar som skapas av HDInsight-klustret visas i här hello-tabellen.</span><span class="sxs-lookup"><span data-stu-id="5ae50-163">hello ownership and permissions for hello folders created by HDInsight cluster is shown in hello table here.</span></span>

    |<span data-ttu-id="5ae50-164">Mapp</span><span class="sxs-lookup"><span data-stu-id="5ae50-164">Folder</span></span>  |<span data-ttu-id="5ae50-165">Behörigheter</span><span class="sxs-lookup"><span data-stu-id="5ae50-165">Permissions</span></span>  |<span data-ttu-id="5ae50-166">Ägande användare</span><span class="sxs-lookup"><span data-stu-id="5ae50-166">Owning user</span></span>  |<span data-ttu-id="5ae50-167">Ägande grupp</span><span class="sxs-lookup"><span data-stu-id="5ae50-167">Owning group</span></span>  | <span data-ttu-id="5ae50-168">Namngiven användare</span><span class="sxs-lookup"><span data-stu-id="5ae50-168">Named user</span></span> | <span data-ttu-id="5ae50-169">Namngiven användarbehörighet</span><span class="sxs-lookup"><span data-stu-id="5ae50-169">Named user permissions</span></span> | <span data-ttu-id="5ae50-170">Namngiven grupp</span><span class="sxs-lookup"><span data-stu-id="5ae50-170">Named group</span></span> | <span data-ttu-id="5ae50-171">Namngivna gruppbehörigheter</span><span class="sxs-lookup"><span data-stu-id="5ae50-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="5ae50-172">/Clusters/finanace/fincluster01</span><span class="sxs-lookup"><span data-stu-id="5ae50-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="5ae50-173">rwxr x---</span><span class="sxs-lookup"><span data-stu-id="5ae50-173">rwxr-x---</span></span>  |<span data-ttu-id="5ae50-174">Tjänstens huvudnamn</span><span class="sxs-lookup"><span data-stu-id="5ae50-174">Service Principal</span></span> |<span data-ttu-id="5ae50-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="5ae50-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="5ae50-176">Rekommendationer för jobbet indata och utdata</span><span class="sxs-lookup"><span data-stu-id="5ae50-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="5ae50-177">Vi rekommenderar att ange data tooa jobb och hello utdata från ett jobb lagras i en mapp utanför **/kluster**.</span><span class="sxs-lookup"><span data-stu-id="5ae50-177">We recommend that input data tooa job, and hello outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="5ae50-178">Detta säkerställer att även om hello klusterspecifika mappen har tagits bort tooreclaim vissa lagringsutrymme, hello jobbet indata och utdata är fortfarande tillgänglig för framtida användning.</span><span class="sxs-lookup"><span data-stu-id="5ae50-178">This ensures that even if hello cluster-specific folder is deleted tooreclaim some storage space,hello job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="5ae50-179">Kontrollera att hello mapphierarkin för att lagra hello jobbet in- och utdataenheter tillåter rätt åtkomstnivå för hello tjänstens huvudnamn i så fall.</span><span class="sxs-lookup"><span data-stu-id="5ae50-179">In such a case, ensure that hello folder hierarchy for storing hello job inputs and outputs allows appropriate level of access for hello Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="5ae50-180">Begränsa på kluster som delar ett enda storage-konto</span><span class="sxs-lookup"><span data-stu-id="5ae50-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="5ae50-181">hello gränsen för hello antalet kluster som kan dela ett enda Data Lake Store-konto är beroende av hello arbetsbelastningen som körs på dessa kluster.</span><span class="sxs-lookup"><span data-stu-id="5ae50-181">hello limit on hello number of clusters that can share a single Data Lake Store account depends on hello workload being run on those clusters.</span></span> <span data-ttu-id="5ae50-182">Med för många kluster eller väldigt tunga arbetsbelastningar om hello-kluster som delar ett lagringskonto kan orsaka hello storage-konto ingång-/ utgång tooget begränsas.</span><span class="sxs-lookup"><span data-stu-id="5ae50-182">Having too many clusters or very heavy workloads on hello clusters that share a storage account might cause hello storage account ingress/egress tooget throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="5ae50-183">Stöd för standard-ACL: er</span><span class="sxs-lookup"><span data-stu-id="5ae50-183">Support for Default-ACLs</span></span>

<span data-ttu-id="5ae50-184">När du skapar ett huvudnamn för tjänsten med namnet användaråtkomst (som visas i hello tabellen ovan), rekommenderar vi **inte** att lägga till hello med namnet användare med en standard-ACL.</span><span class="sxs-lookup"><span data-stu-id="5ae50-184">When creating a Service Principal with named-user access (as shown in hello table above), we recommend **not** adding hello named-user with a default-ACL.</span></span> <span data-ttu-id="5ae50-185">Etablering med namnet användaren åtkomst med standard-ACL: er resultat hello tilldelning av 770 behörigheter för ägande användare och äger gruppen.</span><span class="sxs-lookup"><span data-stu-id="5ae50-185">Provisioning named-user access using default-ACLs results in hello assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="5ae50-186">När det här standardvärdet 770 inte tar bort behörigheter från det ägande användare (7) eller äger-grupp (7), men det tar bort alla behörigheter för andra (0).</span><span class="sxs-lookup"><span data-stu-id="5ae50-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="5ae50-187">Detta resulterar i ett känt problem med en viss användningsfall som diskuteras i detalj i hello [kända problem och lösningar](#known-issues-and-workarounds) avsnitt.</span><span class="sxs-lookup"><span data-stu-id="5ae50-187">This results in a known issue with one particular use-case that is discussed in detail in hello [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="5ae50-188">Kända problem och lösningar</span><span class="sxs-lookup"><span data-stu-id="5ae50-188">Known issues and workarounds</span></span>

<span data-ttu-id="5ae50-189">Det här avsnittet innehåller hello kända problem för att använda HDInsight med Data Lake Store och sina lösningar.</span><span class="sxs-lookup"><span data-stu-id="5ae50-189">This section lists hello known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="5ae50-190">Synligt offentligt lokaliserade YARN-resurser</span><span class="sxs-lookup"><span data-stu-id="5ae50-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="5ae50-191">När ett nytt Azure Data Lake store-konto har skapats kan etableras automatiskt hello rotkatalog med ACL Access behörighet bits set too770.</span><span class="sxs-lookup"><span data-stu-id="5ae50-191">When a new Azure Data Lake store account is created, hello root directory is automatically provisioned with Access-ACL permission bits set too770.</span></span> <span data-ttu-id="5ae50-192">hello Rotmappens äger är uppsättningen toohello användaren som skapade hello konto (hello Data Lake Store) och toohello primär grupp för hello-användaren som skapade hello konto anges hello ägande grupp.</span><span class="sxs-lookup"><span data-stu-id="5ae50-192">hello root folder’s owning user is set toohello user that created hello account (hello Data Lake Store admin) and hello owning group is set toohello primary group of hello user that created hello account.</span></span> <span data-ttu-id="5ae50-193">Ingen åtkomst har angetts för ”övriga”.</span><span class="sxs-lookup"><span data-stu-id="5ae50-193">No access is provided for "others".</span></span>

<span data-ttu-id="5ae50-194">De här inställningarna är kända tooaffect specifika HDInsight-användningsfall i [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="5ae50-194">These settings are known tooaffect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="5ae50-195">Jobbet bidrag kan misslyckas med ett fel meddelande liknande toothis:</span><span class="sxs-lookup"><span data-stu-id="5ae50-195">Job submissions could fail with an error message similar toothis:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of hello public cache.

<span data-ttu-id="5ae50-196">Enligt informationen i hello YARN JIRA länkade tidigare under lokaliseringen offentliga resurser hello localizer verifierar att alla hello är begärda resurserna verkligen offentliga genom att kontrollera deras behörigheter för hello fjärr-filsystemet.</span><span class="sxs-lookup"><span data-stu-id="5ae50-196">As stated in hello YARN JIRA linked earlier, while localizing public resources, hello localizer validates that all hello requested resources are indeed public by checking their permissions on hello remote file-system.</span></span> <span data-ttu-id="5ae50-197">Alla LocalResource som inte uppfyller villkoret avvisas för lokalisering.</span><span class="sxs-lookup"><span data-stu-id="5ae50-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="5ae50-198">Hej Kontrollera behörigheter, innehåller läsbehörighet toohello-fil för ”övriga”.</span><span class="sxs-lookup"><span data-stu-id="5ae50-198">hello check for permissions, includes read-access toohello file for "others".</span></span> <span data-ttu-id="5ae50-199">Det här scenariot fungerar inte out box när värd HDInsight-kluster i Azure Data Lake eftersom Azure Data Lake nekar åtkomst för ”andra” på rotnivå för mappen.</span><span class="sxs-lookup"><span data-stu-id="5ae50-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access too"others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="5ae50-200">Lösning</span><span class="sxs-lookup"><span data-stu-id="5ae50-200">Workaround</span></span>
<span data-ttu-id="5ae50-201">Ange Läs-körningsbehörighet **andra** genom hello-hierarkin, till exempel på  **/** , **/kluster** och   **/kluster/ekonomi**  enligt hello tabellen ovan.</span><span class="sxs-lookup"><span data-stu-id="5ae50-201">Set read-execute permissions for **others** through hello hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in hello table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="5ae50-202">Se även</span><span class="sxs-lookup"><span data-stu-id="5ae50-202">See also</span></span>

* [<span data-ttu-id="5ae50-203">Skapa ett HDInsight-kluster med Data Lake Store som lagring</span><span class="sxs-lookup"><span data-stu-id="5ae50-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


