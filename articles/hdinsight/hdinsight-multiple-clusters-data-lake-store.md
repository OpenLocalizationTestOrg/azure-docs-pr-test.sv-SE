---
title: "Använda flera HDInsight-kluster med ett Azure Data Lake Store-konto - Azure | Microsoft Docs"
description: "Lär dig hur du använder fler än ett HDInsight-kluster med ett enda Data Lake Store-konto"
keywords: "hdinsight lagring, hdfs, strukturerade data, Ostrukturerade data, datasjölager"
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 043141e8496a947f54564d29a1d7fb724fac5cda
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="05b39-104">Använda flera HDInsight-kluster med ett Azure Data Lake Store-konto</span><span class="sxs-lookup"><span data-stu-id="05b39-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="05b39-105">Från och med HDInsight version 3.5 kan skapa du HDInsight-kluster med Azure Data Lake Store-konton som standard filsystemet.</span><span class="sxs-lookup"><span data-stu-id="05b39-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as the default filesystem.</span></span>
<span data-ttu-id="05b39-106">Data Lake Store stöder obegränsad lagring som gör det perfekta inte värd för stora mängder data. men även som värd för flera HDInsight-kluster som delar ett enda Data Lake Store-konto.</span><span class="sxs-lookup"><span data-stu-id="05b39-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="05b39-107">Instructionson om hur du skapar ett HDInsight-kluster med Data Lake Store som lagring, finns [skapa HDInsight-kluster med Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="05b39-107">For instructionson how to create an HDInsight cluster with Data Lake Store as the storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="05b39-108">Den här artikeln innehåller rekommendationer för Data Lake lagra administratör för att konfigurera en enskild och delad lagring Datasjökontot som kan användas på flera **active** HDInsight-kluster.</span><span class="sxs-lookup"><span data-stu-id="05b39-108">This article provides recommendations to the Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="05b39-109">De här rekommendationerna gäller för värd för flera säkra som inte är säkra Hadoop-kluster på ett delade Data Lake store-konto.</span><span class="sxs-lookup"><span data-stu-id="05b39-109">These recommendations apply to hosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="05b39-110">Data Lake Store fil- och nivå ACL: er</span><span class="sxs-lookup"><span data-stu-id="05b39-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="05b39-111">Resten av den här artikeln förutsätter att du har goda kunskaper om fil- och nivå ACL: er i Azure Data Lake Store, som beskrivs i detalj i [åtkomstkontroll i Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="05b39-111">The rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="05b39-112">Data Lake Store-inställningar för flera HDInsight-kluster</span><span class="sxs-lookup"><span data-stu-id="05b39-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="05b39-113">Låt oss ta ett mapphierarkin med två nivåer som förklarar rekommendationer för att använda fler HDInsight-kluster med ett Data Lake Store-konto.</span><span class="sxs-lookup"><span data-stu-id="05b39-113">Let us take a two-level folder hierarchy to explain the recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="05b39-114">Överväg att du har ett Data Lake Store-konto med mappstrukturen **/kluster/ekonomi**.</span><span class="sxs-lookup"><span data-stu-id="05b39-114">Consider you have a Data Lake Store account with the folder structure **/clusters/finance**.</span></span> <span data-ttu-id="05b39-115">Med den här strukturen kan alla kluster som krävs av ekonomi organisationen använda /clusters/finance som lagringsplats.</span><span class="sxs-lookup"><span data-stu-id="05b39-115">With this structure, all the clusters required by the Finance organization can use /clusters/finance as the storage location.</span></span> <span data-ttu-id="05b39-116">I framtida om en annan organisation, säg marknadsföring, om du vill skapa HDInsight-kluster med samma Data Lake Store-konto, kan de skapar/kluster/marknadsföring.</span><span class="sxs-lookup"><span data-stu-id="05b39-116">In the future, if another organization, say Marketing, wants to create HDInsight clusters using the same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="05b39-117">Nu ska vi använda **/kluster/ekonomi**.</span><span class="sxs-lookup"><span data-stu-id="05b39-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="05b39-118">Om du vill aktivera den här mappstrukturen att användas av HDInsight-kluster måste Data Lake Store-administratör tilldela rätt behörighet, enligt beskrivningen i tabellen.</span><span class="sxs-lookup"><span data-stu-id="05b39-118">To enable this folder structure to be effectively used by HDInsight clusters, the Data Lake Store administrator must assign appropriate permissions, as described in the table.</span></span> <span data-ttu-id="05b39-119">De behörigheter som visas i tabellen motsvarar åtkomst ACL: er och inte standard-ACL: er.</span><span class="sxs-lookup"><span data-stu-id="05b39-119">The permissions shown in the table correspond to Access-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="05b39-120">Mapp</span><span class="sxs-lookup"><span data-stu-id="05b39-120">Folder</span></span>  |<span data-ttu-id="05b39-121">Behörigheter</span><span class="sxs-lookup"><span data-stu-id="05b39-121">Permissions</span></span>  |<span data-ttu-id="05b39-122">Ägande användare</span><span class="sxs-lookup"><span data-stu-id="05b39-122">Owning user</span></span>  |<span data-ttu-id="05b39-123">Ägande grupp</span><span class="sxs-lookup"><span data-stu-id="05b39-123">Owning group</span></span>  | <span data-ttu-id="05b39-124">Namngiven användare</span><span class="sxs-lookup"><span data-stu-id="05b39-124">Named user</span></span> | <span data-ttu-id="05b39-125">Namngiven användarbehörighet</span><span class="sxs-lookup"><span data-stu-id="05b39-125">Named user permissions</span></span> | <span data-ttu-id="05b39-126">Namngiven grupp</span><span class="sxs-lookup"><span data-stu-id="05b39-126">Named group</span></span> | <span data-ttu-id="05b39-127">Namngivna gruppbehörigheter</span><span class="sxs-lookup"><span data-stu-id="05b39-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="05b39-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="05b39-128">rwxr-x--x</span></span>  |<span data-ttu-id="05b39-129">Admin</span><span class="sxs-lookup"><span data-stu-id="05b39-129">admin</span></span> |<span data-ttu-id="05b39-130">Admin</span><span class="sxs-lookup"><span data-stu-id="05b39-130">admin</span></span>  |<span data-ttu-id="05b39-131">Tjänstens huvudnamn</span><span class="sxs-lookup"><span data-stu-id="05b39-131">Service principal</span></span> |<span data-ttu-id="05b39-132">--x</span><span class="sxs-lookup"><span data-stu-id="05b39-132">--x</span></span>  |<span data-ttu-id="05b39-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="05b39-133">FINGRP</span></span>   |<span data-ttu-id="05b39-134">r-x</span><span class="sxs-lookup"><span data-stu-id="05b39-134">r-x</span></span>         |
|<span data-ttu-id="05b39-135">/Clusters</span><span class="sxs-lookup"><span data-stu-id="05b39-135">/clusters</span></span> | <span data-ttu-id="05b39-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="05b39-136">rwxr-x--x</span></span> |<span data-ttu-id="05b39-137">Admin</span><span class="sxs-lookup"><span data-stu-id="05b39-137">admin</span></span> |<span data-ttu-id="05b39-138">Admin</span><span class="sxs-lookup"><span data-stu-id="05b39-138">admin</span></span> |<span data-ttu-id="05b39-139">Tjänstens huvudnamn</span><span class="sxs-lookup"><span data-stu-id="05b39-139">Service principal</span></span> |<span data-ttu-id="05b39-140">--x</span><span class="sxs-lookup"><span data-stu-id="05b39-140">--x</span></span>  |<span data-ttu-id="05b39-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="05b39-141">FINGRP</span></span> |<span data-ttu-id="05b39-142">r-x</span><span class="sxs-lookup"><span data-stu-id="05b39-142">r-x</span></span>         |
|<span data-ttu-id="05b39-143">/ kluster/ekonomi</span><span class="sxs-lookup"><span data-stu-id="05b39-143">/clusters/finance</span></span> | <span data-ttu-id="05b39-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="05b39-144">rwxr-x--t</span></span> |<span data-ttu-id="05b39-145">Admin</span><span class="sxs-lookup"><span data-stu-id="05b39-145">admin</span></span> |<span data-ttu-id="05b39-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="05b39-146">FINGRP</span></span>  |<span data-ttu-id="05b39-147">Tjänstens huvudnamn</span><span class="sxs-lookup"><span data-stu-id="05b39-147">Service principal</span></span> |<span data-ttu-id="05b39-148">rwx</span><span class="sxs-lookup"><span data-stu-id="05b39-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="05b39-149">I tabellen</span><span class="sxs-lookup"><span data-stu-id="05b39-149">In the table,</span></span>

- <span data-ttu-id="05b39-150">**Admin** är skapare och administratör i Data Lake Store-konto.</span><span class="sxs-lookup"><span data-stu-id="05b39-150">**admin** is the creator and administrator of the Data Lake Store account.</span></span>
- <span data-ttu-id="05b39-151">**Tjänstens huvudnamn** är associerat med kontot Azure Active Directory (AAD) tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="05b39-151">**Service principal** is the Azure Active Directory (AAD) service principal associated with the account.</span></span>
- <span data-ttu-id="05b39-152">**FINGRP** är en användargrupp som skapats i AAD som innehåller användare från ekonomi-organisation.</span><span class="sxs-lookup"><span data-stu-id="05b39-152">**FINGRP** is a user group created in AAD that contains users from the Finance organization.</span></span>

<span data-ttu-id="05b39-153">Anvisningar om hur du skapar ett AAD-program (som skapar också ett huvudnamn för tjänsten) finns [skapa ett AAD-program](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="05b39-153">For instructions on how to create an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="05b39-154">Anvisningar om hur du skapar en användargrupp i AAD finns [hantera grupper i Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="05b39-154">For instructions on how to create a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="05b39-155">Några viktiga saker att tänka på.</span><span class="sxs-lookup"><span data-stu-id="05b39-155">Some key points to consider.</span></span>

- <span data-ttu-id="05b39-156">Två nivå mappstrukturen (**/kluster/ekonomi/**) måste skapas och etablerats med rätt behörighet av Data Lake Store-admin **innan** använder lagringskontot för kluster.</span><span class="sxs-lookup"><span data-stu-id="05b39-156">The two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by the Data Lake Store admin **before** using the storage account for clusters.</span></span> <span data-ttu-id="05b39-157">Den här strukturen skapas inte automatiskt när du skapar kluster.</span><span class="sxs-lookup"><span data-stu-id="05b39-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="05b39-158">Exemplet ovan rekommenderar inställningen gruppen ägande av **/kluster/ekonomi** som **FINGRP** och gör det möjligt att **r-x** åtkomst till FINGRP till hela hierarkin för att börja från roten.</span><span class="sxs-lookup"><span data-stu-id="05b39-158">The example above recommends setting the owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access to FINGRP to the entire folder hierarchy starting from the root.</span></span> <span data-ttu-id="05b39-159">Detta säkerställer att medlemmarna i FINGRP kan navigera mappstrukturen från roten.</span><span class="sxs-lookup"><span data-stu-id="05b39-159">This ensures that the members of FINGRP can navigate the folder structure starting from root.</span></span>
- <span data-ttu-id="05b39-160">I fallet när olika AAD tjänstens huvudnamn kan skapa kluster under **/kluster/ekonomi**, Fäst-bitars (på den **ekonomi** mapp) säkerställer att mappar som skapas av en tjänstens huvudnamn inte kan tas bort av den andra.</span><span class="sxs-lookup"><span data-stu-id="05b39-160">In the case when different AAD Service Principals can create clusters under **/clusters/finance**, the sticky-bit (when set on the **finance** folder) ensures that folders created by one Service Principal cannot be deleted by the other.</span></span>
- <span data-ttu-id="05b39-161">När mappstrukturen och behörigheter är på plats, HDInsight klusterskapandeprocessen skapar en klusterspecifika lagring loaction under **/kluster/ekonomi/**.</span><span class="sxs-lookup"><span data-stu-id="05b39-161">Once the folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="05b39-162">Lagring för ett kluster med namnet fincluster01 kan till exempel vara **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="05b39-162">For example, the storage for a cluster with the name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="05b39-163">Ägarskap och behörigheter för mappar som skapas av HDInsight-klustret visas i den här tabellen.</span><span class="sxs-lookup"><span data-stu-id="05b39-163">The ownership and permissions for the folders created by HDInsight cluster is shown in the table here.</span></span>

    |<span data-ttu-id="05b39-164">Mapp</span><span class="sxs-lookup"><span data-stu-id="05b39-164">Folder</span></span>  |<span data-ttu-id="05b39-165">Behörigheter</span><span class="sxs-lookup"><span data-stu-id="05b39-165">Permissions</span></span>  |<span data-ttu-id="05b39-166">Ägande användare</span><span class="sxs-lookup"><span data-stu-id="05b39-166">Owning user</span></span>  |<span data-ttu-id="05b39-167">Ägande grupp</span><span class="sxs-lookup"><span data-stu-id="05b39-167">Owning group</span></span>  | <span data-ttu-id="05b39-168">Namngiven användare</span><span class="sxs-lookup"><span data-stu-id="05b39-168">Named user</span></span> | <span data-ttu-id="05b39-169">Namngiven användarbehörighet</span><span class="sxs-lookup"><span data-stu-id="05b39-169">Named user permissions</span></span> | <span data-ttu-id="05b39-170">Namngiven grupp</span><span class="sxs-lookup"><span data-stu-id="05b39-170">Named group</span></span> | <span data-ttu-id="05b39-171">Namngivna gruppbehörigheter</span><span class="sxs-lookup"><span data-stu-id="05b39-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="05b39-172">/Clusters/finanace/fincluster01</span><span class="sxs-lookup"><span data-stu-id="05b39-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="05b39-173">rwxr x---</span><span class="sxs-lookup"><span data-stu-id="05b39-173">rwxr-x---</span></span>  |<span data-ttu-id="05b39-174">Tjänstens huvudnamn</span><span class="sxs-lookup"><span data-stu-id="05b39-174">Service Principal</span></span> |<span data-ttu-id="05b39-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="05b39-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="05b39-176">Rekommendationer för jobbet indata och utdata</span><span class="sxs-lookup"><span data-stu-id="05b39-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="05b39-177">Vi rekommenderar att mata in data till ett jobb och utdata från ett jobb lagras i en mapp utanför **/kluster**.</span><span class="sxs-lookup"><span data-stu-id="05b39-177">We recommend that input data to a job, and the outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="05b39-178">Detta säkerställer att även om mappen klusterspecifika tas bort om du vill frigöra lagringsutrymme jobbet indata och utdata är fortfarande tillgänglig för framtida användning.</span><span class="sxs-lookup"><span data-stu-id="05b39-178">This ensures that even if the cluster-specific folder is deleted to reclaim some storage space,the job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="05b39-179">I så fall kan du kontrollera att mapphierarkin för lagring av jobbet indata och utdata tillåter rätt åtkomstnivå för tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="05b39-179">In such a case, ensure that the folder hierarchy for storing the job inputs and outputs allows appropriate level of access for the Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="05b39-180">Begränsa på kluster som delar ett enda storage-konto</span><span class="sxs-lookup"><span data-stu-id="05b39-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="05b39-181">Gränsen för antalet kluster som kan dela ett enda Data Lake Store-konto beror på arbetsbelastningen som körs på dessa kluster.</span><span class="sxs-lookup"><span data-stu-id="05b39-181">The limit on the number of clusters that can share a single Data Lake Store account depends on the workload being run on those clusters.</span></span> <span data-ttu-id="05b39-182">Med för många kluster eller väldigt tunga arbetsbelastningar på kluster som delar ett lagringskonto kan orsaka det lagring konto ingång-/ utgång till hämta begränsas.</span><span class="sxs-lookup"><span data-stu-id="05b39-182">Having too many clusters or very heavy workloads on the clusters that share a storage account might cause the storage account ingress/egress to get throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="05b39-183">Stöd för standard-ACL: er</span><span class="sxs-lookup"><span data-stu-id="05b39-183">Support for Default-ACLs</span></span>

<span data-ttu-id="05b39-184">När du skapar ett huvudnamn för tjänsten med namnet användaråtkomst (som visas i tabellen ovan), rekommenderar vi **inte** att lägga till den namngivna användaren med en standard-ACL.</span><span class="sxs-lookup"><span data-stu-id="05b39-184">When creating a Service Principal with named-user access (as shown in the table above), we recommend **not** adding the named-user with a default-ACL.</span></span> <span data-ttu-id="05b39-185">Etablering med namnet användaren åtkomst med standard-ACL: er resultat tilldelningen av 770 behörigheter för ägande användare och äger gruppen.</span><span class="sxs-lookup"><span data-stu-id="05b39-185">Provisioning named-user access using default-ACLs results in the assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="05b39-186">När det här standardvärdet 770 inte tar bort behörigheter från det ägande användare (7) eller äger-grupp (7), men det tar bort alla behörigheter för andra (0).</span><span class="sxs-lookup"><span data-stu-id="05b39-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="05b39-187">Detta resulterar i ett känt problem med en viss användningsfall som diskuteras i detalj i den [kända problem och lösningar](#known-issues-and-workarounds) avsnitt.</span><span class="sxs-lookup"><span data-stu-id="05b39-187">This results in a known issue with one particular use-case that is discussed in detail in the [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="05b39-188">Kända problem och lösningar</span><span class="sxs-lookup"><span data-stu-id="05b39-188">Known issues and workarounds</span></span>

<span data-ttu-id="05b39-189">Det här avsnittet innehåller kända problem för att använda HDInsight med Data Lake Store och sina lösningar.</span><span class="sxs-lookup"><span data-stu-id="05b39-189">This section lists the known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="05b39-190">Synligt offentligt lokaliserade YARN-resurser</span><span class="sxs-lookup"><span data-stu-id="05b39-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="05b39-191">När ett nytt Azure Data Lake store-konto har skapats kan etableras automatiskt rotkatalogen med ACL Access behörighet bitarna till 770.</span><span class="sxs-lookup"><span data-stu-id="05b39-191">When a new Azure Data Lake store account is created, the root directory is automatically provisioned with Access-ACL permission bits set to 770.</span></span> <span data-ttu-id="05b39-192">Rotmappens äger användaren är inställd på att användaren som skapade kontot (Data Lake Store-admin) och gruppen ägande är inställd på primär grupp för användaren som skapade kontot.</span><span class="sxs-lookup"><span data-stu-id="05b39-192">The root folder’s owning user is set to the user that created the account (the Data Lake Store admin) and the owning group is set to the primary group of the user that created the account.</span></span> <span data-ttu-id="05b39-193">Ingen åtkomst har angetts för ”övriga”.</span><span class="sxs-lookup"><span data-stu-id="05b39-193">No access is provided for "others".</span></span>

<span data-ttu-id="05b39-194">De här inställningarna är känt att påverkar en viss HDInsight användningsfall hämtas [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="05b39-194">These settings are known to affect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="05b39-195">Jobbet bidrag kan misslyckas med felmeddelandet ut ungefär så här:</span><span class="sxs-lookup"><span data-stu-id="05b39-195">Job submissions could fail with an error message similar to this:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of the public cache.

<span data-ttu-id="05b39-196">Enligt informationen i YARN-JIRA länkade tidigare under lokaliseringen offentliga resurser validerar i localizer att de begärda resurserna verkligen offentliga genom att kontrollera deras behörigheter för fjärråtkomst-filsystemet.</span><span class="sxs-lookup"><span data-stu-id="05b39-196">As stated in the YARN JIRA linked earlier, while localizing public resources, the localizer validates that all the requested resources are indeed public by checking their permissions on the remote file-system.</span></span> <span data-ttu-id="05b39-197">Alla LocalResource som inte uppfyller villkoret avvisas för lokalisering.</span><span class="sxs-lookup"><span data-stu-id="05b39-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="05b39-198">Kontrollera behörigheter, inkluderar läsbehörighet till filen för ”andra”.</span><span class="sxs-lookup"><span data-stu-id="05b39-198">The check for permissions, includes read-access to the file for "others".</span></span> <span data-ttu-id="05b39-199">Det här scenariot fungerar inte out box när värd HDInsight-kluster i Azure Data Lake eftersom Azure Data Lake nekar åtkomst till ”andra” på rotnivå för mappen.</span><span class="sxs-lookup"><span data-stu-id="05b39-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access to "others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="05b39-200">Lösning</span><span class="sxs-lookup"><span data-stu-id="05b39-200">Workaround</span></span>
<span data-ttu-id="05b39-201">Ange Läs-körningsbehörighet **andra** via hierarkin, till exempel på  **/** , **/kluster** och **/kluster/ekonomi** som visas i tabellen ovan.</span><span class="sxs-lookup"><span data-stu-id="05b39-201">Set read-execute permissions for **others** through the hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in the table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="05b39-202">Se även</span><span class="sxs-lookup"><span data-stu-id="05b39-202">See also</span></span>

* [<span data-ttu-id="05b39-203">Skapa ett HDInsight-kluster med Data Lake Store som lagring</span><span class="sxs-lookup"><span data-stu-id="05b39-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


