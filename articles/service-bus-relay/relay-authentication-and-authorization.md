---
title: aaaAzure Relay autentisering och auktorisering | Microsoft Docs
description: "Översikt över delade signatur åtkomst (SAS)-autentisering i Azure-relä"
services: service-bus-relay
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: service-bus-relay
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/03/2017
ms.author: sethm
ms.openlocfilehash: b27914672ce968da2bddba8dafc5683ebf3834ac
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-relay-authentication-and-authorization"></a><span data-ttu-id="0dcfe-103">Azure Relay-autentisering och auktorisering</span><span class="sxs-lookup"><span data-stu-id="0dcfe-103">Azure Relay authentication and authorization</span></span>
<span data-ttu-id="0dcfe-104">Program kan autentisera tooAzure Relay med delade signatur åtkomst (SAS)-autentisering.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-104">Applications can authenticate tooAzure Relay using Shared Access Signature (SAS) authentication.</span></span> <span data-ttu-id="0dcfe-105">Liknande för[Service Bus-meddelanden](../service-bus-messaging/service-bus-authentication-and-authorization.md), SAS-autentisering gör det möjligt för program tooauthenticate toohello Azure vidarebefordrande tjänsten med hjälp av en åtkomstnyckel som konfigurerats på hello Relay namnområde.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-105">Similar too[Service Bus messaging](../service-bus-messaging/service-bus-authentication-and-authorization.md), SAS authentication enables applications tooauthenticate toohello Azure Relay service using an access key configured on hello Relay namespace.</span></span> <span data-ttu-id="0dcfe-106">Du kan sedan använda den här nyckeln toogenerate en signatur för delad åtkomst-token som klienter kan använda tooauthenticate toohello vidarebefordrande tjänsten.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-106">You can then use this key toogenerate a Shared Access Signature token that clients can use tooauthenticate toohello relay service.</span></span>

## <a name="shared-access-signature-authentication"></a><span data-ttu-id="0dcfe-107">Autentisering med delad Åtkomstsignatur</span><span class="sxs-lookup"><span data-stu-id="0dcfe-107">Shared Access Signature authentication</span></span>
<span data-ttu-id="0dcfe-108">[SAS-autentisering](../service-bus-messaging/service-bus-sas.md) aktiverar du toogrant en användare kommer åt tooAzure Relay resurser med specifika rättigheter.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-108">[SAS authentication](../service-bus-messaging/service-bus-sas.md) enables you toogrant a user access tooAzure Relay resources with specific rights.</span></span> <span data-ttu-id="0dcfe-109">SAS-autentisering innebär hello konfigurationen av en krypteringsnyckel med associerade behörigheter på en resurs.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-109">SAS authentication involves hello configuration of a cryptographic key with associated rights on a resource.</span></span> <span data-ttu-id="0dcfe-110">Klienter kan få åtkomst toothat resursen genom att presentera en SAS-token som består av hello resurs-URI som används och ett förfallodatum som signerats med hello konfigurerade nyckeln.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-110">Clients can then gain access toothat resource by presenting a SAS token, which consists of hello resource URI being accessed and an expiry signed with hello configured key.</span></span>

<span data-ttu-id="0dcfe-111">Du kan konfigurera nycklar för SAS för en Relay-namnområdet.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-111">You can configure keys for SAS on a Relay namespace.</span></span> <span data-ttu-id="0dcfe-112">Till skillnad från Service Bus-meddelanden, [Relay Hybridanslutningar](relay-hybrid-connections-protocol.md) stöder obehörig eller anonym avsändare.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-112">Unlike Service Bus messaging, [Relay Hybrid Connections](relay-hybrid-connections-protocol.md) supports unauthorized or anonymous senders.</span></span> <span data-ttu-id="0dcfe-113">Du kan aktivera anonym åtkomst för hello entiteten när du skapar den, som visas i följande skärmbild från hello portal hello:</span><span class="sxs-lookup"><span data-stu-id="0dcfe-113">You can enable anonymous access for hello entity when you create it, as shown in hello following screen shot from hello portal:</span></span>

![][0]

<span data-ttu-id="0dcfe-114">toouse SAS kan du konfigurera en [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) objekt på en Relay-namnområde som består av följande hello:</span><span class="sxs-lookup"><span data-stu-id="0dcfe-114">toouse SAS, you can configure a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object on a Relay namespace that consists of hello following:</span></span>

* <span data-ttu-id="0dcfe-115">*KeyName* som identifierar hello regeln.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-115">*KeyName* that identifies hello rule.</span></span>
* <span data-ttu-id="0dcfe-116">*PrimaryKey* är en kryptografisk nyckel används toosign/Validera SAS-token.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-116">*PrimaryKey* is a cryptographic key used toosign/validate SAS tokens.</span></span>
* <span data-ttu-id="0dcfe-117">*Sekundär nyckel* är en kryptografisk nyckel används toosign/Validera SAS-token.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-117">*SecondaryKey* is a cryptographic key used toosign/validate SAS tokens.</span></span>
* <span data-ttu-id="0dcfe-118">*Rättigheter* som representerar hello samling lyssna skicka eller hantera rättigheter.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-118">*Rights* representing hello collection of Listen, Send, or Manage rights granted.</span></span>

<span data-ttu-id="0dcfe-119">Auktoriseringsregler som konfigurerats på hello namnområdesnivån kan bevilja åtkomst tooall relay-anslutningar i ett namnområde för klienter med token som signerats med hello motsvarande nyckel.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-119">Authorization rules configured at hello namespace level can grant access tooall relay connections in a namespace for clients with tokens signed using hello corresponding key.</span></span> <span data-ttu-id="0dcfe-120">In too12 kan sådana auktoriseringsregler konfigureras på en Relay-namnrymd.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-120">Up too12 such authorization rules can be configured on a Relay namespace.</span></span> <span data-ttu-id="0dcfe-121">Som standard en [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) alla rättigheter som är konfigurerad för varje namnområde när det först har etablerats.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-121">By default, a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) with all rights is configured for every namespace when it is first provisioned.</span></span>

<span data-ttu-id="0dcfe-122">tooaccess en entitet hello klienten kräver en SAS-token som skapats med en specifik [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span><span class="sxs-lookup"><span data-stu-id="0dcfe-122">tooaccess an entity, hello client requires a SAS token generated using a specific [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span></span> <span data-ttu-id="0dcfe-123">hello SAS-token genereras med en krypteringsnyckel som är associerade med hello auktoriseringsregeln hello HMAC SHA256 av en resurssträng som består av hello resurs URI toowhich åtkomst begärs och en upphör att gälla.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-123">hello SAS token is generated using hello HMAC-SHA256 of a resource string that consists of hello resource URI toowhich access is claimed, and an expiry with a cryptographic key associated with hello authorization rule.</span></span>

<span data-ttu-id="0dcfe-124">SAS autentiseringsstöd för Azure Relay ingår i hello Azure .NET SDK version 2.0 och senare.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-124">SAS authentication support for Azure Relay is included in hello Azure .NET SDK versions 2.0 and later.</span></span> <span data-ttu-id="0dcfe-125">SAS har stöd för en [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span><span class="sxs-lookup"><span data-stu-id="0dcfe-125">SAS includes support for a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span></span> <span data-ttu-id="0dcfe-126">API: er som accepterar en anslutningssträng som en parameter har stöd för SAS-anslutningssträngar.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-126">All APIs that accept a connection string as a parameter include support for SAS connection strings.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0dcfe-127">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="0dcfe-127">Next steps</span></span>
- <span data-ttu-id="0dcfe-128">Läs [Service Bus-autentisering med signaturer för delad åtkomst](../service-bus-messaging/service-bus-sas.md) för mer information om SAS.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-128">Continue reading [Service Bus authentication with Shared Access Signatures](../service-bus-messaging/service-bus-sas.md) for more details about SAS.</span></span>
- <span data-ttu-id="0dcfe-129">Se hello [Azure Relay Hybridanslutningar protokollet guiden](relay-hybrid-connections-protocol.md) detaljerad information om hello Hybridanslutningar kapaciteten.</span><span class="sxs-lookup"><span data-stu-id="0dcfe-129">See hello [Azure Relay Hybrid Connections protocol guide](relay-hybrid-connections-protocol.md) for detailed information about hello Hybrid Connections capability.</span></span>
- <span data-ttu-id="0dcfe-130">Motsvarande information om Service Bus-meddelanden autentisering och auktorisering finns [Service Bus-autentisering och auktorisering](../service-bus-messaging/service-bus-authentication-and-authorization.md).</span><span class="sxs-lookup"><span data-stu-id="0dcfe-130">For corresponding information about Service Bus Messaging authentication and authorization, see [Service Bus authentication and authorization](../service-bus-messaging/service-bus-authentication-and-authorization.md).</span></span> 

[0]: ./media/relay-authentication-and-authorization/hcanon.png