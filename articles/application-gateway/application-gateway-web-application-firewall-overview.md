---
title: "aaaIntroduction tooweb programmet firewall (Brandvägg) för Azure Programgateway | Microsoft Docs"
description: "Den här sidan innehåller en översikt över brandväggen för webbaserade program (WAF) för Application Gateway"
documentationcenter: na
services: application-gateway
author: amsriva
manager: rossort
editor: amsriva
ms.assetid: 04b362bc-6653-4765-86f6-55ee8ec2a0ff
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/03/2017
ms.author: amsriva
ms.openlocfilehash: 5a42ce0fb2bd12a391844099e2de8fa2571195e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="web-application-firewall-waf"></a><span data-ttu-id="02601-103">Brandvägg för webbaserade program (WAF)</span><span class="sxs-lookup"><span data-stu-id="02601-103">Web application firewall (WAF)</span></span>

<span data-ttu-id="02601-104">Brandvägg för webbaserade program (WAF) är en funktion i Application Gateway som ger ett centraliserat skydd för dina webbappar mot vanliga kryphål och säkerhetsproblem.</span><span class="sxs-lookup"><span data-stu-id="02601-104">Web application firewall (WAF) is a feature of Application Gateway that provides centralized protection of your web applications from common exploits and vulnerabilities.</span></span> 

<span data-ttu-id="02601-105">Brandvägg för webbaserade program baserat på regler från hello [OWASP core uppsättningar](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 eller 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="02601-105">Web application firewall is based on rules from hello [OWASP core rule sets](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 or 2.2.9.</span></span> <span data-ttu-id="02601-106">Webbprogram blir i allt större utsträckning föremål för attacker där kända svagheter i programmen utnyttjas.</span><span class="sxs-lookup"><span data-stu-id="02601-106">Web applications are increasingly targets of malicious attacks that exploit common known vulnerabilities.</span></span> <span data-ttu-id="02601-107">Vanliga bland dessa kryphål SQL injection attacker, över flera webbplatser attacker tooname några.</span><span class="sxs-lookup"><span data-stu-id="02601-107">Common among these exploits are SQL injection attacks, cross site scripting attacks tooname a few.</span></span> <span data-ttu-id="02601-108">Förhindrar sådana attacker i programkod kan vara svårt och kan kräva rigorösa underhåll, uppdatering och övervakning av flera lager av hello programmet topologi.</span><span class="sxs-lookup"><span data-stu-id="02601-108">Preventing such attacks in application code can be challenging and may require rigorous maintenance, patching and monitoring at multiple layers of hello application topology.</span></span> <span data-ttu-id="02601-109">En brandvägg för centraliserad webbaserade program gör säkerhetshantering mycket enklare och ger bättre säkerhet tooapplication administratörer mot hot och intrång.</span><span class="sxs-lookup"><span data-stu-id="02601-109">A centralized web application firewall helps make security management much simpler and gives better assurance tooapplication administrators against threats or intrusions.</span></span> <span data-ttu-id="02601-110">En Brandvägg-lösning kan också reagera tooa säkerhetshot snabbare med uppdatering av ett känt problem på en central plats jämfört med att skydda alla enskilda webbprogram.</span><span class="sxs-lookup"><span data-stu-id="02601-110">A WAF solution can also react tooa security threat faster by patching a known vulnerability at a central location versus securing each of individual web applications.</span></span> <span data-ttu-id="02601-111">Befintliga programgatewayer kan enkelt vara Programgateway för konverterade tooa web application-brandväggen är aktiverad.</span><span class="sxs-lookup"><span data-stu-id="02601-111">Existing application gateways can be converted tooa web application firewall enabled application gateway easily.</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/WAF1.png)

<span data-ttu-id="02601-113">Programgateway fungerar som ett program leverans domänkontrollant och erbjudanden SSL-avslutning, cookie-baserad session tillhörighet, resursallokering belastningsdistribution, innehållsbaserad routning, möjlighet toohost flera förbättringar av webbplatser och säkerhet.</span><span class="sxs-lookup"><span data-stu-id="02601-113">Application Gateway operates as an application delivery controller and offers SSL termination, cookie-based session affinity, round-robin load distribution, content-based routing, ability toohost multiple websites and security enhancements.</span></span> <span data-ttu-id="02601-114">Säkerhetsförbättringar som erbjuds av Programgateway inkluderar SSL hantering av slutet tooend stöd för SSL.</span><span class="sxs-lookup"><span data-stu-id="02601-114">Security enhancements offered by Application Gateway include SSL policy management, end tooend SSL support.</span></span> <span data-ttu-id="02601-115">Programsäkerhet är nu ökas genom att integreras direkt till hello ADC erbjudande Brandvägg (Brandvägg för webbaserade program).</span><span class="sxs-lookup"><span data-stu-id="02601-115">Application security is now strengthened by WAF (web application firewall) being directly integrated into hello ADC offering.</span></span> <span data-ttu-id="02601-116">Detta ger ett enkelt tooconfigure central plats toomanage och skydda dina webbapplikationer mot vanliga web säkerhetsproblem.</span><span class="sxs-lookup"><span data-stu-id="02601-116">This provides an easy tooconfigure central location toomanage and protect your web applications against common web vulnerabilities.</span></span>

## <a name="benefits"></a><span data-ttu-id="02601-117">Fördelar</span><span class="sxs-lookup"><span data-stu-id="02601-117">Benefits</span></span>

<span data-ttu-id="02601-118">hello här är hello core fördelarna med Brandvägg för Programgateway och webb-program:</span><span class="sxs-lookup"><span data-stu-id="02601-118">hello following are hello core benefits that Application Gateway and web application firewall provide:</span></span>

### <a name="protection"></a><span data-ttu-id="02601-119">Skydd</span><span class="sxs-lookup"><span data-stu-id="02601-119">Protection</span></span>

* <span data-ttu-id="02601-120">Skydda ditt webbprogram från webben säkerhetsproblem och attacker utan modifiering toobackend kod.</span><span class="sxs-lookup"><span data-stu-id="02601-120">Protect your web application from web vulnerabilities and attacks without modification toobackend code.</span></span>

* <span data-ttu-id="02601-121">Skydda flera web applications vid hello samma tid bakom en Programgateway.</span><span class="sxs-lookup"><span data-stu-id="02601-121">Protect multiple web applications at hello same time behind an application gateway.</span></span> <span data-ttu-id="02601-122">Programgateway stöder värd upp too20 webbplatser bakom en enda gateway som kan alla vara skyddad mot webbattacker med Brandvägg.</span><span class="sxs-lookup"><span data-stu-id="02601-122">Application gateway supports hosting up too20 websites behind a single gateway that could all be protected against web attacks with WAF.</span></span>

### <a name="monitoring"></a><span data-ttu-id="02601-123">Övervakning</span><span class="sxs-lookup"><span data-stu-id="02601-123">Monitoring</span></span>

* <span data-ttu-id="02601-124">Övervaka om ditt webbprogram utsätts för angrepp med hjälp av en realtidslogg för brandväggen för webbaserade program.</span><span class="sxs-lookup"><span data-stu-id="02601-124">Monitor your web application against attacks using a real-time WAF log.</span></span> <span data-ttu-id="02601-125">Den här loggfilen är integrerad med [Azure-Monitor](../monitoring-and-diagnostics/monitoring-overview.md) tootrack Brandvägg aviseringar och loggar och enkelt kan övervaka trender.</span><span class="sxs-lookup"><span data-stu-id="02601-125">This log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md) tootrack WAF alerts and logs and easily monitor trends.</span></span>

* <span data-ttu-id="02601-126">Brandväggen för webbaserade program kommer snart att integreras med Azure Security Center.</span><span class="sxs-lookup"><span data-stu-id="02601-126">WAF will be integrated with Azure Security Center soon.</span></span> <span data-ttu-id="02601-127">Azure Security Center ger en central vy över hello säkerhetsläget för alla dina Azure-resurser.</span><span class="sxs-lookup"><span data-stu-id="02601-127">Azure Security Center allows for a central view of hello security state of all your Azure resources.</span></span>

### <a name="customization"></a><span data-ttu-id="02601-128">Anpassning</span><span class="sxs-lookup"><span data-stu-id="02601-128">Customization</span></span>

* <span data-ttu-id="02601-129">hello möjlighet toocustomize Brandvägg regler och regeln grupper toosuit kraven för application och undvika falska positiva identifieringar.</span><span class="sxs-lookup"><span data-stu-id="02601-129">hello ability toocustomize WAF rules and rule groups toosuit your application requirements and eliminate false positives.</span></span>

## <a name="features"></a><span data-ttu-id="02601-130">Funktioner</span><span class="sxs-lookup"><span data-stu-id="02601-130">Features</span></span>

<span data-ttu-id="02601-131">Brandvägg för webbaserade program har förinställda med CR 3.0 som standard men du kan välja toouse 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="02601-131">Web application firewall comes preconfigured with CRS 3.0 by default or you can choose toouse 2.2.9.</span></span> <span data-ttu-id="02601-132">I CRS 3.0 finns bättre möjligheter att eliminera falska positiva identifieringar än i 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="02601-132">CRS 3.0 offers reduced false positives over 2.2.9.</span></span> <span data-ttu-id="02601-133">Hej möjligheten för[anpassa regler toosuit dina behov](application-gateway-customize-waf-rules-portal.md) har angetts.</span><span class="sxs-lookup"><span data-stu-id="02601-133">hello ability too[customize rules toosuit your needs](application-gateway-customize-waf-rules-portal.md) is provided.</span></span> <span data-ttu-id="02601-134">Vissa av hello vanliga web säkerhetsrisker som Brandvägg för webbaserade program som skyddar mot innehåller:</span><span class="sxs-lookup"><span data-stu-id="02601-134">Some of hello common web vulnerabilities which web application firewall protects against includes:</span></span>

* <span data-ttu-id="02601-135">Skydd mot SQL-inmatning</span><span class="sxs-lookup"><span data-stu-id="02601-135">SQL injection protection</span></span>
* <span data-ttu-id="02601-136">Skydd mot skriptkörning över flera webbplatser</span><span class="sxs-lookup"><span data-stu-id="02601-136">Cross site scripting protection</span></span>
* <span data-ttu-id="02601-137">Skydd mot vanliga webbattacker, som kommandoinmatning, dold HTTP-begäran, delning av HTTP-svar och attack genom införande av fjärrfil</span><span class="sxs-lookup"><span data-stu-id="02601-137">Common Web Attacks Protection such as command injection, HTTP request smuggling, HTTP response splitting, and remote file inclusion attack</span></span>
* <span data-ttu-id="02601-138">Skydd mot åtgärder som inte följer HTTP-protokollet</span><span class="sxs-lookup"><span data-stu-id="02601-138">Protection against HTTP protocol violations</span></span>
* <span data-ttu-id="02601-139">Skydd mot avvikelser i HTTP-protokollet som att användaragent för värden och accept-huvud saknas</span><span class="sxs-lookup"><span data-stu-id="02601-139">Protection against HTTP protocol anomalies such as missing host user-agent and accept headers</span></span>
* <span data-ttu-id="02601-140">Skydd mot robotar, crawlers och skannrar</span><span class="sxs-lookup"><span data-stu-id="02601-140">Prevention against bots, crawlers, and scanners</span></span>
* <span data-ttu-id="02601-141">Identifiering av vanliga felkonfigureringar i program (t.ex. Apache, IIS osv.)</span><span class="sxs-lookup"><span data-stu-id="02601-141">Detection of common application misconfigurations (i.e. Apache, IIS, etc.)</span></span>

<span data-ttu-id="02601-142">En detaljerad lista över regler och deras skydd finns hello följande [Core uppsättningar](#core-rule-sets).</span><span class="sxs-lookup"><span data-stu-id="02601-142">For a more detailed list of rules and their protections see hello following [Core rule sets](#core-rule-sets).</span></span>

### <a name="core-rule-sets"></a><span data-ttu-id="02601-143">Core Rule Sets</span><span class="sxs-lookup"><span data-stu-id="02601-143">Core rule sets</span></span>

<span data-ttu-id="02601-144">Application Gateway stöder två regeluppsättningar: CRS 3.0 och CRS 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="02601-144">Application Gateway supports two rule sets, CRS 3.0, and CRS 2.2.9.</span></span> <span data-ttu-id="02601-145">Dessa Core Rule Sets är regelsamlingar som skyddar dina webbprogram mot skadlig aktivitet.</span><span class="sxs-lookup"><span data-stu-id="02601-145">These core rules sets are collections of rules that protect your web applications for malicious activity.</span></span>

#### <a name="owasp30"></a><span data-ttu-id="02601-146">OWASP_3.0</span><span class="sxs-lookup"><span data-stu-id="02601-146">OWASP_3.0</span></span>

<span data-ttu-id="02601-147">regeluppsättning för hello 3.0 core tillhandahålls har 13 regelgrupper som visas i följande tabell hello.</span><span class="sxs-lookup"><span data-stu-id="02601-147">hello 3.0 core rule set provided has 13 rule groups as shown in hello following table.</span></span> <span data-ttu-id="02601-148">Var och en av dessa regelgrupper innehåller flera regler. Dessa kan inaktiveras.</span><span class="sxs-lookup"><span data-stu-id="02601-148">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="02601-149">RuleGroup</span><span class="sxs-lookup"><span data-stu-id="02601-149">RuleGroup</span></span>|<span data-ttu-id="02601-150">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="02601-150">Description</span></span>|
|---|---|
|<span data-ttu-id="02601-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span><span class="sxs-lookup"><span data-stu-id="02601-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span></span>|<span data-ttu-id="02601-152">Innehåller regler tooprotect mot kända skickar skräppost eller skadlig aktivitet.</span><span class="sxs-lookup"><span data-stu-id="02601-152">Contains rules tooprotect against known spammers or malicious activity.</span></span>|
|<span data-ttu-id="02601-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span><span class="sxs-lookup"><span data-stu-id="02601-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span></span>|<span data-ttu-id="02601-154">Innehåller regler toolock metoder (PUT, korrigering <..)</span><span class="sxs-lookup"><span data-stu-id="02601-154">Contains rules toolock down methods (PUT, PATCH< ..)</span></span>|
|<span data-ttu-id="02601-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span><span class="sxs-lookup"><span data-stu-id="02601-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span></span>| <span data-ttu-id="02601-156">Innehåller regler tooprotect mot attacker Denial of Service (DoS).</span><span class="sxs-lookup"><span data-stu-id="02601-156">Contains rules tooprotect against Denial of Service (DoS) attacks.</span></span>|
|<span data-ttu-id="02601-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span><span class="sxs-lookup"><span data-stu-id="02601-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span></span>| <span data-ttu-id="02601-158">Innehåller regler tooprotect mot port och miljö skannrar.</span><span class="sxs-lookup"><span data-stu-id="02601-158">Contains rules tooprotect against port and environment scanners.</span></span>|
|<span data-ttu-id="02601-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span><span class="sxs-lookup"><span data-stu-id="02601-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span></span>|<span data-ttu-id="02601-160">Innehåller regler tooprotect mot kodning problem och protokoll.</span><span class="sxs-lookup"><span data-stu-id="02601-160">Contains rules tooprotect against protocol and encoding issues.</span></span>|
|<span data-ttu-id="02601-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span><span class="sxs-lookup"><span data-stu-id="02601-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span></span>|<span data-ttu-id="02601-162">Innehåller regler tooprotect mot huvudet injection, begäransmuggling och dela svar</span><span class="sxs-lookup"><span data-stu-id="02601-162">Contains rules tooprotect against header injection, request smuggling, and response splitting</span></span>|
|<span data-ttu-id="02601-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span><span class="sxs-lookup"><span data-stu-id="02601-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span></span>|<span data-ttu-id="02601-164">Innehåller regler tooprotect mot attacker och sökvägen.</span><span class="sxs-lookup"><span data-stu-id="02601-164">Contains rules tooprotect against file and path attacks.</span></span>|
|<span data-ttu-id="02601-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span><span class="sxs-lookup"><span data-stu-id="02601-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span></span>|<span data-ttu-id="02601-166">Innehåller regler tooprotect mot Remote filen inkludering (RFI)</span><span class="sxs-lookup"><span data-stu-id="02601-166">Contains rules tooprotect against Remote File Inclusion (RFI)</span></span>|
|<span data-ttu-id="02601-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span><span class="sxs-lookup"><span data-stu-id="02601-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span></span>|<span data-ttu-id="02601-168">Innehåller regler tooprotect igen fjärrkörning av kod.</span><span class="sxs-lookup"><span data-stu-id="02601-168">Contains rules tooprotect again Remote Code Execution.</span></span>|
|<span data-ttu-id="02601-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span><span class="sxs-lookup"><span data-stu-id="02601-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span></span>|<span data-ttu-id="02601-170">Innehåller regler tooprotect mot inmatningsangrepp PHP.</span><span class="sxs-lookup"><span data-stu-id="02601-170">Contains rules tooprotect against PHP injection attacks.</span></span>|
|<span data-ttu-id="02601-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span><span class="sxs-lookup"><span data-stu-id="02601-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span></span>|<span data-ttu-id="02601-172">Innehåller regler för att skydda mot skriptkörning över flera webbplatser.</span><span class="sxs-lookup"><span data-stu-id="02601-172">Contains rules for protecting against cross site scripting.</span></span>|
|<span data-ttu-id="02601-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span><span class="sxs-lookup"><span data-stu-id="02601-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span></span>|<span data-ttu-id="02601-174">Innehåller regler för att skydda mot SQL-inmatningsattacker.</span><span class="sxs-lookup"><span data-stu-id="02601-174">Contains rules for protecting against SQL injection attacks.</span></span>|
|<span data-ttu-id="02601-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span><span class="sxs-lookup"><span data-stu-id="02601-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span></span>|<span data-ttu-id="02601-176">Innehåller regler tooprotect mot Session upptagningen attacker.</span><span class="sxs-lookup"><span data-stu-id="02601-176">Contains rules tooprotect against Session Fixation Attacks.</span></span>|

#### <a name="owasp229"></a><span data-ttu-id="02601-177">OWASP_2.2.9</span><span class="sxs-lookup"><span data-stu-id="02601-177">OWASP_2.2.9</span></span>

<span data-ttu-id="02601-178">hello 2.2.9 core regeluppsättning som innehåller 10 regelgrupper som visas i hello i den följande tabellen.</span><span class="sxs-lookup"><span data-stu-id="02601-178">hello 2.2.9 core rule set provided has 10 rule groups as shown in hello following table.</span></span> <span data-ttu-id="02601-179">Var och en av dessa regelgrupper innehåller flera regler. Dessa kan inaktiveras.</span><span class="sxs-lookup"><span data-stu-id="02601-179">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="02601-180">RuleGroup</span><span class="sxs-lookup"><span data-stu-id="02601-180">RuleGroup</span></span>|<span data-ttu-id="02601-181">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="02601-181">Description</span></span>|
|---|---|
|<span data-ttu-id="02601-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span><span class="sxs-lookup"><span data-stu-id="02601-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span></span>|<span data-ttu-id="02601-183">Innehåller regler tooprotect mot protokollet överträdelser (ogiltiga tecken, GET med en begärantext osv.)</span><span class="sxs-lookup"><span data-stu-id="02601-183">Contains rules tooprotect against protocol violations (invalid characters, GET with a request body, etc.)</span></span>|
|<span data-ttu-id="02601-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span><span class="sxs-lookup"><span data-stu-id="02601-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span></span>|<span data-ttu-id="02601-185">Innehåller regler tooprotect mot felaktig huvudinformation.</span><span class="sxs-lookup"><span data-stu-id="02601-185">Contains rules tooprotect against incorrect header information.</span></span>|
|<span data-ttu-id="02601-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span><span class="sxs-lookup"><span data-stu-id="02601-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span></span>|<span data-ttu-id="02601-187">Innehåller regler tooprotect mot argument eller filer som överstiger begränsningar.</span><span class="sxs-lookup"><span data-stu-id="02601-187">Contains rules tooprotect against arguments or files that exceed limitations.</span></span>|
|<span data-ttu-id="02601-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span><span class="sxs-lookup"><span data-stu-id="02601-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span></span>|<span data-ttu-id="02601-189">Innehåller regler tooprotect mot begränsade metoder, rubriker och filtyper.</span><span class="sxs-lookup"><span data-stu-id="02601-189">Contains rules tooprotect against restricted methods, headers, and file types.</span></span> |
|<span data-ttu-id="02601-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span><span class="sxs-lookup"><span data-stu-id="02601-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span></span>|<span data-ttu-id="02601-191">Innehåller regler tooprotect mot web robotar och -skannrar.</span><span class="sxs-lookup"><span data-stu-id="02601-191">Contains rules tooprotect against web crawlers and scanners.</span></span>|
|<span data-ttu-id="02601-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span><span class="sxs-lookup"><span data-stu-id="02601-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span></span>|<span data-ttu-id="02601-193">Innehåller regler tooprotect mot generiska angrepp (session upptagningen, fjärrfil inkludering, PHP injection, etc.)</span><span class="sxs-lookup"><span data-stu-id="02601-193">Contains rules tooprotect against generic attacks (session fixation, remote file inclusion, PHP injection, etc.)</span></span>|
|<span data-ttu-id="02601-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span><span class="sxs-lookup"><span data-stu-id="02601-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span></span>|<span data-ttu-id="02601-195">Innehåller regler tooprotect mot SQL injection attacker</span><span class="sxs-lookup"><span data-stu-id="02601-195">Contains rules tooprotect against SQL injection attacks</span></span>|
|<span data-ttu-id="02601-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span><span class="sxs-lookup"><span data-stu-id="02601-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span></span>|<span data-ttu-id="02601-197">Innehåller regler tooprotect mot skriptkörning över flera webbplatser.</span><span class="sxs-lookup"><span data-stu-id="02601-197">Contains rules tooprotect against cross site scripting.</span></span>|
|<span data-ttu-id="02601-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span><span class="sxs-lookup"><span data-stu-id="02601-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span></span>|<span data-ttu-id="02601-199">Innehåller en regel tooprotect mot sökvägen traversal attacker</span><span class="sxs-lookup"><span data-stu-id="02601-199">Contains a rule tooprotect against path traversal attacks</span></span>|
|<span data-ttu-id="02601-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span><span class="sxs-lookup"><span data-stu-id="02601-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span></span>|<span data-ttu-id="02601-201">Innehåller regler tooprotect mot bakdörrstrojaner.</span><span class="sxs-lookup"><span data-stu-id="02601-201">Contains rules tooprotect against backdoor Trojans.</span></span>|

### <a name="waf-modes"></a><span data-ttu-id="02601-202">WAF-lägen</span><span class="sxs-lookup"><span data-stu-id="02601-202">WAF Modes</span></span>

<span data-ttu-id="02601-203">Programmet Gateway Brandvägg kan vara konfigurerade toorun i hello följande två lägen:</span><span class="sxs-lookup"><span data-stu-id="02601-203">Application Gateway WAF can be configured toorun in hello following two modes:</span></span>

* <span data-ttu-id="02601-204">**Identifieringsläget** – när du konfigurerade toorun i identifieringsläget programmet Gateway Brandvägg övervakar och loggar alla hot aviseringar i tooa loggfilen.</span><span class="sxs-lookup"><span data-stu-id="02601-204">**Detection mode** – When configured toorun in detection mode, Application Gateway WAF monitors and logs all threat alerts in tooa log file.</span></span> <span data-ttu-id="02601-205">Loggning diagnostik för Programgateway bör vara aktiverat på hello **diagnostik** avsnitt.</span><span class="sxs-lookup"><span data-stu-id="02601-205">Logging diagnostics for Application Gateway should be turned on using hello **Diagnostics** section.</span></span> <span data-ttu-id="02601-206">Du måste också tooensure som hello Brandvägg loggen har valts och aktiverat.</span><span class="sxs-lookup"><span data-stu-id="02601-206">You also need tooensure that hello WAF log is selected and turned on.</span></span> <span data-ttu-id="02601-207">Vid körning i identifieringsläge blockerar brandväggen för webbaserade program inte inkommande begäranden.</span><span class="sxs-lookup"><span data-stu-id="02601-207">When running in detection mode web application firewall does not block incoming requests.</span></span>
* <span data-ttu-id="02601-208">**Förebyggande läge** – när du konfigurerade toorun i förebyggande läge Programgateway blockerar aktivt intrång och attacker som identifieras av dess regler.</span><span class="sxs-lookup"><span data-stu-id="02601-208">**Prevention mode** – When configured toorun in prevention mode, Application Gateway actively blocks intrusions and attacks detected by its rules.</span></span> <span data-ttu-id="02601-209">hello angripare tar emot ett 403 undantag för obehörig åtkomst och hello avbryts.</span><span class="sxs-lookup"><span data-stu-id="02601-209">hello attacker receives a 403 unauthorized access exception and hello connection is terminated.</span></span> <span data-ttu-id="02601-210">Förebyggande läge fortsätter toolog sådana attacker i hello Brandvägg loggar.</span><span class="sxs-lookup"><span data-stu-id="02601-210">Prevention mode continues toolog such attacks in hello WAF logs.</span></span>

### <span data-ttu-id="02601-211"><a name="application-gateway-waf-reports"></a>WAF-övervakning</span><span class="sxs-lookup"><span data-stu-id="02601-211"><a name="application-gateway-waf-reports"></a>WAF Monitoring</span></span>

<span data-ttu-id="02601-212">Det är viktigt att övervaka hello hälsotillståndet för din Programgateway.</span><span class="sxs-lookup"><span data-stu-id="02601-212">Monitoring hello health of your application gateway is important.</span></span> <span data-ttu-id="02601-213">Hello hälsotillståndet för dina program brandvägg och hello webbprogram som den skyddar sker via loggning och integrering med Azure-Monitor Azure Security Center (kommer snart) och logganalys.</span><span class="sxs-lookup"><span data-stu-id="02601-213">Monitoring hello health of your web application firewall and hello applications that it protects are provided through logging and integration with Azure Monitor, Azure Security Center (coming soon), and Log Analytics.</span></span>

![diagnostik](./media/application-gateway-web-application-firewall-overview/diagnostics.png)

#### <a name="azure-monitor"></a><span data-ttu-id="02601-215">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="02601-215">Azure Monitor</span></span>

<span data-ttu-id="02601-216">Alla Application Gateway-loggar är integrerade med [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="02601-216">Each application gateway log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span></span>  <span data-ttu-id="02601-217">Detta ger dig tootrack diagnostisk information, inklusive Brandvägg varningar och loggar.</span><span class="sxs-lookup"><span data-stu-id="02601-217">This allows you tootrack diagnostic information including WAF alerts and logs.</span></span>  <span data-ttu-id="02601-218">Den här funktionen tillhandahålls i hello Programgateway resurs i hello portal under hello **diagnostik** fliken eller via hello Azure-Monitor tjänsten direkt.</span><span class="sxs-lookup"><span data-stu-id="02601-218">This capability is provided within hello Application Gateway resource in hello portal under hello **Diagnostics** tab or through hello Azure Monitor service directly.</span></span> <span data-ttu-id="02601-219">Mer om att aktivera diagnostikloggar för Programgateway finns toolearn [Programgateway diagnostik](application-gateway-diagnostics.md)</span><span class="sxs-lookup"><span data-stu-id="02601-219">toolearn more about enabling diagnostic logs for application gateway visit [Application Gateway diagnostics](application-gateway-diagnostics.md)</span></span>

#### <a name="azure-security-center"></a><span data-ttu-id="02601-220">Azure Security Center</span><span class="sxs-lookup"><span data-stu-id="02601-220">Azure Security Center</span></span>

<span data-ttu-id="02601-221">[Azure Security Center](../security-center/security-center-intro.md) kan du förebygga, upptäcka och svara toothreats med bättre överblick och kontroll över hello säkerheten för dina Azure-resurser.</span><span class="sxs-lookup"><span data-stu-id="02601-221">[Azure Security Center](../security-center/security-center-intro.md) helps you prevent, detect, and respond toothreats with increased visibility into and control over hello security of your Azure resources.</span></span> <span data-ttu-id="02601-222">Funktionen Programgateway [ingår nu i Azure Security Center](application-gateway-integration-security-center.md).</span><span class="sxs-lookup"><span data-stu-id="02601-222">Application gateway now [integrates into Azure Security Center](application-gateway-integration-security-center.md).</span></span> <span data-ttu-id="02601-223">Azure Security Center söker igenom miljön toodetect oskyddade webbprogram.</span><span class="sxs-lookup"><span data-stu-id="02601-223">Azure Security Center scans your environment toodetect unprotected web applications.</span></span> <span data-ttu-id="02601-224">Det kan nu rekommenderar programmet gateway Brandvägg tooprotect resurserna sårbar.</span><span class="sxs-lookup"><span data-stu-id="02601-224">It can now recommend application gateway WAF tooprotect these vulnerable resources.</span></span> <span data-ttu-id="02601-225">Du kan skapa program gateway Brandvägg direkt från hello Azure Security Center.</span><span class="sxs-lookup"><span data-stu-id="02601-225">You can directly create application gateway WAF from hello Azure Security Center.</span></span>  <span data-ttu-id="02601-226">Dessa Brandvägg instanser är integrerade med Azure Security Center och skickar aviseringar och hälsoinformation tillbaka tooAzure Security Center för rapportering.</span><span class="sxs-lookup"><span data-stu-id="02601-226">These WAF instances are integrated with Azure Security Center and will send alerts and health information back tooAzure Security Center for reporting.</span></span>

![bild 1](./media/application-gateway-web-application-firewall-overview/figure1.png)

#### <a name="logging"></a><span data-ttu-id="02601-228">Loggning</span><span class="sxs-lookup"><span data-stu-id="02601-228">Logging</span></span>

<span data-ttu-id="02601-229">Application Gateway WAF erbjuder detaljerad rapportering för varje hot som upptäcks.</span><span class="sxs-lookup"><span data-stu-id="02601-229">Application Gateway WAF provides detailed reporting on each threat it detects.</span></span> <span data-ttu-id="02601-230">Loggningen är integrerad med loggar och varningar för Azure Diagnostics och registreras i JSON-format.</span><span class="sxs-lookup"><span data-stu-id="02601-230">Logging is integrated with Azure Diagnostics logs and alerts are recorded in a json format.</span></span> <span data-ttu-id="02601-231">Dessa loggar kan integreras med [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="02601-231">These logs can be integrated with [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/waf2.png)

```json
{
  "resourceId": "/SUBSCRIPTIONS/{subscriptionId}/RESOURCEGROUPS/{resourceGroupId}/PROVIDERS/MICROSOFT.NETWORK/APPLICATIONGATEWAYS/{appGatewayName}",
  "operationName": "ApplicationGatewayFirewall",
  "time": "2017-03-20T15:52:09.1494499Z",
  "category": "ApplicationGatewayFirewallLog",
  "properties": {
    "instanceId": "ApplicationGatewayRole_IN_0",
    "clientIp": "104.210.252.3",
    "clientPort": "4835",
    "requestUri": "/?a=%3Cscript%3Ealert(%22Hello%22);%3C/script%3E",
    "ruleSetType": "OWASP",
    "ruleSetVersion": "3.0",
    "ruleId": "941320",
    "message": "Possible XSS Attack Detected - HTML Tag Handler",
    "action": "Blocked",
    "site": "Global",
    "details": {
      "message": "Warning. Pattern match \"<(a|abbr|acronym|address|applet|area|audioscope|b|base|basefront|bdo|bgsound|big|blackface|blink|blockquote|body|bq|br|button|caption|center|cite|code|col|colgroup|comment|dd|del|dfn|dir|div|dl|dt|em|embed|fieldset|fn|font|form|frame|frameset|h1|head|h ...\" at ARGS:a.",
      "data": "Matched Data: <script> found within ARGS:a: <script>alert(\\x22hello\\x22);</script>",
      "file": "rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf",
      "line": "865"
    }
  }
} 

```

## <a name="application-gateway-waf-sku-pricing"></a><span data-ttu-id="02601-233">Priser för WAF SKU för programgatewayen</span><span class="sxs-lookup"><span data-stu-id="02601-233">Application Gateway WAF SKU pricing</span></span>

<span data-ttu-id="02601-234">Brandväggen för webbaserade program är tillgänglig i en ny WAF SKU.</span><span class="sxs-lookup"><span data-stu-id="02601-234">Web application firewall is available under a new a WAF SKU.</span></span> <span data-ttu-id="02601-235">Den här SKU är tillgänglig endast i Azure Resource Manager etablering modellen och inte under hello klassiska distributionsmodellen.</span><span class="sxs-lookup"><span data-stu-id="02601-235">This SKU is available only in Azure Resource Manager provisioning model and not under hello classic deployment model.</span></span> <span data-ttu-id="02601-236">WAF SKU finns dessutom endast i Application Gateway-instansstorlekarna medel och stor.</span><span class="sxs-lookup"><span data-stu-id="02601-236">Additionally WAF SKU comes only in medium and large application gateway instance sizes.</span></span> <span data-ttu-id="02601-237">Alla hello gränser för Programgateway gäller även toohello Brandvägg SKU.</span><span class="sxs-lookup"><span data-stu-id="02601-237">All hello limits for application gateway also apply toohello WAF SKU.</span></span> <span data-ttu-id="02601-238">Priserna är baserade på avgifter per gatewayinstans per timme och databearbetningsavgifter.</span><span class="sxs-lookup"><span data-stu-id="02601-238">Pricing is based on per hour gateway instance charge and data processing charge.</span></span> <span data-ttu-id="02601-239">Gatewaypriset per timme för WAF SKU skiljer sig från avgifterna för Standard-SKU (se [Priser för Application Gateway](https://azure.microsoft.com/pricing/details/application-gateway/)).</span><span class="sxs-lookup"><span data-stu-id="02601-239">Per hour gateway pricing for WAF SKU is different from Standard SKU charges and can be found at [Application Gateway pricing details](https://azure.microsoft.com/pricing/details/application-gateway/).</span></span> <span data-ttu-id="02601-240">Databearbetning kostnader förblir hello samma.</span><span class="sxs-lookup"><span data-stu-id="02601-240">Data processing charges remain hello same.</span></span> <span data-ttu-id="02601-241">Avgifter per regel eller per regelgrupp finns inte.</span><span class="sxs-lookup"><span data-stu-id="02601-241">There is no per rule or rule group charges.</span></span> <span data-ttu-id="02601-242">Du kan skydda flera webbprogram bakom hello samma web application firewall och det finns inga ytterligare avgifter för att stödja flera program.</span><span class="sxs-lookup"><span data-stu-id="02601-242">You can protect multiple web applications behind hello same web application firewall and there are no additional charges for supporting multiple applications.</span></span> 

<span data-ttu-id="02601-243">Fakturering för Brandvägg startar effektivt 2017-5/5 tills sedan hello Brandvägg SKU gateways fortsätter toobe enligt standardpriser.</span><span class="sxs-lookup"><span data-stu-id="02601-243">Billing for WAF starts effectively 5/5/2017, until then hello WAF SKU gateways continues toobe charged at standard rates.</span></span>

## <a name="next-steps"></a><span data-ttu-id="02601-244">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="02601-244">Next steps</span></span>

<span data-ttu-id="02601-245">När du lär dig mer om hello funktionerna för Brandvägg, gå [hur tooconfigure web application brandväggen på Programgateway](application-gateway-web-application-firewall-portal.md).</span><span class="sxs-lookup"><span data-stu-id="02601-245">After learning more about hello capabilities of WAF, visit [How tooconfigure web application firewall on Application Gateway](application-gateway-web-application-firewall-portal.md).</span></span>

