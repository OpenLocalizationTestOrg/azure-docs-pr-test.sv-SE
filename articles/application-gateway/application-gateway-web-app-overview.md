---
title: "aaaOverview för flera innehavare säkerhetskopiera slutar med Azure Programgateway | Microsoft Docs"
description: "Den här sidan innehåller en översikt av hello Programgateway stöd för flera innehavare-servrar."
documentationcenter: na
services: application-gateway
author: georgewallace
manager: timlt
editor: 
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: gwallace
ms.openlocfilehash: b7da8c9c68e34bd83ad2b828fab62c00caea354a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="application-gateway-support-for-multi-tenant-back-ends"></a><span data-ttu-id="873fd-103">Stöd för serverdelar för flera klientorganisationer i Application Gateway</span><span class="sxs-lookup"><span data-stu-id="873fd-103">Application Gateway support for multi-tenant back ends</span></span>

<span data-ttu-id="873fd-104">Azure Application Gateway stöder skalningsuppsättningar för virtuella datorer, nätverksgränssnitt, offentliga och privata IP-adresser och fullständigt kvalificerade domännamn (FQDN) som en del av dess serverdelspooler.</span><span class="sxs-lookup"><span data-stu-id="873fd-104">Azure Application Gateway supports virtual machine scale sets, network interfaces, public/private IP, or fully qualified domain name (FQDN) as part of its back end pools.</span></span> <span data-ttu-id="873fd-105">Som standard Programgateway ändras inte hello inkommande HTTP-värdadressen hello-klient och skickar hello huvudet oförändrat toohello serverdel.</span><span class="sxs-lookup"><span data-stu-id="873fd-105">By default, application gateway does not change hello incoming HTTP host header from hello client and sends hello header unaltered toohello back end.</span></span> <span data-ttu-id="873fd-106">Det finns många tjänster som [Azure Web Apps](../app-service-web/app-service-web-overview.md) och [API Management](../api-management/api-management-key-concepts.md) som är multitenant som förlitar sig på en specifik värdadressen eller SNI-tillägg tooresolve toohello korrekt slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="873fd-106">There are many services like [Azure Web Apps](../app-service-web/app-service-web-overview.md) and [API Management](../api-management/api-management-key-concepts.md) that are multi-tenant in nature and rely on a specific host header or SNI extension tooresolve toohello correct endpoint.</span></span> <span data-ttu-id="873fd-107">Application Gateway stöder nu hello möjligheten för användare toooverwrite hello inkommande HTTP-värdadressen baserat på hello serverdelens HTTP-inställningar.</span><span class="sxs-lookup"><span data-stu-id="873fd-107">Application Gateway now supports hello ability for users toooverwrite hello incoming HTTP host header based on hello back end HTTP settings.</span></span> <span data-ttu-id="873fd-108">Detta gör det möjligt att använda API-hantering och Azure-webbappar med serverdelar för flera klientorganisationer.</span><span class="sxs-lookup"><span data-stu-id="873fd-108">This capability enables support for multi-tenant back ends Azure web apps and API management.</span></span> <span data-ttu-id="873fd-109">Den här funktionen är tillgänglig för både hello standard och Brandvägg SKU.</span><span class="sxs-lookup"><span data-stu-id="873fd-109">This capability is available for both hello standard and WAF SKU.</span></span> <span data-ttu-id="873fd-110">Flera innehavare serverdelsnätverk support också fungerar tillsammans med SSL-avslutning- och slutdatum tooend SSL-scenarier.</span><span class="sxs-lookup"><span data-stu-id="873fd-110">Multi-tenant back end support also works with SSL termination and end tooend SSL scenarios.</span></span>

![Scenario för webbappar](./media/application-gateway-web-app-overview/scenario.png)

<span data-ttu-id="873fd-112">hello möjlighet toospecify en värd åsidosättning har definierats på hello HTTP-inställningar och kan vara tillämpade tooany tillbaka avsluta pool när regeln skapades.</span><span class="sxs-lookup"><span data-stu-id="873fd-112">hello ability toospecify a host override is defined at hello HTTP settings and can be applied tooany back end pool during rule creation.</span></span> <span data-ttu-id="873fd-113">Flera innehavare tillbaka slutar stöd hello följande två sätt att åsidosätta värdadress och SNI-tillägg.</span><span class="sxs-lookup"><span data-stu-id="873fd-113">Multi-tenant back ends support hello following two ways of overriding host header and SNI extension.</span></span>

1. <span data-ttu-id="873fd-114">hello möjlighet tooset hello värden namnet tooa fast värde i hello HTTP-inställningar.</span><span class="sxs-lookup"><span data-stu-id="873fd-114">hello ability tooset hello host name tooa fixed value in hello HTTP settings.</span></span> <span data-ttu-id="873fd-115">Den här funktionen innebär att hello värdadressen åsidosätts toothis värde för alla trafik toohello serverdelspool där hello HTTP-inställningar används.</span><span class="sxs-lookup"><span data-stu-id="873fd-115">This capability ensures that hello host header is overridden toothis value for all traffic toohello back end pool where hello HTTP settings are applied.</span></span> <span data-ttu-id="873fd-116">När du använder slutet tooend SSL används åsidosatt värddatorns namn i hello SNI-tillägg.</span><span class="sxs-lookup"><span data-stu-id="873fd-116">When using end tooend SSL, this overridden host name is used in hello SNI extension.</span></span> <span data-ttu-id="873fd-117">Den här funktionen möjliggör scenarier där en serverdel poolen grupp förväntar sig ett värdhuvud som skiljer sig från hello inkommande värdhuvud för kunden.</span><span class="sxs-lookup"><span data-stu-id="873fd-117">This capability enables scenarios where a back end pool farm expects a host header that is different from hello incoming customer host header.</span></span>

2. <span data-ttu-id="873fd-118">hello möjlighet tooderive hello värdnamnet från hello IP eller FQDN för hello serverdel poolmedlemmar.</span><span class="sxs-lookup"><span data-stu-id="873fd-118">hello ability tooderive hello host name from hello IP or FQDN of hello back end pool members.</span></span> <span data-ttu-id="873fd-119">HTTP-inställningar innehåller också ett värdnamn för alternativet toopick hello från en serverdel poolmedlem FQDN om har konfigurerats med alternativet hello tooderive värdnamn från en enskild serverdel poolmedlem.</span><span class="sxs-lookup"><span data-stu-id="873fd-119">HTTP settings also provide an option toopick hello host name from a back end pool member's FQDN if configured with hello option tooderive host name from an individual back end pool member.</span></span> <span data-ttu-id="873fd-120">När du använder slutet tooend SSL, värdnamn är härledd från hello FQDN och används i hello SNI-tillägg.</span><span class="sxs-lookup"><span data-stu-id="873fd-120">When using end tooend SSL, this host name is derived from hello FQDN and is used in hello SNI extension.</span></span> <span data-ttu-id="873fd-121">Den här funktionen möjliggör scenarier där en serverdelspool kan ha två eller flera flera innehavare PaaS tjänster som Azure-webbappar och hello begäran värden huvud tooeach medlem innehåller hello värdnamn som härletts från dess FQDN.</span><span class="sxs-lookup"><span data-stu-id="873fd-121">This capability enables scenarios where a back end pool can have two or more multi-tenant PaaS services like Azure web apps and hello request's host header tooeach member contains hello host name derived from its FQDN.</span></span>

> [!NOTE]
> <span data-ttu-id="873fd-122">I båda hello föregående fall påverkar hello inställningarna endast hello live trafik beteende och inte hello hälsa avsökningen beteende.</span><span class="sxs-lookup"><span data-stu-id="873fd-122">In both of hello preceding cases hello settings only affect hello live traffic behavior and not hello health probe behavior.</span></span> <span data-ttu-id="873fd-123">Anpassad avsökningar redan stöd hello möjlighet toospecify ett värdhuvud i hello avsökningen konfiguration.</span><span class="sxs-lookup"><span data-stu-id="873fd-123">Custom probes already support hello ability toospecify a host header in hello probe configuration.</span></span> <span data-ttu-id="873fd-124">Anpassade avsökningar stöder nu också hello möjlighet tooderive hello värden sidhuvud beteende från hello konfigurerad HTTP-inställningar.</span><span class="sxs-lookup"><span data-stu-id="873fd-124">Custom probes now also support hello ability tooderive hello host header behavior from hello currently configured HTTP settings.</span></span> <span data-ttu-id="873fd-125">Den här konfigurationen kan anges med hjälp av hello `PickHostNameFromback endAddress` parameter i hello avsökningen konfiguration.</span><span class="sxs-lookup"><span data-stu-id="873fd-125">This configuration can be specified by using hello `PickHostNameFromback endAddress` parameter in hello probe configuration.</span></span> <span data-ttu-id="873fd-126">Både hello avsökning och hello HTTP-inställningar måste vara ändrade tooreflect hello korrekt konfiguration för end tooend funktioner toowork.</span><span class="sxs-lookup"><span data-stu-id="873fd-126">For end tooend functionality toowork, both hello probe and hello HTTP settings must be modified tooreflect hello correct configuration.</span></span>

<span data-ttu-id="873fd-127">Med den här funktionen kan ange kunder hello alternativ i hello HTTP-inställningar och anpassade avsökningar toohello har konfigurerats korrekt.</span><span class="sxs-lookup"><span data-stu-id="873fd-127">With this capability, customers specify hello options in hello HTTP settings and custom probes toohello appropriate configuration.</span></span> <span data-ttu-id="873fd-128">Den här inställningen sedan knutna tooa lyssnare och en tillbaka avslutas pool med hjälp av en regel.</span><span class="sxs-lookup"><span data-stu-id="873fd-128">This setting is then tied tooa listener and a back end pool by using a rule.</span></span>

## <a name="next-steps"></a><span data-ttu-id="873fd-129">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="873fd-129">Next steps</span></span>

<span data-ttu-id="873fd-130">Lär dig hur tooset upp en Programgateway med en webbapp som en bakåt avsluta poolmedlem genom att besöka: [konfigurera App Service web apps med Programgateway](application-gateway-web-app-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="873fd-130">Learn how tooset up an application gateway with a web app as a back end pool member by visiting: [Configure App Service web apps with Application Gateway](application-gateway-web-app-powershell.md)</span></span>
