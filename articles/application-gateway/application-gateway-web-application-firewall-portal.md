---
title: "aaaCreate eller uppdatera en Azure Programgateway med Brandvägg för webbaserade program | Microsoft Docs"
description: "Lär dig hur hello toocreate en Programgateway med Brandvägg för webbaserade program med hjälp av portalen"
services: application-gateway
documentationcenter: na
author: georgewallace
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: b561a210-ed99-4ab4-be06-b49215e3255a
ms.service: application-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/03/2017
ms.author: gwallace
ms.openlocfilehash: 68d140fef14499da654ea251d1208e6a800f55a9
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="create-an-application-gateway-with-web-application-firewall-by-using-hello-portal"></a><span data-ttu-id="12a42-103">Skapa en Programgateway med Brandvägg för webbaserade program med hjälp av hello-portalen</span><span class="sxs-lookup"><span data-stu-id="12a42-103">Create an application gateway with web application firewall by using hello portal</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="12a42-104">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="12a42-104">Azure portal</span></span>](application-gateway-web-application-firewall-portal.md)
> * [<span data-ttu-id="12a42-105">PowerShell</span><span class="sxs-lookup"><span data-stu-id="12a42-105">PowerShell</span></span>](application-gateway-web-application-firewall-powershell.md)
> * [<span data-ttu-id="12a42-106">Azure CLI</span><span class="sxs-lookup"><span data-stu-id="12a42-106">Azure CLI</span></span>](application-gateway-web-application-firewall-cli.md)

<span data-ttu-id="12a42-107">Lär dig hur toocreate Brandvägg för webbaserade program aktiverat Programgateway.</span><span class="sxs-lookup"><span data-stu-id="12a42-107">Learn how toocreate a web application firewall enabled application gateway.</span></span>

<span data-ttu-id="12a42-108">hello Brandvägg för webbaserade program (Brandvägg) i Azure Application Gateway skyddar webbprogram från vanliga webbaserade attacker som SQL injection, webbplatser scripting attacker och sessionen hijacks.</span><span class="sxs-lookup"><span data-stu-id="12a42-108">hello web application firewall (WAF) in Azure Application Gateway protects web applications from common web-based attacks like SQL injection, cross-site scripting attacks, and session hijacks.</span></span> <span data-ttu-id="12a42-109">Webbprogrammet skyddar mot många hello OWASP översta 10 vanliga web säkerhetsproblem.</span><span class="sxs-lookup"><span data-stu-id="12a42-109">Web application protects against many of hello OWASP top 10 common web vulnerabilities.</span></span>

## <a name="scenarios"></a><span data-ttu-id="12a42-110">Scenarier</span><span class="sxs-lookup"><span data-stu-id="12a42-110">Scenarios</span></span>

<span data-ttu-id="12a42-111">Det finns två scenarier i den här artikeln:</span><span class="sxs-lookup"><span data-stu-id="12a42-111">In this article there are two scenarios:</span></span>

<span data-ttu-id="12a42-112">I hello första scenariot lär du dig för[skapar en Programgateway med Brandvägg för webbaserade program](#create-an-application-gateway-with-web-application-firewall)</span><span class="sxs-lookup"><span data-stu-id="12a42-112">In hello first scenario, you learn too[create an application gateway with web application firewall](#create-an-application-gateway-with-web-application-firewall)</span></span>

<span data-ttu-id="12a42-113">I hello andra fallet kan du lära dig för[lägga till web application brandväggen tooan befintliga Programgateway](#add-web-application-firewall-to-an-existing-application-gateway).</span><span class="sxs-lookup"><span data-stu-id="12a42-113">In hello second scenario, you learn too[add web application firewall tooan existing application gateway](#add-web-application-firewall-to-an-existing-application-gateway).</span></span>

![Exempel på ett scenario][scenario]

> [!NOTE]
> <span data-ttu-id="12a42-115">Ytterligare konfiguration av hello Programgateway, inklusive anpassade hälsa avsökningar, backend-adresser för poolen och ytterligare regler konfigureras när hello Programgateway har konfigurerats och inte under första distributionen.</span><span class="sxs-lookup"><span data-stu-id="12a42-115">Additional configuration of hello application gateway, including custom health probes, backend pool addresses, and additional rules are configured after hello application gateway is configured and not during initial deployment.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="12a42-116">Innan du börjar</span><span class="sxs-lookup"><span data-stu-id="12a42-116">Before you begin</span></span>

<span data-ttu-id="12a42-117">Azure Application Gateway kräver sin egen undernät.</span><span class="sxs-lookup"><span data-stu-id="12a42-117">Azure Application Gateway requires its own subnet.</span></span> <span data-ttu-id="12a42-118">När du skapar ett virtuellt nätverk, se till att du lämnar tillräckligt med adressutrymme toohave flera undernät.</span><span class="sxs-lookup"><span data-stu-id="12a42-118">When creating a virtual network, ensure that you leave enough address space toohave multiple subnets.</span></span> <span data-ttu-id="12a42-119">När du distribuerar ett program tooa gatewayundernät endast ytterligare programgatewayer är kan toobe läggs toohello undernät.</span><span class="sxs-lookup"><span data-stu-id="12a42-119">Once you deploy an application gateway tooa subnet, only additional application gateways are able toobe added toohello subnet.</span></span>

##<span data-ttu-id="12a42-120"><a name="add-web-application-firewall-to-an-existing-application-gateway"></a>Lägg till web application brandväggen tooan befintliga Programgateway</span><span class="sxs-lookup"><span data-stu-id="12a42-120"><a name="add-web-application-firewall-to-an-existing-application-gateway"></a> Add web application firewall tooan existing application gateway</span></span>

<span data-ttu-id="12a42-121">Det här exemplet uppdaterar ett befintligt program gateway toosupport Brandvägg för webbaserade program i förebyggande läge.</span><span class="sxs-lookup"><span data-stu-id="12a42-121">This example updates an existing application gateway toosupport web application firewall in prevention mode.</span></span>

1. <span data-ttu-id="12a42-122">I hello Azure-portalen **Favoriter** rutan klickar du på **alla resurser**.</span><span class="sxs-lookup"><span data-stu-id="12a42-122">In hello Azure portal **Favorites** pane, click **All resources**.</span></span> <span data-ttu-id="12a42-123">Klicka på hello befintliga Programgateway i hello **alla resurser** bladet.</span><span class="sxs-lookup"><span data-stu-id="12a42-123">Click hello existing Application Gateway in hello **All resources** blade.</span></span> <span data-ttu-id="12a42-124">Om hello-prenumeration som du har valt redan har flera resurser i den, kan du ange hello namn i hello **filtrera efter namn...**</span><span class="sxs-lookup"><span data-stu-id="12a42-124">If hello subscription you selected already has several resources in it, you can enter hello name in hello **Filter by name…**</span></span> <span data-ttu-id="12a42-125">rutan tooeasily åtkomst hello DNS-zon.</span><span class="sxs-lookup"><span data-stu-id="12a42-125">box tooeasily access hello DNS zone.</span></span>

   ![Skapa Programgateway][1]

1. <span data-ttu-id="12a42-127">Klicka på **Brandvägg för webbaserade program** och uppdatera hello programinställningar för gateway.</span><span class="sxs-lookup"><span data-stu-id="12a42-127">Click **Web application firewall** and update hello application gateway settings.</span></span> <span data-ttu-id="12a42-128">När du är klar klickar du på **spara**</span><span class="sxs-lookup"><span data-stu-id="12a42-128">When complete click **Save**</span></span>

    <span data-ttu-id="12a42-129">hello inställningar tooupdate ett befintligt program gateway toosupport Brandvägg för webbaserade program är:</span><span class="sxs-lookup"><span data-stu-id="12a42-129">hello settings tooupdate an existing application gateway toosupport web application firewall are:</span></span>

   | <span data-ttu-id="12a42-130">**Inställning**</span><span class="sxs-lookup"><span data-stu-id="12a42-130">**Setting**</span></span> | <span data-ttu-id="12a42-131">**Värde**</span><span class="sxs-lookup"><span data-stu-id="12a42-131">**Value**</span></span> | <span data-ttu-id="12a42-132">**Detaljer**</span><span class="sxs-lookup"><span data-stu-id="12a42-132">**Details**</span></span>
   |---|---|---|
   |<span data-ttu-id="12a42-133">**Uppgradera tooWAF nivå**</span><span class="sxs-lookup"><span data-stu-id="12a42-133">**Upgrade tooWAF Tier**</span></span>| <span data-ttu-id="12a42-134">Markerad</span><span class="sxs-lookup"><span data-stu-id="12a42-134">Checked</span></span> | <span data-ttu-id="12a42-135">Detta anger hello nivå av hello programmet gateway toohello Brandvägg nivå.</span><span class="sxs-lookup"><span data-stu-id="12a42-135">This sets hello tier of hello application gateway toohello WAF tier.</span></span>|
   |<span data-ttu-id="12a42-136">**Status för brandväggen**</span><span class="sxs-lookup"><span data-stu-id="12a42-136">**Firewall status**</span></span>| <span data-ttu-id="12a42-137">Enabled</span><span class="sxs-lookup"><span data-stu-id="12a42-137">Enabled</span></span> | <span data-ttu-id="12a42-138">Den här inställningen aktiverar hello brandväggen på hello Brandvägg.</span><span class="sxs-lookup"><span data-stu-id="12a42-138">This setting enables hello firewall on hello WAF.</span></span>|
   |<span data-ttu-id="12a42-139">**Brandväggsläge**</span><span class="sxs-lookup"><span data-stu-id="12a42-139">**Firewall mode**</span></span> | <span data-ttu-id="12a42-140">Prevention (Skydd)</span><span class="sxs-lookup"><span data-stu-id="12a42-140">Prevention</span></span> | <span data-ttu-id="12a42-141">Den här inställningen är hur Brandvägg för webbaserade program behandlar skadlig trafik.</span><span class="sxs-lookup"><span data-stu-id="12a42-141">This setting is how web application firewall deals with malicious traffic.</span></span> <span data-ttu-id="12a42-142">**Identifiering av** läge loggar endast hello händelser där **förebyggande** hello händelser loggas i läge och stoppar hello skadlig trafik.</span><span class="sxs-lookup"><span data-stu-id="12a42-142">**Detection** mode only logs hello events, where **Prevention** mode logs hello events and stops hello malicious traffic.</span></span>|
   |<span data-ttu-id="12a42-143">**Regeluppsättning**</span><span class="sxs-lookup"><span data-stu-id="12a42-143">**Rule set**</span></span>|<span data-ttu-id="12a42-144">3.0</span><span class="sxs-lookup"><span data-stu-id="12a42-144">3.0</span></span>|<span data-ttu-id="12a42-145">Den här inställningen avgör hello [core regeluppsättning](application-gateway-web-application-firewall-overview.md#core-rule-sets) poolmedlemmar används tooprotect som hello backend.</span><span class="sxs-lookup"><span data-stu-id="12a42-145">This setting determines hello [core rule set](application-gateway-web-application-firewall-overview.md#core-rule-sets) that is used tooprotect hello backend pool members.</span></span>|
   |<span data-ttu-id="12a42-146">**Konfigurera inaktiverade regler**</span><span class="sxs-lookup"><span data-stu-id="12a42-146">**Configure disabled rules**</span></span>|<span data-ttu-id="12a42-147">Det varierar</span><span class="sxs-lookup"><span data-stu-id="12a42-147">varies</span></span>|<span data-ttu-id="12a42-148">tooprevent möjliga falska positiva identifieringar, den här inställningen kan du toodisable vissa [regler och regelgrupper](application-gateway-crs-rulegroups-rules.md).</span><span class="sxs-lookup"><span data-stu-id="12a42-148">tooprevent possible false positives, this setting allows you toodisable certain [rules and rule groups](application-gateway-crs-rulegroups-rules.md).</span></span>|

    >[!NOTE]
    > <span data-ttu-id="12a42-149">När du uppgraderar en befintlig programmet gateway toohello Brandvägg SKU hello SKU storlek ändringar för**medel**.</span><span class="sxs-lookup"><span data-stu-id="12a42-149">When upgrading an existing application gateway toohello WAF SKU, hello SKU size changes too**medium**.</span></span> <span data-ttu-id="12a42-150">Detta kan ändras när konfigurationen är klar.</span><span class="sxs-lookup"><span data-stu-id="12a42-150">This can be reconfigured after configuration is complete.</span></span>

    ![bladet visar grundläggande inställningar][2-1]

    > [!NOTE]
    > <span data-ttu-id="12a42-152">måste vara aktiverat tooview programmet brandväggen webbloggar, diagnostik och ApplicationGatewayFirewallLog markerad.</span><span class="sxs-lookup"><span data-stu-id="12a42-152">tooview web application firewall logs, diagnostics must be enabled and ApplicationGatewayFirewallLog selected.</span></span> <span data-ttu-id="12a42-153">Du kan välja ett instansantal på 1 för testning.</span><span class="sxs-lookup"><span data-stu-id="12a42-153">An instance count of 1 can be chosen for testing purposes.</span></span> <span data-ttu-id="12a42-154">Det är viktigt att valfri instans antalet under två instanser tooknow omfattas inte av hello SLA och därför rekommenderas inte.</span><span class="sxs-lookup"><span data-stu-id="12a42-154">It is important tooknow that any instance count under two instances is not covered by hello SLA and are therefore not recommended.</span></span> <span data-ttu-id="12a42-155">Liten gateways är inte tillgängliga när du använder Brandvägg för webbaserade program.</span><span class="sxs-lookup"><span data-stu-id="12a42-155">Small gateways are not available when using web application firewall.</span></span>

## <a name="create-an-application-gateway-with-web-application-firewall"></a><span data-ttu-id="12a42-156">Skapa en Programgateway med Brandvägg för webbaserade program</span><span class="sxs-lookup"><span data-stu-id="12a42-156">Create an application gateway with web application firewall</span></span>

<span data-ttu-id="12a42-157">Det här scenariot kommer:</span><span class="sxs-lookup"><span data-stu-id="12a42-157">This scenario will:</span></span>

* <span data-ttu-id="12a42-158">Skapa en medelhög web application brandväggen Programgateway med två instanser.</span><span class="sxs-lookup"><span data-stu-id="12a42-158">Create a medium web application firewall application gateway with two instances.</span></span>
* <span data-ttu-id="12a42-159">Skapa ett virtuellt nätverk med namnet AdatumAppGatewayVNET med en 10.0.0.0/16 reserverade CIDR-blocket.</span><span class="sxs-lookup"><span data-stu-id="12a42-159">Create a virtual network named AdatumAppGatewayVNET with a reserved CIDR block of 10.0.0.0/16.</span></span>
* <span data-ttu-id="12a42-160">Skapa undernätet Appgatewaysubnet som använder 10.0.0.0/28 som dess CIDR-block.</span><span class="sxs-lookup"><span data-stu-id="12a42-160">Create a subnet called Appgatewaysubnet that uses 10.0.0.0/28 as its CIDR block.</span></span>
* <span data-ttu-id="12a42-161">Konfigurera ett certifikat för SSL-avlastning.</span><span class="sxs-lookup"><span data-stu-id="12a42-161">Configure a certificate for SSL offload.</span></span>

1. <span data-ttu-id="12a42-162">Logga in toohello [Azure-portalen](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="12a42-162">Log in toohello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="12a42-163">Om du inte redan har ett konto kan du registrera dig för en [kostnadsfri utvärderingsversion för en månad](https://azure.microsoft.com/free)</span><span class="sxs-lookup"><span data-stu-id="12a42-163">If you don't already have an account, you can sign up for a [free one-month trial](https://azure.microsoft.com/free)</span></span>
1. <span data-ttu-id="12a42-164">I hello Favoriter hello portalen klickar **ny**</span><span class="sxs-lookup"><span data-stu-id="12a42-164">In hello Favorites pane of hello portal, click **New**</span></span>
1. <span data-ttu-id="12a42-165">I hello **ny** bladet, klickar du på **nätverk**.</span><span class="sxs-lookup"><span data-stu-id="12a42-165">In hello **New** blade, click **Networking**.</span></span> <span data-ttu-id="12a42-166">I hello **nätverk** bladet, klickar du på **Programgateway**som visas i följande bild hello:</span><span class="sxs-lookup"><span data-stu-id="12a42-166">In hello **Networking** blade, click **Application Gateway**, as shown in hello following image:</span></span>
1. <span data-ttu-id="12a42-167">Navigera toohello Azure-portalen klickar du på **ny** > **nätverk** > **Programgateway**</span><span class="sxs-lookup"><span data-stu-id="12a42-167">Navigate toohello Azure portal, click **New** > **Networking** > **Application Gateway**</span></span>

    ![Skapa Programgateway][1]

1. <span data-ttu-id="12a42-169">I hello **grunderna** bladet som visas, ange hello följande värden, och klicka sedan på **OK**:</span><span class="sxs-lookup"><span data-stu-id="12a42-169">In hello **Basics** blade that appears, enter hello following values, then click **OK**:</span></span>

   | <span data-ttu-id="12a42-170">**Inställning**</span><span class="sxs-lookup"><span data-stu-id="12a42-170">**Setting**</span></span> | <span data-ttu-id="12a42-171">**Värde**</span><span class="sxs-lookup"><span data-stu-id="12a42-171">**Value**</span></span> | <span data-ttu-id="12a42-172">**Detaljer**</span><span class="sxs-lookup"><span data-stu-id="12a42-172">**Details**</span></span>
   |---|---|---|
   |<span data-ttu-id="12a42-173">**Namn**</span><span class="sxs-lookup"><span data-stu-id="12a42-173">**Name**</span></span>|<span data-ttu-id="12a42-174">AdatumAppGateway</span><span class="sxs-lookup"><span data-stu-id="12a42-174">AdatumAppGateway</span></span>|<span data-ttu-id="12a42-175">hello namnet på hello Programgateway</span><span class="sxs-lookup"><span data-stu-id="12a42-175">hello name of hello application gateway</span></span>|
   |<span data-ttu-id="12a42-176">**Nivå**</span><span class="sxs-lookup"><span data-stu-id="12a42-176">**Tier**</span></span>|<span data-ttu-id="12a42-177">BRANDVÄGG</span><span class="sxs-lookup"><span data-stu-id="12a42-177">WAF</span></span>|<span data-ttu-id="12a42-178">Tillgängliga värden är Standard och Brandvägg.</span><span class="sxs-lookup"><span data-stu-id="12a42-178">Available values are Standard and WAF.</span></span> <span data-ttu-id="12a42-179">Besök [Brandvägg för webbaserade program](application-gateway-web-application-firewall-overview.md) toolearn mer om Brandvägg.</span><span class="sxs-lookup"><span data-stu-id="12a42-179">Visit [web application firewall](application-gateway-web-application-firewall-overview.md) toolearn more about WAF.</span></span>|
   |<span data-ttu-id="12a42-180">**SKU-storleken**</span><span class="sxs-lookup"><span data-stu-id="12a42-180">**SKU Size**</span></span>|<span data-ttu-id="12a42-181">Medel</span><span class="sxs-lookup"><span data-stu-id="12a42-181">Medium</span></span>|<span data-ttu-id="12a42-182">Alternativ när du väljer standardnivån är små, medelstora och stora.</span><span class="sxs-lookup"><span data-stu-id="12a42-182">Choices when choosing Standard tier are Small, Medium, and Large.</span></span> <span data-ttu-id="12a42-183">När du väljer Brandvägg nivå är alternativen medel och stor bara.</span><span class="sxs-lookup"><span data-stu-id="12a42-183">When choosing WAF tier, options are Medium and Large only.</span></span>|
   |<span data-ttu-id="12a42-184">**Instansantal**</span><span class="sxs-lookup"><span data-stu-id="12a42-184">**Instance count**</span></span>|<span data-ttu-id="12a42-185">2</span><span class="sxs-lookup"><span data-stu-id="12a42-185">2</span></span>|<span data-ttu-id="12a42-186">Antal instanser av hello Programgateway för hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="12a42-186">Number of instances of hello application gateway for high availability.</span></span> <span data-ttu-id="12a42-187">Antalet instanser av 1 bör endast användas för testning.</span><span class="sxs-lookup"><span data-stu-id="12a42-187">Instance counts of 1 should only be used for testing purposes.</span></span>|
   |<span data-ttu-id="12a42-188">**Prenumeration**</span><span class="sxs-lookup"><span data-stu-id="12a42-188">**Subscription**</span></span>|<span data-ttu-id="12a42-189">[Din prenumeration]</span><span class="sxs-lookup"><span data-stu-id="12a42-189">[Your subscription]</span></span>|<span data-ttu-id="12a42-190">Välj en prenumeration toocreate hello Programgateway i.</span><span class="sxs-lookup"><span data-stu-id="12a42-190">Select a subscription toocreate hello application gateway in.</span></span>|
   |<span data-ttu-id="12a42-191">**Resursgrupp**</span><span class="sxs-lookup"><span data-stu-id="12a42-191">**Resource group**</span></span>|<span data-ttu-id="12a42-192">**Skapa en ny:** AdatumAppGatewayRG</span><span class="sxs-lookup"><span data-stu-id="12a42-192">**Create new:** AdatumAppGatewayRG</span></span>|<span data-ttu-id="12a42-193">Skapa en resursgrupp.</span><span class="sxs-lookup"><span data-stu-id="12a42-193">Create a resource group.</span></span> <span data-ttu-id="12a42-194">hello resursgruppens namn måste vara unikt inom hello-prenumeration som du har valt.</span><span class="sxs-lookup"><span data-stu-id="12a42-194">hello resource group name must be unique within hello subscription you selected.</span></span> <span data-ttu-id="12a42-195">Mer om resursgrupper läsa hello toolearn [Resource Manager](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fapplication-gateway%2ftoc.json#resource-groups) översiktsartikel.</span><span class="sxs-lookup"><span data-stu-id="12a42-195">toolearn more about resource groups, read hello [Resource Manager](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fapplication-gateway%2ftoc.json#resource-groups) overview article.</span></span>|
   |<span data-ttu-id="12a42-196">**Plats**</span><span class="sxs-lookup"><span data-stu-id="12a42-196">**Location**</span></span>|<span data-ttu-id="12a42-197">Västra USA</span><span class="sxs-lookup"><span data-stu-id="12a42-197">West US</span></span>||

   ![bladet visar grundläggande inställningar][2-2]

1. <span data-ttu-id="12a42-199">I hello **inställningar** bladet som visas under **för virtuella nätverk**, klickar du på **Välj ett virtuellt nätverk**.</span><span class="sxs-lookup"><span data-stu-id="12a42-199">In hello **Settings** blade that appears under **Virtual network**, click **Choose a virtual network**.</span></span> <span data-ttu-id="12a42-200">Det här steget öppnas ange hello **Välj virtuellt nätverk** bladet.</span><span class="sxs-lookup"><span data-stu-id="12a42-200">This step opens enter hello **Choose virtual network** blade.</span></span>  <span data-ttu-id="12a42-201">Klicka på **Skapa nytt** tooopen hello **skapa virtuellt nätverk** bladet.</span><span class="sxs-lookup"><span data-stu-id="12a42-201">Click **Create new** tooopen hello **Create virtual network** blade.</span></span>

   ![Välj ett virtuellt nätverk][2]

1. <span data-ttu-id="12a42-203">På hello **skapa virtuellt nätverk-bladet** ange hello följande värden och klicka sedan på **OK**.</span><span class="sxs-lookup"><span data-stu-id="12a42-203">On hello **Create virtual network blade** enter hello following values, then click **OK**.</span></span> <span data-ttu-id="12a42-204">Det här steget stängs hello **skapa virtuellt nätverk** och **Välj virtuellt nätverk** blad.</span><span class="sxs-lookup"><span data-stu-id="12a42-204">This step closes hello **Create virtual network** and **Choose virtual network** blades.</span></span> <span data-ttu-id="12a42-205">Hello fylls **undernät** på hello **inställningar** bladet med hello undernät valt.</span><span class="sxs-lookup"><span data-stu-id="12a42-205">This populates hello **Subnet** field on hello **Settings** blade with hello subnet chosen.</span></span>

   |<span data-ttu-id="12a42-206">**Inställning**</span><span class="sxs-lookup"><span data-stu-id="12a42-206">**Setting**</span></span> | <span data-ttu-id="12a42-207">**Värde**</span><span class="sxs-lookup"><span data-stu-id="12a42-207">**Value**</span></span> | <span data-ttu-id="12a42-208">**Detaljer**</span><span class="sxs-lookup"><span data-stu-id="12a42-208">**Details**</span></span> |
   |---|---|---|
   |<span data-ttu-id="12a42-209">**Namn**</span><span class="sxs-lookup"><span data-stu-id="12a42-209">**Name**</span></span>|<span data-ttu-id="12a42-210">AdatumAppGatewayVNET</span><span class="sxs-lookup"><span data-stu-id="12a42-210">AdatumAppGatewayVNET</span></span>|<span data-ttu-id="12a42-211">Namnet på hello Programgateway</span><span class="sxs-lookup"><span data-stu-id="12a42-211">Name of hello application gateway</span></span>|
   |<span data-ttu-id="12a42-212">**Adressutrymmet**</span><span class="sxs-lookup"><span data-stu-id="12a42-212">**Address Space**</span></span>|<span data-ttu-id="12a42-213">10.0.0.0/16</span><span class="sxs-lookup"><span data-stu-id="12a42-213">10.0.0.0/16</span></span>| <span data-ttu-id="12a42-214">Det här värdet är hello adressutrymmet för hello virtuellt nätverk</span><span class="sxs-lookup"><span data-stu-id="12a42-214">This value is hello address space for hello virtual network</span></span>|
   |<span data-ttu-id="12a42-215">**Namn på undernät**</span><span class="sxs-lookup"><span data-stu-id="12a42-215">**Subnet name**</span></span>|<span data-ttu-id="12a42-216">AppGatewaySubnet</span><span class="sxs-lookup"><span data-stu-id="12a42-216">AppGatewaySubnet</span></span>|<span data-ttu-id="12a42-217">Namnet på hello undernät för hello Programgateway</span><span class="sxs-lookup"><span data-stu-id="12a42-217">Name of hello subnet for hello application gateway</span></span>|
   |<span data-ttu-id="12a42-218">**Adressintervall för undernätet**</span><span class="sxs-lookup"><span data-stu-id="12a42-218">**Subnet address range**</span></span>|<span data-ttu-id="12a42-219">10.0.0.0/28</span><span class="sxs-lookup"><span data-stu-id="12a42-219">10.0.0.0/28</span></span> | <span data-ttu-id="12a42-220">Det här undernätet tillåter flera undernät i hello virtuellt nätverk för medlemmar i serverdelen</span><span class="sxs-lookup"><span data-stu-id="12a42-220">This subnet allows more additional subnets in hello virtual network for backend pool members</span></span>|

1. <span data-ttu-id="12a42-221">På hello **inställningar** bladet under **Frontend-IP-konfiguration**, Välj **offentliga** som hello **IP-adresstyp**</span><span class="sxs-lookup"><span data-stu-id="12a42-221">On hello **Settings** blade under **Frontend IP configuration**, choose **Public** as hello **IP address type**</span></span>

1. <span data-ttu-id="12a42-222">På hello **inställningar** bladet under **offentliga IP-adressen**, klickar du på **Välj en offentlig IP-adress**, det här steget öppnar hello **Välj offentlig IP-adress**bladet, klickar du på **Skapa nytt**.</span><span class="sxs-lookup"><span data-stu-id="12a42-222">On hello **Settings** blade under **Public IP address**, click **Choose a public IP address**, this step opens hello **Choose public IP address** blade, click **Create new**.</span></span>

   ![Välj offentlig IP-adress][3]

1. <span data-ttu-id="12a42-224">På hello **skapa offentlig IP-adress** bladet acceptera standardvärdet för hello och på **OK**.</span><span class="sxs-lookup"><span data-stu-id="12a42-224">On hello **Create public IP address** blade, accept hello default value, and click **OK**.</span></span> <span data-ttu-id="12a42-225">Det här steget stängs hello **Välj offentlig IP-adress** bladet, hello **skapa offentlig IP-adress** bladet och fylla **offentliga IP-adressen** med hello offentlig IP-adress som väljs.</span><span class="sxs-lookup"><span data-stu-id="12a42-225">This step closes hello **Choose public IP address** blade, hello **Create public IP address** blade, and populate **Public IP address** with hello public IP address chosen.</span></span>

1. <span data-ttu-id="12a42-226">På hello **inställningar** bladet under **Lyssnarkonfigurationen**, klickar du på **HTTP** under **protokollet**.</span><span class="sxs-lookup"><span data-stu-id="12a42-226">On hello **Settings** blade under **Listener configuration**, click **HTTP** under **Protocol**.</span></span> <span data-ttu-id="12a42-227">toouse **https**, krävs ett certifikat.</span><span class="sxs-lookup"><span data-stu-id="12a42-227">toouse **https**, a certificate is required.</span></span> <span data-ttu-id="12a42-228">hello privat nyckel för hello certifikat krävs så att en PFX-export av hello certifikat måste toobe tillhandahålls och hello hello-filens lösenord.</span><span class="sxs-lookup"><span data-stu-id="12a42-228">hello private key of hello certificate is needed so a .pfx export of hello certificate needs toobe provided and hello password for hello file.</span></span>

1. <span data-ttu-id="12a42-229">Konfigurera hello **Brandvägg** specifika inställningar.</span><span class="sxs-lookup"><span data-stu-id="12a42-229">Configure hello **WAF** specific settings.</span></span>

   |<span data-ttu-id="12a42-230">**Inställning**</span><span class="sxs-lookup"><span data-stu-id="12a42-230">**Setting**</span></span> | <span data-ttu-id="12a42-231">**Värde**</span><span class="sxs-lookup"><span data-stu-id="12a42-231">**Value**</span></span> | <span data-ttu-id="12a42-232">**Detaljer**</span><span class="sxs-lookup"><span data-stu-id="12a42-232">**Details**</span></span> |
   |---|---|---|
   |<span data-ttu-id="12a42-233">**Status för brandväggen**</span><span class="sxs-lookup"><span data-stu-id="12a42-233">**Firewall status**</span></span>| <span data-ttu-id="12a42-234">Enabled</span><span class="sxs-lookup"><span data-stu-id="12a42-234">Enabled</span></span>| <span data-ttu-id="12a42-235">Den här inställningen inaktiverar Brandvägg eller inaktivera.</span><span class="sxs-lookup"><span data-stu-id="12a42-235">This setting turns WAF on or off.</span></span>|
   |<span data-ttu-id="12a42-236">**Brandväggsläge**</span><span class="sxs-lookup"><span data-stu-id="12a42-236">**Firewall mode**</span></span> | <span data-ttu-id="12a42-237">Prevention (Skydd)</span><span class="sxs-lookup"><span data-stu-id="12a42-237">Prevention</span></span>| <span data-ttu-id="12a42-238">Den här inställningen avgör hello åtgärder Brandvägg tar på sig skadlig trafik.</span><span class="sxs-lookup"><span data-stu-id="12a42-238">This setting determines hello actions WAF takes on malicious traffic.</span></span> <span data-ttu-id="12a42-239">Om **identifiering** är valt, loggas endast trafik.</span><span class="sxs-lookup"><span data-stu-id="12a42-239">If **Detection** is chosen, traffic is only logged.</span></span>  <span data-ttu-id="12a42-240">Om **förebyggande** väljs trafik är inloggad och stoppats med ett 403 obehörig svar.</span><span class="sxs-lookup"><span data-stu-id="12a42-240">If **Prevention** is chosen, traffic is logged and stopped with a 403 Unauthorized response.</span></span>|


1. <span data-ttu-id="12a42-241">Granska hello sammanfattningssidan och klicka på **OK**.</span><span class="sxs-lookup"><span data-stu-id="12a42-241">Review hello Summary page and click **OK**.</span></span>  <span data-ttu-id="12a42-242">Hello Programgateway är nu i kö och skapas.</span><span class="sxs-lookup"><span data-stu-id="12a42-242">Now hello application gateway is queued up and created.</span></span>

1. <span data-ttu-id="12a42-243">Navigera tooit i hello portal toocontinue konfigurationen av hello Programgateway när hello Programgateway har skapats.</span><span class="sxs-lookup"><span data-stu-id="12a42-243">Once hello application gateway has been created, navigate tooit in hello portal toocontinue configuration of hello application gateway.</span></span>

    ![Programvy Gateway resurs][10]

<span data-ttu-id="12a42-245">Dessa steg kan du skapa en basic-Programgateway med standardinställningar för hello lyssnare, serverdelspool, serverdelens http-inställningar och regler.</span><span class="sxs-lookup"><span data-stu-id="12a42-245">These steps create a basic application gateway with default settings for hello listener, backend pool, backend http settings, and rules.</span></span> <span data-ttu-id="12a42-246">Du kan ändra dessa inställningar toosuit distributionen när hello etablering har lyckats</span><span class="sxs-lookup"><span data-stu-id="12a42-246">You can modify these settings toosuit your deployment once hello provisioning is successful</span></span>

> [!NOTE]
> <span data-ttu-id="12a42-247">Programgatewayer som skapats med konfiguration av hello grundläggande webbprogram brandväggen konfigureras med CR 3.0 för skydd.</span><span class="sxs-lookup"><span data-stu-id="12a42-247">Application gateways created with hello basic web application firewall configuration are configured with CRS 3.0 for protections.</span></span>

## <a name="next-steps"></a><span data-ttu-id="12a42-248">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="12a42-248">Next steps</span></span>

<span data-ttu-id="12a42-249">Därefter kan du lära dig hur tooconfigure en anpassad domän alias för hello [offentliga IP-adressen](../dns/dns-custom-domain.md#public-ip-address) med hjälp av Azure DNS eller en annan DNS-leverantör.</span><span class="sxs-lookup"><span data-stu-id="12a42-249">Next, you can learn how tooconfigure a custom domain alias for hello [public IP address](../dns/dns-custom-domain.md#public-ip-address) using Azure DNS or another DNS provider.</span></span>

<span data-ttu-id="12a42-250">Lär dig hur tooconfigure diagnostikloggning, toolog hello händelser som har identifierats eller förhindras med Brandvägg för webbaserade program genom att besöka [Gateway Programdiagnostik](application-gateway-diagnostics.md)</span><span class="sxs-lookup"><span data-stu-id="12a42-250">Learn how tooconfigure diagnostic logging, toolog hello events that are detected or prevented with web application firewall by visiting [Application Gateway Diagnostics](application-gateway-diagnostics.md)</span></span>

<span data-ttu-id="12a42-251">Lär dig hur toocreate anpassade hälsoavsökning genom att besöka [skapa en anpassad hälsoavsökningen](application-gateway-create-probe-portal.md)</span><span class="sxs-lookup"><span data-stu-id="12a42-251">Learn how toocreate custom health probes by visiting [Create a custom health probe](application-gateway-create-probe-portal.md)</span></span>

<span data-ttu-id="12a42-252">Lär dig hur tooconfigure SSL-avlastning och vidta hello kostsamma SSL dekryptering av webbservrar genom att besöka [Konfigurera SSL-avlastning](application-gateway-ssl-portal.md)</span><span class="sxs-lookup"><span data-stu-id="12a42-252">Learn how tooconfigure SSL Offloading and take hello costly SSL decryption off your web servers by visiting [Configure SSL Offload](application-gateway-ssl-portal.md)</span></span>

<!--Image references-->
[1]: ./media/application-gateway-web-application-firewall-portal/figure1.png
[2]: ./media/application-gateway-web-application-firewall-portal/figure2.png
[2-1]: ./media/application-gateway-web-application-firewall-portal/figure2-1.png
[2-2]: ./media/application-gateway-web-application-firewall-portal/figure2-2.png
[3]: ./media/application-gateway-web-application-firewall-portal/figure3.png
[10]: ./media/application-gateway-web-application-firewall-portal/figure10.png
[scenario]: ./media/application-gateway-web-application-firewall-portal/scenario.png
