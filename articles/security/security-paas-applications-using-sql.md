---
title: Skydda PaaS databaser i Azure | Microsoft Docs
description: " Läs mer om Azure SQL Database och SQL Data Warehouse Säkerhet Metodtips för att skydda din PaaS webb- och mobilprogram. "
services: security
documentationcenter: na
author: techlake
manager: MBaldwin
editor: 
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/11/2017
ms.author: terrylan
ms.openlocfilehash: 18509b3fc3a73118f67583a0b087c58f0e51993c
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/03/2017
---
# <a name="securing-paas-databases-in-azure"></a><span data-ttu-id="07d2d-103">Att säkra PaaS-databaser i Azure</span><span class="sxs-lookup"><span data-stu-id="07d2d-103">Securing PaaS databases in Azure</span></span>

<span data-ttu-id="07d2d-104">I den här artikeln tar vi upp en samling [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) och [SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/) säkerhetsmetoder för att skydda din PaaS webb- och mobilprogram.</span><span class="sxs-lookup"><span data-stu-id="07d2d-104">In this article, we discuss a collection of [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) and [SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/) security best practices for securing your PaaS web and mobile applications.</span></span> <span data-ttu-id="07d2d-105">Följande rekommendationer härleds från våra erfarenhet av Azure och upplevelser för kunder som själv.</span><span class="sxs-lookup"><span data-stu-id="07d2d-105">These best practices are derived from our experience with Azure and the experiences of customers like yourself.</span></span>

## <a name="azure-sql-database-and-sql-data-warehouse"></a><span data-ttu-id="07d2d-106">Azure SQL Database och SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="07d2d-106">Azure SQL Database and SQL Data Warehouse</span></span>
<span data-ttu-id="07d2d-107">[Azure SQL Database](../sql-database/sql-database-technical-overview.md) och [SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) betjäna relationsdatabas för din Internet-baserade program.</span><span class="sxs-lookup"><span data-stu-id="07d2d-107">[Azure SQL Database](../sql-database/sql-database-technical-overview.md) and [SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) provide a relational database service for your Internet-based applications.</span></span> <span data-ttu-id="07d2d-108">Nu ska vi titta på tjänster som hjälper dig skydda dina program och data när du använder Azure SQL Database och SQL Data Warehouse i en PaaS-distribution:</span><span class="sxs-lookup"><span data-stu-id="07d2d-108">Let’s look at services that help protect your applications and data when using Azure SQL Database and SQL Data Warehouse in a PaaS deployment:</span></span>

- <span data-ttu-id="07d2d-109">Azure Active Directory-autentisering (i stället för SQL Server-autentisering)</span><span class="sxs-lookup"><span data-stu-id="07d2d-109">Azure Active Directory authentication (instead of SQL Server authentication)</span></span>
- <span data-ttu-id="07d2d-110">Azure SQL-brandväggen</span><span class="sxs-lookup"><span data-stu-id="07d2d-110">Azure SQL firewall</span></span>
- <span data-ttu-id="07d2d-111">Transparent datakryptering (TDE)</span><span class="sxs-lookup"><span data-stu-id="07d2d-111">Transparent Data Encryption (TDE)</span></span>

## <a name="best-practices"></a><span data-ttu-id="07d2d-112">Bästa praxis</span><span class="sxs-lookup"><span data-stu-id="07d2d-112">Best practices</span></span>

### <a name="use-a-centralized-identity-repository-for-authentication-and-authorization"></a><span data-ttu-id="07d2d-113">Använda en centraliserad identitetsdatabas för autentisering och auktorisering</span><span class="sxs-lookup"><span data-stu-id="07d2d-113">Use a centralized identity repository for authentication and authorization</span></span>

<span data-ttu-id="07d2d-114">Azure SQL-databaser kan konfigureras för att använda en av två typer av autentisering:</span><span class="sxs-lookup"><span data-stu-id="07d2d-114">Azure SQL databases can be configured to use one of two types of authentication:</span></span>

- <span data-ttu-id="07d2d-115">**SQL-autentisering** använder ett användarnamn och lösenord.</span><span class="sxs-lookup"><span data-stu-id="07d2d-115">**SQL Authentication** uses a username and password.</span></span> <span data-ttu-id="07d2d-116">När du skapade den logiska servern för databasen angav du en "serveradministratörsinloggning” med ett användarnamn och lösenord.</span><span class="sxs-lookup"><span data-stu-id="07d2d-116">When you created the logical server for your database, you specified a "server admin" login with a username and password.</span></span> <span data-ttu-id="07d2d-117">Med dessa autentiseringsuppgifter, kan du autentisera till en databas på servern som databasägaren.</span><span class="sxs-lookup"><span data-stu-id="07d2d-117">Using these credentials, you can authenticate to any database on that server as the database owner.</span></span>

- <span data-ttu-id="07d2d-118">**Azure Active Directory-autentisering** använder identiteter som hanteras av Azure Active Directory och stöds för hanterade och integrerad domäner.</span><span class="sxs-lookup"><span data-stu-id="07d2d-118">**Azure Active Directory Authentication** uses identities managed by Azure Active Directory and is supported for managed and integrated domains.</span></span> <span data-ttu-id="07d2d-119">Om du vill använda Azure Active Directory-autentisering måste du skapa en annan serveradministratör kallas den ”Azure AD admin”, som tillåts administrera Azure AD-användare och grupper.</span><span class="sxs-lookup"><span data-stu-id="07d2d-119">To use Azure Active Directory Authentication, you must create another server admin called the "Azure AD admin," which is allowed to administer Azure AD users and groups.</span></span> <span data-ttu-id="07d2d-120">Den här administratören kan också utföra alla åtgärder som en vanlig serveradministratören kan.</span><span class="sxs-lookup"><span data-stu-id="07d2d-120">This admin can also perform all operations that a regular server admin can.</span></span>

<span data-ttu-id="07d2d-121">[Azure Active Directory-autentisering](../active-directory/develop/active-directory-authentication-scenarios.md) är en mekanism för anslutning till Azure SQL Database och SQL Data Warehouse med hjälp av identiteter i Azure Active Directory (AD).</span><span class="sxs-lookup"><span data-stu-id="07d2d-121">[Azure Active Directory authentication](../active-directory/develop/active-directory-authentication-scenarios.md) is a mechanism of connecting to Azure SQL Database and SQL Data Warehouse by using identities in Azure Active Directory (AD).</span></span> <span data-ttu-id="07d2d-122">Azure AD innehåller ett alternativ till SQL Server-autentisering så du kan stoppa spridning av användaridentiteter över databasservrar.</span><span class="sxs-lookup"><span data-stu-id="07d2d-122">Azure AD provides an alternative to SQL Server authentication so you can stop the proliferation of user identities across database servers.</span></span> <span data-ttu-id="07d2d-123">Azure AD-autentisering kan du centralt hantera identiteter för databasanvändare och andra Microsoft-tjänster på en central plats.</span><span class="sxs-lookup"><span data-stu-id="07d2d-123">Azure AD authentication enables you to centrally manage the identities of database users and other Microsoft services in one central location.</span></span> <span data-ttu-id="07d2d-124">Central hantering av ID innehåller en enda plats för att hantera användare och förenklar hantering av behörighet.</span><span class="sxs-lookup"><span data-stu-id="07d2d-124">Central ID management provides a single place to manage database users and simplifies permission management.</span></span>  

<span data-ttu-id="07d2d-125">Fördelarna med att använda Azure AD-autentisering i stället för SQL-autentisering är:</span><span class="sxs-lookup"><span data-stu-id="07d2d-125">Benefits of using Azure AD authentication instead of SQL authentication include:</span></span>

- <span data-ttu-id="07d2d-126">Tillåter lösenord rotation i en enda plats.</span><span class="sxs-lookup"><span data-stu-id="07d2d-126">Allows password rotation in a single place.</span></span>
- <span data-ttu-id="07d2d-127">Hanterar databasen med hjälp av externa Azure AD-grupper.</span><span class="sxs-lookup"><span data-stu-id="07d2d-127">Manages database permissions using external Azure AD groups.</span></span>
- <span data-ttu-id="07d2d-128">Eliminerar lagra lösenord genom att aktivera integrerad Windows-autentisering och andra former av autentisering som stöds av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="07d2d-128">Eliminates storing passwords by enabling integrated Windows authentication and other forms of authentication supported by Azure AD.</span></span>
- <span data-ttu-id="07d2d-129">Använder finns databasanvändare att autentisera identiteter på databasnivå.</span><span class="sxs-lookup"><span data-stu-id="07d2d-129">Uses contained database users to authenticate identities at the database level.</span></span>
- <span data-ttu-id="07d2d-130">Stöder tokenbaserad autentisering för program som ansluter till SQL-databas.</span><span class="sxs-lookup"><span data-stu-id="07d2d-130">Supports token-based authentication for applications connecting to SQL Database.</span></span>
- <span data-ttu-id="07d2d-131">Har stöd för ADFS (domänfederation) eller intern användarlösenord autentisering för en lokal Azure AD utan domänsynkronisering.</span><span class="sxs-lookup"><span data-stu-id="07d2d-131">Supports ADFS (domain federation) or native user/password authentication for a local Azure AD without domain synchronization.</span></span>
- <span data-ttu-id="07d2d-132">Stöder anslutningar från SQL Server Management Studio som använder Active Directory Universal-autentisering, vilket innefattar [Multi-Factor Authentication (MFA)](../multi-factor-authentication/multi-factor-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="07d2d-132">Supports connections from SQL Server Management Studio that use Active Directory Universal Authentication, which includes [Multi-Factor Authentication (MFA)](../multi-factor-authentication/multi-factor-authentication.md).</span></span> <span data-ttu-id="07d2d-133">MFA ingår stark autentisering med ett antal alternativ för enkel verifiering – telefonsamtal, textmeddelande, smartkort och PIN-kod eller meddelande i mobilappen.</span><span class="sxs-lookup"><span data-stu-id="07d2d-133">MFA includes strong authentication with a range of easy verification options — phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="07d2d-134">Mer information finns i [SSMS stöd för Azure AD MFA med SQL Database och SQL Data Warehouse](../sql-database/sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="07d2d-134">For more information, see [SSMS support for Azure AD MFA with SQL Database and SQL Data Warehouse](../sql-database/sql-database-ssms-mfa-authentication.md).</span></span>

<span data-ttu-id="07d2d-135">Mer information om Azure AD-autentisering finns:</span><span class="sxs-lookup"><span data-stu-id="07d2d-135">To learn more about Azure AD authentication, see:</span></span>

- [<span data-ttu-id="07d2d-136">Ansluter till SQL Database eller SQL Data Warehouse med hjälp av Azure Active Directory-autentisering</span><span class="sxs-lookup"><span data-stu-id="07d2d-136">Connecting to SQL Database or SQL Data Warehouse By Using Azure Active Directory Authentication</span></span>](../sql-database/sql-database-aad-authentication.md)
- [<span data-ttu-id="07d2d-137">Autentisera till Azure SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="07d2d-137">Authentication to Azure SQL Data Warehouse</span></span>](../sql-data-warehouse/sql-data-warehouse-authentication.md)
- [<span data-ttu-id="07d2d-138">Stöd för tokenbaserad autentisering för Azure SQL-databas med hjälp av Azure AD-autentisering</span><span class="sxs-lookup"><span data-stu-id="07d2d-138">Token-based authentication support for Azure SQL DB using Azure AD authentication</span></span>](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/)

> [!NOTE]
> <span data-ttu-id="07d2d-139">För att säkerställa att Azure Active Directory passar bra för din miljö, se [Azure AD-funktioner och begränsningar](../sql-database/sql-database-aad-authentication.md#azure-ad-features-and-limitations), särskilt ytterligare överväganden.</span><span class="sxs-lookup"><span data-stu-id="07d2d-139">To ensure that Azure Active Directory is a good fit for your environment, see [Azure AD features and limitations](../sql-database/sql-database-aad-authentication.md#azure-ad-features-and-limitations), specifically the additional considerations.</span></span>
>
>

### <a name="restrict-access-based-on-ip-address"></a><span data-ttu-id="07d2d-140">Begränsa åtkomst baserat på IP-adress</span><span class="sxs-lookup"><span data-stu-id="07d2d-140">Restrict Access based on IP Address</span></span>
<span data-ttu-id="07d2d-141">Du kan skapa brandväggsregler som anger godkända IP-adressintervall.</span><span class="sxs-lookup"><span data-stu-id="07d2d-141">You can create firewall rules that specify ranges of acceptable IP addresses.</span></span> <span data-ttu-id="07d2d-142">Dessa regler kan tillämpas på både server och databas.</span><span class="sxs-lookup"><span data-stu-id="07d2d-142">These rules can be targeted at both the server and database levels.</span></span> <span data-ttu-id="07d2d-143">Vi rekommenderar att du använder databasnivå brandväggsregler när det är möjligt att förbättra säkerheten och göra databasen mer bärbara.</span><span class="sxs-lookup"><span data-stu-id="07d2d-143">We recommend using database-level firewall rules whenever possible to enhance security and to make your database more portable.</span></span> <span data-ttu-id="07d2d-144">Brandväggsregler på servernivå är bäst för administratörer och när du har många databaser som har samma krav för åtkomst, men du inte vill ägna tid konfigurerar varje databas individuellt.</span><span class="sxs-lookup"><span data-stu-id="07d2d-144">Server-level firewall rules are best used for administrators and when you have many databases that have the same access requirements but you don't want to spend time configuring each database individually.</span></span>

<span data-ttu-id="07d2d-145">SQL-databas standard källa IP-adressbegränsningar tillåta åtkomst från alla Azure-adresser (inklusive andra prenumerationer och klienter).</span><span class="sxs-lookup"><span data-stu-id="07d2d-145">SQL Database’s default source IP address restrictions allow access from any Azure address (including other subscriptions and tenants).</span></span> <span data-ttu-id="07d2d-146">Du kan begränsa detta så att bara IP-adresser att komma åt instansen.</span><span class="sxs-lookup"><span data-stu-id="07d2d-146">You can restrict this to only allow your IP addresses to access the instance.</span></span> <span data-ttu-id="07d2d-147">Även om din SQL-brandvägg och IP-adressbegränsningar behövs stark autentisering fortfarande.</span><span class="sxs-lookup"><span data-stu-id="07d2d-147">Even with your SQL firewall and IP address restrictions, strong authentication is still needed.</span></span> <span data-ttu-id="07d2d-148">Se rekommendationer tidigare i den här artikeln.</span><span class="sxs-lookup"><span data-stu-id="07d2d-148">See the recommendations made earlier in this article.</span></span>

<span data-ttu-id="07d2d-149">Mer information om Azure SQL-brandvägg och IP-begränsningar finns:</span><span class="sxs-lookup"><span data-stu-id="07d2d-149">To learn more about Azure SQL Firewall and IP restrictions, see:</span></span>

- [<span data-ttu-id="07d2d-150">Azure SQL Database-åtkomstkontroll</span><span class="sxs-lookup"><span data-stu-id="07d2d-150">Azure SQL Database access control</span></span>](../sql-database/sql-database-control-access.md)
- [<span data-ttu-id="07d2d-151">Konfigurera brandväggsregler för Azure SQL Database - översikt</span><span class="sxs-lookup"><span data-stu-id="07d2d-151">Configure Azure SQL Database firewall rules - overview</span></span>](../sql-database/sql-database-firewall-configure.md)
- [<span data-ttu-id="07d2d-152">Konfigurera en Azure SQL Database servernivå brandväggsregel med Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="07d2d-152">Configure an Azure SQL Database server-level firewall rule using the Azure portal</span></span>](../sql-database/sql-database-configure-firewall-settings.md)

### <a name="encryption-of-data-at-rest"></a><span data-ttu-id="07d2d-153">Kryptering av vilande data</span><span class="sxs-lookup"><span data-stu-id="07d2d-153">Encryption of data at rest</span></span>
<span data-ttu-id="07d2d-154">[Transparent Data kryptering (TDE)](https://msdn.microsoft.com/library/azure/bb934049) är aktiverad som standard.</span><span class="sxs-lookup"><span data-stu-id="07d2d-154">[Transparent Data Encryption (TDE)](https://msdn.microsoft.com/library/azure/bb934049) is enabled by default.</span></span> <span data-ttu-id="07d2d-155">TDE krypterar transparent SQL Server, Azure SQL Database och Azure SQL Data Warehouse data och loggfilen filer.</span><span class="sxs-lookup"><span data-stu-id="07d2d-155">TDE transparently encrypts SQL Server, Azure SQL Database, and Azure SQL Data Warehouse data and log files.</span></span> <span data-ttu-id="07d2d-156">TDE skyddar mot en kompromettering av direkt åtkomst till filer eller deras säkerhetskopiering.</span><span class="sxs-lookup"><span data-stu-id="07d2d-156">TDE protects against a compromise of direct access to the files or their backup.</span></span> <span data-ttu-id="07d2d-157">På så sätt kan du kryptera vilande data utan att ändra befintliga program.</span><span class="sxs-lookup"><span data-stu-id="07d2d-157">This enables you to encrypt data at rest without changing existing applications.</span></span> <span data-ttu-id="07d2d-158">TDE ska alltid vara aktiverad; Detta kommer dock inte att stoppa en angripare som använder normal åtkomstsökvägen.</span><span class="sxs-lookup"><span data-stu-id="07d2d-158">TDE should always stay enabled; however, this will not stop an attacker using the normal access path.</span></span> <span data-ttu-id="07d2d-159">TDE ger möjlighet att följa många lagar, och riktlinjerna i olika branscher.</span><span class="sxs-lookup"><span data-stu-id="07d2d-159">TDE provides the ability to comply with many laws, regulations, and guidelines established in various industries.</span></span>

<span data-ttu-id="07d2d-160">Azure SQL hanterar viktiga problem för TDE.</span><span class="sxs-lookup"><span data-stu-id="07d2d-160">Azure SQL manages key related issues for TDE.</span></span> <span data-ttu-id="07d2d-161">Som med TDE, lokalt måste vara extra försiktig så återställning och när du flyttar databaser.</span><span class="sxs-lookup"><span data-stu-id="07d2d-161">As with TDE, on premise special care must be taken to ensure recoverability and when moving databases.</span></span> <span data-ttu-id="07d2d-162">I mer avancerade scenarier, nycklarna kan uttryckligen hanteras i Azure Key Vault via extensible key management (se [aktivera TDE på SQL Server med hjälp av EKM](/security/encryption/enable-tde-on-sql-server-using-ekm)).</span><span class="sxs-lookup"><span data-stu-id="07d2d-162">In more sophisticated scenarios, the keys can be explicitly managed in Azure Key Vault through extensible key management (see [Enable TDE on SQL Server Using EKM](/security/encryption/enable-tde-on-sql-server-using-ekm)).</span></span> <span data-ttu-id="07d2d-163">Detta kan också för ta med din egen nyckel (BYOK) via Azure nyckeln valv BYOK kapaciteten.</span><span class="sxs-lookup"><span data-stu-id="07d2d-163">This also allows for Bring Your Own Key (BYOK) through Azure Key Vaults BYOK capability.</span></span>

<span data-ttu-id="07d2d-164">Azure SQL ger dig kryptering för kolumnerna till [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine).</span><span class="sxs-lookup"><span data-stu-id="07d2d-164">Azure SQL provides encryption for columns through [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine).</span></span> <span data-ttu-id="07d2d-165">På så sätt kan endast auktoriserade program åtkomst till känsliga kolumner.</span><span class="sxs-lookup"><span data-stu-id="07d2d-165">This allows only authorized applications access to sensitive columns.</span></span> <span data-ttu-id="07d2d-166">Med den här typen av kryptering begränsar SQL-frågor för krypterade kolumner till baserat på likheten värden.</span><span class="sxs-lookup"><span data-stu-id="07d2d-166">Using this kind of encryption limits SQL queries for encrypted columns to equality-based values.</span></span>

<span data-ttu-id="07d2d-167">Programmet kryptering bör också användas för dataåtkomst.</span><span class="sxs-lookup"><span data-stu-id="07d2d-167">Application level encryption should also be used for selective data.</span></span> <span data-ttu-id="07d2d-168">Ibland kan du minimera data suveränitet problem genom att kryptera data med en nyckel som används i ett land.</span><span class="sxs-lookup"><span data-stu-id="07d2d-168">Data sovereignty concerns can sometimes be mitigated by encrypting data with a key that is kept in the correct country.</span></span> <span data-ttu-id="07d2d-169">Detta förhindrar att även oavsiktliga dataöverföring orsakar problem Eftersom det är omöjligt att dekryptera data utan nyckel, förutsatt att en stark algoritm används (till exempel AES 256).</span><span class="sxs-lookup"><span data-stu-id="07d2d-169">This prevents even accidental data transfer from causing an issue since it is impossible to decrypt the data without the key, assuming a strong algorithm is used (such as AES 256).</span></span>

<span data-ttu-id="07d2d-170">Du kan använda ytterligare säkerhetsåtgärder för att skydda databasen som en säker system utformas, kryptera konfidentiell tillgångar och skapa en brandvägg runt databasservrar.</span><span class="sxs-lookup"><span data-stu-id="07d2d-170">You can use additional precautions to help secure the database such as designing a secure system, encrypting confidential assets, and building a firewall around the database servers.</span></span>

## <a name="next-steps"></a><span data-ttu-id="07d2d-171">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="07d2d-171">Next steps</span></span>
<span data-ttu-id="07d2d-172">Den här artikeln introduceras du till en samling med SQL Database och SQL Data Warehouse säkerhetsmetoder för att skydda din PaaS webb- och mobilprogram.</span><span class="sxs-lookup"><span data-stu-id="07d2d-172">This article introduced you to a collection of SQL Database and SQL Data Warehouse security best practices for securing your PaaS web and mobile applications.</span></span> <span data-ttu-id="07d2d-173">Mer information om hur du skyddar dina PaaS-distributioner finns:</span><span class="sxs-lookup"><span data-stu-id="07d2d-173">To learn more about securing your PaaS deployments, see:</span></span>

- [<span data-ttu-id="07d2d-174">Skydda PaaS-distributioner</span><span class="sxs-lookup"><span data-stu-id="07d2d-174">Securing PaaS deployments</span></span>](security-paas-deployments.md)
- [<span data-ttu-id="07d2d-175">Att säkra PaaS-webb- och mobila program med Azure App Service</span><span class="sxs-lookup"><span data-stu-id="07d2d-175">Securing PaaS web and mobile applications using Azure App Services</span></span>](security-paas-applications-using-app-services.md)
