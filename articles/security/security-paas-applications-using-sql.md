---
title: aaaSecuring PaaS-databaser i Azure | Microsoft Docs
description: " Läs mer om Azure SQL Database och SQL Data Warehouse Säkerhet Metodtips för att skydda din PaaS webb- och mobilprogram. "
services: security
documentationcenter: na
author: techlake
manager: MBaldwin
editor: 
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/11/2017
ms.author: terrylan
ms.openlocfilehash: a7f9a2846b59dcb05e82f2ad88b41c5213295603
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="securing-paas-databases-in-azure"></a><span data-ttu-id="b7fcc-103">Att säkra PaaS-databaser i Azure</span><span class="sxs-lookup"><span data-stu-id="b7fcc-103">Securing PaaS databases in Azure</span></span>

<span data-ttu-id="b7fcc-104">I den här artikeln tar vi upp en samling [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) och [SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/) säkerhetsmetoder för att skydda din PaaS webb- och mobilprogram.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-104">In this article, we discuss a collection of [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) and [SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/) security best practices for securing your PaaS web and mobile applications.</span></span> <span data-ttu-id="b7fcc-105">Följande rekommendationer härleds från våra erfarenhet av Azure och hello erfarenheter från kunder som dig själv.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-105">These best practices are derived from our experience with Azure and hello experiences of customers like yourself.</span></span>

## <a name="azure-sql-database-and-sql-data-warehouse"></a><span data-ttu-id="b7fcc-106">Azure SQL Database och SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="b7fcc-106">Azure SQL Database and SQL Data Warehouse</span></span>
<span data-ttu-id="b7fcc-107">[Azure SQL Database](../sql-database/sql-database-technical-overview.md) och [SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) betjäna relationsdatabas för din Internet-baserade program.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-107">[Azure SQL Database](../sql-database/sql-database-technical-overview.md) and [SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) provide a relational database service for your Internet-based applications.</span></span> <span data-ttu-id="b7fcc-108">Nu ska vi titta på tjänster som hjälper dig skydda dina program och data när du använder Azure SQL Database och SQL Data Warehouse i en PaaS-distribution:</span><span class="sxs-lookup"><span data-stu-id="b7fcc-108">Let’s look at services that help protect your applications and data when using Azure SQL Database and SQL Data Warehouse in a PaaS deployment:</span></span>

- <span data-ttu-id="b7fcc-109">Azure Active Directory-autentisering (i stället för SQL Server-autentisering)</span><span class="sxs-lookup"><span data-stu-id="b7fcc-109">Azure Active Directory authentication (instead of SQL Server authentication)</span></span>
- <span data-ttu-id="b7fcc-110">Azure SQL-brandväggen</span><span class="sxs-lookup"><span data-stu-id="b7fcc-110">Azure SQL firewall</span></span>
- <span data-ttu-id="b7fcc-111">Transparent datakryptering (TDE)</span><span class="sxs-lookup"><span data-stu-id="b7fcc-111">Transparent Data Encryption (TDE)</span></span>

## <a name="best-practices"></a><span data-ttu-id="b7fcc-112">Bästa praxis</span><span class="sxs-lookup"><span data-stu-id="b7fcc-112">Best practices</span></span>

### <a name="use-a-centralized-identity-repository-for-authentication-and-authorization"></a><span data-ttu-id="b7fcc-113">Använda en centraliserad identitetsdatabas för autentisering och auktorisering</span><span class="sxs-lookup"><span data-stu-id="b7fcc-113">Use a centralized identity repository for authentication and authorization</span></span>

<span data-ttu-id="b7fcc-114">Azure SQL-databaser kan vara konfigurerade toouse en av två typer av autentisering:</span><span class="sxs-lookup"><span data-stu-id="b7fcc-114">Azure SQL databases can be configured toouse one of two types of authentication:</span></span>

- <span data-ttu-id="b7fcc-115">**SQL-autentisering** använder ett användarnamn och lösenord.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-115">**SQL Authentication** uses a username and password.</span></span> <span data-ttu-id="b7fcc-116">När du skapade hello logisk server för din databas, anges en ”serveradministratören” inloggning med ett användarnamn och lösenord.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-116">When you created hello logical server for your database, you specified a "server admin" login with a username and password.</span></span> <span data-ttu-id="b7fcc-117">Du kan med dessa autentiseringsuppgifter för att autentisera tooany databas på den servern som hello databasägaren.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-117">Using these credentials, you can authenticate tooany database on that server as hello database owner.</span></span>

- <span data-ttu-id="b7fcc-118">**Azure Active Directory-autentisering** använder identiteter som hanteras av Azure Active Directory och stöds för hanterade och integrerad domäner.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-118">**Azure Active Directory Authentication** uses identities managed by Azure Active Directory and is supported for managed and integrated domains.</span></span> <span data-ttu-id="b7fcc-119">toouse Azure Active Directory-autentisering måste du skapa en annan serveradministratören kallas hello ”Azure AD admin”, vilket är tillåtet tooadminister Azure AD-användare och grupper.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-119">toouse Azure Active Directory Authentication, you must create another server admin called hello "Azure AD admin," which is allowed tooadminister Azure AD users and groups.</span></span> <span data-ttu-id="b7fcc-120">Den här administratören kan också utföra alla åtgärder som en vanlig serveradministratören kan.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-120">This admin can also perform all operations that a regular server admin can.</span></span>

<span data-ttu-id="b7fcc-121">[Azure Active Directory-autentisering](../active-directory/develop/active-directory-authentication-scenarios.md) är en mekanism för anslutning tooAzure SQL Database och SQL Data Warehouse med hjälp av identiteter i Azure Active Directory (AD).</span><span class="sxs-lookup"><span data-stu-id="b7fcc-121">[Azure Active Directory authentication](../active-directory/develop/active-directory-authentication-scenarios.md) is a mechanism of connecting tooAzure SQL Database and SQL Data Warehouse by using identities in Azure Active Directory (AD).</span></span> <span data-ttu-id="b7fcc-122">Azure AD innehåller ett alternativt tooSQL Server-autentisering så du kan stoppa hello ökande mängden av användaridentiteter över databasservrar.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-122">Azure AD provides an alternative tooSQL Server authentication so you can stop hello proliferation of user identities across database servers.</span></span> <span data-ttu-id="b7fcc-123">Azure AD authentication aktiverar du toocentrally hantera hello identiteter för databasanvändare och andra Microsoft-tjänster på en central plats.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-123">Azure AD authentication enables you toocentrally manage hello identities of database users and other Microsoft services in one central location.</span></span> <span data-ttu-id="b7fcc-124">Central ID-hantering och erbjuder en enda plats toomanage databasanvändare och förenklar hantering av behörighet.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-124">Central ID management provides a single place toomanage database users and simplifies permission management.</span></span>  

<span data-ttu-id="b7fcc-125">Fördelarna med att använda Azure AD-autentisering i stället för SQL-autentisering är:</span><span class="sxs-lookup"><span data-stu-id="b7fcc-125">Benefits of using Azure AD authentication instead of SQL authentication include:</span></span>

- <span data-ttu-id="b7fcc-126">Tillåter lösenord rotation i en enda plats.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-126">Allows password rotation in a single place.</span></span>
- <span data-ttu-id="b7fcc-127">Hanterar databasen med hjälp av externa Azure AD-grupper.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-127">Manages database permissions using external Azure AD groups.</span></span>
- <span data-ttu-id="b7fcc-128">Eliminerar lagra lösenord genom att aktivera integrerad Windows-autentisering och andra former av autentisering som stöds av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-128">Eliminates storing passwords by enabling integrated Windows authentication and other forms of authentication supported by Azure AD.</span></span>
- <span data-ttu-id="b7fcc-129">Använder finns databasen användare tooauthenticate identiteter på hello databasnivå.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-129">Uses contained database users tooauthenticate identities at hello database level.</span></span>
- <span data-ttu-id="b7fcc-130">Stöder tokenbaserad autentisering för program som ansluter tooSQL databas.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-130">Supports token-based authentication for applications connecting tooSQL Database.</span></span>
- <span data-ttu-id="b7fcc-131">Har stöd för ADFS (domänfederation) eller intern användarlösenord autentisering för en lokal Azure AD utan domänsynkronisering.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-131">Supports ADFS (domain federation) or native user/password authentication for a local Azure AD without domain synchronization.</span></span>
- <span data-ttu-id="b7fcc-132">Stöder anslutningar från SQL Server Management Studio som använder Active Directory Universal-autentisering, vilket innefattar [Multi-Factor Authentication (MFA)](../multi-factor-authentication/multi-factor-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="b7fcc-132">Supports connections from SQL Server Management Studio that use Active Directory Universal Authentication, which includes [Multi-Factor Authentication (MFA)](../multi-factor-authentication/multi-factor-authentication.md).</span></span> <span data-ttu-id="b7fcc-133">MFA ingår stark autentisering med ett antal alternativ för enkel verifiering – telefonsamtal, textmeddelande, smartkort och PIN-kod eller meddelande i mobilappen.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-133">MFA includes strong authentication with a range of easy verification options — phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="b7fcc-134">Mer information finns i [SSMS stöd för Azure AD MFA med SQL Database och SQL Data Warehouse](../sql-database/sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="b7fcc-134">For more information, see [SSMS support for Azure AD MFA with SQL Database and SQL Data Warehouse](../sql-database/sql-database-ssms-mfa-authentication.md).</span></span>

<span data-ttu-id="b7fcc-135">toolearn mer om Azure AD-autentisering, se:</span><span class="sxs-lookup"><span data-stu-id="b7fcc-135">toolearn more about Azure AD authentication, see:</span></span>

- [<span data-ttu-id="b7fcc-136">Ansluter tooSQL Database eller SQL Data Warehouse med hjälp av Azure Active Directory Authentication</span><span class="sxs-lookup"><span data-stu-id="b7fcc-136">Connecting tooSQL Database or SQL Data Warehouse By Using Azure Active Directory Authentication</span></span>](../sql-database/sql-database-aad-authentication.md)
- [<span data-ttu-id="b7fcc-137">Autentisering tooAzure SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="b7fcc-137">Authentication tooAzure SQL Data Warehouse</span></span>](../sql-data-warehouse/sql-data-warehouse-authentication.md)
- [<span data-ttu-id="b7fcc-138">Stöd för tokenbaserad autentisering för Azure SQL-databas med hjälp av Azure AD-autentisering</span><span class="sxs-lookup"><span data-stu-id="b7fcc-138">Token-based authentication support for Azure SQL DB using Azure AD authentication</span></span>](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/)

> [!NOTE]
> <span data-ttu-id="b7fcc-139">tooensure att Azure Active Directory passar bra för din miljö finns [Azure AD-funktioner och begränsningar](../sql-database/sql-database-aad-authentication.md#azure-ad-features-and-limitations), särskilt hello ytterligare överväganden.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-139">tooensure that Azure Active Directory is a good fit for your environment, see [Azure AD features and limitations](../sql-database/sql-database-aad-authentication.md#azure-ad-features-and-limitations), specifically hello additional considerations.</span></span>
>
>

### <a name="restrict-access-based-on-ip-address"></a><span data-ttu-id="b7fcc-140">Begränsa åtkomst baserat på IP-adress</span><span class="sxs-lookup"><span data-stu-id="b7fcc-140">Restrict Access based on IP Address</span></span>
<span data-ttu-id="b7fcc-141">Du kan skapa brandväggsregler som anger godkända IP-adressintervall.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-141">You can create firewall rules that specify ranges of acceptable IP addresses.</span></span> <span data-ttu-id="b7fcc-142">Dessa regler kan tillämpas på databasen nivå och hello-server.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-142">These rules can be targeted at both hello server and database levels.</span></span> <span data-ttu-id="b7fcc-143">Vi rekommenderar att du använder brandväggsregler på databasnivå när det är möjligt tooenhance säkerhets- och toomake databasen fler bärbara.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-143">We recommend using database-level firewall rules whenever possible tooenhance security and toomake your database more portable.</span></span> <span data-ttu-id="b7fcc-144">Brandväggsregler på servernivå är bäst för administratörer och när du har många databaser som har hello samma behörigheter som krävs, men du inte vill toospend tid konfigurerar varje databas individuellt.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-144">Server-level firewall rules are best used for administrators and when you have many databases that have hello same access requirements but you don't want toospend time configuring each database individually.</span></span>

<span data-ttu-id="b7fcc-145">SQL-databas standard källa IP-adressbegränsningar tillåta åtkomst från alla Azure-adresser (inklusive andra prenumerationer och klienter).</span><span class="sxs-lookup"><span data-stu-id="b7fcc-145">SQL Database’s default source IP address restrictions allow access from any Azure address (including other subscriptions and tenants).</span></span> <span data-ttu-id="b7fcc-146">Du kan begränsa den här tooonly Tillåt din IP-adresser tooaccess hello-instans.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-146">You can restrict this tooonly allow your IP addresses tooaccess hello instance.</span></span> <span data-ttu-id="b7fcc-147">Även om din SQL-brandvägg och IP-adressbegränsningar behövs stark autentisering fortfarande.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-147">Even with your SQL firewall and IP address restrictions, strong authentication is still needed.</span></span> <span data-ttu-id="b7fcc-148">Se hello rekommendationer tidigare i den här artikeln.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-148">See hello recommendations made earlier in this article.</span></span>

<span data-ttu-id="b7fcc-149">toolearn mer om Azure SQL-brandvägg och IP-begränsningar finns:</span><span class="sxs-lookup"><span data-stu-id="b7fcc-149">toolearn more about Azure SQL Firewall and IP restrictions, see:</span></span>

- [<span data-ttu-id="b7fcc-150">Azure SQL Database-åtkomstkontroll</span><span class="sxs-lookup"><span data-stu-id="b7fcc-150">Azure SQL Database access control</span></span>](../sql-database/sql-database-control-access.md)
- [<span data-ttu-id="b7fcc-151">Konfigurera brandväggsregler för Azure SQL Database - översikt</span><span class="sxs-lookup"><span data-stu-id="b7fcc-151">Configure Azure SQL Database firewall rules - overview</span></span>](../sql-database/sql-database-firewall-configure.md)
- [<span data-ttu-id="b7fcc-152">Konfigurera en Azure SQL Database servernivå brandväggsregel med hello Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="b7fcc-152">Configure an Azure SQL Database server-level firewall rule using hello Azure portal</span></span>](../sql-database/sql-database-configure-firewall-settings.md)

### <a name="encryption-of-data-at-rest"></a><span data-ttu-id="b7fcc-153">Kryptering av vilande data</span><span class="sxs-lookup"><span data-stu-id="b7fcc-153">Encryption of data at rest</span></span>
<span data-ttu-id="b7fcc-154">[Transparent Data kryptering (TDE)](https://msdn.microsoft.com/library/azure/bb934049) är aktiverad som standard.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-154">[Transparent Data Encryption (TDE)](https://msdn.microsoft.com/library/azure/bb934049) is enabled by default.</span></span> <span data-ttu-id="b7fcc-155">TDE krypterar transparent SQL Server, Azure SQL Database och Azure SQL Data Warehouse data och loggfilen filer.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-155">TDE transparently encrypts SQL Server, Azure SQL Database, and Azure SQL Data Warehouse data and log files.</span></span> <span data-ttu-id="b7fcc-156">TDE skyddar mot en kompromettering av direktåtkomst toohello filer eller deras säkerhetskopiering.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-156">TDE protects against a compromise of direct access toohello files or their backup.</span></span> <span data-ttu-id="b7fcc-157">Detta gör tooencrypt vilande data utan att ändra befintliga program.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-157">This enables you tooencrypt data at rest without changing existing applications.</span></span> <span data-ttu-id="b7fcc-158">TDE ska alltid vara aktiverad; Detta kommer dock inte att stoppa en angripare som använder hello normal komma åt sökvägen.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-158">TDE should always stay enabled; however, this will not stop an attacker using hello normal access path.</span></span> <span data-ttu-id="b7fcc-159">TDE ger hello möjlighet toocomply med många lagar, och riktlinjerna i olika branscher.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-159">TDE provides hello ability toocomply with many laws, regulations, and guidelines established in various industries.</span></span>

<span data-ttu-id="b7fcc-160">Azure SQL hanterar viktiga problem för TDE.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-160">Azure SQL manages key related issues for TDE.</span></span> <span data-ttu-id="b7fcc-161">Som med TDE, lokalt måste vara extra försiktig tooensure återställning och när du flyttar databaser.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-161">As with TDE, on premise special care must be taken tooensure recoverability and when moving databases.</span></span> <span data-ttu-id="b7fcc-162">I mer avancerade scenarier, hello nycklar kan uttryckligen hanteras i Azure Key Vault via extensible key management (se [aktivera TDE på SQL Server med hjälp av EKM](/security/encryption/enable-tde-on-sql-server-using-ekm)).</span><span class="sxs-lookup"><span data-stu-id="b7fcc-162">In more sophisticated scenarios, hello keys can be explicitly managed in Azure Key Vault through extensible key management (see [Enable TDE on SQL Server Using EKM](/security/encryption/enable-tde-on-sql-server-using-ekm)).</span></span> <span data-ttu-id="b7fcc-163">Detta kan också för ta med din egen nyckel (BYOK) via Azure nyckeln valv BYOK kapaciteten.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-163">This also allows for Bring Your Own Key (BYOK) through Azure Key Vaults BYOK capability.</span></span>

<span data-ttu-id="b7fcc-164">Azure SQL ger dig kryptering för kolumnerna till [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine).</span><span class="sxs-lookup"><span data-stu-id="b7fcc-164">Azure SQL provides encryption for columns through [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine).</span></span> <span data-ttu-id="b7fcc-165">På så sätt kan endast auktoriserade program åtkomst toosensitive kolumner.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-165">This allows only authorized applications access toosensitive columns.</span></span> <span data-ttu-id="b7fcc-166">Med den här typen av kryptering begränsar SQL-frågor för krypterade kolumner tooequality-baserade värden.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-166">Using this kind of encryption limits SQL queries for encrypted columns tooequality-based values.</span></span>

<span data-ttu-id="b7fcc-167">Programmet kryptering bör också användas för dataåtkomst.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-167">Application level encryption should also be used for selective data.</span></span> <span data-ttu-id="b7fcc-168">Ibland kan du minimera data suveränitet problem genom att kryptera data med en nyckel som används i hello rätt land.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-168">Data sovereignty concerns can sometimes be mitigated by encrypting data with a key that is kept in hello correct country.</span></span> <span data-ttu-id="b7fcc-169">Detta förhindrar att även oavsiktliga dataöverföring orsakar problem Eftersom det är omöjligt toodecrypt hello data utan hello nyckel, förutsatt att en stark algoritm används (till exempel AES 256).</span><span class="sxs-lookup"><span data-stu-id="b7fcc-169">This prevents even accidental data transfer from causing an issue since it is impossible toodecrypt hello data without hello key, assuming a strong algorithm is used (such as AES 256).</span></span>

<span data-ttu-id="b7fcc-170">Du kan använda ytterligare säkerhetsåtgärder toohelp säker hello databasen som en säker system utformas, kryptera konfidentiell tillgångar och skapa en brandvägg runt hello databasservrar.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-170">You can use additional precautions toohelp secure hello database such as designing a secure system, encrypting confidential assets, and building a firewall around hello database servers.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b7fcc-171">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="b7fcc-171">Next steps</span></span>
<span data-ttu-id="b7fcc-172">Den här artikeln introduceras du tooa samling SQL Database och SQL Data Warehouse säkerhetsmetoder för att skydda din PaaS webb- och mobilprogram.</span><span class="sxs-lookup"><span data-stu-id="b7fcc-172">This article introduced you tooa collection of SQL Database and SQL Data Warehouse security best practices for securing your PaaS web and mobile applications.</span></span> <span data-ttu-id="b7fcc-173">toolearn mer om hur du skyddar dina PaaS-distributioner finns:</span><span class="sxs-lookup"><span data-stu-id="b7fcc-173">toolearn more about securing your PaaS deployments, see:</span></span>

- [<span data-ttu-id="b7fcc-174">Skydda PaaS-distributioner</span><span class="sxs-lookup"><span data-stu-id="b7fcc-174">Securing PaaS deployments</span></span>](security-paas-deployments.md)
- [<span data-ttu-id="b7fcc-175">Att säkra PaaS-webb- och mobila program med Azure App Service</span><span class="sxs-lookup"><span data-stu-id="b7fcc-175">Securing PaaS web and mobile applications using Azure App Services</span></span>](security-paas-applications-using-app-services.md)
