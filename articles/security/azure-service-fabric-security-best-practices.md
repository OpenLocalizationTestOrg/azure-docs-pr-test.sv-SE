---
title: "Azure Service Fabric-säkerhetsmetoder | Microsoft Docs"
description: "Den här artikeln innehåller en uppsättning av bästa praxis för Azure Service Fabric-säkerhet."
services: security
documentationcenter: na
author: unifycloud
manager: swadhwa
editor: tomsh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/04/2017
ms.author: tomsh
ms.openlocfilehash: 3132e42aac72c0132c7526ac56d80bc5eec269e7
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/18/2017
---
# <a name="azure-service-fabric-security-best-practices"></a><span data-ttu-id="e557f-103">Azure Service Fabric-säkerhetsmetoder</span><span class="sxs-lookup"><span data-stu-id="e557f-103">Azure Service Fabric security best practices</span></span>
<span data-ttu-id="e557f-104">Distribuera ett program på Azure är snabb, enkel och kostnadseffektiv.</span><span class="sxs-lookup"><span data-stu-id="e557f-104">Deploying an application on Azure is fast, easy, and cost-effective.</span></span> <span data-ttu-id="e557f-105">Innan du distribuerar molnapp i produktion praktiskt att ha en bästa praxis för att hjälpa dig att utvärdera programmet mot en lista över viktiga och rekommenderade metodtips.</span><span class="sxs-lookup"><span data-stu-id="e557f-105">Before deploying cloud application in production useful to have a best practice to assist in evaluating your application against a list of essential and recommended best practices.</span></span>

<span data-ttu-id="e557f-106">Azure Service Fabric är en distribuerad systemplattform som gör det enkelt att paketera, distribuera och hantera skalbara och tillförlitliga mikrotjänster.</span><span class="sxs-lookup"><span data-stu-id="e557f-106">Azure Service Fabric is a distributed systems platform that makes it easy to package, deploy, and manage scalable and reliable microservices.</span></span> <span data-ttu-id="e557f-107">Service Fabric tar också itu med betydande utmaningar vid utveckling och hantering av molnprogram.</span><span class="sxs-lookup"><span data-stu-id="e557f-107">Service Fabric also addresses the significant challenges in developing and managing cloud applications.</span></span> <span data-ttu-id="e557f-108">Utvecklare och administratörer kan undvika komplexa infrastrukturproblem och fokusera på att implementera verksamhetskritiska, krävande arbetsbelastningar som är skalbara, tillförlitliga och hanterbara.</span><span class="sxs-lookup"><span data-stu-id="e557f-108">Developers and administrators can avoid complex infrastructure problems and focus on implementing mission-critical, demanding workloads that are scalable, reliable, and manageable.</span></span> 

<span data-ttu-id="e557f-109">För varje bästa praxis förklarar vi:</span><span class="sxs-lookup"><span data-stu-id="e557f-109">For each best practice, we explain:</span></span>

-   <span data-ttu-id="e557f-110">Vad som är bästa praxis</span><span class="sxs-lookup"><span data-stu-id="e557f-110">What the best practice is</span></span>
-   <span data-ttu-id="e557f-111">Varför du vill aktivera den bästa praxis</span><span class="sxs-lookup"><span data-stu-id="e557f-111">Why you want to enable that best practice</span></span>
-   <span data-ttu-id="e557f-112">Vad kan vara resultatet om du inte aktivera bästa praxis</span><span class="sxs-lookup"><span data-stu-id="e557f-112">What might be the result if you fail to enable the best practice</span></span>
-   <span data-ttu-id="e557f-113">Hur du kan lära dig att aktivera bästa praxis</span><span class="sxs-lookup"><span data-stu-id="e557f-113">How you can learn to enable the best practice</span></span>

<span data-ttu-id="e557f-114">Vi har för närvarande på följande Azure Service Fabric säkerhetsmetoder:</span><span class="sxs-lookup"><span data-stu-id="e557f-114">We currently have the following Azure Service Fabric security best practices:</span></span>

-   <span data-ttu-id="e557f-115">Använd mallen för Azure Resource Manager och Service Fabric Azure PowerShell-modulen för att skapa säkra kluster</span><span class="sxs-lookup"><span data-stu-id="e557f-115">Use Azure Resource Manager(ARM) template and Service Fabric Azure PowerShell Module to create secure cluster</span></span>
-   <span data-ttu-id="e557f-116">Använd X.509-certifikat</span><span class="sxs-lookup"><span data-stu-id="e557f-116">Use X.509 certificates</span></span>
-   <span data-ttu-id="e557f-117">Konfigurera säkerhetsprinciper</span><span class="sxs-lookup"><span data-stu-id="e557f-117">Configure security policies</span></span>
-   <span data-ttu-id="e557f-118">Tillförlitliga aktörer säkerhetskonfiguration</span><span class="sxs-lookup"><span data-stu-id="e557f-118">Reliable Actors security configuration</span></span>
-   <span data-ttu-id="e557f-119">Konfigurera SSL för Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e557f-119">Configure SSL for Azure Service Fabric</span></span>
-   <span data-ttu-id="e557f-120">Isolerade/nätverkssäkerhet med Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e557f-120">Network Isolation/Security with Azure Service Fabric</span></span>
-   <span data-ttu-id="e557f-121">Ställ in nyckelvalv för säkerhet</span><span class="sxs-lookup"><span data-stu-id="e557f-121">Set up a key vault for security</span></span>
-   <span data-ttu-id="e557f-122">Tilldela användare till roller</span><span class="sxs-lookup"><span data-stu-id="e557f-122">Assign users to roles</span></span>


## <a name="best-practices-for-securing-your-cluster"></a><span data-ttu-id="e557f-123">Metodtips för att skydda klustret</span><span class="sxs-lookup"><span data-stu-id="e557f-123">Best practices for securing your cluster</span></span>

<span data-ttu-id="e557f-124">**Stor bild**</span><span class="sxs-lookup"><span data-stu-id="e557f-124">**Big Picture**</span></span>

<span data-ttu-id="e557f-125">Använd alltid en säker kluster</span><span class="sxs-lookup"><span data-stu-id="e557f-125">Always use a secure cluster</span></span>
-   <span data-ttu-id="e557f-126">Klustret säkerhet – använder certifikat</span><span class="sxs-lookup"><span data-stu-id="e557f-126">Cluster security – use Certificates</span></span>
-   <span data-ttu-id="e557f-127">Klientåtkomst (Admin och skrivskyddad) – Använd AAD</span><span class="sxs-lookup"><span data-stu-id="e557f-127">Client access (Admin and Read only) – use AAD</span></span>

<span data-ttu-id="e557f-128">Använd automatiserad distribution</span><span class="sxs-lookup"><span data-stu-id="e557f-128">Use automated deployments</span></span>
-   <span data-ttu-id="e557f-129">Använda skript för att skapa, distribuera och rulla över hemligheter</span><span class="sxs-lookup"><span data-stu-id="e557f-129">Use scripts to generate, deploy and, roll over secrets</span></span>
-   <span data-ttu-id="e557f-130">Håll hemligheterna i KV, använda AD för andra klientåtkomst</span><span class="sxs-lookup"><span data-stu-id="e557f-130">Keep the secrets in KV, use AD for all other client access</span></span>
-   <span data-ttu-id="e557f-131">Inga mänskliga ska ha åtkomst till dem utan autentisering.</span><span class="sxs-lookup"><span data-stu-id="e557f-131">No human should have access to them without authentication.</span></span>

<span data-ttu-id="e557f-132">Dessutom, Tänk på följande:</span><span class="sxs-lookup"><span data-stu-id="e557f-132">Additionally, consider the following:</span></span>
-   <span data-ttu-id="e557f-133">Skapa DMZs med Nätverkssäkerhetsgrupper (NSG: er)</span><span class="sxs-lookup"><span data-stu-id="e557f-133">Create DMZs using Network Security Groups (NSGs)</span></span>
-   <span data-ttu-id="e557f-134">Använda hopp servrar till RDP till virtuella datorer i klustret eller för att hantera klustret</span><span class="sxs-lookup"><span data-stu-id="e557f-134">Use Jump servers to RDP into cluster VMs or to manage your cluster</span></span>

<span data-ttu-id="e557f-135">Kluster måste skyddas för att förhindra att obehöriga användare från att ansluta till klustret, särskilt när den har produktionsarbetsbelastningar som körs på den.</span><span class="sxs-lookup"><span data-stu-id="e557f-135">Clusters must be secured to prevent unauthorized users from connecting to your cluster, especially when it has production workloads running on it.</span></span> <span data-ttu-id="e557f-136">Även om det är möjligt att skapa ett oskyddat kluster, blir gör det anonyma användare att ansluta till den, om det visar hanteringsslutpunkter till Internet.</span><span class="sxs-lookup"><span data-stu-id="e557f-136">Although it is possible to create an unsecured cluster, doing so allows anonymous users to connect to it, if it exposes management endpoints to the public Internet.</span></span>

<span data-ttu-id="e557f-137">Tekniker som används för att implementera de scenarierna.</span><span class="sxs-lookup"><span data-stu-id="e557f-137">Technologies used to implement those scenarios.</span></span> <span data-ttu-id="e557f-138">Den [kluster säkerhetsscenarier](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) är:</span><span class="sxs-lookup"><span data-stu-id="e557f-138">The [cluster security scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) are:</span></span>

-   <span data-ttu-id="e557f-139">Nod till nod säkerhet – denna skyddar kommunikationen mellan virtuella datorer och datorer i klustret.</span><span class="sxs-lookup"><span data-stu-id="e557f-139">Node-to-node security- This secures communication between the VMs and computers in the cluster.</span></span> <span data-ttu-id="e557f-140">Detta säkerställer att endast datorer som har behörighet att ansluta till klustret kan delta i värd för program och tjänster i klustret.</span><span class="sxs-lookup"><span data-stu-id="e557f-140">This ensures that only computers that are authorized to join the cluster can participate in hosting applications and services in the cluster.</span></span>
<span data-ttu-id="e557f-141">Kluster som körs på Azure eller fristående kluster som körs på Windows kan använda antingen [Certifikatsäkerhet](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) eller [Windows-säkerhet](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) för Windows Server-datorer.</span><span class="sxs-lookup"><span data-stu-id="e557f-141">Clusters running on Azure or standalone clusters running on Windows can use either [Certificate Security](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) or [Windows Security](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) for Windows Server machines.</span></span>
-   <span data-ttu-id="e557f-142">Klient-till-nod säkerhet – denna skyddar kommunikationen mellan en klient för Service Fabric och enskilda noder i klustret.</span><span class="sxs-lookup"><span data-stu-id="e557f-142">Client-to-node security- This secures communication between a Service Fabric client and individual nodes in the cluster.</span></span>
-   <span data-ttu-id="e557f-143">Rollbaserad åtkomstkontroll (RBAC) – du anger rollerna administratörs- och klienten när klustret har skapats med olika identiteter (certifikat, AAD etc.) för varje.</span><span class="sxs-lookup"><span data-stu-id="e557f-143">Role-based access control (RBAC) - You specify the administrator and user client roles at the time of cluster creation by providing separate identities (certificates, AAD etc.) for each.</span></span>
-   <span data-ttu-id="e557f-144">Säkerhetsrekommendationer-för Azure-kluster, rekommenderas att du använder AAD säkerhet för att autentisera klienter och certifikat för nod till nod säkerhet.</span><span class="sxs-lookup"><span data-stu-id="e557f-144">Security Recommendations-For Azure clusters, it is recommended that you use AAD security to authenticate clients and certificates for node-to-node security.</span></span>

<span data-ttu-id="e557f-145">För att konfigurera fristående Windows-kluster, se [konfigurera inställningar för windows-kluster för fristående](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span><span class="sxs-lookup"><span data-stu-id="e557f-145">To configure the standalone Windows cluster, see [configure settings for standalone windows cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span></span>

<span data-ttu-id="e557f-146">Använd Azure Resource Manager-mallar och Service Fabric Azure PowerShell-modulen för att skapa säkra kluster.</span><span class="sxs-lookup"><span data-stu-id="e557f-146">Use Azure Resource Manager templates and Service Fabric Azure PowerShell Module to create secure cluster.</span></span>
<span data-ttu-id="e557f-147">En stegvis guide får du hjälp med att skapa en säker Azure Service Fabric-kluster i Azure med Azure Resource Manager finns [här](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span><span class="sxs-lookup"><span data-stu-id="e557f-147">A step-by-step guide walks you through setting up a secure Azure Service Fabric cluster in Azure by using Azure Resource Manager is available [here](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span></span>

<span data-ttu-id="e557f-148">Använd Azure Resource Manager-mall för att anpassa ditt kluster</span><span class="sxs-lookup"><span data-stu-id="e557f-148">Use the Azure Resource Manager template to customize your cluster</span></span>
-   <span data-ttu-id="e557f-149">Installationsprogrammet hanteras lagringsutrymme för VM virtuella hårddiskar</span><span class="sxs-lookup"><span data-stu-id="e557f-149">Setup-managed storage for VM VHDs</span></span>

<span data-ttu-id="e557f-150">Använd Azure Resource Manager-mall för enheten ändringar i resursgruppen</span><span class="sxs-lookup"><span data-stu-id="e557f-150">Use the Azure Resource Manager template to drive changes to your Resource Group</span></span>
-   <span data-ttu-id="e557f-151">Enkelt konfigurationshantering</span><span class="sxs-lookup"><span data-stu-id="e557f-151">Easy configuration management</span></span>
-   <span data-ttu-id="e557f-152">Granskning</span><span class="sxs-lookup"><span data-stu-id="e557f-152">Auditing</span></span>

<span data-ttu-id="e557f-153">Hantera klusterkonfigurationen som kod</span><span class="sxs-lookup"><span data-stu-id="e557f-153">Treat your cluster configuration as Code</span></span>
-   <span data-ttu-id="e557f-154">Att ha planerat noggrant i kontrollerar de konfigurationer som du väljer att distribuera</span><span class="sxs-lookup"><span data-stu-id="e557f-154">Be thorough in checking the configurations you choose to deploy</span></span>
-   <span data-ttu-id="e557f-155">Undvik att använda implicita kommandon för att justera dina resurser direkt</span><span class="sxs-lookup"><span data-stu-id="e557f-155">Avoid using implicit commands to tweak your resources directly</span></span>

<span data-ttu-id="e557f-156">Många aspekter av den [Service Fabric application livscykel](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) kan automatiseras.</span><span class="sxs-lookup"><span data-stu-id="e557f-156">Many aspects of the [Service Fabric application lifecycle](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) can be automated.</span></span> <span data-ttu-id="e557f-157">[Service Fabric Azure PowerShell-modulen](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automatiserar vanliga uppgifter för att distribuera, uppgradera, ta bort och testa Azure Service Fabric-program.</span><span class="sxs-lookup"><span data-stu-id="e557f-157">[Service Fabric Azure PowerShell Module](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automates common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span> <span data-ttu-id="e557f-158">Hanteras och HTTP-APIs för apphantering finns också tillgängliga.</span><span class="sxs-lookup"><span data-stu-id="e557f-158">Managed and HTTP APIs for app management are also available.</span></span>

## <a name="use-x509-certificates"></a><span data-ttu-id="e557f-159">Använd X.509-certifikat</span><span class="sxs-lookup"><span data-stu-id="e557f-159">Use X.509 certificates</span></span>
<span data-ttu-id="e557f-160">Kluster bör alltid säkras med X.509-certifikat eller Windows-säkerhet.</span><span class="sxs-lookup"><span data-stu-id="e557f-160">Clusters should always be secured using X.509 certificates or Windows security.</span></span> <span data-ttu-id="e557f-161">Säkerhetsfunktioner konfigureras bara när kluster skapas, och du kan inte aktivera någon säkerhet i efterhand.</span><span class="sxs-lookup"><span data-stu-id="e557f-161">Security is only configured at cluster creation time and it is not possible to enable security after the cluster is created.</span></span>

<span data-ttu-id="e557f-162">Om du anger en [klustret certifikat](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), ange värdet för ClusterCredentialType till X509.</span><span class="sxs-lookup"><span data-stu-id="e557f-162">If you are specifying a [cluster certificate](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), set the value of ClusterCredentialType to X509.</span></span> <span data-ttu-id="e557f-163">Om du anger servercertifikat för utanför anslutningar kan du ange ServerCredentialType till X509.</span><span class="sxs-lookup"><span data-stu-id="e557f-163">If you are specifying server certificate for outside connections, set the ServerCredentialType to X509.</span></span>

-   <span data-ttu-id="e557f-164">Certifikat som används i kluster som kör produktionsarbetsbelastningar ska skapas med hjälp av en korrekt konfigurerade tjänsten för Windows Server-certifikat eller erhålls från en godkänd certifikatutfärdare (CA).</span><span class="sxs-lookup"><span data-stu-id="e557f-164">Certificates used in clusters running production workloads should be created by using a correctly configured Windows Server certificate service or obtained from an approved Certificate Authority (CA).</span></span>
-   <span data-ttu-id="e557f-165">Använd aldrig några tillfälligt eller testa certifikat i produktion som skapas med verktyg som MakeCert.exe.</span><span class="sxs-lookup"><span data-stu-id="e557f-165">Never use any temporary or test certificates in production that are created with tools such as MakeCert.exe.</span></span>
-   <span data-ttu-id="e557f-166">Du kan använda ett självsignerat certifikat, men det bör bara göra det för testkluster och inte i produktion.</span><span class="sxs-lookup"><span data-stu-id="e557f-166">You can use a self-signed certificate, but should only do so for test clusters and not in production.</span></span>

<span data-ttu-id="e557f-167">Om klustret är oskyddat.</span><span class="sxs-lookup"><span data-stu-id="e557f-167">If the cluster is unsecure.</span></span> <span data-ttu-id="e557f-168">Vem som helst kan ansluta anonymt och utföra hanteringsåtgärder, så produktionskluster bör alltid skyddas med X.509-certifikat eller Windows-säkerhet.</span><span class="sxs-lookup"><span data-stu-id="e557f-168">Anyone can connect anonymously and perform management operations, so production clusters should always be secured using X.509 certificates or Windows security.</span></span>

<span data-ttu-id="e557f-169">Mer information hur du aktiverar certifikat i service fabric-kluster finns i avsnittet [lägga till eller ta bort certifikat för service fabric-kluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span><span class="sxs-lookup"><span data-stu-id="e557f-169">To learn more how to enable certificates in service fabric cluster see, [add or remove certificates for a service fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span></span>

## <a name="configure-security-policies"></a><span data-ttu-id="e557f-170">Konfigurera säkerhetsprinciper</span><span class="sxs-lookup"><span data-stu-id="e557f-170">Configure security policies</span></span>
<span data-ttu-id="e557f-171">Service Fabric hjälper också till att skydda resurser som används av program vid tidpunkten för distribution under användarkonton – till exempel, filer, kataloger och certifikat.</span><span class="sxs-lookup"><span data-stu-id="e557f-171">Service Fabric also helps secure the resources that are used by applications at the time of deployment under the user accounts--for example, files, directories, and certificates.</span></span> <span data-ttu-id="e557f-172">Det gör att program som körs, även i en delad värdmiljö säkrare från varandra.</span><span class="sxs-lookup"><span data-stu-id="e557f-172">This makes running applications, even in a shared hosted environment, more secure from one another.</span></span>

-   <span data-ttu-id="e557f-173">Använda en Active Directory-domän, grupp eller användare: du kan köra tjänsten under autentiseringsuppgifterna för ett Active Directory-användare eller grupp konto.</span><span class="sxs-lookup"><span data-stu-id="e557f-173">Use an Active Directory domain group or user: You can run the service under the credentials for an Active Directory user or group account.</span></span> <span data-ttu-id="e557f-174">Detta är Active Directory lokalt i din domän och är inte med Azure Active Directory (AD Azure).</span><span class="sxs-lookup"><span data-stu-id="e557f-174">This is Active Directory on-premises within your domain and is not with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="e557f-175">Genom att använda en domänanvändare eller grupp kan du sedan komma åt andra resurser i domänen (till exempel filresurser) som har behörighet.</span><span class="sxs-lookup"><span data-stu-id="e557f-175">By using a domain user or group, you can then access other resources in the domain (for example, file shares) that have been granted permissions.</span></span>

-   <span data-ttu-id="e557f-176">Tilldela en säkerhetsprincip åtkomst för HTTP och HTTPS-slutpunkter: Om du använder en RunAs-princip i en tjänst och service manifest deklarerar endpoint resurser med HTTP-protokollet, måste du ange en SecurityAccessPolicy för att säkerställa att portar tilldelas dessa slutpunkter är korrekt åtkomst-kontrollerade som anges för det RunAs-konto som tjänsten körs under.</span><span class="sxs-lookup"><span data-stu-id="e557f-176">Assign a security access policy for HTTP and HTTPS endpoints: If you apply a RunAs policy to a service and the service manifest declares endpoint resources with the HTTP protocol, you must specify a SecurityAccessPolicy to ensure that ports allocated to these endpoints are correctly access-controlled listed for the RunAs user account that the service runs under.</span></span> <span data-ttu-id="e557f-177">Annars http.sys har inte åtkomst till tjänsten och du får ett fel med anrop från klienten.</span><span class="sxs-lookup"><span data-stu-id="e557f-177">Otherwise, http.sys does not have access to the service, and you get failures with calls from the client.</span></span>
<span data-ttu-id="e557f-178">Läs mer aktivera säkerhetsprinciper i service fabric finns [konfigurera säkerhetsprinciper för ditt program](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span><span class="sxs-lookup"><span data-stu-id="e557f-178">To learn more enable security policies in service fabric see, [configure security policies for your application](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span></span>

## <a name="reliable-actors-security-configuration"></a><span data-ttu-id="e557f-179">Tillförlitliga aktörer säkerhetskonfiguration</span><span class="sxs-lookup"><span data-stu-id="e557f-179">Reliable Actors security configuration</span></span>
<span data-ttu-id="e557f-180">Service Fabric Reliable Actors är en implementering av aktören designmönstret.</span><span class="sxs-lookup"><span data-stu-id="e557f-180">Service Fabric Reliable Actors is an implementation of the actor design pattern.</span></span> <span data-ttu-id="e557f-181">Precis som med alla programvara designmönstret passar beslut om du vill använda ett specifikt mönster görs baserat på om huruvida en programvara utforma problemet mönstret.</span><span class="sxs-lookup"><span data-stu-id="e557f-181">As with any software design pattern, the decision whether to use a specific pattern is made based on whether or not a software design problem fits the pattern.</span></span>

<span data-ttu-id="e557f-182">Överväg att aktören mönstret modellera ditt problem eller scenario om som en allmän vägledning:</span><span class="sxs-lookup"><span data-stu-id="e557f-182">As general guidance, consider the actor pattern to model your problem or scenario if:</span></span>
-   <span data-ttu-id="e557f-183">Sidan problem innebär att ett stort antal (tusentalsavgränsare eller mer) liten, oberoende och isolerade enheter av tillstånd och logik.</span><span class="sxs-lookup"><span data-stu-id="e557f-183">Your problem space involves a large number (thousands or more) of small, independent, and isolated units of state and logic.</span></span>
-   <span data-ttu-id="e557f-184">Du vill arbeta med Enkeltrådig objekt som inte kräver betydande interaktion från externa komponenter, inklusive frågor tillstånd på en uppsättning aktörer.</span><span class="sxs-lookup"><span data-stu-id="e557f-184">You want to work with single-threaded objects that do not require significant interaction from external components, including querying state across a set of actors.</span></span>
-   <span data-ttu-id="e557f-185">Aktören-instanser blockera inte anropare med oväntade fördröjningar genom att utfärda o-åtgärder.</span><span class="sxs-lookup"><span data-stu-id="e557f-185">Your actor instances won't block callers with unpredictable delays by issuing I/O operations.</span></span>

<span data-ttu-id="e557f-186">I Service Fabric aktörer implementeras i Reliable Actors framework: ett programramverk för aktören-mönster-baserade byggt ovanpå [Service Fabric Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span><span class="sxs-lookup"><span data-stu-id="e557f-186">In Service Fabric, actors are implemented in the Reliable Actors framework: An actor-pattern-based application framework built on top of [Service Fabric Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span></span> <span data-ttu-id="e557f-187">Varje tillförlitliga aktören-tjänst som du skriver är faktiskt en partitionerad tillståndskänslig tillförlitlig tjänst.</span><span class="sxs-lookup"><span data-stu-id="e557f-187">Each Reliable Actor service you write is actually a partitioned, stateful Reliable Service.</span></span>
<span data-ttu-id="e557f-188">Varje aktören definieras som en instans av aktörstyp, samma sätt som ett .NET-objekt är en instans av en .NET-typ.</span><span class="sxs-lookup"><span data-stu-id="e557f-188">Every actor is defined as an instance of an actor type, identical to the way a .NET object is an instance of a .NET type.</span></span> <span data-ttu-id="e557f-189">Till exempel kan det finnas en aktörstyp som implementerar funktionerna i en kalkylator och det kan finnas flera aktörer av den typen som distribueras på olika noder i ett kluster.</span><span class="sxs-lookup"><span data-stu-id="e557f-189">For example, there may be an actor type that implements the functionality of a calculator and there could be many actors of that type that are distributed on various nodes across a cluster.</span></span> <span data-ttu-id="e557f-190">Varje sådan aktören identifieras unikt genom ett aktören-ID.</span><span class="sxs-lookup"><span data-stu-id="e557f-190">Each such actor is uniquely identified by an actor ID.</span></span>

<span data-ttu-id="e557f-191">[Replikatorn säkerhetskonfigurationer](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) används för att skydda kommunikationskanalen som används vid replikering.</span><span class="sxs-lookup"><span data-stu-id="e557f-191">[Replicator security configurations](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) are used to secure the communication channel that is used during replication.</span></span> <span data-ttu-id="e557f-192">Det innebär att tjänster inte kan se varandras replikeringstrafik, säkerställer att de data som har gjorts hög tillgänglighet är säker.</span><span class="sxs-lookup"><span data-stu-id="e557f-192">This means that services cannot see each other's replication traffic, ensuring that the data that is made highly available is also secure.</span></span> <span data-ttu-id="e557f-193">Som standard förhindrar en tom säkerhetskonfigurationsavsnittet replikeringssäkerhet.</span><span class="sxs-lookup"><span data-stu-id="e557f-193">By default, an empty security configuration section prevents replication security.</span></span>
<span data-ttu-id="e557f-194">Konfigurationer för replikatorn konfigurera replikatorn som ansvarar för att göra tillståndet aktören Tillståndsprovidern hög tillförlitlig.</span><span class="sxs-lookup"><span data-stu-id="e557f-194">Replicator configurations configure the replicator that is responsible for making the Actor State Provider state highly reliable.</span></span>

## <a name="configure-ssl-for-azure-service-fabric"></a><span data-ttu-id="e557f-195">Konfigurera SSL för Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e557f-195">Configure SSL for Azure Service Fabric</span></span>

<span data-ttu-id="e557f-196">Serverautentisering: [verifierar](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) att klustret management slutpunkter management-klienten så att klienten management vet pratar till verkliga klustret.</span><span class="sxs-lookup"><span data-stu-id="e557f-196">Server authentication: [Authenticates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) the cluster management endpoints to a management client, so that the management client knows it is talking to the real cluster.</span></span> <span data-ttu-id="e557f-197">Det här certifikatet ger också en [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) för HTTPS-hanterings-API och för Service Fabric Explorer via HTTPS.</span><span class="sxs-lookup"><span data-stu-id="e557f-197">This certificate also provides an [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) for the HTTPS management API and for Service Fabric Explorer over HTTPS.</span></span>
<span data-ttu-id="e557f-198">Du måste skaffa ett anpassat domännamn för klustret.</span><span class="sxs-lookup"><span data-stu-id="e557f-198">You must obtain a custom domain name for your cluster.</span></span> <span data-ttu-id="e557f-199">När du begär ett certifikat från en Certifikatutfärdare måste certifikatets ämnesnamn matcha det anpassade domännamnet som du använder för klustret.</span><span class="sxs-lookup"><span data-stu-id="e557f-199">When you request a certificate from a CA, the certificate's subject name must match the custom domain name that you use for your cluster.</span></span>

<span data-ttu-id="e557f-200">Om du vill konfigurera SSL för ett program måste du först skaffa ett SSL-certifikat som har signerats av en certifikatet (CA), en betrodd tredje part som utfärdar certifikat för detta ändamål.</span><span class="sxs-lookup"><span data-stu-id="e557f-200">To configure SSL for an application, you first need to get an SSL certificate that has been signed by a Certificate Authority (CA), a trusted third party who issues certificates for this purpose.</span></span> <span data-ttu-id="e557f-201">Om du inte redan har en, måste du skaffa ett från ett företag som säljer SSL-certifikat.</span><span class="sxs-lookup"><span data-stu-id="e557f-201">If you do not already have one, you need to obtain one from a company that sells SSL certificates.</span></span>

<span data-ttu-id="e557f-202">Certifikatet måste uppfylla följande krav för SSL-certifikat i Azure:</span><span class="sxs-lookup"><span data-stu-id="e557f-202">The certificate must meet the following requirements for SSL certificates in Azure:</span></span>
-   <span data-ttu-id="e557f-203">Certifikatet måste innehålla en privat nyckel.</span><span class="sxs-lookup"><span data-stu-id="e557f-203">The certificate must contain a private key.</span></span>
-   <span data-ttu-id="e557f-204">Certifikatet måste skapas för nyckelutbyte, kan exporteras till en Personal Information Exchange (.pfx)-fil.</span><span class="sxs-lookup"><span data-stu-id="e557f-204">The certificate must be created for key exchange, exportable to a Personal Information Exchange (.pfx) file.</span></span>
-   <span data-ttu-id="e557f-205">Certifikatets ämnesnamn måste matcha den domän som används för åtkomst till Molntjänsten.</span><span class="sxs-lookup"><span data-stu-id="e557f-205">The certificate's subject name must match the domain used to access the cloud service.</span></span> <span data-ttu-id="e557f-206">Du kan skaffa ett SSL-certifikat från en certifikatutfärdare (CA) för domänen cloudapp.net.</span><span class="sxs-lookup"><span data-stu-id="e557f-206">You cannot obtain an SSL certificate from a certificate authority (CA) for the cloudapp.net domain.</span></span> <span data-ttu-id="e557f-207">Du måste skaffa ett anpassat domännamn som ska användas vid åtkomst till din tjänst.</span><span class="sxs-lookup"><span data-stu-id="e557f-207">You must acquire a custom domain name to use when access your service.</span></span> <span data-ttu-id="e557f-208">När du begär ett certifikat från en Certifikatutfärdare måste certifikatets ämnesnamn matcha det anpassade domännamnet som används för åtkomst till ditt program.</span><span class="sxs-lookup"><span data-stu-id="e557f-208">When you request a certificate from a CA, the certificate's subject name must match the custom domain name used to access your application.</span></span> <span data-ttu-id="e557f-209">Till exempel om ditt domännamn är contoso.com du vill begära ett certifikat från Certifikatutfärdaren för **. contoso.com** eller **www.contoso.com.**</span><span class="sxs-lookup"><span data-stu-id="e557f-209">For example, if your custom domain name is contoso.com you would request a certificate from your CA for **.contoso.com** or **www.contoso.com.**</span></span>
-   <span data-ttu-id="e557f-210">Certifikatet måste använda minst 2048-bitars kryptering.</span><span class="sxs-lookup"><span data-stu-id="e557f-210">The certificate must use a minimum of 2048-bit encryption.</span></span>

<span data-ttu-id="e557f-211">HTTP regleras avslyssna informationen eftersom de data som överförs från webbläsaren till webbservern eller mellan slutpunkter, skickas i klartext är osäker.</span><span class="sxs-lookup"><span data-stu-id="e557f-211">HTTP is insecure and is subject to eavesdropping attacks because the data being transferred from the web browser to the web server or between other endpoints, is transmitted in plaintext.</span></span> <span data-ttu-id="e557f-212">Det innebär att angripare kan komma åt och visa känsliga data, till exempel kreditkortsinformation och inloggningar på kontot.</span><span class="sxs-lookup"><span data-stu-id="e557f-212">This means attackers can intercept and view sensitive data, such as credit card details and account logins.</span></span> <span data-ttu-id="e557f-213">När data skickas eller anslås via en webbläsare med hjälp av HTTPS, säkerställer SSL att sådan information är krypterad och säker obehöriga.</span><span class="sxs-lookup"><span data-stu-id="e557f-213">When data is sent or posted through a browser using HTTPS, SSL ensures that such information is encrypted and secure from interception.</span></span>

<span data-ttu-id="e557f-214">Mer information finns i, [Konfigurera SSL för azure-program](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span><span class="sxs-lookup"><span data-stu-id="e557f-214">To learn more, see, [Configure SSL for azure application](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span></span>

## <a name="network-isolationsecurity-with-azure-service-fabric"></a><span data-ttu-id="e557f-215">Isolerade/nätverkssäkerhet med Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e557f-215">Network Isolation/Security with Azure Service Fabric</span></span>
<span data-ttu-id="e557f-216">Använd [Azure Resource Manager (ARM) mallen](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) som ett exempel för att genomföra en säker tre nodetype-klustret och för att kontrollera inkommande och utgående nätverkstrafik som har med Nätverkssäkerhetsgrupper.</span><span class="sxs-lookup"><span data-stu-id="e557f-216">Use [Azure Resource Manager (ARM) template](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) as a sample for setting up a three nodetype secure cluster and to control the inbound and outbound network traffic using Network Security Groups.</span></span>

<span data-ttu-id="e557f-217">Mallen har en Nätverkssäkerhetsgrupp för varje virtuell dator skala set(VMSS) till styr trafiken till och från VMSS.</span><span class="sxs-lookup"><span data-stu-id="e557f-217">The template has a Network Security Group for each of the virtual machine scale set(VMSS) to control the traffic in and out of the VMSS.</span></span> <span data-ttu-id="e557f-218">Som standard är reglerna inställda så att all trafik som behövs av systemtjänsterna och program-portar som anges i mallen.</span><span class="sxs-lookup"><span data-stu-id="e557f-218">As a default, the rules are set up to allow all the traffic needed by the system services and the application ports specified in the template.</span></span> <span data-ttu-id="e557f-219">Granska de här reglerna och göra ändringar så att de passar dina behov, inklusive lägga till nya för dina program.</span><span class="sxs-lookup"><span data-stu-id="e557f-219">Review those rules and make changes to fit your needs, including add any new ones for your applications.</span></span>

<span data-ttu-id="e557f-220">Mer information finns i [Azure Service Fabric – vanliga scenarier för nätverk](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span><span class="sxs-lookup"><span data-stu-id="e557f-220">For more information, see [Azure Service Fabric – Common Networking Scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span></span>

## <a name="set-up-a-key-vault-for-security"></a><span data-ttu-id="e557f-221">Ställ in nyckelvalv för säkerhet</span><span class="sxs-lookup"><span data-stu-id="e557f-221">Set up a key vault for security</span></span>
<span data-ttu-id="e557f-222">Certifikat används i Service Fabric till att autentisera och kryptera olika delar av ett kluster och de program som körs där.</span><span class="sxs-lookup"><span data-stu-id="e557f-222">Certificates are used in Service Fabric to provide authentication and encryption to secure various aspects of a cluster and its applications.</span></span>

<span data-ttu-id="e557f-223">Service Fabric använder X.509-certifikat för att skydda ett kluster och säkerhetsfunktioner för programmet.</span><span class="sxs-lookup"><span data-stu-id="e557f-223">Service Fabric uses X.509 certificates to secure a cluster and provide application security features.</span></span> <span data-ttu-id="e557f-224">Du kan använda Nyckelvalv till [hantera certifikat](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) för Service Fabric-kluster i Azure.</span><span class="sxs-lookup"><span data-stu-id="e557f-224">You use Key Vault to [manage certificates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) for Service Fabric clusters in Azure.</span></span> <span data-ttu-id="e557f-225">När ett kluster distribueras i Azure, Azure-resursprovider som ansvarar för att skapa Service Fabric-kluster hämtar certifikat från Nyckelvalvet och installerar dem på klustret virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="e557f-225">When a cluster is deployed in Azure, the Azure resource provider that's responsible for creating Service Fabric clusters pulls certificates from Key Vault and installs them on the cluster VMs.</span></span>

<span data-ttu-id="e557f-226">Relationen mellan [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), service fabric-kluster och Azure-resursprovider som använder certifikat som lagras i en nyckelvalvet när den skapar ett kluster.</span><span class="sxs-lookup"><span data-stu-id="e557f-226">The relationship between [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), a service fabric cluster, and the Azure resource provider that uses certificates stored in a key vault when it creates a cluster.</span></span>

<span data-ttu-id="e557f-227">**Skapa en resursgrupp** det första steget är att skapa en resursgrupp för nyckelvalvet.</span><span class="sxs-lookup"><span data-stu-id="e557f-227">**Create a resource group** The first step is to create a resource group specifically for your key vault.</span></span> <span data-ttu-id="e557f-228">Vi rekommenderar att du placera nyckelvalvet i sin egen resursgruppen.</span><span class="sxs-lookup"><span data-stu-id="e557f-228">We recommend that you put the key vault into its own resource group.</span></span> <span data-ttu-id="e557f-229">Den här åtgärden kan du ta bort beräkning och lagring resursgrupper, inklusive resursgruppen som innehåller Service Fabric-klustret utan att förlora dina nycklar och hemligheter.</span><span class="sxs-lookup"><span data-stu-id="e557f-229">This action lets you remove the compute and storage resource groups, including the resource group that contains your Service Fabric cluster, without losing your keys and secrets.</span></span> <span data-ttu-id="e557f-230">Resursgruppen som innehåller ditt nyckelvalv måste vara i samma region som det kluster som använder den.</span><span class="sxs-lookup"><span data-stu-id="e557f-230">The resource group that contains your key vault must be in the same region as the cluster that is using it.</span></span>

<span data-ttu-id="e557f-231">**Skapa en nyckelvalvet i den nya resursgruppen** nyckelvalvet måste vara aktiverat för distribution för att tillåta compute-resursprovidern så att hämta certifikat från det och installera det på instanser för virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="e557f-231">**Create a key vault in the new resource group** The key vault must be enabled for deployment to allow the compute resource provider to get certificates from it and install it on virtual machine instances.</span></span>
<span data-ttu-id="e557f-232">Mer information hur du ställer in Azure key vault finns [Kom igång med Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span><span class="sxs-lookup"><span data-stu-id="e557f-232">To learn more how to set up Azure key vault see, [Get started with Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span></span>

## <a name="assign-users-roles"></a><span data-ttu-id="e557f-233">Tilldela användarroller</span><span class="sxs-lookup"><span data-stu-id="e557f-233">Assign users roles</span></span>
<span data-ttu-id="e557f-234">När du har skapat de program som ska representera klustret tilldelar användarna till de roller som stöds av Service Fabric: skrivskyddade och administratör. Du kan tilldela roller med hjälp av den klassiska Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="e557f-234">After you have created the applications to represent your cluster, assign your users to the roles supported by Service Fabric: read-only and admin. You can assign the roles by using the Azure classic portal.</span></span>

>[!Note]
> <span data-ttu-id="e557f-235">Mer information om roller i Service Fabric finns [rollbaserad åtkomstkontroll för Service Fabric-klienter](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span><span class="sxs-lookup"><span data-stu-id="e557f-235">For more information about roles in Service Fabric, see [Role-based access control for Service Fabric clients](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span></span>

<span data-ttu-id="e557f-236">Azure Service Fabric stöder två typer av olika åtkomstkontroll för klienter som är anslutna till en [Service Fabric-kluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): administratörs- och.</span><span class="sxs-lookup"><span data-stu-id="e557f-236">Azure Service Fabric supports two different access control types for clients that are connected to a [Service Fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): administrator and user.</span></span> <span data-ttu-id="e557f-237">Åtkomstkontroll kan Klusteradministratören att begränsa åtkomsten till vissa klusteråtgärder för olika grupper av användare, vilket gör att klustret säkrare.</span><span class="sxs-lookup"><span data-stu-id="e557f-237">Access control allows the cluster administrator to limit access to certain cluster operations for different groups of users, making the cluster more secure.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e557f-238">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="e557f-238">Next steps</span></span>
- <span data-ttu-id="e557f-239">Konfigurera Service Fabric [utvecklingsmiljö](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span><span class="sxs-lookup"><span data-stu-id="e557f-239">Setting up your Service Fabric [development environment](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span></span>
- <span data-ttu-id="e557f-240">Lär dig mer om [Service Fabric supportalternativ](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span><span class="sxs-lookup"><span data-stu-id="e557f-240">Learn about [Service Fabric support options](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span></span>

