---
title: "aaaAzure Service Fabric säkerhetsmetoder | Microsoft Docs"
description: "Den här artikeln innehåller en uppsättning av bästa praxis för Azure Service Fabric-säkerhet."
services: security
documentationcenter: na
author: unifycloud
manager: swadhwa
editor: tomsh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/04/2017
ms.author: tomsh
ms.openlocfilehash: 483a21240da17d56bb4641653093ddcbad379d6a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-service-fabric-security-best-practices"></a><span data-ttu-id="22330-103">Azure Service Fabric-säkerhetsmetoder</span><span class="sxs-lookup"><span data-stu-id="22330-103">Azure Service Fabric security best practices</span></span>
<span data-ttu-id="22330-104">Distribuera ett program på Azure är snabb, enkel och kostnadseffektiv.</span><span class="sxs-lookup"><span data-stu-id="22330-104">Deploying an application on Azure is fast, easy, and cost-effective.</span></span> <span data-ttu-id="22330-105">Innan du distribuerar cloud program i produktion användbara toohave en god rutin tooassist vid utvärdering av programmet mot en lista över viktiga och rekommenderade metodtips.</span><span class="sxs-lookup"><span data-stu-id="22330-105">Before deploying cloud application in production useful toohave a best practice tooassist in evaluating your application against a list of essential and recommended best practices.</span></span>

<span data-ttu-id="22330-106">Azure Service Fabric är en plattform för distribuerade system som gör det enkelt toopackage, distribuera och hantera skalbara och tillförlitliga mikrotjänster.</span><span class="sxs-lookup"><span data-stu-id="22330-106">Azure Service Fabric is a distributed systems platform that makes it easy toopackage, deploy, and manage scalable and reliable microservices.</span></span> <span data-ttu-id="22330-107">Service Fabric löser också hello betydande problem för utveckling och hantering av molnprogram.</span><span class="sxs-lookup"><span data-stu-id="22330-107">Service Fabric also addresses hello significant challenges in developing and managing cloud applications.</span></span> <span data-ttu-id="22330-108">Utvecklare och administratörer kan undvika komplexa infrastrukturproblem och fokusera på att implementera verksamhetskritiska, krävande arbetsbelastningar som är skalbara, tillförlitliga och hanterbara.</span><span class="sxs-lookup"><span data-stu-id="22330-108">Developers and administrators can avoid complex infrastructure problems and focus on implementing mission-critical, demanding workloads that are scalable, reliable, and manageable.</span></span> 

<span data-ttu-id="22330-109">För varje bästa praxis förklarar vi:</span><span class="sxs-lookup"><span data-stu-id="22330-109">For each best practice, we explain:</span></span>

-   <span data-ttu-id="22330-110">Vilka hello bra</span><span class="sxs-lookup"><span data-stu-id="22330-110">What hello best practice is</span></span>
-   <span data-ttu-id="22330-111">Varför du vill tooenable som bästa praxis</span><span class="sxs-lookup"><span data-stu-id="22330-111">Why you want tooenable that best practice</span></span>
-   <span data-ttu-id="22330-112">Vad kan vara hello resultat om du inte bästa praxis för tooenable hello</span><span class="sxs-lookup"><span data-stu-id="22330-112">What might be hello result if you fail tooenable hello best practice</span></span>
-   <span data-ttu-id="22330-113">Hur du kan lära dig tooenable hello bästa praxis</span><span class="sxs-lookup"><span data-stu-id="22330-113">How you can learn tooenable hello best practice</span></span>

<span data-ttu-id="22330-114">Vi har för närvarande följande säkerhetsmetoder för Azure Service Fabric hello:</span><span class="sxs-lookup"><span data-stu-id="22330-114">We currently have hello following Azure Service Fabric security best practices:</span></span>

-   <span data-ttu-id="22330-115">Använd Azure Resource Manager-mall och Service Fabric Azure PowerShell-modulen toocreate säker kluster</span><span class="sxs-lookup"><span data-stu-id="22330-115">Use Azure Resource Manager(ARM) template and Service Fabric Azure PowerShell Module toocreate secure cluster</span></span>
-   <span data-ttu-id="22330-116">Använd X.509-certifikat</span><span class="sxs-lookup"><span data-stu-id="22330-116">Use X.509 certificates</span></span>
-   <span data-ttu-id="22330-117">Konfigurera säkerhetsprinciper</span><span class="sxs-lookup"><span data-stu-id="22330-117">Configure security policies</span></span>
-   <span data-ttu-id="22330-118">Tillförlitliga aktörer säkerhetskonfiguration</span><span class="sxs-lookup"><span data-stu-id="22330-118">Reliable Actors security configuration</span></span>
-   <span data-ttu-id="22330-119">Konfigurera SSL för Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="22330-119">Configure SSL for Azure Service Fabric</span></span>
-   <span data-ttu-id="22330-120">Isolerade/nätverkssäkerhet med Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="22330-120">Network Isolation/Security with Azure Service Fabric</span></span>
-   <span data-ttu-id="22330-121">Ställ in nyckelvalv för säkerhet</span><span class="sxs-lookup"><span data-stu-id="22330-121">Set up a key vault for security</span></span>
-   <span data-ttu-id="22330-122">Tilldela användare tooroles</span><span class="sxs-lookup"><span data-stu-id="22330-122">Assign users tooroles</span></span>


## <a name="best-practices-for-securing-your-cluster"></a><span data-ttu-id="22330-123">Metodtips för att skydda klustret</span><span class="sxs-lookup"><span data-stu-id="22330-123">Best practices for securing your cluster</span></span>

<span data-ttu-id="22330-124">**Stor bild**</span><span class="sxs-lookup"><span data-stu-id="22330-124">**Big Picture**</span></span>

<span data-ttu-id="22330-125">Använd alltid en säker kluster</span><span class="sxs-lookup"><span data-stu-id="22330-125">Always use a secure cluster</span></span>
-   <span data-ttu-id="22330-126">Klustret säkerhet – använder certifikat</span><span class="sxs-lookup"><span data-stu-id="22330-126">Cluster security – use Certificates</span></span>
-   <span data-ttu-id="22330-127">Klientåtkomst (Admin och skrivskyddad) – Använd AAD</span><span class="sxs-lookup"><span data-stu-id="22330-127">Client access (Admin and Read only) – use AAD</span></span>

<span data-ttu-id="22330-128">Använd automatiserad distribution</span><span class="sxs-lookup"><span data-stu-id="22330-128">Use automated deployments</span></span>
-   <span data-ttu-id="22330-129">Använda skript toogenerate, distribuera och rulla över hemligheter</span><span class="sxs-lookup"><span data-stu-id="22330-129">Use scripts toogenerate, deploy and, roll over secrets</span></span>
-   <span data-ttu-id="22330-130">Tänk KV hello hemligheter, använda AD för andra klientåtkomst</span><span class="sxs-lookup"><span data-stu-id="22330-130">Keep hello secrets in KV, use AD for all other client access</span></span>
-   <span data-ttu-id="22330-131">Inga mänskliga ska ha åtkomst toothem utan autentisering.</span><span class="sxs-lookup"><span data-stu-id="22330-131">No human should have access toothem without authentication.</span></span>

<span data-ttu-id="22330-132">Tänk dessutom hello följande:</span><span class="sxs-lookup"><span data-stu-id="22330-132">Additionally, consider hello following:</span></span>
-   <span data-ttu-id="22330-133">Skapa DMZs med Nätverkssäkerhetsgrupper (NSG: er)</span><span class="sxs-lookup"><span data-stu-id="22330-133">Create DMZs using Network Security Groups (NSGs)</span></span>
-   <span data-ttu-id="22330-134">Använd hopp servrar tooRDP till virtuella datorer i klustret eller toomanage klustret</span><span class="sxs-lookup"><span data-stu-id="22330-134">Use Jump servers tooRDP into cluster VMs or toomanage your cluster</span></span>

<span data-ttu-id="22330-135">Kluster måste vara skyddad tooprevent obehöriga användare från att ansluta tooyour kluster, särskilt när den har produktionsarbetsbelastningar som körs på den.</span><span class="sxs-lookup"><span data-stu-id="22330-135">Clusters must be secured tooprevent unauthorized users from connecting tooyour cluster, especially when it has production workloads running on it.</span></span> <span data-ttu-id="22330-136">Även om det är möjligt toocreate ett oskyddat kluster på så sätt kan anonyma användare tooconnect tooit, om det visar management slutpunkter toohello offentliga Internet.</span><span class="sxs-lookup"><span data-stu-id="22330-136">Although it is possible toocreate an unsecured cluster, doing so allows anonymous users tooconnect tooit, if it exposes management endpoints toohello public Internet.</span></span>

<span data-ttu-id="22330-137">Tekniker som används tooimplement dessa scenarier.</span><span class="sxs-lookup"><span data-stu-id="22330-137">Technologies used tooimplement those scenarios.</span></span> <span data-ttu-id="22330-138">Hej [kluster säkerhetsscenarier](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) är:</span><span class="sxs-lookup"><span data-stu-id="22330-138">hello [cluster security scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) are:</span></span>

-   <span data-ttu-id="22330-139">Nod till nod säkerhet – denna skyddar kommunikationen mellan hello virtuella datorer och datorer i hello-klustret.</span><span class="sxs-lookup"><span data-stu-id="22330-139">Node-to-node security- This secures communication between hello VMs and computers in hello cluster.</span></span> <span data-ttu-id="22330-140">Detta säkerställer att endast datorer som är auktoriserade toojoin hello klustret kan delta i värd för program och tjänster i hello kluster.</span><span class="sxs-lookup"><span data-stu-id="22330-140">This ensures that only computers that are authorized toojoin hello cluster can participate in hosting applications and services in hello cluster.</span></span>
<span data-ttu-id="22330-141">Kluster som körs på Azure eller fristående kluster som körs på Windows kan använda antingen [Certifikatsäkerhet](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) eller [Windows-säkerhet](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) för Windows Server-datorer.</span><span class="sxs-lookup"><span data-stu-id="22330-141">Clusters running on Azure or standalone clusters running on Windows can use either [Certificate Security](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) or [Windows Security](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) for Windows Server machines.</span></span>
-   <span data-ttu-id="22330-142">Klient-till-nod säkerhet – denna skyddar kommunikationen mellan en klient för Service Fabric och enskilda noder i klustret hello.</span><span class="sxs-lookup"><span data-stu-id="22330-142">Client-to-node security- This secures communication between a Service Fabric client and individual nodes in hello cluster.</span></span>
-   <span data-ttu-id="22330-143">Rollbaserad åtkomstkontroll (RBAC) – du anger Hej administratör och klienten användarroller Hej när klustret skapas med olika identiteter (certifikat, AAD etc.) för varje.</span><span class="sxs-lookup"><span data-stu-id="22330-143">Role-based access control (RBAC) - You specify hello administrator and user client roles at hello time of cluster creation by providing separate identities (certificates, AAD etc.) for each.</span></span>
-   <span data-ttu-id="22330-144">Säkerhetsrekommendationer-för Azure-kluster, rekommenderas att du använder AAD säkerhet tooauthenticate klienter och certifikat för nod till nod säkerhet.</span><span class="sxs-lookup"><span data-stu-id="22330-144">Security Recommendations-For Azure clusters, it is recommended that you use AAD security tooauthenticate clients and certificates for node-to-node security.</span></span>

<span data-ttu-id="22330-145">tooconfigure hello fristående Windows-kluster, se [konfigurera inställningar för windows-kluster för fristående](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span><span class="sxs-lookup"><span data-stu-id="22330-145">tooconfigure hello standalone Windows cluster, see [configure settings for standalone windows cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span></span>

<span data-ttu-id="22330-146">Använda mallar för Azure Resource Manager och Service Fabric Azure PowerShell-modulen toocreate säker klustret.</span><span class="sxs-lookup"><span data-stu-id="22330-146">Use Azure Resource Manager templates and Service Fabric Azure PowerShell Module toocreate secure cluster.</span></span>
<span data-ttu-id="22330-147">En stegvis guide får du hjälp med att skapa en säker Azure Service Fabric-kluster i Azure med Azure Resource Manager finns [här](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span><span class="sxs-lookup"><span data-stu-id="22330-147">A step-by-step guide walks you through setting up a secure Azure Service Fabric cluster in Azure by using Azure Resource Manager is available [here](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span></span>

<span data-ttu-id="22330-148">Använd hello Azure Resource Manager-mall toocustomize klustret</span><span class="sxs-lookup"><span data-stu-id="22330-148">Use hello Azure Resource Manager template toocustomize your cluster</span></span>
-   <span data-ttu-id="22330-149">Installationsprogrammet hanteras lagringsutrymme för VM virtuella hårddiskar</span><span class="sxs-lookup"><span data-stu-id="22330-149">Setup-managed storage for VM VHDs</span></span>

<span data-ttu-id="22330-150">Använd hello Azure Resource Manager-mall toodrive ändringar tooyour resursgruppen.</span><span class="sxs-lookup"><span data-stu-id="22330-150">Use hello Azure Resource Manager template toodrive changes tooyour Resource Group</span></span>
-   <span data-ttu-id="22330-151">Enkelt konfigurationshantering</span><span class="sxs-lookup"><span data-stu-id="22330-151">Easy configuration management</span></span>
-   <span data-ttu-id="22330-152">Granskning</span><span class="sxs-lookup"><span data-stu-id="22330-152">Auditing</span></span>

<span data-ttu-id="22330-153">Hantera klusterkonfigurationen som kod</span><span class="sxs-lookup"><span data-stu-id="22330-153">Treat your cluster configuration as Code</span></span>
-   <span data-ttu-id="22330-154">Att ha planerat noggrant i kontrollerar hello-konfigurationer som du väljer toodeploy</span><span class="sxs-lookup"><span data-stu-id="22330-154">Be thorough in checking hello configurations you choose toodeploy</span></span>
-   <span data-ttu-id="22330-155">Undvik att använda implicita kommandon tootweak dina resurser direkt</span><span class="sxs-lookup"><span data-stu-id="22330-155">Avoid using implicit commands tootweak your resources directly</span></span>

<span data-ttu-id="22330-156">Många aspekter av hello [Service Fabric application livscykel](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) kan automatiseras.</span><span class="sxs-lookup"><span data-stu-id="22330-156">Many aspects of hello [Service Fabric application lifecycle](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) can be automated.</span></span> <span data-ttu-id="22330-157">[Service Fabric Azure PowerShell-modulen](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automatiserar vanliga uppgifter för att distribuera, uppgradera, ta bort och testa Azure Service Fabric-program.</span><span class="sxs-lookup"><span data-stu-id="22330-157">[Service Fabric Azure PowerShell Module](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automates common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span> <span data-ttu-id="22330-158">Hanteras och HTTP-APIs för apphantering finns också tillgängliga.</span><span class="sxs-lookup"><span data-stu-id="22330-158">Managed and HTTP APIs for app management are also available.</span></span>

## <a name="use-x509-certificates"></a><span data-ttu-id="22330-159">Använd X.509-certifikat</span><span class="sxs-lookup"><span data-stu-id="22330-159">Use X.509 certificates</span></span>
<span data-ttu-id="22330-160">Kluster bör alltid säkras med X.509-certifikat eller Windows-säkerhet.</span><span class="sxs-lookup"><span data-stu-id="22330-160">Clusters should always be secured using X.509 certificates or Windows security.</span></span> <span data-ttu-id="22330-161">Säkerheten är bara konfigurerad vid tidpunkten för skapandet av klustret och den är inte möjligt tooenable säkerhet hello klustret har skapats.</span><span class="sxs-lookup"><span data-stu-id="22330-161">Security is only configured at cluster creation time and it is not possible tooenable security after hello cluster is created.</span></span>

<span data-ttu-id="22330-162">Om du anger en [klustret certifikat](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), ange ClusterCredentialType tooX509 hello-värde.</span><span class="sxs-lookup"><span data-stu-id="22330-162">If you are specifying a [cluster certificate](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), set hello value of ClusterCredentialType tooX509.</span></span> <span data-ttu-id="22330-163">Ange hello ServerCredentialType tooX509 om du anger servercertifikat för externa anslutningar.</span><span class="sxs-lookup"><span data-stu-id="22330-163">If you are specifying server certificate for outside connections, set hello ServerCredentialType tooX509.</span></span>

-   <span data-ttu-id="22330-164">Certifikat som används i kluster som kör produktionsarbetsbelastningar ska skapas med hjälp av en korrekt konfigurerade tjänsten för Windows Server-certifikat eller erhålls från en godkänd certifikatutfärdare (CA).</span><span class="sxs-lookup"><span data-stu-id="22330-164">Certificates used in clusters running production workloads should be created by using a correctly configured Windows Server certificate service or obtained from an approved Certificate Authority (CA).</span></span>
-   <span data-ttu-id="22330-165">Använd aldrig några tillfälligt eller testa certifikat i produktion som skapas med verktyg som MakeCert.exe.</span><span class="sxs-lookup"><span data-stu-id="22330-165">Never use any temporary or test certificates in production that are created with tools such as MakeCert.exe.</span></span>
-   <span data-ttu-id="22330-166">Du kan använda ett självsignerat certifikat, men det bör bara göra det för testkluster och inte i produktion.</span><span class="sxs-lookup"><span data-stu-id="22330-166">You can use a self-signed certificate, but should only do so for test clusters and not in production.</span></span>

<span data-ttu-id="22330-167">Om hello kluster är oskyddat.</span><span class="sxs-lookup"><span data-stu-id="22330-167">If hello cluster is unsecure.</span></span> <span data-ttu-id="22330-168">Vem som helst kan ansluta anonymt och utföra hanteringsåtgärder, så produktionskluster bör alltid skyddas med X.509-certifikat eller Windows-säkerhet.</span><span class="sxs-lookup"><span data-stu-id="22330-168">Anyone can connect anonymously and perform management operations, so production clusters should always be secured using X.509 certificates or Windows security.</span></span>

<span data-ttu-id="22330-169">toolearn mer hur tooenable certifikat i service fabric-kluster finns [lägga till eller ta bort certifikat för service fabric-kluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span><span class="sxs-lookup"><span data-stu-id="22330-169">toolearn more how tooenable certificates in service fabric cluster see, [add or remove certificates for a service fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span></span>

## <a name="configure-security-policies"></a><span data-ttu-id="22330-170">Konfigurera säkerhetsprinciper</span><span class="sxs-lookup"><span data-stu-id="22330-170">Configure security policies</span></span>
<span data-ttu-id="22330-171">Service Fabric hjälper också till att säkra hello-resurser som används av program när hello distribution under hello användarkonton – till exempel, filer, kataloger och certifikat.</span><span class="sxs-lookup"><span data-stu-id="22330-171">Service Fabric also helps secure hello resources that are used by applications at hello time of deployment under hello user accounts--for example, files, directories, and certificates.</span></span> <span data-ttu-id="22330-172">Det gör att program som körs, även i en delad värdmiljö säkrare från varandra.</span><span class="sxs-lookup"><span data-stu-id="22330-172">This makes running applications, even in a shared hosted environment, more secure from one another.</span></span>

-   <span data-ttu-id="22330-173">Använda en Active Directory-domän, grupp eller användare: du kan köra hello tjänsten hello autentiseringsuppgifterna för ett Active Directory-användare eller grupp..</span><span class="sxs-lookup"><span data-stu-id="22330-173">Use an Active Directory domain group or user: You can run hello service under hello credentials for an Active Directory user or group account.</span></span> <span data-ttu-id="22330-174">Detta är Active Directory lokalt i din domän och är inte med Azure Active Directory (AD Azure).</span><span class="sxs-lookup"><span data-stu-id="22330-174">This is Active Directory on-premises within your domain and is not with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="22330-175">Genom att använda en domänanvändare eller grupp kan du sedan komma åt andra resurser i hello domän (till exempel filresurser) som har behörighet.</span><span class="sxs-lookup"><span data-stu-id="22330-175">By using a domain user or group, you can then access other resources in hello domain (for example, file shares) that have been granted permissions.</span></span>

-   <span data-ttu-id="22330-176">Tilldela en säkerhetsprincip åtkomst för HTTP och HTTPS-slutpunkter: Om du använder en RunAs-princip tooa tjänst och hello tjänstmanifestet deklarerar endpoint resurser med hello HTTP-protokollet, måste du ange en SecurityAccessPolicy tooensure att portar allokeras toothese slutpunkter är korrekt åtkomst-kontrolleras för hello RunAs-konto som hello-tjänsten körs under.</span><span class="sxs-lookup"><span data-stu-id="22330-176">Assign a security access policy for HTTP and HTTPS endpoints: If you apply a RunAs policy tooa service and hello service manifest declares endpoint resources with hello HTTP protocol, you must specify a SecurityAccessPolicy tooensure that ports allocated toothese endpoints are correctly access-controlled listed for hello RunAs user account that hello service runs under.</span></span> <span data-ttu-id="22330-177">Annars http.sys har inte åtkomst toohello tjänsten och du får fel med anrop från hello-klient.</span><span class="sxs-lookup"><span data-stu-id="22330-177">Otherwise, http.sys does not have access toohello service, and you get failures with calls from hello client.</span></span>
<span data-ttu-id="22330-178">toolearn mer aktivera säkerhetsprinciper i service fabric finns [konfigurera säkerhetsprinciper för ditt program](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span><span class="sxs-lookup"><span data-stu-id="22330-178">toolearn more enable security policies in service fabric see, [configure security policies for your application](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span></span>

## <a name="reliable-actors-security-configuration"></a><span data-ttu-id="22330-179">Tillförlitliga aktörer säkerhetskonfiguration</span><span class="sxs-lookup"><span data-stu-id="22330-179">Reliable Actors security configuration</span></span>
<span data-ttu-id="22330-180">Service Fabric Reliable Actors är en implementering av hello aktören designmönstret.</span><span class="sxs-lookup"><span data-stu-id="22330-180">Service Fabric Reliable Actors is an implementation of hello actor design pattern.</span></span> <span data-ttu-id="22330-181">Precis som med alla programvara designmönstret passar hello beslut om görs toouse ett specifikt mönster baserat på om huruvida en programvara utforma problemet hello mönster.</span><span class="sxs-lookup"><span data-stu-id="22330-181">As with any software design pattern, hello decision whether toouse a specific pattern is made based on whether or not a software design problem fits hello pattern.</span></span>

<span data-ttu-id="22330-182">Som en allmän vägledning Tänk hello aktören mönster toomodel ditt problem eller scenario om:</span><span class="sxs-lookup"><span data-stu-id="22330-182">As general guidance, consider hello actor pattern toomodel your problem or scenario if:</span></span>
-   <span data-ttu-id="22330-183">Sidan problem innebär att ett stort antal (tusentalsavgränsare eller mer) liten, oberoende och isolerade enheter av tillstånd och logik.</span><span class="sxs-lookup"><span data-stu-id="22330-183">Your problem space involves a large number (thousands or more) of small, independent, and isolated units of state and logic.</span></span>
-   <span data-ttu-id="22330-184">Vill du toowork med Enkeltrådig objekt som inte kräver betydande interaktion från externa komponenter, inklusive frågor tillstånd på en uppsättning aktörer.</span><span class="sxs-lookup"><span data-stu-id="22330-184">You want toowork with single-threaded objects that do not require significant interaction from external components, including querying state across a set of actors.</span></span>
-   <span data-ttu-id="22330-185">Aktören-instanser blockera inte anropare med oväntade fördröjningar genom att utfärda o-åtgärder.</span><span class="sxs-lookup"><span data-stu-id="22330-185">Your actor instances won't block callers with unpredictable delays by issuing I/O operations.</span></span>

<span data-ttu-id="22330-186">I Service Fabric aktörer implementeras i hello Reliable Actors framework: ett programramverk för aktören-mönster-baserade byggt ovanpå [Service Fabric Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span><span class="sxs-lookup"><span data-stu-id="22330-186">In Service Fabric, actors are implemented in hello Reliable Actors framework: An actor-pattern-based application framework built on top of [Service Fabric Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span></span> <span data-ttu-id="22330-187">Varje tillförlitliga aktören-tjänst som du skriver är faktiskt en partitionerad tillståndskänslig tillförlitlig tjänst.</span><span class="sxs-lookup"><span data-stu-id="22330-187">Each Reliable Actor service you write is actually a partitioned, stateful Reliable Service.</span></span>
<span data-ttu-id="22330-188">Varje aktören har definierats som en instans av en aktörstyp av, identiska toohello sätt en .NET-objekt är en instans av en .NET-typen.</span><span class="sxs-lookup"><span data-stu-id="22330-188">Every actor is defined as an instance of an actor type, identical toohello way a .NET object is an instance of a .NET type.</span></span> <span data-ttu-id="22330-189">Till exempel kan det finnas en aktörstyp som implementerar hello funktionerna i en kalkylator och det kan finnas flera aktörer av den typen som distribueras på olika noder i ett kluster.</span><span class="sxs-lookup"><span data-stu-id="22330-189">For example, there may be an actor type that implements hello functionality of a calculator and there could be many actors of that type that are distributed on various nodes across a cluster.</span></span> <span data-ttu-id="22330-190">Varje sådan aktören identifieras unikt genom ett aktören-ID.</span><span class="sxs-lookup"><span data-stu-id="22330-190">Each such actor is uniquely identified by an actor ID.</span></span>

<span data-ttu-id="22330-191">[Replikatorn säkerhetskonfigurationer](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) är används toosecure hello kommunikationskanalen som används vid replikering.</span><span class="sxs-lookup"><span data-stu-id="22330-191">[Replicator security configurations](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="22330-192">Det innebär att tjänster inte kan se varandras replikeringstrafik, säkerställer att hello data som görs högtillgänglig också säker.</span><span class="sxs-lookup"><span data-stu-id="22330-192">This means that services cannot see each other's replication traffic, ensuring that hello data that is made highly available is also secure.</span></span> <span data-ttu-id="22330-193">Som standard förhindrar en tom säkerhetskonfigurationsavsnittet replikeringssäkerhet.</span><span class="sxs-lookup"><span data-stu-id="22330-193">By default, an empty security configuration section prevents replication security.</span></span>
<span data-ttu-id="22330-194">Konfigurationer för replikatorn konfigurera hello replikatorn som ansvarar för att göra hello aktören Tillståndsprovidern tillstånd hög tillförlitlig.</span><span class="sxs-lookup"><span data-stu-id="22330-194">Replicator configurations configure hello replicator that is responsible for making hello Actor State Provider state highly reliable.</span></span>

## <a name="configure-ssl-for-azure-service-fabric"></a><span data-ttu-id="22330-195">Konfigurera SSL för Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="22330-195">Configure SSL for Azure Service Fabric</span></span>

<span data-ttu-id="22330-196">Serverautentisering: [verifierar](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) hello cluster management slutpunkter tooa management-klienten så att hello Hanteringsklient vet pratar toohello verkliga klustret.</span><span class="sxs-lookup"><span data-stu-id="22330-196">Server authentication: [Authenticates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) hello cluster management endpoints tooa management client, so that hello management client knows it is talking toohello real cluster.</span></span> <span data-ttu-id="22330-197">Det här certifikatet ger också en [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) för hello HTTPS hanterings-API och för Service Fabric Explorer via HTTPS.</span><span class="sxs-lookup"><span data-stu-id="22330-197">This certificate also provides an [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) for hello HTTPS management API and for Service Fabric Explorer over HTTPS.</span></span>
<span data-ttu-id="22330-198">Du måste skaffa ett anpassat domännamn för klustret.</span><span class="sxs-lookup"><span data-stu-id="22330-198">You must obtain a custom domain name for your cluster.</span></span> <span data-ttu-id="22330-199">När du begär ett certifikat från en Certifikatutfärdare måste hello certifikatets ämnesnamn matcha hello domännamn som du använder för klustret.</span><span class="sxs-lookup"><span data-stu-id="22330-199">When you request a certificate from a CA, hello certificate's subject name must match hello custom domain name that you use for your cluster.</span></span>

<span data-ttu-id="22330-200">tooconfigure SSL för ett program måste du först tooget ett SSL-certifikat som har signerats av en certifikatet (CA), en betrodd tredje part som utfärdar certifikat för detta ändamål.</span><span class="sxs-lookup"><span data-stu-id="22330-200">tooconfigure SSL for an application, you first need tooget an SSL certificate that has been signed by a Certificate Authority (CA), a trusted third party who issues certificates for this purpose.</span></span> <span data-ttu-id="22330-201">Om du inte redan har en, måste tooobtain något på ett företag som säljer SSL-certifikat.</span><span class="sxs-lookup"><span data-stu-id="22330-201">If you do not already have one, you need tooobtain one from a company that sells SSL certificates.</span></span>

<span data-ttu-id="22330-202">hello certifikat måste uppfylla följande krav för SSL-certifikat i Azure hello:</span><span class="sxs-lookup"><span data-stu-id="22330-202">hello certificate must meet hello following requirements for SSL certificates in Azure:</span></span>
-   <span data-ttu-id="22330-203">hello certifikatet måste innehålla en privat nyckel.</span><span class="sxs-lookup"><span data-stu-id="22330-203">hello certificate must contain a private key.</span></span>
-   <span data-ttu-id="22330-204">hello certifikat måste skapas för nyckelutbyte, exportera tooa Personal Information Exchange (.pfx)-fil.</span><span class="sxs-lookup"><span data-stu-id="22330-204">hello certificate must be created for key exchange, exportable tooa Personal Information Exchange (.pfx) file.</span></span>
-   <span data-ttu-id="22330-205">hello måste certifikatets ämnesnamn matcha hello domän används tooaccess hello-Molntjänsten.</span><span class="sxs-lookup"><span data-stu-id="22330-205">hello certificate's subject name must match hello domain used tooaccess hello cloud service.</span></span> <span data-ttu-id="22330-206">Du kan skaffa ett SSL-certifikat från en certifikatutfärdare (CA) för hello cloudapp.net domän.</span><span class="sxs-lookup"><span data-stu-id="22330-206">You cannot obtain an SSL certificate from a certificate authority (CA) for hello cloudapp.net domain.</span></span> <span data-ttu-id="22330-207">Du måste skaffa en anpassad domän namnet toouse när komma åt tjänsten.</span><span class="sxs-lookup"><span data-stu-id="22330-207">You must acquire a custom domain name toouse when access your service.</span></span> <span data-ttu-id="22330-208">När du begär ett certifikat från en Certifikatutfärdare måste hello certifikatets ämnesnamn matcha hello domänen namnet som används för tooaccess ditt program.</span><span class="sxs-lookup"><span data-stu-id="22330-208">When you request a certificate from a CA, hello certificate's subject name must match hello custom domain name used tooaccess your application.</span></span> <span data-ttu-id="22330-209">Till exempel om ditt domännamn är contoso.com du vill begära ett certifikat från Certifikatutfärdaren för **. contoso.com** eller **www.contoso.com.**</span><span class="sxs-lookup"><span data-stu-id="22330-209">For example, if your custom domain name is contoso.com you would request a certificate from your CA for **.contoso.com** or **www.contoso.com.**</span></span>
-   <span data-ttu-id="22330-210">hello certifikat måste använda minst 2048-bitars kryptering.</span><span class="sxs-lookup"><span data-stu-id="22330-210">hello certificate must use a minimum of 2048-bit encryption.</span></span>

<span data-ttu-id="22330-211">HTTP är osäker och ämne tooeavesdropping attacker eftersom hello data som överförs från hello webbläsare toohello web webbserver eller mellan slutpunkter, skickas i klartext.</span><span class="sxs-lookup"><span data-stu-id="22330-211">HTTP is insecure and is subject tooeavesdropping attacks because hello data being transferred from hello web browser toohello web server or between other endpoints, is transmitted in plaintext.</span></span> <span data-ttu-id="22330-212">Det innebär att angripare kan komma åt och visa känsliga data, till exempel kreditkortsinformation och inloggningar på kontot.</span><span class="sxs-lookup"><span data-stu-id="22330-212">This means attackers can intercept and view sensitive data, such as credit card details and account logins.</span></span> <span data-ttu-id="22330-213">När data skickas eller anslås via en webbläsare med hjälp av HTTPS, säkerställer SSL att sådan information är krypterad och säker obehöriga.</span><span class="sxs-lookup"><span data-stu-id="22330-213">When data is sent or posted through a browser using HTTPS, SSL ensures that such information is encrypted and secure from interception.</span></span>

<span data-ttu-id="22330-214">Det finns fler toolearn, [Konfigurera SSL för azure-program](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span><span class="sxs-lookup"><span data-stu-id="22330-214">toolearn more, see, [Configure SSL for azure application](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span></span>

## <a name="network-isolationsecurity-with-azure-service-fabric"></a><span data-ttu-id="22330-215">Isolerade/nätverkssäkerhet med Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="22330-215">Network Isolation/Security with Azure Service Fabric</span></span>
<span data-ttu-id="22330-216">Använd [Azure Resource Manager (ARM) mallen](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) som ett exempel för att ställa in tre nodetype säker klustret och toocontrol hello inkommande och utgående nätverkstrafik med Nätverkssäkerhetsgrupper.</span><span class="sxs-lookup"><span data-stu-id="22330-216">Use [Azure Resource Manager (ARM) template](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) as a sample for setting up a three nodetype secure cluster and toocontrol hello inbound and outbound network traffic using Network Security Groups.</span></span>

<span data-ttu-id="22330-217">hello-mallen innehåller en Nätverkssäkerhetsgrupp för varje hello skala set(VMSS) toocontrol hello trafik för virtuella datorer till och från hello VMSS.</span><span class="sxs-lookup"><span data-stu-id="22330-217">hello template has a Network Security Group for each of hello virtual machine scale set(VMSS) toocontrol hello traffic in and out of hello VMSS.</span></span> <span data-ttu-id="22330-218">Som standard anges hello regler tooallow alla hello trafik som behövs av hello system tjänster och hello programmet portar som angetts i hello mallen.</span><span class="sxs-lookup"><span data-stu-id="22330-218">As a default, hello rules are set up tooallow all hello traffic needed by hello system services and hello application ports specified in hello template.</span></span> <span data-ttu-id="22330-219">Granska de här reglerna och gör ändringar toofit dina behov, inklusive lägga till nya för dina program.</span><span class="sxs-lookup"><span data-stu-id="22330-219">Review those rules and make changes toofit your needs, including add any new ones for your applications.</span></span>

<span data-ttu-id="22330-220">Mer information finns i [Azure Service Fabric – vanliga scenarier för nätverk](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span><span class="sxs-lookup"><span data-stu-id="22330-220">For more information, see [Azure Service Fabric – Common Networking Scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span></span>

## <a name="set-up-a-key-vault-for-security"></a><span data-ttu-id="22330-221">Ställ in nyckelvalv för säkerhet</span><span class="sxs-lookup"><span data-stu-id="22330-221">Set up a key vault for security</span></span>
<span data-ttu-id="22330-222">Certifikat används i Service Fabric tooprovide autentisering och kryptering toosecure olika aspekter av ett kluster och dess program.</span><span class="sxs-lookup"><span data-stu-id="22330-222">Certificates are used in Service Fabric tooprovide authentication and encryption toosecure various aspects of a cluster and its applications.</span></span>

<span data-ttu-id="22330-223">Service Fabric använder X.509-certifikat toosecure ett kluster och säkerhetsfunktioner för programmet.</span><span class="sxs-lookup"><span data-stu-id="22330-223">Service Fabric uses X.509 certificates toosecure a cluster and provide application security features.</span></span> <span data-ttu-id="22330-224">Du kan använda Key Vault för[hantera certifikat](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) för Service Fabric-kluster i Azure.</span><span class="sxs-lookup"><span data-stu-id="22330-224">You use Key Vault too[manage certificates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) for Service Fabric clusters in Azure.</span></span> <span data-ttu-id="22330-225">När ett kluster distribueras i Azure hämtar certifikat från Nyckelvalvet hello Azure-resursprovider som ansvarar för att skapa Service Fabric-kluster och installerar dem på hello klustrets virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="22330-225">When a cluster is deployed in Azure, hello Azure resource provider that's responsible for creating Service Fabric clusters pulls certificates from Key Vault and installs them on hello cluster VMs.</span></span>

<span data-ttu-id="22330-226">Hej förhållandet mellan [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), service fabric-kluster och hello Azure-resursprovider som använder certifikat som lagras i en nyckelvalvet när den skapar ett kluster.</span><span class="sxs-lookup"><span data-stu-id="22330-226">hello relationship between [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), a service fabric cluster, and hello Azure resource provider that uses certificates stored in a key vault when it creates a cluster.</span></span>

<span data-ttu-id="22330-227">**Skapa en resursgrupp** hello första steget är toocreate en resursgrupp för nyckelvalvet.</span><span class="sxs-lookup"><span data-stu-id="22330-227">**Create a resource group** hello first step is toocreate a resource group specifically for your key vault.</span></span> <span data-ttu-id="22330-228">Vi rekommenderar att du placerar hello nyckelvalv i sin egen resursgrupp.</span><span class="sxs-lookup"><span data-stu-id="22330-228">We recommend that you put hello key vault into its own resource group.</span></span> <span data-ttu-id="22330-229">Den här åtgärden kan du ta bort hello beräkning och lagring resursgrupper, inklusive hello resursgruppen som innehåller Service Fabric-klustret utan att förlora dina nycklar och hemligheter.</span><span class="sxs-lookup"><span data-stu-id="22330-229">This action lets you remove hello compute and storage resource groups, including hello resource group that contains your Service Fabric cluster, without losing your keys and secrets.</span></span> <span data-ttu-id="22330-230">hello resursgruppen som innehåller ditt nyckelvalv måste vara i hello samma region som hello-kluster som använder den.</span><span class="sxs-lookup"><span data-stu-id="22330-230">hello resource group that contains your key vault must be in hello same region as hello cluster that is using it.</span></span>

<span data-ttu-id="22330-231">**Skapa en nyckelvalvet i hello ny resursgrupp** hello nyckelvalv måste vara aktiverat för distribution tooallow hello beräkning resource provider tooget certifikat från den och installera det på instanser för virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="22330-231">**Create a key vault in hello new resource group** hello key vault must be enabled for deployment tooallow hello compute resource provider tooget certificates from it and install it on virtual machine instances.</span></span>
<span data-ttu-id="22330-232">toolearn mer hur tooset upp Azure key vault finns [Kom igång med Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span><span class="sxs-lookup"><span data-stu-id="22330-232">toolearn more how tooset up Azure key vault see, [Get started with Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span></span>

## <a name="assign-users-roles"></a><span data-ttu-id="22330-233">Tilldela användarroller</span><span class="sxs-lookup"><span data-stu-id="22330-233">Assign users roles</span></span>
<span data-ttu-id="22330-234">När du har skapat hello program toorepresent klustret, tilldela dina användare toohello roller som stöds av Service Fabric: skrivskyddade och administratör. Du kan tilldela hello roller med hjälp av hello klassiska Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="22330-234">After you have created hello applications toorepresent your cluster, assign your users toohello roles supported by Service Fabric: read-only and admin. You can assign hello roles by using hello Azure classic portal.</span></span>

>[!Note]
> <span data-ttu-id="22330-235">Mer information om roller i Service Fabric finns [rollbaserad åtkomstkontroll för Service Fabric-klienter](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span><span class="sxs-lookup"><span data-stu-id="22330-235">For more information about roles in Service Fabric, see [Role-based access control for Service Fabric clients](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span></span>

<span data-ttu-id="22330-236">Azure Service Fabric stöder två typer av olika åtkomstkontroll för klienter som är anslutna tooa [Service Fabric-kluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): administratörs- och.</span><span class="sxs-lookup"><span data-stu-id="22330-236">Azure Service Fabric supports two different access control types for clients that are connected tooa [Service Fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): administrator and user.</span></span> <span data-ttu-id="22330-237">Åtkomstkontroll kan Hej administratör toolimit åtkomst toocertain klustret klusteråtgärder för olika grupper av användare, göra hello klustret säkrare.</span><span class="sxs-lookup"><span data-stu-id="22330-237">Access control allows hello cluster administrator toolimit access toocertain cluster operations for different groups of users, making hello cluster more secure.</span></span>

## <a name="next-steps"></a><span data-ttu-id="22330-238">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="22330-238">Next steps</span></span>
- <span data-ttu-id="22330-239">Konfigurera Service Fabric [utvecklingsmiljö](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span><span class="sxs-lookup"><span data-stu-id="22330-239">Setting up your Service Fabric [development environment](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span></span>
- <span data-ttu-id="22330-240">Lär dig mer om [Service Fabric supportalternativ](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span><span class="sxs-lookup"><span data-stu-id="22330-240">Learn about [Service Fabric support options](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span></span>

