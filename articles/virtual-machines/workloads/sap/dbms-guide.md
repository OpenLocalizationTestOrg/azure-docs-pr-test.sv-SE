---
title: "Azure virtuella datorer DBMS-distribution för SAP NetWeaver | Microsoft Docs"
description: "Azure virtuella datorer DBMS-distribution för SAP NetWeaver"
services: virtual-machines-linux,virtual-machines-windows
documentationcenter: 
author: MSSedusch
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: 5654dac7-4204-4387-b312-3d8b2898eb3a
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 11/08/2016
ms.author: sedusch
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 1046d32a0b4b6ede027ef1931314a188c64c94bb
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/29/2017
---
# <a name="azure-virtual-machines-dbms-deployment-for-sap-netweaver"></a><span data-ttu-id="44c29-103">Azure virtuella datorer DBMS-distribution för SAP NetWeaver</span><span class="sxs-lookup"><span data-stu-id="44c29-103">Azure Virtual Machines DBMS deployment for SAP NetWeaver</span></span>
[767598]:https://launchpad.support.sap.com/#/notes/767598
[773830]:https://launchpad.support.sap.com/#/notes/773830
[826037]:https://launchpad.support.sap.com/#/notes/826037
[965908]:https://launchpad.support.sap.com/#/notes/965908
[1031096]:https://launchpad.support.sap.com/#/notes/1031096
[1114181]:https://launchpad.support.sap.com/#/notes/1114181
[1139904]:https://launchpad.support.sap.com/#/notes/1139904
[1173395]:https://launchpad.support.sap.com/#/notes/1173395
[1245200]:https://launchpad.support.sap.com/#/notes/1245200
[1409604]:https://launchpad.support.sap.com/#/notes/1409604
[1558958]:https://launchpad.support.sap.com/#/notes/1558958
[1585981]:https://launchpad.support.sap.com/#/notes/1585981
[1588316]:https://launchpad.support.sap.com/#/notes/1588316
[1590719]:https://launchpad.support.sap.com/#/notes/1590719
[1597355]:https://launchpad.support.sap.com/#/notes/1597355
[1605680]:https://launchpad.support.sap.com/#/notes/1605680
[1619720]:https://launchpad.support.sap.com/#/notes/1619720
[1619726]:https://launchpad.support.sap.com/#/notes/1619726
[1619967]:https://launchpad.support.sap.com/#/notes/1619967
[1750510]:https://launchpad.support.sap.com/#/notes/1750510
[1752266]:https://launchpad.support.sap.com/#/notes/1752266
[1757924]:https://launchpad.support.sap.com/#/notes/1757924
[1757928]:https://launchpad.support.sap.com/#/notes/1757928
[1758182]:https://launchpad.support.sap.com/#/notes/1758182
[1758496]:https://launchpad.support.sap.com/#/notes/1758496
[1772688]:https://launchpad.support.sap.com/#/notes/1772688
[1814258]:https://launchpad.support.sap.com/#/notes/1814258
[1882376]:https://launchpad.support.sap.com/#/notes/1882376
[1909114]:https://launchpad.support.sap.com/#/notes/1909114
[1922555]:https://launchpad.support.sap.com/#/notes/1922555
[1928533]:https://launchpad.support.sap.com/#/notes/1928533
[1941500]:https://launchpad.support.sap.com/#/notes/1941500
[1956005]:https://launchpad.support.sap.com/#/notes/1956005
[1973241]:https://launchpad.support.sap.com/#/notes/1973241
[1984787]:https://launchpad.support.sap.com/#/notes/1984787
[1999351]:https://launchpad.support.sap.com/#/notes/1999351
[2002167]:https://launchpad.support.sap.com/#/notes/2002167
[2015553]:https://launchpad.support.sap.com/#/notes/2015553
[2039619]:https://launchpad.support.sap.com/#/notes/2039619
[2069760]:https://launchpad.support.sap.com/#/notes/2069760
[2121797]:https://launchpad.support.sap.com/#/notes/2121797
[2134316]:https://launchpad.support.sap.com/#/notes/2134316
[2171857]:https://launchpad.support.sap.com/#/notes/2171857
[2178632]:https://launchpad.support.sap.com/#/notes/2178632
[2191498]:https://launchpad.support.sap.com/#/notes/2191498
[2233094]:https://launchpad.support.sap.com/#/notes/2233094
[2243692]:https://launchpad.support.sap.com/#/notes/2243692

[azure-cli]:../../../cli-install-nodejs.md
[azure-portal]:https://portal.azure.com
[azure-ps]:/powershell/azureps-cmdlets-docs
[azure-quickstart-templates-github]:https://github.com/Azure/azure-quickstart-templates
[azure-script-ps]:https://go.microsoft.com/fwlink/p/?LinkID=395017
[azure-subscription-service-limits]:../../../azure-subscription-service-limits.md
[azure-subscription-service-limits-subscription]:../../../azure-subscription-service-limits.md#subscription-limits

[dbms-guide]:dbms-guide.md 
[dbms-guide-2.1]:dbms-guide.md#c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f 
[dbms-guide-2.2]:dbms-guide.md#c8e566f9-21b7-4457-9f7f-126036971a91 
[dbms-guide-2.3]:dbms-guide.md#10b041ef-c177-498a-93ed-44b3441ab152 
[dbms-guide-2]:dbms-guide.md#65fa79d6-a85f-47ee-890b-22e794f51a64 
[dbms-guide-3]:dbms-guide.md#871dfc27-e509-4222-9370-ab1de77021c3 
[dbms-guide-5.5.1]:dbms-guide.md#0fef0e79-d3fe-4ae2-85af-73666a6f7268 
[dbms-guide-5.5.2]:dbms-guide.md#f9071eff-9d72-4f47-9da4-1852d782087b 
[dbms-guide-5.6]:dbms-guide.md#1b353e38-21b3-4310-aeb6-a77e7c8e81c8 
[dbms-guide-5.8]:dbms-guide.md#9053f720-6f3b-4483-904d-15dc54141e30 
[dbms-guide-5]:dbms-guide.md#3264829e-075e-4d25-966e-a49dad878737 
[dbms-guide-8.4.1]:dbms-guide.md#b48cfe3b-48e9-4f5b-a783-1d29155bd573 
[dbms-guide-8.4.2]:dbms-guide.md#23c78d3b-ca5a-4e72-8a24-645d141a3f5d 
[dbms-guide-8.4.3]:dbms-guide.md#77cd2fbb-307e-4cbf-a65f-745553f72d2c 
[dbms-guide-8.4.4]:dbms-guide.md#f77c1436-9ad8-44fb-a331-8671342de818 
[dbms-guide-900-sap-cache-server-on-premises]:dbms-guide.md#642f746c-e4d4-489d-bf63-73e80177a0a8
[dbms-guide-managed-disks]:dbms-guide.md#f42c6cb5-d563-484d-9667-b07ae51bce29

[dbms-guide-figure-100]:media/virtual-machines-shared-sap-dbms-guide/100_storage_account_types.png
[dbms-guide-figure-200]:media/virtual-machines-shared-sap-dbms-guide/200-ha-set-for-dbms-ha.png
[dbms-guide-figure-300]:media/virtual-machines-shared-sap-dbms-guide/300-reference-config-iaas.png
[dbms-guide-figure-400]:media/virtual-machines-shared-sap-dbms-guide/400-sql-2012-backup-to-blob-storage.png
[dbms-guide-figure-500]:media/virtual-machines-shared-sap-dbms-guide/500-sql-2012-backup-to-blob-storage-different-containers.png
[dbms-guide-figure-600]:media/virtual-machines-shared-sap-dbms-guide/600-iaas-maxdb.png
[dbms-guide-figure-700]:media/virtual-machines-shared-sap-dbms-guide/700-livecach-prod.png
[dbms-guide-figure-800]:media/virtual-machines-shared-sap-dbms-guide/800-azure-vm-sap-content-server.png
[dbms-guide-figure-900]:media/virtual-machines-shared-sap-dbms-guide/900-sap-cache-server-on-premises.png

[deployment-guide]:deployment-guide.md 
[deployment-guide-2.2]:deployment-guide.md#42ee2bdb-1efc-4ec7-ab31-fe4c22769b94 
[deployment-guide-3.1.2]:deployment-guide.md#3688666f-281f-425b-a312-a77e7db2dfab 
[deployment-guide-3.2]:deployment-guide.md#db477013-9060-4602-9ad4-b0316f8bb281 
[deployment-guide-3.3]:deployment-guide.md#54a1fc6d-24fd-4feb-9c57-ac588a55dff2 
[deployment-guide-3.4]:deployment-guide.md#a9a60133-a763-4de8-8986-ac0fa33aa8c1 
[deployment-guide-3]:deployment-guide.md#b3253ee3-d63b-4d74-a49b-185e76c4088e 
[deployment-guide-4.1]:deployment-guide.md#604bcec2-8b6e-48d2-a944-61b0f5dee2f7 
[deployment-guide-4.2]:deployment-guide.md#7ccf6c3e-97ae-4a7a-9c75-e82c37beb18e 
[deployment-guide-4.3]:deployment-guide.md#31d9ecd6-b136-4c73-b61e-da4a29bbc9cc 
[deployment-guide-4.4.2]:deployment-guide.md#6889ff12-eaaf-4f3c-97e1-7c9edc7f7542 
[deployment-guide-4.4]:deployment-guide.md#c7cbb0dc-52a4-49db-8e03-83e7edc2927d 
[deployment-guide-4.5.1]:deployment-guide.md#987cf279-d713-4b4c-8143-6b11589bb9d4 
[deployment-guide-4.5.2]:deployment-guide.md#408f3779-f422-4413-82f8-c57a23b4fc2f 
[deployment-guide-4.5]:deployment-guide.md#d98edcd3-f2a1-49f7-b26a-07448ceb60ca 
[deployment-guide-5.1]:deployment-guide.md#bb61ce92-8c5c-461f-8c53-39f5e5ed91f2 
[deployment-guide-5.2]:deployment-guide.md#e2d592ff-b4ea-4a53-a91a-e5521edb6cd1
[deployment-guide-5.3]:deployment-guide.md#fe25a7da-4e4e-4388-8907-8abc2d33cfd8 

[deployment-guide-configure-monitoring-scenario-1]:deployment-guide.md#ec323ac3-1de9-4c3a-b770-4ff701def65b 
[deployment-guide-configure-proxy]:deployment-guide.md#baccae00-6f79-4307-ade4-40292ce4e02d 
[deployment-guide-figure-100]:media/virtual-machines-shared-sap-deployment-guide/100-deploy-vm-image.png
[deployment-guide-figure-1000]:media/virtual-machines-shared-sap-deployment-guide/1000-service-properties.png
[deployment-guide-figure-11]:deployment-guide.md#figure-11
[deployment-guide-figure-1100]:media/virtual-machines-shared-sap-deployment-guide/1100-azperflib.png
[deployment-guide-figure-1200]:media/virtual-machines-shared-sap-deployment-guide/1200-cmd-test-login.png
[deployment-guide-figure-1300]:media/virtual-machines-shared-sap-deployment-guide/1300-cmd-test-executed.png
[deployment-guide-figure-14]:deployment-guide.md#figure-14
[deployment-guide-figure-1400]:media/virtual-machines-shared-sap-deployment-guide/1400-azperflib-error-servicenotstarted.png
[deployment-guide-figure-300]:media/virtual-machines-shared-sap-deployment-guide/300-deploy-private-image.png
[deployment-guide-figure-400]:media/virtual-machines-shared-sap-deployment-guide/400-deploy-using-disk.png
[deployment-guide-figure-5]:deployment-guide.md#figure-5
[deployment-guide-figure-50]:media/virtual-machines-shared-sap-deployment-guide/50-forced-tunneling-suse.png
[deployment-guide-figure-500]:media/virtual-machines-shared-sap-deployment-guide/500-install-powershell.png
[deployment-guide-figure-6]:deployment-guide.md#figure-6
[deployment-guide-figure-600]:media/virtual-machines-shared-sap-deployment-guide/600-powershell-version.png
[deployment-guide-figure-7]:deployment-guide.md#figure-7
[deployment-guide-figure-700]:media/virtual-machines-shared-sap-deployment-guide/700-install-powershell-installed.png
[deployment-guide-figure-760]:media/virtual-machines-shared-sap-deployment-guide/760-azure-cli-version.png
[deployment-guide-figure-900]:media/virtual-machines-shared-sap-deployment-guide/900-cmd-update-executed.png
[deployment-guide-figure-azure-cli-installed]:deployment-guide.md#402488e5-f9bb-4b29-8063-1c5f52a892d0
[deployment-guide-figure-azure-cli-version]:deployment-guide.md#0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda
[deployment-guide-install-vm-agent-windows]:deployment-guide.md#b2db5c9a-a076-42c6-9835-16945868e866
[deployment-guide-troubleshooting-chapter]:deployment-guide.md#564adb4f-5c95-4041-9616-6635e83a810b

[deploy-template-cli]:../../../resource-group-template-deploy-cli.md
[deploy-template-portal]:../../../resource-group-template-deploy-portal.md
[deploy-template-powershell]:../../../resource-group-template-deploy.md

[dr-guide-classic]:http://go.microsoft.com/fwlink/?LinkID=521971

[getting-started]:get-started.md
[getting-started-dbms]:get-started.md#1343ffe1-8021-4ce6-a08d-3a1553a4db82
[getting-started-deployment]:get-started.md#6aadadd2-76b5-46d8-8713-e8d63630e955
[getting-started-planning]:get-started.md#3da0389e-708b-4e82-b2a2-e92f132df89c

[getting-started-windows-classic]:../../virtual-machines-windows-classic-sap-get-started.md
[getting-started-windows-classic-dbms]:../../virtual-machines-windows-classic-sap-get-started.md#c5b77a14-f6b4-44e9-acab-4d28ff72a930
[getting-started-windows-classic-deployment]:../../virtual-machines-windows-classic-sap-get-started.md#f84ea6ce-bbb4-41f7-9965-34d31b0098ea
[getting-started-windows-classic-dr]:../../virtual-machines-windows-classic-sap-get-started.md#cff10b4a-01a5-4dc3-94b6-afb8e55757d3
[getting-started-windows-classic-ha-sios]:../../virtual-machines-windows-classic-sap-get-started.md#4bb7512c-0fa0-4227-9853-4004281b1037
[getting-started-windows-classic-planning]:../../virtual-machines-windows-classic-sap-get-started.md#f2a5e9d8-49e4-419e-9900-af783173481c

[ha-guide-classic]:http://go.microsoft.com/fwlink/?LinkId=613056

[install-extension-cli]:virtual-machines-linux-enable-aem.md

[Logo_Linux]:media/virtual-machines-shared-sap-shared/Linux.png
[Logo_Windows]:media/virtual-machines-shared-sap-shared/Windows.png

[msdn-set-azurermvmaemextension]:https://msdn.microsoft.com/library/azure/mt670598.aspx

[planning-guide]:planning-guide.md 
[planning-guide-1.2]:planning-guide.md#e55d1e22-c2c8-460b-9897-64622a34fdff 
[planning-guide-11]:planning-guide.md#7cf991a1-badd-40a9-944e-7baae842a058 
[planning-guide-11.4.1]:planning-guide.md#5d9d36f9-9058-435d-8367-5ad05f00de77 
[planning-guide-11.5]:planning-guide.md#4e165b58-74ca-474f-a7f4-5e695a93204f 
[planning-guide-2.1]:planning-guide.md#1625df66-4cc6-4d60-9202-de8a0b77f803 
[planning-guide-2.2]:planning-guide.md#f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10 
[planning-guide-3.1]:planning-guide.md#be80d1b9-a463-4845-bd35-f4cebdb5424a 
[planning-guide-3.2.1]:planning-guide.md#df49dc09-141b-4f34-a4a2-990913b30358 
[planning-guide-3.2.2]:planning-guide.md#fc1ac8b2-e54a-487c-8581-d3cc6625e560 
[planning-guide-3.2.3]:planning-guide.md#18810088-f9be-4c97-958a-27996255c665 
[planning-guide-3.2]:planning-guide.md#8d8ad4b8-6093-4b91-ac36-ea56d80dbf77 
[planning-guide-3.3.2]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 
[planning-guide-5.1.1]:planning-guide.md#4d175f1b-7353-4137-9d2f-817683c26e53 
[planning-guide-5.1.2]:planning-guide.md#e18f7839-c0e2-4385-b1e6-4538453a285c 
[planning-guide-5.2.1]:planning-guide.md#1b287330-944b-495d-9ea7-94b83aff73ef 
[planning-guide-5.2.2]:planning-guide.md#57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3 
[planning-guide-5.2]:planning-guide.md#6ffb9f41-a292-40bf-9e70-8204448559e7 
[planning-guide-5.3.1]:planning-guide.md#6e835de8-40b1-4b71-9f18-d45b20959b79 
[planning-guide-5.3.2]:planning-guide.md#a43e40e6-1acc-4633-9816-8f095d5a7b6a 
[planning-guide-5.4.2]:planning-guide.md#9789b076-2011-4afa-b2fe-b07a8aba58a1 
[planning-guide-5.5.1]:planning-guide.md#4efec401-91e0-40c0-8e64-f2dceadff646 
[planning-guide-5.5.3]:planning-guide.md#17e0d543-7e8c-4160-a7da-dd7117a1ad9d 
[planning-guide-7.1]:planning-guide.md#3e9c3690-da67-421a-bc3f-12c520d99a30 
[planning-guide-7]:planning-guide.md#96a77628-a05e-475d-9df3-fb82217e8f14 
[planning-guide-9.1]:planning-guide.md#6f0a47f3-a289-4090-a053-2521618a28c3 
[planning-guide-azure-premium-storage]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 

[planning-guide-figure-100]:media/virtual-machines-shared-sap-planning-guide/100-single-vm-in-azure.png
[planning-guide-figure-1300]:media/virtual-machines-shared-sap-planning-guide/1300-ref-config-iaas-for-sap.png
[planning-guide-figure-1400]:media/virtual-machines-shared-sap-planning-guide/1400-attach-detach-disks.png
[planning-guide-figure-1600]:media/virtual-machines-shared-sap-planning-guide/1600-firewall-port-rule.png
[planning-guide-figure-1700]:media/virtual-machines-shared-sap-planning-guide/1700-single-vm-demo.png
[planning-guide-figure-1900]:media/virtual-machines-shared-sap-planning-guide/1900-vm-set-vnet.png
[planning-guide-figure-200]:media/virtual-machines-shared-sap-planning-guide/200-multiple-vms-in-azure.png
[planning-guide-figure-2100]:media/virtual-machines-shared-sap-planning-guide/2100-s2s.png
[planning-guide-figure-2200]:media/virtual-machines-shared-sap-planning-guide/2200-network-printing.png
[planning-guide-figure-2300]:media/virtual-machines-shared-sap-planning-guide/2300-sapgui-stms.png
[planning-guide-figure-2400]:media/virtual-machines-shared-sap-planning-guide/2400-vm-extension-overview.png
[planning-guide-figure-2500]:media/virtual-machines-shared-sap-planning-guide/2500-vm-extension-details.png
[planning-guide-figure-2600]:media/virtual-machines-shared-sap-planning-guide/2600-sap-router-connection.png
[planning-guide-figure-2700]:media/virtual-machines-shared-sap-planning-guide/2700-exposed-sap-portal.png
[planning-guide-figure-2800]:media/virtual-machines-shared-sap-planning-guide/2800-endpoint-config.png
[planning-guide-figure-2900]:media/virtual-machines-shared-sap-planning-guide/2900-azure-ha-sap-ha.png
[planning-guide-figure-300]:media/virtual-machines-shared-sap-planning-guide/300-vpn-s2s.png
[planning-guide-figure-3000]:media/virtual-machines-shared-sap-planning-guide/3000-sap-ha-on-azure.png
[planning-guide-figure-3200]:media/virtual-machines-shared-sap-planning-guide/3200-sap-ha-with-sql.png
[planning-guide-figure-400]:media/virtual-machines-shared-sap-planning-guide/400-vm-services.png
[planning-guide-figure-600]:media/virtual-machines-shared-sap-planning-guide/600-s2s-details.png
[planning-guide-figure-700]:media/virtual-machines-shared-sap-planning-guide/700-decision-tree-deploy-to-azure.png
[planning-guide-figure-800]:media/virtual-machines-shared-sap-planning-guide/800-portal-vm-overview.png
[planning-guide-microsoft-azure-networking]:planning-guide.md#61678387-8868-435d-9f8c-450b2424f5bd 
[planning-guide-storage-microsoft-azure-storage-and-data-disks]:planning-guide.md#a72afa26-4bf4-4a25-8cf7-855d6032157f 

[powershell-install-configure]:https://docs.microsoft.com/powershell/azure/install-azurerm-ps
[resource-group-authoring-templates]:../../../resource-group-authoring-templates.md
[resource-group-overview]:../../../azure-resource-manager/resource-group-overview.md
[resource-groups-networking]:../../../virtual-network/resource-groups-networking.md
[sap-pam]:https://support.sap.com/pam 
[sap-templates-2-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-2-tier-os-disk]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-disk%2Fazuredeploy.json
[sap-templates-2-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-image%2Fazuredeploy.json
[sap-templates-3-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-3-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-user-image%2Fazuredeploy.json
[storage-azure-cli]:../../../storage/common/storage-azure-cli.md
[storage-azure-cli-copy-blobs]:../../../storage/common/storage-azure-cli.md#copy-blobs
[storage-introduction]:../../../storage/common/storage-introduction.md
[storage-powershell-guide-full-copy-vhd]:../../../storage/common/storage-powershell-guide-full.md#how-to-copy-blobs-from-one-storage-container-to-another
[storage-premium-storage-preview-portal]:../../../storage/common/storage-premium-storage.md
[storage-redundancy]:../../../storage/common/storage-redundancy.md
[storage-scalability-targets]:../../../storage/common/storage-scalability-targets.md
[storage-use-azcopy]:../../../storage/common/storage-use-azcopy.md
[template-201-vm-from-specialized-vhd]:https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-from-specialized-vhd
[templates-101-simple-windows-vm]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-simple-windows-vm
[templates-101-vm-from-user-image]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image
[virtual-machines-linux-attach-disk-portal]:../../linux/attach-disk-portal.md
[virtual-machines-azure-resource-manager-architecture]:../../../resource-manager-deployment-model.md
[virtual-machines-azurerm-versus-azuresm]:../../../resource-manager-deployment-model.md
[virtual-machines-windows-classic-configure-oracle-data-guard]:../../virtual-machines-windows-classic-configure-oracle-data-guard.md
[virtual-machines-linux-cli-deploy-templates]:../../linux/cli-deploy-templates.md 
[virtual-machines-deploy-rmtemplates-powershell]:../../virtual-machines-windows-ps-manage.md 
[virtual-machines-linux-agent-user-guide]:../../linux/agent-user-guide.md
[virtual-machines-linux-agent-user-guide-command-line-options]:../../linux/agent-user-guide.md#command-line-options
[virtual-machines-linux-capture-image]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager-capture]:../../linux/capture-image.md#step-2-capture-the-vm
[virtual-machines-linux-configure-raid]:../../linux/configure-raid.md
[virtual-machines-linux-configure-lvm]:../../linux/configure-lvm.md
[virtual-machines-linux-classic-create-upload-vhd-step-1]:../../virtual-machines-linux-classic-create-upload-vhd.md#step-1-prepare-the-image-to-be-uploaded
[virtual-machines-linux-create-upload-vhd-suse]:../../linux/suse-create-upload-vhd.md
[virtual-machines-linux-redhat-create-upload-vhd]:../../linux/redhat-create-upload-vhd.md
[virtual-machines-linux-how-to-attach-disk]:../../linux/add-disk.md
[virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]:../../linux/add-disk.md#connect-to-the-linux-vm-to-mount-the-new-disk
[virtual-machines-linux-tutorial]:../../linux/quick-create-cli.md
[virtual-machines-linux-update-agent]:../../linux/update-agent.md
[virtual-machines-manage-availability-linux]:../../linux/manage-availability.md
[virtual-machines-manage-availability-windows]:../../windows/manage-availability.md
[virtual-machines-ps-create-preconfigure-windows-resource-manager-vms]:virtual-machines-windows-create-powershell.md
[virtual-machines-sizes-linux]:../../linux/sizes.md
[virtual-machines-sizes-windows]:../../windows/sizes.md
[virtual-machines-windows-classic-ps-sql-alwayson-availability-groups]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-alwayson-availability-groups.md
[virtual-machines-windows-classic-ps-sql-int-listener]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-int-listener.md
[virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions]:./../../windows/sql/virtual-machines-windows-sql-high-availability-dr.md
[virtual-machines-sql-server-infrastructure-services]:./../../windows/sql/virtual-machines-windows-sql-server-iaas-overview.md
[virtual-machines-sql-server-performance-best-practices]:./../../windows/sql/virtual-machines-windows-sql-performance.md
[virtual-machines-upload-image-windows-resource-manager]:../../virtual-machines-windows-upload-image.md
[virtual-machines-windows-tutorial]:../../virtual-machines-windows-hero-tutorial.md
[virtual-machines-workload-template-sql-alwayson]:https://azure.microsoft.com/documentation/templates/sql-server-2014-alwayson-dsc/
[virtual-network-deploy-multinic-arm-cli]:../../../virtual-network/virtual-network-deploy-multinic-arm-cli.md
[virtual-network-deploy-multinic-arm-ps]:../../../virtual-network/virtual-network-deploy-multinic-arm-ps.md
[virtual-network-deploy-multinic-arm-template]:../../../virtual-network/virtual-network-deploy-multinic-arm-template.md
[virtual-networks-configure-vnet-to-vnet-connection]:../../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md
[virtual-networks-create-vnet-arm-pportal]:../../../virtual-network/virtual-networks-create-vnet-arm-pportal.md
[virtual-networks-manage-dns-in-vnet]:../../../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md
[virtual-networks-multiple-nics]:../../../virtual-network/virtual-networks-multiple-nics.md
[virtual-networks-nsg]:../../../virtual-network/virtual-networks-nsg.md
[virtual-networks-reserved-private-ip]:../../../virtual-network/virtual-networks-static-private-ip-arm-ps.md
[virtual-networks-static-private-ip-arm-pportal]:../../../virtual-network/virtual-networks-static-private-ip-arm-pportal.md
[virtual-networks-udr-overview]:../../../virtual-network/virtual-networks-udr-overview.md
[vpn-gateway-about-vpn-devices]:../../../vpn-gateway/vpn-gateway-about-vpn-devices.md
[vpn-gateway-create-site-to-site-rm-powershell]:../../../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md
[vpn-gateway-cross-premises-options]:../../../vpn-gateway/vpn-gateway-plan-design.md
[vpn-gateway-site-to-site-create]:../../../vpn-gateway/vpn-gateway-site-to-site-create.md
[vpn-gateway-vpn-faq]:../../../vpn-gateway/vpn-gateway-vpn-faq.md
[xplat-cli]:../../../cli-install-nodejs.md
[xplat-cli-azure-resource-manager]:../../../xplat-cli-azure-resource-manager.md

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

<span data-ttu-id="44c29-149">Den här handboken är en del av dokumentationen för implementering och distribuera SAP-programvara i Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-149">This guide is part of the documentation on implementing and deploying the SAP software on Microsoft Azure.</span></span> <span data-ttu-id="44c29-150">Innan du läser den här guiden kan du läsa den [Implementeringsguide för planering och][planning-guide].</span><span class="sxs-lookup"><span data-stu-id="44c29-150">Before reading this guide, read the [Planning and Implementation Guide][planning-guide].</span></span> <span data-ttu-id="44c29-151">Det här dokumentet beskriver distributionen av olika relationell databas Management Systems (RDBMS) och relaterade produkter i kombination med SAP på Microsoft Azure virtuella datorer (VM) med hjälp av Azure-infrastrukturen som en tjänst (IaaS)-funktioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-151">This document covers the deployment of various Relational Database Management Systems (RDBMS) and related products in combination with SAP on Microsoft Azure Virtual Machines (VMs) using the Azure Infrastructure as a Service (IaaS) capabilities.</span></span>

<span data-ttu-id="44c29-152">Dokumentet kompletterar SAP dokumentationen och SAP anteckningar, som representerar primära resurser för installation och distribution av program på den angivna plattformar.</span><span class="sxs-lookup"><span data-stu-id="44c29-152">The paper complements the SAP Installation Documentation and SAP Notes, which represent the primary resources for installations and deployments of SAP software on given platforms.</span></span>

## <a name="general-considerations"></a><span data-ttu-id="44c29-153">Allmänna överväganden</span><span class="sxs-lookup"><span data-stu-id="44c29-153">General considerations</span></span>
<span data-ttu-id="44c29-154">I det här kapitlet introduceras överväganden SAP-relaterade DBMS system som körs i virtuella Azure-datorer.</span><span class="sxs-lookup"><span data-stu-id="44c29-154">In this chapter, considerations of running SAP-related DBMS systems in Azure VMs are introduced.</span></span> <span data-ttu-id="44c29-155">Det finns några referenser till specifika DBMS system i det här kapitlet.</span><span class="sxs-lookup"><span data-stu-id="44c29-155">There are few references to specific DBMS systems in this chapter.</span></span> <span data-ttu-id="44c29-156">I stället hanteras specifika DBMS-system i det här dokumentet, efter det här kapitlet.</span><span class="sxs-lookup"><span data-stu-id="44c29-156">Instead the specific DBMS systems are handled within this paper, after this chapter.</span></span>

### <a name="definitions-upfront"></a><span data-ttu-id="44c29-157">Definitioner förskott</span><span class="sxs-lookup"><span data-stu-id="44c29-157">Definitions upfront</span></span>
<span data-ttu-id="44c29-158">Vi använder följande termer för hela dokumentet:</span><span class="sxs-lookup"><span data-stu-id="44c29-158">Throughout the document, we use the following terms:</span></span>

* <span data-ttu-id="44c29-159">IaaS: Infrastruktur som en tjänst.</span><span class="sxs-lookup"><span data-stu-id="44c29-159">IaaS: Infrastructure as a Service.</span></span>
* <span data-ttu-id="44c29-160">PaaS: Plattform som en tjänst.</span><span class="sxs-lookup"><span data-stu-id="44c29-160">PaaS: Platform as a Service.</span></span>
* <span data-ttu-id="44c29-161">SaaS: Programvara som en tjänst.</span><span class="sxs-lookup"><span data-stu-id="44c29-161">SaaS: Software as a Service.</span></span>
* <span data-ttu-id="44c29-162">SAP komponent: ett enskilt SAP program, till exempel ECC BW, lösning Manager eller EP.</span><span class="sxs-lookup"><span data-stu-id="44c29-162">SAP Component: an individual SAP application such as ECC, BW, Solution Manager, or EP.</span></span>  <span data-ttu-id="44c29-163">SAP-komponenter kan baseras på traditionell ABAP eller Java-teknik eller icke-NetWeaver baserat program, till exempel Business-objekt.</span><span class="sxs-lookup"><span data-stu-id="44c29-163">SAP components can be based on traditional ABAP or Java technologies or a non-NetWeaver based application such as Business Objects.</span></span>
* <span data-ttu-id="44c29-164">SAP-miljö: en eller flera komponenter för SAP logiskt grupperade för att utföra en business-funktion, till exempel utveckling, QAS, träning, DR eller produktion.</span><span class="sxs-lookup"><span data-stu-id="44c29-164">SAP Environment: one or more SAP components logically grouped to perform a business function such as Development, QAS, Training, DR, or Production.</span></span>
* <span data-ttu-id="44c29-165">SAP liggande: Avser hela SAP tillgångarna i kundens IT-miljön.</span><span class="sxs-lookup"><span data-stu-id="44c29-165">SAP Landscape: This refers to the entire SAP assets in a customer’s IT landscape.</span></span> <span data-ttu-id="44c29-166">SAP-liggande innehåller alla produktions- och icke-produktionsmiljöer.</span><span class="sxs-lookup"><span data-stu-id="44c29-166">The SAP landscape includes all production and non-production environments.</span></span>
* <span data-ttu-id="44c29-167">SAP System: Kombinationen av DBMS lager- och programnivå av, till exempel en SAP ERP-utvecklingssystemet, SAP BW testsystemet, SAP CRM produktionssystem osv. I Azure-distributioner går det inte för att dela dessa två lager mellan lokala och Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-167">SAP System: The combination of DBMS layer and application layer of, for example, an SAP ERP development system, SAP BW test system, SAP CRM production system, etc. In Azure deployments, it is not supported to divide these two layers between on-premises and Azure.</span></span> <span data-ttu-id="44c29-168">Detta innebär en SAP-systemet är antingen distribueras lokalt eller den har distribuerats i Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-168">This means an SAP system is either deployed on-premises or it is deployed in Azure.</span></span> <span data-ttu-id="44c29-169">Du kan dock distribuera olika system för en SAP liggande i Azure eller lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-169">However, you can deploy the different systems of an SAP landscape in Azure or on-premises.</span></span> <span data-ttu-id="44c29-170">Du kan till exempel distribuera SAP CRM-utveckling och testsystem i Azure, men den SAP CRM produktion system lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-170">For example, you could deploy the SAP CRM development and test systems in Azure but the SAP CRM production system on-premises.</span></span>
* <span data-ttu-id="44c29-171">Endast molnbaserad distribution: en distribution där Azure-prenumerationen inte är ansluten via ett plats-till-plats eller en ExpressRoute-anslutning till lokala nätverkets infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="44c29-171">Cloud-Only deployment: A deployment where the Azure subscription is not connected via a site-to-site or ExpressRoute connection to the on-premises network infrastructure.</span></span> <span data-ttu-id="44c29-172">Gemensam dokumentation för Azure dessa typer av distributioner beskrivs också som 'endast molnbaserad-distributioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-172">In common Azure documentation these kinds of deployments are also described as ‘Cloud-Only’ deployments.</span></span> <span data-ttu-id="44c29-173">Virtuella datorer distribueras med den här metoden kan nås via Internet och offentliga Internet-slutpunkter som tilldelats virtuella datorer i Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-173">Virtual Machines deployed with this method are accessed through the Internet and public Internet endpoints assigned to the VMs in Azure.</span></span> <span data-ttu-id="44c29-174">Lokalt Active Directory (AD) och DNS inte har utökats till Azure i dessa typer av distributioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-174">The on-premises Active Directory (AD) and DNS is not extended to Azure in these types of deployments.</span></span> <span data-ttu-id="44c29-175">De virtuella datorerna är därför inte en del av Active Directory lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-175">Hence the VMs are not part of the on-premises Active Directory.</span></span> <span data-ttu-id="44c29-176">Obs: Endast molnbaserad distributioner i det här dokumentet har definierats som slutförts SAP natur, som körs i Azure utan utökning av Active Directory eller namnmatchning från lokala i offentliga moln.</span><span class="sxs-lookup"><span data-stu-id="44c29-176">Note: Cloud-Only deployments in this document are defined as complete SAP landscapes, which are running exclusively in Azure without extension of Active Directory or name resolution from on-premises into public cloud.</span></span> <span data-ttu-id="44c29-177">Endast molnbaserad konfigurationer stöds inte för SAP produktionssystem eller konfigurationer där SAP STM eller andra lokala resurser måste användas mellan SAP-system som finns på Azure och resurser som finns lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-177">Cloud-Only configurations are not supported for production SAP systems or configurations where SAP STMS or other on-premises resources need to be used between SAP systems hosted on Azure and resources residing on-premises.</span></span>
* <span data-ttu-id="44c29-178">Anslutningar mellan lokala: Beskriver ett scenario där virtuella datorer distribueras till en Azure-prenumeration som har plats-till-plats, flera platser eller ExpressRoute-anslutningen mellan lokala datacenter(s) och Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-178">Cross-Premises: Describes a scenario where VMs are deployed to an Azure subscription that has site-to-site, multi-site, or ExpressRoute connectivity between the on-premises datacenter(s) and Azure.</span></span> <span data-ttu-id="44c29-179">Gemensamma Azure-dokumentationen dessa typer av distributioner beskrivs också som mellan lokala scenarier.</span><span class="sxs-lookup"><span data-stu-id="44c29-179">In common Azure documentation, these kinds of deployments are also described as Cross-Premises scenarios.</span></span> <span data-ttu-id="44c29-180">Anslutningen orsaken är att utöka lokala domäner, lokala Active Directory och lokala DNS i Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-180">The reason for the connection is to extend on-premises domains, on-premises Active Directory, and on-premises DNS into Azure.</span></span> <span data-ttu-id="44c29-181">Lokala liggande utökas till Azure tillgångar i prenumerationen.</span><span class="sxs-lookup"><span data-stu-id="44c29-181">The on-premises landscape is extended to the Azure assets of the subscription.</span></span> <span data-ttu-id="44c29-182">Med det här tillägget, kan de virtuella datorerna vara en del av den lokala domänen.</span><span class="sxs-lookup"><span data-stu-id="44c29-182">Having this extension, the VMs can be part of the on-premises domain.</span></span> <span data-ttu-id="44c29-183">Domänanvändare på den lokala domänen kan komma åt servrar och tjänster kan köra på dessa virtuella datorer (till exempel DBMS services).</span><span class="sxs-lookup"><span data-stu-id="44c29-183">Domain users of the on-premises domain can access the servers and can run services on those VMs (like DBMS services).</span></span> <span data-ttu-id="44c29-184">Kommunikation och namnmatchning mellan virtuella datorer distribueras lokala och virtuella datorer som distribueras i Azure är möjligt.</span><span class="sxs-lookup"><span data-stu-id="44c29-184">Communication and name resolution between VMs deployed on-premises and VMs deployed in Azure is possible.</span></span> <span data-ttu-id="44c29-185">Vi räknar med att det vanligaste scenariot för att distribuera SAP tillgångar på Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-185">We expect this to be the most common scenario for deploying SAP assets on Azure.</span></span> <span data-ttu-id="44c29-186">Mer information finns i [i den här artikeln] [ vpn-gateway-cross-premises-options] och [i den här artikeln][vpn-gateway-site-to-site-create].</span><span class="sxs-lookup"><span data-stu-id="44c29-186">For more information, see [this article][vpn-gateway-cross-premises-options] and [this article][vpn-gateway-site-to-site-create].</span></span>

> [!NOTE]
> <span data-ttu-id="44c29-187">Anslutningar mellan lokala distributioner av SAP-system där Azure virtuella datorer som kör SAP-system är medlemmar i en lokal domän stöds för produktion SAP-system.</span><span class="sxs-lookup"><span data-stu-id="44c29-187">Cross-Premises deployments of SAP systems where Azure Virtual Machines running SAP systems are members of an on-premises domain are supported for production SAP systems.</span></span> <span data-ttu-id="44c29-188">Anslutningar mellan lokala konfigurationer stöds för att distribuera delar eller slutföra SAP landskap till Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-188">Cross-Premises configurations are supported for deploying parts or complete SAP landscapes into Azure.</span></span> <span data-ttu-id="44c29-189">Även kör fullständig SAP liggande i Azure kräver att dessa virtuella datorer som en del av lokal domän och Active Directory.</span><span class="sxs-lookup"><span data-stu-id="44c29-189">Even running the complete SAP landscape in Azure requires having those VMs being part of on-premises domain and ADS.</span></span> <span data-ttu-id="44c29-190">I tidigare versioner av dokumentationen talat om Hybrid-IT-scenarier där termen ”Hybrid' är rotad i det faktum att det finns en anslutning mellan Azure och lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-190">In former versions of the documentation, we talked about Hybrid-IT scenarios, where the term ‘Hybrid’ is rooted in the fact that there is a cross-premises connectivity between on-premises and Azure.</span></span> <span data-ttu-id="44c29-191">I detta fall innebär 'Hybrid' också att virtuella datorer i Azure är en del av Active Directory lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-191">In this case ‘Hybrid’ also means that the VMs in Azure are part of the on-premises Active Directory.</span></span>
> 
> 

<span data-ttu-id="44c29-192">Vissa Microsoft-dokumentationen beskriver anslutningar mellan lokala scenarier lite annorlunda särskilt för DBMS HA konfigurationer.</span><span class="sxs-lookup"><span data-stu-id="44c29-192">Some Microsoft documentation describes Cross-Premises scenarios a bit differently, especially for DBMS HA configurations.</span></span> <span data-ttu-id="44c29-193">När det gäller SAP-relaterade-dokument distribueras de mellan lokala scenario bara kokar ned till en plats-till-plats eller privat (ExpressRoute)-anslutning och att SAP liggande mellan lokala och Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-193">In the case of the SAP-related documents, the Cross-Premises scenario just boils down to having a site-to-site or private (ExpressRoute) connectivity and to the fact that the SAP landscape is distributed between on-premises and Azure.</span></span>

### <a name="resources"></a><span data-ttu-id="44c29-194">Resurser</span><span class="sxs-lookup"><span data-stu-id="44c29-194">Resources</span></span>
<span data-ttu-id="44c29-195">Följande guider är tillgängliga för avsnittet SAP-distribution på Azure:</span><span class="sxs-lookup"><span data-stu-id="44c29-195">The following guides are available for the topic of SAP deployments on Azure:</span></span>

* <span data-ttu-id="44c29-196">[Azure virtuella datorer planering och implementering för SAP NetWeaver][planning-guide]</span><span class="sxs-lookup"><span data-stu-id="44c29-196">[Azure Virtual Machines planning and implementation for SAP NetWeaver][planning-guide]</span></span>
* <span data-ttu-id="44c29-197">[Distribution av Azure virtuella datorer för SAP NetWeaver][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="44c29-197">[Azure Virtual Machines deployment for SAP NetWeaver][deployment-guide]</span></span>
* <span data-ttu-id="44c29-198">[Azure virtuella datorer DBMS-distribution för SAP NetWeaver (det här dokumentet)][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="44c29-198">[Azure Virtual Machines DBMS deployment for SAP NetWeaver (this document)][dbms-guide]</span></span>

<span data-ttu-id="44c29-199">Följande information för SAP är relaterade till avsnittet SAP i Azure:</span><span class="sxs-lookup"><span data-stu-id="44c29-199">The following SAP Notes are related to the topic of SAP on Azure:</span></span>

| <span data-ttu-id="44c29-200">Nummer</span><span class="sxs-lookup"><span data-stu-id="44c29-200">Note number</span></span> | <span data-ttu-id="44c29-201">Rubrik</span><span class="sxs-lookup"><span data-stu-id="44c29-201">Title</span></span> |
| --- | --- |
| <span data-ttu-id="44c29-202">[1928533]</span><span class="sxs-lookup"><span data-stu-id="44c29-202">[1928533]</span></span> |<span data-ttu-id="44c29-203">SAP-program i Azure: produkter och Virtuella Azure-typer</span><span class="sxs-lookup"><span data-stu-id="44c29-203">SAP Applications on Azure: Supported Products and Azure VM types</span></span> |
| <span data-ttu-id="44c29-204">[2015553]</span><span class="sxs-lookup"><span data-stu-id="44c29-204">[2015553]</span></span> |<span data-ttu-id="44c29-205">SAP på Microsoft Azure: stöd för krav</span><span class="sxs-lookup"><span data-stu-id="44c29-205">SAP on Microsoft Azure: Support Prerequisites</span></span> |
| <span data-ttu-id="44c29-206">[1999351]</span><span class="sxs-lookup"><span data-stu-id="44c29-206">[1999351]</span></span> |<span data-ttu-id="44c29-207">Felsökning av utökad Azure övervakning för SAP</span><span class="sxs-lookup"><span data-stu-id="44c29-207">Troubleshooting Enhanced Azure Monitoring for SAP</span></span> |
| <span data-ttu-id="44c29-208">[2178632]</span><span class="sxs-lookup"><span data-stu-id="44c29-208">[2178632]</span></span> |<span data-ttu-id="44c29-209">Key som övervakning mått för SAP på Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="44c29-209">Key Monitoring Metrics for SAP on Microsoft Azure</span></span> |
| <span data-ttu-id="44c29-210">[1409604]</span><span class="sxs-lookup"><span data-stu-id="44c29-210">[1409604]</span></span> |<span data-ttu-id="44c29-211">Virtualisering på Windows: förbättrad övervakning</span><span class="sxs-lookup"><span data-stu-id="44c29-211">Virtualization on Windows: Enhanced Monitoring</span></span> |
| <span data-ttu-id="44c29-212">[2191498]</span><span class="sxs-lookup"><span data-stu-id="44c29-212">[2191498]</span></span> |<span data-ttu-id="44c29-213">SAP på Linux med Azure: förbättrad övervakning</span><span class="sxs-lookup"><span data-stu-id="44c29-213">SAP on Linux with Azure: Enhanced Monitoring</span></span> |
| <span data-ttu-id="44c29-214">[2039619]</span><span class="sxs-lookup"><span data-stu-id="44c29-214">[2039619]</span></span> |<span data-ttu-id="44c29-215">SAP-program i Microsoft Azure med hjälp av Oracle-databasen: produkter och versioner</span><span class="sxs-lookup"><span data-stu-id="44c29-215">SAP Applications on Microsoft Azure using the Oracle Database: Supported Products and Versions</span></span> |
| <span data-ttu-id="44c29-216">[2233094]</span><span class="sxs-lookup"><span data-stu-id="44c29-216">[2233094]</span></span> |<span data-ttu-id="44c29-217">DB6: SAP-program på Azure med hjälp av IBM DB2 för Linux, UNIX- och Windows - ytterligare Information</span><span class="sxs-lookup"><span data-stu-id="44c29-217">DB6: SAP Applications on Azure Using IBM DB2 for Linux, UNIX, and Windows - Additional Information</span></span> |
| <span data-ttu-id="44c29-218">[2243692]</span><span class="sxs-lookup"><span data-stu-id="44c29-218">[2243692]</span></span> |<span data-ttu-id="44c29-219">Linux på Microsoft Azure (IaaS) VM: SAP problem</span><span class="sxs-lookup"><span data-stu-id="44c29-219">Linux on Microsoft Azure (IaaS) VM: SAP license issues</span></span> |
| <span data-ttu-id="44c29-220">[1984787]</span><span class="sxs-lookup"><span data-stu-id="44c29-220">[1984787]</span></span> |<span data-ttu-id="44c29-221">SUSE LINUX Enterprise Server 12: Installationsinformation</span><span class="sxs-lookup"><span data-stu-id="44c29-221">SUSE LINUX Enterprise Server 12: Installation notes</span></span> |
| <span data-ttu-id="44c29-222">[2002167]</span><span class="sxs-lookup"><span data-stu-id="44c29-222">[2002167]</span></span> |<span data-ttu-id="44c29-223">Red Hat Enterprise Linux 7.x: Installation och uppgradering</span><span class="sxs-lookup"><span data-stu-id="44c29-223">Red Hat Enterprise Linux 7.x: Installation and Upgrade</span></span> |
| <span data-ttu-id="44c29-224">[2069760]</span><span class="sxs-lookup"><span data-stu-id="44c29-224">[2069760]</span></span> |<span data-ttu-id="44c29-225">Oracle Linux 7.x SAP Installation och uppgradering</span><span class="sxs-lookup"><span data-stu-id="44c29-225">Oracle Linux 7.x SAP Installation and Upgrade</span></span> |
| <span data-ttu-id="44c29-226">[1597355]</span><span class="sxs-lookup"><span data-stu-id="44c29-226">[1597355]</span></span> |<span data-ttu-id="44c29-227">Växlingsutrymme rekommendation för Linux</span><span class="sxs-lookup"><span data-stu-id="44c29-227">Swap-space recommendation for Linux</span></span> |
| <span data-ttu-id="44c29-228">[2171857]</span><span class="sxs-lookup"><span data-stu-id="44c29-228">[2171857]</span></span> |<span data-ttu-id="44c29-229">Oracle Database 12c - filen stöd på Linux</span><span class="sxs-lookup"><span data-stu-id="44c29-229">Oracle Database 12c - file system support on Linux</span></span> |
| <span data-ttu-id="44c29-230">[1114181]</span><span class="sxs-lookup"><span data-stu-id="44c29-230">[1114181]</span></span> |<span data-ttu-id="44c29-231">Oracle Database 11g - filen stöd på Linux</span><span class="sxs-lookup"><span data-stu-id="44c29-231">Oracle Database 11g - file system support on Linux</span></span> |


<span data-ttu-id="44c29-232">Läs även den [Tillståndsändringsavisering Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) som innehåller alla SAP anteckningar för Linux.</span><span class="sxs-lookup"><span data-stu-id="44c29-232">Also read the [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) that contains all SAP Notes for Linux.</span></span>

<span data-ttu-id="44c29-233">Du bör ha kunskaper om Microsoft Azure-arkitekturen och hur Microsoft Azure virtuella datorer distribueras och drivas.</span><span class="sxs-lookup"><span data-stu-id="44c29-233">You should have a working knowledge about the Microsoft Azure Architecture and how Microsoft Azure Virtual Machines are deployed and operated.</span></span> <span data-ttu-id="44c29-234">Du hittar mer information på <https://azure.microsoft.com/documentation/></span><span class="sxs-lookup"><span data-stu-id="44c29-234">You can find more information at <https://azure.microsoft.com/documentation/></span></span>

> [!NOTE]
> <span data-ttu-id="44c29-235">Vi kan **inte** diskutera Microsoft Azure-plattformen som en tjänst (PaaS)-erbjudanden för Microsoft Azure-plattformen.</span><span class="sxs-lookup"><span data-stu-id="44c29-235">We are **not** discussing Microsoft Azure Platform as a Service (PaaS) offerings of the Microsoft Azure Platform.</span></span> <span data-ttu-id="44c29-236">Det här dokumentet handlar om hur du kör ett databashanteringssystem (DBMS) i Microsoft Azure Virtual Machines (IaaS) på samma sätt som du skulle köra DBMS i din lokala miljö.</span><span class="sxs-lookup"><span data-stu-id="44c29-236">This paper is about running a database management system (DBMS) in Microsoft Azure Virtual Machines (IaaS) just as you would run the DBMS in your on-premises environment.</span></span> <span data-ttu-id="44c29-237">Databasen funktioner och funktionalitet mellan dessa två erbjudanden skiljer sig väldigt mycket och bör inte blandas med varandra.</span><span class="sxs-lookup"><span data-stu-id="44c29-237">Database capabilities and functionalities between these two offers are very different and should not be mixed up with each other.</span></span> <span data-ttu-id="44c29-238">Se även: <https://azure.microsoft.com/services/sql-database/></span><span class="sxs-lookup"><span data-stu-id="44c29-238">See also: <https://azure.microsoft.com/services/sql-database/></span></span>
> 
> 

<span data-ttu-id="44c29-239">Eftersom vi diskuterar IaaS är i allmänhet Windows, Linux och DBMS installationen och konfigurationen i stort sett desamma som en virtuell dator eller bare metal datorn installerar du lokal.</span><span class="sxs-lookup"><span data-stu-id="44c29-239">Since we are discussing IaaS, in general the Windows, Linux, and DBMS installation and configuration are essentially the same as any virtual machine or bare metal machine you would install on-premises.</span></span> <span data-ttu-id="44c29-240">Det finns dock vissa arkitektur och systemhantering implementering beslut, som skiljer sig när du använder IaaS.</span><span class="sxs-lookup"><span data-stu-id="44c29-240">However, there are some architecture and system management implementation decisions, which are different when utilizing IaaS.</span></span> <span data-ttu-id="44c29-241">Syftet med det här dokumentet är att förklara specifika arkitektur och system management skillnader som du måste förberedas för när du använder IaaS.</span><span class="sxs-lookup"><span data-stu-id="44c29-241">The purpose of this document is to explain the specific architectural and system management differences that you must be prepared for when using IaaS.</span></span>

<span data-ttu-id="44c29-242">I allmänhet är de övergripande delarna av skillnaden som beskrivs i det här dokumentet:</span><span class="sxs-lookup"><span data-stu-id="44c29-242">In general, the overall areas of difference that this paper discusses are:</span></span>

* <span data-ttu-id="44c29-243">Planera rätt VM/disklayouten för SAP-datorer så att du har rätt data filen layout och kan få tillräckligt med IOPS för din arbetsbelastning.</span><span class="sxs-lookup"><span data-stu-id="44c29-243">Planning the proper VM/disk layout of SAP systems to ensure you have the proper data file layout and can achieve enough IOPS for your workload.</span></span>
* <span data-ttu-id="44c29-244">Nätverk överväganden när du använder IaaS.</span><span class="sxs-lookup"><span data-stu-id="44c29-244">Networking considerations when using IaaS.</span></span>
* <span data-ttu-id="44c29-245">Specifika databasfunktioner ska användas för att optimera layout för databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-245">Specific database features to use in order to optimize the database layout.</span></span>
* <span data-ttu-id="44c29-246">Överväganden för säkerhetskopiering och återställning i IaaS.</span><span class="sxs-lookup"><span data-stu-id="44c29-246">Backup and restore considerations in IaaS.</span></span>
* <span data-ttu-id="44c29-247">Använda olika typer av avbildningar för distribution.</span><span class="sxs-lookup"><span data-stu-id="44c29-247">Utilizing different types of images for deployment.</span></span>
* <span data-ttu-id="44c29-248">Hög tillgänglighet i Azure IaaS.</span><span class="sxs-lookup"><span data-stu-id="44c29-248">High Availability in Azure IaaS.</span></span>

## <span data-ttu-id="44c29-249"><a name="65fa79d6-a85f-47ee-890b-22e794f51a64"></a>Struktur för en RDBMS-distribution</span><span class="sxs-lookup"><span data-stu-id="44c29-249"><a name="65fa79d6-a85f-47ee-890b-22e794f51a64"></a>Structure of an RDBMS Deployment</span></span>
<span data-ttu-id="44c29-250">För att följa det här kapitlet, är det nödvändigt att förstå vad som angavs i [detta] [ deployment-guide-3] kapitel i den [Deployment Guide][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="44c29-250">In order to follow this chapter, it is necessary to understand what was presented in [this][deployment-guide-3] chapter of the [Deployment Guide][deployment-guide].</span></span> <span data-ttu-id="44c29-251">Information om annan VM-serien och deras skillnader och skillnader i Azure Standard och Premium-lagring ska förstått och kända innan du läser det här kapitlet.</span><span class="sxs-lookup"><span data-stu-id="44c29-251">Knowledge about the different VM-Series and their differences and differences of Azure Standard and Premium Storage should be understood and known before reading this chapter.</span></span>

<span data-ttu-id="44c29-252">Diskar som innehåller ett operativsystem har begränsad till 127 GB i storlek tills mars 2015.</span><span class="sxs-lookup"><span data-stu-id="44c29-252">Until March 2015, disks, which contain an operating system were limited to 127 GB in size.</span></span> <span data-ttu-id="44c29-253">Den här begränsningen har lyfts i mars 2015 (för mer information kontrollen <https://azure.microsoft.com/blog/2015/03/25/azure-vm-os-drive-limit-octupled/>).</span><span class="sxs-lookup"><span data-stu-id="44c29-253">This limitation got lifted in March 2015 (for more information check <https://azure.microsoft.com/blog/2015/03/25/azure-vm-os-drive-limit-octupled/>).</span></span> <span data-ttu-id="44c29-254">Därifrån på diskar som innehåller operativsystemet kan ha samma storlek som någon annan disk.</span><span class="sxs-lookup"><span data-stu-id="44c29-254">From there on disks containing the operating system can have the same size as any other disk.</span></span> <span data-ttu-id="44c29-255">Vi föredrar dock fortfarande en struktur för distribution där operativsystemet, DBMS och eventuell SAP-binärfiler skiljer sig från databasfilerna.</span><span class="sxs-lookup"><span data-stu-id="44c29-255">Nevertheless, we still prefer a structure of deployment where the operating system, DBMS, and eventual SAP binaries are separate from the database files.</span></span> <span data-ttu-id="44c29-256">Vi förvänta dig därför SAP-system som körs i Azure Virtual Machines har den grundläggande VM (eller disk) som installerats med operativsystemet, databasen management system körbara filer och SAP körbara filer.</span><span class="sxs-lookup"><span data-stu-id="44c29-256">Therefore, we expect SAP systems running in Azure Virtual Machines have the base VM (or disk) installed with the operating system, database management system executables, and SAP executables.</span></span> <span data-ttu-id="44c29-257">DBMS data och loggfilen filerna lagras i Azure-lagring (Standard eller Premium-lagring) i separata diskar och anslutna som logiska diskar på den ursprungliga Azure operativsystemavbildningen VM.</span><span class="sxs-lookup"><span data-stu-id="44c29-257">The DBMS data and log files are stored in Azure Storage (Standard or Premium Storage) in separate disks and attached as logical disks to the original Azure operating system image VM.</span></span> 

<span data-ttu-id="44c29-258">Beroende på utnyttja Azure Standard eller Premium-lagring (till exempel med hjälp av DS-serien eller GS-serien VMs) det finns andra kvoter i Azure, som finns dokumenterade [här (Linux)] [ virtual-machines-sizes-linux] och [här (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="44c29-258">Dependent on leveraging Azure Standard or Premium Storage (for example by using the DS-series or GS-series VMs) there are other quotas in Azure, which are documented [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span> <span data-ttu-id="44c29-259">När du planerar din disklayouten, måste du hitta en bra balans av kvoter för följande objekt:</span><span class="sxs-lookup"><span data-stu-id="44c29-259">When planning your disk layout, you need to find the best balance of the quotas for the following items:</span></span>

* <span data-ttu-id="44c29-260">Antalet datafiler.</span><span class="sxs-lookup"><span data-stu-id="44c29-260">The number of data files.</span></span>
* <span data-ttu-id="44c29-261">Antal diskar som innehåller filerna.</span><span class="sxs-lookup"><span data-stu-id="44c29-261">The number of disks that contain the files.</span></span>
* <span data-ttu-id="44c29-262">IOPS kvoter för en enskild disk.</span><span class="sxs-lookup"><span data-stu-id="44c29-262">The IOPS quotas of a single disk.</span></span>
* <span data-ttu-id="44c29-263">Datagenomströmning per disk.</span><span class="sxs-lookup"><span data-stu-id="44c29-263">The data throughput per disk.</span></span>
* <span data-ttu-id="44c29-264">Antal ytterligare hårddiskar som är möjligt per VM-storlek.</span><span class="sxs-lookup"><span data-stu-id="44c29-264">The number of additional data disks possible per VM size.</span></span>
* <span data-ttu-id="44c29-265">Det totala genomflödet som en virtuell dator kan ge.</span><span class="sxs-lookup"><span data-stu-id="44c29-265">The overall storage throughput a VM can provide.</span></span>

<span data-ttu-id="44c29-266">Azure tillämpar en kvot för IOPS per datadisk.</span><span class="sxs-lookup"><span data-stu-id="44c29-266">Azure enforces an IOPS quota per data disk.</span></span> <span data-ttu-id="44c29-267">Dessa kvoter är olika för diskar som finns i Azure standardlagring och Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-267">These quotas are different for disks hosted on Azure Standard Storage and Premium Storage.</span></span> <span data-ttu-id="44c29-268">I/o-svarstiderna är också mycket olika mellan de två typerna av lagring med Premium-lagring och leverera faktorer bättre svarstider för i/o.</span><span class="sxs-lookup"><span data-stu-id="44c29-268">I/O latencies are also very different between the two storage types with Premium Storage delivering factors better I/O latencies.</span></span> <span data-ttu-id="44c29-269">Var och en av de olika typerna av virtuell dator har ett begränsat antal datadiskar som du ska kunna ansluta.</span><span class="sxs-lookup"><span data-stu-id="44c29-269">Each of the different VM types has a limited number of data disks that you are able to attach.</span></span> <span data-ttu-id="44c29-270">En annan begränsning är att bara vissa VM-typer kan utnyttja Azure Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-270">Another restriction is that only certain VM types can leverage Azure Premium Storage.</span></span> <span data-ttu-id="44c29-271">Det innebär att beslut för en viss typ av virtuell dator inte kan endast drivas av CPU och minne krav, utan även av IOPS, svarstid och disk genomströmning krav som vanligtvis skalas med antalet diskar eller typen av diskar för Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-271">This means the decision for a certain VM type might not only be driven by the CPU and memory requirements, but also by the IOPS, latency and disk throughput requirements that usually are scaled with the number of disks or the type of Premium Storage disks.</span></span> <span data-ttu-id="44c29-272">Särskilt med Premium-lagring kan storleken på en disk också avgöras av antalet IOPS och dataflöde som behöver uppnås av varje disk.</span><span class="sxs-lookup"><span data-stu-id="44c29-272">Especially with Premium Storage the size of a disk also might be dictated by the number of IOPS and throughput that needs to be achieved by each disk.</span></span>

<span data-ttu-id="44c29-273">Det faktum att den övergripande IOPS-hastigheten, antalet diskar monterade och storleken på den virtuella datorn är alla knutna tillsammans, kan leda till en Azure-konfiguration om en SAP-system som skiljer sig från den lokala distributionen.</span><span class="sxs-lookup"><span data-stu-id="44c29-273">The fact that the overall IOPS rate, the number of disks mounted, and the size of the VM are all tied together, might cause an Azure configuration of an SAP system to be different than its on-premises deployment.</span></span> <span data-ttu-id="44c29-274">IOPS-gränser för LUN kan vanligtvis konfigureras i lokala distributioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-274">The IOPS limits per LUN are usually configurable in on-premises deployments.</span></span> <span data-ttu-id="44c29-275">Med Azure Storage dessa gränser är fast eller som ett Premium-lagring beroende på typ av disk.</span><span class="sxs-lookup"><span data-stu-id="44c29-275">Whereas with Azure Storage those limits are fixed or as in Premium Storage dependent on the disk type.</span></span> <span data-ttu-id="44c29-276">Med lokala distributioner visas så kundkonfigurationer för databasservrar som använder många olika volymer för särskilda körbara filer som SAP och DBMS eller särskilda volymer för tillfälliga databaser eller tabell blanksteg.</span><span class="sxs-lookup"><span data-stu-id="44c29-276">So with on-premises deployments we see customer configurations of database servers that are using many different volumes for special executables like SAP and the DBMS or special volumes for temporary databases or table spaces.</span></span> <span data-ttu-id="44c29-277">När sådana ett lokalt system har flyttats till Azure kan det leda till slöseri med potentiella IOPS bandbredd genom att spara en disk för körbara filer eller databaser som inte utför någon eller inte mycket IOPS.</span><span class="sxs-lookup"><span data-stu-id="44c29-277">When such an on-premises system is moved to Azure, it might lead to a waste of potential IOPS bandwidth by wasting a disk for executables or databases, which do not perform any or not a lot of IOPS.</span></span> <span data-ttu-id="44c29-278">I Azure Virtual Machines rekommenderar vi därför att DBMS och SAP körbara filer installeras på OS-disk om möjligt.</span><span class="sxs-lookup"><span data-stu-id="44c29-278">Therefore, in Azure VMs we recommend that the DBMS and SAP executables be installed on the OS disk if possible.</span></span>

<span data-ttu-id="44c29-279">Placeringen av databasfilerna och loggfilerna och vilken typ av Azure Storage används, ska definieras av IOPS, svarstid och genomströmning krav.</span><span class="sxs-lookup"><span data-stu-id="44c29-279">The placement of the database files and log files and the type of Azure Storage used, should be defined by IOPS, latency, and throughput requirements.</span></span> <span data-ttu-id="44c29-280">För att du har tillräckligt med IOPS för transaktionsloggen kan du tvingas att använda flera diskar för transaktionsloggfilen eller Använd en större disk i Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-280">In order to have enough IOPS for the transaction log, you might be forced to leverage multiple disks for the transaction log file or use a larger Premium Storage disk.</span></span> <span data-ttu-id="44c29-281">I så fall skulle en bygga en programvarubaserad RAID (till exempel Windows Storage Pool för Windows eller MDADM och LVM (logisk volym Manager) för Linux) med diskar som innehåller transaktionsloggen.</span><span class="sxs-lookup"><span data-stu-id="44c29-281">In such a case one would build a software RAID (for example Windows Storage Pool for Windows or MDADM and LVM (Logical Volume Manager) for Linux) with the disks, which contain the transaction log.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="44c29-283">Windows</span><span class="sxs-lookup"><span data-stu-id="44c29-283">Windows</span></span>
> 
> <span data-ttu-id="44c29-284">Enhet D:\ i en Azure VM är en icke-beständig enhet som backas upp av vissa lokala diskar på Azure compute-nod.</span><span class="sxs-lookup"><span data-stu-id="44c29-284">Drive D:\ in an Azure VM is a non-persisted drive, which is backed by some local disks on the Azure compute node.</span></span> <span data-ttu-id="44c29-285">Eftersom det är icke-beständig, innebär det att ändringar som görs till innehåll på D:\ enheten går förlorad när den virtuella datorn har startats om.</span><span class="sxs-lookup"><span data-stu-id="44c29-285">Because it is non-persisted, this means that any changes made to the content on the D:\ drive is lost when the VM is rebooted.</span></span> <span data-ttu-id="44c29-286">Med ”ändringar” menar vi sparade filer, kataloger som skapas, program och så vidare.</span><span class="sxs-lookup"><span data-stu-id="44c29-286">By "any changes", we mean saved files, directories created, applications installed, etc.</span></span>
> 
> ![Linux][Logo_Linux] <span data-ttu-id="44c29-288">Linux</span><span class="sxs-lookup"><span data-stu-id="44c29-288">Linux</span></span>
> 
> <span data-ttu-id="44c29-289">Linux virtuella Azure-datorer ansluta automatiskt en enhet i /mnt/resource som är en icke-beständig enhet som backas upp av lokala diskar på Azure compute-nod.</span><span class="sxs-lookup"><span data-stu-id="44c29-289">Linux Azure VMs automatically mount a drive at /mnt/resource that is a non-persisted drive backed by local disks on the Azure compute node.</span></span> <span data-ttu-id="44c29-290">Detta innebär att ändringar som görs till innehåll i /mnt/resource försvinner när den virtuella datorn startas om eftersom den är icke-beständig.</span><span class="sxs-lookup"><span data-stu-id="44c29-290">Because it is non-persisted, this means that any changes made to content in /mnt/resource are lost when the VM is rebooted.</span></span> <span data-ttu-id="44c29-291">Vi menar av ändringar, filer som sparats, kataloger som skapas, program och så vidare.</span><span class="sxs-lookup"><span data-stu-id="44c29-291">By any changes, we mean files saved, directories created, applications installed, etc.</span></span>
> 
> 

- - -
<span data-ttu-id="44c29-292">Beroende på Azure VM-serien, lokala diskar på Beräkningsnoden visar olika prestanda, vilket kan kategoriseras som:</span><span class="sxs-lookup"><span data-stu-id="44c29-292">Dependent on the Azure VM-series, the local disks on the compute node show different performance, which can be categorized like:</span></span>

* <span data-ttu-id="44c29-293">A0 A7: Mycket begränsad prestanda.</span><span class="sxs-lookup"><span data-stu-id="44c29-293">A0-A7: Very limited performance.</span></span> <span data-ttu-id="44c29-294">Inte användas för något utöver växlingsfil för windows</span><span class="sxs-lookup"><span data-stu-id="44c29-294">Not usable for anything beyond windows page file</span></span>
* <span data-ttu-id="44c29-295">A8-A11: Goda prestandaegenskaper med vissa tiotusen IOPS och > 1 GBIT/s genomströmning</span><span class="sxs-lookup"><span data-stu-id="44c29-295">A8-A11: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="44c29-296">D-serien: Goda prestandaegenskaper med vissa tiotusen IOPS och > 1 GBIT/s genomströmning</span><span class="sxs-lookup"><span data-stu-id="44c29-296">D-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="44c29-297">DS-serien: Goda prestandaegenskaper med vissa tiotusen IOPS och > 1 GBIT/s genomströmning</span><span class="sxs-lookup"><span data-stu-id="44c29-297">DS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="44c29-298">G-serien: Goda prestandaegenskaper med vissa tiotusen IOPS och > 1 GBIT/s genomströmning</span><span class="sxs-lookup"><span data-stu-id="44c29-298">G-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="44c29-299">GS-serien: Goda prestandaegenskaper med vissa tiotusen IOPS och > 1 GBIT/s genomströmning</span><span class="sxs-lookup"><span data-stu-id="44c29-299">GS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>

<span data-ttu-id="44c29-300">Uttryck ovanför tillämpas för VM-typer som är certifierade med SAP.</span><span class="sxs-lookup"><span data-stu-id="44c29-300">Statements above are applying to the VM types that are certified with SAP.</span></span> <span data-ttu-id="44c29-301">VM-serien med utmärkt IOPS och genomströmning uppfyller kraven för att dra nytta av vissa DBMS-funktioner, t.ex. tempdb eller temporärt tabellutrymme.</span><span class="sxs-lookup"><span data-stu-id="44c29-301">The VM-series with excellent IOPS and throughput qualify for leverage by some DBMS features, like tempdb or temporary table space.</span></span>

### <span data-ttu-id="44c29-302"><a name="c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f"></a>Cachelagring för virtuella datorer och diskar</span><span class="sxs-lookup"><span data-stu-id="44c29-302"><a name="c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f"></a>Caching for VMs and data disks</span></span>
<span data-ttu-id="44c29-303">När vi skapar datadiskar via portalen eller när vi montera överförda diskar till virtuella datorer, kan vi välja om i/o-trafik mellan den virtuella datorn och de diskar som finns i Azure storage cachelagras.</span><span class="sxs-lookup"><span data-stu-id="44c29-303">When we create data disks through the portal or when we mount uploaded disks to VMs, we can choose whether the I/O traffic between the VM and those disks located in Azure storage are cached.</span></span> <span data-ttu-id="44c29-304">Azure Standard och Premium-lagring kan du använda två olika tekniker för den här typen av cachen.</span><span class="sxs-lookup"><span data-stu-id="44c29-304">Azure Standard and Premium Storage use two different technologies for this type of cache.</span></span> <span data-ttu-id="44c29-305">I båda fallen är cachen själva disken säkerhetskopieras på samma enheter som används av den virtuella datorn tillfälliga disk (D:\ i Windows) eller /mnt/resource på Linux.</span><span class="sxs-lookup"><span data-stu-id="44c29-305">In both cases, the cache itself would be disk backed on the same drives used by the temporary disk (D:\ on Windows or /mnt/resource on Linux) of the VM.</span></span>

<span data-ttu-id="44c29-306">För Azure standardlagring är möjliga cache-typer:</span><span class="sxs-lookup"><span data-stu-id="44c29-306">For Azure Standard Storage the possible cache types are:</span></span>

* <span data-ttu-id="44c29-307">Ingen cachelagring</span><span class="sxs-lookup"><span data-stu-id="44c29-307">No caching</span></span>
* <span data-ttu-id="44c29-308">Läsa cachelagring</span><span class="sxs-lookup"><span data-stu-id="44c29-308">Read caching</span></span>
* <span data-ttu-id="44c29-309">Läsa och skriva cachelagring</span><span class="sxs-lookup"><span data-stu-id="44c29-309">Read and Write caching</span></span>

<span data-ttu-id="44c29-310">För att få konsekvent och deterministisk prestanda bör du ange cachelagring på Azure standardlagring för alla diskar som innehåller **DBMS-relaterade datafiler, loggfiler och tabellutrymme till ”NONE”**.</span><span class="sxs-lookup"><span data-stu-id="44c29-310">In order to get consistent and deterministic performance, you should set the caching on Azure Standard Storage for all disks containing **DBMS-related data files, log files, and table space to 'NONE'**.</span></span> <span data-ttu-id="44c29-311">Cachelagring av den virtuella datorn kan förbli med standardinställningarna.</span><span class="sxs-lookup"><span data-stu-id="44c29-311">The caching of the VM can remain with the default.</span></span>

<span data-ttu-id="44c29-312">För Azure Premium Storage finns följande alternativ för cachelagring</span><span class="sxs-lookup"><span data-stu-id="44c29-312">For Azure Premium Storage the following caching options exist:</span></span>

* <span data-ttu-id="44c29-313">Ingen cachelagring</span><span class="sxs-lookup"><span data-stu-id="44c29-313">No caching</span></span>
* <span data-ttu-id="44c29-314">Läsa cachelagring</span><span class="sxs-lookup"><span data-stu-id="44c29-314">Read caching</span></span>

<span data-ttu-id="44c29-315">Rekommendation för Azure Premium-lagring är att utnyttja **läsa cachelagring för filer** för SAP-databasen och valt **ingen cachelagring för diskar loggfilerna**.</span><span class="sxs-lookup"><span data-stu-id="44c29-315">Recommendation for Azure Premium Storage is to leverage **Read caching for data files** of the SAP database and chose **No caching for the disks of log file(s)**.</span></span>

### <span data-ttu-id="44c29-316"><a name="c8e566f9-21b7-4457-9f7f-126036971a91"></a>Programvarubaserad RAID</span><span class="sxs-lookup"><span data-stu-id="44c29-316"><a name="c8e566f9-21b7-4457-9f7f-126036971a91"></a>Software RAID</span></span>
<span data-ttu-id="44c29-317">Angivits redan ovan, måste du väga antalet IOPS som behövs för databasfilerna över antalet diskar som du kan konfigurera och högsta IOPS en Azure VM ger per disk- eller Premium-lagring disktyp.</span><span class="sxs-lookup"><span data-stu-id="44c29-317">As already stated above, you need to balance the number of IOPS needed for the database files across the number of disks you can configure and the maximum IOPS an Azure VM provides per disk or Premium Storage disk type.</span></span> <span data-ttu-id="44c29-318">Hantera IOPS belastningen över diskar enklast att skapa en programvarubaserad RAID över olika diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-318">Easiest way to deal with the IOPS load over disks is to build a software RAID over the different disks.</span></span> <span data-ttu-id="44c29-319">Placera sedan ett antal filer i SAP-DBMS på LUN högg utanför programvarubaserad RAID.</span><span class="sxs-lookup"><span data-stu-id="44c29-319">Then place a number of data files of the SAP DBMS on the LUNS carved out of the software RAID.</span></span> <span data-ttu-id="44c29-320">Beroende på vilka krav som du kanske vill överväga användning av Premium-lagring samt sedan två av tre olika Premium-lagring diskar har högre IOPS kvot än diskar baserat på standardlagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-320">Dependent on the requirements you might want to consider the usage of Premium Storage as well since two of the three different Premium Storage disks provide higher IOPS quota than disks based on Standard Storage.</span></span> <span data-ttu-id="44c29-321">Förutom den betydande bättre i/o-svarstid som tillhandahålls av Azure Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-321">Besides the significant better I/O latency provided by Azure Premium Storage.</span></span> 

<span data-ttu-id="44c29-322">Detsamma gäller för transaktionsloggen för de olika DBMS-system.</span><span class="sxs-lookup"><span data-stu-id="44c29-322">Same applies to the transaction log of the different DBMS systems.</span></span> <span data-ttu-id="44c29-323">I många av dem bara att lägga till fler Tlog filer hjälper inte eftersom DBMS-system att skriva till en av filerna på bara en gång.</span><span class="sxs-lookup"><span data-stu-id="44c29-323">With many of them just adding more Tlog files does not help since the DBMS systems write into one of the files at a time only.</span></span> <span data-ttu-id="44c29-324">Om du behöver högre IOPS takt än en enda Standard lagring baserat disk kan leverera, du kan stripe över flera standardlagring diskar eller du kan använda en större Premium-lagring disktyp som utöver högre IOPS priser levererar även faktorer kortare svarstid för skrivning I/o i transaktionsloggen.</span><span class="sxs-lookup"><span data-stu-id="44c29-324">If higher IOPS rates are needed than a single Standard Storage based disk can deliver, you can stripe over multiple Standard Storage disks or you can use a larger Premium Storage disk type that beyond higher IOPS rates also delivers factors lower latency for the write I/Os into the transaction log.</span></span>

<span data-ttu-id="44c29-325">Situationer som uppstått i Azure-distributioner som skulle ge företräde åt med en programvarubaserad RAID är:</span><span class="sxs-lookup"><span data-stu-id="44c29-325">Situations experienced in Azure deployments, which would favor using a software RAID are:</span></span>

* <span data-ttu-id="44c29-326">Loggen/gör om transaktionsloggen kräver fler IOPS än Azure tillhandahåller för en enskild disk.</span><span class="sxs-lookup"><span data-stu-id="44c29-326">Transaction Log/Redo Log require more IOPS than Azure provides for a single disk.</span></span> <span data-ttu-id="44c29-327">Som nämnts ovan detta kan lösas genom att skapa ett LUN över flera diskar med hjälp av en programvarubaserad RAID.</span><span class="sxs-lookup"><span data-stu-id="44c29-327">As mentioned above this can be solved by building a LUN over multiple disks using a software RAID.</span></span>
* <span data-ttu-id="44c29-328">En ojämn i/o arbetsbelastning distribution över de olika filerna av SAP-databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-328">Uneven I/O workload distribution over the different data files of the SAP database.</span></span> <span data-ttu-id="44c29-329">I sådana fall kan en uppleva en datafil träffa kvoten snarare ofta.</span><span class="sxs-lookup"><span data-stu-id="44c29-329">In such cases one can experience one data file hitting the quota rather often.</span></span> <span data-ttu-id="44c29-330">Medan andra filer inte får även nära IOPS kvoten för en enskild disk.</span><span class="sxs-lookup"><span data-stu-id="44c29-330">Whereas other data files are not even getting close to the IOPS quota of a single disk.</span></span> <span data-ttu-id="44c29-331">I sådana fall är den enklaste lösningen att skapa en LUN över flera diskar med hjälp av en programvarubaserad RAID.</span><span class="sxs-lookup"><span data-stu-id="44c29-331">In such cases the easiest solution is to build one LUN over multiple disks using a software RAID.</span></span> 
* <span data-ttu-id="44c29-332">Du vet inte vad exakt i/o-arbetsbelastning per fil och bara ungefär övergripande IOPS arbetsbelastningen mot DBMS är okänt.</span><span class="sxs-lookup"><span data-stu-id="44c29-332">You don’t know what the exact I/O workload per data file is and only roughly know what the overall IOPS workload against the DBMS is.</span></span> <span data-ttu-id="44c29-333">Enklast att göra är att skapa en LUN med hjälp av en programvarubaserad RAID.</span><span class="sxs-lookup"><span data-stu-id="44c29-333">Easiest to do is to build one LUN with the help of a software RAID.</span></span> <span data-ttu-id="44c29-334">Summan av kvoter för flera diskar bakom denna LUN bör sedan uppfylla kända IOPS hastighet.</span><span class="sxs-lookup"><span data-stu-id="44c29-334">The sum of quotas of multiple disks behind this LUN should then fulfill the known IOPS rate.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="44c29-336">Windows</span><span class="sxs-lookup"><span data-stu-id="44c29-336">Windows</span></span>
> 
> <span data-ttu-id="44c29-337">Vi rekommenderar att du använder Windows lagringsutrymmen om du kör på Windows Server 2012 eller senare.</span><span class="sxs-lookup"><span data-stu-id="44c29-337">We recommend using Windows Storage Spaces if you run on Windows Server 2012 or higher.</span></span> <span data-ttu-id="44c29-338">Det är effektivare än Windows Striping av tidigare versioner av Windows.</span><span class="sxs-lookup"><span data-stu-id="44c29-338">It is more efficient than Windows Striping of earlier Windows versions.</span></span> <span data-ttu-id="44c29-339">Du kan behöva skapa Windows lagringspooler och lagringsutrymmen med PowerShell-kommandon när du använder Windows Server 2012 som operativsystem.</span><span class="sxs-lookup"><span data-stu-id="44c29-339">You might need to create the Windows Storage Pools and Storage Spaces by PowerShell commands when using Windows Server 2012 as Operating System.</span></span> <span data-ttu-id="44c29-340">PowerShell-kommandon finns här <https://technet.microsoft.com/library/jj851254.aspx></span><span class="sxs-lookup"><span data-stu-id="44c29-340">The PowerShell commands can be found here <https://technet.microsoft.com/library/jj851254.aspx></span></span>
> 
> ![Linux][Logo_Linux] <span data-ttu-id="44c29-342">Linux</span><span class="sxs-lookup"><span data-stu-id="44c29-342">Linux</span></span>
> 
> <span data-ttu-id="44c29-343">Endast MDADM och LVM (logisk volym Manager) kan användas för att skapa en programvarubaserad RAID på Linux.</span><span class="sxs-lookup"><span data-stu-id="44c29-343">Only MDADM and LVM (Logical Volume Manager) are supported to build a software RAID on Linux.</span></span> <span data-ttu-id="44c29-344">Mer information finns i följande artiklar:</span><span class="sxs-lookup"><span data-stu-id="44c29-344">For more information, read the following articles:</span></span>
> 
> * <span data-ttu-id="44c29-345">[Konfigurera programvarubaserad RAID på Linux] [ virtual-machines-linux-configure-raid] (för MDADM)</span><span class="sxs-lookup"><span data-stu-id="44c29-345">[Configure Software RAID on Linux][virtual-machines-linux-configure-raid] (for MDADM)</span></span>
> * <span data-ttu-id="44c29-346">[Konfigurera LVM på en virtuell Linux-dator i Azure][virtual-machines-linux-configure-lvm]</span><span class="sxs-lookup"><span data-stu-id="44c29-346">[Configure LVM on a Linux VM in Azure][virtual-machines-linux-configure-lvm]</span></span>
> 
> 

- - -
<span data-ttu-id="44c29-347">Överväganden för att kunna utnyttja VM-serien, vilket kommer arbeta med Azure Premium-lagring vanligtvis är:</span><span class="sxs-lookup"><span data-stu-id="44c29-347">Considerations for leveraging VM-series, which are able to work with Azure Premium Storage usually are:</span></span>

* <span data-ttu-id="44c29-348">Krav för i/o-latens som är nära SAN/NAS-enheter leverera.</span><span class="sxs-lookup"><span data-stu-id="44c29-348">Demands for I/O latencies that are close to what SAN/NAS devices deliver.</span></span>
* <span data-ttu-id="44c29-349">Begäran för faktorer bättre i/o-svarstid än Azure standardlagring kan ge.</span><span class="sxs-lookup"><span data-stu-id="44c29-349">Demand for factors better I/O latency than Azure Standard Storage can deliver.</span></span>
* <span data-ttu-id="44c29-350">Högre IOPS per virtuell dator än vad som kan uppnås med flera standardlagring diskar mot en viss typ av virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="44c29-350">Higher IOPS per VM than what could be achieved with multiple Standard Storage disks against a certain VM type.</span></span>

<span data-ttu-id="44c29-351">Eftersom den underliggande Azure Storage replikerar varje disk till minst tre lagringsnoder enkel RAID 0 striping kan användas.</span><span class="sxs-lookup"><span data-stu-id="44c29-351">Since the underlying Azure Storage replicates each disk to at least three storage nodes, simple RAID 0 striping can be used.</span></span> <span data-ttu-id="44c29-352">Det finns inget behov av att implementera RAID5 eller RAID1.</span><span class="sxs-lookup"><span data-stu-id="44c29-352">There is no need to implement RAID5 or RAID1.</span></span>

### <span data-ttu-id="44c29-353"><a name="10b041ef-c177-498a-93ed-44b3441ab152"></a>Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="44c29-353"><a name="10b041ef-c177-498a-93ed-44b3441ab152"></a>Microsoft Azure Storage</span></span>
<span data-ttu-id="44c29-354">Microsoft Azure Storage lagrar grundläggande VM (med OS) och diskar eller BLOB till minst tre separata lagringsnoder.</span><span class="sxs-lookup"><span data-stu-id="44c29-354">Microsoft Azure Storage stores the base VM (with OS) and disks or BLOBs to at least three separate storage nodes.</span></span> <span data-ttu-id="44c29-355">När du skapar ett lagringskonto eller hanterade diskar, är det ett val av skydd som visas här:</span><span class="sxs-lookup"><span data-stu-id="44c29-355">When creating a storage account or managed disk, there is a choice of protection as shown here:</span></span>

![GEO-replikering är aktiverat för Azure Storage-konto][dbms-guide-figure-100]

<span data-ttu-id="44c29-357">Azure Storage lokal replikering (lokalt Redundant) ger skydd mot dataförlust på grund av fel i infrastruktur som fåtal kunder kan råd att distribuera.</span><span class="sxs-lookup"><span data-stu-id="44c29-357">Azure Storage Local Replication (Locally Redundant) provides levels of protection against data loss due to infrastructure failure that few customers could afford to deploy.</span></span> <span data-ttu-id="44c29-358">Som visas ovanför det finns fyra olika alternativ med en femte som en variant av en av de första tre.</span><span class="sxs-lookup"><span data-stu-id="44c29-358">As shown above there are four different options with a fifth being a variation of one of the first three.</span></span> <span data-ttu-id="44c29-359">Titta närmare på dem kan vi skilja:</span><span class="sxs-lookup"><span data-stu-id="44c29-359">Looking closer at them we can distinguish:</span></span>

* <span data-ttu-id="44c29-360">**Premium lokalt Redundant lagring (LRS)**: Azure Premium Storage ger stöd för virtuella datorer som körs I/O-intensiva arbetsbelastningar diskar med hög prestanda, låg latens.</span><span class="sxs-lookup"><span data-stu-id="44c29-360">**Premium Locally Redundant Storage (LRS)**: Azure Premium Storage delivers high-performance, low-latency disk support for virtual machines running I/O-intensive workloads.</span></span> <span data-ttu-id="44c29-361">Det finns tre kopior av data i samma Azure-datacentret för en Azure-region.</span><span class="sxs-lookup"><span data-stu-id="44c29-361">There are three replicas of the data within the same Azure datacenter of an Azure region.</span></span> <span data-ttu-id="44c29-362">Kopiorna är i olika fel och uppgradera domäner (begrepp finns [detta] [ planning-guide-3.2] kapitlet i den [Planeringshandboken][planning-guide]).</span><span class="sxs-lookup"><span data-stu-id="44c29-362">The copies are in different Fault and Upgrade Domains (for concepts see [this][planning-guide-3.2] chapter in the [Planning Guide][planning-guide]).</span></span> <span data-ttu-id="44c29-363">En ny replik genereras automatiskt vid en replik av data som skickas från tjänsten på grund av ett nodfel för lagring eller diskfel.</span><span class="sxs-lookup"><span data-stu-id="44c29-363">In case of a replica of the data going out of service due to a storage node failure or disk failure, a new replica is generated automatically.</span></span>
* <span data-ttu-id="44c29-364">**Lokalt Redundant lagring (LRS)**: I det här fallet finns tre kopior av data i samma Azure-datacentret för en Azure-region.</span><span class="sxs-lookup"><span data-stu-id="44c29-364">**Locally Redundant Storage (LRS)**: In this case, there are three replicas of the data within the same Azure datacenter of an Azure region.</span></span> <span data-ttu-id="44c29-365">Kopiorna är i olika fel och uppgradera domäner (begrepp finns [detta] [ planning-guide-3.2] kapitlet i den [Planeringshandboken][planning-guide]).</span><span class="sxs-lookup"><span data-stu-id="44c29-365">The copies are in different Fault and Upgrade Domains (for concepts see [this][planning-guide-3.2] chapter in the [Planning Guide][planning-guide]).</span></span> <span data-ttu-id="44c29-366">En ny replik genereras automatiskt vid en replik av data som skickas från tjänsten på grund av ett nodfel för lagring eller diskfel.</span><span class="sxs-lookup"><span data-stu-id="44c29-366">In case of a replica of the data going out of service due to a storage node failure or disk failure, a new replica is generated automatically.</span></span> 
* <span data-ttu-id="44c29-367">**GEO-Redundant lagring (GRS)**: I det här fallet är det en asynkron replikering som en ytterligare tre kopior av data i en annan Azure-Region som är i de flesta fall i samma geografiska region (till exempel Norra Europa och västra Europa).</span><span class="sxs-lookup"><span data-stu-id="44c29-367">**Geo Redundant Storage (GRS)**: In this case, there is an asynchronous replication that feeds an additional three replicas of the data in another Azure Region, which is in most of the cases in the same geographical region (like North Europe and West Europe).</span></span> <span data-ttu-id="44c29-368">Detta resulterar i tre ytterligare repliker, så att det finns sex repliker i summan.</span><span class="sxs-lookup"><span data-stu-id="44c29-368">This results in three additional replicas, so that there are six replicas in sum.</span></span> <span data-ttu-id="44c29-369">En variant av det här är ett tillägg där data i geo-replikerade Azure-regionen kan användas för skrivskyddade (läsbehörighet Geo-Redundant).</span><span class="sxs-lookup"><span data-stu-id="44c29-369">A variation of this is an addition where the data in the geo replicated Azure region can be used for read purposes (Read-Access Geo-Redundant).</span></span>
* <span data-ttu-id="44c29-370">**Zonen Redundant lagring (ZRS)**: I det här fallet tre kopior av data finns kvar i samma Azure-Region.</span><span class="sxs-lookup"><span data-stu-id="44c29-370">**Zone Redundant Storage (ZRS)**: In this case, the three replicas of the data remain in the same Azure Region.</span></span> <span data-ttu-id="44c29-371">Enligt beskrivningen i [detta] [ planning-guide-3.1] kapitel i den [Planeringshandboken] [ planning-guide] en Azure-region kan vara ett tal för datacenter i närheten.</span><span class="sxs-lookup"><span data-stu-id="44c29-371">As explained in [this][planning-guide-3.1] chapter of the [Planning Guide][planning-guide] an Azure region can be a number of datacenters in close proximity.</span></span> <span data-ttu-id="44c29-372">När det gäller LRS skulle replikerna distribueras över olika datacenter som gör en Azure-region.</span><span class="sxs-lookup"><span data-stu-id="44c29-372">In the case of LRS the replicas would be distributed over the different datacenters that make one Azure region.</span></span>

<span data-ttu-id="44c29-373">Mer information hittar du [här][storage-redundancy].</span><span class="sxs-lookup"><span data-stu-id="44c29-373">More information can be found [here][storage-redundancy].</span></span>

> [!NOTE]
> <span data-ttu-id="44c29-374">För DBMS distributioner rekommenderas inte användning av Geo-Redundant lagring</span><span class="sxs-lookup"><span data-stu-id="44c29-374">For DBMS deployments, the usage of Geo Redundant Storage is not recommended</span></span>
> 
> <span data-ttu-id="44c29-375">Azure Storage Geo-replikering är asynkron.</span><span class="sxs-lookup"><span data-stu-id="44c29-375">Azure Storage Geo-Replication is asynchronous.</span></span> <span data-ttu-id="44c29-376">Replikering av enskilda diskarna monteras på en enda virtuell dator har inte synkroniserats i Lås steg.</span><span class="sxs-lookup"><span data-stu-id="44c29-376">Replication of individual disks mounted to a single VM are not synchronized in lock step.</span></span> <span data-ttu-id="44c29-377">Det är därför inte lämpligt att replikera DBMS-filer som är fördelade över olika diskar eller distribueras mot en programvarubaserad RAID baserat på flera diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-377">Therefore, it is not suitable to replicate DBMS files that are distributed over different disks or deployed against a software RAID based on multiple disks.</span></span> <span data-ttu-id="44c29-378">DBMS-programmet kräver att beständiga disklagring exakt är synkroniserad över olika LUN och underliggande diskar/axlar.</span><span class="sxs-lookup"><span data-stu-id="44c29-378">DBMS software requires that the persistent disk storage is precisely synchronized across different LUNs and underlying disks/spindles.</span></span> <span data-ttu-id="44c29-379">DBMS programvaran använder olika metoder för sekvens-i/o skrivåtgärder aktiviteter och ett DBMS rapporterar att disklagring mål för replikering är skadad om dessa varierar även av några millisekunder.</span><span class="sxs-lookup"><span data-stu-id="44c29-379">DBMS software uses various mechanisms to sequence IO write activities and a DBMS reports that the disk storage targeted by the replication is corrupted if these vary even by a few milliseconds.</span></span> <span data-ttu-id="44c29-380">Därför om en verkligen vill ha en konfiguration med en-databas har sträckts ut över flera diskar georeplikerad måste sådana replikering utföras med databasen innebär och funktioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-380">Hence if one really wants a database configuration with a database stretched across multiple disks geo-replicated, such a replication needs to be performed with database means and functionality.</span></span> <span data-ttu-id="44c29-381">En bör inte lita på Azure Storage Geo-replikering att utföra jobbet.</span><span class="sxs-lookup"><span data-stu-id="44c29-381">One should not rely on Azure Storage Geo-Replication to perform this job.</span></span> 
> 
> <span data-ttu-id="44c29-382">Problemet är enklast att förklara med ett system som exempel.</span><span class="sxs-lookup"><span data-stu-id="44c29-382">The problem is simplest to explain with an example system.</span></span> <span data-ttu-id="44c29-383">Anta att du har ett SAP-system som överförts till Azure, vilket har åtta diskar som innehåller datafiler i DBMS plus en disk som innehåller transaktionsloggfilen.</span><span class="sxs-lookup"><span data-stu-id="44c29-383">Let’s assume you have an SAP system uploaded into Azure, which has eight disks containing data files of the DBMS plus one disk containing the transaction log file.</span></span> <span data-ttu-id="44c29-384">Var och en av diskarna nio har data som skrivs till dem i ett konsekvent sätt enligt DBMS om data skrivs till data eller transaktionen loggfiler.</span><span class="sxs-lookup"><span data-stu-id="44c29-384">Each one of these nine disks have data written to them in a consistent method according to the DBMS, whether the data is being written to the data or transaction log files.</span></span>
> 
> <span data-ttu-id="44c29-385">För att korrekt geo-replikering av data och bibehålla en konsekvent databasen avbildning i innehållet i alla nio diskar måste vara georeplikerad i angiven ordning i/o-åtgärder har utförts mot nio olika diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-385">In order to properly geo-replicate the data and maintain a consistent database image, the content of all nine disks would have to be geo-replicated in the exact order the I/O operations were executed against the nine different disks.</span></span> <span data-ttu-id="44c29-386">Azure Storage geo-replikering tillåter inte för att deklarera beroenden mellan diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-386">However, Azure Storage geo-replication does not allow to declare dependencies between disks.</span></span> <span data-ttu-id="44c29-387">Det innebär att Microsoft Azure Storage geo-replikering inte vet om det faktum att innehållet i dessa nio olika diskar som är relaterade till varandra och att ändringarna som är konsekventa endast när replikering av i/o-åtgärder i ordningen som inträffade på alla nio diskarna.</span><span class="sxs-lookup"><span data-stu-id="44c29-387">This means Microsoft Azure Storage geo-replication doesn’t know about the fact that the contents in these nine different disks are related to each other and that the data changes are consistent only when replicating in the order the I/O operations happened across all the nine disks.</span></span>
> 
> <span data-ttu-id="44c29-388">Förutom risken att hög att georeplikerad bilderna i scenariot inte ger en konsekvent databasen avbildning, är det också en prestandaförsämring som visas med geo-redundant lagring som kan påverka prestanda negativt.</span><span class="sxs-lookup"><span data-stu-id="44c29-388">Besides chances being high that the geo-replicated images in the scenario do not provide a consistent database image, there also is a performance penalty that shows up with geo redundant storage that can severely impact performance.</span></span> <span data-ttu-id="44c29-389">Sammanfattningsvis: Använd inte den här typen av lagring redundans för DBMS typen arbetsbelastningar.</span><span class="sxs-lookup"><span data-stu-id="44c29-389">In summary, do not use this type of storage redundancy for DBMS type workloads.</span></span>
> 
> 

#### <a name="mapping-vhds-into-azure-virtual-machine-service-storage-accounts"></a><span data-ttu-id="44c29-390">Mappningen av virtuella hårddiskar till virtuella Azure-datorn tjänstkonton för lagring</span><span class="sxs-lookup"><span data-stu-id="44c29-390">Mapping VHDs into Azure Virtual Machine Service Storage Accounts</span></span>
<span data-ttu-id="44c29-391">Det här kapitlet gäller bara för Azure Storage-konton.</span><span class="sxs-lookup"><span data-stu-id="44c29-391">This chapter only applies to Azure Storage Accounts.</span></span> <span data-ttu-id="44c29-392">Om du planerar att använda hanterade diskar gäller inte begränsningarna som nämns i detta kapitel.</span><span class="sxs-lookup"><span data-stu-id="44c29-392">If you plan to use Managed Disks, the limitations mentioned in this chapter do not apply.</span></span> <span data-ttu-id="44c29-393">Mer information om hanterade diskar finns i kapitlet [hanterade diskar] [ dbms-guide-managed-disks] i den här handboken.</span><span class="sxs-lookup"><span data-stu-id="44c29-393">For more information about Managed Disks, read chapter [Managed Disks][dbms-guide-managed-disks] of this guide.</span></span>

<span data-ttu-id="44c29-394">Ett Azure Storage-konto är en administrativ konstruktion utan också ett ämne begränsningar.</span><span class="sxs-lookup"><span data-stu-id="44c29-394">An Azure Storage Account is not only an administrative construct, but also a subject of limitations.</span></span> <span data-ttu-id="44c29-395">Medan begränsningarna beror på om vi pratar om ett Azure-Standard Storage-konto eller ett Azure Premium Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="44c29-395">Whereas the limitations vary on whether we talk about an Azure Standard Storage Account or an Azure Premium Storage Account.</span></span> <span data-ttu-id="44c29-396">De exakta möjligheter och begränsningar finns [här][storage-scalability-targets]</span><span class="sxs-lookup"><span data-stu-id="44c29-396">The exact capabilities and limitations are listed [here][storage-scalability-targets]</span></span>

<span data-ttu-id="44c29-397">För Azure standardlagring är det viktigt att Observera att det finns en gräns på IOPS per lagringskonto (rad som innehåller 'Totala begära hastigheten' i [artikeln][storage-scalability-targets]).</span><span class="sxs-lookup"><span data-stu-id="44c29-397">So for Azure Standard Storage it is important to note there is a limit on the IOPS per storage account (Row containing ‘Total Request Rate’ in [the article][storage-scalability-targets]).</span></span> <span data-ttu-id="44c29-398">Det finns också en inledande högst 100 Lagringskonton per Azure-prenumeration (från och med juli 2015).</span><span class="sxs-lookup"><span data-stu-id="44c29-398">In addition, there is an initial limit of 100 Storage Accounts per Azure subscription (as of July 2015).</span></span> <span data-ttu-id="44c29-399">Vi rekommenderar därför att balansera IOPS för virtuella datorer mellan flera lagringskonton när du använder Azure standardlagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-399">Therefore, it is recommended to balance IOPS of VMs between multiple storage accounts when using Azure Standard Storage.</span></span> <span data-ttu-id="44c29-400">Medan en enda virtuell dator använder vi ett lagringskonto om möjligt.</span><span class="sxs-lookup"><span data-stu-id="44c29-400">Whereas a single VM ideally uses one storage account if possible.</span></span> <span data-ttu-id="44c29-401">Om vi pratar om DBMS-distributioner där varje virtuell Hårddisk som finns på Azure standardlagring kunde nå sin kvot bör du därför bara distribuera 30-40 virtuella hårddiskar per Azure Storage-konto som använder Azure standardlagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-401">So if we talk about DBMS deployments where each VHD that is hosted on Azure Standard Storage could reach its quota limit, you should only deploy 30-40 VHDs per Azure Storage Account that uses Azure Standard Storage.</span></span> <span data-ttu-id="44c29-402">Å andra sidan, om du använder Azure Premium-lagring och vill lagra stor databas volymer, kanske du bra som IOPS.</span><span class="sxs-lookup"><span data-stu-id="44c29-402">On the other hand, if you leverage Azure Premium Storage and want to store large database volumes, you might be fine in terms of IOPS.</span></span> <span data-ttu-id="44c29-403">Men en Azure Premium Storage-konto är sätt mer restriktiva i datavolym än en Azure-Standard Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="44c29-403">But an Azure Premium Storage Account is way more restrictive in data volume than an Azure Standard Storage Account.</span></span> <span data-ttu-id="44c29-404">Därför kan du bara distribuera ett begränsat antal virtuella hårddiskar inom Azure Premium Storage-konto innan träffa data Volymgränsen.</span><span class="sxs-lookup"><span data-stu-id="44c29-404">As a result, you can only deploy a limited number of VHDs within an Azure Premium Storage Account before hitting the data volume limit.</span></span> <span data-ttu-id="44c29-405">Se ett Azure Storage-konto som en ”virtuell SAN” som har begränsade möjligheter i IOPS och/eller kapaciteten i slutet.</span><span class="sxs-lookup"><span data-stu-id="44c29-405">At the end, think of an Azure Storage Account as a “Virtual SAN” that has limited capabilities in IOPS and/or capacity.</span></span> <span data-ttu-id="44c29-406">Därför kan aktiviteten finns kvar, som lokala distributioner att definiera layouten för de virtuella hårddiskarna till de olika SAP-system via olika 'tänkt SAN-enheter, eller Azure Storage-konton.</span><span class="sxs-lookup"><span data-stu-id="44c29-406">As a result, the task remains, as in on-premises deployments, to define the layout of the VHDs of the different SAP systems over the different ‘imaginary SAN devices’ or Azure Storage Accounts.</span></span>

<span data-ttu-id="44c29-407">För Azure standardlagring rekommenderas inte presentera lagringen från olika lagringskonton till en enda virtuell dator om möjligt.</span><span class="sxs-lookup"><span data-stu-id="44c29-407">For Azure Standard Storage, it is not recommended to present storage from different storage accounts to a single VM if possible.</span></span>

<span data-ttu-id="44c29-408">När du använder DS eller GS-serien av virtuella Azure-datorer, går det att montera VHD: er från Lagringskonton i Azure-Standard och Premium-Lagringskonton.</span><span class="sxs-lookup"><span data-stu-id="44c29-408">When using the DS or GS-series of Azure VMs, it is possible to mount VHDs out of Azure Standard Storage Accounts and Premium Storage Accounts.</span></span> <span data-ttu-id="44c29-409">Användningsfall som skrivning säkerhetskopieringar till standardlagring backas upp av virtuella hårddiskar och med DBMS data och loggfiler på Premium-lagring som kommer att tänka på där sådan heterogen lagring kan utnyttjas.</span><span class="sxs-lookup"><span data-stu-id="44c29-409">Use cases like writing backups into Standard Storage backed VHDs and having DBMS data and log files on Premium Storage come to mind where such heterogeneous storage could be leveraged.</span></span> 

<span data-ttu-id="44c29-410">Baserat på kunddistributioner och testa cirka 30-40 virtuella hårddiskar som innehåller data databasfilerna och loggfilerna kan etableras på ett enda Azure Standard Storage-konto med acceptabel prestanda.</span><span class="sxs-lookup"><span data-stu-id="44c29-410">Based on customer deployments and testing around 30 to 40 VHDs containing database data files and log files can be provisioned on a single Azure Standard Storage Account with acceptable performance.</span></span> <span data-ttu-id="44c29-411">Som nämnts tidigare är begränsningar i Azure Premium Storage-konto troligt att den kan innehålla data kapaciteten och inte IOPS.</span><span class="sxs-lookup"><span data-stu-id="44c29-411">As mentioned earlier, the limitation of an Azure Premium Storage Account is likely to be the data capacity it can hold and not IOPS.</span></span>

<span data-ttu-id="44c29-412">Som med SAN-enheter lokalt kräver delning viss övervakning för att så småningom upptäcka flaskhalsar på ett Azure Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="44c29-412">As with SAN devices on-premises, sharing requires some monitoring in order to eventually detect bottlenecks on an Azure Storage Account.</span></span> <span data-ttu-id="44c29-413">Azure övervakning tillägget för SAP och Azure portal är verktyg som kan användas för att identifiera upptagen Azure Storage-konton som kan leverera något sämre i/o-prestanda.</span><span class="sxs-lookup"><span data-stu-id="44c29-413">The Azure Monitoring Extension for SAP and the Azure portal are tools that can be used to detect busy Azure Storage Accounts that may be delivering suboptimal IO performance.</span></span>  <span data-ttu-id="44c29-414">Om den här situationen upptäcks, rekommenderas att flytta upptagen virtuella datorer till en annan Azure Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="44c29-414">If this situation is detected, it is recommended to move busy VMs to another Azure Storage Account.</span></span> <span data-ttu-id="44c29-415">Referera till den [Deployment Guide] [ deployment-guide] för information om hur du aktiverar SAP värd övervakningsfunktionerna.</span><span class="sxs-lookup"><span data-stu-id="44c29-415">Refer to the [Deployment Guide][deployment-guide] for details on how to activate the SAP host monitoring capabilities.</span></span>

<span data-ttu-id="44c29-416">En annan artikel sammanfattning metodtips runt Azure standardlagring och Azure Storage-standardkonton hittar du här <https://blogs.msdn.com/b/mast/archive/2014/10/14/configuring-azure-virtual-machines-for-optimal-storage-performance.aspx></span><span class="sxs-lookup"><span data-stu-id="44c29-416">Another article summarizing best practices around Azure Standard Storage and Azure Standard Storage Accounts can be found here <https://blogs.msdn.com/b/mast/archive/2014/10/14/configuring-azure-virtual-machines-for-optimal-storage-performance.aspx></span></span>

#### <span data-ttu-id="44c29-417"><a name="f42c6cb5-d563-484d-9667-b07ae51bce29"></a>Hanterade diskar</span><span class="sxs-lookup"><span data-stu-id="44c29-417"><a name="f42c6cb5-d563-484d-9667-b07ae51bce29"></a>Managed Disks</span></span>
<span data-ttu-id="44c29-418">Hanterade diskar är en ny resurstyp i Azure Resource Manager som kan användas i stället för virtuella hårddiskar som lagras i Azure Storage-konton.</span><span class="sxs-lookup"><span data-stu-id="44c29-418">Managed Disks are a new resource type in Azure Resource Manager that can be used instead of VHDs that are stored in Azure Storage Accounts.</span></span> <span data-ttu-id="44c29-419">Hanterade diskar justeras automatiskt med Tillgänglighetsuppsättningen för den virtuella datorn som de är kopplade till och därför att öka tillgängligheten för den virtuella datorn och de tjänster som körs på den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="44c29-419">Managed Disks automatically align with the Availability Set of the virtual machine they are attached to and therefore increase the availability of your virtual machine and the services that are running on the virtual machine.</span></span> <span data-ttu-id="44c29-420">Mer information finns i [översiktsartikel](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span><span class="sxs-lookup"><span data-stu-id="44c29-420">To learn more, read the [overview article](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span></span>

<span data-ttu-id="44c29-421">SAP stöder för närvarande endast hanteras Premiumdiskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-421">SAP currently only supports Premium Managed Disks.</span></span> <span data-ttu-id="44c29-422">Läs SAP-kommentar [1928533] för mer information.</span><span class="sxs-lookup"><span data-stu-id="44c29-422">Read SAP Note [1928533] for more details.</span></span>

#### <a name="moving-deployed-dbms-vms-from-azure-standard-storage-to-azure-premium-storage"></a><span data-ttu-id="44c29-423">Flytta distribueras DBMS virtuella datorer från Azure standardlagring till Azure Premium-lagring</span><span class="sxs-lookup"><span data-stu-id="44c29-423">Moving deployed DBMS VMs from Azure Standard Storage to Azure Premium Storage</span></span>
<span data-ttu-id="44c29-424">Vi får ganska vissa scenarier där du som kund vill flytta en distribuerad virtuell dator från Azure standardlagring till Azure Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-424">We encounter quite some scenarios where you as customer want to move a deployed VM from Azure Standard Storage into Azure Premium Storage.</span></span> <span data-ttu-id="44c29-425">Om diskarna lagras i Azure Storage-konton kan är det inte möjligt utan att fysiskt flytta data.</span><span class="sxs-lookup"><span data-stu-id="44c29-425">If your disks are stored in Azure Storage Accounts, this is not possible without physically moving the data.</span></span> <span data-ttu-id="44c29-426">Det finns flera sätt att uppnå målet:</span><span class="sxs-lookup"><span data-stu-id="44c29-426">There are several ways to achieve the goal:</span></span>

* <span data-ttu-id="44c29-427">Du kan bara kopiera alla virtuella hårddiskar, bas-VHD som virtuella hårddiskar data till en ny Azure Premium Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="44c29-427">You could simply copy all VHDs, base VHD as well as data VHDs into a new Azure Premium Storage Account.</span></span> <span data-ttu-id="44c29-428">Ofta du har valt antalet virtuella hårddiskar i Azure standardlagring inte på grund av det faktum att du behövs datavolym.</span><span class="sxs-lookup"><span data-stu-id="44c29-428">Often you chose the number of VHDs in Azure Standard Storage not because of the fact that you needed the data volume.</span></span> <span data-ttu-id="44c29-429">Dock du så många virtuella hårddiskar på grund av IOPS.</span><span class="sxs-lookup"><span data-stu-id="44c29-429">But you needed that many VHDs because of the IOPS.</span></span> <span data-ttu-id="44c29-430">Nu när du flyttar till Azure Premium-lagring kan du gå sätt färre virtuella hårddiskar att uppnå samma IOPS genomflöde.</span><span class="sxs-lookup"><span data-stu-id="44c29-430">Now that you move to Azure Premium Storage you could go with way fewer VHDs to achieve the same IOPS throughput.</span></span> <span data-ttu-id="44c29-431">Med tanke på att i Azure standardlagring du betalar för data som används och inte nominell diskens storlek, antalet virtuella hårddiskar inte verkligen är viktiga termer kostnader.</span><span class="sxs-lookup"><span data-stu-id="44c29-431">Given the fact that in Azure Standard Storage you pay for the used data and not the nominal disk size, the number of VHDs did not really matter in terms of costs.</span></span> <span data-ttu-id="44c29-432">Med Azure Premium Storage kan du dock betalar för nominell diskens storlek.</span><span class="sxs-lookup"><span data-stu-id="44c29-432">However, with Azure Premium Storage, you would pay for the nominal disk size.</span></span> <span data-ttu-id="44c29-433">Därför se de flesta kunder till att antalet virtuella hårddiskar Azure i Premium-lagring på det numret som behövs för att uppnå det IOPS genomflödet behövs.</span><span class="sxs-lookup"><span data-stu-id="44c29-433">Therefore, most of the customers try to keep the number of Azure VHDs in Premium Storage at the number needed to achieve the IOPS throughput necessary.</span></span> <span data-ttu-id="44c29-434">Därför Bestäm merparten av kunderna mot sätt på ett enkelt 1:1 kopia.</span><span class="sxs-lookup"><span data-stu-id="44c29-434">So, most customers decide against the way of a simple 1:1 copy.</span></span>
* <span data-ttu-id="44c29-435">Om du ännu inte monterade montera en enda virtuell Hårddisk som kan innehålla en säkerhetskopia av databasen för din SAP-databas.</span><span class="sxs-lookup"><span data-stu-id="44c29-435">If not yet mounted, you mount a single VHD that can contain a database backup of your SAP database.</span></span> <span data-ttu-id="44c29-436">När säkerhetskopieringen, demontera inklusive den virtuella Hårddisken som innehåller säkerhetskopian på alla virtuella hårddiskar och kopiera en bas-VHD och den virtuella Hårddisken med backup till ett Azure Premium Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="44c29-436">After the backup, you unmount all VHDs including the VHD containing the backup and copy the base VHD and the VHD with the backup into an Azure Premium Storage account.</span></span> <span data-ttu-id="44c29-437">Du kan sedan distribuera den virtuella datorn baserat på den virtuella Bashårddisken och Montera VHD: N med backup.</span><span class="sxs-lookup"><span data-stu-id="44c29-437">You would then deploy the VM based on the base VHD and mount the VHD with the backup.</span></span> <span data-ttu-id="44c29-438">Nu kan du skapa ytterligare tom Premiumdiskar med lagringsutrymme för den virtuella datorn som används för att återställa databasen till.</span><span class="sxs-lookup"><span data-stu-id="44c29-438">Now you create additional empty Premium Storage Disks for the VM that are used to restore the database into.</span></span> <span data-ttu-id="44c29-439">Detta förutsätter att DBMS kan du ändra sökvägar till data och loggfilen filer som en del av återställningsprocessen.</span><span class="sxs-lookup"><span data-stu-id="44c29-439">This assumes that the DBMS allows you to change paths to the data and log files as part of the restore process.</span></span>
* <span data-ttu-id="44c29-440">En annan möjlighet är en variation av tidigare processen, där du bara kopiera säkerhetskopian VHD till Azure Premium-lagring och bifoga den mot en virtuell dator som du nyligen har distribuerats och installerats.</span><span class="sxs-lookup"><span data-stu-id="44c29-440">Another possibility is a variation of the former process, where you just copy the backup VHD into Azure Premium Storage and attach it against a VM that you newly deployed and installed.</span></span>
* <span data-ttu-id="44c29-441">Fjärde möjligheten väljer du när du ska behöva ändra antalet datafiler i databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-441">The fourth possibility you would choose when you are in need to change the number of data files of your database.</span></span> <span data-ttu-id="44c29-442">I så fall skulle du utföra en SAP homogen kopian med hjälp av export/import.</span><span class="sxs-lookup"><span data-stu-id="44c29-442">In such a case, you would perform an SAP homogenous system copy using export/import.</span></span> <span data-ttu-id="44c29-443">Placera de exportera filer till en virtuell Hårddisk som kopieras till Azure Premium Storage-konto och koppla den till en virtuell dator som du använder för att köra processer för import.</span><span class="sxs-lookup"><span data-stu-id="44c29-443">Put those export files into a VHD that is copied into an Azure Premium Storage Account and attach it to a VM that you use to run the import processes.</span></span> <span data-ttu-id="44c29-444">Kunder som använder denna möjlighet huvudsakligen när de vill minska antalet datafiler.</span><span class="sxs-lookup"><span data-stu-id="44c29-444">Customers use this possibility mainly when they want to decrease the number of data files.</span></span>

<span data-ttu-id="44c29-445">Om du använder hanterade diskar kan du migrera till Premium-lagring genom att:</span><span class="sxs-lookup"><span data-stu-id="44c29-445">If you use Managed Disks, you can migrate to Premium Storage by:</span></span>

1. <span data-ttu-id="44c29-446">Frigör virtuell dator</span><span class="sxs-lookup"><span data-stu-id="44c29-446">Deallocate the virtual machine</span></span>
2. <span data-ttu-id="44c29-447">Om det behövs, ändra storlek på den virtuella datorn till en storlek som har stöd för Premium-lagring (till exempel DS eller GS)</span><span class="sxs-lookup"><span data-stu-id="44c29-447">If necessary, resize the virtual machine to a size that supports Premium Storage (for example DS or GS)</span></span>
3. <span data-ttu-id="44c29-448">Ändra kontotyp hanterade disken till Premium (SSD)</span><span class="sxs-lookup"><span data-stu-id="44c29-448">Change the Managed Disk account type to Premium (SSD)</span></span>
4. <span data-ttu-id="44c29-449">Starta den virtuella datorn</span><span class="sxs-lookup"><span data-stu-id="44c29-449">Start your virtual machine</span></span>

### <a name="deployment-of-vms-for-sap-in-azure"></a><span data-ttu-id="44c29-450">Distribution av virtuella datorer för SAP i Azure</span><span class="sxs-lookup"><span data-stu-id="44c29-450">Deployment of VMs for SAP in Azure</span></span>
<span data-ttu-id="44c29-451">Microsoft Azure tillhandahåller flera olika sätt att distribuera virtuella datorer och associerade diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-451">Microsoft Azure offers multiple ways to deploy VMs and associated disks.</span></span> <span data-ttu-id="44c29-452">Därmed är det viktigt att förstå skillnaderna eftersom förberedelser för de virtuella datorerna kan variera beroende på hur för distributionen.</span><span class="sxs-lookup"><span data-stu-id="44c29-452">Thereby it is important to understand the differences since preparations of the VMs might differ dependent on the way of deployment.</span></span> <span data-ttu-id="44c29-453">I allmänhet titta vi i scenarier som beskrivs i följande kapitel.</span><span class="sxs-lookup"><span data-stu-id="44c29-453">In general, we look into the scenarios described in the following chapters.</span></span>

#### <a name="deploying-a-vm-from-the-azure-marketplace"></a><span data-ttu-id="44c29-454">Distribuera en virtuell dator från Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="44c29-454">Deploying a VM from the Azure Marketplace</span></span>
<span data-ttu-id="44c29-455">Vill du koppla ifrån en Microsoft eller tredje part som avbildning från Azure Marketplace för att distribuera den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="44c29-455">You like to take a Microsoft or third party provided image from the Azure Marketplace to deploy your VM.</span></span> <span data-ttu-id="44c29-456">När du har distribuerat den virtuella datorn i Azure måste följa du samma riktlinjer och verktyg för att installera programvaran SAP inuti den virtuella datorn som du gör i en lokal miljö.</span><span class="sxs-lookup"><span data-stu-id="44c29-456">After you deployed your VM in Azure, you follow the same guidelines and tools to install the SAP software inside your VM as you would do in an on-premises environment.</span></span> <span data-ttu-id="44c29-457">För att installera SAP-program i Azure VM, SAP och Microsoft rekommenderar överföring och lagra SAP-installationsmediet i diskar eller att skapa en Azure-dator som fungerar som en ”server”, som innehåller alla nödvändiga SAP installationsmediet.</span><span class="sxs-lookup"><span data-stu-id="44c29-457">For installing the SAP software inside the Azure VM, SAP and Microsoft recommend uploading and store the SAP installation media in disks or to create an Azure VM working as a 'File server', which contains all the necessary SAP installation media.</span></span>

#### <a name="deploying-a-vm-with-a-customer-specific-generalized-image"></a><span data-ttu-id="44c29-458">Distribuera en virtuell dator med en kundspecifika generaliserad avbildning</span><span class="sxs-lookup"><span data-stu-id="44c29-458">Deploying a VM with a customer-specific generalized image</span></span>
<span data-ttu-id="44c29-459">På grund av specifika krav om ditt operativsystem eller DBMS-version, kan de tillhandahållna avbildningarna i Azure Marketplace inte passar dina behov.</span><span class="sxs-lookup"><span data-stu-id="44c29-459">Due to specific patch requirements regarding your OS or DBMS version, the provided images in the Azure Marketplace might not fit your needs.</span></span> <span data-ttu-id="44c29-460">Därför kan du behöva skapa en virtuell dator med hjälp av en egen ”privat” OS/DBMS VM-avbildning som kan distribueras efteråt flera gånger.</span><span class="sxs-lookup"><span data-stu-id="44c29-460">Therefore, you might need to create a VM using your own 'private' OS/DBMS VM image, which can be deployed several times afterwards.</span></span> <span data-ttu-id="44c29-461">Operativsystemet måste vara generaliserad på den lokala virtuella datorn för att förbereda en ”privat” avbildning för dubblering.</span><span class="sxs-lookup"><span data-stu-id="44c29-461">To prepare such a 'private' image for duplication, the OS must be generalized on the on-premises VM.</span></span> <span data-ttu-id="44c29-462">Referera till den [Deployment Guide] [ deployment-guide] för information om hur du generalisera en virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="44c29-462">Refer to the [Deployment Guide][deployment-guide] for details on how to generalize a VM.</span></span>

<span data-ttu-id="44c29-463">Om du redan har installerat SAP innehållet i den lokala virtuella datorn (särskilt för nivå 2-system), kan du anpassa SAP systeminställningar när proceduren som stöds av SAP programvara etablering Manager distributionen av virtuella Azure-datorn via instansen (SAP-kommentar [1619720]).</span><span class="sxs-lookup"><span data-stu-id="44c29-463">If you have already installed SAP content in your on-premises VM (especially for 2-Tier systems), you can adapt the SAP system settings after the deployment of the Azure VM through the instance rename procedure supported by the SAP Software Provisioning Manager (SAP Note [1619720]).</span></span> <span data-ttu-id="44c29-464">Annars kan du installera SAP-program senare efter distributionen av Azure VM.</span><span class="sxs-lookup"><span data-stu-id="44c29-464">Otherwise you can install the SAP software later after the deployment of the Azure VM.</span></span>

<span data-ttu-id="44c29-465">Du kan generera innehållet nyligen av en SAP-installation från och med den databas som innehållet används av SAP-program, eller du kan importera ditt innehåll till Azure med hjälp av en virtuell Hårddisk med en säkerhetskopia av databasen DBMS eller genom att utnyttja funktionerna i DBMS Backup direkt till Microsoft Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="44c29-465">As of the database content used by the SAP application, you can either generate the content freshly by an SAP installation or you can import your content into Azure by using a VHD with a DBMS database backup or by leveraging capabilities of the DBMS to directly backup into Microsoft Azure Storage.</span></span> <span data-ttu-id="44c29-466">I det här fallet kan du även förbereda virtuella hårddiskar med den DBMS data och loggfilen filer lokalt och sedan importera dem som diskar till Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-466">In this case, you could also prepare VHDs with the DBMS data and log files on-premises and then import those as Disks into Azure.</span></span> <span data-ttu-id="44c29-467">Men överföring av DBMS-data som läses in från lokal till Azure skulle fungera över VHD-diskar som måste förberedas lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-467">But the transfer of DBMS data, which is getting loaded from on-premises to Azure would work over VHD disks that need to be prepared on-premises.</span></span>

#### <a name="moving-a-vm-from-on-premises-to-azure-with-a-non-generalized-disk"></a><span data-ttu-id="44c29-468">Flytta en virtuell dator från lokal till Azure med en icke-generaliserad disk</span><span class="sxs-lookup"><span data-stu-id="44c29-468">Moving a VM from on-premises to Azure with a non-generalized disk</span></span>
<span data-ttu-id="44c29-469">Du planerar att flytta ett särskilt SAP-system från lokal till Azure (lift och SKIFT).</span><span class="sxs-lookup"><span data-stu-id="44c29-469">You plan to move a specific SAP system from on-premises to Azure (lift and shift).</span></span> <span data-ttu-id="44c29-470">Detta kan göras genom att överföra den disken som innehåller Operativsystemet, SAP-binärfiler och eventuell DBMS-binärfiler plus diskarna med data och loggfilen filer med DBMS till Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-470">This can be done by uploading the disk, which contains the OS, the SAP binaries, and eventual DBMS binaries plus the disks with the data and log files of the DBMS to Azure.</span></span> <span data-ttu-id="44c29-471">I motsatt scenario #2 ovan, behåller du värdnamn, SAP-SID och SAP användarkonton i Azure VM som de har konfigurerats i den lokala miljön.</span><span class="sxs-lookup"><span data-stu-id="44c29-471">In opposite to scenario #2 above, you keep the hostname, SAP SID, and SAP user accounts in the Azure VM as they were configured in the on-premises environment.</span></span> <span data-ttu-id="44c29-472">Därför är att generalisera bilden inte nödvändigt.</span><span class="sxs-lookup"><span data-stu-id="44c29-472">Therefore, generalizing the image is not necessary.</span></span> <span data-ttu-id="44c29-473">Det här fallet gäller främst för anslutningar mellan lokala scenarier där en del av SAP-liggande kör lokalt och delar för på Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-473">This case mostly applies for Cross-Premises scenarios where a part of the SAP landscape is run on-premises and parts on Azure.</span></span>

## <span data-ttu-id="44c29-474"><a name="871dfc27-e509-4222-9370-ab1de77021c3"></a>Hög tillgänglighet och katastrofåterställning med virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="44c29-474"><a name="871dfc27-e509-4222-9370-ab1de77021c3"></a>High Availability and Disaster Recovery with Azure VMs</span></span>
<span data-ttu-id="44c29-475">Azure erbjuder följande hög tillgänglighet och Disaster Recovery (DR) funktioner, som gäller för olika komponenter som vi använder för SAP och DBMS-distributioner</span><span class="sxs-lookup"><span data-stu-id="44c29-475">Azure offers the following High Availability (HA) and Disaster Recovery (DR) functionalities, which apply to different components we would use for SAP and DBMS deployments</span></span>

### <a name="vms-deployed-on-azure-nodes"></a><span data-ttu-id="44c29-476">Virtuella datorer som distribueras på Azure-noder</span><span class="sxs-lookup"><span data-stu-id="44c29-476">VMs deployed on Azure Nodes</span></span>
<span data-ttu-id="44c29-477">Azure-plattformen erbjuder inte funktioner, till exempel Direktmigrering för distribuerade virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="44c29-477">The Azure Platform does not offer features such as Live Migration for deployed VMs.</span></span> <span data-ttu-id="44c29-478">Det innebär att om det krävs Underhåll på ett serverkluster som är distribuerad på en virtuell dator, den virtuella datorn behöver hämta stoppas och startas om.</span><span class="sxs-lookup"><span data-stu-id="44c29-478">This means if there is maintenance necessary on a server cluster on which a VM is deployed, the VM needs to get stopped and restarted.</span></span> <span data-ttu-id="44c29-479">Underhåll i Azure utförs med så kallade uppgradera domäner inom kluster med servrar.</span><span class="sxs-lookup"><span data-stu-id="44c29-479">Maintenance in Azure is performed using so called Upgrade Domains within clusters of servers.</span></span> <span data-ttu-id="44c29-480">Endast en uppgradera domän i taget bevaras.</span><span class="sxs-lookup"><span data-stu-id="44c29-480">Only one Upgrade Domain at a time is being maintained.</span></span> <span data-ttu-id="44c29-481">Under en omstart finns det ett avbrott i tjänsten medan den virtuella datorn är avstängd och underhåll utförs virtuella datorn startas om.</span><span class="sxs-lookup"><span data-stu-id="44c29-481">During such a restart, there is an interruption of service while the VM is shut down, maintenance is performed and VM restarted.</span></span> <span data-ttu-id="44c29-482">De flesta DBMS-leverantörer men ger hög tillgänglighet och katastrofåterställning funktioner som startar snabbt om DBMS-tjänster på en annan nod om den primära noden är tillgänglig.</span><span class="sxs-lookup"><span data-stu-id="44c29-482">Most DBMS vendors however provide High Availability and Disaster Recovery functionality that quickly restarts the DBMS services on another node if the primary node is unavailable.</span></span> <span data-ttu-id="44c29-483">Azure-plattformen ger funktioner för att distribuera virtuella datorer, lagring och andra Azure-tjänster uppgradera domäner så att endast planerat underhåll eller infrastruktur fel påverkar en liten del av virtuella datorer eller tjänster.</span><span class="sxs-lookup"><span data-stu-id="44c29-483">The Azure Platform offers functionality to distribute VMs, Storage, and other Azure services across Upgrade Domains to ensure that planned maintenance or infrastructure failures would only impact a small subset of VMs or services.</span></span>  <span data-ttu-id="44c29-484">Med noggrann planering, är det möjligt att uppnå tillgänglighet jämförbar med lokal infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="44c29-484">With careful planning, it is possible to achieve availability levels comparable to on-premises infrastructures.</span></span>

<span data-ttu-id="44c29-485">Microsoft Azure-Tillgänglighetsuppsättningar är en logisk gruppering av virtuella datorer eller tjänster som säkerställer att virtuella datorer och andra tjänster som har distribuerats till olika fel- och uppgradera domäner inom ett kluster så att det kan bara finnas en nodavstängning på någon punkt i tiden (läsa [(Linux)] [ virtual-machines-manage-availability-linux] eller [(Windows)] [ virtual-machines-manage-availability-windows] mer information).</span><span class="sxs-lookup"><span data-stu-id="44c29-485">Microsoft Azure Availability Sets are a logical grouping of VMs or Services that ensures VMs and other services are distributed to different Fault and Upgrade Domains within a cluster such that there would only be one node shutdown at any one point in time (read [this (Linux)][virtual-machines-manage-availability-linux] or [this (Windows)][virtual-machines-manage-availability-windows] article for more details).</span></span>

<span data-ttu-id="44c29-486">Den måste konfigureras med syftet vid distribution av virtuella datorer som visas här:</span><span class="sxs-lookup"><span data-stu-id="44c29-486">It needs to be configured by purpose when rolling out VMs as seen here:</span></span>

![Definition av Tillgänglighetsuppsättning för DBMS HA konfigurationer][dbms-guide-figure-200]

<span data-ttu-id="44c29-488">Om vi vill skapa hög tillgänglighet konfigurationer för DBMS-distributioner (oberoende av de enskilda DBMS HA funktioner som används) måste de virtuella datorerna DBMS du:</span><span class="sxs-lookup"><span data-stu-id="44c29-488">If we want to create highly available configurations of DBMS deployments (independent of the individual DBMS HA functionality used), the DBMS VMs would need to:</span></span>

* <span data-ttu-id="44c29-489">Lägg till de virtuella datorerna i samma virtuella Azure-nätverk (<https://azure.microsoft.com/documentation/services/virtual-network/>)</span><span class="sxs-lookup"><span data-stu-id="44c29-489">Add the VMs to the same Azure Virtual Network (<https://azure.microsoft.com/documentation/services/virtual-network/>)</span></span>
* <span data-ttu-id="44c29-490">De virtuella datorerna i konfigurationen för hög tillgänglighet bör också vara i samma undernät.</span><span class="sxs-lookup"><span data-stu-id="44c29-490">The VMs of the HA configuration should also be in the same subnet.</span></span> <span data-ttu-id="44c29-491">Det går inte att namnmatchning mellan olika undernät i endast molnbaserad distributioner, endast IP-upplösning fungerar.</span><span class="sxs-lookup"><span data-stu-id="44c29-491">Name resolution between the different subnets is not possible in Cloud-Only deployments, only IP resolution works.</span></span> <span data-ttu-id="44c29-492">Med hjälp av plats-till-plats eller ExpressRoute-anslutning för anslutningar mellan lokala distributioner, redan ett nätverk med minst ett undernät.</span><span class="sxs-lookup"><span data-stu-id="44c29-492">Using site-to-site or ExpressRoute connectivity for Cross-Premises deployments, a network with at least one subnet is already established.</span></span> <span data-ttu-id="44c29-493">Namnmatchning utförs enligt lokalt AD-principer och nätverksinfrastruktur.</span><span class="sxs-lookup"><span data-stu-id="44c29-493">Name resolution is done according to the on-premises AD policies and network infrastructure.</span></span> 

[comment]: <> (MSSedusch TODO testa om det fortfarande true i ARM)

#### <a name="ip-addresses"></a><span data-ttu-id="44c29-495">IP-adresser</span><span class="sxs-lookup"><span data-stu-id="44c29-495">IP Addresses</span></span>
<span data-ttu-id="44c29-496">Vi rekommenderar starkt att konfigurera virtuella datorer för hög tillgänglighet konfigurationer på ett flexibelt sätt.</span><span class="sxs-lookup"><span data-stu-id="44c29-496">It is highly recommended to setup the VMs for HA configurations in a resilient way.</span></span> <span data-ttu-id="44c29-497">Förlita dig på IP-adresser för att adressera HA samarbetspartners inom konfiguration för hög tillgänglighet är inte tillförlitligt i Azure om statiska IP-adresser som används.</span><span class="sxs-lookup"><span data-stu-id="44c29-497">Relying on IP addresses to address the HA partner(s) within the HA configuration is not reliable in Azure unless static IP addresses are used.</span></span> <span data-ttu-id="44c29-498">Det finns två ”Stäng” koncept i Azure:</span><span class="sxs-lookup"><span data-stu-id="44c29-498">There are two "Shutdown" concepts in Azure:</span></span>

* <span data-ttu-id="44c29-499">Stänga ned via Azure-portalen eller Azure PowerShell-cmdlet Stop-AzureRmVM: I det här fallet den virtuella datorn hämtar avstängning och Frigör allokerade.</span><span class="sxs-lookup"><span data-stu-id="44c29-499">Shut down through Azure portal or Azure PowerShell cmdlet Stop-AzureRmVM: In this case, the Virtual Machine gets shutdown and de-allocated.</span></span> <span data-ttu-id="44c29-500">Azure-konto debiteras inte längre för den här virtuella datorn så att endast avgifterna innebära för lagring som används.</span><span class="sxs-lookup"><span data-stu-id="44c29-500">Your Azure account is no longer charged for this VM so the only charges that incur are for the storage used.</span></span> <span data-ttu-id="44c29-501">Om den privata IP-adressen för nätverksgränssnittet inte var statiska IP-adressen frisläpps och det är inte säkert att nätverksgränssnittet får den gamla IP-adress som tilldelats igen efter en omstart av den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="44c29-501">However, if the private IP address of the network interface was not static, the IP address is released and it is not guaranteed that the network interface gets the old IP address assigned again after a restart of the VM.</span></span> <span data-ttu-id="44c29-502">Utför stängs ned via Azure-portalen eller genom att anropa stoppa AzureRmVM automatiskt medför inaktiveringen allokering.</span><span class="sxs-lookup"><span data-stu-id="44c29-502">Performing the shut down through the Azure portal or by calling Stop-AzureRmVM automatically causes de-allocation.</span></span> <span data-ttu-id="44c29-503">Om du inte vill att frigöra datorn att stoppa AzureRmVM - StayProvisioned</span><span class="sxs-lookup"><span data-stu-id="44c29-503">If you do not want to deallocate the machine use Stop-AzureRmVM -StayProvisioned</span></span> 
* <span data-ttu-id="44c29-504">Om du stänger av den virtuella datorn från en OS-nivå, hämtar den virtuella datorn stängs av och inte Frigör allokeras.</span><span class="sxs-lookup"><span data-stu-id="44c29-504">If you shut down the VM from an OS level, the VM gets shut down and NOT de-allocated.</span></span> <span data-ttu-id="44c29-505">Men i det här fallet är ditt Azure-konto fortfarande debiteras för den virtuella datorn, trots att den stängs.</span><span class="sxs-lookup"><span data-stu-id="44c29-505">However, in this case, your Azure account is still charged for the VM, despite the fact that it is shutdown.</span></span> <span data-ttu-id="44c29-506">I sådana fall intakt tilldelning av IP-adressen till en stoppad virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="44c29-506">In such a case, the assignment of the IP address to a stopped VM remains intact.</span></span> <span data-ttu-id="44c29-507">Stänger av den virtuella datorn i tvingar inte inaktiveringen allokering automatiskt.</span><span class="sxs-lookup"><span data-stu-id="44c29-507">Shutting down the VM from within does not automatically force de-allocation.</span></span>

<span data-ttu-id="44c29-508">Även för anslutningar mellan lokala scenarier som standard innebär en avstängning och avinstallation tilldelning inaktiveringen tilldelning av IP-adresser från den virtuella datorn, även om lokala principer i DHCP-inställningarna är olika.</span><span class="sxs-lookup"><span data-stu-id="44c29-508">Even for Cross-Premises scenarios, by default a shutdown and de-allocation means de-assignment of the IP addresses from the VM, even if on-premises policies in DHCP settings are different.</span></span> 

* <span data-ttu-id="44c29-509">Undantaget är om en tilldelas en statisk IP-adress till ett nätverksgränssnitt som beskrivs [här][virtual-networks-reserved-private-ip].</span><span class="sxs-lookup"><span data-stu-id="44c29-509">The exception is if one assigns a static IP address to a network interface as described [here][virtual-networks-reserved-private-ip].</span></span>
* <span data-ttu-id="44c29-510">I sådana fall IP-adressen ligger kvar så länge som nätverksgränssnittet inte tas bort.</span><span class="sxs-lookup"><span data-stu-id="44c29-510">In such a case the IP address remains fixed as long as the network interface is not deleted.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="44c29-511">För att skydda hela distributionen enkel och hanterbar, vi Rensa rekommenderar att konfigurera de virtuella datorerna som samarbetar med DBMS HA eller DR-konfigurationen i Azure så att det finns en fungerande namnmatchning mellan olika virtuella datorer ingår.</span><span class="sxs-lookup"><span data-stu-id="44c29-511">In order to keep the whole deployment simple and manageable, the clear recommendation is to setup the VMs partnering in a DBMS HA or DR configuration within Azure in a way that there is a functioning name resolution between the different VMs involved.</span></span>
> 
> 

## <a name="deployment-of-host-monitoring"></a><span data-ttu-id="44c29-512">Distribution av värden övervakning</span><span class="sxs-lookup"><span data-stu-id="44c29-512">Deployment of Host Monitoring</span></span>
<span data-ttu-id="44c29-513">För effektiv användning av SAP-program i Azure Virtual Machines kräver SAP möjlighet att hämta värden övervakningsdata från de fysiska värdar som kör Azure virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="44c29-513">For productive usage of SAP Applications in Azure Virtual Machines, SAP requires the ability to get host monitoring data from the physical hosts running the Azure Virtual Machines.</span></span> <span data-ttu-id="44c29-514">En specifik SAP Värdagenten korrigeringsnivå krävs som gör att den här funktionen i SAPOSCOL och SAP värden Agent.</span><span class="sxs-lookup"><span data-stu-id="44c29-514">A specific SAP Host Agent patch level is required that enables this capability in SAPOSCOL and SAP Host Agent.</span></span> <span data-ttu-id="44c29-515">Den exakta korrigeringsnivå dokumenteras i SAP-kommentar [1409604].</span><span class="sxs-lookup"><span data-stu-id="44c29-515">The exact patch level is documented in SAP Note [1409604].</span></span>

<span data-ttu-id="44c29-516">Information om distribution av komponenter som skickar värden data SAPOSCOL och SAP Värdagenten och Livscykelhantering för dessa komponenter finns i den [Deployment Guide][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="44c29-516">For the details regarding deployment of components that deliver host data to SAPOSCOL and SAP Host Agent and the lifecycle management of those components, refer to the [Deployment Guide][deployment-guide]</span></span>

## <span data-ttu-id="44c29-517"><a name="3264829e-075e-4d25-966e-a49dad878737"></a>Närmare information till Microsoft SQL Server</span><span class="sxs-lookup"><span data-stu-id="44c29-517"><a name="3264829e-075e-4d25-966e-a49dad878737"></a>Specifics to Microsoft SQL Server</span></span>
### <a name="sql-server-iaas"></a><span data-ttu-id="44c29-518">SQL Server IaaS</span><span class="sxs-lookup"><span data-stu-id="44c29-518">SQL Server IaaS</span></span>
<span data-ttu-id="44c29-519">Från och med Microsoft Azure kan migrera du enkelt dina befintliga SQL Server-program som bygger på Windows Server-plattformen till virtuella datorer i Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-519">Starting with Microsoft Azure, you can easily migrate your existing SQL Server applications built on Windows Server platform to Azure Virtual Machines.</span></span> <span data-ttu-id="44c29-520">SQL Server på en virtuell dator kan du minska den totala ägandekostnaden för distribution, hantering och underhåll av breda företagsprogram genom att enkelt migrera dessa program till Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-520">SQL Server in a Virtual Machine enables you to reduce the total cost of ownership of deployment, management, and maintenance of enterprise breadth applications by easily migrating these applications to Microsoft Azure.</span></span> <span data-ttu-id="44c29-521">Med SQL Server i en virtuell dator i Azure, kan administratörer och utvecklare fortfarande använda samma utveckling och Administrationsverktyg som är tillgängliga lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-521">With SQL Server in an Azure Virtual Machine, administrators and developers can still use the same development and administration tools that are available on-premises.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="44c29-522">Vi diskuterar inte Microsoft Azure SQL Database, vilket är en plattform som en tjänsterbjudande av Microsoft Azure-plattformen.</span><span class="sxs-lookup"><span data-stu-id="44c29-522">We are not discussing Microsoft Azure SQL Database, which is a Platform as a Service offer of the Microsoft Azure Platform.</span></span> <span data-ttu-id="44c29-523">Diskussion i det här dokumentet handlar om hur du kör SQL Server-produkt som de kallas för lokala distributioner i Azure Virtual Machines, utnyttja infrastrukturen som en tjänst-funktion i Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-523">The discussion in this paper is about running the SQL Server product as it is known for on-premises deployments in Azure Virtual Machines, leveraging the Infrastructure as a Service capability of Azure.</span></span> <span data-ttu-id="44c29-524">Databasen funktioner och funktionalitet mellan dessa två erbjudanden är olika och bör inte blandas med varandra.</span><span class="sxs-lookup"><span data-stu-id="44c29-524">Database capabilities and functionalities between these two offers are different and should not be mixed up with each other.</span></span> <span data-ttu-id="44c29-525">Se även: <https://azure.microsoft.com/services/sql-database/></span><span class="sxs-lookup"><span data-stu-id="44c29-525">See also: <https://azure.microsoft.com/services/sql-database/></span></span>
> 
> 

<span data-ttu-id="44c29-526">Vi rekommenderar starkt att granska [detta] [ virtual-machines-sql-server-infrastructure-services] dokumentationen innan du fortsätter.</span><span class="sxs-lookup"><span data-stu-id="44c29-526">It is strongly recommended to review [this][virtual-machines-sql-server-infrastructure-services] documentation before continuing.</span></span>

<span data-ttu-id="44c29-527">I följande avsnitt samman och nämns delar av delar av dokumentationen under länken ovan.</span><span class="sxs-lookup"><span data-stu-id="44c29-527">In the following sections pieces of parts of the documentation under the link above are aggregated and mentioned.</span></span> <span data-ttu-id="44c29-528">Närmare information kring SAP nämns samt och några koncept som beskrivs i detalj.</span><span class="sxs-lookup"><span data-stu-id="44c29-528">Specifics around SAP are mentioned as well and some concepts are described in more detail.</span></span> <span data-ttu-id="44c29-529">Men rekommenderar vi starkt att arbeta igenom dokumentationen ovan första innan du läser den specifika SQL Server-dokumentationen.</span><span class="sxs-lookup"><span data-stu-id="44c29-529">However, it is highly recommended to work through the documentation above first before reading the SQL Server specific documentation.</span></span>

<span data-ttu-id="44c29-530">Det finns några SQL-Server i IaaS specifik information som du bör känna till innan du fortsätter:</span><span class="sxs-lookup"><span data-stu-id="44c29-530">There is some SQL Server in IaaS specific information you should know before continuing:</span></span>

* <span data-ttu-id="44c29-531">**Virtual Machine SLA**: det finns ett SLA för virtuella datorer som körs i Azure som finns här: <https://azure.microsoft.com/support/legal/sla/></span><span class="sxs-lookup"><span data-stu-id="44c29-531">**Virtual Machine SLA**: There is an SLA for Virtual Machines running in Azure, which can be found here: <https://azure.microsoft.com/support/legal/sla/></span></span>  
* <span data-ttu-id="44c29-532">**Stöd för SQL-Version**: för SAP-kunder vi stöder SQL Server 2008 R2 och högre på Microsoft Azure-dator.</span><span class="sxs-lookup"><span data-stu-id="44c29-532">**SQL Version Support**: For SAP customers, we support SQL Server 2008 R2 and higher on Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="44c29-533">Tidigare versioner stöds inte.</span><span class="sxs-lookup"><span data-stu-id="44c29-533">Earlier editions are not supported.</span></span> <span data-ttu-id="44c29-534">Granska övergripande [Support Statement](https://support.microsoft.com/kb/956893) för mer information.</span><span class="sxs-lookup"><span data-stu-id="44c29-534">Review this general [Support Statement](https://support.microsoft.com/kb/956893) for more details.</span></span> <span data-ttu-id="44c29-535">Observera att i allmänhet SQL Server 2008 stöds av Microsoft samt.</span><span class="sxs-lookup"><span data-stu-id="44c29-535">Note that in general SQL Server 2008 is supported by Microsoft as well.</span></span> <span data-ttu-id="44c29-536">Men på grund av viktiga funktioner för SAP, som introducerades i SQL Server 2008 R2, SQL Server 2008 R2 är den minsta versionen för SAP.</span><span class="sxs-lookup"><span data-stu-id="44c29-536">However due to significant functionality for SAP, which was introduced with SQL Server 2008 R2, SQL Server 2008 R2 is the minimum release for SAP.</span></span> <span data-ttu-id="44c29-537">Tänk på att SQL Server 2012 och 2014 har utökats med djupare integrering IaaS-scenario (till exempel säkerhetskopiera direkt mot Azure Storage).</span><span class="sxs-lookup"><span data-stu-id="44c29-537">Keep in mind that SQL Server 2012 and 2014 got extended with deeper integration into the IaaS scenario (like backing up directly against Azure Storage).</span></span> <span data-ttu-id="44c29-538">Därför begränsar vi det här dokumentet till SQL Server 2012 och 2014 med den senaste korrigeringsnivå för Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-538">Therefore, we restrict this paper to SQL Server 2012 and 2014 with its latest patch level for Azure.</span></span>
* <span data-ttu-id="44c29-539">**Stöd för SQL-funktionen**: mest SQL Server-funktioner stöds på Microsoft Azure-datorer med vissa undantag.</span><span class="sxs-lookup"><span data-stu-id="44c29-539">**SQL Feature Support**: Most SQL Server features are supported on Microsoft Azure Virtual Machines with some exceptions.</span></span> <span data-ttu-id="44c29-540">**SQL Server Failover Clustering med hjälp av delade diskar stöds inte**.</span><span class="sxs-lookup"><span data-stu-id="44c29-540">**SQL Server Failover Clustering using Shared Disks is not supported**.</span></span>  <span data-ttu-id="44c29-541">Distribuerade tekniker som databasspegling, AlwaysOn Availability Groups, replikering, Loggöverföring och Service Broker stöds i en enda Azure-Region.</span><span class="sxs-lookup"><span data-stu-id="44c29-541">Distributed technologies like Database Mirroring, AlwaysOn Availability Groups, Replication, Log Shipping and Service Broker are supported within a single Azure Region.</span></span> <span data-ttu-id="44c29-542">SQL Server AlwaysOn också stöds mellan olika Azure-regioner som dokumenteras här: <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.</span><span class="sxs-lookup"><span data-stu-id="44c29-542">SQL Server AlwaysOn also is supported between different Azure Regions as documented here:  <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.</span></span>  <span data-ttu-id="44c29-543">Granska de [Support Statement](https://support.microsoft.com/kb/956893) för mer information.</span><span class="sxs-lookup"><span data-stu-id="44c29-543">Review the [Support Statement](https://support.microsoft.com/kb/956893) for more details.</span></span> <span data-ttu-id="44c29-544">Ett exempel på hur du distribuerar en AlwaysOn-konfiguration visas i [detta] [ virtual-machines-workload-template-sql-alwayson] artikel.</span><span class="sxs-lookup"><span data-stu-id="44c29-544">An example on how to deploy an AlwaysOn configuration is shown in [this][virtual-machines-workload-template-sql-alwayson] article.</span></span> <span data-ttu-id="44c29-545">Dessutom kolla metodtips dokumenterade [här][virtual-machines-sql-server-infrastructure-services]</span><span class="sxs-lookup"><span data-stu-id="44c29-545">Also, check out the Best Practices documented [here][virtual-machines-sql-server-infrastructure-services]</span></span> 
* <span data-ttu-id="44c29-546">**Prestanda för SQL**: vi är säker på att Microsoft Azure virtuella värddatorerna utföra mycket bra jämförelse med andra virtualiseringslösningar för offentliga moln, men enskilda resultaten kan variera.</span><span class="sxs-lookup"><span data-stu-id="44c29-546">**SQL Performance**: We are confident that Microsoft Azure hosted Virtual Machines perform very well in comparison to other public cloud virtualization offerings, but individual results may vary.</span></span> <span data-ttu-id="44c29-547">Checka ut [detta] [ virtual-machines-sql-server-performance-best-practices] artikel.</span><span class="sxs-lookup"><span data-stu-id="44c29-547">Check out [this][virtual-machines-sql-server-performance-best-practices] article.</span></span>
* <span data-ttu-id="44c29-548">**Med hjälp av avbildningar från Azure Marketplace**: det snabbaste sättet att distribuera en ny Microsoft Azure VM är att använda en avbildning från Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="44c29-548">**Using Images from Azure Marketplace**: The fastest way to deploy a new Microsoft Azure VM is to use an image from the Azure Marketplace.</span></span> <span data-ttu-id="44c29-549">Det finns avbildningar i Azure Marketplace, som innehåller SQL Server.</span><span class="sxs-lookup"><span data-stu-id="44c29-549">There are images in the Azure Marketplace, which contain SQL Server.</span></span> <span data-ttu-id="44c29-550">Bilderna där SQL Server redan är installerad kan inte användas direkt för SAP NetWeaver program.</span><span class="sxs-lookup"><span data-stu-id="44c29-550">The images where SQL Server already is installed can’t be immediately used for SAP NetWeaver applications.</span></span> <span data-ttu-id="44c29-551">Orsaken är standardsortering för SQL Server är installerade på bilderna och inte den sortering som krävs av SAP NetWeaver system.</span><span class="sxs-lookup"><span data-stu-id="44c29-551">The reason is the default SQL Server collation is installed within those images and not the collation required by SAP NetWeaver systems.</span></span> <span data-ttu-id="44c29-552">För att kunna använda dessa bilder, kontrollera stegen i kapitel [med hjälp av en SQL Server-avbildning utanför Microsoft Azure Marketplace][dbms-guide-5.6].</span><span class="sxs-lookup"><span data-stu-id="44c29-552">In order to use such images, check the steps documented in chapter [Using a SQL Server image out of the Microsoft Azure Marketplace][dbms-guide-5.6].</span></span> 
* <span data-ttu-id="44c29-553">Checka ut [prisinformation](https://azure.microsoft.com/pricing/) för mer information.</span><span class="sxs-lookup"><span data-stu-id="44c29-553">Check out [Pricing Details](https://azure.microsoft.com/pricing/) for more information.</span></span> <span data-ttu-id="44c29-554">Den [SQL Server 2012 Licensing Guide](https://download.microsoft.com/download/7/3/C/73CAD4E0-D0B5-4BE5-AB49-D5B886A5AE00/SQL_Server_2012_Licensing_Reference_Guide.pdf) och [SQL Server 2014 licensiering Guide](https://download.microsoft.com/download/B/4/E/B4E604D9-9D38-4BBA-A927-56E4C872E41C/SQL_Server_2014_Licensing_Guide.pdf) är också en viktig resurs.</span><span class="sxs-lookup"><span data-stu-id="44c29-554">The [SQL Server 2012 Licensing Guide](https://download.microsoft.com/download/7/3/C/73CAD4E0-D0B5-4BE5-AB49-D5B886A5AE00/SQL_Server_2012_Licensing_Reference_Guide.pdf) and [SQL Server 2014 Licensing Guide](https://download.microsoft.com/download/B/4/E/B4E604D9-9D38-4BBA-A927-56E4C872E41C/SQL_Server_2014_Licensing_Guide.pdf) are also an important resource.</span></span>

### <a name="sql-server-configuration-guidelines-for-sap-related-sql-server-installations-in-azure-vms"></a><span data-ttu-id="44c29-555">Riktlinjer för SQL Server-konfiguration för SAP-relaterade SQL Server-installationerna i virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="44c29-555">SQL Server configuration guidelines for SAP-related SQL Server installations in Azure VMs</span></span>
#### <a name="recommendations-on-vmvhd-structure-for-sap-related-sql-server-deployments"></a><span data-ttu-id="44c29-556">Rekommendationer för VM/VHD-strukturen för SAP-relaterade SQL Server-distributioner</span><span class="sxs-lookup"><span data-stu-id="44c29-556">Recommendations on VM/VHD structure for SAP-related SQL Server deployments</span></span>
<span data-ttu-id="44c29-557">I enlighet med den allmänna beskrivningen körbara filer i SQL Server belägen eller installerats i operativsystemdisken för den Virtuella datorns systemenhet (enhet C:\).</span><span class="sxs-lookup"><span data-stu-id="44c29-557">In accordance with the general description, SQL Server executables should be located or installed into the system drive of the VM’s OS disk (drive C:\).</span></span>  <span data-ttu-id="44c29-558">De flesta av SQL Server-systemdatabaserna används vanligtvis inte på en hög nivå av SAP NetWeaver arbetsbelastning.</span><span class="sxs-lookup"><span data-stu-id="44c29-558">Typically, most of the SQL Server system databases are not utilized at a high level by SAP NetWeaver workload.</span></span> <span data-ttu-id="44c29-559">Därför kan systemdatabaser av SQL Server (master, msdb och modell) finns kvar på enhetens C:\.</span><span class="sxs-lookup"><span data-stu-id="44c29-559">Hence the system databases of SQL Server (master, msdb, and model) can remain on the C:\ drive as well.</span></span> <span data-ttu-id="44c29-560">Ett undantag kan vara tempdb som när det gäller vissa SAP ERP och alla BW arbetsbelastningar kan kräva högre datavolym eller i/o-åtgärder volymen, som inte kan placeras i den ursprungliga virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="44c29-560">An exception could be tempdb, which in the case of some SAP ERP and all BW workloads, might require either higher data volume or I/O operations volume, which can’t fit into the original VM.</span></span> <span data-ttu-id="44c29-561">Följande steg ska utföras för sådana system:</span><span class="sxs-lookup"><span data-stu-id="44c29-561">For such systems, the following steps should be performed:</span></span>

* <span data-ttu-id="44c29-562">Flytta primära tempdb-datafiler till samma logiska enhet som den primära datafiler SAP-databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-562">Move the primary tempdb data file(s) to the same logical drive as the primary data file(s) of the SAP database.</span></span>
* <span data-ttu-id="44c29-563">Lägga till alla ytterligare tempdb-datafiler i alla andra logiska enheter som innehåller en datafil för SAP-användardatabasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-563">Add any additional tempdb data files to each of the other logical drives containing a data file of the SAP user database.</span></span>
* <span data-ttu-id="44c29-564">Lägg till tempdb-loggfilen i den logiska enheten som innehåller användare databasloggfilen.</span><span class="sxs-lookup"><span data-stu-id="44c29-564">Add the tempdb logfile to the logical drive, which contains the user database’s log file.</span></span>
* <span data-ttu-id="44c29-565">**Endast för VM-typer som använder lokala SSD** på compute-nod tempdb data och loggfilen filer kan placeras på D:\-enhet.</span><span class="sxs-lookup"><span data-stu-id="44c29-565">**Exclusively for VM types that use local SSDs** on the compute node tempdb data and log files might be placed on the D:\ drive.</span></span> <span data-ttu-id="44c29-566">Det kan dock vara bör du använda flera tempdb-datafiler.</span><span class="sxs-lookup"><span data-stu-id="44c29-566">Nevertheless, it might be recommended to use multiple tempdb data files.</span></span> <span data-ttu-id="44c29-567">Tänk på D:\ enhetsvolymer är olika beroende på vilken typ av virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="44c29-567">Be aware D:\ drive volumes are different based on the VM type.</span></span>

<span data-ttu-id="44c29-568">De här konfigurationerna aktivera tempdb förbruka mer utrymme än systemenheten kan ge.</span><span class="sxs-lookup"><span data-stu-id="44c29-568">These configurations enable tempdb to consume more space than the system drive is able to provide.</span></span> <span data-ttu-id="44c29-569">För att fastställa rätt tempdb-storlek, kontrollera en tempdb-storlekar på befintliga system som kör lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-569">In order to determine the proper tempdb size, one can check the tempdb sizes on existing systems, which run on-premises.</span></span> <span data-ttu-id="44c29-570">En sådan konfiguration skulle dessutom aktivera IOPS siffror mot tempdb som kan tillhandahållas med systemenheten.</span><span class="sxs-lookup"><span data-stu-id="44c29-570">In addition, such a configuration would enable IOPS numbers against tempdb, which cannot be provided with the system drive.</span></span> <span data-ttu-id="44c29-571">Igen och kan system som kör lokalt användas för att övervaka i/o-arbetsbelastning mot tempdb så att du kan härleda IOPS-siffror som du förväntar dig att se på tempdb.</span><span class="sxs-lookup"><span data-stu-id="44c29-571">Again, systems that are running on-premises can be used to monitor I/O workload against tempdb so that you can derive the IOPS numbers you expect to see on your tempdb.</span></span>

<span data-ttu-id="44c29-572">En VM-konfiguration, som kör SQL Server med en SAP-databas och där tempdb data och tempdb logfile placeras på enheten D:\ ser ut som:</span><span class="sxs-lookup"><span data-stu-id="44c29-572">A VM configuration, which runs SQL Server with an SAP database and where tempdb data and tempdb logfile are placed on the D:\ drive would look like:</span></span>

![För referenskonfiguration av Azure IaaS-VM för SAP][dbms-guide-figure-300]

<span data-ttu-id="44c29-574">Tänk på att enheten D:\ har olika storlekar, beroende på vilken typ av virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="44c29-574">Be aware that the D:\ drive has different sizes dependent on the VM type.</span></span> <span data-ttu-id="44c29-575">Beroende på kraven för storlek på tempdb du kan tvingas att par tempdb data och loggfilen filer med SAP data och loggfilen databasfilerna i fall där D:\ enheten är för liten.</span><span class="sxs-lookup"><span data-stu-id="44c29-575">Dependent on the size requirement of tempdb you might be forced to pair tempdb data and log files with the SAP database data and log files in cases where D:\ drive is too small.</span></span>

#### <a name="formatting-the-disks"></a><span data-ttu-id="44c29-576">Formatera diskarna</span><span class="sxs-lookup"><span data-stu-id="44c29-576">Formatting the disks</span></span>
<span data-ttu-id="44c29-577">För SQL Server NTFS blockstorlek för diskar som innehåller SQL Server-data och loggfiler ska vara 64 kB.</span><span class="sxs-lookup"><span data-stu-id="44c29-577">For SQL Server the NTFS block size for disks containing SQL Server data and log files should be 64K.</span></span> <span data-ttu-id="44c29-578">Det finns inget behov formatera D:\ enheten.</span><span class="sxs-lookup"><span data-stu-id="44c29-578">There is no need to format the D:\ drive.</span></span> <span data-ttu-id="44c29-579">Den här enheten kommer före formaterad.</span><span class="sxs-lookup"><span data-stu-id="44c29-579">This drive comes pre-formatted.</span></span>

<span data-ttu-id="44c29-580">För att se till att återställa eller skapandet av databaser inte initieras datafilerna av nollställning innehållet i filerna, bör en Kontrollera att SQL Server-tjänsten körs i användarkontexten har en viss behörighet.</span><span class="sxs-lookup"><span data-stu-id="44c29-580">In order to make sure that the restore or creation of databases is not initializing the data files by zeroing the content of the files, one should make sure that the user context the SQL Server service is running in has a certain permission.</span></span> <span data-ttu-id="44c29-581">Användare i gruppen Windows-administratör har vanligtvis dessa behörigheter.</span><span class="sxs-lookup"><span data-stu-id="44c29-581">Usually users in the Windows Administrator group have these permissions.</span></span> <span data-ttu-id="44c29-582">Om SQL Server-tjänsten körs i en användarkontext för icke - Windows administratör, måste du tilldela användaren användarrättigheten 'Utföra underhållsaktiviteter'.</span><span class="sxs-lookup"><span data-stu-id="44c29-582">If the SQL Server service is run in the user context of non-Windows Administrator user, you need to assign that user the User Right ‘Perform volume maintenance tasks’.</span></span>  <span data-ttu-id="44c29-583">Visa information i det här Microsoft Knowledge Base-artikel: <https://support.microsoft.com/kb/2574695></span><span class="sxs-lookup"><span data-stu-id="44c29-583">See the details in this Microsoft Knowledge Base Article: <https://support.microsoft.com/kb/2574695></span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="44c29-584">Effekten av databasen komprimering</span><span class="sxs-lookup"><span data-stu-id="44c29-584">Impact of database compression</span></span>
<span data-ttu-id="44c29-585">Alla åtgärder, vilket minskar IOPS kan hjälpa till att sträcka ut arbetsbelastningen kan köra i ett IaaS-scenario som Azure i konfigurationer där i/o-bandbredd kan bli en begränsande faktor.</span><span class="sxs-lookup"><span data-stu-id="44c29-585">In configurations where I/O bandwidth can become a limiting factor, every measure, which reduces IOPS might help to stretch the workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="44c29-586">Därför om inte har gjort rekommenderas tillämpa SQL Server-sidan komprimering av både SAP och Microsoft innan du laddar upp en befintlig SAP-databas till Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-586">Therefore, if not yet done, applying SQL Server PAGE compression is strongly recommended by both SAP and Microsoft before uploading an existing SAP database to Azure.</span></span>

<span data-ttu-id="44c29-587">Rekommendationen att utföra databas komprimering innan du laddar upp till Azure får slut på två skäl:</span><span class="sxs-lookup"><span data-stu-id="44c29-587">The recommendation to perform Database Compression before uploading to Azure is given out of two reasons:</span></span>

* <span data-ttu-id="44c29-588">Mängden data som ska överföras är lägre.</span><span class="sxs-lookup"><span data-stu-id="44c29-588">The amount of data to be uploaded is lower.</span></span>
* <span data-ttu-id="44c29-589">Varaktighet för komprimering körningen är kortare förutsatt att något kan använda starkare maskinvara med flera processorer eller högre i/o-bandbredd eller mindre i/o-svarstid lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-589">The duration of the compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises.</span></span>
* <span data-ttu-id="44c29-590">Databasen är mindre kan leda till lägre kostnader för diskallokering</span><span class="sxs-lookup"><span data-stu-id="44c29-590">Smaller database sizes might lead to less costs for disk allocation</span></span>

<span data-ttu-id="44c29-591">Databasen komprimering fungerar också i ett Azure Virtual Machines som lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-591">Database compression works as well in an Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="44c29-592">Mer information om hur du komprimera en befintlig SAP SQL Server-databas finns här: <https://blogs.msdn.com/b/saponsqlserver/archive/2010/10/08/compressing-an-sap-database-using-report-msscompress.aspx></span><span class="sxs-lookup"><span data-stu-id="44c29-592">For more details on how to compress an existing SAP SQL Server database, check here: <https://blogs.msdn.com/b/saponsqlserver/archive/2010/10/08/compressing-an-sap-database-using-report-msscompress.aspx></span></span>

### <a name="sql-server-2014--storing-database-files-directly-on-azure-blob-storage"></a><span data-ttu-id="44c29-593">SQLServer 2014 – lagra databasfilerna direkt på Azure Blob Storage</span><span class="sxs-lookup"><span data-stu-id="44c29-593">SQL Server 2014 – Storing Database Files directly on Azure Blob Storage</span></span>
<span data-ttu-id="44c29-594">SQL Server 2014 öppnas möjlighet att lagra databasfiler direkt på Azure Blob Store utan omslutning av en virtuell Hårddisk runtom.</span><span class="sxs-lookup"><span data-stu-id="44c29-594">SQL Server 2014 opens the possibility to store database files directly on Azure Blob Store without the ‘wrapper’ of a VHD around them.</span></span> <span data-ttu-id="44c29-595">Särskilt med hjälp av Azure standardlagring eller mindre VM-typer kan detta scenarier där du kan lösa gränserna för IOPS skulle tillämpas av ett begränsat antal diskar som kan monteras till vissa mindre VM-typer.</span><span class="sxs-lookup"><span data-stu-id="44c29-595">Especially with using Standard Azure Storage or smaller VM types this enables scenarios where you can overcome the limits of IOPS that would be enforced by a limited number of disks that can be mounted to some smaller VM types.</span></span> <span data-ttu-id="44c29-596">Detta fungerar för användardatabaser men inte för systemdatabaser av SQL Server.</span><span class="sxs-lookup"><span data-stu-id="44c29-596">This works for user databases however not for system databases of SQL Server.</span></span> <span data-ttu-id="44c29-597">Den fungerar även för data och loggfiler för SQL Server.</span><span class="sxs-lookup"><span data-stu-id="44c29-597">It also works for data and log files of SQL Server.</span></span> <span data-ttu-id="44c29-598">Om du vill distribuera en SAP SQL Server-databas sätt i stället för ”radbrytning' till virtuella hårddiskar, Tänk på följande:</span><span class="sxs-lookup"><span data-stu-id="44c29-598">If you’d like to deploy an SAP SQL Server database this way instead of ‘wrapping’ it into VHDs, keep the following in mind:</span></span>

* <span data-ttu-id="44c29-599">Storage-konto för måste finnas i samma Azure-Region som det som används för att distribuera Virtuella SQL Server körs i.</span><span class="sxs-lookup"><span data-stu-id="44c29-599">The Storage Account used needs to be in the same Azure Region as the one that is used to deploy the VM SQL Server is running in.</span></span>
* <span data-ttu-id="44c29-600">Överväganden avseende som angavs tidigare distribution av virtuella hårddiskar över olika Azure Storage-konton gäller för den här metoden samt distributioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-600">Considerations listed earlier regarding the distribution of VHDs over different Azure Storage Accounts apply for this method of deployments as well.</span></span> <span data-ttu-id="44c29-601">Innebär att antalet i/o-åtgärder mot gränserna för Azure Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="44c29-601">Means the I/O operations count against the limits of the Azure Storage Account.</span></span>

[comment]: <> (MSSedusch TODO men det här använder nätverket och inte lagring bandbredd, inte den?)

<span data-ttu-id="44c29-603">Information om den här typen av distribution visas här: <https://docs.microsoft.com/sql/relational-databases/databases/sql-server-data-files-in-microsoft-azure></span><span class="sxs-lookup"><span data-stu-id="44c29-603">Details about this type of deployment are listed here: <https://docs.microsoft.com/sql/relational-databases/databases/sql-server-data-files-in-microsoft-azure></span></span>

<span data-ttu-id="44c29-604">För att kunna lagra filer för SQL Server-data direkt på Azure Premium-lagring måste du ha ett minsta SQL Server 2014 korrigering version som dokumenteras här: <https://support.microsoft.com/kb/3063054>.</span><span class="sxs-lookup"><span data-stu-id="44c29-604">In order to store SQL Server data files directly on Azure Premium Storage, you need to have a minimum SQL Server 2014 patch release, which is documented here: <https://support.microsoft.com/kb/3063054>.</span></span> <span data-ttu-id="44c29-605">Lagra filer för SQL Server-data på Azure standardlagring fungerar med den utgivna versionen av SQL Server 2014.</span><span class="sxs-lookup"><span data-stu-id="44c29-605">Storing SQL Server data files on Azure Standard Storage does work with the released version of SQL Server 2014.</span></span> <span data-ttu-id="44c29-606">Samma uppdateringsfilerna innehåller dock en annan serie korrigeringar som gör det mer tillförlitlig direkt användning av Azure Blob Storage för SQL Server-datafiler och säkerhetskopieringar.</span><span class="sxs-lookup"><span data-stu-id="44c29-606">However, the very same patches contain another series of fixes, which make the direct usage of Azure Blob Storage for SQL Server data files and backups more reliable.</span></span> <span data-ttu-id="44c29-607">Därför bör du använda dessa korrigeringar i allmänhet.</span><span class="sxs-lookup"><span data-stu-id="44c29-607">Therefore we recommend using these patches in general.</span></span>

### <a name="sql-server-2014-buffer-pool-extension"></a><span data-ttu-id="44c29-608">Buffertpooltillägget för SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="44c29-608">SQL Server 2014 Buffer Pool Extension</span></span>
<span data-ttu-id="44c29-609">SQL Server 2014 introducerade en ny funktion som kallas Buffertpooltillägget.</span><span class="sxs-lookup"><span data-stu-id="44c29-609">SQL Server 2014 introduced a new feature, which is called Buffer Pool Extension.</span></span> <span data-ttu-id="44c29-610">Den här funktionen utökar buffertpooltillägget för SQL Server som är kvar i minnet med en andra nivå cache som backas upp av lokala SSD-enheter på en server eller virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="44c29-610">This functionality extends the buffer pool of SQL Server, which is kept in memory with a second level cache that is backed by local SSDs of a server or VM.</span></span> <span data-ttu-id="44c29-611">Detta gör att en större arbetsminnet för data ”i minnet'.</span><span class="sxs-lookup"><span data-stu-id="44c29-611">This enables to keep a larger working set of data ‘in memory’.</span></span> <span data-ttu-id="44c29-612">Jämfört med att komma åt Azure standardlagring är åtkomst till tillägget på den buffertpool som är lagrad på lokala SSD av en Azure VM många faktorer snabbare.</span><span class="sxs-lookup"><span data-stu-id="44c29-612">Compared to accessing Azure Standard Storage the access into the extension of the buffer pool, which is stored on local SSDs of an Azure VM is many factors faster.</span></span>  <span data-ttu-id="44c29-613">Utnyttja VM-typer som har utmärkt IOPS och genomströmning D:\ lokalt kunde därför inte en mycket rimligt sätt att minska belastningen IOPS mot Azure Storage och förbättra svarstiden för frågor dramatiskt.</span><span class="sxs-lookup"><span data-stu-id="44c29-613">Therefore, leveraging the local D:\ drive of the VM types that have excellent IOPS and throughput could be a very reasonable way to reduce the IOPS load against Azure Storage and improve response times of queries dramatically.</span></span> <span data-ttu-id="44c29-614">Detta gäller särskilt om du inte använder Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-614">This applies especially when not using Premium Storage.</span></span> <span data-ttu-id="44c29-615">Premium-lagring och användning av Läs-Cache Premium Azure på Beräkningsnoden förväntas några betydande skillnader som rekommenderas för datafiler.</span><span class="sxs-lookup"><span data-stu-id="44c29-615">In case of Premium Storage and the usage of the Premium Azure Read Cache on the compute node, as recommended for data files, no significant differences are expected.</span></span> <span data-ttu-id="44c29-616">Orsaken är att båda cacheminnen (Buffertpooltillägget för SQL Server- och Premium-lagring Läs-Cache) använder lokala diskar på datornoderna.</span><span class="sxs-lookup"><span data-stu-id="44c29-616">Reason is that both caches (SQL Server Buffer Pool Extension and Premium Storage Read Cache) are using the local disks of the compute nodes.</span></span>
<span data-ttu-id="44c29-617">Mer information om den här funktionen finns i den här dokumentationen: <https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension></span><span class="sxs-lookup"><span data-stu-id="44c29-617">For more details about this functionality, check this documentation: <https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension></span></span> 

### <a name="backuprecovery-considerations-for-sql-server"></a><span data-ttu-id="44c29-618">Säkerhetskopiering/återställning överväganden för SQL Server</span><span class="sxs-lookup"><span data-stu-id="44c29-618">Backup/Recovery considerations for SQL Server</span></span>
<span data-ttu-id="44c29-619">Vid distribution av SQL Server i Azure måste din backup metod granskas.</span><span class="sxs-lookup"><span data-stu-id="44c29-619">When deploying SQL Server into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="44c29-620">Även om systemet inte är en produktiv system måste SAP-databasen med SQL Server som värd säkerhetskopieras regelbundet.</span><span class="sxs-lookup"><span data-stu-id="44c29-620">Even if the system is not a productive system, the SAP database hosted by SQL Server must be backed up periodically.</span></span> <span data-ttu-id="44c29-621">Eftersom Azure Storage håller tre bilder, är nu en säkerhetskopia mindre viktiga med avseende på kompenserande en krasch lagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-621">Since Azure Storage keeps three images, a backup is now less important in respect to compensating a storage crash.</span></span> <span data-ttu-id="44c29-622">Prioritet orsaken för att bibehålla en korrekt plan för säkerhetskopiering och återställning är mer som du kan kompensera för logiska/manuell fel genom att tillhandahålla punkt i tiden återställningsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-622">The priority reason for maintaining a proper backup and recovery plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="44c29-623">Målet är så att antingen använda säkerhetskopieringar att återställa databasen till en viss punkt i tid eller använda säkerhetskopieringar i Azure som startvärde för ett annat system genom att kopiera den befintliga databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-623">So the goal is to either use backups to restore the database back to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="44c29-624">Till exempel kunde du överföra från en SAP nivå 2-konfiguration till en 3-skikts systeminställningarna för samma system genom att återställa en säkerhetskopia.</span><span class="sxs-lookup"><span data-stu-id="44c29-624">For example, you could transfer from a 2-Tier SAP configuration to a 3-Tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="44c29-625">Det finns tre olika sätt att säkerhetskopiera SQL Server till Azure Storage:</span><span class="sxs-lookup"><span data-stu-id="44c29-625">There are three different ways to backup SQL Server to Azure Storage:</span></span>

1. <span data-ttu-id="44c29-626">SQL Server 2012 CU4 och senare kan internt säkerhetskopierade databaser till en URL.</span><span class="sxs-lookup"><span data-stu-id="44c29-626">SQL Server 2012 CU4 and higher can natively backup databases to a URL.</span></span> <span data-ttu-id="44c29-627">Detta beskrivs i bloggen [nya funktioner i SQL Server 2014 – del 5 – säkerhetskopiering/återställning förbättringar](https://blogs.msdn.com/b/saponsqlserver/archive/2014/02/15/new-functionality-in-sql-server-2014-part-5-backup-restore-enhancements.aspx).</span><span class="sxs-lookup"><span data-stu-id="44c29-627">This is detailed in the blog [New functionality in SQL Server 2014 – Part 5 – Backup/Restore Enhancements](https://blogs.msdn.com/b/saponsqlserver/archive/2014/02/15/new-functionality-in-sql-server-2014-part-5-backup-restore-enhancements.aspx).</span></span> <span data-ttu-id="44c29-628">Se kapitel [SQL Server 2012 SP1 CU4 och senare][dbms-guide-5.5.1].</span><span class="sxs-lookup"><span data-stu-id="44c29-628">See chapter [SQL Server 2012 SP1 CU4 and later][dbms-guide-5.5.1].</span></span>
2. <span data-ttu-id="44c29-629">SQL Server-versioner före SQL 2012 CU4 kan använda en omdirigering funktionalitet för att säkerhetskopiera till en virtuell Hårddisk och övergå i princip write-dataströmmen till en Azure-lagringsplats som har konfigurerats.</span><span class="sxs-lookup"><span data-stu-id="44c29-629">SQL Server releases prior to SQL 2012 CU4 can use a redirection functionality to backup to a VHD and basically move the write stream towards an Azure Storage location that has been configured.</span></span> <span data-ttu-id="44c29-630">Se kapitel [SQL Server 2012 SP1 CU3 och tidigare versioner][dbms-guide-5.5.2].</span><span class="sxs-lookup"><span data-stu-id="44c29-630">See chapter [SQL Server 2012 SP1 CU3 and earlier releases][dbms-guide-5.5.2].</span></span>
3. <span data-ttu-id="44c29-631">Den sista metoden är att utföra en säkerhetskopiering av konventionella SQL Server på en disk på en diskenhet.</span><span class="sxs-lookup"><span data-stu-id="44c29-631">The final method is to perform a conventional SQL Server backup to disk command onto a disk device.</span></span> <span data-ttu-id="44c29-632">Detta är identisk med den lokala distributionen mönstret och beskrivs inte i detalj i detta dokument.</span><span class="sxs-lookup"><span data-stu-id="44c29-632">This is identical to the on-premises deployment pattern and is not discussed in detail in this document.</span></span>

#### <span data-ttu-id="44c29-633"><a name="0fef0e79-d3fe-4ae2-85af-73666a6f7268"></a>SQL Server 2012 SP1 CU4 och senare</span><span class="sxs-lookup"><span data-stu-id="44c29-633"><a name="0fef0e79-d3fe-4ae2-85af-73666a6f7268"></a>SQL Server 2012 SP1 CU4 and later</span></span>
<span data-ttu-id="44c29-634">Den här funktionen kan du direkt säkerhetskopiering till Azure BLOB storage.</span><span class="sxs-lookup"><span data-stu-id="44c29-634">This functionality allows you to directly backup to Azure BLOB storage.</span></span> <span data-ttu-id="44c29-635">Utan den här metoden måste du säkerhetskopiera till andra diskar som ska använda disk- och IOPS kapacitet.</span><span class="sxs-lookup"><span data-stu-id="44c29-635">Without this method, you must backup to other disks, which would consume disk and IOPS capacity.</span></span> <span data-ttu-id="44c29-636">Tanken är i princip:</span><span class="sxs-lookup"><span data-stu-id="44c29-636">The idea is basically this:</span></span>

 ![Med hjälp av SQL Server 2012-säkerhetskopiering till Microsoft Azure Storage BLOB][dbms-guide-figure-400]

<span data-ttu-id="44c29-638">Fördelen är i det här fallet inte behöver en tillbringar diskar för att lagra säkerhetskopior av SQL Server på.</span><span class="sxs-lookup"><span data-stu-id="44c29-638">The advantage in this case is that one doesn’t need to spend disks to store SQL Server backups on.</span></span> <span data-ttu-id="44c29-639">Så har du färre diskar som är allokerade och hela bandbredden för disk-IOPS kan användas för data och loggfiler.</span><span class="sxs-lookup"><span data-stu-id="44c29-639">So you have fewer disks allocated and the whole bandwidth of disk IOPS can be used for data and log files.</span></span> <span data-ttu-id="44c29-640">Observera att den maximala storleken för en säkerhetskopia är begränsad till högst 1 TB enligt beskrivningen i avsnittet ”begränsningar” i den här artikeln: <https://docs.microsoft.com/sql/relational-databases/backup-restore/sql-server-backup-to-url#limitations>.</span><span class="sxs-lookup"><span data-stu-id="44c29-640">Note that the maximum size of a backup is limited to a maximum of 1 TB as documented in the section ‘Limitations’ in this article: <https://docs.microsoft.com/sql/relational-databases/backup-restore/sql-server-backup-to-url#limitations>.</span></span> <span data-ttu-id="44c29-641">Om storleken på säkerhetskopian, trots att med hjälp av SQL Server-säkerhetskopiering komprimering skulle överskrida 1 TB i storlek, funktionerna beskrivs i kapitlet [SQL Server 2012 SP1 CU3 och tidigare versioner] [ dbms-guide-5.5.2] i det här dokumentet måste användas.</span><span class="sxs-lookup"><span data-stu-id="44c29-641">If the backup size, despite using SQL Server Backup compression would exceed 1 TB in size, the functionality described in chapter [SQL Server 2012 SP1 CU3 and earlier releases][dbms-guide-5.5.2] in this document needs to be used.</span></span>

<span data-ttu-id="44c29-642">[Relaterad dokumentation](https://docs.microsoft.com/sql/relational-databases/backup-restore/restoring-from-backups-stored-in-microsoft-azure) som beskriver återställning av databaser från säkerhetskopior mot Azure Blob Store rekommenderar inte för att återställa direkt från Azure BLOB store om säkerhetskopian finns > 25 GB.</span><span class="sxs-lookup"><span data-stu-id="44c29-642">[Related documentation](https://docs.microsoft.com/sql/relational-databases/backup-restore/restoring-from-backups-stored-in-microsoft-azure) describing the restore of databases from backups against Azure Blob Store recommend not to restore directly from Azure BLOB store if the backup is >25GB.</span></span> <span data-ttu-id="44c29-643">Rekommendationerna i den här artikeln är bara baserat på prestandaöverväganden och inte på grund av funktionella begränsningar.</span><span class="sxs-lookup"><span data-stu-id="44c29-643">The recommendation in this article is simply based on performance considerations and not due to functional restrictions.</span></span> <span data-ttu-id="44c29-644">Därför kan olika villkor tillämpas på en fall till fall.</span><span class="sxs-lookup"><span data-stu-id="44c29-644">Therefore, different conditions may apply on a case by case basis.</span></span>

<span data-ttu-id="44c29-645">Dokumentation om hur den här typen av säkerhetskopiering har konfigurerats och utnyttjas kan hittas i [detta](https://docs.microsoft.com/sql/relational-databases/tutorial-use-azure-blob-storage-service-with-sql-server-2016) självstudiekursen</span><span class="sxs-lookup"><span data-stu-id="44c29-645">Documentation on how this type of backup is set up and leveraged can be found in [this](https://docs.microsoft.com/sql/relational-databases/tutorial-use-azure-blob-storage-service-with-sql-server-2016) tutorial</span></span>

<span data-ttu-id="44c29-646">Ett exempel på ordningsföljden kan läsas [här](https://docs.microsoft.com/sql/relational-databases/backup-restore/sql-server-backup-to-url).</span><span class="sxs-lookup"><span data-stu-id="44c29-646">An example of the sequence of steps can be read [here](https://docs.microsoft.com/sql/relational-databases/backup-restore/sql-server-backup-to-url).</span></span>

<span data-ttu-id="44c29-647">Automatiserad säkerhetskopiering, är det av högsta vikt att se till att BLOB för varje säkerhetskopiering namn på olika sätt.</span><span class="sxs-lookup"><span data-stu-id="44c29-647">Automating backups, it is of highest importance to make sure that the BLOBs for each backup are named differently.</span></span> <span data-ttu-id="44c29-648">Annars de skrivs över och restore-kedjan har brutits.</span><span class="sxs-lookup"><span data-stu-id="44c29-648">Otherwise they are overwritten and the restore chain is broken.</span></span>

<span data-ttu-id="44c29-649">För att inte blanda ihop saker mellan tre olika typer av säkerhetskopior är det lämpligt att skapa olika behållare under storage-konto som används för säkerhetskopieringen.</span><span class="sxs-lookup"><span data-stu-id="44c29-649">In order not to mix up things between the three different types of backups, it is advisable to create different containers underneath the storage account used for backups.</span></span> <span data-ttu-id="44c29-650">Behållarna som kan vara av virtuell dator bara eller efter typ av virtuell dator och säkerhetskopiering.</span><span class="sxs-lookup"><span data-stu-id="44c29-650">The containers could be by VM only or by VM and Backup type.</span></span> <span data-ttu-id="44c29-651">Schemat kan se ut så:</span><span class="sxs-lookup"><span data-stu-id="44c29-651">The schema could look like:</span></span>

 ![Med hjälp av SQL Server 2012-säkerhetskopiering till Microsoft Azure Storage BLOB – olika behållare under separat Storage-konto][dbms-guide-figure-500]

<span data-ttu-id="44c29-653">I exemplet ovan skulle du inte utföra säkerhetskopieringar i samma lagringskonto där de virtuella datorerna har distribuerats.</span><span class="sxs-lookup"><span data-stu-id="44c29-653">In the example above, the backups would not be performed into the same storage account where the VMs are deployed.</span></span> <span data-ttu-id="44c29-654">Det är ett nytt lagringskonto för säkerhetskopior.</span><span class="sxs-lookup"><span data-stu-id="44c29-654">There would be a new storage account specifically for the backups.</span></span> <span data-ttu-id="44c29-655">I storage-konton kan det vara olika behållare som skapats med en matris av typen av säkerhetskopiering och namnet på virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="44c29-655">Within the storage accounts, there would be different containers created with a matrix of the type of backup and the VM name.</span></span> <span data-ttu-id="44c29-656">Sådana segmentering gör det lättare att administrera säkerhetskopieringar för olika virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="44c29-656">Such segmentation makes it easier to administrate the backups of the different VMs.</span></span>

<span data-ttu-id="44c29-657">BLOB som en direkt skriver säkerhetskopieringar till, lägger inte till antalet data diskar på en virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="44c29-657">The BLOBs one directly writes the backups to, are not adding to the count of the data disks of a VM.</span></span> <span data-ttu-id="44c29-658">Därför kan en Maximera maximalt antalet datadiskar som monterats av specifika VM SKU för data och transaktion loggfilen och fortfarande köra en säkerhetskopiering mot en lagringsbehållare.</span><span class="sxs-lookup"><span data-stu-id="44c29-658">Hence one could maximize the maximum of data disks mounted of the specific VM SKU for the data and transaction log file and still execute a backup against a storage container.</span></span> 

#### <span data-ttu-id="44c29-659"><a name="f9071eff-9d72-4f47-9da4-1852d782087b"></a>SQL Server 2012 SP1 CU3 och tidigare versioner</span><span class="sxs-lookup"><span data-stu-id="44c29-659"><a name="f9071eff-9d72-4f47-9da4-1852d782087b"></a>SQL Server 2012 SP1 CU3 and earlier releases</span></span>
<span data-ttu-id="44c29-660">Det första steget när du måste utföra för att uppnå en säkerhetskopia direkt mot Azure Storage är att hämta msi, som är kopplad till [detta](https://www.microsoft.com/download/details.aspx?id=40740) KBA artikel.</span><span class="sxs-lookup"><span data-stu-id="44c29-660">The first step you must perform in order to achieve a backup directly against Azure Storage would be to download the msi, which is linked to [this](https://www.microsoft.com/download/details.aspx?id=40740) KBA article.</span></span>

<span data-ttu-id="44c29-661">Hämta x64 installationsfilen och i dokumentationen.</span><span class="sxs-lookup"><span data-stu-id="44c29-661">Download the x64 installation file and the documentation.</span></span> <span data-ttu-id="44c29-662">Filen installerar ett program som heter: ”Microsoft SQL Server-säkerhetskopiering till Microsoft Azure-verktyget”.</span><span class="sxs-lookup"><span data-stu-id="44c29-662">The file installs a program called: ‘Microsoft SQL Server Backup to Microsoft Azure Tool’.</span></span> <span data-ttu-id="44c29-663">Läs i dokumentationen för produkten noggrant.</span><span class="sxs-lookup"><span data-stu-id="44c29-663">Read the documentation of the product thoroughly.</span></span>  <span data-ttu-id="44c29-664">Verktyget fungerar i princip på följande sätt:</span><span class="sxs-lookup"><span data-stu-id="44c29-664">The tool basically works in the following way:</span></span>

* <span data-ttu-id="44c29-665">En plats för SQL Server-säkerhetskopiering har definierats från SQL Server-sida (Använd inte D:\ enheten för den här).</span><span class="sxs-lookup"><span data-stu-id="44c29-665">From the SQL Server side, a disk location for the SQL Server backup is defined (don’t use the D:\ drive for this).</span></span>
* <span data-ttu-id="44c29-666">Verktyget kan du definiera regler som kan användas för att styra olika typer av säkerhetskopieringar för olika Azure Storage-behållare.</span><span class="sxs-lookup"><span data-stu-id="44c29-666">The tool allows you to define rules, which can be used to direct different types of backups to different Azure Storage containers.</span></span>
* <span data-ttu-id="44c29-667">När reglerna är på plats, omdirigerar verktyget skrivdataström av säkerhetskopian till en av de virtuella hårddiskar/diskarna till Azure Storage-plats, som definierades tidigare.</span><span class="sxs-lookup"><span data-stu-id="44c29-667">Once the rules are in place, the tool redirects the write stream of the backup to one of the VHDs/disks to the Azure Storage location, which was defined earlier.</span></span>
* <span data-ttu-id="44c29-668">Verktyget lämnar en liten stub-fil med några KB storleken på VHD/disken som har definierats för SQL Server säkerhetskopiering.</span><span class="sxs-lookup"><span data-stu-id="44c29-668">The tool leaves a small stub file of a few KB size on the VHD/Disk, which was defined for the SQL Server backup.</span></span> <span data-ttu-id="44c29-669">**Den här filen ska lämnas på lagringsplatsen eftersom det krävs för att återställa igen från Azure Storage.**</span><span class="sxs-lookup"><span data-stu-id="44c29-669">**This file should be left on the storage location since it is required to restore again from Azure Storage.**</span></span>
  * <span data-ttu-id="44c29-670">Om du har tappat bort stubbfil (till exempel genom förlust av lagringsmedia som innehöll stub-filen) och du har valt alternativet för att säkerhetskopiera till ett Microsoft Azure Storage-konto, kan du återställa stub-filen via Microsoft Azure Storage genom att hämta det från vilken lagringsbehållare som den släpptes.</span><span class="sxs-lookup"><span data-stu-id="44c29-670">If you have lost the stub file (for example through loss of the storage media that contained the stub file) and you have chosen the option of backing up to a Microsoft Azure Storage account, you may recover the stub file through Microsoft Azure Storage by downloading it from the storage container in which it was placed.</span></span> <span data-ttu-id="44c29-671">Du bör placera stub-filen till en mapp på den lokala datorn där verktyget är konfigurerad för att identifiera och ladda upp till behållaren med samma Krypteringslösenord om kryptering användes med den ursprungliga regeln.</span><span class="sxs-lookup"><span data-stu-id="44c29-671">You should then place the stub file into a folder on the local machine where the Tool is configured to detect and upload to the same container with the same encryption password if encryption was used with the original rule.</span></span> 

<span data-ttu-id="44c29-672">Det innebär att schemat som beskrivs ovan för nyare versioner av SQL Server kan placeras på plats samt SQL Server-versioner som inte tillåter att direkt adressen en Azure-lagringsplats.</span><span class="sxs-lookup"><span data-stu-id="44c29-672">This means the schema as described above for more recent releases of SQL Server can be put in place as well for SQL Server releases, which are not allowing direct address an Azure Storage location.</span></span>

<span data-ttu-id="44c29-673">Den här metoden ska inte användas med nyare SQL Server-versioner som stöder stödjande in internt mot Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="44c29-673">This method should not be used with more recent SQL Server releases, which support backing up natively against Azure Storage.</span></span> <span data-ttu-id="44c29-674">Undantag är där begränsningar av interna säkerhetskopiering till Azure blockerar interna säkerhetskopiering körning i Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-674">Exceptions are where limitations of the native backup into Azure are blocking native backup execution into Azure.</span></span>

#### <a name="other-possibilities-to-backup-sql-server-databases"></a><span data-ttu-id="44c29-675">Andra alternativ för att säkerhetskopiera SQL Server-databaser</span><span class="sxs-lookup"><span data-stu-id="44c29-675">Other possibilities to backup SQL Server databases</span></span>
<span data-ttu-id="44c29-676">Andra alternativ för att säkerhetskopiera databaser är att koppla ytterligare datadiskar till en virtuell dator som du använder för att lagra säkerhetskopior på.</span><span class="sxs-lookup"><span data-stu-id="44c29-676">Other possibilities to backup databases is to attach additional data disks to a VM that you use to store backups on.</span></span> <span data-ttu-id="44c29-677">I så fall behöver du se till att diskarna inte kör fullständig.</span><span class="sxs-lookup"><span data-stu-id="44c29-677">In such a case, you would need to make sure that the disks are not running full.</span></span> <span data-ttu-id="44c29-678">Om så är fallet, skulle du behöva demontera diskarna så till speak 'Arkivera' den och Ersätt den med en ny tom disk.</span><span class="sxs-lookup"><span data-stu-id="44c29-678">If that is the case, you would need to unmount the disks and so to speak ‘archive’ it and replace it with a new empty disk.</span></span> <span data-ttu-id="44c29-679">Om du går ned den sökvägen du vill behålla dessa virtuella hårddiskar i separata Azure Storage-konton från de som virtuella hårddiskar med databasfilerna.</span><span class="sxs-lookup"><span data-stu-id="44c29-679">If you go down that path, you want to keep these VHDs in separate Azure Storage Accounts from the ones that the VHDs with the database files.</span></span>

<span data-ttu-id="44c29-680">En andra alternativet är att använda en stor virtuell dator som kan ha många diskar som är anslutna, till exempel en D14 med 32VHDs.</span><span class="sxs-lookup"><span data-stu-id="44c29-680">A second possibility is to use a large VM that can have many disks attached, for example a D14 with 32VHDs.</span></span> <span data-ttu-id="44c29-681">Använd lagringsutrymmen för att bygga en flexibel miljö där du kan skapa resurser som sedan används som mål för säkerhetskopiering för olika DBMS-servrar.</span><span class="sxs-lookup"><span data-stu-id="44c29-681">Use Storage Spaces to build a flexible environment where you could build shares that are used then as backup targets for the different DBMS servers.</span></span>

<span data-ttu-id="44c29-682">Metodtips fick dokumenterade [här](https://blogs.msdn.com/b/sqlcat/archive/2015/02/26/large-sql-server-database-backup-on-an-azure-vm-and-archiving.aspx) samt.</span><span class="sxs-lookup"><span data-stu-id="44c29-682">Some best practices got documented [here](https://blogs.msdn.com/b/sqlcat/archive/2015/02/26/large-sql-server-database-backup-on-an-azure-vm-and-archiving.aspx) as well.</span></span> 

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="44c29-683">Prestandaöverväganden för säkerhetskopiering/återställning</span><span class="sxs-lookup"><span data-stu-id="44c29-683">Performance considerations for backups/restores</span></span>
<span data-ttu-id="44c29-684">Säkerhetskopiering/återställning prestanda är beroende av hur många volymer kan läsas parallellt och vilka genomflödet av dessa volymer kan vara som bare metal-distributioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-684">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="44c29-685">CPU-förbrukning som används av säkerhetskopieringskomprimering kan dessutom spela en viktig roll på virtuella datorer med bara upp till åtta CPU-trådar.</span><span class="sxs-lookup"><span data-stu-id="44c29-685">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to eight CPU threads.</span></span> <span data-ttu-id="44c29-686">Därför kan anta en:</span><span class="sxs-lookup"><span data-stu-id="44c29-686">Therefore, one can assume:</span></span>

* <span data-ttu-id="44c29-687">Det färre antalet diskar som används för att lagra data filer, desto mindre totala genomflödet i läsning.</span><span class="sxs-lookup"><span data-stu-id="44c29-687">The fewer the number of disks used to store the data files, the smaller the overall throughput in reading.</span></span>
* <span data-ttu-id="44c29-688">Mindre antal CPU trådar i den virtuella datorn på allvarligare effekten av säkerhetskopieringskomprimering.</span><span class="sxs-lookup"><span data-stu-id="44c29-688">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression.</span></span>
* <span data-ttu-id="44c29-689">Färre mål (BLOB, virtuella hårddiskar eller diskar) för att skriva säkerhetskopian till den lägsta genomflödet.</span><span class="sxs-lookup"><span data-stu-id="44c29-689">The fewer targets (BLOBs, VHDs, or disks) to write the backup to, the lesser the throughput.</span></span>
* <span data-ttu-id="44c29-690">Ju mindre VM storlek, desto mindre genomströmning lagringskvoten skrivning och läsning från Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="44c29-690">The smaller the VM size, the smaller the storage throughput quota writing and reading from Azure Storage.</span></span> <span data-ttu-id="44c29-691">Oberoende av om säkerhetskopiorna lagras direkt på Azure Blob eller om de lagras i virtuella hårddiskar som är lagrade i Azure BLOB igen.</span><span class="sxs-lookup"><span data-stu-id="44c29-691">Independent of whether the backups are directly stored on Azure Blob or whether they are stored in VHDs that again are stored in Azure Blobs.</span></span>

<span data-ttu-id="44c29-692">När du använder Microsoft Azure Storage BLOB som mål för säkerhetskopian i senare versioner begränsas du till att ange endast en URL-mål för varje specifik säkerhetskopiering.</span><span class="sxs-lookup"><span data-stu-id="44c29-692">When using a Microsoft Azure Storage BLOB as the backup target in more recent releases, you are restricted to designating only one URL target for each specific backup.</span></span>

<span data-ttu-id="44c29-693">Men när du använder ”Microsoft SQL Server att säkerhetskopiera till Microsoft Azure-verktyget' i äldre versioner, kan du definiera mer än en målfil.</span><span class="sxs-lookup"><span data-stu-id="44c29-693">But when using the ‘Microsoft SQL Server Backup to Microsoft Azure Tool’ in older releases, you can define more than one file target.</span></span> <span data-ttu-id="44c29-694">Säkerhetskopieringen kan skala med fler än ett mål och dataflöde på säkerhetskopian som är högre.</span><span class="sxs-lookup"><span data-stu-id="44c29-694">With more than one target, the backup can scale and the throughput of the backup is higher.</span></span> <span data-ttu-id="44c29-695">Detta leder sedan flera filer samt i Azure Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="44c29-695">This would result then in multiple files as well in the Azure Storage account.</span></span> <span data-ttu-id="44c29-696">I våra tester med flera filen mål en definitivt kan uppnå dataflöde, vilket en kan uppnå med säkerhetskopiering filnamnstillägg genomföras från SQL Server 2012 SP1 CU4 på.</span><span class="sxs-lookup"><span data-stu-id="44c29-696">In our testing, using multiple file destinations one can definitely achieve the throughput, which one could achieve with the backup extensions implemented in from SQL Server 2012 SP1 CU4 on.</span></span> <span data-ttu-id="44c29-697">Du också blockeras inte av 1TB gränsen som interna säkerhetskopiering till Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-697">You also are not blocked by the 1TB limit as in the native backup into Azure.</span></span>

<span data-ttu-id="44c29-698">Tänk dock på, genomflödet beror också på platsen för Azure Storage-konto du använder för säkerhetskopieringen.</span><span class="sxs-lookup"><span data-stu-id="44c29-698">However, keep in mind, the throughput also is dependent on the location of the Azure Storage Account you use for the backup.</span></span> <span data-ttu-id="44c29-699">En idé kan vara att hitta lagringskontot i en annan region än de virtuella datorerna körs i.</span><span class="sxs-lookup"><span data-stu-id="44c29-699">An idea might be to locate the storage account in a different region than the VMs are running in.</span></span> <span data-ttu-id="44c29-700">Du skulle till exempel köra VM-konfiguration i västra Europa men placera Storage-konto som du använda för tillbaka in mot i Norra Europa.</span><span class="sxs-lookup"><span data-stu-id="44c29-700">For example you would run the VM configuration in West-Europe, but put the Storage Account that you use to back up against in North-Europe.</span></span> <span data-ttu-id="44c29-701">Som har påverkar säkerhetskopiering genomflöde och är inte troligt att generera en genomströmning på 150MB per sekund som verkar möjligt i fall där mål-lagringskontot och de virtuella datorerna körs i samma regionala datacenter.</span><span class="sxs-lookup"><span data-stu-id="44c29-701">That certainly has an impact on the backup throughput and is not likely to generate a throughput of 150MB/sec as it seems to be possible in cases where the target storage and the VMs are running in the same regional datacenter.</span></span>

#### <a name="managing-backup-blobs"></a><span data-ttu-id="44c29-702">Hanterar säkerhetskopierade BLOB</span><span class="sxs-lookup"><span data-stu-id="44c29-702">Managing Backup BLOBs</span></span>
<span data-ttu-id="44c29-703">Det är ett krav att hantera säkerhetskopiering på egen hand.</span><span class="sxs-lookup"><span data-stu-id="44c29-703">There is a requirement to manage the backups on your own.</span></span> <span data-ttu-id="44c29-704">Eftersom förutsättningen att många blobbar skapas genom att köra säkerhetskopieringar av transaktionsloggen ofta, kan administration av dessa blobbar enkelt överbelasta Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="44c29-704">Since the expectation is that many blobs are created by executing frequent transaction log backups, administration of those blobs easily can overburden the Azure portal.</span></span> <span data-ttu-id="44c29-705">Därför är det recommendable utnyttjar en Azure Lagringsutforskaren.</span><span class="sxs-lookup"><span data-stu-id="44c29-705">Therefore, it is recommendable to leverage an Azure storage explorer.</span></span> <span data-ttu-id="44c29-706">Det finns flera bra de tillgängliga, vilket hjälper dig för att hantera ett Azure storage-konto</span><span class="sxs-lookup"><span data-stu-id="44c29-706">There are several good ones available, which can help to manage an Azure storage account</span></span>

* <span data-ttu-id="44c29-707">Microsoft Visual Studio med Azure SDK är installerat (<https://azure.microsoft.com/downloads/>)</span><span class="sxs-lookup"><span data-stu-id="44c29-707">Microsoft Visual Studio with Azure SDK installed (<https://azure.microsoft.com/downloads/>)</span></span>
* <span data-ttu-id="44c29-708">Microsoft Azure Lagringsutforskaren (<https://azure.microsoft.com/downloads/>)</span><span class="sxs-lookup"><span data-stu-id="44c29-708">Microsoft Azure Storage Explorer (<https://azure.microsoft.com/downloads/>)</span></span>
* <span data-ttu-id="44c29-709">Verktyg från tredje part</span><span class="sxs-lookup"><span data-stu-id="44c29-709">Third party tools</span></span>

<span data-ttu-id="44c29-710">För en mer detaljerad information om säkerhetskopiering och SAP på Azure, se [guiden Säkerhetskopiering SAP](sap-hana-backup-guide.md) för mer information.</span><span class="sxs-lookup"><span data-stu-id="44c29-710">For a more complete discussion of Backup and SAP on Azure, refer to [the SAP Backup Guide](sap-hana-backup-guide.md) for more information.</span></span>

### <span data-ttu-id="44c29-711"><a name="1b353e38-21b3-4310-aeb6-a77e7c8e81c8"></a>Med hjälp av en SQL Server-avbildning utanför Microsoft Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="44c29-711"><a name="1b353e38-21b3-4310-aeb6-a77e7c8e81c8"></a>Using a SQL Server image out of the Microsoft Azure Marketplace</span></span>
<span data-ttu-id="44c29-712">Microsoft erbjuder virtuella datorer i Azure Marketplace som redan innehåller versioner av SQL Server.</span><span class="sxs-lookup"><span data-stu-id="44c29-712">Microsoft offers VMs in the Azure Marketplace, which already contain versions of SQL Server.</span></span> <span data-ttu-id="44c29-713">För SAP-kunder som kräver licenser för SQL Server och Windows, kan det vara en möjlighet att i praktiken behovet av licenser av snurrande upp virtuella datorer med SQL Server redan har installerats.</span><span class="sxs-lookup"><span data-stu-id="44c29-713">For SAP customers who require licenses for SQL Server and Windows, this might be an opportunity to basically cover the need for licenses by spinning up VMs with SQL Server already installed.</span></span> <span data-ttu-id="44c29-714">Följande överväganden måste göras för att kunna använda dessa bilder för SAP:</span><span class="sxs-lookup"><span data-stu-id="44c29-714">In order to use such images for SAP, the following considerations need to be made:</span></span>

* <span data-ttu-id="44c29-715">De SQL Server icke-utvärderingsversioner hämta högre kostnader än bara en 'Endast för Windows ”virtuell dator distribueras från Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="44c29-715">The SQL Server non-Evaluation versions acquire higher costs than just a ‘Windows-only’ VM deployed from Azure Marketplace.</span></span> <span data-ttu-id="44c29-716">Se följande artiklar för att jämföra priser: <https://azure.microsoft.com/pricing/details/virtual-machines/windows/> och <https://azure.microsoft.com/pricing/details/virtual-machines/sql-server-enterprise/>.</span><span class="sxs-lookup"><span data-stu-id="44c29-716">See these articles to compare prices: <https://azure.microsoft.com/pricing/details/virtual-machines/windows/> and <https://azure.microsoft.com/pricing/details/virtual-machines/sql-server-enterprise/>.</span></span> 
* <span data-ttu-id="44c29-717">Du kan bara använda SQL Server-versioner som stöds av SAP, t.ex. SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="44c29-717">You only can use SQL Server releases, which are supported by SAP, like SQL Server 2012.</span></span>
* <span data-ttu-id="44c29-718">Sorteringen av SQL Server-instans som är installerad på de virtuella datorerna som erbjuds i Azure Marketplace är inte sorteringen SAP NetWeaver kräver SQL Server-instansen ska köras.</span><span class="sxs-lookup"><span data-stu-id="44c29-718">The collation of the SQL Server instance, which is installed in the VMs offered in the Azure Marketplace is not the collation SAP NetWeaver requires the SQL Server instance to run.</span></span> <span data-ttu-id="44c29-719">Du kan ändra sorteringen men med instruktionerna i följande avsnitt.</span><span class="sxs-lookup"><span data-stu-id="44c29-719">You can change the collation though with the directions in the following section.</span></span>

#### <a name="changing-the-sql-server-collation-of-a-microsoft-windowssql-server-vm"></a><span data-ttu-id="44c29-720">Ändra SQL Server-sorteringen för en Microsoft Windows/SQL Server-dator</span><span class="sxs-lookup"><span data-stu-id="44c29-720">Changing the SQL Server Collation of a Microsoft Windows/SQL Server VM</span></span>
<span data-ttu-id="44c29-721">Eftersom SQL Server-avbildningar i Azure Marketplace inte är konfigurerade att använda sortering, vilket krävs av SAP NetWeaver program behöver ändras direkt efter distributionen.</span><span class="sxs-lookup"><span data-stu-id="44c29-721">Since the SQL Server images in the Azure Marketplace are not set up to use the collation, which is required by SAP NetWeaver applications, it needs to be changed immediately after the deployment.</span></span> <span data-ttu-id="44c29-722">För SQL Server 2012, kan detta göras med följande steg så snart den virtuella datorn har distribuerats och en administratör kan logga in på den distribuerade virtuella datorn:</span><span class="sxs-lookup"><span data-stu-id="44c29-722">For SQL Server 2012, this can be done with the following steps as soon as the VM has been deployed and an administrator is able to log into the deployed VM:</span></span>

* <span data-ttu-id="44c29-723">Öppna Kommandotolken Windows 'som administratör ”.</span><span class="sxs-lookup"><span data-stu-id="44c29-723">Open a Windows Command Window ‘as administrator’.</span></span>
* <span data-ttu-id="44c29-724">Ändra katalogen till C:\Program Files\Microsoft SQL Server\110\Setup Bootstrap\SQLServer2012.</span><span class="sxs-lookup"><span data-stu-id="44c29-724">Change the directory to C:\Program Files\Microsoft SQL Server\110\Setup Bootstrap\SQLServer2012.</span></span>
* <span data-ttu-id="44c29-725">Kör kommandot: Setup.exe /QUIET/Action = REBUILDDATABASE /INSTANCENAME = MSSQLSERVER /SQLSYSADMINACCOUNTS =`<local_admin_account_name`> /SQLCOLLATION = SQL_Latin1_General_Cp850_BIN2</span><span class="sxs-lookup"><span data-stu-id="44c29-725">Execute the command: Setup.exe /QUIET /ACTION=REBUILDDATABASE /INSTANCENAME=MSSQLSERVER /SQLSYSADMINACCOUNTS=`<local_admin_account_name`> /SQLCOLLATION=SQL_Latin1_General_Cp850_BIN2</span></span>   
  * <span data-ttu-id="44c29-726">`<local_admin_account_name`> är det konto som har definierats som administratörskonto när du distribuerar den virtuella datorn för första gången igenom galleriet.</span><span class="sxs-lookup"><span data-stu-id="44c29-726">`<local_admin_account_name`> is the account, which was defined as the administrator account when deploying the VM for the first time through the gallery.</span></span>

<span data-ttu-id="44c29-727">Processen tar bara några minuter.</span><span class="sxs-lookup"><span data-stu-id="44c29-727">The process should only take a few minutes.</span></span> <span data-ttu-id="44c29-728">För att kontrollera om steget därför har rätt resultat, utför du följande steg:</span><span class="sxs-lookup"><span data-stu-id="44c29-728">In order to make sure whether the step ended up with the correct result, perform the following steps:</span></span>

* <span data-ttu-id="44c29-729">Öppna SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="44c29-729">Open SQL Server Management Studio.</span></span>
* <span data-ttu-id="44c29-730">Öppna ett frågefönster.</span><span class="sxs-lookup"><span data-stu-id="44c29-730">Open a Query Window.</span></span>
* <span data-ttu-id="44c29-731">Kör kommandot sp_helpsort i SQL Server-huvuddatabasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-731">Execute the command sp_helpsort in the SQL Server master database.</span></span>

<span data-ttu-id="44c29-732">Det önskade resultatet bör se ut som:</span><span class="sxs-lookup"><span data-stu-id="44c29-732">The desired result should look like:</span></span>

    Latin1-General, binary code point comparison sort for Unicode Data, SQL Server Sort Order 40 on Code Page 850 for non-Unicode Data

<span data-ttu-id="44c29-733">Om detta inte är resultatet stoppa distribuera SAP och undersöka varför installationskommandot inte fungerar som förväntat.</span><span class="sxs-lookup"><span data-stu-id="44c29-733">If this is not the result, STOP deploying SAP and investigate why the setup command did not work as expected.</span></span> <span data-ttu-id="44c29-734">Distribution av SAP NetWeaver program på SQL Server-instansen med olika SQL Server-kodsidor än det som nämns ovan **inte** stöds.</span><span class="sxs-lookup"><span data-stu-id="44c29-734">Deployment of SAP NetWeaver applications onto SQL Server instance with different SQL Server codepages than the one mentioned above is **NOT** supported.</span></span>

### <a name="sql-server-high-availability-for-sap-in-azure"></a><span data-ttu-id="44c29-735">SQL Server hög tillgänglighet för SAP i Azure</span><span class="sxs-lookup"><span data-stu-id="44c29-735">SQL Server High-Availability for SAP in Azure</span></span>
<span data-ttu-id="44c29-736">Som nämnts tidigare i det här dokumentet, går det inte att skapa delade lagringen, vilket är nödvändigt för användning av den äldsta SQL Server-funktionen för hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="44c29-736">As mentioned earlier in this paper, there is no possibility to create shared storage, which is necessary for the usage of the oldest SQL Server high availability functionality.</span></span> <span data-ttu-id="44c29-737">Den här funktionen installerar två eller flera SQL Server-instanser i ett Failover Cluster WSFC (Windows Server) med en delad disk för användardatabaser (och slutligen tempdb).</span><span class="sxs-lookup"><span data-stu-id="44c29-737">This functionality would install two or more SQL Server instances in a Windows Server Failover Cluster (WSFC) using a shared disk for the user databases (and eventually tempdb).</span></span> <span data-ttu-id="44c29-738">Det här är metoden länge standard hög tillgänglighet, som även stöds av SAP.</span><span class="sxs-lookup"><span data-stu-id="44c29-738">This is the long time standard high availability method, which also is supported by SAP.</span></span> <span data-ttu-id="44c29-739">Eftersom Azure inte stöder delad lagring, kan SQL Server med hög tillgänglighet konfigurationer med en delad disk klusterkonfiguration realiseras.</span><span class="sxs-lookup"><span data-stu-id="44c29-739">Because Azure doesn’t support shared storage, SQL Server high availability configurations with a shared disk cluster configuration cannot be realized.</span></span> <span data-ttu-id="44c29-740">Många andra metoder för hög tillgänglighet är fortfarande möjligt och beskrivs i följande avsnitt.</span><span class="sxs-lookup"><span data-stu-id="44c29-740">However, many other high availability methods are still possible and are described in the following sections.</span></span>

#### <a name="sql-server-log-shipping"></a><span data-ttu-id="44c29-741">SQLServer-Loggöverföring</span><span class="sxs-lookup"><span data-stu-id="44c29-741">SQL Server Log Shipping</span></span>
<span data-ttu-id="44c29-742">En av metoderna för hög tillgänglighet (HA) är SQL Server-Loggöverföring.</span><span class="sxs-lookup"><span data-stu-id="44c29-742">One of the methods of high availability (HA) is SQL Server Log Shipping.</span></span> <span data-ttu-id="44c29-743">Om de virtuella datorerna som ingår i konfigurationen för hög tillgänglighet har fungerar namnmatchning, utan problem och inställningarna i Azure skilja sig inte från alla inställningar som görs lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-743">If the VMs participating in the HA configuration have working name resolution, there is no problem and the setup in Azure does not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="44c29-744">Det rekommenderas inte kan förlita sig på endast IP-lösning.</span><span class="sxs-lookup"><span data-stu-id="44c29-744">It is not recommended to rely on IP resolution only.</span></span> <span data-ttu-id="44c29-745">Kontrollera den här dokumentationen med avseende på Konfigurera Loggöverföring och principerna runt Loggöverföring:</span><span class="sxs-lookup"><span data-stu-id="44c29-745">With regards to setting up Log Shipping and the principles around Log Shipping, check this documentation:</span></span>

<span data-ttu-id="44c29-746"><https://docs.microsoft.com/SQL/Database-Engine/log-Shipping/About-log-Shipping-SQL-Server></span><span class="sxs-lookup"><span data-stu-id="44c29-746"><https://docs.microsoft.com/sql/database-engine/log-shipping/about-log-shipping-sql-server></span></span>

<span data-ttu-id="44c29-747">För att uppnå riktigt inställningarna för hög tillgänglighet, måste en att distribuera virtuella datorer, som är inom en sådan Loggöverföring konfiguration som ligger inom samma Azure Tillgänglighetsuppsättningen.</span><span class="sxs-lookup"><span data-stu-id="44c29-747">In order to really achieve any high availability, one needs to deploy the VMs, which are within such a Log Shipping configuration to be within the same Azure Availability Set.</span></span>

#### <a name="database-mirroring"></a><span data-ttu-id="44c29-748">Databasspegling</span><span class="sxs-lookup"><span data-stu-id="44c29-748">Database Mirroring</span></span>
<span data-ttu-id="44c29-749">Databasen spegling som stöds av SAP (Se SAP-kommentar [965908]) förlitar sig på definierar redundanspartner i anslutningssträngen SAP.</span><span class="sxs-lookup"><span data-stu-id="44c29-749">Database Mirroring as supported by SAP (see SAP Note [965908]) relies on defining a failover partner in the SAP connection string.</span></span> <span data-ttu-id="44c29-750">Anslutningar mellan lokala-fall antar vi att två virtuella datorer finns i samma domän och att användaren kontext två SQL Server-instanser körs under en domänanvändare och har behörighet i två SQL Server-instanser ingår.</span><span class="sxs-lookup"><span data-stu-id="44c29-750">For the Cross-Premises cases, we assume that the two VMs are in the same domain and that the user context the two SQL Server instances are running under a domain user as well and have sufficient privileges in the two SQL Server instances involved.</span></span> <span data-ttu-id="44c29-751">Därför inställningarna för databasspegling i Azure skiljer sig inte mellan en typisk lokalt/installationsprogrammet.</span><span class="sxs-lookup"><span data-stu-id="44c29-751">Therefore, the setup of Database Mirroring in Azure does not differ between a typical on-premises setup/configuration.</span></span>

<span data-ttu-id="44c29-752">Från och med endast molnbaserad distributioner är det enklaste sättet att ha en annan domän installationen i Azure för att ha dessa DBMS virtuella datorer (och helst dedikerade SAP virtuella datorer) inom en domän.</span><span class="sxs-lookup"><span data-stu-id="44c29-752">As of Cloud-Only deployments, the easiest method is to have another domain setup in Azure to have those DBMS VMs (and ideally dedicated SAP VMs) within one domain.</span></span>

<span data-ttu-id="44c29-753">Om en domän inte är möjligt kan också använda certifikat för slutpunkter för databasspegling, som beskrivs här: <https://docs.microsoft.com/sql/database-engine/database-mirroring/use-certificates-for-a-database-mirroring-endpoint-transact-sql></span><span class="sxs-lookup"><span data-stu-id="44c29-753">If a domain is not possible, one can also use certificates for the database mirroring endpoints as described here: <https://docs.microsoft.com/sql/database-engine/database-mirroring/use-certificates-for-a-database-mirroring-endpoint-transact-sql></span></span>

<span data-ttu-id="44c29-754">Självstudier för att konfigurera databasspegling i Azure hittar du här: <https://docs.microsoft.com/sql/database-engine/database-mirroring/database-mirroring-sql-server></span><span class="sxs-lookup"><span data-stu-id="44c29-754">A tutorial to set up Database Mirroring in Azure can be found here: <https://docs.microsoft.com/sql/database-engine/database-mirroring/database-mirroring-sql-server></span></span> 

#### <a name="sql-server-always-on"></a><span data-ttu-id="44c29-755">SQLServer Always On</span><span class="sxs-lookup"><span data-stu-id="44c29-755">SQL Server Always On</span></span>
<span data-ttu-id="44c29-756">Som alltid på stöds för SAP lokal (Se SAP-kommentar [1772688]), det går för att användas tillsammans med SAP i Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-756">As Always On is supported for SAP on-premises (see SAP Note [1772688]), it is supported to be used in combination with SAP in Azure.</span></span> <span data-ttu-id="44c29-757">Det faktum att det inte går att skapa delade diskar i Azure innebär inte att en går inte att skapa en alltid på Failover Cluster WSFC (Windows Server) konfiguration mellan olika virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="44c29-757">The fact that you are not able to create shared disks in Azure doesn’t mean that one can’t create an Always On Windows Server Failover Cluster (WSFC) configuration between different VMs.</span></span> <span data-ttu-id="44c29-758">Det innebär bara att du inte har möjlighet att använda en delad disk som ett kvorum i klusterkonfigurationen.</span><span class="sxs-lookup"><span data-stu-id="44c29-758">It only means that you do not have the possibility to use a shared disk as a quorum in the cluster configuration.</span></span> <span data-ttu-id="44c29-759">Därför kan du skapa en alltid på WSFC-konfiguration i Azure och inte bara välja kvorum som använder delad disk.</span><span class="sxs-lookup"><span data-stu-id="44c29-759">Hence you can build an Always On WSFC configuration in Azure and simply not select the quorum type that utilizes shared disk.</span></span> <span data-ttu-id="44c29-760">Azure-miljön dessa virtuella datorer distribueras i ska åtgärda virtuella datorer efter namn och de virtuella datorerna ska vara i samma domän.</span><span class="sxs-lookup"><span data-stu-id="44c29-760">The Azure environment those VMs are deployed in should resolve the VMs by name and the VMs should be in the same domain.</span></span> <span data-ttu-id="44c29-761">Detta gäller endast Azure och mellan lokala distributioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-761">This is true for Azure only and Cross-Premises deployments.</span></span> <span data-ttu-id="44c29-762">Det finns vissa saker runt distribuera SQL Server tillgänglighetsgruppens lyssnare (inte förväxlas med Azure Tillgänglighetsuppsättningen) eftersom Azure vid denna tidpunkt inte tillåter att helt enkelt skapa ett AD/DNS-objekt eftersom det är möjligt lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-762">There are some special considerations around deploying the SQL Server Availability Group Listener (not to be confused with the Azure Availability Set) since Azure at this point in time does not allow to simply create an AD/DNS object as it is possible on-premises.</span></span> <span data-ttu-id="44c29-763">Därför krävs vissa olika installationssteg för att lösa specifika beteendet för Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-763">Therefore, some different installation steps are necessary to overcome the specific behavior of Azure.</span></span>

<span data-ttu-id="44c29-764">Vissa aspekter med hjälp av en Tillgänglighetsgruppslyssnare är:</span><span class="sxs-lookup"><span data-stu-id="44c29-764">Some considerations using an Availability Group Listener are:</span></span>

* <span data-ttu-id="44c29-765">Med hjälp av en Tillgänglighetsgruppslyssnare är bara möjligt med Windows Server 2012 eller högre som gästoperativsystemet på den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="44c29-765">Using an Availability Group Listener is only possible with Windows Server 2012 or higher as guest OS of the VM.</span></span> <span data-ttu-id="44c29-766">För Windows Server 2012 måste du se till att korrigeringsfilen tillämpas: <https://support.microsoft.com/kb/2854082></span><span class="sxs-lookup"><span data-stu-id="44c29-766">For Windows Server 2012 you need to make sure that this patch is applied: <https://support.microsoft.com/kb/2854082></span></span> 
* <span data-ttu-id="44c29-767">För Windows Server 2008 R2 finns inte den här korrigeringsfilen och alltid på måste användas på samma sätt som databasspegling genom att ange redundanspartner i anslutningssträngen (göra SAP default.pfl parametern dbs/mss/server – Se SAP-kommentar [965908]).</span><span class="sxs-lookup"><span data-stu-id="44c29-767">For Windows Server 2008 R2 this patch does not exist and Always On would need to be used in the same manner as Database Mirroring by specifying a failover partner in the connections string (done through the SAP default.pfl parameter dbs/mss/server – see SAP Note [965908]).</span></span>
* <span data-ttu-id="44c29-768">När du använder en Tillgänglighetsgruppslyssnare, måste de virtuella datorerna databasen måste vara ansluten till en särskild belastningsutjämnare.</span><span class="sxs-lookup"><span data-stu-id="44c29-768">When using an Availability Group Listener, the Database VMs need to be connected to a dedicated Load Balancer.</span></span> <span data-ttu-id="44c29-769">Namnmatchning i distributioner för endast molnbaserad antingen kräver ett SAP-system (programservrar, DBMS-servern och server (A) SCS) på alla virtuella datorer finns i samma virtuella nätverk eller kräver från en SAP programnivå underhåll av etc\host-filen för att få VM namnen på SQL Server-datorer som löst.</span><span class="sxs-lookup"><span data-stu-id="44c29-769">Name resolution in Cloud-Only deployments would either require all VMs of an SAP system (application servers, DBMS server, and (A)SCS server) are in the same virtual network or would require from an SAP application layer the maintenance of the etc\host file in order to get the VM names of the SQL Server VMs resolved.</span></span> <span data-ttu-id="44c29-770">För att undvika att Azure tilldelar nya IP-adresser i de fall där båda VM: ar tillfälligtvis avstängning en bör tilldela statiska IP-adresser för nätverksgränssnitten i de virtuella datorer i konfigurationen för Always On (definierar en statisk IP-adress beskrivs i [detta] [ virtual-networks-reserved-private-ip] artikel)</span><span class="sxs-lookup"><span data-stu-id="44c29-770">In order to avoid that Azure is assigning new IP addresses in cases where both VMs incidentally are shutdown, one should assign static IP addresses to the network interfaces of those VMs in the Always On configuration (defining a static IP address is described in [this][virtual-networks-reserved-private-ip] article)</span></span>

[comment]: <> (Gamla bloggar)
[comment]: <> (< https://blogs.msdn.com/b/alwaysonpro/archive/2014/08/29/recommendations-and-best-practices-when-deploying-sql-server-alwayson-availability-groups-in-windows-azure-iaas.aspx>, < https://blogs.technet.com/b/rmilne/archive/2015/07/27/how-to-set-static-ip-on-azure-vm.aspx>) 
* <span data-ttu-id="44c29-773">Det finns särskilda steg krävs när du skapar WSFC klusterkonfigurationen där klustret måste en särskild IP-adress tilldelas eftersom Azure med dess aktuella funktioner ska tilldela klusternamnet samma IP-adress som noder i klustret har skapats på.</span><span class="sxs-lookup"><span data-stu-id="44c29-773">There are special steps required when building the WSFC cluster configuration where the cluster needs a special IP address assigned, because Azure with its current functionality would assign the cluster name the same IP address as the node the cluster is created on.</span></span> <span data-ttu-id="44c29-774">Det innebär att ett manuellt steg måste utföras för att tilldela en annan IP-adress till klustret.</span><span class="sxs-lookup"><span data-stu-id="44c29-774">This means a manual step must be performed to assign a different IP address to the cluster.</span></span>
* <span data-ttu-id="44c29-775">Tillgänglighetsgruppslyssnaren kommer att skapas i Azure med TCP/IP-slutpunkter som är tilldelade till de virtuella datorerna kör primära och sekundära replikerna för tillgänglighetsgruppen.</span><span class="sxs-lookup"><span data-stu-id="44c29-775">The Availability Group Listener is going to be created in Azure with TCP/IP endpoints, which are assigned to the VMs running the primary and secondary replicas of the Availability group.</span></span>
* <span data-ttu-id="44c29-776">Det kan vara nödvändigt att skydda dessa slutpunkter med åtkomstkontrollistor.</span><span class="sxs-lookup"><span data-stu-id="44c29-776">There might be a need to secure these endpoints with ACLs.</span></span>

[comment]: <> (Gamla TODO-blogg)
[comment]: <> (Detaljerade anvisningar och är nödvändigt att installera en AlwaysOn-konfigurationen på Azure är enklast att när du går igenom kursen tillgängliga [here][virtual-machines-windows-classic-ps-sql-alwayson-availability-groups])
[comment]: <> (Förkonfigurerade AlwaysOn-installationen via Azure-galleriet < https://blogs.technet.com/b/dataplatforminsider/archive/2014/08/25/sql-server-alwayson-offering-in-microsoft-azure-portal-gallery.aspx>)
[comment]: <> (Skapa en Tillgänglighetsgruppslyssnare är bäst beskrivs i kursen [this][virtual-machines-windows-classic-ps-sql-int-listener])
[comment]: <> (Att säkra nätverksslutpunkter med åtkomstkontrollistor beskrivs bästa här:)
[comment]: <> (* < https://michaelwasham.com/windows-azure-powershell-reference-guide/network-access-control-list-capability-in-windows-azure-powershell/>)
[comment]: <> (* < https://blogs.technet.com/b/heyscriptingguy/archive/2013/08/31/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-1-of-2.aspx>)
[comment]: <> (* < https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/01/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-2-of-2.aspx>)  
[comment]: <> (* < https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/18/creating-acls-for-windows-azure-endpoints.aspx>) 

<span data-ttu-id="44c29-786">Det är möjligt att distribuera en SQL Server alltid på tillgänglighetsgrupp över samt olika Azure-regioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-786">It is possible to deploy a SQL Server Always On Availability Group over different Azure Regions as well.</span></span> <span data-ttu-id="44c29-787">Den här funktionen utnyttjar Azure VNet-till-Vnet-anslutningen ([mer][virtual-networks-configure-vnet-to-vnet-connection]).</span><span class="sxs-lookup"><span data-stu-id="44c29-787">This functionality leverages the Azure VNet-to-Vnet connectivity ([more details][virtual-networks-configure-vnet-to-vnet-connection]).</span></span>

[comment]: <> (Gamla TODO-blogg)
[comment]: <> (Installationen av SQL Server AlwaysOn-Tillgänglighetsgrupper i ett sådant scenario som beskrivs här: < https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.) 

#### <a name="summary-on-sql-server-high-availability-in-azure"></a><span data-ttu-id="44c29-790">En sammanfattning av SQL Server med hög tillgänglighet i Azure</span><span class="sxs-lookup"><span data-stu-id="44c29-790">Summary on SQL Server High Availability in Azure</span></span>
<span data-ttu-id="44c29-791">Med tanke på att innehållet skyddas av Azure Storage, är det ett mindre skäl till att kräva en hot standby-avbildning.</span><span class="sxs-lookup"><span data-stu-id="44c29-791">Given the fact that Azure Storage is protecting the content, there is one less reason to insist on a hot-standby image.</span></span> <span data-ttu-id="44c29-792">Detta innebär att ditt scenario för hög tillgänglighet behöver bara skydda mot följande fall:</span><span class="sxs-lookup"><span data-stu-id="44c29-792">This means your High Availability scenario needs to only protect against the following cases:</span></span>

* <span data-ttu-id="44c29-793">Den virtuella datorn att hela på grund av underhåll på server-kluster i Azure eller andra orsaker</span><span class="sxs-lookup"><span data-stu-id="44c29-793">Unavailability of the VM as a whole due to maintenance on the server cluster in Azure or other reasons</span></span>
* <span data-ttu-id="44c29-794">Problem med programvara i SQL Server-instansen</span><span class="sxs-lookup"><span data-stu-id="44c29-794">Software issues in the SQL Server instance</span></span>
* <span data-ttu-id="44c29-795">Skydda från manuell fel där data tas bort och punkten i tidsåterställningen krävs</span><span class="sxs-lookup"><span data-stu-id="44c29-795">Protecting from manual error where data gets deleted and point-in-time recovery is needed</span></span>

<span data-ttu-id="44c29-796">Titta på matchande tekniker en kan argumentera att de två första fall kan omfattas av databasspegling eller alltid på det tredje fallet endast kan omfattas av Loggöverföring.</span><span class="sxs-lookup"><span data-stu-id="44c29-796">Looking at matching technologies one can argue that the first two cases can be covered by Database Mirroring or Always On, whereas the third case only can be covered by Log-Shipping.</span></span>

<span data-ttu-id="44c29-797">Du måste väga mer komplexa installationen av Always On, jämfört med databasspegling med fördelarna med att alltid på.</span><span class="sxs-lookup"><span data-stu-id="44c29-797">You need to balance the more complex setup of Always On, compared to Database Mirroring, with the advantages of Always On.</span></span> <span data-ttu-id="44c29-798">Dessa fördelar kan anges som:</span><span class="sxs-lookup"><span data-stu-id="44c29-798">Those advantages can be listed like:</span></span>

* <span data-ttu-id="44c29-799">Läsbara sekundära repliker.</span><span class="sxs-lookup"><span data-stu-id="44c29-799">Readable secondary replicas.</span></span>
* <span data-ttu-id="44c29-800">Säkerhetskopiering från sekundära repliker.</span><span class="sxs-lookup"><span data-stu-id="44c29-800">Backups from secondary replicas.</span></span>
* <span data-ttu-id="44c29-801">Bättre skalbarhet.</span><span class="sxs-lookup"><span data-stu-id="44c29-801">Better scalability.</span></span>
* <span data-ttu-id="44c29-802">Mer än en sekundära repliker.</span><span class="sxs-lookup"><span data-stu-id="44c29-802">More than one secondary replicas.</span></span>

### <span data-ttu-id="44c29-803"><a name="9053f720-6f3b-4483-904d-15dc54141e30"></a>Allmänna SQL Server för SAP på Azure sammanfattning</span><span class="sxs-lookup"><span data-stu-id="44c29-803"><a name="9053f720-6f3b-4483-904d-15dc54141e30"></a>General SQL Server for SAP on Azure Summary</span></span>
<span data-ttu-id="44c29-804">Det finns många rekommendationerna i den här guiden och vi rekommenderar att du läsa den mer än en gång innan du planerar distributionen av Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-804">There are many recommendations in this guide and we recommend you read it more than once before planning your Azure deployment.</span></span> <span data-ttu-id="44c29-805">I allmänhet, måste du följa tio översta allmänna DBMS på Azure specifika punkter:</span><span class="sxs-lookup"><span data-stu-id="44c29-805">In general, though, be sure to follow the top ten general DBMS on Azure specific points:</span></span>

[comment]: <> (2.3 högre genomströmning än vad? Än en VHD?)
1. <span data-ttu-id="44c29-807">Använd den senaste DBMS-versionen som SQL Server 2014 som har de flesta fördelar i Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-807">Use the latest DBMS release, like SQL Server 2014, that has the most advantages in Azure.</span></span> <span data-ttu-id="44c29-808">För SQL Server är SQL Server 2012 SP1 CU4, vilket omfattar funktionen stödjande visa Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="44c29-808">For SQL Server, this is SQL Server 2012 SP1 CU4, which would include the feature of backing up against Azure Storage.</span></span> <span data-ttu-id="44c29-809">Dock tillsammans med SAP rekommenderar vi minst SQL Server 2014 SP1 CU1 eller SQL Server 2012 SP2 och den senaste CU.</span><span class="sxs-lookup"><span data-stu-id="44c29-809">However, in conjunction with SAP we would recommend at least SQL Server 2014 SP1 CU1 or SQL Server 2012 SP2 and the latest CU.</span></span>
2. <span data-ttu-id="44c29-810">Planera noggrant liggande din SAP-system i Azure för att balansera data filens layout och Azure begränsningar:</span><span class="sxs-lookup"><span data-stu-id="44c29-810">Carefully plan your SAP system landscape in Azure to balance the data file layout and Azure restrictions:</span></span>
   * <span data-ttu-id="44c29-811">Inte har för många diskar, men tillräckligt för att se till att du kan nå dina krävs IOPS.</span><span class="sxs-lookup"><span data-stu-id="44c29-811">Don’t have too many disks, but have enough to ensure you can reach your required IOPS.</span></span>
   * <span data-ttu-id="44c29-812">Kom ihåg IOPS är också begränsad per Azure Storage-konto och att Storage-konton är begränsade i varje Azure-prenumeration om du inte använder hanterade diskar ([mer][azure-subscription-service-limits]).</span><span class="sxs-lookup"><span data-stu-id="44c29-812">If you don't use Managed Disks, remember that IOPS are also limited per Azure Storage Account and that Storage Accounts are limited within each Azure subscription ([more details][azure-subscription-service-limits]).</span></span> 
   * <span data-ttu-id="44c29-813">Endast stripe över diskar om du behöver kunna uppnå ett högre genomflöde.</span><span class="sxs-lookup"><span data-stu-id="44c29-813">Only stripe across disks if you need to achieve a higher throughput.</span></span>
3. <span data-ttu-id="44c29-814">Installera aldrig programvara eller placera filer som kräver beständiga på D:\ enheten eftersom det är inte permanent och allt på den här enheten går förlorade vid en omstart av Windows.</span><span class="sxs-lookup"><span data-stu-id="44c29-814">Never install software or put any files that require persistence on the D:\ drive as it is non-permanent and anything on this drive is lost at a Windows reboot.</span></span>
4. <span data-ttu-id="44c29-815">Använd inte cachelagring på disk för Azure standardlagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-815">Don’t use disk caching for Azure Standard Storage.</span></span>
5. <span data-ttu-id="44c29-816">Använd inte Azure georeplikerad Storage-konton.</span><span class="sxs-lookup"><span data-stu-id="44c29-816">Don’t use Azure geo-replicated Storage Accounts.</span></span>  <span data-ttu-id="44c29-817">Använd lokalt Redundant för DBMS-arbetsbelastningar.</span><span class="sxs-lookup"><span data-stu-id="44c29-817">Use Locally Redundant for DBMS workloads.</span></span>
6. <span data-ttu-id="44c29-818">Använda DBMS leverantörens hr/DR lösning för att replikera data från databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-818">Use your DBMS vendor’s HA/DR solution to replicate database data.</span></span>
7. <span data-ttu-id="44c29-819">Alltid använda namnmatchning, Använd inte IP-adresser.</span><span class="sxs-lookup"><span data-stu-id="44c29-819">Always use Name Resolution, don’t rely on IP addresses.</span></span>
8. <span data-ttu-id="44c29-820">Använd den högsta möjliga komprimeringen av databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-820">Use the highest database compression possible.</span></span> <span data-ttu-id="44c29-821">Detta är sidan komprimering för SQL Server.</span><span class="sxs-lookup"><span data-stu-id="44c29-821">For SQL Server this is page compression.</span></span>
9. <span data-ttu-id="44c29-822">Var försiktig med hjälp av SQL Server-avbildningar från Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="44c29-822">Be careful using SQL Server images from the Azure Marketplace.</span></span> <span data-ttu-id="44c29-823">Om du använder en SQL Server, måste du ändra sorteringen för instansen innan du installerar alla SAP NetWeaver system på den.</span><span class="sxs-lookup"><span data-stu-id="44c29-823">If you use the SQL Server one, you must change the instance collation before installing any SAP NetWeaver system on it.</span></span>
10. <span data-ttu-id="44c29-824">Installera och konfigurera SAP-värden som övervakning för Azure som beskrivs i [Deployment Guide][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="44c29-824">Install and configure the SAP Host Monitoring for Azure as described in [Deployment Guide][deployment-guide].</span></span>

## <a name="specifics-to-sap-ase-on-windows"></a><span data-ttu-id="44c29-825">Specifik information skrivs till SAP ASE i Windows</span><span class="sxs-lookup"><span data-stu-id="44c29-825">Specifics to SAP ASE on Windows</span></span>
<span data-ttu-id="44c29-826">Från och med Microsoft Azure kan migrera du enkelt befintliga SAP ASE program till Azure-datorer.</span><span class="sxs-lookup"><span data-stu-id="44c29-826">Starting with Microsoft Azure, you can easily migrate your existing SAP ASE applications to Azure Virtual Machines.</span></span> <span data-ttu-id="44c29-827">SAP ASE i en virtuell dator kan du minska den totala ägandekostnaden för distribution, hantering och underhåll av breda företagsprogram genom att enkelt migrera dessa program till Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-827">SAP ASE in a Virtual Machine enables you to reduce the total cost of ownership of deployment, management, and maintenance of enterprise breadth applications by easily migrating these applications to Microsoft Azure.</span></span> <span data-ttu-id="44c29-828">Med SAP ASE i en virtuell dator i Azure, kan administratörer och utvecklare fortfarande använda samma utveckling och Administrationsverktyg som är tillgängliga lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-828">With SAP ASE in an Azure Virtual Machine, administrators and developers can still use the same development and administration tools that are available on-premises.</span></span>

<span data-ttu-id="44c29-829">Det finns ett SLA för Azure Virtual Machines, som finns här: <https://azure.microsoft.com/support/legal/sla/virtual-machines></span><span class="sxs-lookup"><span data-stu-id="44c29-829">There is an SLA for the Azure Virtual Machines, which can be found here: <https://azure.microsoft.com/support/legal/sla/virtual-machines></span></span>

<span data-ttu-id="44c29-830">Vi är säker på att Microsoft Azure virtuella värddatorerna mycket bra presterar i jämförelse med andra virtualiseringslösningar för offentliga moln, men enskilda resultaten kan variera.</span><span class="sxs-lookup"><span data-stu-id="44c29-830">We are confident that Microsoft Azure hosted Virtual Machines performs very well in comparison to other public cloud virtualization offerings, but individual results may vary.</span></span> <span data-ttu-id="44c29-831">SAP storleksanpassa SAP antal olika SAP certifierade VM SKU: er finns i en separat SAP-kommentar [1928533].</span><span class="sxs-lookup"><span data-stu-id="44c29-831">SAP sizing SAPS numbers of the different SAP certified VM SKUs is provided in a separate SAP Note [1928533].</span></span>

<span data-ttu-id="44c29-832">Instruktioner och rekommendationer om användningen av Azure Storage, distribution av SAP virtuella datorer eller SAP övervakning gäller för distributioner av SAP ASE tillsammans med SAP-program som anges i de fyra första kapitlen i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="44c29-832">Statements and recommendations in regard to the usage of Azure Storage, Deployment of SAP VMs or SAP Monitoring apply to deployments of SAP ASE in conjunction with SAP applications as stated throughout the first four chapters of this document.</span></span>

### <a name="sap-ase-version-support"></a><span data-ttu-id="44c29-833">Stöd för SAP-ASE Version</span><span class="sxs-lookup"><span data-stu-id="44c29-833">SAP ASE Version Support</span></span>
<span data-ttu-id="44c29-834">SAP för närvarande stöder SAP ASE version 16,0 för SAP Business Suite.</span><span class="sxs-lookup"><span data-stu-id="44c29-834">SAP currently supports SAP ASE version 16.0 for use with SAP Business Suite products.</span></span> <span data-ttu-id="44c29-835">Alla uppdateringar för SAP ASE server eller JDBC och ODBC-drivrutiner som ska användas med produkter SAP Business Suite tillhandahålls enbart på marknadsplatsen SAP Service på: <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="44c29-835">All updates for SAP ASE server, or JDBC and ODBC drivers to be used with SAP Business Suite products are provided solely through the SAP Service Marketplace at: <https://support.sap.com/swdc>.</span></span>

<span data-ttu-id="44c29-836">För installationer lokalt, att inte hämta uppdateringar för SAP ASE servern eller för JDBC och ODBC-drivrutiner direkt från Sybase-webbplatser.</span><span class="sxs-lookup"><span data-stu-id="44c29-836">As for installations on-premises, do not download updates for the SAP ASE server, or for the JDBC and ODBC drivers directly from Sybase websites.</span></span> <span data-ttu-id="44c29-837">Mer detaljerad information om korrigeringsprogram som stöds för användning med SAP Business Suite produkter lokalt och i Azure Virtual Machines finns följande SAP-information:</span><span class="sxs-lookup"><span data-stu-id="44c29-837">For detailed information on patches, which are supported for use with SAP Business Suite products on-premises and in Azure Virtual Machines see the following SAP Notes:</span></span>

* <span data-ttu-id="44c29-838">[1590719]</span><span class="sxs-lookup"><span data-stu-id="44c29-838">[1590719]</span></span>
* <span data-ttu-id="44c29-839">[1973241]</span><span class="sxs-lookup"><span data-stu-id="44c29-839">[1973241]</span></span>

<span data-ttu-id="44c29-840">Allmän information om hur du kör SAP Business Suite på SAP ASE kan hittas i den [Tillståndsändringsavisering](https://www.sap.com/community/topic/ase.html)</span><span class="sxs-lookup"><span data-stu-id="44c29-840">General information on running SAP Business Suite on SAP ASE can be found in the [SCN](https://www.sap.com/community/topic/ase.html)</span></span>

### <a name="sap-ase-configuration-guidelines-for-sap-related-sap-ase-installations-in-azure-vms"></a><span data-ttu-id="44c29-841">Riktlinjer för SAP ASE konfiguration för SAP-relaterade SAP ASE installationer i virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="44c29-841">SAP ASE Configuration Guidelines for SAP-related SAP ASE Installations in Azure VMs</span></span>
#### <a name="structure-of-the-sap-ase-deployment"></a><span data-ttu-id="44c29-842">Struktur för SAP ASE-distribution</span><span class="sxs-lookup"><span data-stu-id="44c29-842">Structure of the SAP ASE Deployment</span></span>
<span data-ttu-id="44c29-843">I enlighet med den allmänna beskrivningen SAP ASE körbara filer finns eller installerats i operativsystemdisken för den Virtuella datorns systemenhet (enhet c:\).</span><span class="sxs-lookup"><span data-stu-id="44c29-843">In accordance with the general description, SAP ASE executables should be located or installed into the system drive of the VM’s OS disk (drive c:\).</span></span> <span data-ttu-id="44c29-844">Vanligtvis utnyttjas de flesta av databaser för SAP ASE system och verktyg inte verkligen hårddisk av SAP NetWeaver arbetsbelastning.</span><span class="sxs-lookup"><span data-stu-id="44c29-844">Typically, most of the SAP ASE system and tools databases are not really leveraged hard by SAP NetWeaver workload.</span></span> <span data-ttu-id="44c29-845">Därför kan de verktyg och system databaserna (master, model, saptools, sybmgmtdb, sybsystemdb) finns kvar på enhetens C:\.</span><span class="sxs-lookup"><span data-stu-id="44c29-845">Hence the system and tools databases (master, model, saptools, sybmgmtdb, sybsystemdb) can remain on the C:\ drive as well.</span></span> 

<span data-ttu-id="44c29-846">Ett undantag kan vara tillfälliga databasen som innehåller alla arbetsobjekt tabeller och temporära tabeller som skapats av SAP ASE som vid vissa SAP ERP och alla BW arbetsbelastningar kan kräva högre datavolym eller i/o-åtgärder volymen, som inte kan placeras i den ursprungliga VM OS-disken (enhet c:\).</span><span class="sxs-lookup"><span data-stu-id="44c29-846">An exception could be the temporary database containing all work tables and temporary tables created by SAP ASE, which in case of some SAP ERP and all BW workloads might require either higher data volume or I/O operations volume, which can’t fit into the original VM’s OS disk (drive c:\).</span></span>

<span data-ttu-id="44c29-847">Beroende på vilken version av SAPInst/SWPM används för att installera innehålla databasen:</span><span class="sxs-lookup"><span data-stu-id="44c29-847">Depending on the version of SAPInst/SWPM used to install the system, the database might contain:</span></span>

* <span data-ttu-id="44c29-848">En enda SAP ASE tempdb som skapas när du installerar SAP ASE</span><span class="sxs-lookup"><span data-stu-id="44c29-848">A single SAP ASE tempdb, which is created when installing SAP ASE</span></span>
* <span data-ttu-id="44c29-849">En SAP ASE tempdb som skapats genom att installera SAP ASE och en ytterligare saptempdb som skapats av rutinen SAP-installation</span><span class="sxs-lookup"><span data-stu-id="44c29-849">An SAP ASE tempdb created by installing SAP ASE and an additional saptempdb created by the SAP installation routine</span></span>
* <span data-ttu-id="44c29-850">En SAP ASE tempdb som skapats genom att installera SAP ASE och en ytterligare tempdb som har skapats manuellt (till exempel följande SAP-kommentar [1752266]) till ERP/BW specifika tempdb-krav</span><span class="sxs-lookup"><span data-stu-id="44c29-850">An SAP ASE tempdb created by installing SAP ASE and an additional tempdb that has been created manually (for example following SAP Note [1752266]) to meet ERP/BW specific tempdb requirements</span></span>

<span data-ttu-id="44c29-851">Vid specifika ERP eller alla BW arbetsbelastningar klokt det, gäller prestanda, så Håll tempdb-enheter efter dessutom skapade tempdb (via SWPM eller manuellt) på en annan enhet än C:\.</span><span class="sxs-lookup"><span data-stu-id="44c29-851">In case of specific ERP or all BW workloads, it makes sense, in regard to performance, to keep the tempdb devices of the additionally created tempdb (by SWPM or manually) on a drive other than C:\.</span></span> <span data-ttu-id="44c29-852">Om det finns inga ytterligare tempdb, rekommenderas att skapa en (SAP-kommentar [1752266]).</span><span class="sxs-lookup"><span data-stu-id="44c29-852">If no additional tempdb exists, it is recommended to create one (SAP Note [1752266]).</span></span>

<span data-ttu-id="44c29-853">Följande steg ska utföras för dessutom skapade tempdb för sådana system:</span><span class="sxs-lookup"><span data-stu-id="44c29-853">For such systems the following steps should be performed for the additionally created tempdb:</span></span>

* <span data-ttu-id="44c29-854">Flytta den första tempdb-enheten till den första enheten för SAP-databasen</span><span class="sxs-lookup"><span data-stu-id="44c29-854">Move the first tempdb device to the first device of the SAP database</span></span>
* <span data-ttu-id="44c29-855">Lägga till tempdb enheter till var och en av de virtuella hårddiskarna som innehåller en enhet för SAP-databasen</span><span class="sxs-lookup"><span data-stu-id="44c29-855">Add tempdb devices to each of the VHDs containing a device of the SAP database</span></span>

<span data-ttu-id="44c29-856">Den här konfigurationen kan tempdb antingen förbruka mer utrymme än systemenheten kan ge.</span><span class="sxs-lookup"><span data-stu-id="44c29-856">This configuration enables tempdb to either consume more space than the system drive is able to provide.</span></span> <span data-ttu-id="44c29-857">Som referens Kontrollera en storlekar för tempdb-enheten på befintliga system som kör lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-857">As a reference one can check the tempdb device sizes on existing systems, which run on-premises.</span></span> <span data-ttu-id="44c29-858">Eller en sådan konfiguration skulle aktivera IOPS siffror mot tempdb som kan tillhandahållas med systemenheten.</span><span class="sxs-lookup"><span data-stu-id="44c29-858">Or such a configuration would enable IOPS numbers against tempdb, which cannot be provided with the system drive.</span></span> <span data-ttu-id="44c29-859">Igen kan system som kör lokalt användas för att övervaka i/o-arbetsbelastning mot tempdb.</span><span class="sxs-lookup"><span data-stu-id="44c29-859">Again systems that are running on-premises can be used to monitor I/O workload against tempdb.</span></span>

<span data-ttu-id="44c29-860">Placera inte alla enheter som SAP ASE på D:\ enhet på den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="44c29-860">Never put any SAP ASE devices onto the D:\ drive of the VM.</span></span> <span data-ttu-id="44c29-861">Detta gäller även för tempdb, även om de objekt som lagras i tempdb är temporära.</span><span class="sxs-lookup"><span data-stu-id="44c29-861">This also applies to the tempdb, even if the objects kept in the tempdb are only temporary.</span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="44c29-862">Effekten av databasen komprimering</span><span class="sxs-lookup"><span data-stu-id="44c29-862">Impact of Database Compression</span></span>
<span data-ttu-id="44c29-863">Alla åtgärder, vilket minskar IOPS kan hjälpa till att sträcka ut arbetsbelastningen kan köra i ett IaaS-scenario som Azure i konfigurationer där i/o-bandbredd kan bli en begränsande faktor.</span><span class="sxs-lookup"><span data-stu-id="44c29-863">In configurations where I/O bandwidth can become a limiting factor, every measure, which reduces IOPS might help to stretch the workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="44c29-864">Därför rekommenderas att kontrollera att SAP ASE komprimering används innan du laddar upp en befintlig SAP-databas till Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-864">Therefore, it is strongly recommended to make sure that SAP ASE compression is used before uploading an existing SAP database to Azure.</span></span>

<span data-ttu-id="44c29-865">Rekommendationen att utföra komprimering innan du laddar upp till Azure om den inte redan har implementerats får slut på flera orsaker:</span><span class="sxs-lookup"><span data-stu-id="44c29-865">The recommendation to perform compression before uploading to Azure if it is not already implemented is given out of several reasons:</span></span>

* <span data-ttu-id="44c29-866">Mängden data som skulle överföras till Azure är lägre</span><span class="sxs-lookup"><span data-stu-id="44c29-866">The amount of data to be uploaded to Azure is lower</span></span>
* <span data-ttu-id="44c29-867">Varaktighet för komprimering körningen är kortare förutsatt att något kan använda starkare maskinvara med flera processorer eller högre i/o-bandbredd eller mindre i/o-svarstid lokalt</span><span class="sxs-lookup"><span data-stu-id="44c29-867">The duration of the compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises</span></span>
* <span data-ttu-id="44c29-868">Databasen är mindre kan leda till lägre kostnader för diskallokering</span><span class="sxs-lookup"><span data-stu-id="44c29-868">Smaller database sizes might lead to less costs for disk allocation</span></span>

<span data-ttu-id="44c29-869">Data och LOB komprimering fungerar på en virtuell dator som finns i Azure Virtual Machines som sker lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-869">Data- and LOB-Compression work in a VM hosted in Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="44c29-870">För mer information om hur du kontrollerar om komprimering är redan i använda i en befintlig databas för SAP ASE, kontrollera SAP-kommentar [1750510].</span><span class="sxs-lookup"><span data-stu-id="44c29-870">For more details on how to check if compression is already in use in an existing SAP ASE database, check SAP Note [1750510].</span></span>

#### <a name="using-dbacockpit-to-monitor-database-instances"></a><span data-ttu-id="44c29-871">Använda DBACockpit för att övervaka Databasinstanser</span><span class="sxs-lookup"><span data-stu-id="44c29-871">Using DBACockpit to monitor Database Instances</span></span>
<span data-ttu-id="44c29-872">För SAP-system som använder SAP ASE som databasplattform, är DBACockpit tillgänglig som inbäddade webbläsarfönster i transaktion DBACockpit eller Webdynpro.</span><span class="sxs-lookup"><span data-stu-id="44c29-872">For SAP systems, which are using SAP ASE as database platform, the DBACockpit is accessible as embedded browser windows in transaction DBACockpit or as Webdynpro.</span></span> <span data-ttu-id="44c29-873">Men alla funktioner för övervakning och administrera databasen är tillgänglig i Webdynpro implementeringen av DBACockpit endast.</span><span class="sxs-lookup"><span data-stu-id="44c29-873">However the full functionality for monitoring and administering the database is available in the Webdynpro implementation of the DBACockpit only.</span></span>

<span data-ttu-id="44c29-874">Som med lokalt system krävs flera steg för att aktivera alla SAP NetWeaver-funktioner som används av Webdynpro implementeringen av DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="44c29-874">As with on-premises systems several steps are required to enable all SAP NetWeaver functionality used by the Webdynpro implementation of the DBACockpit.</span></span> <span data-ttu-id="44c29-875">Följ SAP-kommentar [1245200] att aktivera användning av webdynpros och generera de nödvändiga.</span><span class="sxs-lookup"><span data-stu-id="44c29-875">Follow SAP Note [1245200] to enable the usage of webdynpros and generate the required ones.</span></span> <span data-ttu-id="44c29-876">När följa anvisningarna i ovanstående anteckningar konfigurera du också hanteraren för Internet-kommunikation (icm) tillsammans med portarna som ska användas för http och https-anslutningar.</span><span class="sxs-lookup"><span data-stu-id="44c29-876">When following the instructions in the above notes, you also configure the Internet Communication Manager (icm) along with the ports to be used for http and https connections.</span></span> <span data-ttu-id="44c29-877">Standardinställningen för HTTP-ser ut så här:</span><span class="sxs-lookup"><span data-stu-id="44c29-877">The default setting for http looks like this:</span></span>

> <span data-ttu-id="44c29-878">ICM/server_port_0 = skydd = HTTP, PORT = 8000 PROCTIMEOUT = 600, TIMEOUT = 600</span><span class="sxs-lookup"><span data-stu-id="44c29-878">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span></span>
> 
> <span data-ttu-id="44c29-879">ICM/server_port_1 = skydd = HTTPS, PORT = 443$ $PROCTIMEOUT = 600, TIMEOUT = 600</span><span class="sxs-lookup"><span data-stu-id="44c29-879">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span></span>
> 
> 

<span data-ttu-id="44c29-880">och länkar som har genererats i transaktionen DBACockpit ser ut ungefär så här:</span><span class="sxs-lookup"><span data-stu-id="44c29-880">and the links generated in transaction DBACockpit will look similar to this:</span></span>

> <span data-ttu-id="44c29-881">https://`<fullyqualifiedhostname`>: sap/44300/bc/sap/webdynpro/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="44c29-881">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> <span data-ttu-id="44c29-882">http://`<fullyqualifiedhostname`>: sap/8000/bc/sap/webdynpro/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="44c29-882">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> 

<span data-ttu-id="44c29-883">Beroende på använder om och hur den virtuella datorn för Azure som värd för SAP-systemet är ansluten via plats-till-plats, flera platser eller ExpressRoute (mellan lokala distribution) måste du kontrollera att ICM ett fullständigt kvalificerat värdnamn som kan lösas på datorn där du försöker öppna DBACockpit från.</span><span class="sxs-lookup"><span data-stu-id="44c29-883">Depending on if and how the Azure Virtual Machine hosting the SAP system is connected via site-to-site, multi-site or ExpressRoute (Cross-Premises deployment) you need to make sure that ICM is using a fully qualified hostname that can be resolved on the machine where you are trying to open the DBACockpit from.</span></span> <span data-ttu-id="44c29-884">Se SAP-kommentar [773830] att förstå hur ICM anger fullständigt kvalificerat värdnamn beroende på profilen parametrar och ange parametern icm/host_name_full uttryckligen om det behövs.</span><span class="sxs-lookup"><span data-stu-id="44c29-884">See SAP Note [773830] to understand how ICM determines the fully qualified host name depending on profile parameters and set parameter icm/host_name_full explicitly if required.</span></span>

<span data-ttu-id="44c29-885">Om du har distribuerat den virtuella datorn i ett scenario med endast molnbaserad utan anslutning mellan lokala och Azure måste du definiera en offentlig IP-adress och en domainlabel.</span><span class="sxs-lookup"><span data-stu-id="44c29-885">If you deployed the VM in a Cloud-Only scenario without cross-premises connectivity between on-premises and Azure, you need to define a public IP address and a domainlabel.</span></span> <span data-ttu-id="44c29-886">Formatet för det offentliga DNS-namnet på den virtuella datorn ser ut så här:</span><span class="sxs-lookup"><span data-stu-id="44c29-886">The format of the public DNS name of the VM looks like this:</span></span>

> <span data-ttu-id="44c29-887">`<custom domainlabel`>. `<azure region`>. cloudapp.azure.com</span><span class="sxs-lookup"><span data-stu-id="44c29-887">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span></span>
> 
> 

<span data-ttu-id="44c29-888">Mer information för DNS-namnet kan hittas [här][virtual-machines-azurerm-versus-azuresm].</span><span class="sxs-lookup"><span data-stu-id="44c29-888">More details related to the DNS name can be found [here][virtual-machines-azurerm-versus-azuresm].</span></span>

<span data-ttu-id="44c29-889">Ställa in SAP profil parametern icm/host_name_full till DNS-namnet på Azure VM länken kan se ut:</span><span class="sxs-lookup"><span data-stu-id="44c29-889">Setting the SAP profile parameter icm/host_name_full to the DNS name of the Azure VM the link might look similar to:</span></span>

> <span data-ttu-id="44c29-890">sap/https://mydomainlabel.westeurope.cloudapp.NET:44300/bc/sap/webdynpro/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="44c29-890">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> <span data-ttu-id="44c29-891">sap/http://mydomainlabel.westeurope.cloudapp.NET:8000/bc/sap/webdynpro/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="44c29-891">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> 

<span data-ttu-id="44c29-892">I det här fallet måste du se till att:</span><span class="sxs-lookup"><span data-stu-id="44c29-892">In this case you need to make sure to:</span></span>

* <span data-ttu-id="44c29-893">Lägg till regler för inkommande trafik till Nätverkssäkerhetsgruppen i Azure-portalen för TCP/IP-portar som används för att kommunicera med ICM</span><span class="sxs-lookup"><span data-stu-id="44c29-893">Add Inbound rules to the Network Security Group in the Azure portal for the TCP/IP ports used to communicate with ICM</span></span>
* <span data-ttu-id="44c29-894">Lägg till regler för inkommande trafik i Windows-brandväggskonfigurationen för TCP/IP-portar som används för att kommunicera med ICM</span><span class="sxs-lookup"><span data-stu-id="44c29-894">Add Inbound rules to the Windows Firewall configuration for the TCP/IP ports used to communicate with the ICM</span></span>

<span data-ttu-id="44c29-895">För en automatiserad importeras av alla ändringar som är tillgänglig, rekommenderas att med jämna mellanrum tillämpa korrigering samlingen SAP-kommentar som gäller för din SAP-version:</span><span class="sxs-lookup"><span data-stu-id="44c29-895">For an automated imported of all corrections available, it is recommended to periodically apply the correction collection SAP Note applicable to your SAP version:</span></span>

* <span data-ttu-id="44c29-896">[1558958]</span><span class="sxs-lookup"><span data-stu-id="44c29-896">[1558958]</span></span>
* <span data-ttu-id="44c29-897">[1619967]</span><span class="sxs-lookup"><span data-stu-id="44c29-897">[1619967]</span></span>
* <span data-ttu-id="44c29-898">[1882376]</span><span class="sxs-lookup"><span data-stu-id="44c29-898">[1882376]</span></span>

<span data-ttu-id="44c29-899">Mer information om DBA Cockpit för SAP ASE finns i följande SAP-information:</span><span class="sxs-lookup"><span data-stu-id="44c29-899">Further information about DBA Cockpit for SAP ASE can be found in the following SAP Notes:</span></span>

* <span data-ttu-id="44c29-900">[1605680]</span><span class="sxs-lookup"><span data-stu-id="44c29-900">[1605680]</span></span>
* <span data-ttu-id="44c29-901">[1757924]</span><span class="sxs-lookup"><span data-stu-id="44c29-901">[1757924]</span></span>
* <span data-ttu-id="44c29-902">[1757928]</span><span class="sxs-lookup"><span data-stu-id="44c29-902">[1757928]</span></span>
* <span data-ttu-id="44c29-903">[1758182]</span><span class="sxs-lookup"><span data-stu-id="44c29-903">[1758182]</span></span>
* <span data-ttu-id="44c29-904">[1758496]</span><span class="sxs-lookup"><span data-stu-id="44c29-904">[1758496]</span></span>    
* <span data-ttu-id="44c29-905">[1814258]</span><span class="sxs-lookup"><span data-stu-id="44c29-905">[1814258]</span></span>
* <span data-ttu-id="44c29-906">[1922555]</span><span class="sxs-lookup"><span data-stu-id="44c29-906">[1922555]</span></span>
* <span data-ttu-id="44c29-907">[1956005]</span><span class="sxs-lookup"><span data-stu-id="44c29-907">[1956005]</span></span>

#### <a name="backuprecovery-considerations-for-sap-ase"></a><span data-ttu-id="44c29-908">Säkerhetskopiering/återställning överväganden för SAP ASE</span><span class="sxs-lookup"><span data-stu-id="44c29-908">Backup/Recovery Considerations for SAP ASE</span></span>
<span data-ttu-id="44c29-909">När du distribuerar SAP ASE till Azure måste din backup metod granskas.</span><span class="sxs-lookup"><span data-stu-id="44c29-909">When deploying SAP ASE into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="44c29-910">Även om systemet inte är en produktiv system måste SAP-databasen hos SAP ASE säkerhetskopieras regelbundet.</span><span class="sxs-lookup"><span data-stu-id="44c29-910">Even if the system is not a productive system, the SAP database hosted by SAP ASE must be backed up periodically.</span></span> <span data-ttu-id="44c29-911">Eftersom Azure Storage håller tre bilder, är nu en säkerhetskopia mindre viktiga med avseende på kompenserande en krasch lagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-911">Since Azure Storage keeps three images, a backup is now less important in respect to compensating a storage crash.</span></span> <span data-ttu-id="44c29-912">Det främsta skälet för att bibehålla en korrekt plan för säkerhetskopiering och återställning är mer som du kan kompensera för logiska/manuell fel genom att tillhandahålla punkt i tiden återställningsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-912">The primary reason for maintaining a proper backup and restore plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="44c29-913">Målet är så att antingen använda säkerhetskopieringar att återställa databasen till en viss punkt i tid eller använda säkerhetskopieringar i Azure som startvärde för ett annat system genom att kopiera den befintliga databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-913">So the goal is to either use backups to restore the database back to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="44c29-914">Till exempel kunde du överföra från en SAP nivå 2-konfiguration till en 3-skikts systeminställningarna för samma system genom att återställa en säkerhetskopia.</span><span class="sxs-lookup"><span data-stu-id="44c29-914">For example, you could transfer from a 2-Tier SAP configuration to a 3-Tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="44c29-915">Säkerhetskopiera och återställa en databas i Azure fungerar på samma sätt som lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-915">Backing up and restoring a database in Azure works the same way as it does on-premises.</span></span> <span data-ttu-id="44c29-916">Se SAP-information:</span><span class="sxs-lookup"><span data-stu-id="44c29-916">See SAP Notes:</span></span>

* <span data-ttu-id="44c29-917">[1588316]</span><span class="sxs-lookup"><span data-stu-id="44c29-917">[1588316]</span></span>
* <span data-ttu-id="44c29-918">[1585981]</span><span class="sxs-lookup"><span data-stu-id="44c29-918">[1585981]</span></span>

<span data-ttu-id="44c29-919">Mer information om att skapa dumpen konfigurationer och schemalägga säkerhetskopieringar.</span><span class="sxs-lookup"><span data-stu-id="44c29-919">for details on creating dump configurations and scheduling backups.</span></span> <span data-ttu-id="44c29-920">Beroende på din strategi och dina behov kan du konfigurera Dumpar databasen och loggfilerna du disken till en av de befintliga diskarna eller lägga till ytterligare en disk för säkerhetskopiering.</span><span class="sxs-lookup"><span data-stu-id="44c29-920">Depending on your strategy and needs you can configure database and log dumps to disk onto one of the existing disks or add an additional disk for the backup.</span></span> <span data-ttu-id="44c29-921">Om du vill minska risken för dataförlust om ett fel, rekommenderas att använda en disk där det finns ingen databasenhet.</span><span class="sxs-lookup"><span data-stu-id="44c29-921">To reduce the danger of data loss in case of an error, it is recommended to use a disk where no database device is located.</span></span>

<span data-ttu-id="44c29-922">Förutom data och LOB erbjuder också komprimering SAP ASE säkerhetskopieringskomprimering.</span><span class="sxs-lookup"><span data-stu-id="44c29-922">Besides data- and LOB compression SAP ASE also offers backup compression.</span></span> <span data-ttu-id="44c29-923">Om du vill ta mindre plats med databasen och loggfilerna Dumpar rekommenderas att använda säkerhetskopieringskomprimering.</span><span class="sxs-lookup"><span data-stu-id="44c29-923">To occupy less space with the database and log dumps it is recommended to use backup compression.</span></span> <span data-ttu-id="44c29-924">Mer information finns i SAP-kommentar [1588316].</span><span class="sxs-lookup"><span data-stu-id="44c29-924">For more information, see SAP Note [1588316].</span></span> <span data-ttu-id="44c29-925">Komprimera säkerhetskopian är också viktigt att minska mängden data som ska överföras om du planerar att ladda ned säkerhetskopior eller virtuella hårddiskar som innehåller säkerhetskopiering Dumpar från Azure-dator till lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-925">Compressing the backup is also crucial to reduce the amount of data to be transferred if you plan to download backups or VHDs containing backup dumps from the Azure Virtual Machine to on-premises.</span></span>

<span data-ttu-id="44c29-926">Använd inte enhet D:\ som mål för databas eller logg dumpen.</span><span class="sxs-lookup"><span data-stu-id="44c29-926">Do not use drive D:\ as database or log dump destination.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="44c29-927">Prestandaöverväganden för säkerhetskopiering/återställning</span><span class="sxs-lookup"><span data-stu-id="44c29-927">Performance Considerations for Backups/Restores</span></span>
<span data-ttu-id="44c29-928">Säkerhetskopiering/återställning prestanda är beroende av hur många volymer kan läsas parallellt och vilka genomflödet av dessa volymer kan vara som bare metal-distributioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-928">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="44c29-929">CPU-förbrukning som används av säkerhetskopieringskomprimering kan dessutom spela en viktig roll på virtuella datorer med bara upp till åtta CPU-trådar.</span><span class="sxs-lookup"><span data-stu-id="44c29-929">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to eight CPU threads.</span></span> <span data-ttu-id="44c29-930">Därför kan anta en:</span><span class="sxs-lookup"><span data-stu-id="44c29-930">Therefore, one can assume:</span></span>

* <span data-ttu-id="44c29-931">Det färre antalet diskar som används för att lagra databasen-enheter mindre totala genomflödet i läsning</span><span class="sxs-lookup"><span data-stu-id="44c29-931">The fewer the number of disks used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="44c29-932">Mindre antal CPU trådar i den virtuella datorn på allvarligare effekten av säkerhetskopieringskomprimering</span><span class="sxs-lookup"><span data-stu-id="44c29-932">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="44c29-933">Färre mål (Stripe-kataloger, diskar) att skriva säkerhetskopian till den lägsta genomflödet</span><span class="sxs-lookup"><span data-stu-id="44c29-933">The fewer targets (Stripe Directories, disks) to write the backup to, the lesser the throughput</span></span>

<span data-ttu-id="44c29-934">Att öka antalet mål att skriva till det finns två alternativ som kan vara används kombinerad beroende på dina behov:</span><span class="sxs-lookup"><span data-stu-id="44c29-934">To increase the number of targets to write to there are two options, which can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="44c29-935">Striping säkerhetskopiering målvolymen över flera monterade diskar för att kunna förbättra IOPS genomströmning på stripe volymen</span><span class="sxs-lookup"><span data-stu-id="44c29-935">Striping the backup target volume over multiple mounted disks in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="44c29-936">Skapa en dump konfiguration på SAP ASE nivå, som använder mer än en målkatalogen för att skriva dumpen till</span><span class="sxs-lookup"><span data-stu-id="44c29-936">Creating a dump configuration on SAP ASE level, which uses more than one target directory to write the dump to</span></span>

<span data-ttu-id="44c29-937">Striping av en volym över flera monterade diskar har diskuterats tidigare i den här guiden.</span><span class="sxs-lookup"><span data-stu-id="44c29-937">Striping a volume over multiple mounted disks has been discussed earlier in this guide.</span></span> <span data-ttu-id="44c29-938">Mer information om hur du använder flera kataloger i SAP ASE dump konfigurationen finns i dokumentationen för lagrad procedur sp_config_dump som används för att skapa dumpen-konfigurationen på den [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span><span class="sxs-lookup"><span data-stu-id="44c29-938">For more information on using multiple directories in the SAP ASE dump configuration, refer to the documentation on Stored Procedure sp_config_dump, which is used to create the dump configuration on the [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span></span>

### <a name="disaster-recovery-with-azure-vms"></a><span data-ttu-id="44c29-939">Katastrofåterställning med virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="44c29-939">Disaster Recovery with Azure VMs</span></span>
#### <a name="data-replication-with-sap-sybase-replication-server"></a><span data-ttu-id="44c29-940">Datareplikering med SAP Sybase replikering av Server</span><span class="sxs-lookup"><span data-stu-id="44c29-940">Data Replication with SAP Sybase Replication Server</span></span>
<span data-ttu-id="44c29-941">Med SAP-ASE SAP Sybase replikering Server (SRS) tillhandahåller en varmt vänteläge lösning för att överföra databastransaktioner asynkront till en fjärrplats.</span><span class="sxs-lookup"><span data-stu-id="44c29-941">With the SAP Sybase Replication Server (SRS) SAP ASE provides a warm standby solution to transfer database transactions to a distant location asynchronously.</span></span> 

<span data-ttu-id="44c29-942">Installationen och driften av SRS fungerar samt funktionellt i en virtuell dator som finns i Azure-tjänster för virtuella datorer som lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-942">The installation and operation of SRS works as well functionally in a VM hosted in Azure Virtual Machine Services as it does on-premises.</span></span>

<span data-ttu-id="44c29-943">ASE HADR via SAP replikering Server är planerad med en framtida utgåva.</span><span class="sxs-lookup"><span data-stu-id="44c29-943">ASE HADR via SAP Replication Server is planned with a future release.</span></span> <span data-ttu-id="44c29-944">Den testas med och publicerat för Microsoft Azure-plattformar så snart den är tillgänglig.</span><span class="sxs-lookup"><span data-stu-id="44c29-944">It will be tested with and released for Microsoft Azure platforms as soon as it is available.</span></span>

## <a name="specifics-to-sap-ase-on-linux"></a><span data-ttu-id="44c29-945">Specifik information skrivs till SAP ASE på Linux</span><span class="sxs-lookup"><span data-stu-id="44c29-945">Specifics to SAP ASE on Linux</span></span>
<span data-ttu-id="44c29-946">Från och med Microsoft Azure kan migrera du enkelt befintliga SAP ASE program till Azure-datorer.</span><span class="sxs-lookup"><span data-stu-id="44c29-946">Starting with Microsoft Azure, you can easily migrate your existing SAP ASE applications to Azure Virtual Machines.</span></span> <span data-ttu-id="44c29-947">SAP ASE i en virtuell dator kan du minska den totala ägandekostnaden för distribution, hantering och underhåll av breda företagsprogram genom att enkelt migrera dessa program till Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-947">SAP ASE in a Virtual Machine enables you to reduce the total cost of ownership of deployment, management, and maintenance of enterprise breadth applications by easily migrating these applications to Microsoft Azure.</span></span> <span data-ttu-id="44c29-948">Med SAP ASE i en virtuell dator i Azure, kan administratörer och utvecklare fortfarande använda samma utveckling och Administrationsverktyg som är tillgängliga lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-948">With SAP ASE in an Azure Virtual Machine, administrators and developers can still use the same development and administration tools that are available on-premises.</span></span>

<span data-ttu-id="44c29-949">För att distribuera virtuella Azure-datorer är det viktigt att veta officiella SLA: er, som finns här: <https://azure.microsoft.com/support/legal/sla></span><span class="sxs-lookup"><span data-stu-id="44c29-949">For deploying Azure VMs it's important to know the official SLAs, which can be found here: <https://azure.microsoft.com/support/legal/sla></span></span>

<span data-ttu-id="44c29-950">SAP mätinformationen och en lista över SAP certifierade VM SKU: er finns i SAP-kommentar [1928533].</span><span class="sxs-lookup"><span data-stu-id="44c29-950">SAP sizing information and a list of SAP certified VM SKUs is provided in SAP Note [1928533].</span></span> <span data-ttu-id="44c29-951">Ytterligare SAP storleksanpassa dokument för Azure virtuella datorer finns här <http://blogs.msdn.com/b/saponsqlserver/archive/2015/06/19/how-to-size-sap-systems-running-on-azure-vms.aspx> och här <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span><span class="sxs-lookup"><span data-stu-id="44c29-951">Additional SAP sizing documents for Azure Virtual machines can be found here <http://blogs.msdn.com/b/saponsqlserver/archive/2015/06/19/how-to-size-sap-systems-running-on-azure-vms.aspx> and here <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span></span>

<span data-ttu-id="44c29-952">Instruktioner och rekommendationer om användningen av Azure Storage, distribution av SAP virtuella datorer eller SAP övervakning gäller för distributioner av SAP ASE tillsammans med SAP-program som anges i de fyra första kapitlen i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="44c29-952">Statements and recommendations in regard to the usage of Azure Storage, Deployment of SAP VMs or SAP Monitoring apply to deployments of SAP ASE in conjunction with SAP applications as stated throughout the first four chapters of this document.</span></span>

<span data-ttu-id="44c29-953">Följande två SAP information innehåller allmän information om ASE på Linux- och ASE i molnet:</span><span class="sxs-lookup"><span data-stu-id="44c29-953">The following two SAP Notes include general information about ASE on Linux and ASE in the Cloud:</span></span>

* <span data-ttu-id="44c29-954">[2134316]</span><span class="sxs-lookup"><span data-stu-id="44c29-954">[2134316]</span></span>
* <span data-ttu-id="44c29-955">[1941500]</span><span class="sxs-lookup"><span data-stu-id="44c29-955">[1941500]</span></span>

### <a name="sap-ase-version-support"></a><span data-ttu-id="44c29-956">Stöd för SAP-ASE Version</span><span class="sxs-lookup"><span data-stu-id="44c29-956">SAP ASE Version Support</span></span>
<span data-ttu-id="44c29-957">SAP för närvarande stöder SAP ASE version 16,0 för SAP Business Suite.</span><span class="sxs-lookup"><span data-stu-id="44c29-957">SAP currently supports SAP ASE version 16.0 for use with SAP Business Suite products.</span></span> <span data-ttu-id="44c29-958">Alla uppdateringar för SAP ASE server eller JDBC och ODBC-drivrutiner som ska användas med produkter SAP Business Suite tillhandahålls enbart på marknadsplatsen SAP Service på: <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="44c29-958">All updates for SAP ASE server, or JDBC and ODBC drivers to be used with SAP Business Suite products are provided solely through the SAP Service Marketplace at: <https://support.sap.com/swdc>.</span></span>

<span data-ttu-id="44c29-959">För installationer lokalt, att inte hämta uppdateringar för SAP ASE servern eller för JDBC och ODBC-drivrutiner direkt från Sybase-webbplatser.</span><span class="sxs-lookup"><span data-stu-id="44c29-959">As for installations on-premises, do not download updates for the SAP ASE server, or for the JDBC and ODBC drivers directly from Sybase websites.</span></span> <span data-ttu-id="44c29-960">Mer detaljerad information om korrigeringsprogram som stöds för användning med SAP Business Suite produkter lokalt och i Azure Virtual Machines finns följande SAP-information:</span><span class="sxs-lookup"><span data-stu-id="44c29-960">For detailed information on patches, which are supported for use with SAP Business Suite products on-premises and in Azure Virtual Machines see the following SAP Notes:</span></span>

* <span data-ttu-id="44c29-961">[1590719]</span><span class="sxs-lookup"><span data-stu-id="44c29-961">[1590719]</span></span>
* <span data-ttu-id="44c29-962">[1973241]</span><span class="sxs-lookup"><span data-stu-id="44c29-962">[1973241]</span></span>

<span data-ttu-id="44c29-963">Allmän information om hur du kör SAP Business Suite på SAP ASE kan hittas i den [Tillståndsändringsavisering](https://www.sap.com/community/topic/ase.html)</span><span class="sxs-lookup"><span data-stu-id="44c29-963">General information on running SAP Business Suite on SAP ASE can be found in the [SCN](https://www.sap.com/community/topic/ase.html)</span></span>

### <a name="sap-ase-configuration-guidelines-for-sap-related-sap-ase-installations-in-azure-vms"></a><span data-ttu-id="44c29-964">Riktlinjer för SAP ASE konfiguration för SAP-relaterade SAP ASE installationer i virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="44c29-964">SAP ASE Configuration Guidelines for SAP-related SAP ASE Installations in Azure VMs</span></span>
#### <a name="structure-of-the-sap-ase-deployment"></a><span data-ttu-id="44c29-965">Struktur för SAP ASE-distribution</span><span class="sxs-lookup"><span data-stu-id="44c29-965">Structure of the SAP ASE Deployment</span></span>
<span data-ttu-id="44c29-966">I enlighet med den allmänna beskrivningen SAP ASE körbara filer finns eller installerats i filsystemet roten för den virtuella datorn (/sybase).</span><span class="sxs-lookup"><span data-stu-id="44c29-966">In accordance with the general description, SAP ASE executables should be located or installed into the root file system of the VM ( /sybase ).</span></span> <span data-ttu-id="44c29-967">Vanligtvis utnyttjas de flesta av databaser för SAP ASE system och verktyg inte verkligen hårddisk av SAP NetWeaver arbetsbelastning.</span><span class="sxs-lookup"><span data-stu-id="44c29-967">Typically, most of the SAP ASE system and tools databases are not really leveraged hard by SAP NetWeaver workload.</span></span> <span data-ttu-id="44c29-968">Därför kan de verktyg och system databaserna (master, model, saptools, sybmgmtdb, sybsystemdb) finns kvar på filsystemet rot.</span><span class="sxs-lookup"><span data-stu-id="44c29-968">Hence the system and tools databases (master, model, saptools, sybmgmtdb, sybsystemdb) can remain on the root file system as well.</span></span> 

<span data-ttu-id="44c29-969">Ett undantag kan vara tillfälliga databasen som innehåller alla arbetsobjekt tabeller och temporära tabeller som skapats av SAP ASE som vid vissa SAP ERP och alla BW arbetsbelastningar kan kräva högre datavolym eller i/o-åtgärder, volym som inte får plats i den ursprungliga VM OS-disken.</span><span class="sxs-lookup"><span data-stu-id="44c29-969">An exception could be the temporary database containing all work tables and temporary tables created by SAP ASE, which in case of some SAP ERP and all BW workloads might require either higher data volume or I/O operations, volume which can’t fit into the original VM’s OS disk.</span></span>

<span data-ttu-id="44c29-970">Beroende på vilken version av SAPInst/SWPM används för att installera innehålla databasen:</span><span class="sxs-lookup"><span data-stu-id="44c29-970">Depending on the version of SAPInst/SWPM used to install the system, the database might contain:</span></span>

* <span data-ttu-id="44c29-971">En enda SAP ASE tempdb som skapas när du installerar SAP ASE</span><span class="sxs-lookup"><span data-stu-id="44c29-971">A single SAP ASE tempdb, which is created when installing SAP ASE</span></span>
* <span data-ttu-id="44c29-972">En SAP ASE tempdb som skapats genom att installera SAP ASE och en ytterligare saptempdb som skapats av rutinen SAP-installation</span><span class="sxs-lookup"><span data-stu-id="44c29-972">An SAP ASE tempdb created by installing SAP ASE and an additional saptempdb created by the SAP installation routine</span></span>
* <span data-ttu-id="44c29-973">En SAP ASE tempdb som skapats genom att installera SAP ASE och en ytterligare tempdb som har skapats manuellt (till exempel följande SAP-kommentar [1752266]) till ERP/BW specifika tempdb-krav</span><span class="sxs-lookup"><span data-stu-id="44c29-973">An SAP ASE tempdb created by installing SAP ASE and an additional tempdb that has been created manually (for example following SAP Note [1752266]) to meet ERP/BW specific tempdb requirements</span></span>

<span data-ttu-id="44c29-974">Vid specifika ERP eller alla BW arbetsbelastningar klokt det, gäller prestanda, så Håll tempdb-enheter efter dessutom skapade tempdb (via SWPM eller manuellt) på en separat filsystem, som representeras av en enda Azure datadisk eller en Linux-RAID som sträcker sig över flera diskar i Azure data.</span><span class="sxs-lookup"><span data-stu-id="44c29-974">In case of specific ERP or all BW workloads, it makes sense, in regard to performance, to keep the tempdb devices of the additionally created tempdb (by SWPM or manually) on a separate file system, which can be represented by a single Azure data disk or a Linux RAID spanning multiple Azure data disks.</span></span> <span data-ttu-id="44c29-975">Om det finns inga ytterligare tempdb, rekommenderas att skapa en (SAP-kommentar [1752266]).</span><span class="sxs-lookup"><span data-stu-id="44c29-975">If no additional tempdb exists, it is recommended to create one (SAP Note [1752266]).</span></span>

<span data-ttu-id="44c29-976">Följande steg ska utföras för dessutom skapade tempdb för sådana system:</span><span class="sxs-lookup"><span data-stu-id="44c29-976">For such systems the following steps should be performed for the additionally created tempdb:</span></span>

* <span data-ttu-id="44c29-977">Flytta den första tempdb-katalogen till SAP-databasen första filsystem</span><span class="sxs-lookup"><span data-stu-id="44c29-977">Move the first tempdb directory to the first file system of the SAP database</span></span>
* <span data-ttu-id="44c29-978">Lägga till tempdb kataloger till var och en av diskarna med ett filsystem SAP-databasen</span><span class="sxs-lookup"><span data-stu-id="44c29-978">Add tempdb directories to each of the disks containing a filesystem of the SAP database</span></span>

<span data-ttu-id="44c29-979">Den här konfigurationen kan tempdb antingen förbruka mer utrymme än systemenheten kan ge.</span><span class="sxs-lookup"><span data-stu-id="44c29-979">This configuration enables tempdb to either consume more space than the system drive is able to provide.</span></span> <span data-ttu-id="44c29-980">Som referens Kontrollera en tempdb directory storlekar på befintliga system som kör lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-980">As a reference one can check the tempdb directory sizes on existing systems, which run on-premises.</span></span> <span data-ttu-id="44c29-981">Eller en sådan konfiguration skulle aktivera IOPS siffror mot tempdb som kan tillhandahållas med systemenheten.</span><span class="sxs-lookup"><span data-stu-id="44c29-981">Or such a configuration would enable IOPS numbers against tempdb, which cannot be provided with the system drive.</span></span> <span data-ttu-id="44c29-982">Igen kan system som kör lokalt användas för att övervaka i/o-arbetsbelastning mot tempdb.</span><span class="sxs-lookup"><span data-stu-id="44c29-982">Again systems that are running on-premises can be used to monitor I/O workload against tempdb.</span></span>

<span data-ttu-id="44c29-983">Placera inte några kataloger som SAP ASE till /mnt eller /mnt/resource av den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="44c29-983">Never put any SAP ASE directories onto /mnt or /mnt/resource of the VM.</span></span> <span data-ttu-id="44c29-984">Detta gäller även för tempdb, även om de objekt som lagras i tempdb är temporära eftersom /mnt eller /mnt/resource är en standard Azure VM temp utrymme, vilket inte är beständig.</span><span class="sxs-lookup"><span data-stu-id="44c29-984">This also applies to the tempdb, even if the objects kept in the tempdb are only temporary because /mnt or /mnt/resource is a default Azure VM temp space, which is not persistent.</span></span> <span data-ttu-id="44c29-985">Mer information om det tillfälliga utrymmet Azure VM finns i [i den här artikeln][virtual-machines-linux-how-to-attach-disk]</span><span class="sxs-lookup"><span data-stu-id="44c29-985">More details about the Azure VM temp space can be found in [this article][virtual-machines-linux-how-to-attach-disk]</span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="44c29-986">Effekten av databasen komprimering</span><span class="sxs-lookup"><span data-stu-id="44c29-986">Impact of Database Compression</span></span>
<span data-ttu-id="44c29-987">Alla åtgärder, vilket minskar IOPS kan hjälpa till att sträcka ut arbetsbelastningen kan köra i ett IaaS-scenario som Azure i konfigurationer där i/o-bandbredd kan bli en begränsande faktor.</span><span class="sxs-lookup"><span data-stu-id="44c29-987">In configurations where I/O bandwidth can become a limiting factor, every measure, which reduces IOPS might help to stretch the workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="44c29-988">Därför rekommenderas att kontrollera att SAP ASE komprimering används innan du laddar upp en befintlig SAP-databas till Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-988">Therefore, it is strongly recommended to make sure that SAP ASE compression is used before uploading an existing SAP database to Azure.</span></span>

<span data-ttu-id="44c29-989">Rekommendationen att utföra komprimering innan du laddar upp till Azure om den inte redan har implementerats får slut på flera orsaker:</span><span class="sxs-lookup"><span data-stu-id="44c29-989">The recommendation to perform compression before uploading to Azure if it is not already implemented is given out of several reasons:</span></span>

* <span data-ttu-id="44c29-990">Mängden data som skulle överföras till Azure är lägre</span><span class="sxs-lookup"><span data-stu-id="44c29-990">The amount of data to be uploaded to Azure is lower</span></span>
* <span data-ttu-id="44c29-991">Varaktighet för komprimering körningen är kortare förutsatt att något kan använda starkare maskinvara med flera processorer eller högre i/o-bandbredd eller mindre i/o-svarstid lokalt</span><span class="sxs-lookup"><span data-stu-id="44c29-991">The duration of the compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises</span></span>
* <span data-ttu-id="44c29-992">Databasen är mindre kan leda till lägre kostnader för diskallokering</span><span class="sxs-lookup"><span data-stu-id="44c29-992">Smaller database sizes might lead to less costs for disk allocation</span></span>

<span data-ttu-id="44c29-993">Data och LOB komprimering fungerar på en virtuell dator som finns i Azure Virtual Machines som sker lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-993">Data- and LOB-Compression work in a VM hosted in Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="44c29-994">För mer information om hur du kontrollerar om komprimering är redan i använda i en befintlig databas för SAP ASE, kontrollera SAP-kommentar [1750510].</span><span class="sxs-lookup"><span data-stu-id="44c29-994">For more details on how to check if compression is already in use in an existing SAP ASE database, check SAP Note [1750510].</span></span> <span data-ttu-id="44c29-995">För ytterligare information om databasen komprimering Se SAP-kommentar [2121797].</span><span class="sxs-lookup"><span data-stu-id="44c29-995">For additional information regarding database compression, see SAP Note [2121797].</span></span>

#### <a name="using-dbacockpit-to-monitor-database-instances"></a><span data-ttu-id="44c29-996">Använda DBACockpit för att övervaka Databasinstanser</span><span class="sxs-lookup"><span data-stu-id="44c29-996">Using DBACockpit to monitor Database Instances</span></span>
<span data-ttu-id="44c29-997">För SAP-system som använder SAP ASE som databasplattform, är DBACockpit tillgänglig som inbäddade webbläsarfönster i transaktion DBACockpit eller Webdynpro.</span><span class="sxs-lookup"><span data-stu-id="44c29-997">For SAP systems, which are using SAP ASE as database platform, the DBACockpit is accessible as embedded browser windows in transaction DBACockpit or as Webdynpro.</span></span> <span data-ttu-id="44c29-998">Men alla funktioner för övervakning och administrera databasen är tillgänglig i Webdynpro implementeringen av DBACockpit endast.</span><span class="sxs-lookup"><span data-stu-id="44c29-998">However the full functionality for monitoring and administering the database is available in the Webdynpro implementation of the DBACockpit only.</span></span>

<span data-ttu-id="44c29-999">Som med lokalt system krävs flera steg för att aktivera alla SAP NetWeaver-funktioner som används av Webdynpro implementeringen av DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="44c29-999">As with on-premises systems several steps are required to enable all SAP NetWeaver functionality used by the Webdynpro implementation of the DBACockpit.</span></span> <span data-ttu-id="44c29-1000">Följ SAP-kommentar [1245200] att aktivera användning av webdynpros och generera de nödvändiga.</span><span class="sxs-lookup"><span data-stu-id="44c29-1000">Follow SAP Note [1245200] to enable the usage of webdynpros and generate the required ones.</span></span> <span data-ttu-id="44c29-1001">När följa anvisningarna i ovanstående anteckningar konfigurera du också hanteraren för Internet-kommunikation (icm) tillsammans med portarna som ska användas för http och https-anslutningar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1001">When following the instructions in the above notes, you also configure the Internet Communication Manager (icm) along with the ports to be used for http and https connections.</span></span> <span data-ttu-id="44c29-1002">Standardinställningen för HTTP-ser ut så här:</span><span class="sxs-lookup"><span data-stu-id="44c29-1002">The default setting for http looks like this:</span></span>

> <span data-ttu-id="44c29-1003">ICM/server_port_0 = skydd = HTTP, PORT = 8000 PROCTIMEOUT = 600, TIMEOUT = 600</span><span class="sxs-lookup"><span data-stu-id="44c29-1003">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span></span>
> 
> <span data-ttu-id="44c29-1004">ICM/server_port_1 = skydd = HTTPS, PORT = 443$ $PROCTIMEOUT = 600, TIMEOUT = 600</span><span class="sxs-lookup"><span data-stu-id="44c29-1004">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span></span>
> 
> 

<span data-ttu-id="44c29-1005">och länkar som har genererats i transaktionen DBACockpit ser ut ungefär så här:</span><span class="sxs-lookup"><span data-stu-id="44c29-1005">and the links generated in transaction DBACockpit will look similar to this:</span></span>

> <span data-ttu-id="44c29-1006">https://`<fullyqualifiedhostname`>: sap/44300/bc/sap/webdynpro/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="44c29-1006">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> <span data-ttu-id="44c29-1007">http://`<fullyqualifiedhostname`>: sap/8000/bc/sap/webdynpro/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="44c29-1007">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> 

<span data-ttu-id="44c29-1008">Beroende på använder om och hur den virtuella datorn för Azure som värd för SAP-systemet är ansluten via plats-till-plats, flera platser eller ExpressRoute (mellan lokala distribution) måste du kontrollera att ICM ett fullständigt kvalificerat värdnamn som kan lösas på datorn där du försöker öppna DBACockpit från.</span><span class="sxs-lookup"><span data-stu-id="44c29-1008">Depending on if and how the Azure Virtual Machine hosting the SAP system is connected via site-to-site, multi-site or ExpressRoute (Cross-Premises deployment) you need to make sure that ICM is using a fully qualified hostname that can be resolved on the machine where you are trying to open the DBACockpit from.</span></span> <span data-ttu-id="44c29-1009">Se SAP-kommentar [773830] att förstå hur ICM anger fullständigt kvalificerat värdnamn beroende på profilen parametrar och ange parametern icm/host_name_full uttryckligen om det behövs.</span><span class="sxs-lookup"><span data-stu-id="44c29-1009">See SAP Note [773830] to understand how ICM determines the fully qualified host name depending on profile parameters and set parameter icm/host_name_full explicitly if required.</span></span>

<span data-ttu-id="44c29-1010">Om du har distribuerat den virtuella datorn i ett scenario med endast molnbaserad utan anslutning mellan lokala och Azure måste du definiera en offentlig IP-adress och en domainlabel.</span><span class="sxs-lookup"><span data-stu-id="44c29-1010">If you deployed the VM in a Cloud-Only scenario without cross-premises connectivity between on-premises and Azure, you need to define a public IP address and a domainlabel.</span></span> <span data-ttu-id="44c29-1011">Formatet för det offentliga DNS-namnet på den virtuella datorn ser ut så här:</span><span class="sxs-lookup"><span data-stu-id="44c29-1011">The format of the public DNS name of the VM looks like this:</span></span>

> <span data-ttu-id="44c29-1012">`<custom domainlabel`>. `<azure region`>. cloudapp.azure.com</span><span class="sxs-lookup"><span data-stu-id="44c29-1012">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span></span>
> 
> 

<span data-ttu-id="44c29-1013">Mer information för DNS-namnet kan hittas [här][virtual-machines-azurerm-versus-azuresm].</span><span class="sxs-lookup"><span data-stu-id="44c29-1013">More details related to the DNS name can be found [here][virtual-machines-azurerm-versus-azuresm].</span></span>

<span data-ttu-id="44c29-1014">Ställa in SAP profil parametern icm/host_name_full till DNS-namnet på Azure VM länken kan se ut:</span><span class="sxs-lookup"><span data-stu-id="44c29-1014">Setting the SAP profile parameter icm/host_name_full to the DNS name of the Azure VM the link might look similar to:</span></span>

> <span data-ttu-id="44c29-1015">sap/https://mydomainlabel.westeurope.cloudapp.NET:44300/bc/sap/webdynpro/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="44c29-1015">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> <span data-ttu-id="44c29-1016">sap/http://mydomainlabel.westeurope.cloudapp.NET:8000/bc/sap/webdynpro/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="44c29-1016">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> 

<span data-ttu-id="44c29-1017">I det här fallet måste du se till att:</span><span class="sxs-lookup"><span data-stu-id="44c29-1017">In this case you need to make sure to:</span></span>

* <span data-ttu-id="44c29-1018">Lägg till regler för inkommande trafik till Nätverkssäkerhetsgruppen i Azure-portalen för TCP/IP-portar som används för att kommunicera med ICM</span><span class="sxs-lookup"><span data-stu-id="44c29-1018">Add Inbound rules to the Network Security Group in the Azure portal for the TCP/IP ports used to communicate with ICM</span></span>
* <span data-ttu-id="44c29-1019">Lägg till regler för inkommande trafik i Windows-brandväggskonfigurationen för TCP/IP-portar som används för att kommunicera med ICM</span><span class="sxs-lookup"><span data-stu-id="44c29-1019">Add Inbound rules to the Windows Firewall configuration for the TCP/IP ports used to communicate with the ICM</span></span>

<span data-ttu-id="44c29-1020">För en automatiserad importeras av alla ändringar som är tillgänglig, rekommenderas att med jämna mellanrum tillämpa korrigering samlingen SAP-kommentar som gäller för din SAP-version:</span><span class="sxs-lookup"><span data-stu-id="44c29-1020">For an automated imported of all corrections available, it is recommended to periodically apply the correction collection SAP Note applicable to your SAP version:</span></span>

* <span data-ttu-id="44c29-1021">[1558958]</span><span class="sxs-lookup"><span data-stu-id="44c29-1021">[1558958]</span></span>
* <span data-ttu-id="44c29-1022">[1619967]</span><span class="sxs-lookup"><span data-stu-id="44c29-1022">[1619967]</span></span>
* <span data-ttu-id="44c29-1023">[1882376]</span><span class="sxs-lookup"><span data-stu-id="44c29-1023">[1882376]</span></span>

<span data-ttu-id="44c29-1024">Mer information om DBA Cockpit för SAP ASE finns i följande SAP-information:</span><span class="sxs-lookup"><span data-stu-id="44c29-1024">Further information about DBA Cockpit for SAP ASE can be found in the following SAP Notes:</span></span>

* <span data-ttu-id="44c29-1025">[1605680]</span><span class="sxs-lookup"><span data-stu-id="44c29-1025">[1605680]</span></span>
* <span data-ttu-id="44c29-1026">[1757924]</span><span class="sxs-lookup"><span data-stu-id="44c29-1026">[1757924]</span></span>
* <span data-ttu-id="44c29-1027">[1757928]</span><span class="sxs-lookup"><span data-stu-id="44c29-1027">[1757928]</span></span>
* <span data-ttu-id="44c29-1028">[1758182]</span><span class="sxs-lookup"><span data-stu-id="44c29-1028">[1758182]</span></span>
* <span data-ttu-id="44c29-1029">[1758496]</span><span class="sxs-lookup"><span data-stu-id="44c29-1029">[1758496]</span></span>    
* <span data-ttu-id="44c29-1030">[1814258]</span><span class="sxs-lookup"><span data-stu-id="44c29-1030">[1814258]</span></span>
* <span data-ttu-id="44c29-1031">[1922555]</span><span class="sxs-lookup"><span data-stu-id="44c29-1031">[1922555]</span></span>
* <span data-ttu-id="44c29-1032">[1956005]</span><span class="sxs-lookup"><span data-stu-id="44c29-1032">[1956005]</span></span>

#### <a name="backuprecovery-considerations-for-sap-ase"></a><span data-ttu-id="44c29-1033">Säkerhetskopiering/återställning överväganden för SAP ASE</span><span class="sxs-lookup"><span data-stu-id="44c29-1033">Backup/Recovery Considerations for SAP ASE</span></span>
<span data-ttu-id="44c29-1034">När du distribuerar SAP ASE till Azure måste din backup metod granskas.</span><span class="sxs-lookup"><span data-stu-id="44c29-1034">When deploying SAP ASE into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="44c29-1035">Även om systemet inte är en produktiv system måste SAP-databasen hos SAP ASE säkerhetskopieras regelbundet.</span><span class="sxs-lookup"><span data-stu-id="44c29-1035">Even if the system is not a productive system, the SAP database hosted by SAP ASE must be backed up periodically.</span></span> <span data-ttu-id="44c29-1036">Eftersom Azure Storage håller tre bilder, är nu en säkerhetskopia mindre viktiga med avseende på kompenserande en krasch lagring.</span><span class="sxs-lookup"><span data-stu-id="44c29-1036">Since Azure Storage keeps three images, a backup is now less important in respect to compensating a storage crash.</span></span> <span data-ttu-id="44c29-1037">Det främsta skälet för att bibehålla en korrekt plan för säkerhetskopiering och återställning är mer som du kan kompensera för logiska/manuell fel genom att tillhandahålla punkt i tiden återställningsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-1037">The primary reason for maintaining a proper backup and restore plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="44c29-1038">Målet är så att antingen använda säkerhetskopieringar att återställa databasen till en viss punkt i tid eller använda säkerhetskopieringar i Azure som startvärde för ett annat system genom att kopiera den befintliga databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-1038">So the goal is to either use backups to restore the database back to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="44c29-1039">Till exempel kunde du överföra från en SAP nivå 2-konfiguration till en 3-skikts systeminställningarna för samma system genom att återställa en säkerhetskopia.</span><span class="sxs-lookup"><span data-stu-id="44c29-1039">For example, you could transfer from a 2-Tier SAP configuration to a 3-Tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="44c29-1040">Säkerhetskopiera och återställa en databas i Azure fungerar på samma sätt som lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-1040">Backing up and restoring a database in Azure works the same way as it does on-premises.</span></span> <span data-ttu-id="44c29-1041">Se SAP-information:</span><span class="sxs-lookup"><span data-stu-id="44c29-1041">See SAP Notes:</span></span>

* <span data-ttu-id="44c29-1042">[1588316]</span><span class="sxs-lookup"><span data-stu-id="44c29-1042">[1588316]</span></span>
* <span data-ttu-id="44c29-1043">[1585981]</span><span class="sxs-lookup"><span data-stu-id="44c29-1043">[1585981]</span></span>

<span data-ttu-id="44c29-1044">Mer information om att skapa dumpen konfigurationer och schemalägga säkerhetskopieringar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1044">for details on creating dump configurations and scheduling backups.</span></span> <span data-ttu-id="44c29-1045">Beroende på din strategi och dina behov kan du konfigurera Dumpar databasen och loggfilerna du disken till en av de befintliga diskarna eller lägga till ytterligare en disk för säkerhetskopiering.</span><span class="sxs-lookup"><span data-stu-id="44c29-1045">Depending on your strategy and needs you can configure database and log dumps to disk onto one of the existing disks or add an additional disk for the backup.</span></span> <span data-ttu-id="44c29-1046">För att minska risken för dataförlust om ett fel som rekommenderas att använda en disk där det finns ingen directory/databasfil.</span><span class="sxs-lookup"><span data-stu-id="44c29-1046">To reduce the danger of data loss in case of an error it is recommended to use a disk where no database directory/file is located.</span></span>

<span data-ttu-id="44c29-1047">Förutom data och LOB erbjuder också komprimering SAP ASE säkerhetskopieringskomprimering.</span><span class="sxs-lookup"><span data-stu-id="44c29-1047">Besides data- and LOB compression SAP ASE also offers backup compression.</span></span> <span data-ttu-id="44c29-1048">Om du vill ta mindre plats med databasen och loggfilerna Dumpar rekommenderas att använda säkerhetskopieringskomprimering.</span><span class="sxs-lookup"><span data-stu-id="44c29-1048">To occupy less space with the database and log dumps it is recommended to use backup compression.</span></span> <span data-ttu-id="44c29-1049">Mer information finns i SAP-kommentar [1588316].</span><span class="sxs-lookup"><span data-stu-id="44c29-1049">For more information, see SAP Note [1588316].</span></span> <span data-ttu-id="44c29-1050">Komprimera säkerhetskopian är också viktigt att minska mängden data som ska överföras om du planerar att ladda ned säkerhetskopior eller virtuella hårddiskar som innehåller säkerhetskopiering Dumpar från Azure-dator till lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-1050">Compressing the backup is also crucial to reduce the amount of data to be transferred if you plan to download backups or VHDs containing backup dumps from the Azure Virtual Machine to on-premises.</span></span>

<span data-ttu-id="44c29-1051">Använd inte Azure VM temp utrymme /mnt eller /mnt/resource som mål för databas eller logg dumpen.</span><span class="sxs-lookup"><span data-stu-id="44c29-1051">Do not use the Azure VM temp space /mnt or /mnt/resource as database or log dump destination.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="44c29-1052">Prestandaöverväganden för säkerhetskopiering/återställning</span><span class="sxs-lookup"><span data-stu-id="44c29-1052">Performance Considerations for Backups/Restores</span></span>
<span data-ttu-id="44c29-1053">Säkerhetskopiering/återställning prestanda är beroende av hur många volymer kan läsas parallellt och vilka genomflödet av dessa volymer kan vara som bare metal-distributioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-1053">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="44c29-1054">CPU-förbrukning som används av säkerhetskopieringskomprimering kan dessutom spela en viktig roll på virtuella datorer med bara upp till åtta CPU-trådar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1054">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to eight CPU threads.</span></span> <span data-ttu-id="44c29-1055">Därför kan anta en:</span><span class="sxs-lookup"><span data-stu-id="44c29-1055">Therefore, one can assume:</span></span>

* <span data-ttu-id="44c29-1056">Det färre antalet diskar som används för att lagra databasen-enheter mindre totala genomflödet i läsning</span><span class="sxs-lookup"><span data-stu-id="44c29-1056">The fewer the number of disks used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="44c29-1057">Mindre antal CPU trådar i den virtuella datorn på allvarligare effekten av säkerhetskopieringskomprimering</span><span class="sxs-lookup"><span data-stu-id="44c29-1057">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="44c29-1058">Färre mål (Linux programvarubaserad RAID, diskar) att skriva säkerhetskopian till den lägsta genomflödet</span><span class="sxs-lookup"><span data-stu-id="44c29-1058">The fewer targets (Linux software RAID, disks) to write the backup to, the lesser the throughput</span></span>

<span data-ttu-id="44c29-1059">Att öka antalet mål att skriva till det finns två alternativ som kan vara används kombinerad beroende på dina behov:</span><span class="sxs-lookup"><span data-stu-id="44c29-1059">To increase the number of targets to write to there are two options, which can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="44c29-1060">Striping säkerhetskopiering målvolymen över flera monterade diskar för att kunna förbättra IOPS genomströmning på stripe volymen</span><span class="sxs-lookup"><span data-stu-id="44c29-1060">Striping the backup target volume over multiple mounted disks in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="44c29-1061">Skapa en dump konfiguration på SAP ASE nivå, som använder mer än en målkatalogen för att skriva dumpen till</span><span class="sxs-lookup"><span data-stu-id="44c29-1061">Creating a dump configuration on SAP ASE level, which uses more than one target directory to write the dump to</span></span>

<span data-ttu-id="44c29-1062">Striping av en volym över flera monterade diskar har diskuterats tidigare i den här guiden.</span><span class="sxs-lookup"><span data-stu-id="44c29-1062">Striping a volume over multiple mounted disks has been discussed earlier in this guide.</span></span> <span data-ttu-id="44c29-1063">Mer information om hur du använder flera kataloger i SAP ASE dump konfigurationen finns i dokumentationen för lagrad procedur sp_config_dump som används för att skapa dumpen-konfigurationen på den [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span><span class="sxs-lookup"><span data-stu-id="44c29-1063">For more information on using multiple directories in the SAP ASE dump configuration, refer to the documentation on Stored Procedure sp_config_dump, which is used to create the dump configuration on the [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span></span>

### <a name="disaster-recovery-with-azure-vms"></a><span data-ttu-id="44c29-1064">Katastrofåterställning med virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="44c29-1064">Disaster Recovery with Azure VMs</span></span>
#### <a name="data-replication-with-sap-sybase-replication-server"></a><span data-ttu-id="44c29-1065">Datareplikering med SAP Sybase replikering av Server</span><span class="sxs-lookup"><span data-stu-id="44c29-1065">Data Replication with SAP Sybase Replication Server</span></span>
<span data-ttu-id="44c29-1066">Med SAP-ASE SAP Sybase replikering Server (SRS) tillhandahåller en varmt vänteläge lösning för att överföra databastransaktioner asynkront till en fjärrplats.</span><span class="sxs-lookup"><span data-stu-id="44c29-1066">With the SAP Sybase Replication Server (SRS) SAP ASE provides a warm standby solution to transfer database transactions to a distant location asynchronously.</span></span> 

<span data-ttu-id="44c29-1067">Installationen och driften av SRS fungerar samt funktionellt i en virtuell dator som finns i Azure-tjänster för virtuella datorer som lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-1067">The installation and operation of SRS works as well functionally in a VM hosted in Azure Virtual Machine Services as it does on-premises.</span></span>

<span data-ttu-id="44c29-1068">ASE HADR via SAP replikering Server stöds inte vid denna tidpunkt.</span><span class="sxs-lookup"><span data-stu-id="44c29-1068">ASE HADR via SAP Replication Server is NOT supported at this point in time.</span></span> <span data-ttu-id="44c29-1069">Den kan testas med och släpps i framtiden för Microsoft Azure-plattformar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1069">It might be tested with and released for Microsoft Azure platforms in the future.</span></span>

## <a name="specifics-to-oracle-database-on-windows"></a><span data-ttu-id="44c29-1070">Specifik information skrivs till Oracle-databas i Windows</span><span class="sxs-lookup"><span data-stu-id="44c29-1070">Specifics to Oracle Database on Windows</span></span>
<span data-ttu-id="44c29-1071">Oracle programvaran stöds av Oracle körs på Microsoft Windows Hyper-V och Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-1071">Oracle software is supported by Oracle to run on Microsoft Windows Hyper-V and Azure.</span></span> <span data-ttu-id="44c29-1072">Information om allmänna stöd för Windows Hyper-V och Azure, kontrollera: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span><span class="sxs-lookup"><span data-stu-id="44c29-1072">For details on the general support of Windows Hyper-V and Azure, check: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span></span> 

<span data-ttu-id="44c29-1073">Följande allmänna stöd situation för SAP-program som utnyttjar Oracle-databaser stöds också.</span><span class="sxs-lookup"><span data-stu-id="44c29-1073">Following the general support, the specific scenario of SAP applications leveraging Oracle Databases is supported as well.</span></span> <span data-ttu-id="44c29-1074">Information om namnet i den här delen av dokumentet.</span><span class="sxs-lookup"><span data-stu-id="44c29-1074">Details are named in this part of the document.</span></span>

### <a name="oracle-version-support"></a><span data-ttu-id="44c29-1075">Stöd för Oracle-Version</span><span class="sxs-lookup"><span data-stu-id="44c29-1075">Oracle Version Support</span></span>
<span data-ttu-id="44c29-1076">Oracle och motsvarande OS-versioner som stöds för körs SAP på Oracle på Azure Virtual Machines kan hittas i SAP-kommentar [2039619].</span><span class="sxs-lookup"><span data-stu-id="44c29-1076">Oracle versions and corresponding OS versions, which are supported for running SAP on Oracle on Azure Virtual Machines can be found in SAP Note [2039619].</span></span>

<span data-ttu-id="44c29-1077">Allmän information om hur du kör SAP Business Suite på Oracle kan hittas i 1DX: <https://www.sap.com/community/topic/oracle.html></span><span class="sxs-lookup"><span data-stu-id="44c29-1077">General information about running SAP Business Suite on Oracle can be found in 1DX: <https://www.sap.com/community/topic/oracle.html></span></span>

### <a name="oracle-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="44c29-1078">Riktlinjer för Oracle-konfiguration för SAP installationer i virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="44c29-1078">Oracle Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="44c29-1079">Storage-konfiguration</span><span class="sxs-lookup"><span data-stu-id="44c29-1079">Storage configuration</span></span>
<span data-ttu-id="44c29-1080">Bara instans Oracle med NTFS-formaterade diskar stöds.</span><span class="sxs-lookup"><span data-stu-id="44c29-1080">Only single instance Oracle using NTFS formatted disks is supported.</span></span> <span data-ttu-id="44c29-1081">Alla databasfiler måste lagras i NTFS-filsystemet som är baserat på virtuella hårddiskar eller hanterade diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1081">All database files must be stored on the NTFS file system based on VHDs or Managed Disks.</span></span> <span data-ttu-id="44c29-1082">Diskarna monteras på Azure-dator och baseras på Azure sidan BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) eller hanterade diskar (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span><span class="sxs-lookup"><span data-stu-id="44c29-1082">These disks are mounted to the Azure VM and are based on Azure Page BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) or Managed Disks (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span></span> <span data-ttu-id="44c29-1083">Alla typer av nätverksenheter eller fjärresurser som Azure Filtjänster:</span><span class="sxs-lookup"><span data-stu-id="44c29-1083">Any kind of network drives or remote shares like Azure file services:</span></span>

* <span data-ttu-id="44c29-1084"><https://blogs.msdn.com/b/windowsazurestorage/Archive/2014/05/12/Introducing-Microsoft-Azure-File-Service.aspx></span><span class="sxs-lookup"><span data-stu-id="44c29-1084"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span> 
* <span data-ttu-id="44c29-1085"><https://blogs.msdn.com/b/windowsazurestorage/Archive/2014/05/27/Persisting-Connections-to-Microsoft-Azure-Files.aspx></span><span class="sxs-lookup"><span data-stu-id="44c29-1085"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="44c29-1086">är **inte** stöd för Oracle-databasfiler!</span><span class="sxs-lookup"><span data-stu-id="44c29-1086">are **NOT** supported for Oracle database files!</span></span>

<span data-ttu-id="44c29-1087">Med hjälp av diskar baserat på Azure sidan BLOB Storage eller hanterade diskar uppgifterna i det här dokumentet i kapitlet [cachelagring för virtuella datorer och datadiskar] [ dbms-guide-2.1] och [Microsoft Azure Storage] [ dbms-guide-2.3] gäller för distributioner med Oracle-databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-1087">Using disks based on Azure Page BLOB Storage or Managed Disks, the statements made in this document in chapter [Caching for VMs and data disks][dbms-guide-2.1] and [Microsoft Azure Storage][dbms-guide-2.3] apply to deployments with the Oracle Database as well.</span></span>

<span data-ttu-id="44c29-1088">Enligt beskrivningen tidigare i den allmänna delen av dokumentet finns kvoter på IOPS genomströmning för Azure-diskarna.</span><span class="sxs-lookup"><span data-stu-id="44c29-1088">As explained earlier in the general part of the document, quotas on IOPS throughput for Azure disks exist.</span></span> <span data-ttu-id="44c29-1089">De exakta kvoterna används beroende på vilken typ av VM.</span><span class="sxs-lookup"><span data-stu-id="44c29-1089">The exact quotas are depending on the VM type used.</span></span> <span data-ttu-id="44c29-1090">En lista över Virtuella typer med sina kvoter hittar [här (Linux)] [ virtual-machines-sizes-linux] och [här (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="44c29-1090">A list of VM types with their quotas can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="44c29-1091">Om du vill identifiera de Virtuella Azure-typerna som stöds, referera till SAP-kommentar [1928533].</span><span class="sxs-lookup"><span data-stu-id="44c29-1091">To identify the supported Azure VM types, refer to SAP note [1928533].</span></span>

<span data-ttu-id="44c29-1092">Så länge kvoten IOPS per disk uppfyller kraven, är det möjligt att lagra alla DB-filer på en enda monterade disken.</span><span class="sxs-lookup"><span data-stu-id="44c29-1092">As long as the current IOPS quota per disk satisfies the requirements, it is possible to store all the DB files on one single mounted disk.</span></span> 

<span data-ttu-id="44c29-1093">Om fler IOPS krävs, rekommenderas att använda fönstret lagringspooler (endast tillgängligt i Windows Server 2012 och senare) eller Windows striping för Windows 2008 R2 att skapa en logisk enhet för stora över flera monterade diskar (Se även kapitel [programvara RAID] [ dbms-guide-2.2] i det här dokumentet).</span><span class="sxs-lookup"><span data-stu-id="44c29-1093">If more IOPS are required, it is strongly recommended to use Window Storage Pools (only available in Windows Server 2012 and higher) or Windows striping for Windows 2008 R2 to create one large logical device over multiple mounted disks (see also chapter [Software RAID][dbms-guide-2.2] of this document).</span></span> <span data-ttu-id="44c29-1094">Den här metoden förenklar omkostnader för administration för att hantera diskutrymmet och undviker arbete för att manuellt distribuera filer över flera monterade diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1094">This approach simplifies the administration overhead to manage the disk space and avoids the effort to manually distribute files across multiple mounted disks.</span></span>

#### <a name="backup--restore"></a><span data-ttu-id="44c29-1095">Säkerhetskopiering/återställning</span><span class="sxs-lookup"><span data-stu-id="44c29-1095">Backup / Restore</span></span>
<span data-ttu-id="44c29-1096">För säkerhetskopiering / återställa funktioner, SAP BR * verktyg för Oracle stöds på samma sätt som på standard operativsystemen Windows Server och Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="44c29-1096">For backup / restore functionality, the SAP BR*Tools for Oracle are supported in the same way as on standard Windows Server Operating Systems and Hyper-V.</span></span> <span data-ttu-id="44c29-1097">Oracle Recovery Manager (RMAN) har också stöd för säkerhetskopiering till disk- och återställa från disken.</span><span class="sxs-lookup"><span data-stu-id="44c29-1097">Oracle Recovery Manager (RMAN) is also supported for backups to disk and restore from disk.</span></span>

#### <a name="high-availability"></a><span data-ttu-id="44c29-1098">Hög tillgänglighet</span><span class="sxs-lookup"><span data-stu-id="44c29-1098">High Availability</span></span>
<span data-ttu-id="44c29-1099">Oracle Data Guard stöds för hög tillgänglighet och katastrofåterställning återställning.</span><span class="sxs-lookup"><span data-stu-id="44c29-1099">Oracle Data Guard is supported for high availability and disaster recovery purposes.</span></span> <span data-ttu-id="44c29-1100">Information finns i [detta] [ virtual-machines-windows-classic-configure-oracle-data-guard] dokumentation.</span><span class="sxs-lookup"><span data-stu-id="44c29-1100">Details can be found in [this][virtual-machines-windows-classic-configure-oracle-data-guard] documentation.</span></span>

#### <a name="other"></a><span data-ttu-id="44c29-1101">Annat</span><span class="sxs-lookup"><span data-stu-id="44c29-1101">Other</span></span>
<span data-ttu-id="44c29-1102">Andra allmänna avsnitt som Azure-Tillgänglighetsuppsättningar eller SAP övervakning tillämpas enligt beskrivningen i de tre första kapitlen i det här dokumentet för distributioner av virtuella datorer med Oracle-databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-1102">All other general topics like Azure Availability Sets or SAP monitoring apply as described in the first three chapters of this document for deployments of VMs with the Oracle Database as well.</span></span>

## <a name="specifics-to-oracle-database-on-oracle-linux"></a><span data-ttu-id="44c29-1103">Specifik information skrivs till Oracle-databas på Oracle Linux</span><span class="sxs-lookup"><span data-stu-id="44c29-1103">Specifics to Oracle Database on Oracle Linux</span></span>
<span data-ttu-id="44c29-1104">Oracle programvaran stöds av Oracle körs på Microsoft Windows Hyper-V och Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-1104">Oracle software is supported by Oracle to run on Microsoft Windows Hyper-V and Azure.</span></span> <span data-ttu-id="44c29-1105">Information om allmänna stöd för Windows Hyper-V och Azure, kontrollera: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span><span class="sxs-lookup"><span data-stu-id="44c29-1105">For details on the general support of Windows Hyper-V and Azure, check: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span></span> 

<span data-ttu-id="44c29-1106">Följande allmänna stöd situation för SAP-program som utnyttjar Oracle-databaser stöds också.</span><span class="sxs-lookup"><span data-stu-id="44c29-1106">Following the general support, the specific scenario of SAP applications leveraging Oracle Databases is supported as well.</span></span> <span data-ttu-id="44c29-1107">Information om namnet i den här delen av dokumentet.</span><span class="sxs-lookup"><span data-stu-id="44c29-1107">Details are named in this part of the document.</span></span>

### <a name="oracle-version-support"></a><span data-ttu-id="44c29-1108">Stöd för Oracle-Version</span><span class="sxs-lookup"><span data-stu-id="44c29-1108">Oracle Version Support</span></span>
<span data-ttu-id="44c29-1109">Oracle och motsvarande OS-versioner som stöds för körs SAP på Oracle på Azure Virtual Machines kan hittas i SAP-kommentar [2039619].</span><span class="sxs-lookup"><span data-stu-id="44c29-1109">Oracle versions and corresponding OS versions, which are supported for running SAP on Oracle on Azure Virtual Machines can be found in SAP Note [2039619].</span></span>

<span data-ttu-id="44c29-1110">Allmän information om hur du kör SAP Business Suite på Oracle kan hittas i 1DX: <https://www.sap.com/community/topic/oracle.html></span><span class="sxs-lookup"><span data-stu-id="44c29-1110">General information about running SAP Business Suite on Oracle can be found in 1DX: <https://www.sap.com/community/topic/oracle.html></span></span>

### <a name="oracle-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="44c29-1111">Riktlinjer för Oracle-konfiguration för SAP installationer i virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="44c29-1111">Oracle Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="44c29-1112">Storage-konfiguration</span><span class="sxs-lookup"><span data-stu-id="44c29-1112">Storage configuration</span></span>
<span data-ttu-id="44c29-1113">Endast stöds instans Oracle med ext3, ext4 och xfs formaterade diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1113">Only single instance Oracle using ext3, ext4, and xfs formatted disks is supported.</span></span> <span data-ttu-id="44c29-1114">Alla databasfiler måste lagras i dessa filsystem som baseras på virtuella hårddiskar eller hanterade diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1114">All database files must be stored on these file systems based on VHDs or Managed Disks.</span></span> <span data-ttu-id="44c29-1115">Diskarna monteras på Azure-dator och baseras på Azure sidan BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) eller hanterade diskar (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span><span class="sxs-lookup"><span data-stu-id="44c29-1115">These disks are mounted to the Azure VM and are based on Azure Page BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) or Managed Disks (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span></span> <span data-ttu-id="44c29-1116">Alla typer av nätverksenheter eller fjärresurser som Azure Filtjänster:</span><span class="sxs-lookup"><span data-stu-id="44c29-1116">Any kind of network drives or remote shares like Azure file services:</span></span>

* <span data-ttu-id="44c29-1117"><https://blogs.msdn.com/b/windowsazurestorage/Archive/2014/05/12/Introducing-Microsoft-Azure-File-Service.aspx></span><span class="sxs-lookup"><span data-stu-id="44c29-1117"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span> 
* <span data-ttu-id="44c29-1118"><https://blogs.msdn.com/b/windowsazurestorage/Archive/2014/05/27/Persisting-Connections-to-Microsoft-Azure-Files.aspx></span><span class="sxs-lookup"><span data-stu-id="44c29-1118"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="44c29-1119">är **inte** stöd för Oracle-databasfiler!</span><span class="sxs-lookup"><span data-stu-id="44c29-1119">are **NOT** supported for Oracle database files!</span></span>

<span data-ttu-id="44c29-1120">Med hjälp av diskar baserat på Azure sidan BLOB Storage eller hanterade diskar uppgifterna i det här dokumentet i kapitlet [cachelagring för virtuella datorer och datadiskar] [ dbms-guide-2.1] och [Microsoft Azure Storage] [ dbms-guide-2.3] gäller för distributioner med Oracle-databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-1120">Using disks based on Azure Page BLOB Storage or Managed Disks, the statements made in this document in chapter [Caching for VMs and data disks][dbms-guide-2.1] and [Microsoft Azure Storage][dbms-guide-2.3] apply to deployments with the Oracle Database as well.</span></span>

<span data-ttu-id="44c29-1121">Enligt beskrivningen tidigare i den allmänna delen av dokumentet finns kvoter på IOPS genomströmning för Azure-diskarna.</span><span class="sxs-lookup"><span data-stu-id="44c29-1121">As explained earlier in the general part of the document, quotas on IOPS throughput for Azure disks exist.</span></span> <span data-ttu-id="44c29-1122">De exakta kvoterna används beroende på vilken typ av VM.</span><span class="sxs-lookup"><span data-stu-id="44c29-1122">The exact quotas are depending on the VM type used.</span></span> <span data-ttu-id="44c29-1123">En lista över Virtuella typer med sina kvoter hittar [här (Linux)] [ virtual-machines-sizes-linux] och [här (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="44c29-1123">A list of VM types with their quotas can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="44c29-1124">Om du vill identifiera de Virtuella Azure-typerna som stöds, referera till SAP-kommentar [1928533]</span><span class="sxs-lookup"><span data-stu-id="44c29-1124">To identify the supported Azure VM types, refer to SAP note [1928533]</span></span>

<span data-ttu-id="44c29-1125">Så länge kvoten IOPS per disk uppfyller kraven, är det möjligt att lagra alla DB-filer på en enda monterade disken.</span><span class="sxs-lookup"><span data-stu-id="44c29-1125">As long as the current IOPS quota per disk satisfies the requirements, it is possible to store all the DB files on one single mounted disk.</span></span> 

<span data-ttu-id="44c29-1126">Om fler IOPS krävs, rekommenderas att använda LVM (logisk volymhanterare) eller MDADM för att skapa en stor logisk volym över flera monterade diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1126">If more IOPS are required, it is strongly recommended to use LVM (Logical Volume Manager) or MDADM to create one large logical volume over multiple mounted disks.</span></span> <span data-ttu-id="44c29-1127">Se även kapitel [programvara RAID] [ dbms-guide-2.2] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="44c29-1127">See also chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> <span data-ttu-id="44c29-1128">Den här metoden förenklar omkostnader för administration för att hantera diskutrymmet och undviker arbete för att manuellt distribuera filer över flera monterade diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1128">This approach simplifies the administration overhead to manage the disk space and avoids the effort to manually distribute files across multiple mounted disks.</span></span>

#### <a name="backup--restore"></a><span data-ttu-id="44c29-1129">Säkerhetskopiering/återställning</span><span class="sxs-lookup"><span data-stu-id="44c29-1129">Backup / Restore</span></span>
<span data-ttu-id="44c29-1130">För säkerhetskopiering / återställa funktioner, SAP BR * verktyg för Oracle stöds på samma sätt som på utan operativsystem och Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="44c29-1130">For backup / restore functionality, the SAP BR*Tools for Oracle are supported in the same way as on bare metal and Hyper-V.</span></span> <span data-ttu-id="44c29-1131">Oracle Recovery Manager (RMAN) har också stöd för säkerhetskopiering till disk- och återställa från disken.</span><span class="sxs-lookup"><span data-stu-id="44c29-1131">Oracle Recovery Manager (RMAN) is also supported for backups to disk and restore from disk.</span></span>

#### <a name="high-availability"></a><span data-ttu-id="44c29-1132">Hög tillgänglighet</span><span class="sxs-lookup"><span data-stu-id="44c29-1132">High Availability</span></span>
<span data-ttu-id="44c29-1133">Oracle Data Guard stöds för hög tillgänglighet och katastrofåterställning återställning.</span><span class="sxs-lookup"><span data-stu-id="44c29-1133">Oracle Data Guard is supported for high availability and disaster recovery purposes.</span></span> <span data-ttu-id="44c29-1134">Information finns i [detta] [ virtual-machines-windows-classic-configure-oracle-data-guard] dokumentation.</span><span class="sxs-lookup"><span data-stu-id="44c29-1134">Details can be found in [this][virtual-machines-windows-classic-configure-oracle-data-guard] documentation.</span></span>

#### <a name="other"></a><span data-ttu-id="44c29-1135">Annat</span><span class="sxs-lookup"><span data-stu-id="44c29-1135">Other</span></span>
<span data-ttu-id="44c29-1136">Andra allmänna avsnitt som Azure-Tillgänglighetsuppsättningar eller SAP övervakning tillämpas enligt beskrivningen i de tre första kapitlen i det här dokumentet för distributioner av virtuella datorer med Oracle-databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-1136">All other general topics like Azure Availability Sets or SAP monitoring apply as described in the first three chapters of this document for deployments of VMs with the Oracle Database as well.</span></span>

## <a name="specifics-for-the-sap-maxdb-database-on-windows"></a><span data-ttu-id="44c29-1137">Programvarukrav för SAP MaxDB databas i Windows</span><span class="sxs-lookup"><span data-stu-id="44c29-1137">Specifics for the SAP MaxDB Database on Windows</span></span>
### <a name="sap-maxdb-version-support"></a><span data-ttu-id="44c29-1138">Stöd för SAP-MaxDB Version</span><span class="sxs-lookup"><span data-stu-id="44c29-1138">SAP MaxDB Version Support</span></span>
<span data-ttu-id="44c29-1139">SAP för närvarande stöder SAP MaxDB version 7,9 för användning med SAP NetWeaver-baserade produkter i Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-1139">SAP currently supports SAP MaxDB version 7.9 for use with SAP NetWeaver-based products in Azure.</span></span> <span data-ttu-id="44c29-1140">Alla uppdateringar för SAP MaxDB server eller JDBC och ODBC-drivrutiner som ska användas med SAP NetWeaver-baserade produkter tillhandahålls enbart på marknadsplatsen SAP-tjänsten på <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="44c29-1140">All updates for SAP MaxDB server, or JDBC and ODBC drivers to be used with SAP NetWeaver-based products are provided solely through the SAP Service Marketplace at <https://support.sap.com/swdc>.</span></span>
<span data-ttu-id="44c29-1141">Allmän information om hur du kör SAP NetWeaver på SAP MaxDB finns på <https://www.sap.com/community/topic/maxdb.html>.</span><span class="sxs-lookup"><span data-stu-id="44c29-1141">General information on running SAP NetWeaver on SAP MaxDB can be found at <https://www.sap.com/community/topic/maxdb.html>.</span></span>

### <a name="supported-microsoft-windows-versions-and-azure-vm-types-for-sap-maxdb-dbms"></a><span data-ttu-id="44c29-1142">Microsoft Windows-versioner och Virtuella Azure-typer som stöds för SAP MaxDB DBMS</span><span class="sxs-lookup"><span data-stu-id="44c29-1142">Supported Microsoft Windows Versions and Azure VM types for SAP MaxDB DBMS</span></span>
<span data-ttu-id="44c29-1143">För att hitta den Microsoft Windows-versionen som stöds för SAP MaxDB DBMS på Azure, se:</span><span class="sxs-lookup"><span data-stu-id="44c29-1143">To find the supported Microsoft Windows version for SAP MaxDB DBMS on Azure, see:</span></span>

* <span data-ttu-id="44c29-1144">[SAP produkten tillgänglighet matris (PAM)][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="44c29-1144">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="44c29-1145">SAP-kommentar [1928533]</span><span class="sxs-lookup"><span data-stu-id="44c29-1145">SAP Note [1928533]</span></span>

<span data-ttu-id="44c29-1146">Vi rekommenderar starkt att använda den senaste versionen av operativsystemet Microsoft Windows, vilket är Microsoft Windows 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="44c29-1146">It is highly recommended to use the newest version of the operating system Microsoft Windows, which is Microsoft Windows 2012 R2.</span></span>

### <a name="available-sap-maxdb-documentation"></a><span data-ttu-id="44c29-1147">Tillgängliga SAP MaxDB dokumentation</span><span class="sxs-lookup"><span data-stu-id="44c29-1147">Available SAP MaxDB Documentation</span></span>
<span data-ttu-id="44c29-1148">Du hittar den uppdaterade listan med SAP MaxDB dokumentationen i följande SAP-kommentar [767598]</span><span class="sxs-lookup"><span data-stu-id="44c29-1148">You can find the updated list of SAP MaxDB documentation in the following SAP Note [767598]</span></span>

### <a name="sap-maxdb-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="44c29-1149">Riktlinjer för SAP MaxDB konfiguration för SAP installationer i virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="44c29-1149">SAP MaxDB Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <span data-ttu-id="44c29-1150"><a name="b48cfe3b-48e9-4f5b-a783-1d29155bd573"></a>Lagringskonfigurationen</span><span class="sxs-lookup"><span data-stu-id="44c29-1150"><a name="b48cfe3b-48e9-4f5b-a783-1d29155bd573"></a>Storage configuration</span></span>
<span data-ttu-id="44c29-1151">Metodtips för Azure-lagring för SAP MaxDB följer allmänna rekommendationer som anges i kapitel [struktur för en distribution av RDBMS][dbms-guide-2].</span><span class="sxs-lookup"><span data-stu-id="44c29-1151">Azure storage best practices for SAP MaxDB follow the general recommendations mentioned in chapter [Structure of an RDBMS Deployment][dbms-guide-2].</span></span>

> [!IMPORTANT]
> <span data-ttu-id="44c29-1152">Precis som andra databaser har SAP MaxDB också data och loggfiler.</span><span class="sxs-lookup"><span data-stu-id="44c29-1152">Like other databases, SAP MaxDB also has data and log files.</span></span> <span data-ttu-id="44c29-1153">SAP MaxDB terminologi är dock rätt termen ”volym” (inte ”fil”).</span><span class="sxs-lookup"><span data-stu-id="44c29-1153">However, in SAP MaxDB terminology the correct term is “volume” (not “file”).</span></span> <span data-ttu-id="44c29-1154">Det finns till exempel SAP MaxDB datavolymer och loggvolymer.</span><span class="sxs-lookup"><span data-stu-id="44c29-1154">For example, there are SAP MaxDB data volumes and log volumes.</span></span> <span data-ttu-id="44c29-1155">Blanda inte ihop dem med OS-volymer.</span><span class="sxs-lookup"><span data-stu-id="44c29-1155">Do not confuse these with OS disk volumes.</span></span> 
> 
> 

<span data-ttu-id="44c29-1156">Kort sagt behöver du:</span><span class="sxs-lookup"><span data-stu-id="44c29-1156">In short you have to:</span></span>

* <span data-ttu-id="44c29-1157">Om du använder Azure Storage-konton, anger du Azure storage-konto som innehåller SAP MaxDB data och loggfilen volymer (d.v.s. filer) till **lokalt Redundant lagring (LRS)** som anges i kapitel [Microsoft Azure Storage][dbms-guide-2.3].</span><span class="sxs-lookup"><span data-stu-id="44c29-1157">If you use Azure Storage accounts, set the Azure storage account that holds the SAP MaxDB data and log volumes (i.e. files) to **Local Redundant Storage (LRS)** as specified in chapter [Microsoft Azure Storage][dbms-guide-2.3].</span></span>
* <span data-ttu-id="44c29-1158">Separata i/o-sökväg för SAP MaxDB datavolymer (d.v.s. filer) från i/o-sökväg för loggvolymer (d.v.s. filer).</span><span class="sxs-lookup"><span data-stu-id="44c29-1158">Separate the IO path for SAP MaxDB data volumes (i.e. files) from the IO path for log volumes (i.e. files).</span></span> <span data-ttu-id="44c29-1159">Detta innebär att SAP MaxDB datavolymer (d.v.s. filer) måste installeras på en logisk enhet och SAP MaxDB loggvolymer (d.v.s. filer) måste installeras på en annan logisk enhet.</span><span class="sxs-lookup"><span data-stu-id="44c29-1159">This means that SAP MaxDB data volumes (i.e. files) have to be installed on one logical drive and SAP MaxDB log volumes (i.e. files) have to be installed on another logical drive.</span></span>
* <span data-ttu-id="44c29-1160">Ange rätt cachelagring typ för varje disk, beroende på om du använder för SAP MaxDB data- eller loggfilen volymer (d.v.s. filer) och om du använder Azure-Standard eller Azure Premium-lagring, enligt beskrivningen i kapitel [cachelagring för virtuella datorer och datadiskar][dbms-guide-2.1].</span><span class="sxs-lookup"><span data-stu-id="44c29-1160">Set the proper caching type for each disk, depending on whether you use it for SAP MaxDB data or log volumes (i.e. files), and whether you use Azure Standard or Azure Premium Storage, as described in chapter [Caching for VMs and data disks][dbms-guide-2.1].</span></span>
* <span data-ttu-id="44c29-1161">Så länge kvoten IOPS per disk uppfyller kraven, är det möjligt att lagra alla datavolymer som på en monterad disk och även lagra alla loggvolymer för databasen på en annan enkel monterade disken.</span><span class="sxs-lookup"><span data-stu-id="44c29-1161">As long as the current IOPS quota per disk satisfies the requirements, it is possible to store all the data volumes on a single mounted disk, and also store all database log volumes on another single mounted disk.</span></span>
* <span data-ttu-id="44c29-1162">Om det krävs mer IOPS och/eller blanksteg, rekommenderas att använda Microsoft fönstret lagringspooler (endast tillgängligt i Microsoft Windows Server 2012 och senare) eller Microsoft Windows striping för Microsoft Windows 2008 R2 för att skapa en logisk enhet för stora över flera monterade diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1162">If more IOPS and/or space are required, it is strongly recommended to use Microsoft Window Storage Pools (only available in Microsoft Windows Server 2012 and higher) or Microsoft Windows striping for Microsoft Windows 2008 R2 to create one large logical device over multiple mounted disks.</span></span> <span data-ttu-id="44c29-1163">Se även kapitel [programvara RAID] [ dbms-guide-2.2] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="44c29-1163">See also chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> <span data-ttu-id="44c29-1164">Den här metoden förenklar omkostnader för administration för att hantera diskutrymmet och undviker att behöva distribuera manuellt filer över flera monterade diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1164">This approach simplifies the administration overhead to manage the disk space and avoids the effort of manually distributing files across multiple mounted disks.</span></span>
* <span data-ttu-id="44c29-1165">För de högsta IOPS-kraven, kan du använda Azure Premium-lagring som är tillgänglig på DS-serien och GS-serien virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="44c29-1165">For the highest IOPS requirements, you can use Azure Premium Storage, which is available on DS-series and GS-series VMs.</span></span>

![För referenskonfiguration av Azure IaaS-VM för SAP MaxDB DBMS][dbms-guide-figure-600]

#### <span data-ttu-id="44c29-1167"><a name="23c78d3b-ca5a-4e72-8a24-645d141a3f5d"></a>Säkerhetskopiering och återställning</span><span class="sxs-lookup"><span data-stu-id="44c29-1167"><a name="23c78d3b-ca5a-4e72-8a24-645d141a3f5d"></a>Backup and Restore</span></span>
<span data-ttu-id="44c29-1168">När du distribuerar SAP MaxDB till Azure måste du granska din backup metoder.</span><span class="sxs-lookup"><span data-stu-id="44c29-1168">When deploying SAP MaxDB into Azure, you must review your backup methodology.</span></span> <span data-ttu-id="44c29-1169">Även om systemet inte är en produktiv system måste SAP-databasen hos SAP MaxDB säkerhetskopieras regelbundet.</span><span class="sxs-lookup"><span data-stu-id="44c29-1169">Even if the system is not a productive system, the SAP database hosted by SAP MaxDB must be backed up periodically.</span></span> <span data-ttu-id="44c29-1170">Eftersom Azure Storage håller tre bilder, är nu en säkerhetskopia mindre viktiga för att skydda datorn mot lagring problem och viktigare operativa och administrativa fel.</span><span class="sxs-lookup"><span data-stu-id="44c29-1170">Since Azure Storage keeps three images, a backup is now less important in terms of protecting your system against storage failure and more important operational or administrative failures.</span></span> <span data-ttu-id="44c29-1171">Det främsta skälet för att bibehålla en korrekt säkerhetskopiering och återställning plan är så att du kan kompensera för logiska eller manuell fel genom att tillhandahålla tidpunkt i återställningsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-1171">The primary reason for maintaining a proper backup and restore plan is so that you can compensate for logical or manual errors by providing point-in-time recovery capabilities.</span></span> <span data-ttu-id="44c29-1172">Målet är så att antingen använda säkerhetskopieringar att återställa databasen till en viss tidpunkt eller att använda säkerhetskopieringar i Azure som startvärde för ett annat system genom att kopiera den befintliga databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-1172">So the goal is to either use backups to restore the database to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="44c29-1173">Till exempel kunde du överföra från en SAP nivå 2-konfiguration till en 3-skikts systeminställningarna för samma system genom att återställa en säkerhetskopia.</span><span class="sxs-lookup"><span data-stu-id="44c29-1173">For example, you could transfer from a 2-tier SAP configuration to a 3-tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="44c29-1174">Säkerhetskopiera och återställa en databas i Azure fungerar på samma sätt som för lokala datorer, så du kan använda standard SAP MaxDB säkerhetskopiering/återställning verktygen som beskrivs i ett av de SAP MaxDB dokumentationen dokument som anges i SAP-kommentar [767598].</span><span class="sxs-lookup"><span data-stu-id="44c29-1174">Backing up and restoring a database in Azure works the same way as it does for on-premises systems, so you can use standard SAP MaxDB backup/restore tools, which are described in one of the SAP MaxDB documentation documents listed in SAP Note [767598].</span></span> 

#### <span data-ttu-id="44c29-1175"><a name="77cd2fbb-307e-4cbf-a65f-745553f72d2c"></a>Prestandaöverväganden för säkerhetskopiering och återställning</span><span class="sxs-lookup"><span data-stu-id="44c29-1175"><a name="77cd2fbb-307e-4cbf-a65f-745553f72d2c"></a>Performance Considerations for Backup and Restore</span></span>
<span data-ttu-id="44c29-1176">Prestanda för säkerhetskopiering och återställning är beroende av hur många volymer kan läsas parallellt och genomströmning av volymerna som bare metal-distributioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-1176">As in bare-metal deployments, backup and restore performance is dependent on how many volumes can be read in parallel and the throughput of those volumes.</span></span> <span data-ttu-id="44c29-1177">CPU-förbrukning som används av säkerhetskopieringskomprimering kan dessutom spela en viktig roll på virtuella datorer med upp till åtta CPU-trådar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1177">In addition, the CPU consumption used by backup compression can play a significant role on VMs with up to eight CPU threads.</span></span> <span data-ttu-id="44c29-1178">Därför kan anta en:</span><span class="sxs-lookup"><span data-stu-id="44c29-1178">Therefore, one can assume:</span></span>

* <span data-ttu-id="44c29-1179">Det färre antalet diskar som används för att lagra databasen enheter, nedre övergripande läsgenomströmning</span><span class="sxs-lookup"><span data-stu-id="44c29-1179">The fewer the number of disks used to store the database devices, the lower the overall read throughput</span></span>
* <span data-ttu-id="44c29-1180">Mindre antal CPU trådar i den virtuella datorn på allvarligare effekten av säkerhetskopieringskomprimering</span><span class="sxs-lookup"><span data-stu-id="44c29-1180">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="44c29-1181">Färre mål (Stripe-kataloger, diskar) att skriva säkerhetskopian till nedre genomflödet</span><span class="sxs-lookup"><span data-stu-id="44c29-1181">The fewer targets (Stripe Directories, disks) to write the backup to, the lower the throughput</span></span>

<span data-ttu-id="44c29-1182">Om du vill öka antalet mål att skriva till finns det två alternativ som du kan använda, eventuellt i kombination, beroende på dina behov:</span><span class="sxs-lookup"><span data-stu-id="44c29-1182">To increase the number of targets to write to, there are two options that you can use, possibly in combination, depending on your needs:</span></span>

* <span data-ttu-id="44c29-1183">Trafikklass separata volymer för säkerhetskopiering</span><span class="sxs-lookup"><span data-stu-id="44c29-1183">Dedicating separate volumes for backup</span></span>
* <span data-ttu-id="44c29-1184">Striping säkerhetskopiering målvolymen över flera monterade diskar för att kunna förbättra IOPS genomströmning på volymen stripe-diskar</span><span class="sxs-lookup"><span data-stu-id="44c29-1184">Striping the backup target volume over multiple mounted disks in order to improve the IOPS throughput on that striped disk volume</span></span>
* <span data-ttu-id="44c29-1185">Med separata dedikerade logiska diskenheter för:</span><span class="sxs-lookup"><span data-stu-id="44c29-1185">Having separate dedicated logical disk devices for:</span></span>
  * <span data-ttu-id="44c29-1186">SAP MaxDB Säkerhetskopiera volymer (d.v.s. filer)</span><span class="sxs-lookup"><span data-stu-id="44c29-1186">SAP MaxDB backup volumes (i.e. files)</span></span>
  * <span data-ttu-id="44c29-1187">SAP MaxDB datavolymer (d.v.s. filer)</span><span class="sxs-lookup"><span data-stu-id="44c29-1187">SAP MaxDB data volumes (i.e. files)</span></span>
  * <span data-ttu-id="44c29-1188">SAP MaxDB loggvolymer (d.v.s. filer)</span><span class="sxs-lookup"><span data-stu-id="44c29-1188">SAP MaxDB log volumes (i.e. files)</span></span>

<span data-ttu-id="44c29-1189">Striping av en volym över flera monterade diskar har diskuterats tidigare i kapitlet [programvara RAID] [ dbms-guide-2.2] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="44c29-1189">Striping a volume over multiple mounted disks has been discussed earlier in chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> 

#### <span data-ttu-id="44c29-1190"><a name="f77c1436-9ad8-44fb-a331-8671342de818"></a>Andra</span><span class="sxs-lookup"><span data-stu-id="44c29-1190"><a name="f77c1436-9ad8-44fb-a331-8671342de818"></a>Other</span></span>
<span data-ttu-id="44c29-1191">Andra allmänna avsnitt som Azure-Tillgänglighetsuppsättningar eller SAP övervakning gäller även enligt beskrivningen i de tre första kapitlen i det här dokumentet för distributioner av virtuella datorer med MaxDB SAP-databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-1191">All other general topics such as Azure Availability Sets or SAP monitoring also apply as described in the first three chapters of this document for deployments of VMs with the SAP MaxDB database.</span></span>
<span data-ttu-id="44c29-1192">Andra SAP MaxDB-specifika inställningar är transparent för virtuella datorer i Azure och beskrivs i olika dokument som anges i SAP-kommentar [767598] och i anteckningarna SAP:</span><span class="sxs-lookup"><span data-stu-id="44c29-1192">Other SAP MaxDB-specific settings are transparent to Azure VMs and are described in different documents listed in SAP Note [767598] and in these SAP notes:</span></span>

* <span data-ttu-id="44c29-1193">[826037]</span><span class="sxs-lookup"><span data-stu-id="44c29-1193">[826037]</span></span> 
* <span data-ttu-id="44c29-1194">[1139904]</span><span class="sxs-lookup"><span data-stu-id="44c29-1194">[1139904]</span></span>
* <span data-ttu-id="44c29-1195">[1173395]</span><span class="sxs-lookup"><span data-stu-id="44c29-1195">[1173395]</span></span>

## <a name="specifics-for-sap-livecache-on-windows"></a><span data-ttu-id="44c29-1196">Programvarukrav för SAP liveCache i Windows</span><span class="sxs-lookup"><span data-stu-id="44c29-1196">Specifics for SAP liveCache on Windows</span></span>
### <a name="sap-livecache-version-support"></a><span data-ttu-id="44c29-1197">SAP liveCache stöd för Version</span><span class="sxs-lookup"><span data-stu-id="44c29-1197">SAP liveCache Version Support</span></span>
<span data-ttu-id="44c29-1198">Minimal version av SAP liveCache stöds i Azure Virtual Machines är **SAP LC/LCAPPS 10.0 SP 25** inklusive **liveCache 7.9.08.31** och **LCA Build 25**, släppt för **EhP 2 för SAP SCM 7.0** och högre.</span><span class="sxs-lookup"><span data-stu-id="44c29-1198">Minimal version of SAP liveCache supported in Azure Virtual Machines is **SAP LC/LCAPPS 10.0 SP 25** including **liveCache 7.9.08.31** and **LCA-Build 25**, released for **EhP 2 for SAP SCM 7.0** and higher.</span></span>

### <a name="supported-microsoft-windows-versions-and-azure-vm-types-for-sap-livecache-dbms"></a><span data-ttu-id="44c29-1199">Microsoft Windows-versioner och Virtuella Azure-typer som stöds för SAP liveCache DBMS</span><span class="sxs-lookup"><span data-stu-id="44c29-1199">Supported Microsoft Windows Versions and Azure VM types for SAP liveCache DBMS</span></span>
<span data-ttu-id="44c29-1200">För att hitta den Microsoft Windows-versionen som stöds för SAP liveCache på Azure, se:</span><span class="sxs-lookup"><span data-stu-id="44c29-1200">To find the supported Microsoft Windows version for SAP liveCache on Azure, see:</span></span>

* <span data-ttu-id="44c29-1201">[SAP produkten tillgänglighet matris (PAM)][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="44c29-1201">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="44c29-1202">SAP-kommentar [1928533]</span><span class="sxs-lookup"><span data-stu-id="44c29-1202">SAP Note [1928533]</span></span>

<span data-ttu-id="44c29-1203">Vi rekommenderar starkt att använda den senaste versionen av operativsystemet Microsoft Windows Server.</span><span class="sxs-lookup"><span data-stu-id="44c29-1203">It is highly recommended to use the newest version of the operating system Microsoft Windows Server.</span></span> 

### <a name="sap-livecache-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="44c29-1204">SAP liveCache riktlinjer för konfiguration för SAP installationer i virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="44c29-1204">SAP liveCache Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="recommended-azure-vm-types"></a><span data-ttu-id="44c29-1205">Rekommenderade Azure VM-typer</span><span class="sxs-lookup"><span data-stu-id="44c29-1205">Recommended Azure VM Types</span></span>
<span data-ttu-id="44c29-1206">Har en stor påverkan på prestanda för SAP liveCache som SAP liveCache är ett program som utför enorma beräkningar, mängd och hastighet för RAM-minne och CPU.</span><span class="sxs-lookup"><span data-stu-id="44c29-1206">As SAP liveCache is an application that performs huge calculations, the amount and speed of RAM and CPU has a major influence on SAP liveCache performance.</span></span> 

<span data-ttu-id="44c29-1207">För de Virtuella Azure-typer som stöds av SAP (SAP-kommentar [1928533]), alla virtuella processorresurser allokeras till den virtuella datorn backas upp av dedikerade fysiska processorresurser av hypervisor-programmet.</span><span class="sxs-lookup"><span data-stu-id="44c29-1207">For the Azure VM types supported by SAP (SAP Note [1928533]), all virtual CPU resources allocated to the VM are backed by dedicated physical CPU resources of the hypervisor.</span></span> <span data-ttu-id="44c29-1208">Ingen överetablering (och därför ingen konkurrens om processorresurser) sker.</span><span class="sxs-lookup"><span data-stu-id="44c29-1208">No overprovisioning (and therefore no competition for CPU resources) takes place.</span></span>

<span data-ttu-id="44c29-1209">På samma sätt för alla Virtuella Azure-instans typer som stöds av SAP, är det Virtuella minnet 100% mappas till det fysiska minne – överetablering (överdrivet åtagande), till exempel inte används.</span><span class="sxs-lookup"><span data-stu-id="44c29-1209">Similarly, for all Azure VM instance types supported by SAP, the VM memory is 100% mapped to the physical memory – overprovisioning (over-commitment), for example, is not used.</span></span>

<span data-ttu-id="44c29-1210">Från det här perspektivet rekommenderas att använda den nya typen D-serien eller DS-serien (i kombination med Azure Premium Storage) Azure VM, eftersom de har 60% snabbare processorer än A-serien.</span><span class="sxs-lookup"><span data-stu-id="44c29-1210">From this perspective, it is highly recommended to use the new D- series or DS-series (in combination with Azure Premium Storage) Azure VM type, as they have 60% faster processors than the A-series.</span></span> <span data-ttu-id="44c29-1211">För den högsta RAM-minne och CPU-belastningen kan du använda G-serien och GS-serien (i kombination med Azure Premium Storage) virtuella datorer med den senaste Intel Xeon® E5 v3 processortypen, som har två gånger med minne och fyra gånger i solid-state drive lagring (SSD) av D/DS-serien.</span><span class="sxs-lookup"><span data-stu-id="44c29-1211">For the highest RAM and CPU load, you can use G-series and GS-series (in combination with Azure Premium Storage) VMs with the latest Intel® Xeon® processor E5 v3 family, which have twice the memory and four times the solid state drive storage (SSDs) of the D/DS-series.</span></span>

#### <a name="storage-configuration"></a><span data-ttu-id="44c29-1212">Lagringskonfigurationen</span><span class="sxs-lookup"><span data-stu-id="44c29-1212">Storage Configuration</span></span>
<span data-ttu-id="44c29-1213">Eftersom SAP liveCache är baserad på SAP MaxDB teknik, Azure storage bästa praxis rekommendationer för SAP MaxDB enligt kapitel [lagringskonfiguration] [ dbms-guide-8.4.1] gäller också för SAP liveCache.</span><span class="sxs-lookup"><span data-stu-id="44c29-1213">As SAP liveCache is based on SAP MaxDB technology, all the Azure storage best practice recommendations mentioned for SAP MaxDB in chapter [Storage configuration][dbms-guide-8.4.1] are also valid for SAP liveCache.</span></span> 

#### <a name="dedicated-azure-vm-for-livecache"></a><span data-ttu-id="44c29-1214">Dedikerade virtuella Azure-datorn för liveCache</span><span class="sxs-lookup"><span data-stu-id="44c29-1214">Dedicated Azure VM for liveCache</span></span>
<span data-ttu-id="44c29-1215">Eftersom SAP liveCache använder sig mycket dataresurser, för effektiv användning rekommenderas att distribuera på en dedikerad Azure-dator.</span><span class="sxs-lookup"><span data-stu-id="44c29-1215">As SAP liveCache intensively uses computational power, for productive usage it is highly recommended to deploy on a dedicated Azure Virtual Machine.</span></span> 

![Dedikerade virtuella Azure-datorn liveCache för produktiva användningsfall][dbms-guide-figure-700]

#### <a name="backup-and-restore"></a><span data-ttu-id="44c29-1217">Säkerhetskopiera och återställ</span><span class="sxs-lookup"><span data-stu-id="44c29-1217">Backup and Restore</span></span>
<span data-ttu-id="44c29-1218">Säkerhetskopiering och återställning, inklusive prestandaöverväganden, som beskrivs i de relevanta kapitlen SAP MaxDB [säkerhetskopierar och återställer] [ dbms-guide-8.4.2] och [prestandaöverväganden för säkerhetskopiering och återställning][dbms-guide-8.4.3].</span><span class="sxs-lookup"><span data-stu-id="44c29-1218">Backup and restore, including performance considerations, are already described in the relevant SAP MaxDB chapters [Backup and Restore][dbms-guide-8.4.2] and [Performance Considerations for Backup and Restore][dbms-guide-8.4.3].</span></span> 

#### <a name="other"></a><span data-ttu-id="44c29-1219">Annat</span><span class="sxs-lookup"><span data-stu-id="44c29-1219">Other</span></span>
<span data-ttu-id="44c29-1220">Allmänt avsnitt som beskrivs i den relevanta SAP-MaxDB [detta] [ dbms-guide-8.4.4] kapitel.</span><span class="sxs-lookup"><span data-stu-id="44c29-1220">All other general topics are already described in the relevant SAP MaxDB [this][dbms-guide-8.4.4] chapter.</span></span> 

## <a name="specifics-for-the-sap-content-server-on-windows"></a><span data-ttu-id="44c29-1221">Programvarukrav för SAP innehållsservern på Windows</span><span class="sxs-lookup"><span data-stu-id="44c29-1221">Specifics for the SAP Content Server on Windows</span></span>
<span data-ttu-id="44c29-1222">SAP Content Server är en separat, server-baserade komponent för att lagra innehåll, till exempel elektroniska dokument i olika format.</span><span class="sxs-lookup"><span data-stu-id="44c29-1222">The SAP Content Server is a separate, server-based component to store content such as electronic documents in different formats.</span></span> <span data-ttu-id="44c29-1223">SAP innehållsservern tillhandahålls av utvecklingen av teknik och kommer att använda flera program för SAP-program.</span><span class="sxs-lookup"><span data-stu-id="44c29-1223">The SAP Content Server is provided by development of technology and is to be used cross-application for any SAP applications.</span></span> <span data-ttu-id="44c29-1224">Den installeras på ett separat system.</span><span class="sxs-lookup"><span data-stu-id="44c29-1224">It is installed on a separate system.</span></span> <span data-ttu-id="44c29-1225">Vanliga innehållet är utbildningsmaterial och dokumentation från Knowledge datalager eller tekniska ritningar från mySAP PLM dokumenthanteringssystem.</span><span class="sxs-lookup"><span data-stu-id="44c29-1225">Typical content is training material and documentation from Knowledge Warehouse or technical drawings originating from the mySAP PLM Document Management System.</span></span> 

### <a name="sap-content-server-version-support"></a><span data-ttu-id="44c29-1226">Stöd för SAP innehållsserver Version</span><span class="sxs-lookup"><span data-stu-id="44c29-1226">SAP Content Server Version Support</span></span>
<span data-ttu-id="44c29-1227">SAP stöder för närvarande:</span><span class="sxs-lookup"><span data-stu-id="44c29-1227">SAP currently supports:</span></span>

* <span data-ttu-id="44c29-1228">**SAP innehållsserver** med version **6.50 (och senare)**</span><span class="sxs-lookup"><span data-stu-id="44c29-1228">**SAP Content Server** with version **6.50 (and higher)**</span></span>
* <span data-ttu-id="44c29-1229">**SAP MaxDB version 7,9**</span><span class="sxs-lookup"><span data-stu-id="44c29-1229">**SAP MaxDB version 7.9**</span></span>
* <span data-ttu-id="44c29-1230">**Microsoft IIS (Internet Information Server) version 8.0 (och senare)**</span><span class="sxs-lookup"><span data-stu-id="44c29-1230">**Microsoft IIS (Internet Information Server) version 8.0 (and higher)**</span></span>

<span data-ttu-id="44c29-1231">Det rekommenderas att använda den senaste versionen av SAP innehållsserver som vid tidpunkten för med det här dokumentet är **6.50 SP4**, och den senaste versionen av **Microsoft IIS 8.5**.</span><span class="sxs-lookup"><span data-stu-id="44c29-1231">It is highly recommended to use the newest version of SAP Content Server, which at the time of writing this document is **6.50 SP4**, and the newest version of **Microsoft IIS 8.5**.</span></span> 

<span data-ttu-id="44c29-1232">Kontrollera de senaste versionerna som stöds av SAP innehållsservern och Microsoft IIS i den [SAP produkten tillgänglighet matris PAM-][sap-pam].</span><span class="sxs-lookup"><span data-stu-id="44c29-1232">Check the latest supported versions of SAP Content Server and Microsoft IIS in the [SAP Product Availability Matrix (PAM)][sap-pam].</span></span>

### <a name="supported-microsoft-windows-and-azure-vm-types-for-sap-content-server"></a><span data-ttu-id="44c29-1233">Microsoft Windows och Virtuella Azure-typer som stöds för SAP innehållsserver</span><span class="sxs-lookup"><span data-stu-id="44c29-1233">Supported Microsoft Windows and Azure VM types for SAP Content Server</span></span>
<span data-ttu-id="44c29-1234">Om du vill ta reda på Windows-version som stöds för SAP Content Server på Azure, se:</span><span class="sxs-lookup"><span data-stu-id="44c29-1234">To find out supported Windows version for SAP Content Server on Azure, see:</span></span>

* <span data-ttu-id="44c29-1235">[SAP produkten tillgänglighet matris (PAM)][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="44c29-1235">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="44c29-1236">SAP-kommentar [1928533]</span><span class="sxs-lookup"><span data-stu-id="44c29-1236">SAP Note [1928533]</span></span>

<span data-ttu-id="44c29-1237">Vi rekommenderar starkt att använda den senaste versionen av Microsoft Windows Server.</span><span class="sxs-lookup"><span data-stu-id="44c29-1237">It is highly recommended to use the newest version of Microsoft Windows Server.</span></span>

### <a name="sap-content-server-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="44c29-1238">Riktlinjer för SAP innehållsserver konfiguration för SAP installationer i virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="44c29-1238">SAP Content Server Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="44c29-1239">Lagringskonfigurationen</span><span class="sxs-lookup"><span data-stu-id="44c29-1239">Storage Configuration</span></span>
<span data-ttu-id="44c29-1240">Om du konfigurerar SAP innehållsservern för att lagra filer i databasen SAP MaxDB alla Azure-lagring best practices rekommendation för SAP MaxDB enligt kapitel [lagringskonfiguration] [ dbms-guide-8.4.1] gäller också för SAP innehållsserver scenario.</span><span class="sxs-lookup"><span data-stu-id="44c29-1240">If you configure SAP Content Server to store files in the SAP MaxDB database, all Azure storage best practices recommendation mentioned for SAP MaxDB in chapter [Storage Configuration][dbms-guide-8.4.1] are also valid for the SAP Content Server scenario.</span></span> 

<span data-ttu-id="44c29-1241">Om du konfigurerar SAP innehållsservern för att lagra filer i filsystemet, rekommenderas att använda en dedikerad logisk enhet.</span><span class="sxs-lookup"><span data-stu-id="44c29-1241">If you configure SAP Content Server to store files in the file system, it is recommended to use a dedicated logical drive.</span></span> <span data-ttu-id="44c29-1242">Med lagringsutrymmen för Windows kan du också öka logiska diskens storlek och IOPS genomströmning som beskrivs i kapitlet [programvara RAID][dbms-guide-2.2].</span><span class="sxs-lookup"><span data-stu-id="44c29-1242">Using Windows Storage Spaces enables you to also increase logical disk size and IOPS throughput, as described in chapter [Software RAID][dbms-guide-2.2].</span></span> 

#### <a name="sap-content-server-location"></a><span data-ttu-id="44c29-1243">SAP innehållsserver plats</span><span class="sxs-lookup"><span data-stu-id="44c29-1243">SAP Content Server Location</span></span>
<span data-ttu-id="44c29-1244">SAP Content Server måste distribueras i samma Azure-region och Azure VNET där SAP-systemet har distribuerats.</span><span class="sxs-lookup"><span data-stu-id="44c29-1244">SAP Content Server has to be deployed in the same Azure region and Azure VNET where the SAP system is deployed.</span></span> <span data-ttu-id="44c29-1245">Du kan bestämma om du vill distribuera innehåll SAP-Server-komponenter på en dedikerad virtuell Azure-dator eller av samma virtuella dator där SAP-systemet körs.</span><span class="sxs-lookup"><span data-stu-id="44c29-1245">You are free to decide whether you want to deploy SAP Content Server components on a dedicated Azure VM or on the same VM where the SAP system is running.</span></span> 

![Dedikerad Azure VM för SAP Content Server][dbms-guide-figure-800]

#### <a name="sap-cache-server-location"></a><span data-ttu-id="44c29-1247">SAP cacheplats Server</span><span class="sxs-lookup"><span data-stu-id="44c29-1247">SAP Cache Server Location</span></span>
<span data-ttu-id="44c29-1248">SAP Cache-Server är en ytterligare server-baserade komponent att ge åtkomst till (cachelagrade) lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-1248">The SAP Cache Server is an additional server-based component to provide access to (cached) documents locally.</span></span> <span data-ttu-id="44c29-1249">SAP cacheserver cachelagrar dokument för en SAP-innehållsserver.</span><span class="sxs-lookup"><span data-stu-id="44c29-1249">The SAP Cache Server caches the documents of an SAP Content Server.</span></span> <span data-ttu-id="44c29-1250">Detta är att optimera nätverkstrafik om dokument har mer än en gång hämtas från olika platser.</span><span class="sxs-lookup"><span data-stu-id="44c29-1250">This is to optimize network traffic if documents have to be retrieved more than once from different locations.</span></span> <span data-ttu-id="44c29-1251">Allmän regel är att SAP Cache-Server måste vara fysiskt nära den klient som har åtkomst till SAP Cache-servern.</span><span class="sxs-lookup"><span data-stu-id="44c29-1251">The general rule is that the SAP Cache Server has to be physically close to the client that accesses the SAP Cache Server.</span></span> 

<span data-ttu-id="44c29-1252">Här har du två alternativ:</span><span class="sxs-lookup"><span data-stu-id="44c29-1252">Here you have two options:</span></span>

1. <span data-ttu-id="44c29-1253">**Klienten är ett system för backend-SAP** om ett backend SAP-system är konfigurerad för att komma åt SAP innehållsserver, SAP systemet är en klient.</span><span class="sxs-lookup"><span data-stu-id="44c29-1253">**Client is a backend SAP system** If a backend SAP system is configured to access SAP Content Server, that SAP system is a client.</span></span> <span data-ttu-id="44c29-1254">Eftersom både SAP-systemet och SAP innehållsserver distribueras i samma Azure-region – i samma Azure-datacentret – är de fysiskt nära varandra.</span><span class="sxs-lookup"><span data-stu-id="44c29-1254">As both SAP system and SAP Content Server are deployed in the same Azure region – in the same Azure datacenter – they are physically close to each other.</span></span> <span data-ttu-id="44c29-1255">Det finns därför ingen måste ha en dedikerad SAP Cache-Server.</span><span class="sxs-lookup"><span data-stu-id="44c29-1255">Therefore, there is no need to have a dedicated SAP Cache Server.</span></span> <span data-ttu-id="44c29-1256">SAP UI-klienter (SAP GUI eller en webbläsare) åtkomst direkt SAP-systemet och SAP-systemet hämtar dokument från innehållsservern SAP.</span><span class="sxs-lookup"><span data-stu-id="44c29-1256">SAP UI clients (SAP GUI or web browser) access the SAP system directly, and the SAP system retrieves documents from the SAP Content Server.</span></span>
2. <span data-ttu-id="44c29-1257">**Klienten är en lokal webbläsare** SAP innehållsservern kan konfigureras för att användas direkt av webbläsaren.</span><span class="sxs-lookup"><span data-stu-id="44c29-1257">**Client is an on-premises web browser** The SAP Content Server can be configured to be accessed directly by the web browser.</span></span> <span data-ttu-id="44c29-1258">I det här fallet är en webbläsare som körs på lokala en innehållsserver SAP-klient.</span><span class="sxs-lookup"><span data-stu-id="44c29-1258">In this case, a web browser running on–premises is a client of the SAP Content Server.</span></span> <span data-ttu-id="44c29-1259">Lokala datacenter och Azure-datacenter placeras på olika fysiska platser (helst nära varandra).</span><span class="sxs-lookup"><span data-stu-id="44c29-1259">On-premises datacenter and Azure datacenter are placed in different physical locations (ideally close to each other).</span></span> <span data-ttu-id="44c29-1260">Ditt lokala datacenter är ansluten till Azure via Azure plats-till-plats-VPN eller ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="44c29-1260">Your on-premises datacenter is connected to Azure via Azure Site-to-Site VPN or ExpressRoute.</span></span> <span data-ttu-id="44c29-1261">Även om båda alternativen erbjuder säker anslutning för VPN-nätverk till Azure, erbjuder inte ett nätverk bandbredd och fördröjning SERVICENIVÅAVTAL mellan lokala datacenter och Azure-datacentret nätverksanslutning för plats-till-plats.</span><span class="sxs-lookup"><span data-stu-id="44c29-1261">Although both options offer secure VPN network connection to Azure, site-to-site network connection does not offer a network bandwidth and latency SLA between the on-premises datacenter and the Azure datacenter.</span></span> <span data-ttu-id="44c29-1262">För att påskynda åtkomst till dokument, kan du göra något av följande:</span><span class="sxs-lookup"><span data-stu-id="44c29-1262">To speed up access to documents, you can do one of the following:</span></span>
   1. <span data-ttu-id="44c29-1263">Installera SAP Cache Server lokalt, Stäng webbläsaren för lokalt (alternativet på [detta] [ dbms-guide-900-sap-cache-server-on-premises] bild)</span><span class="sxs-lookup"><span data-stu-id="44c29-1263">Install SAP Cache Server on-premises, close to the on-premises web browser (option on [this][dbms-guide-900-sap-cache-server-on-premises] Figure)</span></span>
   2. <span data-ttu-id="44c29-1264">Konfigurera Azure ExpressRoute, vilket ger en snabb och låg latens dedikerad nätverksanslutning mellan lokala datacenter och Azure-datacenter.</span><span class="sxs-lookup"><span data-stu-id="44c29-1264">Configure Azure ExpressRoute, which offers a high-speed and low-latency dedicated network connection between on-premises datacenter and Azure datacenter.</span></span>

<span data-ttu-id="44c29-1265">![Alternativet att installera SAP Cache Server lokalt][dbms-guide-figure-900]
<a name="642f746c-e4d4-489d-bf63-73e80177a0a8"></a></span><span class="sxs-lookup"><span data-stu-id="44c29-1265">![Option to install SAP Cache Server on-premises][dbms-guide-figure-900]
<a name="642f746c-e4d4-489d-bf63-73e80177a0a8"></a></span></span>

#### <a name="backup--restore"></a><span data-ttu-id="44c29-1266">Säkerhetskopiering/återställning</span><span class="sxs-lookup"><span data-stu-id="44c29-1266">Backup / Restore</span></span>
<span data-ttu-id="44c29-1267">Om du konfigurerar SAP innehållsservern för att lagra filer i databasen SAP MaxDB säkerhetskopiering/återställning proceduren- och prestandaöverväganden som beskrivs i SAP MaxDB kapitel [säkerhetskopierar och återställer] [ dbms-guide-8.4.2] och kapitel [prestandaöverväganden för säkerhetskopiering och återställning][dbms-guide-8.4.3].</span><span class="sxs-lookup"><span data-stu-id="44c29-1267">If you configure the SAP Content Server to store files in the SAP MaxDB database, the backup/restore procedure and performance considerations are already described in SAP MaxDB chapter [Backup and Restore][dbms-guide-8.4.2] and chapter [Performance Considerations for Backup and Restore][dbms-guide-8.4.3].</span></span> 

<span data-ttu-id="44c29-1268">Om du konfigurerar SAP innehållsservern för att lagra filer i filsystemet, är ett alternativ att köra en manuell säkerhetskopiering/återställning av hela filstrukturen där dokumenten finns.</span><span class="sxs-lookup"><span data-stu-id="44c29-1268">If you configure the SAP Content Server to store files in the file system, one option is to execute manual backup/restore of the whole file structure where the documents are located.</span></span> <span data-ttu-id="44c29-1269">Liknar SAP MaxDB säkerhetskopiering/återställning, bör ha en dedikerad volym för säkerhetskopiering ändamål.</span><span class="sxs-lookup"><span data-stu-id="44c29-1269">Similar to SAP MaxDB backup/restore, it is recommended to have a dedicated disk volume for backup purpose.</span></span> 

#### <a name="other"></a><span data-ttu-id="44c29-1270">Annat</span><span class="sxs-lookup"><span data-stu-id="44c29-1270">Other</span></span>
<span data-ttu-id="44c29-1271">Andra specifika inställningar för SAP innehållsserver är transparent för virtuella datorer i Azure och beskrivs i olika dokument och SAP anteckningar:</span><span class="sxs-lookup"><span data-stu-id="44c29-1271">Other SAP Content Server specific settings are transparent to Azure VMs and are described in various documents and SAP Notes:</span></span>

* <span data-ttu-id="44c29-1272"><https://Service.SAP.com/contentserver></span><span class="sxs-lookup"><span data-stu-id="44c29-1272"><https://service.sap.com/contentserver></span></span> 
* <span data-ttu-id="44c29-1273">SAP-kommentar [1619726]</span><span class="sxs-lookup"><span data-stu-id="44c29-1273">SAP Note [1619726]</span></span>  

## <a name="specifics-to-ibm-db2-for-luw-on-windows"></a><span data-ttu-id="44c29-1274">Specifik information skrivs till IBM DB2 för LUW i Windows</span><span class="sxs-lookup"><span data-stu-id="44c29-1274">Specifics to IBM DB2 for LUW on Windows</span></span>
<span data-ttu-id="44c29-1275">Du kan enkelt migrera dina befintliga SAP-program som körs på IBM DB2 för Linux, UNIX- och Windows (LUW) till virtuella Azure-datorer med Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-1275">With Microsoft Azure, you can easily migrate your existing SAP application running on IBM DB2 for Linux, UNIX, and Windows (LUW) to Azure virtual machines.</span></span> <span data-ttu-id="44c29-1276">Med SAP på IBM DB2 för LUW kan administratörer och utvecklare fortfarande använda samma utveckling och Administrationsverktyg som finns tillgängliga lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-1276">With SAP on IBM DB2 for LUW, administrators and developers can still use the same development and administration tools, which are available on-premises.</span></span>
<span data-ttu-id="44c29-1277">Allmän information om hur du kör SAP Business Suite på IBM DB2 för LUW kan hittas i SAP Community nätverk (SCN) på <https://www.sap.com/community/topic/db2-for-linux-unix-and-windows.html>.</span><span class="sxs-lookup"><span data-stu-id="44c29-1277">General information about running SAP Business Suite on IBM DB2 for LUW can be found in the SAP Community Network (SCN) at <https://www.sap.com/community/topic/db2-for-linux-unix-and-windows.html>.</span></span>

<span data-ttu-id="44c29-1278">För ytterligare information och uppdateringar om SAP på DB2 för LUW på Azure Se SAP-kommentar [2233094].</span><span class="sxs-lookup"><span data-stu-id="44c29-1278">For additional information and updates about SAP on DB2 for LUW on Azure, see SAP Note [2233094].</span></span> 

### <a name="ibm-db2-for-linux-unix-and-windows-version-support"></a><span data-ttu-id="44c29-1279">IBM DB2 för Linux och UNIX stöd för Windows-Version</span><span class="sxs-lookup"><span data-stu-id="44c29-1279">IBM DB2 for Linux, UNIX, and Windows Version Support</span></span>
<span data-ttu-id="44c29-1280">SAP på IBM DB2 för LUW på virtuella Microsoft Azure-tjänster stöds från och med DB2 version 10.5.</span><span class="sxs-lookup"><span data-stu-id="44c29-1280">SAP on IBM DB2 for LUW on Microsoft Azure Virtual Machine Services is supported as of DB2 version 10.5.</span></span>

<span data-ttu-id="44c29-1281">Mer information om stöds SAP-produkter och Virtuella Azure-typer finns i SAP-kommentar [1928533].</span><span class="sxs-lookup"><span data-stu-id="44c29-1281">For information about supported SAP products and Azure VM types, refer to SAP Note [1928533].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="44c29-1282">IBM DB2 för Linux, UNIX- och riktlinjer för Windows-konfiguration för SAP installationer i virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="44c29-1282">IBM DB2 for Linux, UNIX, and Windows Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="44c29-1283">Lagringskonfigurationen</span><span class="sxs-lookup"><span data-stu-id="44c29-1283">Storage Configuration</span></span>
<span data-ttu-id="44c29-1284">Alla databasfiler måste lagras i NTFS-filsystemet som är baserat på direkt anslutna diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1284">All database files must be stored on the NTFS file system based on directly attached disks.</span></span> <span data-ttu-id="44c29-1285">Diskarna monteras på Azure-dator och baseras i Azure sidan BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) eller hanterade diskar (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span><span class="sxs-lookup"><span data-stu-id="44c29-1285">These disks are mounted to the Azure VM and are based in Azure Page BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) or Managed Disks (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span></span> <span data-ttu-id="44c29-1286">Alla typer av nätverksenheter eller fjärresurser som följande Azure Filtjänster är **inte** stöds för databasfilerna:</span><span class="sxs-lookup"><span data-stu-id="44c29-1286">Any kind of network drives or remote shares like the following Azure file services are **NOT** supported for database files:</span></span> 

* <span data-ttu-id="44c29-1287"><https://blogs.msdn.com/b/windowsazurestorage/Archive/2014/05/12/Introducing-Microsoft-Azure-File-Service.aspx></span><span class="sxs-lookup"><span data-stu-id="44c29-1287"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span>
* <span data-ttu-id="44c29-1288"><https://blogs.msdn.com/b/windowsazurestorage/Archive/2014/05/27/Persisting-Connections-to-Microsoft-Azure-Files.aspx></span><span class="sxs-lookup"><span data-stu-id="44c29-1288"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="44c29-1289">Om du använder diskar baserat på Azure sidan BLOB Storage eller hanterade diskar instruktionerna som gjorts i det här dokumentet i kapitlet [struktur för en distribution av RDBMS] [ dbms-guide-2] gäller även för distributioner med IBM DB2 för LUW databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-1289">If you are using disks based on Azure Page BLOB Storage or Managed Disks, the statements made in this document in chapter [Structure of an RDBMS Deployment][dbms-guide-2] also apply to deployments with the IBM DB2 for LUW Database.</span></span> 

<span data-ttu-id="44c29-1290">Enligt beskrivningen tidigare i den allmänna delen av dokumentet finns kvoter på IOPS genomströmning för diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1290">As explained earlier in the general part of the document, quotas on IOPS throughput for disks exist.</span></span> <span data-ttu-id="44c29-1291">De exakta kvoterna beror på VM-typ som används.</span><span class="sxs-lookup"><span data-stu-id="44c29-1291">The exact quotas depend on the VM type used.</span></span> <span data-ttu-id="44c29-1292">En lista över Virtuella typer med sina kvoter hittar [här (Linux)] [ virtual-machines-sizes-linux] och [här (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="44c29-1292">A list of VM types with their quotas can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="44c29-1293">Så länge kvoten IOPS per disk räcker är det möjligt att lagra alla databasfiler på en enda monterade disken.</span><span class="sxs-lookup"><span data-stu-id="44c29-1293">As long as the current IOPS quota per disk is sufficient, it is possible to store all the database files on one single mounted disk.</span></span> 

<span data-ttu-id="44c29-1294">Prestanda finns överväganden även i kapitlet ”säkerhet och prestanda överväganden för databasen datakataloger” i guider för SAP-installationen.</span><span class="sxs-lookup"><span data-stu-id="44c29-1294">For performance considerations also refer to chapter “Data Safety and Performance Considerations for Database Directories” in SAP installation guides.</span></span>

<span data-ttu-id="44c29-1295">Alternativt kan du använda Windows lagringspooler (endast tillgängligt i Windows Server 2012 och senare) eller Windows striping för Windows 2008 R2 som beskrivs i kapitel [programvara RAID] [ dbms-guide-2.2] av det här dokumentet för att skapa en logisk enhet för stora över flera diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1295">Alternatively, you can use Windows Storage Pools (only available in Windows Server 2012 and higher) or Windows striping for Windows 2008 R2 as described in chapter [Software RAID][dbms-guide-2.2] of this document to create one large logical device over multiple disks.</span></span>
<span data-ttu-id="44c29-1296">För diskarna med DB2 lagringssökvägar för dina sapdata och saptmp kataloger, måste du ange en fysisk disk sektorstorlek på 512 KB.</span><span class="sxs-lookup"><span data-stu-id="44c29-1296">For the disks containing the DB2 storage paths for your sapdata and saptmp directories, you must specify a physical disk sector size of 512 KB.</span></span> <span data-ttu-id="44c29-1297">När du använder lagringspooler för Windows, måste du skapa lagringspooler manuellt via kommandoradsgränssnittet med parametern ”-LogicalSectorSizeDefault”.</span><span class="sxs-lookup"><span data-stu-id="44c29-1297">When using Windows Storage Pools, you must create the storage pools  manually via command line interface using the parameter „-LogicalSectorSizeDefault“.</span></span> <span data-ttu-id="44c29-1298">Mer information finns i <https://technet.microsoft.com/itpro/powershell/windows/storage/new-storagepool>.</span><span class="sxs-lookup"><span data-stu-id="44c29-1298">For more information, see <https://technet.microsoft.com/itpro/powershell/windows/storage/new-storagepool>.</span></span>

#### <a name="backuprestore"></a><span data-ttu-id="44c29-1299">Säkerhetskopiera/återställa</span><span class="sxs-lookup"><span data-stu-id="44c29-1299">Backup/Restore</span></span>
<span data-ttu-id="44c29-1300">Funktionen säkerhetskopiering/återställning för IBM DB2 för LUW stöds på samma sätt som på standard operativsystemen Windows Server och Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="44c29-1300">The backup/restore functionality for IBM DB2 for LUW is supported in the same way as on standard Windows Server Operating Systems and Hyper-V.</span></span>

<span data-ttu-id="44c29-1301">Du måste se till att du har en giltig databas strategi för säkerhetskopiering på plats.</span><span class="sxs-lookup"><span data-stu-id="44c29-1301">You must make sure that you have a valid database backup strategy in place.</span></span> 

<span data-ttu-id="44c29-1302">Säkerhetskopiering/återställning prestanda beror på hur många volymer kan läsas parallellt och vilka genomflödet av dessa volymer kan vara som bare metal-distributioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-1302">As in bare-metal deployments, backup/restore performance depends on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="44c29-1303">CPU-förbrukning som används av säkerhetskopieringskomprimering kan dessutom spela en viktig roll på virtuella datorer med bara upp till åtta CPU-trådar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1303">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to eight CPU threads.</span></span> <span data-ttu-id="44c29-1304">Därför kan anta en:</span><span class="sxs-lookup"><span data-stu-id="44c29-1304">Therefore, one can assume:</span></span>

* <span data-ttu-id="44c29-1305">Det färre antalet diskar som används för att lagra databasen-enheter mindre totala genomflödet i läsning</span><span class="sxs-lookup"><span data-stu-id="44c29-1305">The fewer the number of disks used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="44c29-1306">Mindre antal CPU trådar i den virtuella datorn på allvarligare effekten av säkerhetskopieringskomprimering</span><span class="sxs-lookup"><span data-stu-id="44c29-1306">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="44c29-1307">Färre mål (Stripe-kataloger, diskar) att skriva säkerhetskopian till nedre genomflödet</span><span class="sxs-lookup"><span data-stu-id="44c29-1307">The fewer targets (Stripe Directories, disks) to write the backup to, the lower the throughput</span></span>

<span data-ttu-id="44c29-1308">Om du vill öka antalet mål att skriva till att två alternativ använda kombinerad beroende på dina behov:</span><span class="sxs-lookup"><span data-stu-id="44c29-1308">To increase the number of targets to write to, two options can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="44c29-1309">Striping säkerhetskopiering målvolymen över flera diskar för att kunna förbättra IOPS genomströmning på stripe volymen</span><span class="sxs-lookup"><span data-stu-id="44c29-1309">Striping the backup target volume over multiple disks in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="44c29-1310">Med mer än en målkatalogen för att skriva säkerhetskopiering till</span><span class="sxs-lookup"><span data-stu-id="44c29-1310">Using more than one target directory to write the backup to</span></span>

#### <a name="high-availability-and-disaster-recovery"></a><span data-ttu-id="44c29-1311">Hög tillgänglighet och katastrofåterställning</span><span class="sxs-lookup"><span data-stu-id="44c29-1311">High Availability and Disaster Recovery</span></span>
<span data-ttu-id="44c29-1312">Microsoft Cluster Server (MSCS) stöds inte.</span><span class="sxs-lookup"><span data-stu-id="44c29-1312">Microsoft Cluster Server (MSCS) is not supported.</span></span>

<span data-ttu-id="44c29-1313">DB2 katastrofåterställning för hög tillgänglighet (HADR) stöds.</span><span class="sxs-lookup"><span data-stu-id="44c29-1313">DB2 high availability disaster recovery (HADR) is supported.</span></span> <span data-ttu-id="44c29-1314">Om de virtuella datorerna med hög tillgänglighet konfigurationen har fungerar namnmatchning, skilja inte inställningarna i Azure från alla inställningar som görs lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-1314">If the virtual machines of the HA configuration have working name resolution, the setup in Azure does not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="44c29-1315">Det rekommenderas inte kan förlita sig på endast IP-lösning.</span><span class="sxs-lookup"><span data-stu-id="44c29-1315">It is not recommended to rely on IP resolution only.</span></span>

<span data-ttu-id="44c29-1316">Använd inte Geo-replikering för lagringskonton som lagrar databasen diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1316">Do not use Geo-Replication for the storage accounts that store the database disks.</span></span> <span data-ttu-id="44c29-1317">Mer information finns i kapitlet [Microsoft Azure Storage] [ dbms-guide-2.3] och kapitel [hög tillgänglighet och katastrofåterställning med virtuella Azure-datorer][dbms-guide-3].</span><span class="sxs-lookup"><span data-stu-id="44c29-1317">For more information, refer to chapter [Microsoft Azure Storage][dbms-guide-2.3] and chapter [High Availability and Disaster Recovery with Azure VMs][dbms-guide-3].</span></span>

#### <a name="other"></a><span data-ttu-id="44c29-1318">Annat</span><span class="sxs-lookup"><span data-stu-id="44c29-1318">Other</span></span>
<span data-ttu-id="44c29-1319">Andra allmänna avsnitt som Azure-Tillgänglighetsuppsättningar eller SAP övervakning tillämpas enligt beskrivningen i de tre första kapitlen i det här dokumentet för distributioner av virtuella datorer med IBM DB2 för LUW samt.</span><span class="sxs-lookup"><span data-stu-id="44c29-1319">All other general topics like Azure Availability Sets or SAP monitoring apply as described in the first three chapters of this document for deployments of VMs with IBM DB2 for LUW as well.</span></span> 

<span data-ttu-id="44c29-1320">Även gå till kapitel [allmänna SQL Server för SAP på Azure sammanfattning][dbms-guide-5.8].</span><span class="sxs-lookup"><span data-stu-id="44c29-1320">Also refer to chapter [General SQL Server for SAP on Azure Summary][dbms-guide-5.8].</span></span>

## <a name="specifics-to-ibm-db2-for-luw-on-linux"></a><span data-ttu-id="44c29-1321">Specifik information skrivs till IBM DB2 för LUW på Linux</span><span class="sxs-lookup"><span data-stu-id="44c29-1321">Specifics to IBM DB2 for LUW on Linux</span></span>
<span data-ttu-id="44c29-1322">Du kan enkelt migrera dina befintliga SAP-program som körs på IBM DB2 för Linux, UNIX- och Windows (LUW) till virtuella Azure-datorer med Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="44c29-1322">With Microsoft Azure, you can easily migrate your existing SAP application running on IBM DB2 for Linux, UNIX, and Windows (LUW) to Azure virtual machines.</span></span> <span data-ttu-id="44c29-1323">Med SAP på IBM DB2 för LUW kan administratörer och utvecklare fortfarande använda samma utveckling och Administrationsverktyg som finns tillgängliga lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-1323">With SAP on IBM DB2 for LUW, administrators and developers can still use the same development and administration tools, which are available on-premises.</span></span> <span data-ttu-id="44c29-1324">Allmän information om hur du kör SAP Business Suite på IBM DB2 för LUW kan hittas i SAP Community nätverk (SCN) på <https://www.sap.com/community/topic/db2-for-linux-unix-and-windows.html>.</span><span class="sxs-lookup"><span data-stu-id="44c29-1324">General information about running SAP Business Suite on IBM DB2 for LUW can be found in the SAP Community Network (SCN) at <https://www.sap.com/community/topic/db2-for-linux-unix-and-windows.html>.</span></span>

<span data-ttu-id="44c29-1325">För ytterligare information och uppdateringar om SAP på DB2 för LUW på Azure Se SAP-kommentar [2233094].</span><span class="sxs-lookup"><span data-stu-id="44c29-1325">For additional information and updates about SAP on DB2 for LUW on Azure, see SAP Note [2233094].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-version-support"></a><span data-ttu-id="44c29-1326">IBM DB2 för Linux och UNIX stöd för Windows-Version</span><span class="sxs-lookup"><span data-stu-id="44c29-1326">IBM DB2 for Linux, UNIX, and Windows Version Support</span></span>
<span data-ttu-id="44c29-1327">SAP på IBM DB2 för LUW på virtuella Microsoft Azure-tjänster stöds från och med DB2 version 10.5.</span><span class="sxs-lookup"><span data-stu-id="44c29-1327">SAP on IBM DB2 for LUW on Microsoft Azure Virtual Machine Services is supported as of DB2 version 10.5.</span></span>

<span data-ttu-id="44c29-1328">Mer information om stöds SAP-produkter och Virtuella Azure-typer finns i SAP-kommentar [1928533].</span><span class="sxs-lookup"><span data-stu-id="44c29-1328">For information about supported SAP products and Azure VM types, refer to SAP Note [1928533].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="44c29-1329">IBM DB2 för Linux, UNIX- och riktlinjer för Windows-konfiguration för SAP installationer i virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="44c29-1329">IBM DB2 for Linux, UNIX, and Windows Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="44c29-1330">Lagringskonfigurationen</span><span class="sxs-lookup"><span data-stu-id="44c29-1330">Storage Configuration</span></span>
<span data-ttu-id="44c29-1331">Alla databasfiler måste vara lagrad i ett filsystem som baseras på direkt anslutna diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1331">All database files must be stored on a file system based on directly attached disks.</span></span> <span data-ttu-id="44c29-1332">Diskarna monteras på Azure-dator och baseras i Azure sidan BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) eller hanterade diskar (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span><span class="sxs-lookup"><span data-stu-id="44c29-1332">These disks are mounted to the Azure VM and are based in Azure Page BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) or Managed Disks (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span></span> <span data-ttu-id="44c29-1333">Alla typer av nätverksenheter eller fjärresurser som följande Azure Filtjänster är **inte** stöds för databasfilerna:</span><span class="sxs-lookup"><span data-stu-id="44c29-1333">Any kind of network drives or remote shares like the following Azure file services are **NOT** supported for database files:</span></span>

* <span data-ttu-id="44c29-1334"><https://blogs.msdn.com/b/windowsazurestorage/Archive/2014/05/12/Introducing-Microsoft-Azure-File-Service.aspx></span><span class="sxs-lookup"><span data-stu-id="44c29-1334"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span>
* <span data-ttu-id="44c29-1335"><https://blogs.msdn.com/b/windowsazurestorage/Archive/2014/05/27/Persisting-Connections-to-Microsoft-Azure-Files.aspx></span><span class="sxs-lookup"><span data-stu-id="44c29-1335"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="44c29-1336">Om du använder diskar baserat på Azure sidan BLOB Storage, uppgifterna i det här dokumentet i kapitlet [struktur för en distribution av RDBMS] [ dbms-guide-2] gäller även för distributioner med IBM DB2 för LUW databasen.</span><span class="sxs-lookup"><span data-stu-id="44c29-1336">If you are using disks based on Azure Page BLOB Storage, the statements made in this document in chapter [Structure of an RDBMS Deployment][dbms-guide-2] also apply to deployments with the IBM DB2 for LUW Database.</span></span>

<span data-ttu-id="44c29-1337">Enligt beskrivningen tidigare i den allmänna delen av dokumentet finns kvoter på IOPS genomströmning för diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1337">As explained earlier in the general part of the document, quotas on IOPS throughput for disks exist.</span></span> <span data-ttu-id="44c29-1338">De exakta kvoterna beror på VM-typ som används.</span><span class="sxs-lookup"><span data-stu-id="44c29-1338">The exact quotas depend on the VM type used.</span></span> <span data-ttu-id="44c29-1339">En lista över Virtuella typer med sina kvoter hittar [här (Linux)] [ virtual-machines-sizes-linux] och [här (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="44c29-1339">A list of VM types with their quotas can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="44c29-1340">Så länge kvoten IOPS per disk räcker är det möjligt att lagra alla databasfiler på en enda disk.</span><span class="sxs-lookup"><span data-stu-id="44c29-1340">As long as the current IOPS quota per disk is sufficient, it is possible to store all the database files on one single disk.</span></span>

<span data-ttu-id="44c29-1341">Prestanda finns överväganden även i kapitlet ”säkerhet och prestanda överväganden för databasen datakataloger” i guider för SAP-installationen.</span><span class="sxs-lookup"><span data-stu-id="44c29-1341">For performance considerations also refer to chapter “Data Safety and Performance Considerations for Database Directories” in SAP installation guides.</span></span>

<span data-ttu-id="44c29-1342">Du kan också använda LVM (logisk volymhanterare) eller MDADM som beskrivs i kapitlet [programvara RAID] [ dbms-guide-2.2] av det här dokumentet för att skapa en logisk enhet för stora över flera diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1342">Alternatively, you can use LVM (Logical Volume Manager) or MDADM as described in chapter [Software RAID][dbms-guide-2.2] of this document to create one large logical device over multiple disks.</span></span>
<span data-ttu-id="44c29-1343">För diskarna med DB2 lagringssökvägar för dina sapdata och saptmp kataloger, måste du ange en fysisk disk sektorstorlek på 512 KB.</span><span class="sxs-lookup"><span data-stu-id="44c29-1343">For the disks containing the DB2 storage paths for your sapdata and saptmp directories, you must specify a physical disk sector size of 512 KB.</span></span>

#### <a name="backuprestore"></a><span data-ttu-id="44c29-1344">Säkerhetskopiera/återställa</span><span class="sxs-lookup"><span data-stu-id="44c29-1344">Backup/Restore</span></span>
<span data-ttu-id="44c29-1345">Funktionen säkerhetskopiering/återställning för IBM DB2 för LUW stöds på samma sätt som standard Linux installation på plats.</span><span class="sxs-lookup"><span data-stu-id="44c29-1345">The backup/restore functionality for IBM DB2 for LUW is supported in the same way as on standard Linux installation on-premises.</span></span>

<span data-ttu-id="44c29-1346">Du måste se till att du har en giltig databas strategi för säkerhetskopiering på plats.</span><span class="sxs-lookup"><span data-stu-id="44c29-1346">You must make sure that you have a valid database backup strategy in place.</span></span>

<span data-ttu-id="44c29-1347">Säkerhetskopiering/återställning prestanda beror på hur många volymer kan läsas parallellt och vilka genomflödet av dessa volymer kan vara som bare metal-distributioner.</span><span class="sxs-lookup"><span data-stu-id="44c29-1347">As in bare-metal deployments, backup/restore performance depends on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="44c29-1348">CPU-förbrukning som används av säkerhetskopieringskomprimering kan dessutom spela en viktig roll på virtuella datorer med bara upp till åtta CPU-trådar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1348">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to eight CPU threads.</span></span> <span data-ttu-id="44c29-1349">Därför kan anta en:</span><span class="sxs-lookup"><span data-stu-id="44c29-1349">Therefore, one can assume:</span></span>

* <span data-ttu-id="44c29-1350">Det färre antalet diskar som används för att lagra databasen-enheter mindre totala genomflödet i läsning</span><span class="sxs-lookup"><span data-stu-id="44c29-1350">The fewer the number of disks used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="44c29-1351">Mindre antal CPU trådar i den virtuella datorn på allvarligare effekten av säkerhetskopieringskomprimering</span><span class="sxs-lookup"><span data-stu-id="44c29-1351">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="44c29-1352">Färre mål (Stripe-kataloger, diskar) att skriva säkerhetskopian till nedre genomflödet</span><span class="sxs-lookup"><span data-stu-id="44c29-1352">The fewer targets (Stripe Directories, disks) to write the backup to, the lower the throughput</span></span>

<span data-ttu-id="44c29-1353">Om du vill öka antalet mål att skriva till att två alternativ använda kombinerad beroende på dina behov:</span><span class="sxs-lookup"><span data-stu-id="44c29-1353">To increase the number of targets to write to, two options can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="44c29-1354">Striping säkerhetskopiering målvolymen över flera diskar för att kunna förbättra IOPS genomströmning på stripe volymen</span><span class="sxs-lookup"><span data-stu-id="44c29-1354">Striping the backup target volume over multiple disks in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="44c29-1355">Med mer än en målkatalogen för att skriva säkerhetskopiering till</span><span class="sxs-lookup"><span data-stu-id="44c29-1355">Using more than one target directory to write the backup to</span></span>

#### <a name="high-availability-and-disaster-recovery"></a><span data-ttu-id="44c29-1356">Hög tillgänglighet och katastrofåterställning</span><span class="sxs-lookup"><span data-stu-id="44c29-1356">High Availability and Disaster Recovery</span></span>
<span data-ttu-id="44c29-1357">DB2 katastrofåterställning för hög tillgänglighet (HADR) stöds.</span><span class="sxs-lookup"><span data-stu-id="44c29-1357">DB2 high availability disaster recovery (HADR) is supported.</span></span> <span data-ttu-id="44c29-1358">Om de virtuella datorerna med hög tillgänglighet konfigurationen har fungerar namnmatchning, skilja inte inställningarna i Azure från alla inställningar som görs lokalt.</span><span class="sxs-lookup"><span data-stu-id="44c29-1358">If the virtual machines of the HA configuration have working name resolution, the setup in Azure does not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="44c29-1359">Det rekommenderas inte kan förlita sig på endast IP-lösning.</span><span class="sxs-lookup"><span data-stu-id="44c29-1359">It is not recommended to rely on IP resolution only.</span></span>

<span data-ttu-id="44c29-1360">Använd inte Geo-replikering för lagringskonton som lagrar databasen diskar.</span><span class="sxs-lookup"><span data-stu-id="44c29-1360">Do not use Geo-Replication for the storage accounts that store the database disks.</span></span> <span data-ttu-id="44c29-1361">Mer information finns i kapitlet [Microsoft Azure Storage] [ dbms-guide-2.3] och kapitel [hög tillgänglighet och katastrofåterställning med virtuella Azure-datorer][dbms-guide-3].</span><span class="sxs-lookup"><span data-stu-id="44c29-1361">For more information, refer to chapter [Microsoft Azure Storage][dbms-guide-2.3] and chapter [High Availability and Disaster Recovery with Azure VMs][dbms-guide-3].</span></span>

#### <a name="other"></a><span data-ttu-id="44c29-1362">Annat</span><span class="sxs-lookup"><span data-stu-id="44c29-1362">Other</span></span>
<span data-ttu-id="44c29-1363">Andra allmänna avsnitt som Azure-Tillgänglighetsuppsättningar eller SAP övervakning tillämpas enligt beskrivningen i de tre första kapitlen i det här dokumentet för distributioner av virtuella datorer med IBM DB2 för LUW samt.</span><span class="sxs-lookup"><span data-stu-id="44c29-1363">All other general topics like Azure Availability Sets or SAP monitoring apply as described in the first three chapters of this document for deployments of VMs with IBM DB2 for LUW as well.</span></span>

<span data-ttu-id="44c29-1364">Även gå till kapitel [allmänna SQL Server för SAP på Azure sammanfattning][dbms-guide-5.8].</span><span class="sxs-lookup"><span data-stu-id="44c29-1364">Also refer to chapter [General SQL Server for SAP on Azure Summary][dbms-guide-5.8].</span></span>

