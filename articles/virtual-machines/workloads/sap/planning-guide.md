---
title: "aaaAzure virtuella datorer planering och implementering för SAP NetWeaver | Microsoft Docs"
description: "Azure virtuella datorer planering och implementering för SAP NetWeaver"
services: virtual-machines-linux,virtual-machines-windows
documentationcenter: 
author: MSSedusch
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: d7c59cc1-b2d0-4d90-9126-628f9c7a5538
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 11/08/2016
ms.author: sedusch
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 0d1e9fa13d847e4d8abb3c34fd352d1f4ece3717
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-virtual-machines-planning-and-implementation-for-sap-netweaver"></a><span data-ttu-id="f78bd-103">Azure virtuella datorer planering och implementering för SAP NetWeaver</span><span class="sxs-lookup"><span data-stu-id="f78bd-103">Azure Virtual Machines planning and implementation for SAP NetWeaver</span></span>
[767598]:https://launchpad.support.sap.com/#/notes/767598
[773830]:https://launchpad.support.sap.com/#/notes/773830
[826037]:https://launchpad.support.sap.com/#/notes/826037
[965908]:https://launchpad.support.sap.com/#/notes/965908
[1031096]:https://launchpad.support.sap.com/#/notes/1031096
[1139904]:https://launchpad.support.sap.com/#/notes/1139904
[1173395]:https://launchpad.support.sap.com/#/notes/1173395
[1245200]:https://launchpad.support.sap.com/#/notes/1245200
[1409604]:https://launchpad.support.sap.com/#/notes/1409604
[1558958]:https://launchpad.support.sap.com/#/notes/1558958
[1585981]:https://launchpad.support.sap.com/#/notes/1585981
[1588316]:https://launchpad.support.sap.com/#/notes/1588316
[1590719]:https://launchpad.support.sap.com/#/notes/1590719
[1597355]:https://launchpad.support.sap.com/#/notes/1597355
[1605680]:https://launchpad.support.sap.com/#/notes/1605680
[1619720]:https://launchpad.support.sap.com/#/notes/1619720
[1619726]:https://launchpad.support.sap.com/#/notes/1619726
[1619967]:https://launchpad.support.sap.com/#/notes/1619967
[1750510]:https://launchpad.support.sap.com/#/notes/1750510
[1752266]:https://launchpad.support.sap.com/#/notes/1752266
[1757924]:https://launchpad.support.sap.com/#/notes/1757924
[1757928]:https://launchpad.support.sap.com/#/notes/1757928
[1758182]:https://launchpad.support.sap.com/#/notes/1758182
[1758496]:https://launchpad.support.sap.com/#/notes/1758496
[1772688]:https://launchpad.support.sap.com/#/notes/1772688
[1814258]:https://launchpad.support.sap.com/#/notes/1814258
[1882376]:https://launchpad.support.sap.com/#/notes/1882376
[1909114]:https://launchpad.support.sap.com/#/notes/1909114
[1922555]:https://launchpad.support.sap.com/#/notes/1922555
[1928533]:https://launchpad.support.sap.com/#/notes/1928533
[1941500]:https://launchpad.support.sap.com/#/notes/1941500
[1956005]:https://launchpad.support.sap.com/#/notes/1956005
[1973241]:https://launchpad.support.sap.com/#/notes/1973241
[1984787]:https://launchpad.support.sap.com/#/notes/1984787
[1999351]:https://launchpad.support.sap.com/#/notes/1999351
[2002167]:https://launchpad.support.sap.com/#/notes/2002167
[2015553]:https://launchpad.support.sap.com/#/notes/2015553
[2039619]:https://launchpad.support.sap.com/#/notes/2039619
[2069760]:https://launchpad.support.sap.com/#/notes/2069760
[2121797]:https://launchpad.support.sap.com/#/notes/2121797
[2134316]:https://launchpad.support.sap.com/#/notes/2134316
[2178632]:https://launchpad.support.sap.com/#/notes/2178632
[2191498]:https://launchpad.support.sap.com/#/notes/2191498
[2233094]:https://launchpad.support.sap.com/#/notes/2233094
[2243692]:https://launchpad.support.sap.com/#/notes/2243692

[azure-cli]:../../../cli-install-nodejs.md
[azure-portal]:https://portal.azure.com
[azure-ps]:/powershell/azureps-cmdlets-docs
[azure-quickstart-templates-github]:https://github.com/Azure/azure-quickstart-templates
[azure-script-ps]:https://go.microsoft.com/fwlink/p/?LinkID=395017
[azure-subscription-service-limits]:../../../azure-subscription-service-limits.md
[azure-subscription-service-limits-subscription]:../../../azure-subscription-service-limits.md#subscription-limits

[dbms-guide]:dbms-guide.md
[dbms-guide-2.1]:dbms-guide.md#c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f
[dbms-guide-2.2]:dbms-guide.md#c8e566f9-21b7-4457-9f7f-126036971a91
[dbms-guide-2.3]:dbms-guide.md#10b041ef-c177-498a-93ed-44b3441ab152
[dbms-guide-2]:dbms-guide.md#65fa79d6-a85f-47ee-890b-22e794f51a64
[dbms-guide-3]:dbms-guide.md#871dfc27-e509-4222-9370-ab1de77021c3
[dbms-guide-5.5.1]:dbms-guide.md#0fef0e79-d3fe-4ae2-85af-73666a6f7268
[dbms-guide-5.5.2]:dbms-guide.md#f9071eff-9d72-4f47-9da4-1852d782087b
[dbms-guide-5.6]:dbms-guide.md#1b353e38-21b3-4310-aeb6-a77e7c8e81c8
[dbms-guide-5.8]:dbms-guide.md#9053f720-6f3b-4483-904d-15dc54141e30
[dbms-guide-5]:dbms-guide.md#3264829e-075e-4d25-966e-a49dad878737
[dbms-guide-8.4.1]:dbms-guide.md#b48cfe3b-48e9-4f5b-a783-1d29155bd573
[dbms-guide-8.4.2]:dbms-guide.md#23c78d3b-ca5a-4e72-8a24-645d141a3f5d
[dbms-guide-8.4.3]:dbms-guide.md#77cd2fbb-307e-4cbf-a65f-745553f72d2c
[dbms-guide-8.4.4]:dbms-guide.md#f77c1436-9ad8-44fb-a331-8671342de818
[dbms-guide-900-sap-cache-server-on-premises]:dbms-guide.md#642f746c-e4d4-489d-bf63-73e80177a0a8

[dbms-guide-figure-100]:media/virtual-machines-shared-sap-dbms-guide/100_storage_account_types.png
[dbms-guide-figure-200]:media/virtual-machines-shared-sap-dbms-guide/200-ha-set-for-dbms-ha.png
[dbms-guide-figure-300]:media/virtual-machines-shared-sap-dbms-guide/300-reference-config-iaas.png
[dbms-guide-figure-400]:media/virtual-machines-shared-sap-dbms-guide/400-sql-2012-backup-to-blob-storage.png
[dbms-guide-figure-500]:media/virtual-machines-shared-sap-dbms-guide/500-sql-2012-backup-to-blob-storage-different-containers.png
[dbms-guide-figure-600]:media/virtual-machines-shared-sap-dbms-guide/600-iaas-maxdb.png
[dbms-guide-figure-700]:media/virtual-machines-shared-sap-dbms-guide/700-livecach-prod.png
[dbms-guide-figure-800]:media/virtual-machines-shared-sap-dbms-guide/800-azure-vm-sap-content-server.png
[dbms-guide-figure-900]:media/virtual-machines-shared-sap-dbms-guide/900-sap-cache-server-on-premises.png

[deployment-guide]:deployment-guide.md
[deployment-guide-2.2]:deployment-guide.md#42ee2bdb-1efc-4ec7-ab31-fe4c22769b94
[deployment-guide-3.1.2]:deployment-guide.md#3688666f-281f-425b-a312-a77e7db2dfab
[deployment-guide-3.2]:deployment-guide.md#db477013-9060-4602-9ad4-b0316f8bb281
[deployment-guide-3.3]:deployment-guide.md#54a1fc6d-24fd-4feb-9c57-ac588a55dff2
[deployment-guide-3.4]:deployment-guide.md#a9a60133-a763-4de8-8986-ac0fa33aa8c1
[deployment-guide-3]:deployment-guide.md#b3253ee3-d63b-4d74-a49b-185e76c4088e
[deployment-guide-4.1]:deployment-guide.md#604bcec2-8b6e-48d2-a944-61b0f5dee2f7
[deployment-guide-4.2]:deployment-guide.md#7ccf6c3e-97ae-4a7a-9c75-e82c37beb18e
[deployment-guide-4.3]:deployment-guide.md#31d9ecd6-b136-4c73-b61e-da4a29bbc9cc
[deployment-guide-4.4.2]:deployment-guide.md#6889ff12-eaaf-4f3c-97e1-7c9edc7f7542
[deployment-guide-4.4]:deployment-guide.md#c7cbb0dc-52a4-49db-8e03-83e7edc2927d
[deployment-guide-4.5.1]:deployment-guide.md#987cf279-d713-4b4c-8143-6b11589bb9d4
[deployment-guide-4.5.2]:deployment-guide.md#408f3779-f422-4413-82f8-c57a23b4fc2f
[deployment-guide-4.5]:deployment-guide.md#d98edcd3-f2a1-49f7-b26a-07448ceb60ca
[deployment-guide-5.1]:deployment-guide.md#bb61ce92-8c5c-461f-8c53-39f5e5ed91f2
[deployment-guide-5.2]:deployment-guide.md#e2d592ff-b4ea-4a53-a91a-e5521edb6cd1
[deployment-guide-5.3]:deployment-guide.md#fe25a7da-4e4e-4388-8907-8abc2d33cfd8

[deployment-guide-configure-monitoring-scenario-1]:deployment-guide.md#ec323ac3-1de9-4c3a-b770-4ff701def65b
[deployment-guide-configure-proxy]:deployment-guide.md#baccae00-6f79-4307-ade4-40292ce4e02d
[deployment-guide-figure-100]:media/virtual-machines-shared-sap-deployment-guide/100-deploy-vm-image.png
[deployment-guide-figure-1000]:media/virtual-machines-shared-sap-deployment-guide/1000-service-properties.png
[deployment-guide-figure-11]:deployment-guide.md#figure-11
[deployment-guide-figure-1100]:media/virtual-machines-shared-sap-deployment-guide/1100-azperflib.png
[deployment-guide-figure-1200]:media/virtual-machines-shared-sap-deployment-guide/1200-cmd-test-login.png
[deployment-guide-figure-1300]:media/virtual-machines-shared-sap-deployment-guide/1300-cmd-test-executed.png
[deployment-guide-figure-14]:deployment-guide.md#figure-14
[deployment-guide-figure-1400]:media/virtual-machines-shared-sap-deployment-guide/1400-azperflib-error-servicenotstarted.png
[deployment-guide-figure-300]:media/virtual-machines-shared-sap-deployment-guide/300-deploy-private-image.png
[deployment-guide-figure-400]:media/virtual-machines-shared-sap-deployment-guide/400-deploy-using-disk.png
[deployment-guide-figure-5]:deployment-guide.md#figure-5
[deployment-guide-figure-50]:media/virtual-machines-shared-sap-deployment-guide/50-forced-tunneling-suse.png
[deployment-guide-figure-500]:media/virtual-machines-shared-sap-deployment-guide/500-install-powershell.png
[deployment-guide-figure-6]:deployment-guide.md#figure-6
[deployment-guide-figure-600]:media/virtual-machines-shared-sap-deployment-guide/600-powershell-version.png
[deployment-guide-figure-7]:deployment-guide.md#figure-7
[deployment-guide-figure-700]:media/virtual-machines-shared-sap-deployment-guide/700-install-powershell-installed.png
[deployment-guide-figure-760]:media/virtual-machines-shared-sap-deployment-guide/760-azure-cli-version.png
[deployment-guide-figure-900]:media/virtual-machines-shared-sap-deployment-guide/900-cmd-update-executed.png
[deployment-guide-figure-azure-cli-installed]:deployment-guide.md#402488e5-f9bb-4b29-8063-1c5f52a892d0
[deployment-guide-figure-azure-cli-version]:deployment-guide.md#0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda
[deployment-guide-install-vm-agent-windows]:deployment-guide.md#b2db5c9a-a076-42c6-9835-16945868e866
[deployment-guide-troubleshooting-chapter]:deployment-guide.md#564adb4f-5c95-4041-9616-6635e83a810b

[deploy-template-cli]:../../../resource-group-template-deploy-cli.md
[deploy-template-portal]:../../../resource-group-template-deploy-portal.md
[deploy-template-powershell]:../../../resource-group-template-deploy.md

[dr-guide-classic]:http://go.microsoft.com/fwlink/?LinkID=521971

[getting-started]:get-started.md
[getting-started-dbms]:get-started.md#1343ffe1-8021-4ce6-a08d-3a1553a4db82
[getting-started-deployment]:get-started.md#6aadadd2-76b5-46d8-8713-e8d63630e955
[getting-started-planning]:get-started.md#3da0389e-708b-4e82-b2a2-e92f132df89c

[getting-started-windows-classic]:../../virtual-machines-windows-classic-sap-get-started.md
[getting-started-windows-classic-dbms]:../../virtual-machines-windows-classic-sap-get-started.md#c5b77a14-f6b4-44e9-acab-4d28ff72a930
[getting-started-windows-classic-deployment]:../../virtual-machines-windows-classic-sap-get-started.md#f84ea6ce-bbb4-41f7-9965-34d31b0098ea
[getting-started-windows-classic-dr]:../../virtual-machines-windows-classic-sap-get-started.md#cff10b4a-01a5-4dc3-94b6-afb8e55757d3
[getting-started-windows-classic-ha-sios]:../../virtual-machines-windows-classic-sap-get-started.md#4bb7512c-0fa0-4227-9853-4004281b1037
[getting-started-windows-classic-planning]:../../virtual-machines-windows-classic-sap-get-started.md#f2a5e9d8-49e4-419e-9900-af783173481c

[ha-guide-classic]:http://go.microsoft.com/fwlink/?LinkId=613056

[install-extension-cli]:virtual-machines-linux-enable-aem.md

[Logo_Linux]:media/virtual-machines-shared-sap-shared/Linux.png
[Logo_Windows]:media/virtual-machines-shared-sap-shared/Windows.png

[msdn-set-azurermvmaemextension]:https://msdn.microsoft.com/library/azure/mt670598.aspx

[planning-guide]:planning-guide.md  
[planning-guide-1.2]:planning-guide.md#e55d1e22-c2c8-460b-9897-64622a34fdff
[planning-guide-11]:planning-guide.md#7cf991a1-badd-40a9-944e-7baae842a058
[planning-guide-11.4.1]:planning-guide.md#5d9d36f9-9058-435d-8367-5ad05f00de77
[planning-guide-11.5]:planning-guide.md#4e165b58-74ca-474f-a7f4-5e695a93204f
[planning-guide-2.1]:planning-guide.md#1625df66-4cc6-4d60-9202-de8a0b77f803
[planning-guide-2.2]:planning-guide.md#f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10
[planning-guide-3.1]:planning-guide.md#be80d1b9-a463-4845-bd35-f4cebdb5424a
[planning-guide-3.2.1]:planning-guide.md#df49dc09-141b-4f34-a4a2-990913b30358
[planning-guide-3.2.2]:planning-guide.md#fc1ac8b2-e54a-487c-8581-d3cc6625e560
[planning-guide-3.2.3]:planning-guide.md#18810088-f9be-4c97-958a-27996255c665
[planning-guide-3.2]:planning-guide.md#8d8ad4b8-6093-4b91-ac36-ea56d80dbf77
[planning-guide-3.3.2]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92
[planning-guide-5.1.1]:planning-guide.md#4d175f1b-7353-4137-9d2f-817683c26e53
[planning-guide-5.1.2]:planning-guide.md#e18f7839-c0e2-4385-b1e6-4538453a285c
[planning-guide-5.2.1]:planning-guide.md#1b287330-944b-495d-9ea7-94b83aff73ef
[planning-guide-5.2.2]:planning-guide.md#57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3
[planning-guide-5.2]:planning-guide.md#6ffb9f41-a292-40bf-9e70-8204448559e7
[planning-guide-5.3.1]:planning-guide.md#6e835de8-40b1-4b71-9f18-d45b20959b79
[planning-guide-5.3.2]:planning-guide.md#a43e40e6-1acc-4633-9816-8f095d5a7b6a
[planning-guide-5.4.2]:planning-guide.md#9789b076-2011-4afa-b2fe-b07a8aba58a1
[planning-guide-5.5.1]:planning-guide.md#4efec401-91e0-40c0-8e64-f2dceadff646
[planning-guide-5.5.3]:planning-guide.md#17e0d543-7e8c-4160-a7da-dd7117a1ad9d
[planning-guide-7.1]:planning-guide.md#3e9c3690-da67-421a-bc3f-12c520d99a30
[planning-guide-7]:planning-guide.md#96a77628-a05e-475d-9df3-fb82217e8f14
[planning-guide-9.1]:planning-guide.md#6f0a47f3-a289-4090-a053-2521618a28c3
[planning-guide-azure-premium-storage]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92

[planning-guide-figure-100]:media/virtual-machines-shared-sap-planning-guide/100-single-vm-in-azure.png
[planning-guide-figure-1300]:media/virtual-machines-shared-sap-planning-guide/1300-ref-config-iaas-for-sap.png
[planning-guide-figure-1400]:media/virtual-machines-shared-sap-planning-guide/1400-attach-detach-disks.png
[planning-guide-figure-1600]:media/virtual-machines-shared-sap-planning-guide/1600-firewall-port-rule.png
[planning-guide-figure-1700]:media/virtual-machines-shared-sap-planning-guide/1700-single-vm-demo.png
[planning-guide-figure-1900]:media/virtual-machines-shared-sap-planning-guide/1900-vm-set-vnet.png
[planning-guide-figure-200]:media/virtual-machines-shared-sap-planning-guide/200-multiple-vms-in-azure.png
[planning-guide-figure-2100]:media/virtual-machines-shared-sap-planning-guide/2100-s2s.png
[planning-guide-figure-2200]:media/virtual-machines-shared-sap-planning-guide/2200-network-printing.png
[planning-guide-figure-2300]:media/virtual-machines-shared-sap-planning-guide/2300-sapgui-stms.png
[planning-guide-figure-2400]:media/virtual-machines-shared-sap-planning-guide/2400-vm-extension-overview.png
[planning-guide-figure-2500]:media/virtual-machines-shared-sap-planning-guide/planning-monitoring-overview-2502.png
[planning-guide-figure-2600]:media/virtual-machines-shared-sap-planning-guide/2600-sap-router-connection.png
[planning-guide-figure-2700]:media/virtual-machines-shared-sap-planning-guide/2700-exposed-sap-portal.png
[planning-guide-figure-2800]:media/virtual-machines-shared-sap-planning-guide/2800-endpoint-config.png
[planning-guide-figure-2900]:media/virtual-machines-shared-sap-planning-guide/2900-azure-ha-sap-ha.png
[planning-guide-figure-2901]:media/virtual-machines-shared-sap-planning-guide/2901-azure-ha-sap-ha-md.png
[planning-guide-figure-300]:media/virtual-machines-shared-sap-planning-guide/300-vpn-s2s.png
[planning-guide-figure-3000]:media/virtual-machines-shared-sap-planning-guide/3000-sap-ha-on-azure.png
[planning-guide-figure-3200]:media/virtual-machines-shared-sap-planning-guide/3200-sap-ha-with-sql.png
[planning-guide-figure-3201]:media/virtual-machines-shared-sap-planning-guide/3201-sap-ha-with-sql-md.png
[planning-guide-figure-400]:media/virtual-machines-shared-sap-planning-guide/400-vm-services.png
[planning-guide-figure-600]:media/virtual-machines-shared-sap-planning-guide/600-s2s-details.png
[planning-guide-figure-700]:media/virtual-machines-shared-sap-planning-guide/700-decision-tree-deploy-to-azure.png
[planning-guide-figure-800]:media/virtual-machines-shared-sap-planning-guide/800-portal-vm-overview.png
[planning-guide-microsoft-azure-networking]:planning-guide.md#61678387-8868-435d-9f8c-450b2424f5bd
[planning-guide-storage-microsoft-azure-storage-and-data-disks]:planning-guide.md#a72afa26-4bf4-4a25-8cf7-855d6032157f

[powershell-install-configure]:https://docs.microsoft.com/powershell/azure/install-azurerm-ps
[resource-group-authoring-templates]:../../../resource-group-authoring-templates.md
[resource-group-overview]:../../../azure-resource-manager/resource-group-overview.md
[resource-groups-networking]:../../../virtual-network/resource-groups-networking.md
[sap-pam]:https://support.sap.com/pam
[sap-templates-2-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-2-tier-os-disk]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-disk%2Fazuredeploy.json
[sap-templates-2-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-image%2Fazuredeploy.json
[sap-templates-3-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-3-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-user-image%2Fazuredeploy.json
[storage-azure-cli]:../../../storage/common/storage-azure-cli.md
[storage-azure-cli-copy-blobs]:../../../storage/common/storage-azure-cli.md#copy-blobs
[storage-introduction]:../../../storage/common/storage-introduction.md
[storage-powershell-guide-full-copy-vhd]:../../../storage/common/storage-powershell-guide-full.md#how-to-copy-blobs-from-one-storage-container-to-another
[storage-premium-storage-preview-portal]:../../../storage/common/storage-premium-storage.md
[storage-redundancy]:../../../storage/common/storage-redundancy.md
[storage-scalability-targets]:../../../storage/common/storage-scalability-targets.md
[storage-use-azcopy]:../../../storage/common/storage-use-azcopy.md
[template-201-vm-from-specialized-vhd]:https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-from-specialized-vhd
[templates-101-simple-windows-vm]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-simple-windows-vm
[templates-101-vm-from-user-image]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image
[virtual-machines-linux-attach-disk-portal]:../../linux/attach-disk-portal.md
[virtual-machines-azure-resource-manager-architecture]:../../../resource-manager-deployment-model.md
[virtual-machines-azurerm-versus-azuresm]:virtual-machines-linux-compare-deployment-models.md
[virtual-machines-windows-classic-configure-oracle-data-guard]:../../virtual-machines-windows-classic-configure-oracle-data-guard.md
[virtual-machines-linux-cli-deploy-templates]:../../linux/cli-deploy-templates.md
[virtual-machines-deploy-rmtemplates-powershell]:../../virtual-machines-windows-ps-manage.md
[virtual-machines-linux-agent-user-guide]:../../linux/agent-user-guide.md
[virtual-machines-linux-agent-user-guide-command-line-options]:../../linux/agent-user-guide.md#command-line-options
[virtual-machines-linux-capture-image]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager-capture]:../../linux/capture-image.md#step-2-capture-the-vm
[virtual-machines-windows-capture-image-resource-manager]:../../windows/capture-image.md
[virtual-machines-windows-capture-image]:../../virtual-machines-windows-generalize-vhd.md
[virtual-machines-windows-capture-image-prepare-the-vm-for-image-capture]:../../virtual-machines-windows-generalize-vhd.md
[virtual-machines-linux-configure-raid]:../../linux/configure-raid.md
[virtual-machines-linux-configure-lvm]:../../linux/configure-lvm.md
[virtual-machines-linux-classic-create-upload-vhd-step-1]:../../virtual-machines-linux-classic-create-upload-vhd.md#step-1-prepare-the-image-to-be-uploaded
[virtual-machines-linux-create-upload-vhd-suse]:../../linux/suse-create-upload-vhd.md
[virtual-machines-linux-create-upload-vhd-oracle]:../../linux/oracle-create-upload-vhd.md
[virtual-machines-linux-redhat-create-upload-vhd]:../../linux/redhat-create-upload-vhd.md
[virtual-machines-linux-how-to-attach-disk]:../../linux/add-disk.md
[virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]:../../linux/add-disk.md#connect-to-the-linux-vm-to-mount-the-new-disk
[virtual-machines-linux-tutorial]:../../linux/quick-create-cli.md
[virtual-machines-linux-update-agent]:../../linux/update-agent.md
[virtual-machines-manage-availability]:../../linux/manage-availability.md
[virtual-machines-ps-create-preconfigure-windows-resource-manager-vms]:virtual-machines-windows-create-powershell.md
[virtual-machines-sizes-linux]:../../linux/sizes.md
[virtual-machines-sizes-windows]:../../windows/sizes.md
[virtual-machines-windows-classic-ps-sql-alwayson-availability-groups]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-alwayson-availability-groups.md
[virtual-machines-windows-classic-ps-sql-int-listener]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-int-listener.md
[virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions]:./../../windows/sql/virtual-machines-windows-sql-high-availability-dr.md
[virtual-machines-sql-server-infrastructure-services]:./../../windows/sql/virtual-machines-windows-sql-server-iaas-overview.md
[virtual-machines-sql-server-performance-best-practices]:./../../windows/sql/virtual-machines-windows-sql-performance.md
[virtual-machines-upload-image-windows-resource-manager]:../../virtual-machines-windows-upload-image.md
[virtual-machines-windows-tutorial]:../../virtual-machines-windows-hero-tutorial.md
[virtual-machines-workload-template-sql-alwayson]:https://azure.microsoft.com/documentation/templates/sql-server-2014-alwayson-dsc/
[virtual-network-deploy-multinic-arm-cli]:../../../virtual-network/virtual-network-deploy-multinic-arm-cli.md
[virtual-network-deploy-multinic-arm-ps]:../../../virtual-network/virtual-network-deploy-multinic-arm-ps.md
[virtual-network-deploy-multinic-arm-template]:../../../virtual-network/virtual-network-deploy-multinic-arm-template.md
[virtual-networks-configure-vnet-to-vnet-connection]:../../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md
[virtual-networks-create-vnet-arm-pportal]:../../../virtual-network/virtual-networks-create-vnet-arm-pportal.md
[virtual-networks-manage-dns-in-vnet]:../../../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md
[virtual-networks-multiple-nics-windows]:../../windows/multiple-nics.md
[virtual-networks-multiple-nics-linux]:../../linux/multiple-nics.md
[virtual-networks-nsg]:../../../virtual-network/virtual-networks-nsg.md
[virtual-networks-reserved-private-ip]:../../../virtual-network/virtual-networks-static-private-ip-arm-ps.md
[virtual-networks-static-private-ip-arm-pportal]:../../../virtual-network/virtual-networks-static-private-ip-arm-pportal.md
[virtual-networks-udr-overview]:../../../virtual-network/virtual-networks-udr-overview.md
[vpn-gateway-about-vpn-devices]:../../../vpn-gateway/vpn-gateway-about-vpn-devices.md
[vpn-gateway-create-site-to-site-rm-powershell]:../../../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md
[vpn-gateway-cross-premises-options]:../../../vpn-gateway/vpn-gateway-plan-design.md
[vpn-gateway-site-to-site-create]:../../../vpn-gateway/vpn-gateway-site-to-site-create.md
[vpn-gateway-vpn-faq]:../../../vpn-gateway/vpn-gateway-vpn-faq.md
[xplat-cli]:../../../cli-install-nodejs.md
[xplat-cli-azure-resource-manager]:../../../xplat-cli-azure-resource-manager.md
[capture-image-linux-step-2-create-vm-image]:../../linux/capture-image.md#step-2-create-vm-image

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

<span data-ttu-id="f78bd-117">Microsoft Azure kan företag tooacquire beräkning och lagring resurser i minimal tid utan långa inköp cykler.</span><span class="sxs-lookup"><span data-stu-id="f78bd-117">Microsoft Azure enables companies tooacquire compute and storage resources in minimal time without lengthy procurement cycles.</span></span> <span data-ttu-id="f78bd-118">Virtuella Azure-datorer utöka sina tillförlitlighet och tillgänglighet utan att behöva ytterligare resurser tillgängliga lokalt kan företag toodeploy klassisk program, som SAP NetWeaver baserat program i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-118">Azure Virtual Machines allow companies toodeploy classical applications, like SAP NetWeaver based applications into Azure and extend their reliability and availability without having further resources available on-premises.</span></span> <span data-ttu-id="f78bd-119">Azure Virtual Machine-tjänster stöder också korsanslutningar, vilket möjliggör företag tooactively integrera Azure virtuella datorer i sina lokala domäner sina privata moln och deras liggande för SAP-System.</span><span class="sxs-lookup"><span data-stu-id="f78bd-119">Azure Virtual Machine Services also supports cross-premises connectivity, which enables companies tooactively integrate Azure Virtual Machines into their on-premises domains, their Private Clouds and their SAP System Landscape.</span></span>
<span data-ttu-id="f78bd-120">I det här dokumentet beskriver hello grunderna i Microsoft Azure-dator och ger en beskrivning av överväganden för planering och implementering för SAP NetWeaver installationer i Azure och som sådana ska vara hello dokumentet tooread innan du startar faktiska distributioner av SAP NetWeaver på Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-120">This white paper describes hello fundamentals of Microsoft Azure Virtual Machine and provides a walk-through of planning and implementation considerations for SAP NetWeaver installations in Azure and as such should be hello document tooread before starting actual deployments of SAP NetWeaver on Azure.</span></span>
<span data-ttu-id="f78bd-121">hello papper kompletterar hello SAP dokumentationen och SAP anteckningar, som representerar hello primära resurser för installation och distribution av program på anges plattformar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-121">hello paper complements hello SAP Installation Documentation and SAP Notes, which represent hello primary resources for installations and deployments of SAP software on given platforms.</span></span>

## <a name="summary"></a><span data-ttu-id="f78bd-122">Sammanfattning</span><span class="sxs-lookup"><span data-stu-id="f78bd-122">Summary</span></span>
<span data-ttu-id="f78bd-123">Molntjänster är en term som används mycket som har blivit mer och mer betydelse inom hello IT-branschen, från små företag upp toolarge och multinationella företag.</span><span class="sxs-lookup"><span data-stu-id="f78bd-123">Cloud Computing is a widely used term, which is gaining more and more importance within hello IT industry, from small companies up toolarge and multinational corporations.</span></span>

<span data-ttu-id="f78bd-124">Microsoft Azure är hello Molnplattform tjänster från Microsoft, vilket ger ett brett spektrum av nya möjligheter.</span><span class="sxs-lookup"><span data-stu-id="f78bd-124">Microsoft Azure is hello Cloud Services Platform from Microsoft, which offers a wide spectrum of new possibilities.</span></span> <span data-ttu-id="f78bd-125">Nu är kunder kan toorapidly etablera och avinstallation etablera program som en tjänst i molnet hello, så att de inte är begränsad tootechnical eller budgetering begränsningar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-125">Now customers are able toorapidly provision and de-provision applications as a service in hello cloud, so they are not limited tootechnical or budgeting restrictions.</span></span> <span data-ttu-id="f78bd-126">I stället för investera tid och budget i infrastrukturen för maskinvara, kan företag fokuserar på hello program, processer och dess fördelar för kunder och användare.</span><span class="sxs-lookup"><span data-stu-id="f78bd-126">Instead of investing time and budget into hardware infrastructure, companies can focus on hello application, business processes, and its benefits for customers and users.</span></span>

<span data-ttu-id="f78bd-127">Med Microsoft Azure Virtual Machine-tjänsterna, erbjuder Microsoft en omfattande plattform för infrastruktur som en tjänst (IaaS).</span><span class="sxs-lookup"><span data-stu-id="f78bd-127">With Microsoft Azure Virtual Machine Services, Microsoft offers a comprehensive Infrastructure as a Service (IaaS) platform.</span></span> <span data-ttu-id="f78bd-128">SAP NetWeaver-baserade program stöds på virtuella Azure-datorer (IaaS).</span><span class="sxs-lookup"><span data-stu-id="f78bd-128">SAP NetWeaver based applications are supported on Azure Virtual Machines (IaaS).</span></span> <span data-ttu-id="f78bd-129">Den här rapporten beskrivs hur tooplan och implementera SAP NetWeaver baserat program i Microsoft Azure som hello plattform för serveroperativsystem.</span><span class="sxs-lookup"><span data-stu-id="f78bd-129">This whitepaper describes how tooplan and implement SAP NetWeaver based applications within Microsoft Azure as hello platform of choice.</span></span>

<span data-ttu-id="f78bd-130">hello papper själva fokuserar på två huvudsakliga aspekter:</span><span class="sxs-lookup"><span data-stu-id="f78bd-130">hello paper itself focuses on two main aspects:</span></span>

* <span data-ttu-id="f78bd-131">hello första delen beskrivs två mönster för distribution som stöds för SAP NetWeaver baserat program på Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-131">hello first part describes two supported deployment patterns for SAP NetWeaver based applications on Azure.</span></span> <span data-ttu-id="f78bd-132">Här beskrivs också Allmänt hantering av Azure med SAP-distribution i åtanke.</span><span class="sxs-lookup"><span data-stu-id="f78bd-132">It also describes general handling of Azure with SAP deployments in mind.</span></span>
* <span data-ttu-id="f78bd-133">hello andra en del information implementera hello två olika scenarier beskrivs i hello första delen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-133">hello second part details implementing hello two different scenarios described in hello first part.</span></span>

<span data-ttu-id="f78bd-134">För ytterligare resurser finns i kapitlet [resurser] [ planning-guide-1.2] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-134">For additional resources see chapter [Resources][planning-guide-1.2] in this document.</span></span>

### <a name="definitions-upfront"></a><span data-ttu-id="f78bd-135">Definitioner förskott</span><span class="sxs-lookup"><span data-stu-id="f78bd-135">Definitions upfront</span></span>
<span data-ttu-id="f78bd-136">I hello dokumentet använder vi hello följande villkor:</span><span class="sxs-lookup"><span data-stu-id="f78bd-136">Throughout hello document, we use hello following terms:</span></span>

* <span data-ttu-id="f78bd-137">IaaS: Infrastruktur som en tjänst</span><span class="sxs-lookup"><span data-stu-id="f78bd-137">IaaS: Infrastructure as a Service</span></span>
* <span data-ttu-id="f78bd-138">PaaS: Plattform som en tjänst</span><span class="sxs-lookup"><span data-stu-id="f78bd-138">PaaS: Platform as a Service</span></span>
* <span data-ttu-id="f78bd-139">SaaS: Programvara som en tjänst</span><span class="sxs-lookup"><span data-stu-id="f78bd-139">SaaS: Software as a Service</span></span>
* <span data-ttu-id="f78bd-140">ARM: Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="f78bd-140">ARM: Azure Resource Manager</span></span>
* <span data-ttu-id="f78bd-141">SAP komponent: ett enskilt SAP program, till exempel ECC BW, lösning Manager eller EP.</span><span class="sxs-lookup"><span data-stu-id="f78bd-141">SAP Component: an individual SAP application such as ECC, BW, Solution Manager, or EP.</span></span>  <span data-ttu-id="f78bd-142">SAP-komponenter kan baseras på traditionell ABAP eller Java-teknik eller icke-NetWeaver baserat program, till exempel Business-objekt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-142">SAP components can be based on traditional ABAP or Java technologies or a non-NetWeaver based application such as Business Objects.</span></span>
* <span data-ttu-id="f78bd-143">SAP-miljö: en eller flera komponenter för SAP logiskt grupperade tooperform funktioner, till exempel utveckling, QAS, träning, DR eller produktion.</span><span class="sxs-lookup"><span data-stu-id="f78bd-143">SAP Environment: one or more SAP components logically grouped tooperform a business function such as Development, QAS, Training, DR, or Production.</span></span>
* <span data-ttu-id="f78bd-144">SAP liggande: Refererar detta toohello hela SAP tillgångar i kundens IT-miljön.</span><span class="sxs-lookup"><span data-stu-id="f78bd-144">SAP Landscape: This refers toohello entire SAP assets in a customer’s IT landscape.</span></span> <span data-ttu-id="f78bd-145">hello SAP liggande innehåller alla produktions- och icke-produktionsmiljöer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-145">hello SAP landscape includes all production and non-production environments.</span></span>
* <span data-ttu-id="f78bd-146">SAP System: hello kombination av DBMS lager- och programnivå av, till exempel en SAP ERP-utvecklingssystemet, SAP BW testsystemet, SAP CRM produktionssystem osv...</span><span class="sxs-lookup"><span data-stu-id="f78bd-146">SAP System: hello combination of DBMS layer and application layer of, for example, an SAP ERP development system, SAP BW test system, SAP CRM production system, etc..</span></span> <span data-ttu-id="f78bd-147">I Azure-distributioner är det inte stöds toodivide dessa två lager mellan lokala och Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-147">In Azure deployments, it is not supported toodivide these two layers between on-premises and Azure.</span></span> <span data-ttu-id="f78bd-148">Detta innebär en SAP-systemet är antingen distribueras lokalt eller den har distribuerats i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-148">This means an SAP system is either deployed on-premises or it is deployed in Azure.</span></span> <span data-ttu-id="f78bd-149">Du kan dock distribuera hello olika system för en SAP liggande i Azure eller lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-149">However, you can deploy hello different systems of an SAP landscape into either Azure or on-premises.</span></span> <span data-ttu-id="f78bd-150">Du kan till exempel distribuera hello SAP CRM-utveckling och testning system i Azure som hello SAP CRM produktion system lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-150">For example, you could deploy hello SAP CRM development and test systems in Azure but hello SAP CRM production system on-premises.</span></span>
* <span data-ttu-id="f78bd-151">Endast molnbaserad distribution: en distribution där hello Azure-prenumeration inte är ansluten via ett plats-till-plats eller ExpressRoute-anslutning toohello lokala nätverksinfrastruktur.</span><span class="sxs-lookup"><span data-stu-id="f78bd-151">Cloud-Only deployment: A deployment where hello Azure subscription is not connected via a site-to-site or ExpressRoute connection toohello on-premises network infrastructure.</span></span> <span data-ttu-id="f78bd-152">Gemensam dokumentation för Azure dessa typer av distributioner beskrivs också som 'endast molnbaserad-distributioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-152">In common Azure documentation these kinds of deployments are also described as ‘Cloud-Only’ deployments.</span></span> <span data-ttu-id="f78bd-153">Virtuella datorer distribueras med den här metoden kan nås via hello internet och en offentlig IP-adress och/eller en offentlig DNS-namnet du tilldelade toohello virtuella datorer i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-153">Virtual Machines deployed with this method are accessed through hello internet and a public IP address and/or a public DNS name assigned toohello VMs in Azure.</span></span> <span data-ttu-id="f78bd-154">För Microsoft Windows hello lokala Active Directory (AD) och DNS är inte utökat tooAzure i dessa typer av distributioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-154">For Microsoft Windows hello on-premises Active Directory (AD) and DNS is not extended tooAzure in these types of deployments.</span></span> <span data-ttu-id="f78bd-155">Därför är hello virtuella datorer inte en del av hello lokala Active Directory.</span><span class="sxs-lookup"><span data-stu-id="f78bd-155">Hence hello VMs are not part of hello on-premises Active Directory.</span></span> <span data-ttu-id="f78bd-156">Detsamma gäller för Linux-implementeringar med till exempel OpenLDAP + Kerberos.</span><span class="sxs-lookup"><span data-stu-id="f78bd-156">Same is true for Linux implementations using, for example, OpenLDAP + Kerberos.</span></span>

> [!NOTE]
> <span data-ttu-id="f78bd-157">Endast molnbaserad distribution i det här dokumentet har definierats som slutförts SAP landskap kör enbart i Azure utan utökning av Active Directory / OpenLDAP eller namnmatchning från lokala i offentliga moln.</span><span class="sxs-lookup"><span data-stu-id="f78bd-157">Cloud-Only deployment in this document is defined as complete SAP landscapes are running exclusively in Azure without extension of Active Directory / OpenLDAP  or name resolution from on-premises into public cloud.</span></span> <span data-ttu-id="f78bd-158">Endast molnbaserad konfigurationer stöds inte för SAP produktionssystem eller konfigurationer där SAP STM eller andra lokala resurser måste toobe används mellan SAP-system som finns på Azure och resurser som finns lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-158">Cloud-Only configurations are not supported for production SAP systems or configurations where SAP STMS or other on-premises resources need toobe used between SAP systems hosted on Azure and resources residing on-premises.</span></span>
>
>

* <span data-ttu-id="f78bd-159">Anslutningar mellan lokala: Beskriver ett scenario där virtuella datorer som är distribuerade tooan Azure-prenumeration som har plats-till-plats, flera platser eller ExpressRoute-anslutning mellan hello lokalt datacenter(s) och Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-159">Cross-premises: Describes a scenario where VMs are deployed tooan Azure subscription that has site-to-site, multi-site, or ExpressRoute connectivity between hello on-premises datacenter(s) and Azure.</span></span> <span data-ttu-id="f78bd-160">Gemensamma Azure-dokumentationen dessa typer av distributioner beskrivs också som mellan lokala scenarier.</span><span class="sxs-lookup"><span data-stu-id="f78bd-160">In common Azure documentation, these kinds of deployments are also described as cross-premises scenarios.</span></span> <span data-ttu-id="f78bd-161">hello orsaken till hello anslutning är tooextend lokala domänerna lokala Active Directory/OpenLDAP och lokala DNS i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-161">hello reason for hello connection is tooextend on-premises domains, on-premises Active Directory/OpenLDAP, and on-premises DNS into Azure.</span></span> <span data-ttu-id="f78bd-162">hello lokalt liggande är utökade toohello Azure tillgångar hello prenumeration.</span><span class="sxs-lookup"><span data-stu-id="f78bd-162">hello on-premises landscape is extended toohello Azure assets of hello subscription.</span></span> <span data-ttu-id="f78bd-163">Med det här tillägget, kan hello virtuella datorer vara en del av hello lokala domän.</span><span class="sxs-lookup"><span data-stu-id="f78bd-163">Having this extension, hello VMs can be part of hello on-premises domain.</span></span> <span data-ttu-id="f78bd-164">Domänanvändare av hello lokal domän kan komma åt hello servrar och kan köra services på de virtuella datorer (till exempel DBMS services).</span><span class="sxs-lookup"><span data-stu-id="f78bd-164">Domain users of hello on-premises domain can access hello servers and can run services on those VMs (like DBMS services).</span></span> <span data-ttu-id="f78bd-165">Det är möjligt kommunikation och namnmatchning mellan virtuella datorer som distribueras på lokalt och distribuerade virtuella Azure-datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-165">Communication and name resolution between VMs deployed on-premises and Azure deployed VMs is possible.</span></span> <span data-ttu-id="f78bd-166">Detta är hello scenario planerar vi för de flesta SAP tillgångar toobe distribueras i.</span><span class="sxs-lookup"><span data-stu-id="f78bd-166">This is hello scenario we expect most SAP assets toobe deployed in.</span></span> <span data-ttu-id="f78bd-167">Mer information finns i [detta] [ vpn-gateway-cross-premises-options] artikel och [detta][vpn-gateway-site-to-site-create].</span><span class="sxs-lookup"><span data-stu-id="f78bd-167">For more information, see [this][vpn-gateway-cross-premises-options] article and [this][vpn-gateway-site-to-site-create].</span></span>

> [!NOTE]
> <span data-ttu-id="f78bd-168">Anslutningar mellan lokala distributioner av SAP-system där Azure virtuella datorer som kör SAP-system är medlemmar i en lokal domän stöds för produktion SAP-system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-168">Cross-premises deployments of SAP systems where Azure Virtual Machines running SAP systems are members of an on-premises domain are supported for production SAP systems.</span></span> <span data-ttu-id="f78bd-169">Anslutningar mellan lokala konfigurationer stöds för att distribuera delar eller slutföra SAP landskap till Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-169">Cross-premises configurations are supported for deploying parts or complete SAP landscapes into Azure.</span></span> <span data-ttu-id="f78bd-170">Kör även hello fullständig SAP liggande i Azure kräver med dessa virtuella datorer som en del av lokal domän och Active Directory/OpenLDAP.</span><span class="sxs-lookup"><span data-stu-id="f78bd-170">Even running hello complete SAP landscape in Azure requires having those VMs being part of on-premises domain and ADS/OpenLDAP.</span></span> <span data-ttu-id="f78bd-171">I tidigare versioner av hello dokumentationen talat om Hybrid-IT-scenarier där hello termen ”Hybrid' är rotad i hello faktum att det finns en anslutning mellan Azure och lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-171">In former versions of hello documentation, we talked about Hybrid-IT scenarios, where hello term ‘Hybrid’ is rooted in hello fact that there is a cross-premises connectivity between on-premises and Azure.</span></span> <span data-ttu-id="f78bd-172">Dessutom hello faktum att hello virtuella datorer i Azure är en del av hello lokala Active Directory / OpenLDAP.</span><span class="sxs-lookup"><span data-stu-id="f78bd-172">Plus, hello fact that hello VMs in Azure are part of hello on-premises Active Directory / OpenLDAP.</span></span>
>
>

<span data-ttu-id="f78bd-173">Vissa Microsoft-dokumentationen beskriver anslutningar mellan lokala scenarier lite annorlunda särskilt för DBMS HA konfigurationer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-173">Some Microsoft documentation describes cross-premises scenarios a bit differently, especially for DBMS HA configurations.</span></span> <span data-ttu-id="f78bd-174">Hello gäller hello SAP-relaterade dokument handlar hello scenarion med flera lokaler bara toohaving ett plats-till-plats eller privat (ExpressRoute) anslutning och hello faktum att hello SAP liggande fördelas mellan lokala och Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-174">In hello case of hello SAP-related documents, hello cross-premises scenario just boils down toohaving a site-to-site or private (ExpressRoute) connectivity and hello fact that hello SAP landscape is distributed between on-premises and Azure.</span></span>  

### <span data-ttu-id="f78bd-175"><a name="e55d1e22-c2c8-460b-9897-64622a34fdff"></a>Resurser</span><span class="sxs-lookup"><span data-stu-id="f78bd-175"><a name="e55d1e22-c2c8-460b-9897-64622a34fdff"></a>Resources</span></span>
<span data-ttu-id="f78bd-176">hello är följande ytterligare guider tillgängliga för hello avsnittet SAP distributioner i Azure:</span><span class="sxs-lookup"><span data-stu-id="f78bd-176">hello following additional guides are available for hello topic of SAP deployments on Azure:</span></span>

* <span data-ttu-id="f78bd-177">[Azure virtuella datorer planering och implementering för SAP NetWeaver (det här dokumentet)][planning-guide]</span><span class="sxs-lookup"><span data-stu-id="f78bd-177">[Azure Virtual Machines planning and implementation for SAP NetWeaver (this document)][planning-guide]</span></span>
* <span data-ttu-id="f78bd-178">[Distribution av Azure virtuella datorer för SAP NetWeaver][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="f78bd-178">[Azure Virtual Machines deployment for SAP NetWeaver][deployment-guide]</span></span>
* <span data-ttu-id="f78bd-179">[Azure virtuella datorer DBMS-distribution för SAP NetWeaver][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="f78bd-179">[Azure Virtual Machines DBMS deployment for SAP NetWeaver][dbms-guide]</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f78bd-180">Om det är möjligt en länk toohello hänvisar SAP installationsguiden används (referens InstGuide-01, se <http://service.sap.com/instguides>).</span><span class="sxs-lookup"><span data-stu-id="f78bd-180">Wherever possible a link toohello referring SAP Installation Guide is used (Reference InstGuide-01, see <http://service.sap.com/instguides>).</span></span> <span data-ttu-id="f78bd-181">När det gäller toohello förutsättningar och installationsprocessen hello SAP NetWeaver installationen guider ska alltid vara Läs noggrant, då det här dokumentet beskriver endast specifika uppgifter för SAP NetWeaver system som är installerade i en Microsoft Azure-dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-181">When it comes toohello prerequisites and installation process, hello SAP NetWeaver Installation Guides should always be read carefully, as this document only covers specific tasks for SAP NetWeaver systems installed in a Microsoft Azure Virtual Machine.</span></span>
>
>

<span data-ttu-id="f78bd-182">hello följande SAP anteckningar är relaterade toohello avsnittet SAP i Azure:</span><span class="sxs-lookup"><span data-stu-id="f78bd-182">hello following SAP Notes are related toohello topic of SAP on Azure:</span></span>

| <span data-ttu-id="f78bd-183">Nummer</span><span class="sxs-lookup"><span data-stu-id="f78bd-183">Note number</span></span> | <span data-ttu-id="f78bd-184">Rubrik</span><span class="sxs-lookup"><span data-stu-id="f78bd-184">Title</span></span> |
| --- | --- |
| <span data-ttu-id="f78bd-185">[1928533]</span><span class="sxs-lookup"><span data-stu-id="f78bd-185">[1928533]</span></span> |<span data-ttu-id="f78bd-186">SAP-program i Azure: produkter och storlek som stöds</span><span class="sxs-lookup"><span data-stu-id="f78bd-186">SAP Applications on Azure: Supported Products and Sizing</span></span> |
| <span data-ttu-id="f78bd-187">[2015553]</span><span class="sxs-lookup"><span data-stu-id="f78bd-187">[2015553]</span></span> |<span data-ttu-id="f78bd-188">SAP på Microsoft Azure: stöd för krav</span><span class="sxs-lookup"><span data-stu-id="f78bd-188">SAP on Microsoft Azure: Support Prerequisites</span></span> |
| <span data-ttu-id="f78bd-189">[1999351]</span><span class="sxs-lookup"><span data-stu-id="f78bd-189">[1999351]</span></span> |<span data-ttu-id="f78bd-190">Felsökning av utökad Azure övervakning för SAP</span><span class="sxs-lookup"><span data-stu-id="f78bd-190">Troubleshooting Enhanced Azure Monitoring for SAP</span></span> |
| <span data-ttu-id="f78bd-191">[2178632]</span><span class="sxs-lookup"><span data-stu-id="f78bd-191">[2178632]</span></span> |<span data-ttu-id="f78bd-192">Key som övervakning mått för SAP på Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="f78bd-192">Key Monitoring Metrics for SAP on Microsoft Azure</span></span> |
| <span data-ttu-id="f78bd-193">[1409604]</span><span class="sxs-lookup"><span data-stu-id="f78bd-193">[1409604]</span></span> |<span data-ttu-id="f78bd-194">Virtualisering på Windows: förbättrad övervakning</span><span class="sxs-lookup"><span data-stu-id="f78bd-194">Virtualization on Windows: Enhanced Monitoring</span></span> |
| <span data-ttu-id="f78bd-195">[2191498]</span><span class="sxs-lookup"><span data-stu-id="f78bd-195">[2191498]</span></span> |<span data-ttu-id="f78bd-196">SAP på Linux med Azure: förbättrad övervakning</span><span class="sxs-lookup"><span data-stu-id="f78bd-196">SAP on Linux with Azure: Enhanced Monitoring</span></span> |
| <span data-ttu-id="f78bd-197">[2243692]</span><span class="sxs-lookup"><span data-stu-id="f78bd-197">[2243692]</span></span> |<span data-ttu-id="f78bd-198">Linux på Microsoft Azure (IaaS) VM: SAP problem</span><span class="sxs-lookup"><span data-stu-id="f78bd-198">Linux on Microsoft Azure (IaaS) VM: SAP license issues</span></span> |
| <span data-ttu-id="f78bd-199">[1984787]</span><span class="sxs-lookup"><span data-stu-id="f78bd-199">[1984787]</span></span> |<span data-ttu-id="f78bd-200">SUSE LINUX Enterprise Server 12: Installationsinformation</span><span class="sxs-lookup"><span data-stu-id="f78bd-200">SUSE LINUX Enterprise Server 12: Installation notes</span></span> |
| <span data-ttu-id="f78bd-201">[2002167]</span><span class="sxs-lookup"><span data-stu-id="f78bd-201">[2002167]</span></span> |<span data-ttu-id="f78bd-202">Red Hat Enterprise Linux 7.x: Installation och uppgradering</span><span class="sxs-lookup"><span data-stu-id="f78bd-202">Red Hat Enterprise Linux 7.x: Installation and Upgrade</span></span> |
| <span data-ttu-id="f78bd-203">[2069760]</span><span class="sxs-lookup"><span data-stu-id="f78bd-203">[2069760]</span></span> |<span data-ttu-id="f78bd-204">Oracle Linux 7.x SAP Installation och uppgradering</span><span class="sxs-lookup"><span data-stu-id="f78bd-204">Oracle Linux 7.x SAP Installation and Upgrade</span></span> |
| <span data-ttu-id="f78bd-205">[1597355]</span><span class="sxs-lookup"><span data-stu-id="f78bd-205">[1597355]</span></span> |<span data-ttu-id="f78bd-206">Växlingsutrymme rekommendation för Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-206">Swap-space recommendation for Linux</span></span> |

<span data-ttu-id="f78bd-207">Också läsa hello [Tillståndsändringsavisering Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) som innehåller alla SAP anteckningar för Linux.</span><span class="sxs-lookup"><span data-stu-id="f78bd-207">Also read hello [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) that contains all SAP Notes for Linux.</span></span>

<span data-ttu-id="f78bd-208">Allmän standardbegränsningar och maximala begränsningar i Azure-prenumerationer finns i [i den här artikeln][azure-subscription-service-limits-subscription].</span><span class="sxs-lookup"><span data-stu-id="f78bd-208">General default limitations and maximum limitations of Azure subscriptions can be found in [this article][azure-subscription-service-limits-subscription].</span></span>

## <a name="possible-scenarios"></a><span data-ttu-id="f78bd-209">Möjliga scenarier</span><span class="sxs-lookup"><span data-stu-id="f78bd-209">Possible Scenarios</span></span>
<span data-ttu-id="f78bd-210">SAP visas ofta som en hello mest verksamhetskritiska program i företag.</span><span class="sxs-lookup"><span data-stu-id="f78bd-210">SAP is often seen as one of hello most mission-critical applications within enterprises.</span></span> <span data-ttu-id="f78bd-211">hello-arkitektur och drift av dessa program är främst mycket komplex och det är viktigt att se till att du uppfyller kraven på tillgänglighet och prestanda.</span><span class="sxs-lookup"><span data-stu-id="f78bd-211">hello architecture and operations of these applications is mostly very complex and ensuring that you meet requirements on availability and performance is important.</span></span>

<span data-ttu-id="f78bd-212">Företag har därför toothink noggrant om vilka program kan köras i en offentlig molnmiljö, oberoende av hello valt molntjänstleverantör.</span><span class="sxs-lookup"><span data-stu-id="f78bd-212">Thus enterprises have toothink carefully about which applications can be run in a public cloud environment, independent of hello chosen cloud provider.</span></span>

<span data-ttu-id="f78bd-213">Möjliga typer för att distribuera SAP NetWeaver baserat program i offentliga moln miljöer visas nedan:</span><span class="sxs-lookup"><span data-stu-id="f78bd-213">Possible system types for deploying SAP NetWeaver based applications within public cloud environments are listed below:</span></span>

1. <span data-ttu-id="f78bd-214">Medelstora produktionssystem</span><span class="sxs-lookup"><span data-stu-id="f78bd-214">Medium-sized production systems</span></span>
2. <span data-ttu-id="f78bd-215">Utvecklingssystem</span><span class="sxs-lookup"><span data-stu-id="f78bd-215">Development systems</span></span>
3. <span data-ttu-id="f78bd-216">Testa system</span><span class="sxs-lookup"><span data-stu-id="f78bd-216">Testing systems</span></span>
4. <span data-ttu-id="f78bd-217">Prototyp system</span><span class="sxs-lookup"><span data-stu-id="f78bd-217">Prototype systems</span></span>
5. <span data-ttu-id="f78bd-218">Learning / Demonstration system</span><span class="sxs-lookup"><span data-stu-id="f78bd-218">Learning / Demonstration systems</span></span>

<span data-ttu-id="f78bd-219">I ordning toosuccessfully distribuera SAP-system i Azure IaaS eller IaaS i allmänhet är det viktigt toounderstand hello betydande skillnader mellan hello erbjudanden för traditionella outsourcers eller värdar och IaaS erbjudanden.</span><span class="sxs-lookup"><span data-stu-id="f78bd-219">In order toosuccessfully deploy SAP systems into either Azure IaaS or IaaS in general, it is important toounderstand hello significant differences between hello offerings of traditional outsourcers or hosters and IaaS offerings.</span></span> <span data-ttu-id="f78bd-220">Medan hello traditionella värden eller outsourcer anpassas infrastruktur (nätverk, lagring och server-typ) toohello arbetsbelastning kunden toohost, utan i stället hello kundens ansvar toochoose hello rätt arbetsbelastningen för IaaS-distributioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-220">Whereas hello traditional hoster or outsourcer adapts infrastructure (network, storage and server type) toohello workload a customer wants toohost, it is instead hello customer’s responsibility toochoose hello right workload for IaaS deployments.</span></span>

<span data-ttu-id="f78bd-221">Som ett första steg behöver kunderna tooverify hello följande objekt:</span><span class="sxs-lookup"><span data-stu-id="f78bd-221">As a first step, customers need tooverify hello following items:</span></span>

* <span data-ttu-id="f78bd-222">hello SAP stöds VM typer av Azure</span><span class="sxs-lookup"><span data-stu-id="f78bd-222">hello SAP supported VM types of Azure</span></span>
* <span data-ttu-id="f78bd-223">hello SAP produkter/versioner som stöds på Azure</span><span class="sxs-lookup"><span data-stu-id="f78bd-223">hello SAP supported products/releases on Azure</span></span>
* <span data-ttu-id="f78bd-224">hello OS och DBMS-versioner som stöds för hello specifika SAP släpper i Azure</span><span class="sxs-lookup"><span data-stu-id="f78bd-224">hello supported OS and DBMS releases for hello specific SAP releases in Azure</span></span>
* <span data-ttu-id="f78bd-225">SAP-genomströmning som tillhandahålls av olika Azure-SKU: er</span><span class="sxs-lookup"><span data-stu-id="f78bd-225">SAPS throughput provided by different Azure SKUs</span></span>

<span data-ttu-id="f78bd-226">hello svar toothese frågor kan läsas i SAP-kommentar [1928533].</span><span class="sxs-lookup"><span data-stu-id="f78bd-226">hello answers toothese questions can be read in SAP Note [1928533].</span></span>

<span data-ttu-id="f78bd-227">Som ett andra steg måste Azure-resurs och bandbredd begränsningar toobe jämfört med tooactual resursförbrukning lokalt system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-227">As a second step, Azure resource and bandwidth limitations need toobe compared tooactual resource consumption of on-premises systems.</span></span> <span data-ttu-id="f78bd-228">Därför kan kunder behöver toobe bekant med hello olika funktioner i hello Azure typer som stöds med SAP under hello i:</span><span class="sxs-lookup"><span data-stu-id="f78bd-228">Therefore, customers need toobe familiar with hello different capabilities of hello Azure types supported with SAP in hello area of:</span></span>

* <span data-ttu-id="f78bd-229">Processor och minne resurser av VM av olika typer och</span><span class="sxs-lookup"><span data-stu-id="f78bd-229">CPU and memory resources of different VM types and</span></span>
* <span data-ttu-id="f78bd-230">IOPS bandbredd på VM av olika typer och</span><span class="sxs-lookup"><span data-stu-id="f78bd-230">IOPS bandwidth of different VM types and</span></span>
* <span data-ttu-id="f78bd-231">Nätverksfunktioner för VM av olika typer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-231">Network capabilities of different VM types.</span></span>

<span data-ttu-id="f78bd-232">De flesta av dessa data kan hittas [här (Linux)] [ virtual-machines-sizes-linux] och [här (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="f78bd-232">Most of that data can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="f78bd-233">Tänk på att hello begränsningarna i hello länken ovan är övre gräns.</span><span class="sxs-lookup"><span data-stu-id="f78bd-233">Keep in mind that hello limits listed in hello link above are upper limits.</span></span> <span data-ttu-id="f78bd-234">Det innebär inte att hello gränserna för någon av hello resurser, till exempel IOPS kan anges i alla fall.</span><span class="sxs-lookup"><span data-stu-id="f78bd-234">It does not mean that hello limits for any of hello resources, for example IOPS can be provided under all circumstances.</span></span> <span data-ttu-id="f78bd-235">hello undantag är om hello CPU och minne resurser av typen valda VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-235">hello exceptions though are hello CPU and memory resources of a chosen VM type.</span></span> <span data-ttu-id="f78bd-236">För hello VM typer som stöds av SAP, är hello CPU och minne resurser reserverade och som sådan är tillgängliga när som helst i tid för användning i hello VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-236">For hello VM types supported by SAP, hello CPU and memory resources are reserved and as such available at any point in time for consumption within hello VM.</span></span>

<span data-ttu-id="f78bd-237">hello Microsoft Azure-plattformen som andra plattformar, IaaS är flera innehavare.</span><span class="sxs-lookup"><span data-stu-id="f78bd-237">hello Microsoft Azure platform like other IaaS platforms is a multi-tenant platform.</span></span> <span data-ttu-id="f78bd-238">Det innebär att lagring, nätverk och andra resurser delas mellan klienter.</span><span class="sxs-lookup"><span data-stu-id="f78bd-238">This means that storage, network, and other resources are shared between tenants.</span></span> <span data-ttu-id="f78bd-239">Intelligent begränsning och kvot logik är används tooprevent en klient från att påverka hello prestanda för en annan klient (störningar granne) på drastiskt sätt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-239">Intelligent throttling and quota logic is used tooprevent one tenant from impacting hello performance of another tenant (noisy neighbor) in a drastic way.</span></span> <span data-ttu-id="f78bd-240">Även om logiken i Azure försöker tookeep avvikelser i bandbredd inträffade tenderar små, hög delade plattformar toointroduce större avvikelser i resursen/bandbreddstillgänglighet över många kunder har använt tooin sina lokala distributioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-240">Though logic in Azure tries tookeep variances in bandwidth experienced small, highly shared platforms tend toointroduce larger variances in resource/bandwidth availability than many customers are used tooin their on-premises deployments.</span></span> <span data-ttu-id="f78bd-241">Därför kan det uppstå olika nivåer av bandbredd om nätverks- eller lagringsinställningarna i/o (hello volymen samt svarstid) från minut toominute.</span><span class="sxs-lookup"><span data-stu-id="f78bd-241">As a result, you might experience different levels of bandwidth regarding networking or storage I/O (hello volume as well as latency) from minute toominute.</span></span> <span data-ttu-id="f78bd-242">hello sannolikheten att ett SAP-system på Azure kan uppleva större avvikelser än i ett lokalt system måste toobe beaktas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-242">hello probability that an SAP system on Azure could experience larger variances than in an on-premises system needs toobe taken into account.</span></span>

<span data-ttu-id="f78bd-243">Sista steget är tooevaluate tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-243">A last step is tooevaluate availability requirements.</span></span> <span data-ttu-id="f78bd-244">Kan det hända, som hello underliggande Azure-infrastrukturen måste tooget uppdateras och kräver hello-värdar som kör virtuella datorer toobe startas om.</span><span class="sxs-lookup"><span data-stu-id="f78bd-244">It can happen, that hello underlying Azure infrastructure needs tooget updated and requires hello hosts running VMs toobe rebooted.</span></span> <span data-ttu-id="f78bd-245">I dessa fall skulle virtuella datorer som körs på värdarna stängs av och startas också.</span><span class="sxs-lookup"><span data-stu-id="f78bd-245">In these cases, VMs running on those hosts would be shut down and restarted as well.</span></span> <span data-ttu-id="f78bd-246">hello tidtagningen av sådana Underhåll görs under-core kontorstid för en viss region men hello potentiella fönstret några timmar under vilka en omstart kommer att ske är relativt bred.</span><span class="sxs-lookup"><span data-stu-id="f78bd-246">hello timing of such maintenance is done during non-core business hours for a particular region but hello potential window of a few hours during which a restart will occur is relatively wide.</span></span> <span data-ttu-id="f78bd-247">Det finns olika tekniker inom hello Azure-plattformen som kan vara konfigurerad toomitigate vissa eller alla hello påverkas av dessa uppdateringar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-247">There are various technologies within hello Azure platform that can be configured toomitigate some or all of hello impact of such updates.</span></span> <span data-ttu-id="f78bd-248">Framtida förbättringar av hello Azure-plattformen, DBMS och SAP-program är utformat toominimize hello effekten av sådana omstarter.</span><span class="sxs-lookup"><span data-stu-id="f78bd-248">Future enhancements of hello Azure platform, DBMS, and SAP application are designed toominimize hello impact of such restarts.</span></span>

<span data-ttu-id="f78bd-249">Toosuccessfully distribuera ett SAP-system på Azure, hello lokal SAP system operativsystem, databas, och SAP-program måste visas på hello SAP Azure stöd matrix ryms inom hello resurser hello Azure-infrastrukturen kan ge och vilka Arbeta med hello tillgänglighet serviceavtal för Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-249">In order toosuccessfully deploy an SAP system onto Azure, hello on-premises SAP system(s) Operating System, Database, and SAP applications must appear on hello SAP Azure support matrix, fit within hello resources hello Azure infrastructure can provide and which can work with hello Availability SLAs Microsoft Azure offers.</span></span> <span data-ttu-id="f78bd-250">Eftersom dessa system identifieras måste toodecide på något av följande två distributionsscenarier hello.</span><span class="sxs-lookup"><span data-stu-id="f78bd-250">As those systems are identified, you need toodecide on one of hello following two deployment scenarios.</span></span>

### <span data-ttu-id="f78bd-251"><a name="1625df66-4cc6-4d60-9202-de8a0b77f803"></a>Endast molnbaserad - distributioner på virtuella datorer till Azure utan beroenden på hello lokalt kundens nätverk</span><span class="sxs-lookup"><span data-stu-id="f78bd-251"><a name="1625df66-4cc6-4d60-9202-de8a0b77f803"></a>Cloud-Only - Virtual Machine deployments into Azure without dependencies on hello on-premises customer network</span></span>
![Enskild virtuell dator med SAP demo eller utbildning scenario distribueras i Azure][planning-guide-figure-100]

<span data-ttu-id="f78bd-253">Det här scenariot är typiska för kurser eller demo-system, där alla hello komponenter för SAP och icke-program installeras på en enskild virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-253">This scenario is typical for trainings or demo systems, where all hello components of SAP and non-SAP software are installed within a single VM.</span></span> <span data-ttu-id="f78bd-254">SAP produktionssystem stöds inte i det här distributionsscenariot.</span><span class="sxs-lookup"><span data-stu-id="f78bd-254">Production SAP systems are not supported in this deployment scenario.</span></span> <span data-ttu-id="f78bd-255">I allmänhet uppfyller det här scenariot hello följande krav:</span><span class="sxs-lookup"><span data-stu-id="f78bd-255">In general, this scenario meets hello following requirements:</span></span>

* <span data-ttu-id="f78bd-256">hello själva de virtuella datorerna är tillgängliga via hello offentligt nätverk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-256">hello VMs themselves are accessible over hello public network.</span></span> <span data-ttu-id="f78bd-257">Direkta nätverksanslutningar för hello-program som körs i hello VMs toohello lokalt nätverk på antingen hello företag äger hello demonstrationer eller utbildningar innehåll eller hello kunden är inte nödvändigt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-257">Direct network connectivity for hello applications running within hello VMs toohello on-premises network of either hello company owning hello demos or trainings content or hello customer is not necessary.</span></span>
* <span data-ttu-id="f78bd-258">Vid flera virtuella datorer som representerar hello utbildningar eller demo scenario, måste nätverket kommunikation och namnmatchning toowork mellan hello virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-258">In case of multiple VMs representing hello trainings or demo scenario, network communications and name resolution needs toowork between hello VMs.</span></span> <span data-ttu-id="f78bd-259">Men kommunikation mellan hello uppsättning virtuella datorer måste toobe isolerade så att flera uppsättningar med virtuella datorer kan distribueras sida vid sida utan störningar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-259">But communications between hello set of VMs need toobe isolated so that several sets of VMs can be deployed side by side without interference.</span></span>  
* <span data-ttu-id="f78bd-260">Internetanslutning krävs för hello slutanvändaren tooremote inloggning till toohello virtuella datorer finns i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-260">Internet connectivity is required for hello end user tooremote login into toohello VMs hosted in Azure.</span></span> <span data-ttu-id="f78bd-261">Beroende på hello gästoperativsystemet, Terminal Services/RDS eller VNC/ssh används tooaccess hello VM tooeither uppfylla hello utbildning uppgifter eller utföra hello demonstrationer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-261">Depending on hello guest OS, Terminal Services/RDS or VNC/ssh is used tooaccess hello VM tooeither fulfill hello training tasks or perform hello demos.</span></span> <span data-ttu-id="f78bd-262">Om SAP-portarna som 3200, 3300 och 3600 kan också exponeras hello SAP programinstansen kan nås från alla anslutna Internet-skrivbordet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-262">If SAP ports such as 3200, 3300 & 3600 can also be exposed hello SAP application instance can be accessed from any Internet connected desktop.</span></span>
* <span data-ttu-id="f78bd-263">hello SAP system (och VM(s)) representerar ett fristående scenario i Azure som endast kräver en offentlig Internetanslutning för slutanvändarnas åtkomst och inte kräver en anslutning tooother virtuella datorer i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-263">hello SAP system(s) (and VM(s)) represent a standalone scenario in Azure, which only requires public internet connectivity for end-user access and does not require a connection tooother VMs in Azure.</span></span>
* <span data-ttu-id="f78bd-264">SAPGUI och en webbläsare installeras och köras direkt på hello VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-264">SAPGUI and a browser are installed and run directly on hello VM.</span></span>
* <span data-ttu-id="f78bd-265">Det krävs en snabb återställning av en VM toohello ursprungliga tillstånd och ny distribution av det ursprungliga tillståndet igen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-265">A fast reset of a VM toohello original state and new deployment of that original state again is required.</span></span>
* <span data-ttu-id="f78bd-266">Hello gäller demonstration och utbildning scenarier, som realiseras i flera virtuella datorer, en Active Directory / OpenLDAP och/eller DNS-tjänsten krävs för varje uppsättning virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-266">In hello case of demo and training scenarios, which are realized in multiple VMs, an Active Directory / OpenLDAP and/or DNS service is required for each set of VMs.</span></span>

![Grupp med Virtuella datorer som representerar en demo eller utbildning scenariot i en Azure-molntjänst][planning-guide-figure-200]

<span data-ttu-id="f78bd-268">Det är viktigt tookeep ihåg att hello virtuella datorer i varje hello anger behöver toobe distribueras parallellt, där hello VM-namn i varje hello set är hello samma.</span><span class="sxs-lookup"><span data-stu-id="f78bd-268">It is important tookeep in mind that hello VM(s) in each of hello sets need toobe deployed in parallel, where hello VM names in each of hello set are hello same.</span></span>

### <span data-ttu-id="f78bd-269"><a name="f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10"></a>Anslutningar mellan lokala - distribution av en eller flera SAP virtuella datorer i Azure med hello behovet av att fullständigt integrerat i hello lokalt nätverk</span><span class="sxs-lookup"><span data-stu-id="f78bd-269"><a name="f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10"></a>Cross-Premises - Deployment of single or multiple SAP VMs into Azure with hello requirement of being fully integrated into hello on-premises network</span></span>
![VPN-anslutningar med plats-till-plats-anslutning (mellan platser)][planning-guide-figure-300]

<span data-ttu-id="f78bd-271">Det här scenariot är en scenarion med flera lokaler med många möjlig distribution mönster.</span><span class="sxs-lookup"><span data-stu-id="f78bd-271">This scenario is a cross-premises scenario with many possible deployment patterns.</span></span> <span data-ttu-id="f78bd-272">Det kan beskrivas så enkelt sätt som kör vissa delar av hello SAP liggande lokalt och andra delar av hello SAP liggande på Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-272">It can be described as simply as running some parts of hello SAP landscape on-premises and other parts of hello SAP landscape on Azure.</span></span> <span data-ttu-id="f78bd-273">Alla aspekter av hello fakta som en del av hello SAP komponenter körs på Azure ska vara transparent för slutanvändare.</span><span class="sxs-lookup"><span data-stu-id="f78bd-273">All aspects of hello fact that part of hello SAP components are running on Azure should be transparent for end users.</span></span> <span data-ttu-id="f78bd-274">Därför Hej SAP Transport Correction System (STM), RFC kommunikation utskrift, säkerhet (till exempel SSO), etc. fungera sömlöst för hello SAP-system som körs på Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-274">Hence hello SAP Transport Correction System (STMS), RFC Communication, Printing, Security (like SSO), etc. work seamlessly for hello SAP systems running on Azure.</span></span> <span data-ttu-id="f78bd-275">Men hello scenarion med flera lokaler beskriver också ett scenario där hello fullständig SAP liggande körs i Azure med hello kundens domänen och DNS utökats till Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-275">But hello cross-premises scenario also describes a scenario where hello complete SAP landscape runs in Azure with hello customer’s domain and DNS extended into Azure.</span></span>

> [!NOTE]
> <span data-ttu-id="f78bd-276">Detta är hello distributionsscenariot som stöds för att köra produktiva SAP-system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-276">This is hello deployment scenario, which is supported for running productive SAP systems.</span></span>
>
>

<span data-ttu-id="f78bd-277">Läs [i den här artikeln] [ vpn-gateway-create-site-to-site-rm-powershell] för mer information om hur tooconnect ditt lokala nätverk tooMicrosoft Azure</span><span class="sxs-lookup"><span data-stu-id="f78bd-277">Read [this article][vpn-gateway-create-site-to-site-rm-powershell] for more information on how tooconnect your on-premises network tooMicrosoft Azure</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f78bd-278">När vi pratar om anslutningar mellan lokala scenarier mellan Azure och lokala kunddistributioner tittar vi hello Granulariteten för hela SAP-system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-278">When we are talking about cross-premises scenarios between Azure and on-premises customer deployments, we are looking at hello granularity of whole SAP systems.</span></span> <span data-ttu-id="f78bd-279">Scenarier som är *stöds inte* för anslutningar mellan lokala scenarier är:</span><span class="sxs-lookup"><span data-stu-id="f78bd-279">Scenarios which are *not supported* for cross-premises scenarios are:</span></span>
>
> * <span data-ttu-id="f78bd-280">Olika lager i SAP-program som körs i olika distributionsmetoder.</span><span class="sxs-lookup"><span data-stu-id="f78bd-280">Running different layers of SAP applications in different deployment methods.</span></span> <span data-ttu-id="f78bd-281">Till exempel köra hello DBMS layer lokalt men hello SAP programnivå i virtuella datorer som distribueras som virtuella Azure-datorer eller tvärtom.</span><span class="sxs-lookup"><span data-stu-id="f78bd-281">For example running hello DBMS layer on-premises, but hello SAP application layer in VMs deployed as Azure VMs or vice versa.</span></span>
> * <span data-ttu-id="f78bd-282">Vissa komponenter i ett SAP-lager i Azure och vissa lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-282">Some components of an SAP layer in Azure and some on-premises.</span></span> <span data-ttu-id="f78bd-283">Till exempel dela instanser av hello SAP programnivå mellan lokala och virtuella Azure-datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-283">For example splitting Instances of hello SAP application layer between on-premises and Azure VMs.</span></span>
> * <span data-ttu-id="f78bd-284">Distribution av virtuella datorer som kör SAP instanser av ett system över flera Azure-regioner stöds inte.</span><span class="sxs-lookup"><span data-stu-id="f78bd-284">Distribution of VMs running SAP instances of one system over multiple Azure Regions is not supported.</span></span>
>
> <span data-ttu-id="f78bd-285">hello orsaken till dessa begränsningar är hello krav för ett nätverk med mycket låg svarstid höga prestanda i en SAP-systemet, särskilt mellan hello programinstanser och hello DBMS lager av ett SAP-system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-285">hello reason for these restrictions is hello requirement for a very low latency high-performance network within one SAP system, especially between hello application instances and hello DBMS layer of an SAP system.</span></span>
>
>

### <a name="supported-os-and-database-releases"></a><span data-ttu-id="f78bd-286">OS- och databasen versioner som stöds</span><span class="sxs-lookup"><span data-stu-id="f78bd-286">Supported OS and Database Releases</span></span>
* <span data-ttu-id="f78bd-287">Microsoft server-program stöds för virtuella Azure-tjänster ingår i den här artikeln: <http://support.microsoft.com/kb/2721672>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-287">Microsoft server software supported for Azure Virtual Machine Services is listed in this article: <http://support.microsoft.com/kb/2721672>.</span></span>
* <span data-ttu-id="f78bd-288">Operativsystem system-versioner som stöds, databasen system-versioner som stöds på virtuella Azure-tjänster tillsammans med SAP-program finns dokumenterade i SAP-kommentar [1928533].</span><span class="sxs-lookup"><span data-stu-id="f78bd-288">Supported operating system releases, database system releases supported on Azure Virtual Machine Services in conjunction with SAP software are documented in SAP Note [1928533].</span></span>
* <span data-ttu-id="f78bd-289">SAP-program och versioner som stöds på virtuella Azure-tjänster som finns dokumenterade i SAP-kommentar [1928533].</span><span class="sxs-lookup"><span data-stu-id="f78bd-289">SAP applications and releases supported on Azure Virtual Machine Services are documented in SAP Note [1928533].</span></span>
* <span data-ttu-id="f78bd-290">Endast 64-bitars bilder är stöds toorun som gäst-VM i Azure för SAP-scenarier.</span><span class="sxs-lookup"><span data-stu-id="f78bd-290">Only 64Bit images are supported toorun as Guest VMs in Azure for SAP scenarios.</span></span> <span data-ttu-id="f78bd-291">Det innebär att endast 64-bitars SAP-program och databaser stöds.</span><span class="sxs-lookup"><span data-stu-id="f78bd-291">This also means that only 64-bit SAP applications and databases are supported.</span></span>

## <a name="microsoft-azure-virtual-machine-services"></a><span data-ttu-id="f78bd-292">Virtuella Microsoft Azure-tjänster</span><span class="sxs-lookup"><span data-stu-id="f78bd-292">Microsoft Azure Virtual Machine Services</span></span>
<span data-ttu-id="f78bd-293">hello Microsoft Azure-plattformen är ett internet-skala moln plattform finns och drivas på Microsoft data datacenter.</span><span class="sxs-lookup"><span data-stu-id="f78bd-293">hello Microsoft Azure platform is an internet-scale cloud services platform hosted and operated in Microsoft data centers.</span></span> <span data-ttu-id="f78bd-294">hello-plattformen innehåller hello Microsoft Azure virtuella Services (infrastruktur som en tjänst eller IaaS) och en uppsättning omfattande plattform som en tjänst (PaaS)-funktioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-294">hello platform includes hello Microsoft Azure Virtual Machine Services (Infrastructure as a Service, or IaaS) and a set of rich Platform as a Service (PaaS) capabilities.</span></span>

<span data-ttu-id="f78bd-295">hello Azure-plattformen minskar hello behovet för direkta teknik och infrastruktur inköp.</span><span class="sxs-lookup"><span data-stu-id="f78bd-295">hello Azure platform reduces hello need for up-front technology and infrastructure purchases.</span></span> <span data-ttu-id="f78bd-296">Det förenklar underhåll och drift program genom att tillhandahålla på begäran beräkning och lagring toohost skala och hantera webbprogram och anslutna program.</span><span class="sxs-lookup"><span data-stu-id="f78bd-296">It simplifies maintaining and operating applications by providing on-demand compute and storage toohost, scale, and manage web application and connected applications.</span></span> <span data-ttu-id="f78bd-297">Infrastrukturhantering är automatisk med en plattform som är avsedd för hög tillgänglighet och dynamisk skalning toomatch användarbehov med hello alternativ med betalning per användning prismodellen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-297">Infrastructure management is automated with a platform that is designed for high availability and dynamic scaling toomatch usage needs with hello option of a pay-as-you-go pricing model.</span></span>

![Placering av virtuella Microsoft Azure-tjänster][planning-guide-figure-400]

<span data-ttu-id="f78bd-299">Med Azure Virtual Machine-tjänster, Microsoft aktiverar du toodeploy anpassade avbildningar tooAzure som IaaS instanser (se figur 4).</span><span class="sxs-lookup"><span data-stu-id="f78bd-299">With Azure Virtual Machine Services, Microsoft is enabling you toodeploy custom server images tooAzure as IaaS instances (see Figure 4).</span></span> <span data-ttu-id="f78bd-300">hello virtuella datorer i Azure baseras på Hyper-V virtuella hårddiskar (VHD) och är kan toorun olika operativsystem som Gästoperativsystem.</span><span class="sxs-lookup"><span data-stu-id="f78bd-300">hello Virtual Machines in Azure are based on Hyper-V virtual hard drives (VHD) and are able toorun different operating systems as Guest OS.</span></span>

<span data-ttu-id="f78bd-301">Ur ett operativa upplevelser hello Azure Virtual Machine-tjänsten erbjuder liknande som virtuella datorer som distribuerats lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-301">From an operational perspective, hello Azure Virtual Machine Service offers similar experiences as virtual machines deployed on premises.</span></span> <span data-ttu-id="f78bd-302">Har dock hello betydande fördel som du inte behöver tooprocure, administrera och hantera hello infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="f78bd-302">However, it has hello significant advantage that you don’t need tooprocure, administer, and manage hello infrastructure.</span></span> <span data-ttu-id="f78bd-303">Utvecklare och administratörer har fullständig kontroll över hello operativsystemavbildningen inom dessa virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-303">Developers and Administrators have full control of hello operating system image within these virtual machines.</span></span> <span data-ttu-id="f78bd-304">Administratörer kan logga in via fjärranslutning i toothose virtuella datorer tooperform underhåll och felsökning aktiviteter samt programvara distributionsåtgärder.</span><span class="sxs-lookup"><span data-stu-id="f78bd-304">Administrators can log on remotely in toothose virtual machines tooperform maintenance and troubleshooting tasks as well as software deployment tasks.</span></span> <span data-ttu-id="f78bd-305">Hello endast begränsningar finns i beaktande toodeployment hello storlekar och funktionerna i virtuella Azure-datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-305">In regard toodeployment, hello only restrictions are hello sizes and capabilities of Azure VMs.</span></span> <span data-ttu-id="f78bd-306">Dessa kanske inte lika bra detaljerade i konfigurationen som detta kan göras lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-306">These may not be as fine granular in configuration as this could be done on premises.</span></span> <span data-ttu-id="f78bd-307">Det finns ett val av VM-typer som representerar en kombination av:</span><span class="sxs-lookup"><span data-stu-id="f78bd-307">There is a choice of VM types that represent a combination of:</span></span>

* <span data-ttu-id="f78bd-308">Antal vCPUs,</span><span class="sxs-lookup"><span data-stu-id="f78bd-308">Number of vCPUs,</span></span>
* <span data-ttu-id="f78bd-309">Minne,</span><span class="sxs-lookup"><span data-stu-id="f78bd-309">Memory,</span></span>
* <span data-ttu-id="f78bd-310">Antal virtuella hårddiskar som kan kopplas</span><span class="sxs-lookup"><span data-stu-id="f78bd-310">Number of VHDs that can be attached,</span></span>
* <span data-ttu-id="f78bd-311">Nätverk och lagring bandbredder.</span><span class="sxs-lookup"><span data-stu-id="f78bd-311">Network and Storage bandwidths.</span></span>

<span data-ttu-id="f78bd-312">hello storlek och begränsningar med olika storlekar för olika virtuella datorer som kan ses i en tabell i [(Linux) för den här artikeln] [ virtual-machines-sizes-linux] och [i den här artikeln (Windows)] [ virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="f78bd-312">hello size and limitations of various different virtual machines sizes offered can be seen in a table in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="f78bd-313">När du upptäcker, finns det olika familjer eller antal virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-313">As you realize, there are different families or series of virtual machines.</span></span> <span data-ttu-id="f78bd-314">Du kan skilja hello efter familjer av virtuella datorer:</span><span class="sxs-lookup"><span data-stu-id="f78bd-314">You can distinguish hello following families of VMs:</span></span>

* <span data-ttu-id="f78bd-315">A0 A7 VM typer: inte alla de som är certifierade för SAP.</span><span class="sxs-lookup"><span data-stu-id="f78bd-315">A0-A7 VM types: Not all of those are certified for SAP.</span></span> <span data-ttu-id="f78bd-316">Första VM-serien som Azure IaaS fick introducerades i.</span><span class="sxs-lookup"><span data-stu-id="f78bd-316">First VM series that Azure IaaS got introduced with.</span></span>
* <span data-ttu-id="f78bd-317">A8 A11 VM typer: höga prestanda instanser.</span><span class="sxs-lookup"><span data-stu-id="f78bd-317">A8-A11 VM types: High Performance computing instances.</span></span> <span data-ttu-id="f78bd-318">Körs på olika bättre utför beräkna värddatorer än andra A-series virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-318">Running on different better performing compute hosts than other A-series VMs.</span></span>
* <span data-ttu-id="f78bd-319">Dv2-D-serien VM typer: utför bättre än A0 A7.</span><span class="sxs-lookup"><span data-stu-id="f78bd-319">D/Dv2-Series VM types: Better performing than A0-A7.</span></span> <span data-ttu-id="f78bd-320">Inte alla typer av hello VM är certifierade med SAP.</span><span class="sxs-lookup"><span data-stu-id="f78bd-320">Not all of hello VM types are certified with SAP.</span></span>
* <span data-ttu-id="f78bd-321">DS-DSv2-serien VM typer: liknande tooD/Dv2-serien, men finns kan tooconnect tooAzure Premium-lagring (finns i kapitlet [Azure Premium Storage] [ planning-guide-3.3.2] i det här dokumentet).</span><span class="sxs-lookup"><span data-stu-id="f78bd-321">DS/DSv2-Series VM types: Similar tooD/Dv2-series, but are able tooconnect tooAzure Premium Storage (see chapter [Azure Premium Storage][planning-guide-3.3.2] of this document).</span></span> <span data-ttu-id="f78bd-322">Igen inte alla VM-typer som är certifierade med SAP.</span><span class="sxs-lookup"><span data-stu-id="f78bd-322">Again not all VM types are certified with SAP.</span></span>
* <span data-ttu-id="f78bd-323">G-serien VM typer: höga minnesområdet VM-typer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-323">G-Series VM types: High memory VM types.</span></span>
* <span data-ttu-id="f78bd-324">GS-serien VM typer: som G-serien men inklusive hello alternativet toouse Azure Premium-lagring (finns i kapitlet [Azure Premium Storage] [ planning-guide-3.3.2] i det här dokumentet).</span><span class="sxs-lookup"><span data-stu-id="f78bd-324">GS-Series VM types: like G-Series but including hello option toouse Azure Premium Storage (see chapter [Azure Premium Storage][planning-guide-3.3.2] of this document).</span></span> <span data-ttu-id="f78bd-325">När du använder GS-serien virtuella datorer som databasservrar, är det obligatoriska toouse Premium-lagring för DB data och transaktionen loggfiler</span><span class="sxs-lookup"><span data-stu-id="f78bd-325">When using GS-Series VMs as database servers, it's mandatory toouse Premium Storage for DB data and transaction log files</span></span>

<span data-ttu-id="f78bd-326">Du hittar hello samma processor och minne konfigurationer i annan VM-serien.</span><span class="sxs-lookup"><span data-stu-id="f78bd-326">You may find hello same CPU and memory configurations in different VM series.</span></span> <span data-ttu-id="f78bd-327">Dock när du letar efter hello kapaciteten på dessa virtuella datorer utanför hello annan serie de skiljer sig avsevärt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-327">Nevertheless, when you look up hello throughput performance of these VMs out of hello different series they might differ significantly.</span></span> <span data-ttu-id="f78bd-328">Hej trots att ha samma konfiguration av CPU och minne.</span><span class="sxs-lookup"><span data-stu-id="f78bd-328">Despite having hello same CPU and memory configuration.</span></span> <span data-ttu-id="f78bd-329">Orsaken är att hello underliggande värden servermaskinvara på hello införandet av hello VM av olika typer har olika dataflödesegenskaper.</span><span class="sxs-lookup"><span data-stu-id="f78bd-329">Reason is that hello underlying host server hardware at hello introduction of hello different VM types had different throughput characteristics.</span></span>  <span data-ttu-id="f78bd-330">Vanligtvis hello skillnaden visas i kapaciteten också avspeglas i hello pris hello olika virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-330">Usually hello difference shown in throughput performance also is reflected in hello price of hello different VMs.</span></span>

<span data-ttu-id="f78bd-331">Inte alla olika VM-serien kan erbjudas i var och en av hello Azure-regioner (för Azure-regioner finns nästa kapitel).</span><span class="sxs-lookup"><span data-stu-id="f78bd-331">Not all different VM series might be offered in each one of hello Azure Regions (for Azure Regions see next chapter).</span></span> <span data-ttu-id="f78bd-332">Tänk också att inte alla virtuella datorer eller VM-serien är certifierad för SAP.</span><span class="sxs-lookup"><span data-stu-id="f78bd-332">Also be aware that not all VMs or VM-Series are certified for SAP.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f78bd-333">Hello användning av SAP NetWeaver baserat program, endast hello delmängd av VM-typer och konfigurationer som anges i SAP-kommentar [1928533] stöds.</span><span class="sxs-lookup"><span data-stu-id="f78bd-333">For hello use of SAP NetWeaver based applications, only hello subset of VM types and configurations listed in SAP Note [1928533] are supported.</span></span>
>
>

### <span data-ttu-id="f78bd-334"><a name="be80d1b9-a463-4845-bd35-f4cebdb5424a"></a>Azure-regioner</span><span class="sxs-lookup"><span data-stu-id="f78bd-334"><a name="be80d1b9-a463-4845-bd35-f4cebdb5424a"></a>Azure Regions</span></span>
<span data-ttu-id="f78bd-335">Microsoft kan toodeploy virtuella datorer i så kallade ”Azure-regioner”.</span><span class="sxs-lookup"><span data-stu-id="f78bd-335">Microsoft allows toodeploy Virtual Machines into so called ‘Azure Regions’.</span></span> <span data-ttu-id="f78bd-336">En Azure-Region kanske en eller flera datacenter som befinner sig i närheten.</span><span class="sxs-lookup"><span data-stu-id="f78bd-336">An Azure Region may be one or multiple data centers that are located in close proximity.</span></span> <span data-ttu-id="f78bd-337">För de flesta hello geopolitiska regioner i hello world Microsoft har minst två Azure-regioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-337">For most of hello geopolitical regions in hello world Microsoft has at least two Azure Regions.</span></span> <span data-ttu-id="f78bd-338">Till exempel i Europa har en Azure-Region 'Nordeuropa, och ett av 'Västeuropa'.</span><span class="sxs-lookup"><span data-stu-id="f78bd-338">For example, in Europe there is an Azure Region of ‘North Europe’ and one of ‘West Europe’.</span></span> <span data-ttu-id="f78bd-339">Dessa två Azure-regioner inom en geopolitiska region avgränsas med tillräckligt betydande avstånd så att naturliga eller tekniska katastrofer inte påverkar både Azure-regioner i hello samma geopolitiska region.</span><span class="sxs-lookup"><span data-stu-id="f78bd-339">Such two Azure Regions within a geopolitical region are separated by significant enough distance so that natural or technical disasters do not affect both Azure Regions in hello same geopolitical region.</span></span> <span data-ttu-id="f78bd-340">Eftersom Microsoft bygger stadigt ut nya Azure-regioner i olika geopolitiska regioner globalt, växande ständigt hello antalet dessa regioner och från och med Dec 2015 uppnått hello antalet 20 Azure-regioner med ytterligare områden som redan har presenterat.</span><span class="sxs-lookup"><span data-stu-id="f78bd-340">Since Microsoft is steadily building out new Azure Regions in different geopolitical regions globally, hello number of these regions is steadily growing and as of Dec 2015 reached hello number of 20 Azure Regions with additional Regions announced already.</span></span> <span data-ttu-id="f78bd-341">I alla dessa regioner, inklusive hello två Azure-regioner i Kina kan du som kund distribuera SAP-system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-341">You as a customer can deploy SAP systems into all these regions, including hello two Azure Regions in China.</span></span> <span data-ttu-id="f78bd-342">Aktuella uppdaterad information om Azure-regioner finns i den här webbplatsen: <https://azure.microsoft.com/regions/></span><span class="sxs-lookup"><span data-stu-id="f78bd-342">For current up-to-date information about Azure regions see this website: <https://azure.microsoft.com/regions/></span></span>

### <span data-ttu-id="f78bd-343"><a name="8d8ad4b8-6093-4b91-ac36-ea56d80dbf77"></a>hello Microsoft Azure Virtual Machine-begrepp</span><span class="sxs-lookup"><span data-stu-id="f78bd-343"><a name="8d8ad4b8-6093-4b91-ac36-ea56d80dbf77"></a>hello Microsoft Azure Virtual Machine Concept</span></span>
<span data-ttu-id="f78bd-344">Microsoft Azure tillhandahåller en infrastruktur som en tjänst (IaaS) lösning toohost virtuella datorer med liknande funktioner som ett lokalt virtualiseringslösning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-344">Microsoft Azure offers an Infrastructure as a Service (IaaS) solution toohost Virtual Machines with similar functionalities as an on-premises virtualization solution.</span></span> <span data-ttu-id="f78bd-345">Du kan kan toocreate virtuella datorer från inom hello Azure-portalen PowerShell eller CLI, som också ger distribution och hanteringsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-345">You are able toocreate Virtual Machines from within hello Azure portal, PowerShell or CLI, which also offer deployment and management capabilities.</span></span>

<span data-ttu-id="f78bd-346">Azure Resource Manager kan du tooprovision dina program med en deklarativ mall.</span><span class="sxs-lookup"><span data-stu-id="f78bd-346">Azure Resource Manager allows you tooprovision your applications using a declarative template.</span></span> <span data-ttu-id="f78bd-347">I samma mall kan du distribuera flera tjänster tillsammans med deras beroenden.</span><span class="sxs-lookup"><span data-stu-id="f78bd-347">In a single template, you can deploy multiple services along with their dependencies.</span></span> <span data-ttu-id="f78bd-348">Du använder hello samma mall toorepeatedly distribuera programmet under varje fas av hello livscykel för programmet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-348">You use hello same template toorepeatedly deploy your application during every stage of hello application life cycle.</span></span>

<span data-ttu-id="f78bd-349">Mer information om hur du använder Resource Manager-mallar finns här:</span><span class="sxs-lookup"><span data-stu-id="f78bd-349">More information about using Resource Manager templates can be found here:</span></span>

* <span data-ttu-id="f78bd-350">[Distribuera och hantera virtuella datorer med hjälp av Azure Resource Manager-mallar och hello Azure CLI] [.. /.. / linux/create-ssh-secured-vm-from-template.md]</span><span class="sxs-lookup"><span data-stu-id="f78bd-350">[Deploy and manage virtual machines by using Azure Resource Manager templates and hello Azure CLI][../../linux/create-ssh-secured-vm-from-template.md]</span></span>
* <span data-ttu-id="f78bd-351">[Hantera virtuella datorer med Azure Resource Manager och PowerShell][virtual-machines-deploy-rmtemplates-powershell]</span><span class="sxs-lookup"><span data-stu-id="f78bd-351">[Manage virtual machines using Azure Resource Manager and PowerShell][virtual-machines-deploy-rmtemplates-powershell]</span></span>
* <span data-ttu-id="f78bd-352"><https://Azure.microsoft.com/Documentation/Templates/></span><span class="sxs-lookup"><span data-stu-id="f78bd-352"><https://azure.microsoft.com/documentation/templates/></span></span>

<span data-ttu-id="f78bd-353">En annan intressant funktion är hello möjlighet toocreate bilder från virtuella datorer, vilket gör att du tooprepare vissa databaser som du använder kan tooquickly distribuera instanser för virtuella datorer som uppfyller dina krav.</span><span class="sxs-lookup"><span data-stu-id="f78bd-353">Another interesting feature is hello ability toocreate images from Virtual Machines, which allows you tooprepare certain repositories from which you are able tooquickly deploy Virtual machine instances, which meet your requirements.</span></span>

<span data-ttu-id="f78bd-354">Mer information om hur du skapar bilder från virtuella datorer finns i [(Linux) för den här artikeln] [ virtual-machines-linux-capture-image-resource-manager] och [i den här artikeln (Windows)][virtual-machines-windows-capture-image-resource-manager].</span><span class="sxs-lookup"><span data-stu-id="f78bd-354">More information about creating images from Virtual Machines can be found in [this article (Linux)][virtual-machines-linux-capture-image-resource-manager] and [this article (Windows)][virtual-machines-windows-capture-image-resource-manager].</span></span>

#### <span data-ttu-id="f78bd-355"><a name="df49dc09-141b-4f34-a4a2-990913b30358"></a>Feldomäner</span><span class="sxs-lookup"><span data-stu-id="f78bd-355"><a name="df49dc09-141b-4f34-a4a2-990913b30358"></a>Fault Domains</span></span>
<span data-ttu-id="f78bd-356">Feldomäner representerar en fysisk enhet skulle misslyckas, mycket nära relaterade toohello fysisk infrastruktur som används i datacenter och när en fysisk bladet eller rack kan betraktas som en Feldomän finns det ingen direkt mappningen mellan hello två.</span><span class="sxs-lookup"><span data-stu-id="f78bd-356">Fault Domains represent a physical unit of failure, very closely related toohello physical infrastructure contained in data centers, and while a physical blade or rack can be considered a Fault Domain, there is no direct one-to-one mapping between hello two.</span></span>

<span data-ttu-id="f78bd-357">När du distribuerar flera virtuella datorer som en del av en SAP-system i virtuella Microsoft Azure-tjänster, kan du påverka hello Azure-Infrastrukturkontrollanten toodeploy ditt program till olika Feldomäner, vilket uppfyller hello hello krav Microsoft Azure-serviceavtalet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-357">When you deploy multiple Virtual Machines as part of one SAP system in Microsoft Azure Virtual Machine Services, you can influence hello Azure Fabric Controller toodeploy your application into different Fault Domains, thereby meeting hello requirements of hello Microsoft Azure SLA.</span></span> <span data-ttu-id="f78bd-358">Dock hello distribution av Feldomäner över en Azure-Skalningsenhet (insamling av hundratals datornoder eller lagringsnoder och nätverk) eller hello tilldelningen av virtuella datorer tooa specifika Feldomän är något som du inte har direkt kontroll.</span><span class="sxs-lookup"><span data-stu-id="f78bd-358">However, hello distribution of Fault Domains over an Azure Scale Unit (collection of hundreds of Compute nodes or Storage nodes and networking) or hello assignment of VMs tooa specific Fault Domain is something over which you do not have direct control.</span></span> <span data-ttu-id="f78bd-359">I ordning toodirect hello Azure fabric controller toodeploy en uppsättning virtuella datorer över olika Feldomäner måste tooassign en Tillgänglighetsuppsättning för Azure-toohello VMs vid tidpunkten för distribution.</span><span class="sxs-lookup"><span data-stu-id="f78bd-359">In order toodirect hello Azure fabric controller toodeploy a set of VMs over different Fault Domains, you need tooassign an Azure Availability Set toohello VMs at deployment time.</span></span> <span data-ttu-id="f78bd-360">Mer information om Azure-Tillgänglighetsuppsättningar finns i kapitlet [Azure-Tillgänglighetsuppsättningar] [ planning-guide-3.2.3] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-360">For more information on Azure Availability Sets, see chapter [Azure Availability Sets][planning-guide-3.2.3] in this document.</span></span>

#### <span data-ttu-id="f78bd-361"><a name="fc1ac8b2-e54a-487c-8581-d3cc6625e560"></a>Uppgradera domäner</span><span class="sxs-lookup"><span data-stu-id="f78bd-361"><a name="fc1ac8b2-e54a-487c-8581-d3cc6625e560"></a>Upgrade Domains</span></span>
<span data-ttu-id="f78bd-362">Uppgraderingsdomäner representerar en logisk enhet som hjälper toodetermine hur en virtuell dator i en SAP-system som består av SAP-instanser som körs i flera virtuella datorer uppdateras.</span><span class="sxs-lookup"><span data-stu-id="f78bd-362">Upgrade Domains represent a logical unit that help toodetermine how a VM within an SAP system, that consists of SAP instances running in multiple VMs, is updated.</span></span> <span data-ttu-id="f78bd-363">När en uppgradering sker genomgår Microsoft Azure hello för att uppdatera dessa Uppgraderingsdomäner i taget.</span><span class="sxs-lookup"><span data-stu-id="f78bd-363">When an upgrade occurs, Microsoft Azure goes through hello process of updating these Upgrade Domains one by one.</span></span> <span data-ttu-id="f78bd-364">Genom att sprida VMs vid tidpunkten för distribution över olika uppgradera domäner, kan du skydda SAP systemet delvis från potentiell nedtid.</span><span class="sxs-lookup"><span data-stu-id="f78bd-364">By spreading VMs at deployment time over different Upgrade Domains, you can protect your SAP system partly from potential downtime.</span></span> <span data-ttu-id="f78bd-365">I ordning tooforce Azure toodeploy hello virtuella datorer i ett SAP-system som är utspridda över olika uppgradera domäner måste tooset ett specifikt attribut vid tidpunkten för distribution av varje virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-365">In order tooforce Azure toodeploy hello VMs of an SAP system spread over different Upgrade Domains, you need tooset a specific attribute at deployment time of each VM.</span></span> <span data-ttu-id="f78bd-366">Liknande tooFault domäner, en Skalningsenhet för Azure är indelade i flera uppgradera domäner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-366">Similar tooFault Domains, an Azure Scale Unit is divided into multiple Upgrade Domains.</span></span> <span data-ttu-id="f78bd-367">I ordning toodirect hello Azure fabric controller toodeploy en uppsättning virtuella datorer över olika uppgradera domäner behöver du tooassign en Tillgänglighetsuppsättning för Azure-toohello VMs vid tidpunkten för distribution.</span><span class="sxs-lookup"><span data-stu-id="f78bd-367">In order toodirect hello Azure fabric controller toodeploy a set of VMs over different Upgrade Domains, you need tooassign an Azure Availability Set toohello VMs at deployment time.</span></span> <span data-ttu-id="f78bd-368">Mer information om Azure-Tillgänglighetsuppsättningar finns i kapitlet [Azure-Tillgänglighetsuppsättningar] [ planning-guide-3.2.3] nedan.</span><span class="sxs-lookup"><span data-stu-id="f78bd-368">For more information on Azure Availability Sets, see chapter [Azure Availability Sets][planning-guide-3.2.3] below.</span></span>

#### <span data-ttu-id="f78bd-369"><a name="18810088-f9be-4c97-958a-27996255c665"></a>Azure Tillgänglighetsuppsättningar</span><span class="sxs-lookup"><span data-stu-id="f78bd-369"><a name="18810088-f9be-4c97-958a-27996255c665"></a>Azure Availability Sets</span></span>
<span data-ttu-id="f78bd-370">Azure virtuella datorer i en Tillgänglighetsuppsättning av typen Azure distribueras av hello Azure-Infrastrukturkontrollanten över olika fel- och uppgradera domäner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-370">Azure Virtual Machines within one Azure Availability Set are distributed by hello Azure Fabric Controller over different Fault and Upgrade Domains.</span></span> <span data-ttu-id="f78bd-371">hello syftar hello distribution över olika fel- och uppgradera domäner tooprevent alla virtuella datorer i en SAP-system från att stänga av i hello fall av infrastrukturens underhåll eller ett fel i en Feldomän.</span><span class="sxs-lookup"><span data-stu-id="f78bd-371">hello purpose of hello distribution over different Fault and Upgrade Domains is tooprevent all VMs of an SAP system from being shut down in hello case of infrastructure maintenance or a failure within one Fault Domain.</span></span> <span data-ttu-id="f78bd-372">Som standard ingår virtuella datorer inte i en Tillgänglighetsuppsättning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-372">By default, VMs are not part of an Availability Set.</span></span> <span data-ttu-id="f78bd-373">hello deltagande i en virtuell dator i en Tillgänglighetsuppsättning har definierats vid tidpunkten för distribution eller vid ett senare tillfälle genom en omkonfiguration och en ny distribution av en virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-373">hello participation of a VM in an Availability Set is defined at deployment time or later on by a reconfiguration and re-deployment of a VM.</span></span>

<span data-ttu-id="f78bd-374">toounderstand hello begreppet Azure-Tillgänglighetsuppsättningar och hello sätt Tillgänglighetsuppsättningar relaterar tooFault och uppgradera domäner läsa [i den här artikeln][virtual-machines-manage-availability]</span><span class="sxs-lookup"><span data-stu-id="f78bd-374">toounderstand hello concept of Azure Availability Sets and hello way Availability Sets relate tooFault and Upgrade Domains, read [this article][virtual-machines-manage-availability]</span></span>

<span data-ttu-id="f78bd-375">toodefine tillgänglighetsuppsättningar för ARM via en json-mall finns [hello rest-api-specifikationerna](https://github.com/Azure/azure-rest-api-specs/blob/master/arm-compute/2015-06-15/swagger/compute.json) och Sök efter ”tillgänglighet”.</span><span class="sxs-lookup"><span data-stu-id="f78bd-375">toodefine availability sets for ARM via a json template see [hello rest-api specs](https://github.com/Azure/azure-rest-api-specs/blob/master/arm-compute/2015-06-15/swagger/compute.json) and search for "availability".</span></span>

### <span data-ttu-id="f78bd-376"><a name="a72afa26-4bf4-4a25-8cf7-855d6032157f"></a>Lagring: Microsoft Azure Storage- och Datadiskar</span><span class="sxs-lookup"><span data-stu-id="f78bd-376"><a name="a72afa26-4bf4-4a25-8cf7-855d6032157f"></a>Storage: Microsoft Azure Storage and Data Disks</span></span>
<span data-ttu-id="f78bd-377">Microsoft Azure virtuella datorer använda olika lagringstyper.</span><span class="sxs-lookup"><span data-stu-id="f78bd-377">Microsoft Azure Virtual Machines utilize different storage types.</span></span> <span data-ttu-id="f78bd-378">När du implementerar SAP på virtuella Azure-tjänster, är det viktigt toounderstand hello skillnaderna mellan dessa två typer av lagring:</span><span class="sxs-lookup"><span data-stu-id="f78bd-378">When implementing SAP on Azure Virtual Machine Services, it is important toounderstand hello differences between these two main types of storage:</span></span>

* <span data-ttu-id="f78bd-379">Icke-beständig, temporär lagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-379">Non-Persistent, volatile storage.</span></span>
* <span data-ttu-id="f78bd-380">Beständig lagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-380">Persistent storage.</span></span>

<span data-ttu-id="f78bd-381">hello icke-beständig lagring är direkt anslutna toohello virtuella datorer som körs och finns på hello datornoderna själva – hello lokala instance store (tillfällig lagring).</span><span class="sxs-lookup"><span data-stu-id="f78bd-381">hello non-persistent storage is directly attached toohello running Virtual Machines and resides on hello compute nodes themselves – hello local instance storage (temporary storage).</span></span> <span data-ttu-id="f78bd-382">hello beroende på hello storleken på hello virtuella valt när hello distributionen har startats.</span><span class="sxs-lookup"><span data-stu-id="f78bd-382">hello size depends on hello size of hello Virtual Machine chosen when hello deployment started.</span></span> <span data-ttu-id="f78bd-383">Den här lagringstypen är temporär och därför hello disken initieras när en virtuell dator-instansen startas om.</span><span class="sxs-lookup"><span data-stu-id="f78bd-383">This storage type is volatile and therefore hello disk is initialized when a Virtual Machine instance is restarted.</span></span> <span data-ttu-id="f78bd-384">Hello växlingsfil för hello operativsystemet finns normalt på tillfälliga disken.</span><span class="sxs-lookup"><span data-stu-id="f78bd-384">Typically, hello pagefile for hello operating system is located on this temporary disk.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-386">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-386">Windows</span></span>
>
> <span data-ttu-id="f78bd-387">Hello temp enhet är monterad enhet D:\ i en distribuerad virtuell dator på virtuella Windows-datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-387">On Windows VMs hello temp drive is mounted as drive D:\ in a deployed VM.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="f78bd-389">Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-389">Linux</span></span>
>
> <span data-ttu-id="f78bd-390">Den är monterad som /mnt/resource eller /mnt på Linux virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-390">On Linux VMs, it's mounted as /mnt/resource or /mnt.</span></span> <span data-ttu-id="f78bd-391">Se mer information här:</span><span class="sxs-lookup"><span data-stu-id="f78bd-391">See more details here:</span></span>
>
> * <span data-ttu-id="f78bd-392">[Hur tooAttach en datadisk tooa virtuell Linux-dator][virtual-machines-linux-how-to-attach-disk]</span><span class="sxs-lookup"><span data-stu-id="f78bd-392">[How tooAttach a Data Disk tooa Linux Virtual Machine][virtual-machines-linux-how-to-attach-disk]</span></span>
> * <span data-ttu-id="f78bd-393"><https://docs.microsoft.com/Azure/Storage/Storage-About-Disks-and-vhds-Linux#Temporary-disk></span><span class="sxs-lookup"><span data-stu-id="f78bd-393"><https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux#temporary-disk></span></span>
>
>

- - -
<span data-ttu-id="f78bd-394">hello faktiska enhet är beständig eftersom den hämtar lagras på värdservern för hello sig själv.</span><span class="sxs-lookup"><span data-stu-id="f78bd-394">hello actual drive is volatile because it is getting stored on hello host server itself.</span></span> <span data-ttu-id="f78bd-395">Om hello VM flyttas i en omdistribution (till exempel på grund av toomaintenance på hello värden eller avstängning och omstart) hello innehållet i hello enheten går förlorad.</span><span class="sxs-lookup"><span data-stu-id="f78bd-395">If hello VM moved in a redeployment (for example due toomaintenance on hello host or shutdown and restart) hello content of hello drive is lost.</span></span> <span data-ttu-id="f78bd-396">Det är därför inte en alternativet toostore viktiga data på den här enheten.</span><span class="sxs-lookup"><span data-stu-id="f78bd-396">Therefore, it is not an option toostore any important data on this drive.</span></span> <span data-ttu-id="f78bd-397">hello typ av media som används för den här typen av lagring skiljer sig mellan olika virtuella dator-serien med mycket olika prestandaegenskaper som från och med juni 2015 ser ut som:</span><span class="sxs-lookup"><span data-stu-id="f78bd-397">hello type of media used for this type of storage differs between different VM series with very different performance characteristics which as of June 2015 look like:</span></span>

* <span data-ttu-id="f78bd-398">A5 A7: Mycket begränsad prestanda.</span><span class="sxs-lookup"><span data-stu-id="f78bd-398">A5-A7: Very limited performance.</span></span> <span data-ttu-id="f78bd-399">Rekommenderas inte för något utöver växlingsfilen</span><span class="sxs-lookup"><span data-stu-id="f78bd-399">Not recommended for anything beyond page file</span></span>
* <span data-ttu-id="f78bd-400">A8-A11: Goda prestandaegenskaper med vissa tiotusen IOPS och > 1 GBIT/s genomströmning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-400">A8-A11: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="f78bd-401">D-serien: Goda prestandaegenskaper med vissa sedan tusen IOPS och > 1 GBIT/s genomströmning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-401">D-Series: Very good performance characteristics with some then thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="f78bd-402">DS-serien: Goda prestandaegenskaper med vissa tiotusen IOPS och > 1 GBIT/s genomströmning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-402">DS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="f78bd-403">G-serien: Goda prestandaegenskaper med vissa tiotusen IOPS och > 1 GBIT/s genomströmning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-403">G-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="f78bd-404">GS-serien: Goda prestandaegenskaper med vissa tiotusen IOPS och > 1 GBIT/s genomströmning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-404">GS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>

<span data-ttu-id="f78bd-405">Uttryck ovanför kopplar toohello VM typer som är certifierade med SAP.</span><span class="sxs-lookup"><span data-stu-id="f78bd-405">Statements above are applying toohello VM types that are certified with SAP.</span></span> <span data-ttu-id="f78bd-406">hello VM-serien med utmärkt IOPS och genomströmning uppfyller kraven för att dra nytta av vissa DBMS-funktioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-406">hello VM-series with excellent IOPS and throughput qualify for leverage by some DBMS features.</span></span> <span data-ttu-id="f78bd-407">Mer information finns i hello [DBMS Deployment Guide][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-407">For more information, see hello [DBMS Deployment Guide][dbms-guide].</span></span>

<span data-ttu-id="f78bd-408">Microsoft Azure Storage tillhandahåller beständiga lagring och hello vanliga nivåer av skydd och redundans på SAN-lagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-408">Microsoft Azure Storage provides persisted storage and hello typical levels of protection and redundancy seen on SAN storage.</span></span> <span data-ttu-id="f78bd-409">Diskar baserat på Azure Storage är en virtuell hårddisk (VHD) finns i hello Azure Storage-tjänster.</span><span class="sxs-lookup"><span data-stu-id="f78bd-409">Disks based on Azure Storage are virtual hard disk (VHDs) located in hello Azure Storage Services.</span></span> <span data-ttu-id="f78bd-410">hello lokala OS-Disk (C: Windows\, Linux/dev/sda1) lagras på hello Azure Storage, och ytterligare volymer/diskar monterade toohello VM lagras där, för.</span><span class="sxs-lookup"><span data-stu-id="f78bd-410">hello local OS-Disk (Windows C:\, Linux /dev/sda1) is stored on hello Azure Storage, and additional Volumes/Disks mounted toohello VM get stored there, too.</span></span>

<span data-ttu-id="f78bd-411">Det är möjligt tooupload en befintlig virtuell Hårddisk från lokala eller skapar en tom från i Azure och koppla dessa toodeployed virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-411">It is possible tooupload an existing VHD from on-premises or create empty ones from within Azure and attach those toodeployed VMs.</span></span>

<span data-ttu-id="f78bd-412">När du skapar eller ladda upp en VHD till Azure Storage är möjliga toomount och koppla de befintliga virtuella datorn och toocopy befintliga (omonterade) VHD tooan.</span><span class="sxs-lookup"><span data-stu-id="f78bd-412">After creating or uploading a VHD into Azure Storage, it is possible toomount and attach those tooan existing Virtual Machine and toocopy existing (unmounted) VHD.</span></span>

<span data-ttu-id="f78bd-413">Data och ändringar i de är säkra när startas om och återskapa en virtuell datorinstans som de virtuella hårddiskarna är beständiga.</span><span class="sxs-lookup"><span data-stu-id="f78bd-413">As those VHDs are persisted, data and changes within those are safe when rebooting and recreating a Virtual Machine instance.</span></span> <span data-ttu-id="f78bd-414">Även om en instans har tagits bort kan hålla dig säker dessa virtuella hårddiskar och kan distribueras eller om icke-OS-diskar kan vara monterade tooother virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-414">Even if an instance is deleted, these VHDs stay safe and can be redeployed or in case of non-OS disks can be mounted tooother VMs.</span></span>

<span data-ttu-id="f78bd-415">Nätverk med Azure Storage redundans olika nivåer inom hello kan konfigureras:</span><span class="sxs-lookup"><span data-stu-id="f78bd-415">Within hello network of Azure Storage different redundancy levels can be configured:</span></span>

* <span data-ttu-id="f78bd-416">Lägsta nivå som kan väljas är 'lokala redundans', vilket är likvärdiga toothree-replik av hello data i hello samma Datacenter för en Azure-Region (finns i kapitlet [Azure-regioner][planning-guide-3.1]).</span><span class="sxs-lookup"><span data-stu-id="f78bd-416">Minimum level that can be selected is ‘local redundancy’, which is equivalent toothree-replica of hello data within hello same data center of an Azure Region (see chapter [Azure Regions][planning-guide-3.1]).</span></span>
* <span data-ttu-id="f78bd-417">Zonen redundant lagring, och vilka uppslag hello tre bilder över olika datacenter inom hello samma Azure-Region.</span><span class="sxs-lookup"><span data-stu-id="f78bd-417">Zone redundant storage, which spreads hello three images over different data centers within hello same Azure Region.</span></span>
* <span data-ttu-id="f78bd-418">Standardnivån för redundans är geografisk redundans, vilket replikerar asynkront hello innehåll till en annan tre avbildningar av hello data till en annan Azure-Region som är värd för hello samma geopolitiska region.</span><span class="sxs-lookup"><span data-stu-id="f78bd-418">Default redundancy level is geographic redundancy, which asynchronously replicates hello content into another three images of hello data into another Azure Region, which is hosted in hello same geopolitical region.</span></span>

<span data-ttu-id="f78bd-419">Se även hello tabellen på den här artikeln om hello olika redundansalternativ: <https://azure.microsoft.com/pricing/details/storage/></span><span class="sxs-lookup"><span data-stu-id="f78bd-419">Also see hello table on top of this article regarding hello different redundancy options: <https://azure.microsoft.com/pricing/details/storage/></span></span>

<span data-ttu-id="f78bd-420">Mer information om Azure Storage finns här:</span><span class="sxs-lookup"><span data-stu-id="f78bd-420">More information about Azure Storage can be found here:</span></span>

* <span data-ttu-id="f78bd-421"><https://Azure.microsoft.com/Documentation/Services/Storage/></span><span class="sxs-lookup"><span data-stu-id="f78bd-421"><https://azure.microsoft.com/documentation/services/storage/></span></span>
* <span data-ttu-id="f78bd-422"><https://Azure.microsoft.com/Services/site-Recovery></span><span class="sxs-lookup"><span data-stu-id="f78bd-422"><https://azure.microsoft.com/services/site-recovery></span></span>
* <span data-ttu-id="f78bd-423"><https://docs.microsoft.com/REST/API/storageservices/Understanding-block-BLOBs--append-BLOBs--and-Page-BLOBs></span><span class="sxs-lookup"><span data-stu-id="f78bd-423"><https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs></span></span>
* <span data-ttu-id="f78bd-424"><https://blogs.msdn.com/b/azuresecurity/Archive/2015/11/17/Azure-disk-Encryption-for-Linux-and-Windows-Virtual-Machines-Public-Preview.aspx></span><span class="sxs-lookup"><span data-stu-id="f78bd-424"><https://blogs.msdn.com/b/azuresecurity/archive/2015/11/17/azure-disk-encryption-for-linux-and-windows-virtual-machines-public-preview.aspx></span></span>

#### <a name="azure-standard-storage"></a><span data-ttu-id="f78bd-425">Azure standardlagring</span><span class="sxs-lookup"><span data-stu-id="f78bd-425">Azure Standard Storage</span></span>
<span data-ttu-id="f78bd-426">Azure standardlagring var hello typ av lagring som är tillgängliga när Azure IaaS släpptes.</span><span class="sxs-lookup"><span data-stu-id="f78bd-426">Azure Standard storage was hello type of storage available when Azure IaaS was released.</span></span> <span data-ttu-id="f78bd-427">Det fanns IOPS kvoter tillämpas per enskild disk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-427">There were IOPS quotas enforced per single disk.</span></span> <span data-ttu-id="f78bd-428">Latens som uppstod var inte i hello samma klass som SAN/NAS-enheter normalt distribueras för avancerade SAP-datorer lagras lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-428">Latency experienced was not in hello same class as SAN/NAS devices typically deployed for high-end SAP systems hosted on-premises.</span></span> <span data-ttu-id="f78bd-429">Dock hello Azure standardlagring visat sig vara tillräcklig för flera hundra SAP-system under tiden distribueras i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-429">Nevertheless, hello Azure Standard Storage proved sufficient for many hundreds SAP systems meanwhile deployed in Azure.</span></span>

<span data-ttu-id="f78bd-430">Diskar som är lagrade på Azure-Standard Lagringskonton debiteras baserat på hello faktiska data som lagras, hello mängden lagringstransaktioner och utgående dataöverföringar redundans-alternativ som valts.</span><span class="sxs-lookup"><span data-stu-id="f78bd-430">Disks that are stored on Azure Standard Storage Accounts are charged based on hello actual data that is stored, hello volume of storage transactions, outbound data transfers, and redundancy option chosen.</span></span> <span data-ttu-id="f78bd-431">Många diskar kan skapas på hello högst 1 TB i storlek, men så länge de förblir tom är kostnadsfri.</span><span class="sxs-lookup"><span data-stu-id="f78bd-431">Many disks can be created at hello maximum 1TB in size, but as long as those remain empty there is no charge.</span></span> <span data-ttu-id="f78bd-432">Om du fyller sedan en virtuell Hårddisk med 100GB, debiteras du för att lagra 100GB och inte för hello nominell storlek hello VHD återställningsjobb skapades med.</span><span class="sxs-lookup"><span data-stu-id="f78bd-432">If you then fill one VHD with 100GB each, you are charged for storing 100GB and not for hello nominal size hello VHD got created with.</span></span>

#### <span data-ttu-id="f78bd-433"><a name="ff5ad0f9-f7f4-4022-9102-af07aef3bc92"></a>Azure Premium-lagring</span><span class="sxs-lookup"><span data-stu-id="f78bd-433"><a name="ff5ad0f9-f7f4-4022-9102-af07aef3bc92"></a>Azure Premium Storage</span></span>
<span data-ttu-id="f78bd-434">I April 2015 introducerade Microsoft Azure Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-434">In April 2015, Microsoft introduced Azure Premium Storage.</span></span> <span data-ttu-id="f78bd-435">Premium-lagring har fått introducerades med hello målet tooprovide:</span><span class="sxs-lookup"><span data-stu-id="f78bd-435">Premium Storage got introduced with hello goal tooprovide:</span></span>

* <span data-ttu-id="f78bd-436">Bättre i/o-svarstid.</span><span class="sxs-lookup"><span data-stu-id="f78bd-436">Better I/O latency.</span></span>
* <span data-ttu-id="f78bd-437">Bättre genomflöde.</span><span class="sxs-lookup"><span data-stu-id="f78bd-437">Better throughput.</span></span>
* <span data-ttu-id="f78bd-438">Mindre variationer i i/o-svarstid.</span><span class="sxs-lookup"><span data-stu-id="f78bd-438">Less variability in I/O latency.</span></span>

<span data-ttu-id="f78bd-439">För detta ändamål introducerades många ändringar av vilka hello två viktigaste är:</span><span class="sxs-lookup"><span data-stu-id="f78bd-439">For that purpose, many changes were introduced of which hello two most significant are:</span></span>

* <span data-ttu-id="f78bd-440">Användning av SSD-diskar i hello Azure Storage-noder</span><span class="sxs-lookup"><span data-stu-id="f78bd-440">Usage of SSD disks in hello Azure Storage nodes</span></span>
* <span data-ttu-id="f78bd-441">En ny läsningscachens som backas upp av hello lokala SSD på ett Azure compute-nod</span><span class="sxs-lookup"><span data-stu-id="f78bd-441">A new read cache that is backed by hello local SSD of an Azure compute node</span></span>

<span data-ttu-id="f78bd-442">I motsatt tooStandard storage där funktioner inte ändras beroende på hello storlek hello disk (VHD eller), Premium-lagring har tre olika disk kategorier som visas i den här artikeln: <https://azure.microsoft.com/ prissättning/uppgifter / / ohanterad-lagringsdiskar /></span><span class="sxs-lookup"><span data-stu-id="f78bd-442">In opposite tooStandard storage where capabilities did not change dependent on hello size of hello disk (or VHD), Premium Storage currently has three different disk categories, which are shown in this article: <https://azure.microsoft.com/pricing/details/storage/unmanaged-disks/></span></span>

<span data-ttu-id="f78bd-443">Du ser att IOPS-disk och disk genomströmning eller disken är beroende av hello storlek kategori hello diskar</span><span class="sxs-lookup"><span data-stu-id="f78bd-443">You see that IOPS/disk and disk throughput/disk are dependent on hello size category of hello disks</span></span>

<span data-ttu-id="f78bd-444">Kostnad bas hello gäller Premium-lagring är inte hello faktiska datavolym lagras i dessa diskar, men hello storlek kategori av en disk, oberoende av hello mängden hello data som lagras i hello disk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-444">Cost basis in hello case of Premium Storage is not hello actual data volume stored in such disks, but hello size category of such a disk, independent of hello amount of hello data that is stored within hello disk.</span></span>

<span data-ttu-id="f78bd-445">Du kan också skapa diskar på Premium-lagring som inte direkt mappning till hello storlek kategorier som visas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-445">You also can create disks on Premium Storage that are not directly mapping into hello size categories shown.</span></span> <span data-ttu-id="f78bd-446">Detta kan vara fallet hello, särskilt när du kopierar diskar från standardlagring till Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-446">This may be hello case, especially when copying disks from Standard Storage into Premium Storage.</span></span> <span data-ttu-id="f78bd-447">I sådana fall utförs en mappning toohello nästa största Premium-lagring diskalternativet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-447">In such cases a mapping toohello next largest Premium Storage disk option is performed.</span></span>

<span data-ttu-id="f78bd-448">Tänk på att bara vissa VM-serien kan dra nytta av hello Azure Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-448">Be aware that only certain VM series can benefit from hello Azure Premium Storage.</span></span> <span data-ttu-id="f78bd-449">Från och med Dec 2015 är dessa hello DS - och GS-serien.</span><span class="sxs-lookup"><span data-stu-id="f78bd-449">As of Dec 2015, these are hello DS- and GS-series.</span></span> <span data-ttu-id="f78bd-450">hello DS-serien är i princip hello samma som D-serien med hello undantaget att DS-serien har hello möjlighet toomount Premium-lagring-baserade virtuella datorer dessutom toodisks som finns på Azure standardlagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-450">hello DS-series is basically hello same as D-series with hello exception that DS-series has hello ability toomount Premium Storage based VMs additionally toodisks that are hosted on Azure Standard Storage.</span></span> <span data-ttu-id="f78bd-451">Samma sak gäller för G-serien jämfört med tooGS-serien.</span><span class="sxs-lookup"><span data-stu-id="f78bd-451">Same thing is valid for G-series compared tooGS-series.</span></span>

<span data-ttu-id="f78bd-452">Om du checkar ut hello tillhör hello DS-serien virtuella datorer i [(Linux) för den här artikeln] [ virtual-machines-sizes-linux] och [i den här artikeln (Windows)][virtual-machines-sizes-windows], inser du som det finns data volym begränsningar tooPremium diskar med lagringsutrymme på hello Granulariteten för hello VM-nivå.</span><span class="sxs-lookup"><span data-stu-id="f78bd-452">If you are checking out hello part of hello DS-series VMs in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows], you realize that there are data volume limitations tooPremium Storage disks on hello granularity of hello VM level.</span></span> <span data-ttu-id="f78bd-453">Olika DS-serien eller GS-serien virtuella datorer måste du också ha olika begränsningar i angående toohello antalet datadiskar som kan monteras.</span><span class="sxs-lookup"><span data-stu-id="f78bd-453">Different DS-series or GS-series VMs also have different limitations in regards toohello number of data disks that can be mounted.</span></span> <span data-ttu-id="f78bd-454">Dessa gränser dokumenteras i hello artikeln som nämns ovan samt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-454">These limits are documented in hello article mentioned above as well.</span></span> <span data-ttu-id="f78bd-455">Men i princip betyder att om dig, till exempel montera 32 x P30 diskar tooa enda DS14 virtuell dator inte kan du få 32 x hello maximalt dataflöde för en P30 disk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-455">But in essence it means that if you, for example, mount 32 x P30 disks tooa single DS14 VM you can NOT get 32 x hello maximum throughput of a P30 disk.</span></span> <span data-ttu-id="f78bd-456">I stället hello maximalt dataflöde på VM-nivå enligt beskrivningen i hello artikel gränser datagenomströmning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-456">Instead hello maximum throughput on VM level as documented in hello article limits data throughput.</span></span>

<span data-ttu-id="f78bd-457">Mer information om Premium-lagring finns här: <http://azure.microsoft.com/blog/2015/04/16/azure-premium-storage-now-generally-available-2></span><span class="sxs-lookup"><span data-stu-id="f78bd-457">More information on Premium Storage can be found here: <http://azure.microsoft.com/blog/2015/04/16/azure-premium-storage-now-generally-available-2></span></span>

#### <span data-ttu-id="f78bd-458"><a name="c55b2c6e-3ca1-4476-be16-16c81927550f"></a>Hanterade diskar</span><span class="sxs-lookup"><span data-stu-id="f78bd-458"><a name="c55b2c6e-3ca1-4476-be16-16c81927550f"></a>Managed Disks</span></span>
<span data-ttu-id="f78bd-459">Hanterade diskar är en ny resurstyp i Azure Resource Manager som kan användas i stället för virtuella hårddiskar som lagras i Azure Storage-konton.</span><span class="sxs-lookup"><span data-stu-id="f78bd-459">Managed Disks are a new resource type in Azure Resource Manager that can be used instead of VHDs that are stored in Azure Storage Accounts.</span></span> <span data-ttu-id="f78bd-460">Hanterade diskar justeras automatiskt med hello Tillgänglighetsuppsättning hello virtuell dator som de är anslutna tooand därför öka hello tillgängligheten för virtuella datorer och hello-tjänster som körs på hello virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="f78bd-460">Managed Disks automatically align with hello Availability Set of hello virtual machine they are attached tooand therefore increase hello availability of your virtual machine and hello services that are running on hello virtual machine.</span></span> <span data-ttu-id="f78bd-461">Mer information finns i hello [översiktsartikel](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span><span class="sxs-lookup"><span data-stu-id="f78bd-461">For more information, read hello [overview article](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span></span>

<span data-ttu-id="f78bd-462">Vi rekommenderar tooyou Använd hanterade disken, eftersom de förenkla hello distribution och hantering av virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-462">We recommend tooyou use Managed disk, because they simplify hello deployment and management of your virtual machines.</span></span>
<span data-ttu-id="f78bd-463">SAP stöder för närvarande endast hanteras Premiumdiskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-463">SAP currently only supports Premium Managed Disks.</span></span> <span data-ttu-id="f78bd-464">Mer information finns i SAP-kommentar [1928533].</span><span class="sxs-lookup"><span data-stu-id="f78bd-464">For more information, read SAP Note [1928533].</span></span>

#### <a name="azure-storage-accounts"></a><span data-ttu-id="f78bd-465">Azure Storage-konton</span><span class="sxs-lookup"><span data-stu-id="f78bd-465">Azure Storage Accounts</span></span>
<span data-ttu-id="f78bd-466">När du distribuerar tjänster eller virtuella datorer i Azure, kan distribution av virtuella hårddiskar och VM-avbildningar ordnas i enheter som kallas Azure Storage-konton.</span><span class="sxs-lookup"><span data-stu-id="f78bd-466">When deploying services or VMs in Azure, deployment of VHDs and VM Images can be organized in units called Azure Storage Accounts.</span></span> <span data-ttu-id="f78bd-467">När du planerar en Azure-distribution måste toocarefully överväga hello begränsningar i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-467">When planning an Azure deployment, you need toocarefully consider hello restrictions of Azure.</span></span> <span data-ttu-id="f78bd-468">På ena sidan av hello finns ett begränsat antal Lagringskonton per Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="f78bd-468">On hello one side, there is a limited number of Storage Accounts per Azure subscription.</span></span> <span data-ttu-id="f78bd-469">Varje Azure Storage-konto kan innehålla ett stort antal VHD-filer, men det finns en fast gräns på hello Totalt antal IOPS per Lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-469">Although each Azure Storage Account can hold a large number of VHD files, there is a fixed limit on hello total IOPS per Storage Account.</span></span> <span data-ttu-id="f78bd-470">När du distribuerar hundratals SAP virtuella datorer med DBMS system skapar betydande i/o-anrop, är det rekommenderade toodistribute hög IOPS DBMS VMs mellan flera Azure Storage-konton.</span><span class="sxs-lookup"><span data-stu-id="f78bd-470">When deploying hundreds of SAP VMs with DBMS systems creating significant IO calls, it is recommended toodistribute high IOPS DBMS VMs between multiple Azure Storage Accounts.</span></span> <span data-ttu-id="f78bd-471">Vara måste försiktig inte tooexceed hello aktuella begränsningen på Azure Storage-konton per prenumeration.</span><span class="sxs-lookup"><span data-stu-id="f78bd-471">Care must be taken not tooexceed hello current limit of Azure Storage Accounts per subscription.</span></span> <span data-ttu-id="f78bd-472">Eftersom lagringen är en viktig del av hello databasen distributionen för en SAP-system, detta begrepp beskrivs i detalj i hello redan refereras till [DBMS Deployment Guide][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-472">Because storage is a vital part of hello database deployment for an SAP system, this concept is discussed in more detail in hello already referenced [DBMS Deployment Guide][dbms-guide].</span></span>

<span data-ttu-id="f78bd-473">Mer information om Azure Storage-konton finns i [i den här artikeln][storage-scalability-targets].</span><span class="sxs-lookup"><span data-stu-id="f78bd-473">More information about Azure Storage Accounts can be found in [this article][storage-scalability-targets].</span></span> <span data-ttu-id="f78bd-474">Läsa den här artikeln, inser du att det finns skillnader i hello begränsningar mellan Lagringskonton i Azure-Standard och Premium-Lagringskonton.</span><span class="sxs-lookup"><span data-stu-id="f78bd-474">Reading this article, you realize that there are differences in hello limitations between Azure Standard Storage Accounts and Premium Storage Accounts.</span></span> <span data-ttu-id="f78bd-475">Viktiga skillnader är hello mängden data som kan lagras i ett Lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-475">Major differences are hello volume of data that can be stored within such a Storage Account.</span></span> <span data-ttu-id="f78bd-476">I standardlagring är hello volym en omfattning som är större än med Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-476">In Standard Storage hello volume is a magnitude larger than with Premium Storage.</span></span> <span data-ttu-id="f78bd-477">På hello är andra sidan hello standardkonto för lagring kraftigt begränsad IOPS (se kolumnen 'Totala begära hastigheten'), medan hello Azure Premium Storage-konto har ingen sådan begränsning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-477">On hello other side, hello Standard Storage Account is severely limited in IOPS (see column ‘Total Request Rate’), whereas hello Azure Premium Storage Account has no such limitation.</span></span> <span data-ttu-id="f78bd-478">Diskuteras information och resultatet av dessa skillnader när du ska diskutera hello distributioner av SAP-system, särskilt hello DBMS-servrar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-478">We will discuss details and results of these differences when discussing hello deployments of SAP systems, especially hello DBMS servers.</span></span>

<span data-ttu-id="f78bd-479">Ha hello möjligheten toocreate olika behållare i hello syftet att ordna och kategorisera olika virtuella hårddiskar inom ett Lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-479">Within a Storage Account, you have hello possibility toocreate different containers for hello purpose of organizing and categorizing different VHDs.</span></span> <span data-ttu-id="f78bd-480">Dessa behållare används vanligtvis för att till exempel separata virtuella hårddiskar på olika virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-480">These containers are usually used to, for example, separate VHDs of different VMs.</span></span> <span data-ttu-id="f78bd-481">Det finns inga konsekvenser för prestanda i med hjälp av en behållare eller flera behållare under en enda Azure Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-481">There are no performance implications in using just one container or multiple containers underneath a single Azure Storage Account.</span></span>

<span data-ttu-id="f78bd-482">I Azure följer en VHD-namnet hello följande namngivning anslutning som måste tooprovide ett unikt namn för hello VHD i Azure:</span><span class="sxs-lookup"><span data-stu-id="f78bd-482">Within Azure a VHD name follows hello following naming connection that needs tooprovide a unique name for hello VHD within Azure:</span></span>

    http(s)://<storage account name>.blob.core.windows.net/<container name>/<vhd name>

<span data-ttu-id="f78bd-483">Som nämnts hello sträng ovan måste toouniquely identifiera hello VHD som lagras på Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="f78bd-483">As mentioned hello string above needs toouniquely identify hello VHD that is stored on Azure Storage.</span></span>

### <span data-ttu-id="f78bd-484"><a name="61678387-8868-435d-9f8c-450b2424f5bd"></a>Microsoft Azure-nätverk</span><span class="sxs-lookup"><span data-stu-id="f78bd-484"><a name="61678387-8868-435d-9f8c-450b2424f5bd"></a>Microsoft Azure Networking</span></span>
<span data-ttu-id="f78bd-485">Microsoft Azure tillhandahåller nätverksinfrastruktur, vilket gör att hello mappningen av alla scenarier som vi vill toorealize med SAP-program.</span><span class="sxs-lookup"><span data-stu-id="f78bd-485">Microsoft Azure provides a network infrastructure, which allows hello mapping of all scenarios, which we want toorealize with SAP software.</span></span> <span data-ttu-id="f78bd-486">hello funktioner är:</span><span class="sxs-lookup"><span data-stu-id="f78bd-486">hello capabilities are:</span></span>

* <span data-ttu-id="f78bd-487">Åtkomst från hello utanför direkt toohello virtuella datorer via Windows Terminal Services eller ssh/VNC</span><span class="sxs-lookup"><span data-stu-id="f78bd-487">Access from hello outside, directly toohello VMs via Windows Terminal Services or ssh/VNC</span></span>
* <span data-ttu-id="f78bd-488">Åtkomst tooservices och specifika portar som används av program inom hello virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="f78bd-488">Access tooservices and specific ports used by applications within hello VMs</span></span>
* <span data-ttu-id="f78bd-489">Intern kommunikation och namnmatchning mellan en grupp med virtuella datorer som distribueras som virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="f78bd-489">Internal Communication and Name Resolution between a group of VMs deployed as Azure VMs</span></span>
* <span data-ttu-id="f78bd-490">Anslutning mellan en kund lokala nätverk och hello Azure-nätverk</span><span class="sxs-lookup"><span data-stu-id="f78bd-490">Cross-premises Connectivity between a customer’s on-premises network and hello Azure network</span></span>
* <span data-ttu-id="f78bd-491">Mellan Azure-Region eller data center anslutning mellan Azure platser</span><span class="sxs-lookup"><span data-stu-id="f78bd-491">Cross Azure Region or data center connectivity between Azure sites</span></span>

<span data-ttu-id="f78bd-492">Mer information hittar du här: <https://azure.microsoft.com/documentation/services/virtual-network/></span><span class="sxs-lookup"><span data-stu-id="f78bd-492">More information can be found here: <https://azure.microsoft.com/documentation/services/virtual-network/></span></span>

<span data-ttu-id="f78bd-493">Det finns många olika möjligheter tooconfigure namn och IP-lösning i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-493">There are many different possibilities tooconfigure name and IP resolution in Azure.</span></span> <span data-ttu-id="f78bd-494">I detta dokument, endast molnbaserad scenarier som förlitar sig på hello standardvärdet med hjälp av Azure DNS (i kontrast toodefining en egen DNS-tjänst).</span><span class="sxs-lookup"><span data-stu-id="f78bd-494">In this document, Cloud-Only scenarios rely on hello default of using Azure DNS (in contrast toodefining an own DNS service).</span></span> <span data-ttu-id="f78bd-495">Det finns också en ny Azure DNS-tjänst som kan användas i stället för att ställa in DNS-servern.</span><span class="sxs-lookup"><span data-stu-id="f78bd-495">There is also a new Azure DNS service, which can be used instead of setting up your own DNS server.</span></span> <span data-ttu-id="f78bd-496">Mer information finns i [i den här artikeln] [ virtual-networks-manage-dns-in-vnet] på [den här sidan](https://azure.microsoft.com/services/dns/).</span><span class="sxs-lookup"><span data-stu-id="f78bd-496">More information can be found in [this article][virtual-networks-manage-dns-in-vnet] and on [this page](https://azure.microsoft.com/services/dns/).</span></span>

<span data-ttu-id="f78bd-497">För anslutningar mellan lokala scenarier vi måste hello faktum att hello lokala DNS-AD/OpenLDAP har utökats via VPN eller privat anslutning tooAzure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-497">For cross-premises scenarios, we are relying on hello fact that hello on-premises AD/OpenLDAP/DNS has been extended via VPN or private connection tooAzure.</span></span> <span data-ttu-id="f78bd-498">För vissa scenarier som beskrivs här, kan det vara nödvändigt toohave replik av en AD/OpenLDAP installerad i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-498">For certain scenarios as documented here, it might be necessary toohave an AD/OpenLDAP replica installed in Azure.</span></span>

<span data-ttu-id="f78bd-499">Eftersom nätverk och namnmatchning är en viktig del av hello databasen distributionen för en SAP-system, detta begrepp som diskuteras i detalj i hello [DBMS Deployment Guide][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-499">Because networking and name resolution is a vital part of hello database deployment for an SAP system, this concept is discussed in more detail in hello [DBMS Deployment Guide][dbms-guide].</span></span>

##### <a name="azure-virtual-networks"></a><span data-ttu-id="f78bd-500">Azure Virtual Networks</span><span class="sxs-lookup"><span data-stu-id="f78bd-500">Azure Virtual Networks</span></span>
<span data-ttu-id="f78bd-501">Du kan definiera hello adressintervallet hello privata IP-adresser som allokerats av Azure DHCP-funktioner genom att bygga upp ett Azure Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="f78bd-501">By building up an Azure Virtual Network, you can define hello address range of hello private IP addresses allocated by Azure DHCP functionality.</span></span> <span data-ttu-id="f78bd-502">I scenarier med anslutningar mellan lokala fördelas hello IP-adressintervall som definierats fortfarande med hjälp av DHCP av Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-502">In cross-premises scenarios, hello IP address range defined is still allocated using DHCP by Azure.</span></span> <span data-ttu-id="f78bd-503">Domain Name resolution görs lokalt (förutsatt att hello virtuella datorer är en del av en lokal domän) och därför kan matcha adresser utöver olika Azure-molntjänster.</span><span class="sxs-lookup"><span data-stu-id="f78bd-503">However, Domain Name resolution is done on-premises (assuming that hello VMs are a part of an on-premises domain) and hence can resolve addresses beyond different Azure Cloud Services.</span></span>

<span data-ttu-id="f78bd-504">Varje virtuell dator i Azure måste toobe ansluten tooa virtuellt nätverk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-504">Every Virtual Machine in Azure needs toobe connected tooa Virtual Network.</span></span>

<span data-ttu-id="f78bd-505">Mer information finns i [i den här artikeln] [ resource-groups-networking] på [den här sidan](https://azure.microsoft.com/documentation/services/virtual-network/).</span><span class="sxs-lookup"><span data-stu-id="f78bd-505">More details can be found in [this article][resource-groups-networking] and on [this page](https://azure.microsoft.com/documentation/services/virtual-network/).</span></span>

[comment]: <> (MShermannd TODO gick inte att hitta en artikel som innehåller hello OpenLDAP avsnittet + ARM;)
[comment]: <> (MSSedusch < https://channel9.msdn.com/Blogs/Open/Load-balancing-highly-available-Linux-services-on-Windows-Azure-OpenLDAP-and-MySQL>)

> [!NOTE]
> <span data-ttu-id="f78bd-508">Som standard när en virtuell dator distribueras ändra du inte hello konfiguration av virtuellt nätverk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-508">By default, once a VM is deployed you cannot change hello Virtual Network configuration.</span></span> <span data-ttu-id="f78bd-509">hello TCP/IP-inställningar måste finnas kvar toohello Azure DHCP-server.</span><span class="sxs-lookup"><span data-stu-id="f78bd-509">hello TCP/IP settings must be left toohello Azure DHCP server.</span></span> <span data-ttu-id="f78bd-510">Standardbeteendet är dynamisk IP-tilldelning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-510">Default behavior is Dynamic IP assignment.</span></span>
>
>

<span data-ttu-id="f78bd-511">hello MAC-adressen för hello virtuella nätverkskort kan ändras, till exempel efter ändring av storlek och Hej Windows eller Linux gästoperativsystemet hämtar hello nytt nätverkskort och använder automatiskt DHCP tooassign hello IP- och DNS-adresser i det här fallet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-511">hello MAC address of hello virtual network card may change, for example after resize and hello Windows or Linux guest OS picks up hello new network card and automatically uses DHCP tooassign hello IP and DNS addresses in this case.</span></span>

##### <a name="static-ip-assignment"></a><span data-ttu-id="f78bd-512">Statiska IP-tilldelning</span><span class="sxs-lookup"><span data-stu-id="f78bd-512">Static IP Assignment</span></span>
<span data-ttu-id="f78bd-513">Det är möjligt tooassign fast eller reserverade IP-adresser tooVMs inom ett Azure Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="f78bd-513">It is possible tooassign fixed or reserved IP addresses tooVMs within an Azure Virtual Network.</span></span> <span data-ttu-id="f78bd-514">Hello virtuella datorer som körs i ett Azure Virtual Network öppnas en bra möjlighet tooleverage den här funktionen om behövs eller krävs för vissa scenarier.</span><span class="sxs-lookup"><span data-stu-id="f78bd-514">Running hello VMs in an Azure Virtual Network opens a great possibility tooleverage this functionality if needed or required for some scenarios.</span></span> <span data-ttu-id="f78bd-515">hello IP-adresstilldelning förblir giltigt i hela hello förekomsten av hello VM, oberoende av om hello VM körs eller avstängning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-515">hello IP assignment remains valid throughout hello existence of hello VM, independent of whether hello VM is running or shutdown.</span></span> <span data-ttu-id="f78bd-516">Därför behöver du tootake hello totala antalet virtuella datorer (VM körs och stoppas) i beräkningen när du definierar hello intervall med IP-adresser för hello virtuellt nätverk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-516">As a result, you need tootake hello overall number of VMs (running and stopped VMS) into account when defining hello range of IP addresses for hello Virtual Network.</span></span> <span data-ttu-id="f78bd-517">hello IP-adressen förblir tilldelade tills hello VM och dess nätverksgränssnittet tas bort eller tills hello IP-adressen hämtar Frigör igen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-517">hello IP address remains assigned either until hello VM and its Network Interface is deleted or until hello IP address gets de-assigned again.</span></span> <span data-ttu-id="f78bd-518">Mer information finns [i den här artikeln][virtual-networks-static-private-ip-arm-pportal].</span><span class="sxs-lookup"><span data-stu-id="f78bd-518">For more information, read [this article][virtual-networks-static-private-ip-arm-pportal].</span></span>

##### <a name="multiple-nics-per-vm"></a><span data-ttu-id="f78bd-519">Flera nätverkskort per VM</span><span class="sxs-lookup"><span data-stu-id="f78bd-519">Multiple NICs per VM</span></span>
<span data-ttu-id="f78bd-520">Du kan definiera flera virtuella nätverkskort (vNIC) för en virtuell dator i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-520">You can define multiple virtual network interface cards (vNIC) for an Azure Virtual Machine.</span></span> <span data-ttu-id="f78bd-521">Med hello möjlighet toohave flera vNICs kan du starta tooset upp nätverket trafik avgränsning om exempelvis klienttrafik dirigeras via ett virtuellt nätverkskort och backend-trafik dirigeras via en andra vNIC.</span><span class="sxs-lookup"><span data-stu-id="f78bd-521">With hello ability toohave multiple vNICs you can start tooset up network traffic separation where, for example, client traffic is routed through one vNIC and backend traffic is routed through a second vNIC.</span></span> <span data-ttu-id="f78bd-522">Beroende på hello typ av VM finns olika begränsningar i fråga om toohello antal vNICs.</span><span class="sxs-lookup"><span data-stu-id="f78bd-522">Dependent on hello type of VM there are different limitations in regards toohello number of vNICs.</span></span> <span data-ttu-id="f78bd-523">Exakta detaljer, funktioner och begränsningar finns i följande artiklar:</span><span class="sxs-lookup"><span data-stu-id="f78bd-523">Exact details, functionality, and restrictions can be found in these articles:</span></span>

* <span data-ttu-id="f78bd-524">[Skapa en virtuell Windows-dator med flera nätverkskort][virtual-networks-multiple-nics-windows]</span><span class="sxs-lookup"><span data-stu-id="f78bd-524">[Create a Windows VM with multiple NICs][virtual-networks-multiple-nics-windows]</span></span>
* <span data-ttu-id="f78bd-525">[Skapa en Linux VM med flera nätverkskort][virtual-networks-multiple-nics-linux]</span><span class="sxs-lookup"><span data-stu-id="f78bd-525">[Create a Linux VM with multiple NICs][virtual-networks-multiple-nics-linux]</span></span>
* <span data-ttu-id="f78bd-526">[Distribuera flera NIC virtuella datorer med hjälp av en mall][virtual-network-deploy-multinic-arm-template]</span><span class="sxs-lookup"><span data-stu-id="f78bd-526">[Deploy multi NIC VMs using a template][virtual-network-deploy-multinic-arm-template]</span></span>
* <span data-ttu-id="f78bd-527">[Distribuera flera NIC virtuella datorer med hjälp av PowerShell][virtual-network-deploy-multinic-arm-ps]</span><span class="sxs-lookup"><span data-stu-id="f78bd-527">[Deploy multi NIC VMs using PowerShell][virtual-network-deploy-multinic-arm-ps]</span></span>
* <span data-ttu-id="f78bd-528">[Distribuera flera NIC virtuella datorer med hello Azure CLI][virtual-network-deploy-multinic-arm-cli]</span><span class="sxs-lookup"><span data-stu-id="f78bd-528">[Deploy multi NIC VMs using hello Azure CLI][virtual-network-deploy-multinic-arm-cli]</span></span>

#### <a name="site-to-site-connectivity"></a><span data-ttu-id="f78bd-529">Plats-till-plats-anslutning</span><span class="sxs-lookup"><span data-stu-id="f78bd-529">Site-to-Site Connectivity</span></span>
<span data-ttu-id="f78bd-530">Anslutningar mellan lokala är virtuella Azure-datorer och lokala kopplad till en transparent och permanenta VPN-anslutning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-530">Cross-premises is Azure VMs and On-Premises linked with a transparent and permanent VPN connection.</span></span> <span data-ttu-id="f78bd-531">Är det förväntade toobecome hello vanligaste SAP-distribution mönster i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-531">It is expected toobecome hello most common SAP deployment pattern in Azure.</span></span> <span data-ttu-id="f78bd-532">hello antas att operativa procedurer och processer med SAP-instanser i Azure bör fungera transparent.</span><span class="sxs-lookup"><span data-stu-id="f78bd-532">hello assumption is that operational procedures and processes with SAP instances in Azure should work transparently.</span></span> <span data-ttu-id="f78bd-533">Det innebär att du ska vara kan tooprint utanför dessa system som använder hello SAP Transport Management System (Proportionerlig) tootransport ändras från en utvecklingssystemet i Azure tooa testsystemet som är distribuerade lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-533">This means you should be able tooprint out of these systems as well as use hello SAP Transport Management System (TMS) tootransport changes from a development system in Azure tooa test system, which is deployed on-premises.</span></span> <span data-ttu-id="f78bd-534">Mer dokumentation runt plats-till-plats finns i [i den här artikeln][vpn-gateway-create-site-to-site-rm-powershell]</span><span class="sxs-lookup"><span data-stu-id="f78bd-534">More documentation around site-to-site can be found in [this article][vpn-gateway-create-site-to-site-rm-powershell]</span></span>

##### <a name="vpn-tunnel-device"></a><span data-ttu-id="f78bd-535">VPN-Tunnel-enhet</span><span class="sxs-lookup"><span data-stu-id="f78bd-535">VPN Tunnel Device</span></span>
<span data-ttu-id="f78bd-536">I ordning toocreate en plats-till-plats-anslutning (lokala data center tooAzure datacenter), måste du tooeither hämtar och konfigurera en VPN-enhet eller använda Routing and Remote Access Service (RRAS) som introducerades som en programvarukomponent med Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="f78bd-536">In order toocreate a site-to-site connection (on-premises data center tooAzure data center), you need tooeither obtain and configure a VPN device, or use Routing and Remote Access Service (RRAS) which was introduced as a software component with Windows Server 2012.</span></span>

* <span data-ttu-id="f78bd-537">[Skapa ett virtuellt nätverk med en plats-till-plats VPN-anslutning med hjälp av PowerShell][vpn-gateway-create-site-to-site-rm-powershell]</span><span class="sxs-lookup"><span data-stu-id="f78bd-537">[Create a virtual network with a site-to-site VPN connection using PowerShell][vpn-gateway-create-site-to-site-rm-powershell]</span></span>
* <span data-ttu-id="f78bd-538">[Om VPN-enheter för plats-till-plats VPN-Gateway-anslutningar][vpn-gateway-about-vpn-devices]</span><span class="sxs-lookup"><span data-stu-id="f78bd-538">[About VPN devices for Site-to-Site VPN Gateway connections][vpn-gateway-about-vpn-devices]</span></span>
* <span data-ttu-id="f78bd-539">[Vanliga frågor och svar för VPN-Gateway][vpn-gateway-vpn-faq]</span><span class="sxs-lookup"><span data-stu-id="f78bd-539">[VPN Gateway FAQ][vpn-gateway-vpn-faq]</span></span>

![Plats-till-plats-anslutning mellan Azure och lokalt][planning-guide-figure-600]

<span data-ttu-id="f78bd-541">hello ovanstående bild visar två Azure-prenumerationer har IP-adressen underintervall reserverade för användning i virtuella nätverk i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-541">hello Figure above shows two Azure subscriptions have IP address subranges reserved for usage in Virtual Networks in Azure.</span></span> <span data-ttu-id="f78bd-542">hello anslutningen från hello lokalt nätverk tooAzure upprättas via VPN.</span><span class="sxs-lookup"><span data-stu-id="f78bd-542">hello connectivity from hello on-premises network tooAzure is established via VPN.</span></span>

#### <a name="point-to-site-vpn"></a><span data-ttu-id="f78bd-543">Punkt-till-plats VPN</span><span class="sxs-lookup"><span data-stu-id="f78bd-543">Point-to-Site VPN</span></span>
<span data-ttu-id="f78bd-544">Punkt-till-plats VPN kräver varje klient datorn tooconnect med sin egen VPN till Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-544">Point-to-site VPN requires every client machine tooconnect with its own VPN into Azure.</span></span> <span data-ttu-id="f78bd-545">Punkt-till-plats-anslutning är inte praktiskt hello SAP scenarier vi tittar på.</span><span class="sxs-lookup"><span data-stu-id="f78bd-545">For hello SAP scenarios we are looking at, point-to-site connectivity is not practical.</span></span> <span data-ttu-id="f78bd-546">Därför kan hänvisningar inga ytterligare toopoint-till-plats VPN-anslutning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-546">Therefore, no further references are given toopoint-to-site VPN connectivity.</span></span>

<span data-ttu-id="f78bd-547">Mer information hittar du här</span><span class="sxs-lookup"><span data-stu-id="f78bd-547">More information can be found here</span></span>
* [<span data-ttu-id="f78bd-548">Konfigurera en punkt-till-plats-anslutning tooa VNet med hjälp av hello Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="f78bd-548">Configure a Point-to-Site connection tooa VNet using hello Azure portal</span></span>](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal)
* [<span data-ttu-id="f78bd-549">Konfigurera en punkt-till-plats-anslutning tooa VNet med PowerShell</span><span class="sxs-lookup"><span data-stu-id="f78bd-549">Configure a Point-to-Site connection tooa VNet using PowerShell</span></span>](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-rm-ps)

#### <a name="multi-site-vpn"></a><span data-ttu-id="f78bd-550">Flera plats-VPN</span><span class="sxs-lookup"><span data-stu-id="f78bd-550">Multi-Site VPN</span></span>
<span data-ttu-id="f78bd-551">Azure erbjuder också Nuförtiden hello möjligheten toocreate flera plats-VPN-anslutning för en Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="f78bd-551">Azure also nowadays offers hello possibility toocreate Multi-Site VPN connectivity for one Azure subscription.</span></span> <span data-ttu-id="f78bd-552">Tidigare var en enda prenumeration begränsad tooone plats-till-plats VPN-anslutning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-552">Previously a single subscription was limited tooone site-to-site VPN connection.</span></span> <span data-ttu-id="f78bd-553">Den här begränsningen försvann med flera plats-VPN-anslutningar för en enda prenumeration.</span><span class="sxs-lookup"><span data-stu-id="f78bd-553">This limitation went away with Multi-Site VPN connections for a single subscription.</span></span> <span data-ttu-id="f78bd-554">Detta gör det möjligt tooleverage mer än en Azure-Region för en viss prenumeration via anslutningar mellan lokala konfigurationer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-554">This makes it possible tooleverage more than one Azure Region for a specific subscription through cross-premises configurations.</span></span>

<span data-ttu-id="f78bd-555">Mer dokumentation finns [i den här artikeln][vpn-gateway-create-site-to-site-rm-powershell]</span><span class="sxs-lookup"><span data-stu-id="f78bd-555">For more documentation, please see [this article][vpn-gateway-create-site-to-site-rm-powershell]</span></span>

[comment]: <> (MShermannd TODO hittades ingen ARM doku länk)

#### <a name="vnet-toovnet-connection"></a><span data-ttu-id="f78bd-557">VNet tooVNet anslutning</span><span class="sxs-lookup"><span data-stu-id="f78bd-557">VNet tooVNet Connection</span></span>
<span data-ttu-id="f78bd-558">Använda flera plats-VPN måste tooconfigure ett separat virtuellt nätverk med Azure i varje hello regioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-558">Using Multi-Site VPN, you need tooconfigure a separate Azure Virtual Network in each of hello regions.</span></span> <span data-ttu-id="f78bd-559">Du har dock ofta hello kravet att hello programvarukomponenter i hello olika områden ska kommunicera med varandra.</span><span class="sxs-lookup"><span data-stu-id="f78bd-559">However very often you have hello requirement that hello software components in hello different regions should communicate with each other.</span></span> <span data-ttu-id="f78bd-560">Den här kommunikationen ska helst inte vidarebefordras från en Azure-Region tooon lokalt och från toohello andra Azure-Region.</span><span class="sxs-lookup"><span data-stu-id="f78bd-560">Ideally this communication should not be routed from one Azure Region tooon-premises and from there toohello other Azure Region.</span></span> <span data-ttu-id="f78bd-561">tooshortcut, Azure erbjuder hello möjligheten tooconfigure en anslutning från ett virtuellt Azure-nätverk i en region tooanother Azure-nätverk finns i en annan region.</span><span class="sxs-lookup"><span data-stu-id="f78bd-561">tooshortcut, Azure offers hello possibility tooconfigure a connection from one Azure Virtual Network in one region tooanother Azure Virtual Network hosted in another region.</span></span> <span data-ttu-id="f78bd-562">Den här funktionen kallas VNet-till-VNet-anslutningen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-562">This functionality is called VNet-to-VNet connection.</span></span> <span data-ttu-id="f78bd-563">Mer information om den här funktionen finns här: <https://azure.microsoft.com/documentation/articles/vpn-gateway-vnet-vnet-rm-ps/>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-563">More details on this functionality can be found here: <https://azure.microsoft.com/documentation/articles/vpn-gateway-vnet-vnet-rm-ps/>.</span></span>

#### <a name="private-connection-tooazure--expressroute"></a><span data-ttu-id="f78bd-564">Privata anslutning tooAzure – ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="f78bd-564">Private Connection tooAzure – ExpressRoute</span></span>
<span data-ttu-id="f78bd-565">Microsoft Azure ExpressRoute kan privata anslutningar mellan Azure-datacenter och antingen hello kundens lokala infrastruktur eller i en miljö med samplacering hello skapas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-565">Microsoft Azure ExpressRoute allows hello creation of private connections between Azure data centers and either hello customer's on-premises infrastructure or in a co-location environment.</span></span> <span data-ttu-id="f78bd-566">ExpressRoute erbjuds av olika MPLS (paketväxlat) VPN-leverantörer eller andra leverantörer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-566">ExpressRoute is offered by various MPLS (packet switched) VPN providers or other Network Service Providers.</span></span> <span data-ttu-id="f78bd-567">ExpressRoute-anslutningar inte överskrider hello offentliga Internet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-567">ExpressRoute connections do not go over hello public Internet.</span></span> <span data-ttu-id="f78bd-568">ExpressRoute-anslutningar ger högre säkerhet och högre tillförlitlighet via flera parallella kretsar högre hastighet och lägre svarstider än vanliga anslutningar över hello Internet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-568">ExpressRoute connections offer higher security, more reliability through multiple parallel circuits, faster speeds, and lower latencies than typical connections over hello Internet.</span></span>

<span data-ttu-id="f78bd-569">Hitta mer information om Azure ExpressRoute och erbjudanden här:</span><span class="sxs-lookup"><span data-stu-id="f78bd-569">Find more details on Azure ExpressRoute and offerings here:</span></span>

* <span data-ttu-id="f78bd-570"><https://Azure.microsoft.com/Documentation/Services/expressroute/></span><span class="sxs-lookup"><span data-stu-id="f78bd-570"><https://azure.microsoft.com/documentation/services/expressroute/></span></span>
* <span data-ttu-id="f78bd-571"><https://Azure.microsoft.com/pricing/details/expressroute/></span><span class="sxs-lookup"><span data-stu-id="f78bd-571"><https://azure.microsoft.com/pricing/details/expressroute/></span></span>
* <span data-ttu-id="f78bd-572"><https://Azure.microsoft.com/Documentation/articles/expressroute-faqs/></span><span class="sxs-lookup"><span data-stu-id="f78bd-572"><https://azure.microsoft.com/documentation/articles/expressroute-faqs/></span></span>

<span data-ttu-id="f78bd-573">Expressroute gör att flera Azure-prenumerationer via en ExpressRoute-krets dokumenteras här</span><span class="sxs-lookup"><span data-stu-id="f78bd-573">Express Route enables multiple Azure subscriptions through one ExpressRoute circuit as documented here</span></span>

* <span data-ttu-id="f78bd-574"><https://Azure.microsoft.com/Documentation/articles/expressroute-howto-linkvnet-arm/></span><span class="sxs-lookup"><span data-stu-id="f78bd-574"><https://azure.microsoft.com/documentation/articles/expressroute-howto-linkvnet-arm/></span></span>
* <span data-ttu-id="f78bd-575"><https://Azure.microsoft.com/Documentation/articles/expressroute-howto-Circuit-arm/></span><span class="sxs-lookup"><span data-stu-id="f78bd-575"><https://azure.microsoft.com/documentation/articles/expressroute-howto-circuit-arm/></span></span>

#### <a name="forced-tunneling-in-case-of-cross-premises"></a><span data-ttu-id="f78bd-576">Tvingad tunneltrafik vid mellan platser</span><span class="sxs-lookup"><span data-stu-id="f78bd-576">Forced tunneling in case of cross-premises</span></span>
<span data-ttu-id="f78bd-577">För virtuella datorer ansluta till lokala domäner via plats-till-plats, punkt-till-plats eller ExpressRoute, behöver du till att hello Internet-proxyinställningarna komma att distribueras för alla hello användare i dessa virtuella datorer samt toomake.</span><span class="sxs-lookup"><span data-stu-id="f78bd-577">For VMs joining on-premises domains through site-to-site, point-to-site or ExpressRoute, you need toomake sure that hello Internet proxy settings are getting deployed for all hello users in those VMs as well.</span></span> <span data-ttu-id="f78bd-578">Som standard program som körs i de virtuella datorer eller användare som använder en webbläsare tooaccess hello internet inte skulle gå igenom hello företagets proxy, men skulle ansluta direkt till Azure toohello internet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-578">By default, software running in those VMs or users using a browser tooaccess hello internet would not go through hello company proxy, but would connect straight through Azure toohello internet.</span></span> <span data-ttu-id="f78bd-579">Men även hello proxyinställning är inte en 100-procentig toodirect hello trafik via hello företagets proxy eftersom det är program och tjänster toocheck ansvar för hello-proxy.</span><span class="sxs-lookup"><span data-stu-id="f78bd-579">But even hello proxy setting is not a 100% solution toodirect hello traffic through hello company proxy since it is responsibility of software and services toocheck for hello proxy.</span></span> <span data-ttu-id="f78bd-580">Om program som körs i hello VM inte gör detta eller administratör manipulerar hello inställningar, trafik toohello Internet detoured med igen direkt via Azure toohello Internet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-580">If software running in hello VM is not doing that or an administrator manipulates hello settings, traffic toohello Internet can be detoured again directly through Azure toohello Internet.</span></span>

<span data-ttu-id="f78bd-581">I ordning tooavoid detta, kan du konfigurera Tvingad Tunneling med plats-till-plats-anslutning mellan Azure och lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-581">In order tooavoid this, you can configure Forced Tunneling with site-to-site connectivity between on-premises and Azure.</span></span> <span data-ttu-id="f78bd-582">hello detaljerad beskrivning av hello Tvingad tunneltrafik funktionen publiceras här <https://azure.microsoft.com/documentation/articles/vpn-gateway-forced-tunneling-rm/></span><span class="sxs-lookup"><span data-stu-id="f78bd-582">hello detailed description of hello Forced Tunneling feature is published here <https://azure.microsoft.com/documentation/articles/vpn-gateway-forced-tunneling-rm/></span></span>

<span data-ttu-id="f78bd-583">Tvingad Tunneling med ExpressRoute aktiveras av kunder annonserar en standardväg via hello ExpressRoute BGP peeringsessioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-583">Forced Tunneling with ExpressRoute is enabled by customers advertising a default route via hello ExpressRoute BGP peering sessions.</span></span>

#### <a name="summary-of-azure-networking"></a><span data-ttu-id="f78bd-584">Översikt över Azure-nätverk</span><span class="sxs-lookup"><span data-stu-id="f78bd-584">Summary of Azure Networking</span></span>
<span data-ttu-id="f78bd-585">Det här kapitlet innehåller många viktiga punkter om Azure-nätverk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-585">This chapter contained many important points about Azure Networking.</span></span> <span data-ttu-id="f78bd-586">Här följer en sammanfattning av hello huvudpunkter:</span><span class="sxs-lookup"><span data-stu-id="f78bd-586">Here is a summary of hello main points:</span></span>

* <span data-ttu-id="f78bd-587">Virtuella Azure-nätverk kan tooset hello nätverk enligt tooyour egna behov</span><span class="sxs-lookup"><span data-stu-id="f78bd-587">Azure Virtual Networks allows tooset up hello network according tooyour own needs</span></span>
* <span data-ttu-id="f78bd-588">Virtuella Azure-nätverk kan balanserad tooassign IP-adress, intervall tooVMs eller tilldela fasta IP-adresser tooVMs</span><span class="sxs-lookup"><span data-stu-id="f78bd-588">Azure Virtual Networks can be leveraged tooassign IP address ranges tooVMs or assign fixed IP addresses tooVMs</span></span>
* <span data-ttu-id="f78bd-589">tooset upp en plats-till-plats eller en punkt-till-plats-anslutning toocreate ett Azure Virtual Network måste först</span><span class="sxs-lookup"><span data-stu-id="f78bd-589">tooset up a Site-To-Site or Point-To-Site connection you need toocreate an Azure Virtual Network first</span></span>
* <span data-ttu-id="f78bd-590">När en virtuell dator har distribuerats, är det inte längre möjligt toochange hello virtuellt nätverk tilldelas toohello VM</span><span class="sxs-lookup"><span data-stu-id="f78bd-590">Once a virtual machine has been deployed, it is no longer possible toochange hello Virtual Network assigned toohello VM</span></span>

### <a name="quotas-in-azure-virtual-machine-services"></a><span data-ttu-id="f78bd-591">Kvoter i virtuell dator i Azure-tjänster</span><span class="sxs-lookup"><span data-stu-id="f78bd-591">Quotas in Azure Virtual Machine Services</span></span>
<span data-ttu-id="f78bd-592">Vi behöver toobe Rensa om hello faktum att hello lagring och nätverksinfrastruktur delas mellan virtuella datorer som kör en mängd olika tjänster i hello Azure-infrastrukturen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-592">We need toobe clear about hello fact that hello storage and network infrastructure is shared between VMs running a variety of services in hello Azure infrastructure.</span></span> <span data-ttu-id="f78bd-593">Och precis som hello kundens eget datacenter, överbelasta av hello infrastruktur resurser tar plats tooa grad.</span><span class="sxs-lookup"><span data-stu-id="f78bd-593">And just as in hello customer’s own data centers, over-provisioning of some of hello infrastructure resources does take place tooa degree.</span></span> <span data-ttu-id="f78bd-594">hello Microsoft Azure-plattformen använder disk, CPU, nätverk och andra kvoter toolimit hello resursförbrukning och toopreserve konsekvent och deterministisk prestanda.</span><span class="sxs-lookup"><span data-stu-id="f78bd-594">hello Microsoft Azure Platform uses disk, CPU, network, and other quotas toolimit hello resource consumption and toopreserve consistent and deterministic performance.</span></span>  <span data-ttu-id="f78bd-595">hello VM av olika typer (A5, A6 osv.) har olika kvoter för hello antal diskar, processor, RAM-minne och nätverk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-595">hello different VM types (A5, A6, etc.) have different quotas for hello number of disks, CPU, RAM, and Network.</span></span>

> [!NOTE]
> <span data-ttu-id="f78bd-596">Processor och minne resurser av hello VM typer som stöds av SAP är förallokerade på hello värdnoderna.</span><span class="sxs-lookup"><span data-stu-id="f78bd-596">CPU and memory resources of hello VM types supported by SAP are pre-allocated on hello host nodes.</span></span> <span data-ttu-id="f78bd-597">Det innebär att hello resurser på hello värden är tillgängliga som definieras av hello VM typen när hello VM har distribuerats.</span><span class="sxs-lookup"><span data-stu-id="f78bd-597">This means that once hello VM is deployed, hello resources on hello host are available as defined by hello VM type.</span></span>
>
>

<span data-ttu-id="f78bd-598">När planering och storleksanpassa SAP på Azure lösningar hello kvoter för varje virtuell datorstorlek måste beaktas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-598">When planning and sizing SAP on Azure solutions hello quotas for each virtual machine size must be considered.</span></span> <span data-ttu-id="f78bd-599">hello VM kvoter beskrivs [här (Linux)] [ virtual-machines-sizes-linux] och [här (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="f78bd-599">hello VM quotas are described [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="f78bd-600">hello kvoter beskrivs representerar hello teoretisk högsta värden.</span><span class="sxs-lookup"><span data-stu-id="f78bd-600">hello quotas described represent hello theoretical maximum values.</span></span>  <span data-ttu-id="f78bd-601">hello gränsen på IOPS per disk kan uppnås med små IOs (8kb), men de kan eventuellt inte uppnås med stora IOs (1Mb).</span><span class="sxs-lookup"><span data-stu-id="f78bd-601">hello limit of IOPS per disk may be achieved with small IOs (8kb) but possibly may not be achieved with large IOs (1Mb).</span></span>  <span data-ttu-id="f78bd-602">hello IOPS gränsen tillämpas på hello Granulariteten för enskild disk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-602">hello IOPS limit is enforced on hello granularity of single disk.</span></span>

<span data-ttu-id="f78bd-603">Som en grov beslut trädet toodecide kan om ett SAP-system som passar in i Azure-tjänster för virtuella datorer och dess funktioner eller om ett befintligt system måste konfigureras på olika sätt i ordning toodeploy hello system på Azure toobe, hello beslutsträdet nedan användas:</span><span class="sxs-lookup"><span data-stu-id="f78bd-603">As a rough decision tree toodecide whether an SAP system fits into Azure Virtual Machine Services and its capabilities or whether an existing system needs toobe configured differently in order toodeploy hello system on Azure, hello decision tree below can be used:</span></span>

![Decision trädet toodecide möjlighet toodeploy SAP på Azure][planning-guide-figure-700]

<span data-ttu-id="f78bd-605">**Steg 1**: hello viktigaste information toostart med är hello SAP krav för ett visst SAP-system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-605">**Step 1**: hello most important information toostart with is hello SAPS requirement for a given SAP system.</span></span> <span data-ttu-id="f78bd-606">hello SAP krav måste toobe separeras i hello DBMS och hello SAP programmet del, även om hello SAP system redan distribuerats lokalt i en nivå 2-konfiguration.</span><span class="sxs-lookup"><span data-stu-id="f78bd-606">hello SAPS requirements need toobe separated out into hello DBMS part and hello SAP application part, even if hello SAP system is already deployed on-premises in a 2-tier configuration.</span></span> <span data-ttu-id="f78bd-607">Hello SAP relaterade toohello maskinvara används ofta kan fastställa eller beräknat baserat på befintliga SAP prestandamått för befintliga system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-607">For existing systems, hello SAPS related toohello hardware in use often can be determined or estimated based on existing SAP benchmarks.</span></span> <span data-ttu-id="f78bd-608">hello resultat finns här: <http://global.sap.com/campaigns/benchmark/index.epx>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-608">hello results can be found here: <http://global.sap.com/campaigns/benchmark/index.epx>.</span></span>
<span data-ttu-id="f78bd-609">För nyligen distribuerade SAP-system, bör du har gått igenom en storlek Övning som bestämmer hello SAP krav hello system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-609">For newly deployed SAP systems, you should have gone through a sizing exercise, which should determine hello SAPS requirements of hello system.</span></span>
<span data-ttu-id="f78bd-610">Se även den här bloggen och bifogade dokumentet för SAP storlek på Azure: <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span><span class="sxs-lookup"><span data-stu-id="f78bd-610">See also this blog and attached document for SAP sizing on Azure: <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span></span>

<span data-ttu-id="f78bd-611">**Steg 2**: befintliga system hello i i/o-volym och mäts i/o-åtgärder per sekund på hello DBMS-servern.</span><span class="sxs-lookup"><span data-stu-id="f78bd-611">**Step 2**: For existing systems, hello I/O volume and I/O operations per second on hello DBMS server should be measured.</span></span> <span data-ttu-id="f78bd-612">Nyligen planerad system ge hello storleksanpassa Övning för hello nya system även grov idéer hello i/o-krav på hello DBMS-sida.</span><span class="sxs-lookup"><span data-stu-id="f78bd-612">For newly planned systems, hello sizing exercise for hello new system also should give rough ideas of hello I/O requirements on hello DBMS side.</span></span> <span data-ttu-id="f78bd-613">Om du är osäker, måste du slutligen tooconduct ett konceptbevis.</span><span class="sxs-lookup"><span data-stu-id="f78bd-613">If unsure, you eventually need tooconduct a Proof of Concept.</span></span>

<span data-ttu-id="f78bd-614">**Steg 3**: jämföra hello SAP krav för hello DBMS-server med hello SAP hello VM av olika typer av Azure kan ge.</span><span class="sxs-lookup"><span data-stu-id="f78bd-614">**Step 3**: Compare hello SAPS requirement for hello DBMS server with hello SAPS hello different VM types of Azure can provide.</span></span> <span data-ttu-id="f78bd-615">hello information på SAP hello olika Virtuella Azure-typer finns i SAP-kommentar [1928533].</span><span class="sxs-lookup"><span data-stu-id="f78bd-615">hello information on SAPS of hello different Azure VM types is documented in SAP Note [1928533].</span></span> <span data-ttu-id="f78bd-616">hello fokus bör finnas på hello DBMS VM först eftersom hello databasen lagret är hello lager i en SAP NetWeaver system som inte kan skaländras ut i hello flesta distributioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-616">hello focus should be on hello DBMS VM first since hello database layer is hello layer in an SAP NetWeaver system that does not scale out in hello majority of deployments.</span></span> <span data-ttu-id="f78bd-617">Däremot kan hello SAP programnivå skalas ut. Om ingen av hello SAP stöds Virtuella Azure-typer kan leverera hello krävs SAP, hello arbetsbelastning hello planerad SAP-system kan inte köras på Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-617">In contrast, hello SAP application layer can be scaled out. If none of hello SAP supported Azure VM types can deliver hello required SAPS, hello workload of hello planned SAP system can’t be run on Azure.</span></span> <span data-ttu-id="f78bd-618">Du måste antingen toodeploy hello system lokalt eller du behöver toochange hello arbetsbelastning volym för hello system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-618">You either need toodeploy hello system on-premises or you need toochange hello workload volume for hello system.</span></span>

<span data-ttu-id="f78bd-619">**Steg 4**: enligt [här (Linux)] [ virtual-machines-sizes-linux] och [här (Windows)][virtual-machines-sizes-windows], Azure tillämpar en kvot för IOPS per disk oberoende om du använder standardlagring eller Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-619">**Step 4**: As documented [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows], Azure enforces an IOPS quota per disk independent whether you use Standard Storage or Premium Storage.</span></span> <span data-ttu-id="f78bd-620">Beroende på hello VM-typ, hello antalet datadiskar som kan monteras varierar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-620">Dependent on hello VM type, hello number of data disks, which can be mounted varies.</span></span> <span data-ttu-id="f78bd-621">Därför kan du beräkna IOPS maximalt som kan uppnås med respektive hello VM av olika typer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-621">As a result, you can calculate a maximum IOPS number that can be achieved with each of hello different VM types.</span></span> <span data-ttu-id="f78bd-622">Beroende på hello databasen filens layout, du kan stripe-diskar toobecome en volym i hello gäst-OS.</span><span class="sxs-lookup"><span data-stu-id="f78bd-622">Dependent on hello database file layout, you can stripe disks toobecome one volume in hello guest OS.</span></span> <span data-ttu-id="f78bd-623">Men om hello IOPS volym i en distribuerad SAP-systemet överskrider hello beräknade gränserna för hello största VM typ av Azure och om det finns inga chansen toocompensate med mer minne, kan hello arbetsbelastning hello SAP-system påverkas allvarligt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-623">However, if hello current IOPS volume of a deployed SAP system exceeds hello calculated limits of hello largest VM type of Azure and if there is no chance toocompensate with more memory, hello workload of hello SAP system can be impacted severely.</span></span> <span data-ttu-id="f78bd-624">I sådana fall måste nådde du en plats där du inte bör distribuera hello system på Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-624">In such cases, you can hit a point where you should not deploy hello system on Azure.</span></span>

<span data-ttu-id="f78bd-625">**Steg 5**: särskilt i SAP-system som distribueras lokalt i nivå 2-konfigurationer, hello risken är hello system behöva toobe som konfigurerats i Azure i en nivå 3-konfiguration.</span><span class="sxs-lookup"><span data-stu-id="f78bd-625">**Step 5**: Especially in SAP systems, which are deployed on-premises in 2-Tier configurations, hello chances are that hello system might need toobe configured on Azure in a 3-Tier configuration.</span></span> <span data-ttu-id="f78bd-626">I det här steget måste toocheck om det finns en komponent i hello SAP programnivå, vilket inte skalas ut och som inte passar in i hello CPU och minne resurser hello annat Azure VM typer erbjudande.</span><span class="sxs-lookup"><span data-stu-id="f78bd-626">In this step, you need toocheck whether there is a component in hello SAP application layer, which can’t be scaled out and which would not fit into hello CPU and memory resources hello different Azure VM types offer.</span></span> <span data-ttu-id="f78bd-627">Om det verkligen är en sådan komponent, kan inte hello SAP-systemet och dess arbetsbelastningen distribueras till Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-627">If there indeed is such a component, hello SAP system and its workload can’t be deployed into Azure.</span></span> <span data-ttu-id="f78bd-628">Men om du kan skala ut hello SAP-programkomponenter i flera virtuella Azure-datorer, hello system kan distribueras till Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-628">But if you can scale out hello SAP application components into multiple Azure VMs, hello system can be deployed into Azure.</span></span>

<span data-ttu-id="f78bd-629">**Steg 6**: om hello DBMS och SAP layer programkomponenter kan köras på virtuella Azure-datorer, hello konfiguration måste toobe som definierats med avseende på:</span><span class="sxs-lookup"><span data-stu-id="f78bd-629">**Step 6**: If hello DBMS and SAP application layer components can be run in Azure VMs, hello configuration needs toobe defined with regard to:</span></span>

* <span data-ttu-id="f78bd-630">Antal virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="f78bd-630">Number of Azure VMs</span></span>
* <span data-ttu-id="f78bd-631">VM-typer för hello enskilda komponenter</span><span class="sxs-lookup"><span data-stu-id="f78bd-631">VM types for hello individual components</span></span>
* <span data-ttu-id="f78bd-632">Antal virtuella hårddiskar i DBMS VM tooprovide tillräckligt med IOPS</span><span class="sxs-lookup"><span data-stu-id="f78bd-632">Number of VHDs in DBMS VM tooprovide enough IOPS</span></span>

## <a name="managing-azure-assets"></a><span data-ttu-id="f78bd-633">Hantera Azure tillgångar</span><span class="sxs-lookup"><span data-stu-id="f78bd-633">Managing Azure Assets</span></span>
### <a name="azure-portal"></a><span data-ttu-id="f78bd-634">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="f78bd-634">Azure Portal</span></span>
<span data-ttu-id="f78bd-635">hello Azure-portalen är ett av tre gränssnitt toomanage Virtuella Azure-distributioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-635">hello Azure portal is one of three interfaces toomanage Azure VM deployments.</span></span> <span data-ttu-id="f78bd-636">hello grundläggande hanteringsuppgifter som att distribuera virtuella datorer från bilder, kan göras via hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-636">hello basic management tasks, like deploying VMs from images, can be done through hello Azure portal.</span></span> <span data-ttu-id="f78bd-637">Dessutom hello skapande av Lagringskonton, virtuella nätverk och andra Azure-komponenter är också uppgifter hello Azure-portalen kan hantera mycket bra.</span><span class="sxs-lookup"><span data-stu-id="f78bd-637">In addition, hello creation of Storage Accounts, Virtual Networks, and other Azure components are also tasks hello Azure portal can handle very well.</span></span> <span data-ttu-id="f78bd-638">Funktioner som överför virtuella hårddiskar från lokala tooAzure eller kopierar en VHD i Azure är dock uppgifter som kräver verktyg från tredje part eller administration via PowerShell eller CLI.</span><span class="sxs-lookup"><span data-stu-id="f78bd-638">However, functionality like uploading VHDs from on-premises tooAzure or copying a VHD within Azure are tasks, which require either third-party tools or administration through PowerShell or CLI.</span></span>

![Microsoft Azure portal – översikt över virtuella datorer][planning-guide-figure-800]

[comment]: <> (MSSedusch * < https://azure.microsoft.com/documentation/articles/virtual-networks-create-vnet-arm-pportal/>)
[comment]: <> (MSSedusch * < https://azure.microsoft.com/documentation/articles/virtual-machines-windows-tutorial/>)

<span data-ttu-id="f78bd-642">Uppgifter för administration och konfiguration för hello virtuella instansen kan utföras från inom hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-642">Administration and configuration tasks for hello Virtual Machine instance are possible from within hello Azure portal.</span></span>

<span data-ttu-id="f78bd-643">Förutom att starta om och stänga av en virtuell dator kan du också koppla, koppla från och skapa datadiskar för hello virtuella instans toocapture hello-instans för förberedelse av avbildningen och konfigurera hello storleken på hello virtuell datorinstans.</span><span class="sxs-lookup"><span data-stu-id="f78bd-643">Besides restarting and shutting down a Virtual Machine you can also attach, detach, and create data disks for hello Virtual Machine instance, toocapture hello instance for image preparation and configure hello size of hello Virtual Machine instance.</span></span>

<span data-ttu-id="f78bd-644">hello Azure-portalen tillhandahåller grundläggande funktioner toodeploy och konfigurera virtuella datorer och många andra Azure-tjänster.</span><span class="sxs-lookup"><span data-stu-id="f78bd-644">hello Azure portal provides basic functionality toodeploy and configure VMs and many other Azure services.</span></span> <span data-ttu-id="f78bd-645">Men inte alla tillgängliga funktioner omfattas av hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-645">However not all available functionality is covered by hello Azure portal.</span></span> <span data-ttu-id="f78bd-646">Hello Azure-portalen är det inte möjligt tooperform uppgifter som:</span><span class="sxs-lookup"><span data-stu-id="f78bd-646">In hello Azure portal, it’s not possible tooperform tasks like:</span></span>

* <span data-ttu-id="f78bd-647">Överför tooAzure för virtuella hårddiskar</span><span class="sxs-lookup"><span data-stu-id="f78bd-647">Uploading VHDs tooAzure</span></span>
* <span data-ttu-id="f78bd-648">Kopiera virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="f78bd-648">Copying VMs</span></span>

[comment]: <> (MShermannd TODO vad om automatisering i tjänsten för SAP virtuella datorer?)
[comment]: <> (MSSedusch distribution av flera virtuella datorer os under tiden möjligt)
[comment]: <> (MSSedusch också någon typ av automation om distributionen är inte möjligt med hello Azure-portalen. Det går inte att åtgärder som skript distribution av flera virtuella datorer via hello Azure-portalen.)

### <a name="management-via-microsoft-azure-powershell-cmdlets"></a><span data-ttu-id="f78bd-652">Hantering via Microsoft Azure PowerShell-cmdlets</span><span class="sxs-lookup"><span data-stu-id="f78bd-652">Management via Microsoft Azure PowerShell cmdlets</span></span>
<span data-ttu-id="f78bd-653">Windows PowerShell är ett kraftfullt och utökningsbart ramverk som har varit brett bland kunder distribuera större mängder system i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-653">Windows PowerShell is a powerful and extensible framework that has been widely adopted by customers deploying larger numbers of systems in Azure.</span></span> <span data-ttu-id="f78bd-654">Efter hello installation av PowerShell-cmdlet på en stationär dator, bärbar dator eller dedikerade management station, kan hello PowerShell-cmdlets köras via fjärranslutning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-654">After hello installation of PowerShell cmdlets on a desktop, laptop or dedicated management station, hello PowerShell cmdlets can be run remotely.</span></span>

<span data-ttu-id="f78bd-655">Hej processen tooenable en lokal desktop dator för hello användning av Azure PowerShell-cmdlets och hur de för hello med tooconfigure hello Azure abonnemang som beskrivs i [i den här artikeln][powershell-install-configure].</span><span class="sxs-lookup"><span data-stu-id="f78bd-655">hello process tooenable a local desktop/laptop for hello usage of Azure PowerShell cmdlets and how tooconfigure those for hello usage with hello Azure subscription(s) is described in [this article][powershell-install-configure].</span></span>

<span data-ttu-id="f78bd-656">Mer detaljerade anvisningar om hur tooinstall, uppdatera och konfigurera hello Azure PowerShell-cmdlets finns i [kapitlet hello Deployment Guide][deployment-guide-4.1].</span><span class="sxs-lookup"><span data-stu-id="f78bd-656">More detailed steps on how tooinstall, update, and configure hello Azure PowerShell cmdlets can also be found in [this chapter of hello Deployment Guide][deployment-guide-4.1].</span></span>

<span data-ttu-id="f78bd-657">Customer experience har hittills att PowerShell (PS) är visserligen hello mer kraftfulla verktyg toodeploy virtuella datorer och toocreate anpassade steg i hello distribution av virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-657">Customer experience so far has been that PowerShell (PS) is certainly hello more powerful tool toodeploy VMs and toocreate custom steps in hello deployment of VMs.</span></span> <span data-ttu-id="f78bd-658">Alla hello kunder SAP-instanser som körs i Azure med PS-cmdlets toosupplement hanteringsuppgifter de i hello Azure-portalen eller använder även PS-cmdlets uteslutande toomanage distributioner i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-658">All of hello customers running SAP instances in Azure are using PS cmdlets toosupplement management tasks they do in hello Azure portal or are even using PS cmdlets exclusively toomanage their deployments in Azure.</span></span> <span data-ttu-id="f78bd-659">Eftersom hello Azure-specifika cmdletar resursen hello samma namngivningskonvention som hello mer än 2000 Windows-relaterade cmdlets, är det en enkel uppgift för Windows-administratörer tooleverage dessa cmdlets.</span><span class="sxs-lookup"><span data-stu-id="f78bd-659">Since hello Azure-specific cmdlets share hello same naming convention as hello more than 2000 Windows-related cmdlets, it is an easy task for Windows administrators tooleverage those cmdlets.</span></span>

<span data-ttu-id="f78bd-660">Finns det här exemplet: <http://blogs.technet.com/b/keithmayer/archive/2015/07/07/18-steps-for-end-to-end-iaas-provisioning-in-the-cloud-with-azure-resource-manager-arm-powershell-and-desired-state-configuration-dsc.aspx></span><span class="sxs-lookup"><span data-stu-id="f78bd-660">See example here: <http://blogs.technet.com/b/keithmayer/archive/2015/07/07/18-steps-for-end-to-end-iaas-provisioning-in-the-cloud-with-azure-resource-manager-arm-powershell-and-desired-state-configuration-dsc.aspx></span></span>

[comment]: <> (MShermannd TODO Beskriver nya CLI-kommandot när testas)
<span data-ttu-id="f78bd-662">Distribution av hello Azure övervakning tillägget för SAP (finns i kapitlet [Azure övervakning lösning för SAP] [ planning-guide-9.1] i det här dokumentet) är bara möjligt via PowerShell eller CLI.</span><span class="sxs-lookup"><span data-stu-id="f78bd-662">Deployment of hello Azure Monitoring Extension for SAP (see chapter [Azure Monitoring Solution for SAP][planning-guide-9.1] in this document) is only possible via PowerShell or CLI.</span></span> <span data-ttu-id="f78bd-663">Därför är obligatorisk tooset upp och konfigurera PowerShell eller CLI när du distribuerar eller administrera en SAP NetWeaver system i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-663">Therefore it is mandatory tooset up and configure PowerShell or CLI when deploying or administering an SAP NetWeaver system in Azure.</span></span>  

<span data-ttu-id="f78bd-664">Som Azure tillhandahåller fler funktioner, kommer nya PS-cmdlets toobe lagts till som kräver en uppdatering av hello-cmdlets.</span><span class="sxs-lookup"><span data-stu-id="f78bd-664">As Azure provides more functionality, new PS cmdlets are going toobe added that requires an update of hello cmdlets.</span></span> <span data-ttu-id="f78bd-665">Därför det gör meningsfullt toocheck hello Azure hämta platsen minst en gång hello månad <https://azure.microsoft.com/downloads/> för en ny version av hello-cmdlets.</span><span class="sxs-lookup"><span data-stu-id="f78bd-665">Therefore it makes sense toocheck hello Azure Download site at least once hello month <https://azure.microsoft.com/downloads/> for a new version of hello cmdlets.</span></span> <span data-ttu-id="f78bd-666">hello nya versionen installeras ovanpå hello äldre version.</span><span class="sxs-lookup"><span data-stu-id="f78bd-666">hello new version is installed on top of hello older version.</span></span>

<span data-ttu-id="f78bd-667">En allmän lista över Azure-relaterade PowerShell kommandon finns här: <https://docs.microsoft.com/powershell/azure/overview>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-667">For a general list of Azure-related PowerShell commands check here: <https://docs.microsoft.com/powershell/azure/overview>.</span></span>

### <a name="management-via-microsoft-azure-cli-commands"></a><span data-ttu-id="f78bd-668">Hantering via Microsoft Azure CLI-kommandona</span><span class="sxs-lookup"><span data-stu-id="f78bd-668">Management via Microsoft Azure CLI commands</span></span>
<span data-ttu-id="f78bd-669">För kunder som använder Linux och vill toomanage Azure kanske resurser Powershell inte är ett alternativ.</span><span class="sxs-lookup"><span data-stu-id="f78bd-669">For customers who use Linux and want toomanage Azure resources Powershell might not be an option.</span></span> <span data-ttu-id="f78bd-670">Microsoft erbjuder Azure CLI som ett alternativ.</span><span class="sxs-lookup"><span data-stu-id="f78bd-670">Microsoft offers Azure CLI as an alternative.</span></span>
<span data-ttu-id="f78bd-671">hello Azure CLI innehåller en uppsättning med öppen källkod, plattformsoberoende kommandon för att arbeta med hello Azure-plattformen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-671">hello Azure CLI provides a set of open source, cross-platform commands for working with hello Azure Platform.</span></span> <span data-ttu-id="f78bd-672">hello Azure CLI tillhandahåller mycket hello samma funktioner som finns i hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-672">hello Azure CLI provides much of hello same functionality found in hello Azure portal.</span></span>

<span data-ttu-id="f78bd-673">Information om installation, konfiguration och hur toouse CLI-kommandon tooaccomplish finns Azure uppgifter</span><span class="sxs-lookup"><span data-stu-id="f78bd-673">For information about installation, configuration and how toouse CLI commands tooaccomplish Azure tasks see</span></span>

* <span data-ttu-id="f78bd-674">[Installera hello Azure CLI][xplat-cli]</span><span class="sxs-lookup"><span data-stu-id="f78bd-674">[Install hello Azure CLI][xplat-cli]</span></span>
* <span data-ttu-id="f78bd-675">[Distribuera och hantera virtuella datorer med hjälp av Azure Resource Manager-mallar och hello Azure CLI] [.. /.. / linux/create-ssh-secured-vm-from-template.md]</span><span class="sxs-lookup"><span data-stu-id="f78bd-675">[Deploy and manage virtual machines by using Azure Resource Manager templates and hello Azure CLI][../../linux/create-ssh-secured-vm-from-template.md]</span></span>
* <span data-ttu-id="f78bd-676">[Använd hello Azure CLI för Mac, Linux och Windows med Azure Resource Manager][xplat-cli-azure-resource-manager]</span><span class="sxs-lookup"><span data-stu-id="f78bd-676">[Use hello Azure CLI for Mac, Linux, and Windows with Azure Resource Manager][xplat-cli-azure-resource-manager]</span></span>

<span data-ttu-id="f78bd-677">Läs också kapitlet [Azure CLI för virtuella Linux-datorer] [ deployment-guide-4.5.2] i hello [Deployment Guide] [ planning-guide] på hur toouse Azure CLI toodeploy hello Azure-övervakning Tillägget för SAP.</span><span class="sxs-lookup"><span data-stu-id="f78bd-677">Also read chapter [Azure CLI for Linux VMs][deployment-guide-4.5.2] in hello [Deployment Guide][planning-guide] on how toouse Azure CLI toodeploy hello Azure Monitoring Extension for SAP.</span></span>

## <a name="different-ways-toodeploy-vms-for-sap-in-azure"></a><span data-ttu-id="f78bd-678">Olika sätt toodeploy virtuella datorer för SAP i Azure</span><span class="sxs-lookup"><span data-stu-id="f78bd-678">Different ways toodeploy VMs for SAP in Azure</span></span>
<span data-ttu-id="f78bd-679">I det här kapitlet Läs hello olika sätt toodeploy en virtuell dator i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-679">In this chapter, you learn hello different ways toodeploy a VM in Azure.</span></span> <span data-ttu-id="f78bd-680">Förberedelse av ytterligare procedurer, samt hantering av virtuella hårddiskar och virtuella datorer i Azure beskrivs i detta kapitel.</span><span class="sxs-lookup"><span data-stu-id="f78bd-680">Additional preparation procedures, as well as handling of VHDs and VMs in Azure are covered in this chapter.</span></span>

### <a name="deployment-of-vms-for-sap"></a><span data-ttu-id="f78bd-681">Distribution av virtuella datorer för SAP</span><span class="sxs-lookup"><span data-stu-id="f78bd-681">Deployment of VMs for SAP</span></span>
<span data-ttu-id="f78bd-682">Microsoft Azure tillhandahåller flera olika sätt toodeploy virtuella datorer och associerade diskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-682">Microsoft Azure offers multiple ways toodeploy VMs and associated disks.</span></span> <span data-ttu-id="f78bd-683">Därför är det mycket viktigt toounderstand hello skillnader eftersom förberedelser hello virtuella datorer kan varierar beroende på hello distributionsmetoden.</span><span class="sxs-lookup"><span data-stu-id="f78bd-683">Thus it is very important toounderstand hello differences since preparations of hello VMs might differ depending on hello method of deployment.</span></span> <span data-ttu-id="f78bd-684">I allmänhet ta vi en titt på hello följande scenarier:</span><span class="sxs-lookup"><span data-stu-id="f78bd-684">In general, we take a look at hello following scenarios:</span></span>

#### <span data-ttu-id="f78bd-685"><a name="4d175f1b-7353-4137-9d2f-817683c26e53"></a>Flytta en virtuell dator från lokal tooAzure med en icke-generaliserad disk</span><span class="sxs-lookup"><span data-stu-id="f78bd-685"><a name="4d175f1b-7353-4137-9d2f-817683c26e53"></a>Moving a VM from on-premises tooAzure with a non-generalized disk</span></span>
<span data-ttu-id="f78bd-686">Du planerar toomove ett särskilt SAP-system från lokala tooAzure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-686">You plan toomove a specific SAP system from on-premises tooAzure.</span></span> <span data-ttu-id="f78bd-687">Detta kan göras genom att överföra hello virtuell Hårddisk, vilket innehåller hello OS, hello SAP binärfiler och DBMS binärfiler plus hello virtuella hårddiskar med hello data och loggfilen filer med hello DBMS tooAzure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-687">This can be done by uploading hello VHD, which contains hello OS, hello SAP Binaries, and DBMS binaries plus hello VHDs with hello data and log files of hello DBMS tooAzure.</span></span> <span data-ttu-id="f78bd-688">Däremot för[scenario #2 nedan][planning-guide-5.1.2], du behåller hello värdnamn, SAP-SID och SAP användarkonton i hello Azure VM som de har konfigurerats i hello lokala miljö.</span><span class="sxs-lookup"><span data-stu-id="f78bd-688">In contrast too[scenario #2 below][planning-guide-5.1.2], you keep hello hostname, SAP SID, and SAP user accounts in hello Azure VM as they were configured in hello on-premises environment.</span></span> <span data-ttu-id="f78bd-689">Därför är att generalisera hello bilden inte nödvändigt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-689">Therefore, generalizing hello image is not necessary.</span></span> <span data-ttu-id="f78bd-690">Se kapitlen [förberedelse för att flytta en virtuell dator från lokal tooAzure med en icke-generaliserad disk] [ planning-guide-5.2.1] i det här dokumentet för lokala förberedelsesteg och överföra ej generaliserad tooAzure för virtuella datorer eller virtuella hårddiskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-690">See chapters [Preparation for moving a VM from on-premises tooAzure with a non-generalized disk][planning-guide-5.2.1] of this document for on-premises preparation steps and upload of non-generalized VMs or VHDs tooAzure.</span></span> <span data-ttu-id="f78bd-691">Läs kapitel [Scenario 3: flytta en virtuell dator från lokalt med hjälp av en ej generaliserad Azure VHD med SAP] [ deployment-guide-3.4] i hello [Deployment Guide] [ deployment-guide] detaljerade anvisningar för att distribuera en sådan avbildning i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-691">Read chapter [Scenario 3: Moving a VM from on-premises using a non-generalized Azure VHD with SAP][deployment-guide-3.4] in hello [Deployment Guide][deployment-guide] for detailed steps of deploying such an image in Azure.</span></span>

#### <span data-ttu-id="f78bd-692"><a name="e18f7839-c0e2-4385-b1e6-4538453a285c"></a>Distribuera en virtuell dator med en kundspecifika avbildning</span><span class="sxs-lookup"><span data-stu-id="f78bd-692"><a name="e18f7839-c0e2-4385-b1e6-4538453a285c"></a>Deploying a VM with a customer-specific image</span></span>
<span data-ttu-id="f78bd-693">På grund av toospecific korrigering kraven i din OS eller DBMS-version, kan hello tillhandahålls bilder i hello Azure Marketplace inte passar dina behov.</span><span class="sxs-lookup"><span data-stu-id="f78bd-693">Due toospecific patch requirements of your OS or DBMS version, hello provided images in hello Azure Marketplace might not fit your needs.</span></span> <span data-ttu-id="f78bd-694">Därför kanske du måste toocreate en VM som använder en egen ”privat” OS/DBMS VM-avbildning som kan distribueras efteråt flera gånger.</span><span class="sxs-lookup"><span data-stu-id="f78bd-694">Therefore, you might need toocreate a VM using your own ‘private’ OS/DBMS VM image, which can be deployed several times afterwards.</span></span> <span data-ttu-id="f78bd-695">tooprepare en ”privat” avbildning för duplicering hello följande objekt har toobe anses vara:</span><span class="sxs-lookup"><span data-stu-id="f78bd-695">tooprepare such a ‘private’ image for duplication, hello following items have toobe considered:</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-697">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-697">Windows</span></span>
>
> <span data-ttu-id="f78bd-698">Se mer information här: <https://docs.microsoft.com/azure/virtual-machines/windows/upload-generalized-managed> hello Windows-inställningar (t.ex. Windows-SID och värdnamn) måste vara tas ut/generaliserad hello på plats Virtuella datorn via hello sysprep-kommandot.</span><span class="sxs-lookup"><span data-stu-id="f78bd-698">See more details here: <https://docs.microsoft.com/azure/virtual-machines/windows/upload-generalized-managed> hello Windows settings (like Windows SID and hostname) must be abstracted/generalized on hello on-premises VM via hello sysprep command.</span></span>
>
>
> ![Linux][Logo_Linux] <span data-ttu-id="f78bd-700">Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-700">Linux</span></span>
>
> <span data-ttu-id="f78bd-701">Följ hello stegen som beskrivs i följande artiklar innehåller [SUSE][virtual-machines-linux-create-upload-vhd-suse], [Red Hat][virtual-machines-linux-redhat-create-upload-vhd], eller [Oracle Linux] [ virtual-machines-linux-create-upload-vhd-oracle], tooprepare en VHD-toobe upp tooAzure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-701">Follow hello steps described in these articles for [SUSE][virtual-machines-linux-create-upload-vhd-suse], [Red Hat][virtual-machines-linux-redhat-create-upload-vhd], or [Oracle Linux][virtual-machines-linux-create-upload-vhd-oracle], tooprepare a VHD toobe uploaded tooAzure.</span></span>
>
>

- - -
<span data-ttu-id="f78bd-702">Om du redan har installerat SAP innehållet i den lokala virtuella datorn (särskilt för nivå 2-system), kan du anpassa hello SAP systeminställningar när hello distribution av hello Azure VM via hello förekomst proceduren som stöds av hello SAP tillhandahållande av programvara Manager (SAP-kommentar [1619720]).</span><span class="sxs-lookup"><span data-stu-id="f78bd-702">If you have already installed SAP content in your on-premises VM (especially for 2-Tier systems), you can adapt hello SAP system settings after hello deployment of hello Azure VM through hello instance rename procedure supported by hello SAP Software Provisioning Manager (SAP Note [1619720]).</span></span> <span data-ttu-id="f78bd-703">Se kapitlen [förberedelse för att distribuera en virtuell dator med en avbildning av kundspecifika SAP] [ planning-guide-5.2.2] och [ladda upp en VHD från lokala tooAzure] [ planning-guide-5.3.2]i det här dokumentet för lokala förberedelser och överföring av en generaliserad virtuell tooAzure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-703">See chapters [Preparation for deploying a VM with a customer-specific image for SAP][planning-guide-5.2.2] and [Uploading a VHD from on-premises tooAzure][planning-guide-5.3.2] of this document for on-premises preparation steps and upload of a generalized VM tooAzure.</span></span> <span data-ttu-id="f78bd-704">Läs kapitel [Scenario 2: distribuera en virtuell dator med en anpassad avbildning för SAP] [ deployment-guide-3.3] i hello [Deployment Guide] [ deployment-guide] detaljerade anvisningar för att distribuera sådana en avbildning i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-704">Read chapter [Scenario 2: Deploying a VM with a custom image for SAP][deployment-guide-3.3] in hello [Deployment Guide][deployment-guide] for detailed steps of deploying such an image in Azure.</span></span>

#### <a name="deploying-a-vm-out-of-hello-azure-marketplace"></a><span data-ttu-id="f78bd-705">Distribuera en virtuell dator utanför hello Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="f78bd-705">Deploying a VM out of hello Azure Marketplace</span></span>
<span data-ttu-id="f78bd-706">Du skulle vilja toouse en Microsoft eller tredje parts tillhandahålls VM-avbildning från hello Azure Marketplace toodeploy den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="f78bd-706">You would like toouse a Microsoft or third-party provided VM image from hello Azure Marketplace toodeploy your VM.</span></span> <span data-ttu-id="f78bd-707">När du har distribuerat den virtuella datorn i Azure måste du följa hello samma riktlinjer och verktyg tooinstall hello SAP-program och/eller DBMS inuti den virtuella datorn som du gör i en lokal miljö.</span><span class="sxs-lookup"><span data-stu-id="f78bd-707">After you deployed your VM in Azure, you follow hello same guidelines and tools tooinstall hello SAP software and/or DBMS inside your VM as you would do in an on-premises environment.</span></span> <span data-ttu-id="f78bd-708">Mer detaljerad distributionsbeskrivning av finns kapitel [Scenario 1: distribuera en virtuell dator utanför hello Azure Marketplace för SAP] [ deployment-guide-3.2] i hello [Deployment Guide] [ deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-708">For more detailed deployment description, please see chapter [Scenario 1: Deploying a VM out of hello Azure Marketplace for SAP][deployment-guide-3.2] in hello [Deployment Guide][deployment-guide].</span></span>

### <span data-ttu-id="f78bd-709"><a name="6ffb9f41-a292-40bf-9e70-8204448559e7"></a>Förbereda virtuella datorer med SAP för Azure</span><span class="sxs-lookup"><span data-stu-id="f78bd-709"><a name="6ffb9f41-a292-40bf-9e70-8204448559e7"></a>Preparing VMs with SAP for Azure</span></span>
<span data-ttu-id="f78bd-710">Innan du laddar upp virtuella datorer till Azure måste du toomake att uppfylla vissa krav hello virtuella datorer och virtuella hårddiskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-710">Before uploading VMs into Azure you need toomake sure hello VMs and VHDs fulfill certain requirements.</span></span> <span data-ttu-id="f78bd-711">Det finns mindre skillnader beroende hello distributionsmetod som används.</span><span class="sxs-lookup"><span data-stu-id="f78bd-711">There are small differences depending on hello deployment method that is used.</span></span>

#### <span data-ttu-id="f78bd-712"><a name="1b287330-944b-495d-9ea7-94b83aff73ef"></a>Förberedelser för att flytta en virtuell dator från lokal tooAzure med en icke-generaliserad disk</span><span class="sxs-lookup"><span data-stu-id="f78bd-712"><a name="1b287330-944b-495d-9ea7-94b83aff73ef"></a>Preparation for moving a VM from on-premises tooAzure with a non-generalized disk</span></span>
<span data-ttu-id="f78bd-713">En vanlig distributionsmetod är toomove en befintlig virtuell dator som kör ett SAP-system från lokala tooAzure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-713">A common deployment method is toomove an existing VM which runs an SAP system from on-premises tooAzure.</span></span> <span data-ttu-id="f78bd-714">Att VM hello SAP system i hello VM bara ska köras i Azure med hjälp av hello samma värdnamn och mycket sannolikt hello samma SAP-SID.</span><span class="sxs-lookup"><span data-stu-id="f78bd-714">That VM and hello SAP system in hello VM just should run in Azure using hello same hostname and very likely hello same SAP SID.</span></span> <span data-ttu-id="f78bd-715">I det här fallet bör hello gäst OS VM inte vara generaliserad för flera distributioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-715">In this case hello guest OS of VM should not be generalized for multiple deployments.</span></span> <span data-ttu-id="f78bd-716">Om hello lokalt nätverk har utökats till Azure (se kapitel [mellan lokala - distribution av en eller flera SAP virtuella datorer i Azure med hello behovet av att fullständigt integrerat i hello lokalt nätverk] [ planning-guide-2.2] i det här dokumentet), sedan även hello samma domänkonton kan användas inom hello VM som de som användes innan lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-716">If hello on-premises network got extended into Azure (see chapter [cross-premises - Deployment of single or multiple SAP VMs into Azure with hello requirement of being fully integrated into hello on-premises network][planning-guide-2.2] in this document), then even hello same domain accounts can be used within hello VM as those were used before on-premises.</span></span>

<span data-ttu-id="f78bd-717">Kraven när du förbereder din egen Azure VM-disken är:</span><span class="sxs-lookup"><span data-stu-id="f78bd-717">Requirements when preparing your own Azure VM Disk are:</span></span>

* <span data-ttu-id="f78bd-718">Ursprungligen kan hello VHD som innehåller hello operativsystem ha endast en maximal storlek på 127GB.</span><span class="sxs-lookup"><span data-stu-id="f78bd-718">Originally hello VHD containing hello operating system could have a maximum size of 127GB only.</span></span> <span data-ttu-id="f78bd-719">Den här begränsningen har eliminerats hello slutet av mars 2015.</span><span class="sxs-lookup"><span data-stu-id="f78bd-719">This limitation got eliminated at hello end of March 2015.</span></span> <span data-ttu-id="f78bd-720">Nu kan hello virtuell Hårddisk som innehåller operativsystemet för hello vara upp too1TB i storlek som VHD finns också i Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="f78bd-720">Now hello VHD containing hello operating system can be up too1TB in size as any other Azure Storage hosted VHD as well.</span></span>
* <span data-ttu-id="f78bd-721">Den måste toobe i hello fast VHD-format.</span><span class="sxs-lookup"><span data-stu-id="f78bd-721">It needs toobe in hello fixed VHD format.</span></span> <span data-ttu-id="f78bd-722">Dynamiska virtuella hårddiskar eller virtuella hårddiskar i VHDx-format stöds inte ännu i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-722">Dynamic VHDs or VHDs in VHDx format are not yet supported on Azure.</span></span> <span data-ttu-id="f78bd-723">Dynamiska virtuella hårddiskar är konverterade toostatic virtuella hårddiskar när du överför hello VHD med PowerShell-kommandon eller CLI</span><span class="sxs-lookup"><span data-stu-id="f78bd-723">Dynamic VHDs will be converted toostatic VHDs when you upload hello VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="f78bd-724">Virtuella hårddiskar som är monterade toohello VM och ska monteras igen i Azure toohello VM behöver toobe i ett fast VHD-format samt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-724">VHDs which are mounted toohello VM and should be mounted again in Azure toohello VM need toobe in a fixed VHD format as well.</span></span> <span data-ttu-id="f78bd-725">Läs [(Linux) för den här artikeln](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) och [i den här artikeln (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) för storleksgränser för datadiskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-725">Please read [this article (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) and [this article (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) for size limits of data disks.</span></span> <span data-ttu-id="f78bd-726">Dynamiska virtuella hårddiskar är konverterade toostatic virtuella hårddiskar när du överför hello VHD med PowerShell-kommandon eller CLI</span><span class="sxs-lookup"><span data-stu-id="f78bd-726">Dynamic VHDs will be converted toostatic VHDs when you upload hello VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="f78bd-727">Lägg till en annan lokalt konto med administratörsbehörighet som kan användas av Microsoft-supporten eller som kan tilldelas för tjänster och program toorun i tills hello VM distribueras och mer lämpliga användare kan användas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-727">Add another local account with administrator privileges which can be used by Microsoft support or which can be assigned as context for services and applications toorun in until hello VM is deployed and more appropriate users can be used.</span></span>
* <span data-ttu-id="f78bd-728">För hello fall för att använda en molnbaserad distributionsscenariot (finns i kapitlet [endast molnbaserad - distributioner på virtuella datorer till Azure utan beroenden på hello lokalt nätverk för kundens] [ planning-guide-2.1] av denna Dokumentera) i kombination med den här distributionsmetoden, domän konton inte kanske fungerar när hello Azure-disken har distribuerats i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-728">For hello case of using a Cloud-Only deployment scenario (see chapter [Cloud-Only - Virtual Machine deployments into Azure without dependencies on hello on-premises customer network][planning-guide-2.1] of this document) in combination with this deployment method, domain accounts might not work once hello Azure Disk is deployed in Azure.</span></span> <span data-ttu-id="f78bd-729">Detta gäller särskilt för konton som används toorun tjänster som hello DBMS eller SAP-program.</span><span class="sxs-lookup"><span data-stu-id="f78bd-729">This is especially true for accounts which are used toorun services like hello DBMS or SAP applications.</span></span> <span data-ttu-id="f78bd-730">Därför behöver tooreplace sådana domänkonton med VM lokala konton och ta bort hello lokalt domänkonton i hello VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-730">Therefore you need tooreplace such domain accounts with VM local accounts and delete hello on-premises domain accounts in hello VM.</span></span> <span data-ttu-id="f78bd-731">Behålla lokalt domänanvändare i hello VM-avbildning är inte ett problem när hello VM distribueras i hello mellan lokala scenario som beskrivs i kapitlet [mellan lokala - distribution av en eller flera SAP virtuella datorer i Azure med hello behovet av att fullständigt integrerat i hello lokalt nätverk] [ planning-guide-2.2] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-731">Keeping on-premises domain users in hello VM image is not an issue when hello VM is deployed in hello cross-premises scenario as described in chapter [Cross-Premises - Deployment of single or multiple SAP VMs into Azure with hello requirement of being fully integrated into hello on-premises network][planning-guide-2.2] in this document.</span></span>
* <span data-ttu-id="f78bd-732">Om domänkonton användes som DBMS-inloggningar eller användare när du kör hello system lokalt och dessa virtuella datorer som är avsedda toobe som distribuerats i endast molnbaserad scenarier, måste hello domänanvändare toobe tas bort.</span><span class="sxs-lookup"><span data-stu-id="f78bd-732">If domain accounts were used as DBMS logins or users when running hello system on-premises and those VMs are supposed toobe deployed in Cloud-Only scenarios, hello domain users need toobe deleted.</span></span> <span data-ttu-id="f78bd-733">Du måste toomake till som lokal administratör för hello plus en annan VM lokal användare läggs till som en inloggning i hello DBMS som administratörer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-733">You need toomake sure that hello local administrator plus another VM local user is added as a login/user into hello DBMS as administrators.</span></span>
* <span data-ttu-id="f78bd-734">Lägg till andra lokala konton som de kan behövas för hello specifika distributionsscenariot.</span><span class="sxs-lookup"><span data-stu-id="f78bd-734">Add other local accounts as those might be needed for hello specific deployment scenario.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-736">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-736">Windows</span></span>
>
> <span data-ttu-id="f78bd-737">I det här scenariot inga generalisering (sysprep) av hello VM är nödvändiga tooupload och distribuera hello VM på Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-737">In this scenario no generalization (sysprep) of hello VM is required tooupload and deploy hello VM on Azure.</span></span>
> <span data-ttu-id="f78bd-738">Kontrollera att enheten D:\ inte används.</span><span class="sxs-lookup"><span data-stu-id="f78bd-738">Make sure that drive D:\ is not used.</span></span>
> <span data-ttu-id="f78bd-739">Ange disken automount för anslutna diskar som beskrivs i kapitel [inställningen automount för anslutna diskar] [ planning-guide-5.5.3] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-739">Set disk automount for attached disks as described in chapter [Setting automount for attached disks][planning-guide-5.5.3] in this document.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="f78bd-741">Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-741">Linux</span></span>
>
> <span data-ttu-id="f78bd-742">I det här scenariot inga generalisering (waagent-deprovision) hello VM är nödvändiga tooupload och distribuera hello VM på Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-742">In this scenario no generalization (waagent -deprovision) of hello VM is required tooupload and deploy hello VM on Azure.</span></span>
> <span data-ttu-id="f78bd-743">Kontrollera att/mnt/resurs inte används och att alla diskar är monterade via uuid.</span><span class="sxs-lookup"><span data-stu-id="f78bd-743">Make sure that /mnt/resource is not used and that ALL disks are mounted via uuid.</span></span> <span data-ttu-id="f78bd-744">Se till att hello startprogrammet post också avspeglar hello uuid-baserade montering för hello OS-disken.</span><span class="sxs-lookup"><span data-stu-id="f78bd-744">For hello OS disk, make sure that hello bootloader entry also reflects hello uuid-based mount.</span></span>
>
>

- - -
#### <span data-ttu-id="f78bd-745"><a name="57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3"></a>Förberedelser för att distribuera en virtuell dator med en avbildning av kundspecifika för SAP</span><span class="sxs-lookup"><span data-stu-id="f78bd-745"><a name="57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3"></a>Preparation for deploying a VM with a customer-specific image for SAP</span></span>
<span data-ttu-id="f78bd-746">VHD-filer som innehåller en generaliserad OS lagras i behållare på Azure Storage-konton eller som hanteras diskavbildningar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-746">VHD files that contain a generalized OS are stored in containers on Azure Storage Accounts or as Managed Disk images.</span></span> <span data-ttu-id="f78bd-747">Du kan distribuera en ny virtuell dator från en sådan avbildning genom att referera hello VHD- eller hanteras Disk image som källa i din distribution mallfilerna som beskrivs i kapitlet [Scenario 2: distribuera en virtuell dator med en anpassad avbildning för SAP] [ deployment-guide-3.3]av hello [Deployment Guide][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-747">You can deploy a new VM from such an image by referencing hello VHD or Managed Disk image as a source in your deployment template files as described in chapter [Scenario 2: Deploying a VM with a custom image for SAP][deployment-guide-3.3] of hello [Deployment Guide][deployment-guide].</span></span>

<span data-ttu-id="f78bd-748">Kraven när du förbereder din egen Azure VM-avbildning är:</span><span class="sxs-lookup"><span data-stu-id="f78bd-748">Requirements when preparing your own Azure VM Image are:</span></span>

* <span data-ttu-id="f78bd-749">Ursprungligen kan hello VHD som innehåller hello operativsystem ha endast en maximal storlek på 127GB.</span><span class="sxs-lookup"><span data-stu-id="f78bd-749">Originally hello VHD containing hello operating system could have a maximum size of 127GB only.</span></span> <span data-ttu-id="f78bd-750">Den här begränsningen har eliminerats hello slutet av mars 2015.</span><span class="sxs-lookup"><span data-stu-id="f78bd-750">This limitation got eliminated at hello end of March 2015.</span></span> <span data-ttu-id="f78bd-751">Nu kan hello virtuell Hårddisk som innehåller operativsystemet för hello vara upp too1TB i storlek som VHD finns också i Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="f78bd-751">Now hello VHD containing hello operating system can be up too1TB in size as any other Azure Storage hosted VHD as well.</span></span>
* <span data-ttu-id="f78bd-752">Den måste toobe i hello fast VHD-format.</span><span class="sxs-lookup"><span data-stu-id="f78bd-752">It needs toobe in hello fixed VHD format.</span></span> <span data-ttu-id="f78bd-753">Dynamiska virtuella hårddiskar eller virtuella hårddiskar i VHDx-format stöds inte ännu i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-753">Dynamic VHDs or VHDs in VHDx format are not yet supported on Azure.</span></span> <span data-ttu-id="f78bd-754">Dynamiska virtuella hårddiskar är konverterade toostatic virtuella hårddiskar när du överför hello VHD med PowerShell-kommandon eller CLI</span><span class="sxs-lookup"><span data-stu-id="f78bd-754">Dynamic VHDs will be converted toostatic VHDs when you upload hello VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="f78bd-755">Virtuella hårddiskar som är monterade toohello VM och ska monteras igen i Azure toohello VM behöver toobe i ett fast VHD-format samt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-755">VHDs which are mounted toohello VM and should be mounted again in Azure toohello VM need toobe in a fixed VHD format as well.</span></span> <span data-ttu-id="f78bd-756">Läs [(Linux) för den här artikeln](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) och [i den här artikeln (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) för storleksgränser för datadiskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-756">Please read [this article (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) and [this article (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) for size limits of data disks.</span></span> <span data-ttu-id="f78bd-757">Dynamiska virtuella hårddiskar är konverterade toostatic virtuella hårddiskar när du överför hello VHD med PowerShell-kommandon eller CLI</span><span class="sxs-lookup"><span data-stu-id="f78bd-757">Dynamic VHDs will be converted toostatic VHDs when you upload hello VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="f78bd-758">Eftersom alla hello domänanvändare som är registrerad som användare i hello VM inte finns i ett scenario med endast molnbaserad (finns i kapitlet [endast molnbaserad - distributioner på virtuella datorer till Azure utan beroenden på hello lokalt nätverk för kundens] [ planning-guide-2.1] i det här dokumentet), tjänster som använder dessa konton inte kanske fungerar när hello avbildningen har distribuerats i Azure-domän.</span><span class="sxs-lookup"><span data-stu-id="f78bd-758">Since all hello Domain users registered as users in hello VM will not exist in a Cloud-Only scenario (see chapter [Cloud-Only - Virtual Machine deployments into Azure without dependencies on hello on-premises customer network][planning-guide-2.1] of this document), services using such domain accounts might not work once hello Image is deployed in Azure.</span></span> <span data-ttu-id="f78bd-759">Detta gäller särskilt för konton som används toorun tjänster som DBMS eller SAP-program.</span><span class="sxs-lookup"><span data-stu-id="f78bd-759">This is especially true for accounts which are used toorun services like DBMS or SAP applications.</span></span> <span data-ttu-id="f78bd-760">Därför behöver tooreplace sådana domänkonton med VM lokala konton och ta bort hello lokalt domänkonton i hello VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-760">Therefore you need tooreplace such domain accounts with VM local accounts and delete hello on-premises domain accounts in hello VM.</span></span> <span data-ttu-id="f78bd-761">Behålla lokalt domänanvändare i hello VM-avbildning kanske inte är ett problem när hello VM distribueras i hello mellan lokala scenario som beskrivs i kapitlet [mellan lokala - distribution av en eller flera SAP virtuella datorer i Azure med hello krav är integrerat i hello lokalt nätverk] [ planning-guide-2.2] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-761">Keeping on-premises domain users in hello VM image might not be an issue when hello VM is deployed in hello cross-premises scenario as described in chapter [Cross-Premises - Deployment of single or multiple SAP VMs into Azure with hello requirement of being fully integrated into hello on-premises network][planning-guide-2.2] in this document.</span></span>
* <span data-ttu-id="f78bd-762">Lägg till en annan lokalt konto med administratörsbehörighet som kan användas av Microsoft-supporten i problemet undersökningar eller som kan tilldelas för tjänster och program toorun i tills hello VM distribueras och mer lämpliga användare kan användas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-762">Add another local account with administrator privileges which can be used by Microsoft support in problem investigations or which can be assigned as context for services and applications toorun in until hello VM is deployed and more appropriate users can be used.</span></span>
* <span data-ttu-id="f78bd-763">I endast molnbaserad distributioner och domänkonton användes som DBMS-inloggningar eller användare när du kör hello system lokala ska hello domänanvändare tas bort.</span><span class="sxs-lookup"><span data-stu-id="f78bd-763">In Cloud-Only deployments and where domain accounts were used as DBMS logins or users when running hello system on-premises, hello domain users should be deleted.</span></span> <span data-ttu-id="f78bd-764">Du måste toomake till att hello lokal administratör plus en annan VM lokal användare läggs till som en inloggning/användare av hello DBMS som administratörer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-764">You need toomake sure that hello local administrator plus another VM local user is added as a login/user of hello DBMS as administrators.</span></span>
* <span data-ttu-id="f78bd-765">Lägg till andra lokala konton som de kan behövas för hello specifika distributionsscenariot.</span><span class="sxs-lookup"><span data-stu-id="f78bd-765">Add other local accounts as those might be needed for hello specific deployment scenario.</span></span>
* <span data-ttu-id="f78bd-766">Om hello bilden innehåller en installation av SAP NetWeaver och namnbyte av hello värdnamn från hello ursprungliga namn hello punkt i hello Azure-distribution är troligt är det rekommenderade toocopy hello senaste versionerna av hello SAP programvara etablering Manager DVD i hello mall.</span><span class="sxs-lookup"><span data-stu-id="f78bd-766">If hello image contains an installation of SAP NetWeaver and renaming of hello host name from hello original name at hello point of hello Azure deployment is likely, it is recommended toocopy hello latest versions of hello SAP Software Provisioning Manager DVD into hello template.</span></span> <span data-ttu-id="f78bd-767">Detta gör att du tooeasily Använd hello SAP förutsatt att byta funktioner tooadapt hello ändras värdnamn och/eller ändra hello SID för hello SAP system inom hello distribueras VM-avbildning som en ny kopia har startats.</span><span class="sxs-lookup"><span data-stu-id="f78bd-767">This will enable you tooeasily use hello SAP provided rename functionality tooadapt hello changed hostname and/or change hello SID of hello SAP system within hello deployed VM image as soon as a new copy is started.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-769">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-769">Windows</span></span>
>
> <span data-ttu-id="f78bd-770">Se till att enheten inte är D:\ användas Set disk automount för anslutna diskar som beskrivs i kapitlet [inställningen automount för anslutna diskar] [ planning-guide-5.5.3] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-770">Make sure that drive D:\ is not used Set disk automount for attached disks as described in chapter [Setting automount for attached disks][planning-guide-5.5.3] in this document.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="f78bd-772">Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-772">Linux</span></span>
>
> <span data-ttu-id="f78bd-773">Kontrollera att/mnt/resurs inte används och att alla diskar är monterade via uuid.</span><span class="sxs-lookup"><span data-stu-id="f78bd-773">Make sure that /mnt/resource is not used and that ALL disks are mounted via uuid.</span></span> <span data-ttu-id="f78bd-774">Kontrollera hello startprogrammet också redigera hello uuid-baserade montering för hello OS-disken.</span><span class="sxs-lookup"><span data-stu-id="f78bd-774">For hello OS disk, make sure hello bootloader entry also reflects hello uuid-based mount.</span></span>
>
>

- - -
* <span data-ttu-id="f78bd-775">SAP GUI (för administrativa och konfigurera ändamål) kan förinstalleras i denna mall.</span><span class="sxs-lookup"><span data-stu-id="f78bd-775">SAP GUI (for administrative and setup purposes) can be pre-installed in such a template.</span></span>
* <span data-ttu-id="f78bd-776">Annan programvara som behövs toorun hello virtuella datorer har i mellan lokala scenarier kan installeras så länge som det här programmet kan arbeta med hello Byt namn på av hello VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-776">Other software necessary toorun hello VMs successfully in cross-premises scenarios can be installed as long as this software can work with hello rename of hello VM.</span></span>

<span data-ttu-id="f78bd-777">Om hello VM förbereds tillräckligt toobe generisk och kan slutligen oberoende av konton/användare inte tillgängligt i hello Azure distributionsscenariot som mål, hello senaste förberedelsen för att generalisera sådana en avbildning utförs.</span><span class="sxs-lookup"><span data-stu-id="f78bd-777">If hello VM is prepared sufficiently toobe generic and eventually independent of accounts/users not available in hello targeted Azure deployment scenario, hello last preparation step of generalizing such an image is conducted.</span></span>

##### <a name="generalizing-a-vm"></a><span data-ttu-id="f78bd-778">Att generalisera en virtuell dator</span><span class="sxs-lookup"><span data-stu-id="f78bd-778">Generalizing a VM</span></span>
- - -
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-780">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-780">Windows</span></span>
>
> <span data-ttu-id="f78bd-781">hello sista steget är toolog i tooa VM med ett administratörskonto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-781">hello last step is toolog in tooa VM with an Administrator account.</span></span> <span data-ttu-id="f78bd-782">Öppna en Windows-kommandofönster som ”administratör”.</span><span class="sxs-lookup"><span data-stu-id="f78bd-782">Open a Windows command window as ‘administrator’.</span></span> <span data-ttu-id="f78bd-783">Gå too%windir%\windows\system32\sysprep och köra sysprep.exe.</span><span class="sxs-lookup"><span data-stu-id="f78bd-783">Go too%windir%\windows\system32\sysprep and execute sysprep.exe.</span></span>
> <span data-ttu-id="f78bd-784">Ett litet fönster visas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-784">A small window will appear.</span></span> <span data-ttu-id="f78bd-785">Det är viktigt toocheck hello 'Generalize' alternativet (hello standard är inte markerad) och ändra hello Avslutningsalternativ från standard ”starta om' too'Shutdown'.</span><span class="sxs-lookup"><span data-stu-id="f78bd-785">It is important toocheck hello ‘Generalize’ option (hello default is un-checked) and change hello Shutdown Option from its default of ‘Reboot’ too‘Shutdown’.</span></span> <span data-ttu-id="f78bd-786">Den här proceduren förutsätter att hello sysprep-processen körs lokalt i hello Gästoperativsystem på en virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-786">This procedure assumes that hello sysprep process is executed on-premises in hello Guest OS of a VM.</span></span>
> <span data-ttu-id="f78bd-787">Tooperform hello proceduren med en virtuell dator som redan körs i Azure, så du hello stegen som beskrivs i [i den här artikeln](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/capture-image-resource).</span><span class="sxs-lookup"><span data-stu-id="f78bd-787">If you want tooperform hello procedure with a VM already running in Azure, follow hello steps described in [this article](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/capture-image-resource).</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="f78bd-789">Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-789">Linux</span></span>
>
> <span data-ttu-id="f78bd-790">[Hur toocapture en Linux virtuella toouse som en Resource Manager-mall][capture-image-linux-step-2-create-vm-image]</span><span class="sxs-lookup"><span data-stu-id="f78bd-790">[How toocapture a Linux virtual machine toouse as a Resource Manager template][capture-image-linux-step-2-create-vm-image]</span></span>
>
>

- - -
### <a name="transferring-vms-and-vhds-between-on-premises-tooazure"></a><span data-ttu-id="f78bd-791">Överföring av virtuella datorer och virtuella hårddiskar mellan lokala tooAzure</span><span class="sxs-lookup"><span data-stu-id="f78bd-791">Transferring VMs and VHDs between on-premises tooAzure</span></span>
<span data-ttu-id="f78bd-792">Eftersom det inte går att överföra VM-avbildningar och diskar tooAzure via hello Azure-portalen, behöver du toouse Azure PowerShell-cmdlets eller CLI.</span><span class="sxs-lookup"><span data-stu-id="f78bd-792">Since uploading VM images and disks tooAzure is not possible via hello Azure portal, you need toouse Azure PowerShell cmdlets or CLI.</span></span> <span data-ttu-id="f78bd-793">En annan möjlighet är hello använda hello verktyget 'AzCopy'.</span><span class="sxs-lookup"><span data-stu-id="f78bd-793">Another possibility is hello use of hello tool ‘AzCopy’.</span></span> <span data-ttu-id="f78bd-794">hello-verktyget kan kopiera virtuella hårddiskar mellan lokala och Azure (i båda riktningarna).</span><span class="sxs-lookup"><span data-stu-id="f78bd-794">hello tool can copy VHDs between on-premises and Azure (in both directions).</span></span> <span data-ttu-id="f78bd-795">Det kan också kopiera virtuella hårddiskar mellan Azure-regioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-795">It also can copy VHDs between Azure Regions.</span></span> <span data-ttu-id="f78bd-796">Kontakta [denna dokumentation] [ storage-use-azcopy] om hämtning och användning av AzCopy.</span><span class="sxs-lookup"><span data-stu-id="f78bd-796">Please consult [this documentation][storage-use-azcopy] for download and usage of AzCopy.</span></span>

<span data-ttu-id="f78bd-797">Ett tredje alternativ skulle vara toouse indatavärdena GUI-verktyg för olika från tredje part.</span><span class="sxs-lookup"><span data-stu-id="f78bd-797">A third alternative would be toouse various third-party GUI-oriented tools.</span></span> <span data-ttu-id="f78bd-798">Dock se till att verktygen stöder Azure Sidblobar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-798">However, please make sure that these tools are supporting Azure Page Blobs.</span></span> <span data-ttu-id="f78bd-799">För våra ändamål behöver vi toouse Azure Sidblob butiken (hello skillnaderna beskrivs här: <https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>).</span><span class="sxs-lookup"><span data-stu-id="f78bd-799">For our purposes we need toouse Azure Page Blob store (hello differences are described here: <https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>).</span></span> <span data-ttu-id="f78bd-800">Hello verktyg som tillhandahålls av Azure är också mycket effektivt för komprimering av hello virtuella datorer och virtuella hårddiskar som behöver toobe upp.</span><span class="sxs-lookup"><span data-stu-id="f78bd-800">Also hello tools provided by Azure are very efficient in compressing hello VMs and VHDs which need toobe uploaded.</span></span> <span data-ttu-id="f78bd-801">Detta är viktigt eftersom den här effektiviteten i komprimeringen minskar hello tid (som varierar ändå hello överför länken toohello internet från hello lokal anläggning och hello Azure-distribution region mål).</span><span class="sxs-lookup"><span data-stu-id="f78bd-801">This is important because this efficiency in compression reduces hello upload time (which varies anyway depending on hello upload link toohello internet from hello on-premises facility and hello Azure deployment region targeted).</span></span> <span data-ttu-id="f78bd-802">Det är en verkligt antagandet att ladda upp en virtuell dator eller en VHD från Europeiska plats toohello USA-baserade Azure data Datacenter tar längre tid än överföring hello samma virtuella datorer/virtuella hårddiskar toohello Europeiska Azure-datacenter.</span><span class="sxs-lookup"><span data-stu-id="f78bd-802">It is a fair assumption that uploading a VM or VHD from European location toohello U.S.-based Azure data centers will take longer than uploading hello same VMs/VHDs toohello European Azure data centers.</span></span>

#### <span data-ttu-id="f78bd-803"><a name="a43e40e6-1acc-4633-9816-8f095d5a7b6a"></a>Ladda upp en VHD från lokala tooAzure</span><span class="sxs-lookup"><span data-stu-id="f78bd-803"><a name="a43e40e6-1acc-4633-9816-8f095d5a7b6a"></a>Uploading a VHD from on-premises tooAzure</span></span>
<span data-ttu-id="f78bd-804">tooupload en befintlig virtuell dator eller en VHD från hello lokalt nätverk sådana en virtuell dator eller virtuell Hårddisk måste toomeet hello krav enligt kapitel [förberedelse för att flytta en virtuell dator från lokal tooAzure med en icke-generaliserad disk] [ planning-guide-5.2.1] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-804">tooupload an existing VM or VHD from hello on-premises network such a VM or VHD needs toomeet hello requirements as listed in chapter [Preparation for moving a VM from on-premises tooAzure with a non-generalized disk][planning-guide-5.2.1] of this document.</span></span>

<span data-ttu-id="f78bd-805">Sådana en virtuell dator behöver inte toobe generaliserad och kan överföras i hello tillstånd och formen som den har efter avstängning på hello lokalt på klientsidan.</span><span class="sxs-lookup"><span data-stu-id="f78bd-805">Such a VM does NOT need toobe generalized and can be uploaded in hello state and shape it has after shutdown on hello on-premises side.</span></span> <span data-ttu-id="f78bd-806">hello sak samma gäller för ytterligare virtuella hårddiskar som inte innehåller något operativsystem.</span><span class="sxs-lookup"><span data-stu-id="f78bd-806">hello same is true for additional VHDs which don’t contain any operating system.</span></span>

##### <a name="uploading-a-vhd-and-making-it-an-azure-disk"></a><span data-ttu-id="f78bd-807">Överför en virtuell Hårddisk och gör det Azure-disken</span><span class="sxs-lookup"><span data-stu-id="f78bd-807">Uploading a VHD and making it an Azure Disk</span></span>
<span data-ttu-id="f78bd-808">I det här fallet vi tooupload en virtuell Hårddisk, med eller utan ett operativsystem, och montera den tooa VM som en datadisk eller använda den som OS-disken.</span><span class="sxs-lookup"><span data-stu-id="f78bd-808">In this case we want tooupload a VHD, either with or without an OS in it, and mount it tooa VM as a data disk or use it as OS disk.</span></span> <span data-ttu-id="f78bd-809">Detta är en process med flera steg</span><span class="sxs-lookup"><span data-stu-id="f78bd-809">This is a multi-step process</span></span>

<span data-ttu-id="f78bd-810">**PowerShell**</span><span class="sxs-lookup"><span data-stu-id="f78bd-810">**Powershell**</span></span>

* <span data-ttu-id="f78bd-811">Logga in tooyour prenumerationen med *Login-AzureRmAccount*</span><span class="sxs-lookup"><span data-stu-id="f78bd-811">Log in tooyour subscription with *Login-AzureRmAccount*</span></span>
* <span data-ttu-id="f78bd-812">Ange hello prenumeration för din kontext med *Set-AzureRmContext* och parametern prenumerations-ID eller SubscriptionName - Se <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span><span class="sxs-lookup"><span data-stu-id="f78bd-812">Set hello subscription of your context with *Set-AzureRmContext* and parameter SubscriptionId or SubscriptionName - see <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span></span>
* <span data-ttu-id="f78bd-813">Överför hello VHD med *Lägg till AzureRmVhd* tooan Azure Storage-konto - finns <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span><span class="sxs-lookup"><span data-stu-id="f78bd-813">Upload hello VHD with *Add-AzureRmVhd* tooan Azure Storage Account - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span></span>
* <span data-ttu-id="f78bd-814">(Valfritt) Skapa en Disk som hanteras av hello VHD med *ny AzureRmDisk* -finns <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermdisk></span><span class="sxs-lookup"><span data-stu-id="f78bd-814">(Optional) Create a Managed Disk from hello VHD with *New-AzureRmDisk*  - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermdisk></span></span>
* <span data-ttu-id="f78bd-815">Ange hello OS-disken på en ny VM config toohello VHD eller hanteras med *Set AzureRmVMOSDisk* -finns <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span><span class="sxs-lookup"><span data-stu-id="f78bd-815">Set hello OS disk of a new VM config toohello VHD or Managed Disk with *Set-AzureRmVMOSDisk* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span></span>
* <span data-ttu-id="f78bd-816">Skapa en ny virtuell dator från hello konfigurationen med *ny AzureRmVM* -finns <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span><span class="sxs-lookup"><span data-stu-id="f78bd-816">Create a new VM from hello VM config with *New-AzureRmVM* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span></span>
* <span data-ttu-id="f78bd-817">Lägg till en data disk tooa ny virtuell dator med *Lägg till AzureRmVMDataDisk* -finns <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvmdatadisk></span><span class="sxs-lookup"><span data-stu-id="f78bd-817">Add a data disk tooa new VM with *Add-AzureRmVMDataDisk* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvmdatadisk></span></span>

<span data-ttu-id="f78bd-818">**Azure CLI 2.0**</span><span class="sxs-lookup"><span data-stu-id="f78bd-818">**Azure CLI 2.0**</span></span>

* <span data-ttu-id="f78bd-819">Logga in tooyour prenumerationen med *az inloggning*</span><span class="sxs-lookup"><span data-stu-id="f78bd-819">Log in tooyour subscription with *az login*</span></span>
* <span data-ttu-id="f78bd-820">Välj din prenumeration med *az inställt--prenumeration`<subscription name or id`>*</span><span class="sxs-lookup"><span data-stu-id="f78bd-820">Select your subscription with *az account set --subscription `<subscription name or id`>*</span></span>
* <span data-ttu-id="f78bd-821">Överför hello VHD med *az storage blob överför* -finns [Using hello Azure CLI med Azure Storage][storage-azure-cli]</span><span class="sxs-lookup"><span data-stu-id="f78bd-821">Upload hello VHD with *az storage blob upload* - see [Using hello Azure CLI with Azure Storage][storage-azure-cli]</span></span>
* <span data-ttu-id="f78bd-822">(Valfritt) Skapa en Disk som hanteras av hello VHD med *az disk skapa* -finns https://docs.microsoft.com/cli/azure/disk#create</span><span class="sxs-lookup"><span data-stu-id="f78bd-822">(Optional) Create a Managed Disk from hello VHD with *az disk create* - see https://docs.microsoft.com/cli/azure/disk#create</span></span>
* <span data-ttu-id="f78bd-823">Skapa en ny virtuell dator att ange hello överförs VHD- eller hanterade disken som OS-disken med *az vm skapa* och parametern *--bifoga-os-disk*</span><span class="sxs-lookup"><span data-stu-id="f78bd-823">Create a new VM specifying hello uploaded VHD or Managed Disk as OS disk with *az vm create* and parameter *--attach-os-disk*</span></span>
* <span data-ttu-id="f78bd-824">Lägg till en data disk tooa ny virtuell dator med *az vm disk bifoga* och parametern *--nya*</span><span class="sxs-lookup"><span data-stu-id="f78bd-824">Add a data disk tooa new VM with *az vm disk attach* and parameter *--new*</span></span>

<span data-ttu-id="f78bd-825">**Mall**</span><span class="sxs-lookup"><span data-stu-id="f78bd-825">**Template**</span></span>

* <span data-ttu-id="f78bd-826">Överför hello VHD med Powershell eller Azure CLI</span><span class="sxs-lookup"><span data-stu-id="f78bd-826">Upload hello VHD with Powershell or Azure CLI</span></span>
* <span data-ttu-id="f78bd-827">(Valfritt) Skapa en Disk som hanteras av hello VHD med Powershell, Azure CLI eller hello Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="f78bd-827">(Optional) Create a Managed Disk from hello VHD with Powershell, Azure CLI or hello Azure portal</span></span>
* <span data-ttu-id="f78bd-828">Distribuera hello VM med en JSON-mall som refererar till hello VHD enligt [exempel JSON mallen](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/201-vm-specialized-vhd/azuredeploy.json) eller med hjälp av hanterade diskar enligt [exempel JSON mallen](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-disk-md/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="f78bd-828">Deploy hello VM with a JSON template referencing hello VHD as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/201-vm-specialized-vhd/azuredeploy.json) or using Managed Disks as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-disk-md/azuredeploy.json).</span></span>

#### <a name="deployment-of-a-vm-image"></a><span data-ttu-id="f78bd-829">Distribution av en VM-avbildning</span><span class="sxs-lookup"><span data-stu-id="f78bd-829">Deployment of a VM Image</span></span>
<span data-ttu-id="f78bd-830">tooupload en befintlig virtuell dator eller en VHD från hello lokalt nätverk i ordning toouse som en Azure VM-avbildning sådana en virtuell dator eller virtuell Hårddisk måste toomeet hello krav som anges i kapitel [förberedelse för att distribuera en virtuell dator med en avbildning av kundspecifika SAP] [ planning-guide-5.2.2] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-830">tooupload an existing VM or VHD from hello on-premises network in order toouse it as an Azure VM image such a VM or VHD need toomeet hello requirements listed in chapter [Preparation for deploying a VM with a customer-specific image for SAP][planning-guide-5.2.2] of this document.</span></span>

* <span data-ttu-id="f78bd-831">Använd *sysprep* i Windows eller *waagent-deprovision* på Linux toogeneralize dina VM - finns [Teknisk referens för Sysprep](https://technet.microsoft.com/library/cc766049.aspx) för Windows eller [hur toocapture en Linux virtuella toouse som en Resource Manager-mall] [ capture-image-linux-step-2-create-vm-image] för Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-831">Use *sysprep* on Windows or *waagent -deprovision* on Linux toogeneralize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How toocapture a Linux virtual machine toouse as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="f78bd-832">Logga in tooyour prenumerationen med *Login-AzureRmAccount*</span><span class="sxs-lookup"><span data-stu-id="f78bd-832">Log in tooyour subscription with *Login-AzureRmAccount*</span></span>
* <span data-ttu-id="f78bd-833">Ange hello prenumeration för din kontext med *Set-AzureRmContext* och parametern prenumerations-ID eller SubscriptionName - Se <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span><span class="sxs-lookup"><span data-stu-id="f78bd-833">Set hello subscription of your context with *Set-AzureRmContext* and parameter SubscriptionId or SubscriptionName - see <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span></span>
* <span data-ttu-id="f78bd-834">Överför hello VHD med *Lägg till AzureRmVhd* tooan Azure Storage-konto - finns <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span><span class="sxs-lookup"><span data-stu-id="f78bd-834">Upload hello VHD with *Add-AzureRmVhd* tooan Azure Storage Account - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span></span>
* <span data-ttu-id="f78bd-835">(Valfritt) Skapa en hanterad diskavbildning från hello VHD med *ny AzureRmImage* -finns <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermimage></span><span class="sxs-lookup"><span data-stu-id="f78bd-835">(Optional) Create a Managed Disk Image from hello VHD with *New-AzureRmImage*  - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermimage></span></span>
* <span data-ttu-id="f78bd-836">Ange hello OS-disk på en ny VM config toothe</span><span class="sxs-lookup"><span data-stu-id="f78bd-836">Set hello OS disk of a new VM config toothe</span></span>
  * <span data-ttu-id="f78bd-837">Virtuell Hårddisk med *Set-AzureRmVMOSDisk - SourceImageUri - CreateOption fromImage* -finns <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span><span class="sxs-lookup"><span data-stu-id="f78bd-837">VHD with *Set-AzureRmVMOSDisk -SourceImageUri -CreateOption fromImage* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span></span>
  * <span data-ttu-id="f78bd-838">Hanterade diskavbildning *Set AzureRmVMSourceImage* -finns <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmsourceimage></span><span class="sxs-lookup"><span data-stu-id="f78bd-838">Managed Disk Image *Set-AzureRmVMSourceImage* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmsourceimage></span></span>
* <span data-ttu-id="f78bd-839">Skapa en ny virtuell dator från hello konfigurationen med *ny AzureRmVM* -finns <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span><span class="sxs-lookup"><span data-stu-id="f78bd-839">Create a new VM from hello VM config with *New-AzureRmVM* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span></span>

<span data-ttu-id="f78bd-840">**Azure CLI 2.0**</span><span class="sxs-lookup"><span data-stu-id="f78bd-840">**Azure CLI 2.0**</span></span>

* <span data-ttu-id="f78bd-841">Använd *sysprep* i Windows eller *waagent-deprovision* på Linux toogeneralize dina VM - finns [Teknisk referens för Sysprep](https://technet.microsoft.com/library/cc766049.aspx) för Windows eller [hur toocapture en Linux virtuella toouse som en Resource Manager-mall] [ capture-image-linux-step-2-create-vm-image] för Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-841">Use *sysprep* on Windows or *waagent -deprovision* on Linux toogeneralize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How toocapture a Linux virtual machine toouse as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="f78bd-842">Logga in tooyour prenumerationen med *az inloggning*</span><span class="sxs-lookup"><span data-stu-id="f78bd-842">Log in tooyour subscription with *az login*</span></span>
* <span data-ttu-id="f78bd-843">Välj din prenumeration med *az inställt--prenumeration`<subscription name or id`>*</span><span class="sxs-lookup"><span data-stu-id="f78bd-843">Select your subscription with *az account set --subscription `<subscription name or id`>*</span></span>
* <span data-ttu-id="f78bd-844">Överför hello VHD med *az storage blob överför* -finns [Using hello Azure CLI med Azure Storage][storage-azure-cli]</span><span class="sxs-lookup"><span data-stu-id="f78bd-844">Upload hello VHD with *az storage blob upload* - see [Using hello Azure CLI with Azure Storage][storage-azure-cli]</span></span>
* <span data-ttu-id="f78bd-845">(Valfritt) Skapa en hanterad diskavbildning från hello VHD med *az bild skapa* -finns https://docs.microsoft.com/cli/azure/image#create</span><span class="sxs-lookup"><span data-stu-id="f78bd-845">(Optional) Create a Managed Disk Image from hello VHD with *az image create* - see https://docs.microsoft.com/cli/azure/image#create</span></span>
* <span data-ttu-id="f78bd-846">Skapa en ny virtuell dator att ange hello överförs VHD- eller hanteras diskavbildning som OS-disken med *az vm skapa* och parametern *--bild*</span><span class="sxs-lookup"><span data-stu-id="f78bd-846">Create a new VM specifying hello uploaded VHD or Managed Disk Image as OS disk with *az vm create* and parameter *--image*</span></span>

<span data-ttu-id="f78bd-847">**Mall**</span><span class="sxs-lookup"><span data-stu-id="f78bd-847">**Template**</span></span>

* <span data-ttu-id="f78bd-848">Använd *sysprep* i Windows eller *waagent-deprovision* på Linux toogeneralize dina VM - finns [Teknisk referens för Sysprep](https://technet.microsoft.com/library/cc766049.aspx) för Windows eller [hur toocapture en Linux virtuella toouse som en Resource Manager-mall] [ capture-image-linux-step-2-create-vm-image] för Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-848">Use *sysprep* on Windows or *waagent -deprovision* on Linux toogeneralize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How toocapture a Linux virtual machine toouse as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="f78bd-849">Överför hello VHD med Powershell eller Azure CLI</span><span class="sxs-lookup"><span data-stu-id="f78bd-849">Upload hello VHD with Powershell or Azure CLI</span></span>
* <span data-ttu-id="f78bd-850">(Valfritt) Skapa en hanterad diskavbildning från hello VHD med Powershell, Azure CLI eller hello Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="f78bd-850">(Optional) Create a Managed Disk Image from hello VHD with Powershell, Azure CLI or hello Azure portal</span></span>
* <span data-ttu-id="f78bd-851">Distribuera hello VM med en JSON-mall som refererar till avbildningen hello VHD enligt [exempel JSON mallen](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-image/azuredeploy.json) eller med hjälp av hello hanteras diskavbildning enligt [exempel JSON mallen](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-from-user-image/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="f78bd-851">Deploy hello VM with a JSON template referencing hello image VHD as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-image/azuredeploy.json) or using hello Managed Disk Image as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-from-user-image/azuredeploy.json).</span></span>

#### <a name="downloading-vhds-or-managed-disks-tooon-premises"></a><span data-ttu-id="f78bd-852">Hämta VHD eller hanterade diskar tooon lokala</span><span class="sxs-lookup"><span data-stu-id="f78bd-852">Downloading VHDs or Managed Disks tooon-premises</span></span>
<span data-ttu-id="f78bd-853">Azure-infrastrukturen som en tjänst är inte en enkelriktad gata att endast kan tooupload virtuella hårddiskar och SAP-system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-853">Azure Infrastructure as a Service is not a one-way street of only being able tooupload VHDs and SAP systems.</span></span> <span data-ttu-id="f78bd-854">Du kan flytta SAP-system från Azure tillbaka till lokala hälsningsmeddelande samt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-854">You can move SAP systems from Azure back into hello on-premises world as well.</span></span>

<span data-ttu-id="f78bd-855">Hämta hello VHD eller hanterade diskar kan inte vara aktiva under hello tiden för hello.</span><span class="sxs-lookup"><span data-stu-id="f78bd-855">During hello time of hello download hello VHDs or Managed Disks can’t be active.</span></span> <span data-ttu-id="f78bd-856">Även när du hämtar diskar som är monterade tooVMs hello VM behov toobe stängs av och frigöra.</span><span class="sxs-lookup"><span data-stu-id="f78bd-856">Even when downloading disks which are mounted tooVMs, hello VM needs toobe shut down and deallocated.</span></span> <span data-ttu-id="f78bd-857">Om du bara vill toodownload hello databasen innehåll som sedan ska använda tooset in ett nytt system lokalt och om det är acceptabelt att under hello tiden för hello hämtar och hello installationen av hello nya system som hello system i Azure kan fortfarande tas i bruk , du kan undvika långa driftstopp genom att utföra en säkerhetskopiering av komprimerade databasen till en disk och bara hämta disken i stället för hämtar hello OS grundläggande VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-857">If you only want toodownload hello database content which then should be used tooset up a new system on-premises and if it is acceptable that during hello time of hello download and hello setup of hello new system that hello system in Azure can still be operational, you could avoid a long downtime by performing a compressed database backup into a disk and just download that disk instead of also downloading hello OS base VM.</span></span>

#### <a name="powershell"></a><span data-ttu-id="f78bd-858">PowerShell</span><span class="sxs-lookup"><span data-stu-id="f78bd-858">Powershell</span></span>

  * <span data-ttu-id="f78bd-859">Hämta hanterade diskar</span><span class="sxs-lookup"><span data-stu-id="f78bd-859">Downloading a Managed Disk</span></span>  
  <span data-ttu-id="f78bd-860">Du måste först tooget åtkomst toohello underliggande blob för hello hanterade disken.</span><span class="sxs-lookup"><span data-stu-id="f78bd-860">You first need tooget access toohello underlying blob of hello Managed Disk.</span></span> <span data-ttu-id="f78bd-861">Sedan kan du kopiera hello underliggande blob tooa nya storage-konto och hämta hello blob storage-konto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-861">Then you can copy hello underlying blob tooa new storage account and download hello blob from this storage account.</span></span>

  ```powershell
  $access = Grant-AzureRmDiskAccess -ResourceGroupName <resource group> -DiskName <disk name> -Access Read -DurationInSecond 3600
  $key = (Get-AzureRmStorageAccountKey -ResourceGroupName <resource group> -Name <storage account name>)[0].Value
  $destContext = (New-AzureStorageContext -StorageAccountName <storage account name -StorageAccountKey $key)
  Start-AzureStorageBlobCopy -AbsoluteUri $access.AccessSAS -DestContainer <container name> -DestBlob <blob name> -DestContext $destContext
  # Wait for blob copy toofinish
  Get-AzureStorageBlobCopyState -Container <container name> -Blob <blob name> -Context $destContext
  Save-AzureRmVhd -SourceUri <blob in new storage account> -LocalFilePath <local file path> -StorageKey $key
  # Wait for download toofinish
  Revoke-AzureRmDiskAccess -ResourceGroupName <resource group> -DiskName <disk name>
  ```

  * <span data-ttu-id="f78bd-862">Hämta en virtuell Hårddisk</span><span class="sxs-lookup"><span data-stu-id="f78bd-862">Downloading a VHD</span></span>  
  <span data-ttu-id="f78bd-863">När hello SAP-systemet har stoppats och hello VM är avstängd, du kan använda hello PowerShell-cmdleten spara AzureRmVhd hello lokalt VHD måldiskarna toodownload hello tillbaka toohello lokalt världen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-863">Once hello SAP system is stopped and hello VM is shut down, you can use hello PowerShell cmdlet Save-AzureRmVhd on hello on-premises target toodownload hello VHD disks back toohello on-premises world.</span></span> <span data-ttu-id="f78bd-864">I ordning toodo att du behöver hello VHD som du hittar i hello-avsnittet lagring' hello URL för hello behöver Azure-portalen (behovet toonavigate toohello Storage-konto och hello lagringsbehållaren där hello VHD skapades) och du tooknow där hello VHD ska kopieras till.</span><span class="sxs-lookup"><span data-stu-id="f78bd-864">In order toodo that, you need hello URL of hello VHD which you can find in hello ‘Storage Section’ of hello Azure portal (need toonavigate toohello Storage Account and hello storage container where hello VHD was created) and you need tooknow where hello VHD should be copied to.</span></span>

  <span data-ttu-id="f78bd-865">Du kan sedan använda hello kommandot genom att helt enkelt definiera hello parametern SourceUri som hello URL hello VHD toodownload och hello LocalFilePath som hello fysiska platsen för hello VHD (inklusive filnamnet).</span><span class="sxs-lookup"><span data-stu-id="f78bd-865">Then you can leverage hello command by simply defining hello parameter SourceUri as hello URL of hello VHD toodownload and hello LocalFilePath as hello physical location of hello VHD (including its name).</span></span> <span data-ttu-id="f78bd-866">hello-kommandot kan se ut så:</span><span class="sxs-lookup"><span data-stu-id="f78bd-866">hello command could look like:</span></span>

  ```powerhell
  Save-AzureRmVhd -ResourceGroupName <resource group name of storage account> -SourceUri http://<storage account name>.blob.core.windows.net/<container name>/sapidedata.vhd -LocalFilePath E:\Azure_downloads\sapidesdata.vhd
  ```

  <span data-ttu-id="f78bd-867">Mer information om hello spara AzureRmVhd cmdlet Kontrollera här <https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvhd>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-867">For more details of hello Save-AzureRmVhd cmdlet, please check here <https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvhd>.</span></span>

#### <a name="cli-20"></a><span data-ttu-id="f78bd-868">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="f78bd-868">CLI 2.0</span></span>
  * <span data-ttu-id="f78bd-869">Hämta hanterade diskar</span><span class="sxs-lookup"><span data-stu-id="f78bd-869">Downloading a Managed Disk</span></span>  
  <span data-ttu-id="f78bd-870">Du måste först tooget åtkomst toohello underliggande blob för hello hanterade disken.</span><span class="sxs-lookup"><span data-stu-id="f78bd-870">You first need tooget access toohello underlying blob of hello Managed Disk.</span></span> <span data-ttu-id="f78bd-871">Sedan kan du kopiera hello underliggande blob tooa nya storage-konto och hämta hello blob storage-konto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-871">Then you can copy hello underlying blob tooa new storage account and download hello blob from this storage account.</span></span>
  ```
  az disk grant-access --ids "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" --duration-in-seconds 3600
  az storage blob download --sas-token "<sas token>" --account-name <account name> --container-name <container name> --name <blob name> --file <local file>
  az disk revoke-access --ids "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>"
  ```

  * <span data-ttu-id="f78bd-872">Hämta en virtuell Hårddisk</span><span class="sxs-lookup"><span data-stu-id="f78bd-872">Downloading a VHD</span></span>   
  <span data-ttu-id="f78bd-873">När hello SAP-systemet har stoppats och hello VM är avstängd, kan du använda hello Azure CLI kommandot _azure storage blob download_ på hello lokala målet toodownload hello VHD diskar tillbaka toohello lokalt världen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-873">Once hello SAP system is stopped and hello VM is shut down, you can use hello Azure CLI command _azure storage blob download_ on hello on-premises target toodownload hello VHD disks back toohello on-premises world.</span></span> <span data-ttu-id="f78bd-874">I ordning toodo att du behöver hello namn och hello VHD som du hittar i hello-avsnittet lagring' hello behållare för hello Azure-portalen (behovet toonavigate toohello Storage-konto och hello lagringsbehållaren där hello VHD skapades) och du behöver tooknow där hello virtuella Hårddisken ska kopieras till.</span><span class="sxs-lookup"><span data-stu-id="f78bd-874">In order toodo that, you need hello name and hello container of hello VHD which you can find in hello ‘Storage Section’ of hello Azure portal (need toonavigate toohello Storage Account and hello storage container where hello VHD was created) and you need tooknow where hello VHD should be copied to.</span></span>

  <span data-ttu-id="f78bd-875">Du kan sedan använda hello kommandot genom att helt enkelt definiera hello parametrar blob och behållare för hello VHD toodownload och hello mål som hello fysiska platsen för hello VHD (inklusive filnamnet).</span><span class="sxs-lookup"><span data-stu-id="f78bd-875">Then you can leverage hello command by simply defining hello parameters blob and container of hello VHD toodownload and hello destination as hello physical target location of hello VHD (including its name).</span></span> <span data-ttu-id="f78bd-876">hello-kommandot kan se ut så:</span><span class="sxs-lookup"><span data-stu-id="f78bd-876">hello command could look like:</span></span>

  ```
  az storage blob download --name <name of hello VHD toodownload> --container-name <container of hello VHD toodownload> --account-name <storage account name of hello VHD toodownload> --account-key <storage account key> --file <destination of hello VHD toodownload>
  ```

### <a name="transferring-vms-and-disks-within-azure"></a><span data-ttu-id="f78bd-877">Överföring av virtuella datorer och diskar i Azure</span><span class="sxs-lookup"><span data-stu-id="f78bd-877">Transferring VMs and disks within Azure</span></span>
#### <a name="copying-sap-systems-within-azure"></a><span data-ttu-id="f78bd-878">Kopiera SAP-system i Azure</span><span class="sxs-lookup"><span data-stu-id="f78bd-878">Copying SAP systems within Azure</span></span>
<span data-ttu-id="f78bd-879">Ett SAP-system eller även en dedikerad DBMS server som stöder ett lager för SAP-program kommer sannolikt består av flera diskar som innehåller antingen hello OS med hello binärfiler eller hello data och loggfiler för hello SAP-databasen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-879">An SAP system or even a dedicated DBMS server supporting an SAP application layer will likely consist of several disks which contain either hello OS with hello binaries or hello data and log file(s) of hello SAP database.</span></span> <span data-ttu-id="f78bd-880">Varken hello Azure funktioner för att kopiera diskar eller hello Azure funktioner för att spara diskar tooa lokal disk har en synkroniseringsmekanism som flera diskar skulle ögonblicksbild synkront.</span><span class="sxs-lookup"><span data-stu-id="f78bd-880">Neither hello Azure functionality of copying disks nor hello Azure functionality of saving disks tooa local disk has a synchronization mechanism, which would snapshot multiple disks synchronously.</span></span> <span data-ttu-id="f78bd-881">Därför hello hello kopieras eller spara diskar, även om de är monterade samma virtuella dator mot hello skulle vara olika.</span><span class="sxs-lookup"><span data-stu-id="f78bd-881">Therefore, hello state of hello copied or saved disks even if those are mounted against hello same VM would be different.</span></span> <span data-ttu-id="f78bd-882">Detta innebär att hello konkreta gäller att ha olika data och logfile(s) i hello olika diskar, hello databasen i slutet av hello skulle vara inkonsekvent.</span><span class="sxs-lookup"><span data-stu-id="f78bd-882">This means that in hello concrete case of having different data and logfile(s) contained in hello different disks, hello database in hello end would be inconsistent.</span></span>

<span data-ttu-id="f78bd-883">**Slutsats: I ordning toocopy eller spara diskar som är en del av en SAP konfiguration du behöver toostop hello SAP-systemet och måste också tooshut ned hello distribueras VM. Sedan kan du kopiera eller ladda ned hello uppsättning diskar tooeither skapar du en kopia av hello SAP system i Azure eller lokalt.**</span><span class="sxs-lookup"><span data-stu-id="f78bd-883">**Conclusion: In order toocopy or save disks which are part of an SAP system configuration you need toostop hello SAP system and also need tooshut down hello deployed VM. Only then you can copy or download hello set of disks tooeither create a copy of hello SAP system in Azure or on-premises.**</span></span>

<span data-ttu-id="f78bd-884">Datadiskar kan lagras som VHD-filer i ett Azure Storage-konto och direktansluten tooa virtuell dator eller användas som en bild.</span><span class="sxs-lookup"><span data-stu-id="f78bd-884">Data disks can be stored as VHD files in an Azure Storage Account and can be directly attached tooa virtual machine or be used as an image.</span></span> <span data-ttu-id="f78bd-885">I det här fallet är hello VHD kopierade tooanother plats innan den bifogade toohello virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-885">In this case, hello VHD is copied tooanother location before being attached toohello virtual machine.</span></span> <span data-ttu-id="f78bd-886">hello fullständiga namn hello VHD-filen i Azure måste vara unikt i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-886">hello full name of hello VHD file in Azure must be unique within Azure.</span></span> <span data-ttu-id="f78bd-887">Som nämnts tidigare redan är hello typ av en tredelat namn som ser ut som:</span><span class="sxs-lookup"><span data-stu-id="f78bd-887">As mentioned earlier already, hello name is kind of a three-part name that looks like:</span></span>

    http(s)://<storage account name>.blob.core.windows.net/<container name>/<vhd name>

<span data-ttu-id="f78bd-888">Datadiskar kan också vara hanterade diskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-888">Data disks can also be Managed Disks.</span></span> <span data-ttu-id="f78bd-889">I det här fallet är hello hanterade disken används toocreate nya hanterade disken innan du bifogade toohello virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-889">In this case, hello Managed Disk is used toocreate a new Managed Disk before being attached toohello virtual machine.</span></span> <span data-ttu-id="f78bd-890">hello namnet på hello hanterad Disk måste vara unika inom en resursgrupp.</span><span class="sxs-lookup"><span data-stu-id="f78bd-890">hello name of hello Managed Disk must be unique within a resource group.</span></span>

##### <a name="powershell"></a><span data-ttu-id="f78bd-891">PowerShell</span><span class="sxs-lookup"><span data-stu-id="f78bd-891">Powershell</span></span>
<span data-ttu-id="f78bd-892">Du kan använda Azure PowerShell-cmdlets toocopy en virtuell Hårddisk enligt [i den här artikeln][storage-powershell-guide-full-copy-vhd].</span><span class="sxs-lookup"><span data-stu-id="f78bd-892">You can use Azure PowerShell cmdlets toocopy a VHD as shown in [this article][storage-powershell-guide-full-copy-vhd].</span></span> <span data-ttu-id="f78bd-893">toocreate en ny Disk i hanterad Använd ny AzureRmDiskConfig och ny AzureRmDisk som visas i följande exempel hello.</span><span class="sxs-lookup"><span data-stu-id="f78bd-893">toocreate a new Managed Disk, use New-AzureRmDiskConfig and New-AzureRmDisk as shown in hello following example.</span></span>

```powershell
$config = New-AzureRmDiskConfig -CreateOption Copy -SourceUri "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" -Location <location>
New-AzureRmDisk -ResourceGroupName <resource group name> -DiskName <disk name> -Disk $config
```

##### <a name="cli-20"></a><span data-ttu-id="f78bd-894">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="f78bd-894">CLI 2.0</span></span>
<span data-ttu-id="f78bd-895">Du kan använda Azure CLI toocopy en virtuell Hårddisk enligt [i den här artikeln][storage-azure-cli-copy-blobs].</span><span class="sxs-lookup"><span data-stu-id="f78bd-895">You can use Azure CLI toocopy a VHD as shown in [this article][storage-azure-cli-copy-blobs].</span></span> <span data-ttu-id="f78bd-896">toocreate en ny hanterad Disk, Använd *az disk skapa* som visas i följande exempel hello.</span><span class="sxs-lookup"><span data-stu-id="f78bd-896">toocreate a new Managed Disk, use *az disk create* as shown in hello following example.</span></span>

```
az disk create --source "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" --name <disk name> --resource-group <resource group name> --location <location>
```

##### <a name="azure-storage-tools"></a><span data-ttu-id="f78bd-897">Azure Storage-verktyg</span><span class="sxs-lookup"><span data-stu-id="f78bd-897">Azure Storage tools</span></span>
* <span data-ttu-id="f78bd-898"><http://storageexplorer.com/></span><span class="sxs-lookup"><span data-stu-id="f78bd-898"><http://storageexplorer.com/></span></span>

<span data-ttu-id="f78bd-899">Professional-versionerna av Azure lagringsutforskare finns här:</span><span class="sxs-lookup"><span data-stu-id="f78bd-899">Professional editions of Azure Storage Explorers can be found here:</span></span>

* <span data-ttu-id="f78bd-900"><http://www.cerebrata.com/></span><span class="sxs-lookup"><span data-stu-id="f78bd-900"><http://www.cerebrata.com/></span></span>
* <span data-ttu-id="f78bd-901"><http://clumsyleaf.com/products/cloudxplorer></span><span class="sxs-lookup"><span data-stu-id="f78bd-901"><http://clumsyleaf.com/products/cloudxplorer></span></span>

<span data-ttu-id="f78bd-902">hello kopia av en VHD: n i ett lagringskonto är en process som tar endast några sekunder (liknande tooSAN maskinvara skapar ögonblicksbilder med lazy kopia och kopiera vid skrivning till).</span><span class="sxs-lookup"><span data-stu-id="f78bd-902">hello copy of a VHD itself within a storage account is a process which takes only a few seconds (similar tooSAN hardware creating snapshots with lazy copy and copy on write).</span></span> <span data-ttu-id="f78bd-903">När du har en kopia av hello VHD-filen kan du koppla den tooa virtuell dator eller Använd den som en bild tooattach kopierar hello VHD toovirtual datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-903">After you have a copy of hello VHD file you can attach it tooa virtual machine or use it as an image tooattach copies of hello VHD toovirtual machines.</span></span>

##### <a name="powershell"></a><span data-ttu-id="f78bd-904">PowerShell</span><span class="sxs-lookup"><span data-stu-id="f78bd-904">Powershell</span></span>
```powershell
# attach a vhd tooa vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name newdatadisk -VhdUri <path toovhd> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption attach
$vm | Update-AzureRmVM

# attach a managed disk tooa vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name newdatadisk -ManagedDiskId <managed disk id> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption attach
$vm | Update-AzureRmVM

# attach a copy of hello vhd tooa vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name <disk name> -VhdUri <new path of vhd> -SourceImageUri <path tooimage vhd> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption fromImage
$vm | Update-AzureRmVM

# attach a copy of hello managed disk tooa vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$diskConfig = New-AzureRmDiskConfig -Location $vm.Location -CreateOption Copy -SourceUri <source managed disk id>
$disk = New-AzureRmDisk -DiskName <disk name> -Disk $diskConfig -ResourceGroupName <resource group name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Caching <caching option> -Lun <lun, for example 0> -CreateOption attach -ManagedDiskId $disk.Id
$vm | Update-AzureRmVM
```
##### <a name="cli-20"></a><span data-ttu-id="f78bd-905">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="f78bd-905">CLI 2.0</span></span>
```

# attach a vhd tooa vm
az vm unmanaged-disk attach --resource-group <resource group name> --vm-name <vm name> --vhd-uri <path toovhd>

# attach a managed disk tooa vm
az vm disk attach --resource-group <resource group name> --vm-name <vm name> --disk <managed disk id>

# attach a copy of hello vhd tooa vm
# this scenario is currently not possible with Azure CLI. A workaround is toomanually copy hello vhd toohello destination.

# attach a copy of a managed disk tooa vm
az disk create --name <new disk name> --resource-group <resource group name> --location <location of target virtual machine> --source <source managed disk id>
az vm disk attach --disk <new disk name or managed disk id> --resource-group <resource group name> --vm-name <vm name> --caching <caching option> --lun <lun, for example 0>
```

#### <span data-ttu-id="f78bd-906"><a name="9789b076-2011-4afa-b2fe-b07a8aba58a1"></a>Kopiera diskar mellan Azure Storage-konton</span><span class="sxs-lookup"><span data-stu-id="f78bd-906"><a name="9789b076-2011-4afa-b2fe-b07a8aba58a1"></a>Copying disks between Azure Storage Accounts</span></span>
<span data-ttu-id="f78bd-907">Den här uppgiften kan inte utföras på hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-907">This task cannot be performed on hello Azure portal.</span></span> <span data-ttu-id="f78bd-908">Du kan använda Azure PowerShell-cmdlets, Azure CLI eller en webbläsare från tredje part lagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-908">You can use Azure PowerShell cmdlets, Azure CLI or a third-party storage browser.</span></span> <span data-ttu-id="f78bd-909">Hej PowerShell-cmdlets eller CLI-kommandon kan skapa och hantera blobbar, bland annat hello möjlighet tooasynchronously kopiera BLOB mellan Lagringskonton och mellan regioner inom hello Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="f78bd-909">hello PowerShell cmdlets or CLI commands can create and manage blobs, which include hello ability tooasynchronously copy blobs across Storage Accounts and across regions within hello Azure subscription.</span></span>

##### <a name="powershell"></a><span data-ttu-id="f78bd-910">PowerShell</span><span class="sxs-lookup"><span data-stu-id="f78bd-910">Powershell</span></span>
<span data-ttu-id="f78bd-911">Du kan också kopiera virtuella hårddiskar mellan prenumerationer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-911">You can also copy VHDs between subscriptions.</span></span> <span data-ttu-id="f78bd-912">Mer information finns [i den här artikeln][storage-powershell-guide-full-copy-vhd].</span><span class="sxs-lookup"><span data-stu-id="f78bd-912">For more information read [this article][storage-powershell-guide-full-copy-vhd].</span></span>

<span data-ttu-id="f78bd-913">hello grundläggande flödet av hello PS cmdlet logik ser ut så här:</span><span class="sxs-lookup"><span data-stu-id="f78bd-913">hello basic flow of hello PS cmdlet logic looks like this:</span></span>

* <span data-ttu-id="f78bd-914">Skapa en kontexten för lagringskontot för hello **källa** lagringskonto med *ny AzureStorageContext* -finns <https://msdn.microsoft.com/library/dn806380.aspx></span><span class="sxs-lookup"><span data-stu-id="f78bd-914">Create a storage account context for hello **source** storage account with *New-AzureStorageContext* - see <https://msdn.microsoft.com/library/dn806380.aspx></span></span>
* <span data-ttu-id="f78bd-915">Skapa en kontexten för lagringskontot för hello **mål** lagringskonto med *ny AzureStorageContext* -finns <https://msdn.microsoft.com/library/dn806380.aspx></span><span class="sxs-lookup"><span data-stu-id="f78bd-915">Create a storage account context for hello **target** storage account with *New-AzureStorageContext* - see <https://msdn.microsoft.com/library/dn806380.aspx></span></span>
* <span data-ttu-id="f78bd-916">Starta hello kopian med</span><span class="sxs-lookup"><span data-stu-id="f78bd-916">Start hello copy with</span></span>

```powershell
Start-AzureStorageBlobCopy -SrcBlob <source blob name> -SrcContainer <source container name> -SrcContext <variable containing context of source storage account> -DestBlob <target blob name> -DestContainer <target container name> -DestContext <variable containing context of target storage account>
```

* <span data-ttu-id="f78bd-917">Kontrollera hello hello kopia i en slinga med status</span><span class="sxs-lookup"><span data-stu-id="f78bd-917">Check hello status of hello copy in a loop with</span></span>

```powershell
Get-AzureStorageBlobCopyState -Blob <target blob name> -Container <target container name> -Context <variable containing context of target storage account>
```

* <span data-ttu-id="f78bd-918">Koppla hello nya VHD tooa virtuella enligt beskrivningen ovan.</span><span class="sxs-lookup"><span data-stu-id="f78bd-918">Attach hello new VHD tooa virtual machine as described above.</span></span>

<span data-ttu-id="f78bd-919">Exemplen finns [i den här artikeln][storage-powershell-guide-full-copy-vhd].</span><span class="sxs-lookup"><span data-stu-id="f78bd-919">For examples see [this article][storage-powershell-guide-full-copy-vhd].</span></span>

##### <a name="cli-20"></a><span data-ttu-id="f78bd-920">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="f78bd-920">CLI 2.0</span></span>
* <span data-ttu-id="f78bd-921">Starta hello kopian med</span><span class="sxs-lookup"><span data-stu-id="f78bd-921">Start hello copy with</span></span>

```
az storage blob copy start --source-blob <source blob name> --source-container <source container name> --source-account-name <source storage account name> --source-account-key <source storage account key> --destination-container <target container name> --destination-blob <target blob name> --account-name <target storage account name> --account-key <target storage account name>
```

* <span data-ttu-id="f78bd-922">Kontrollera status för hello om hello kopia i en slinga med</span><span class="sxs-lookup"><span data-stu-id="f78bd-922">Check hello status if hello copy in a loop with</span></span>

```
az storage blob show --name <target blob name> --container <target container name> --account-name <target storage account name> --account-key <target storage account name>
```

* <span data-ttu-id="f78bd-923">Koppla hello nya VHD tooa virtuella enligt beskrivningen ovan.</span><span class="sxs-lookup"><span data-stu-id="f78bd-923">Attach hello new VHD tooa virtual machine as described above.</span></span>

<span data-ttu-id="f78bd-924">Exemplen finns [i den här artikeln][storage-azure-cli-copy-blobs].</span><span class="sxs-lookup"><span data-stu-id="f78bd-924">For examples see [this article][storage-azure-cli-copy-blobs].</span></span>

### <a name="disk-handling"></a><span data-ttu-id="f78bd-925">Disk-hantering</span><span class="sxs-lookup"><span data-stu-id="f78bd-925">Disk Handling</span></span>
#### <span data-ttu-id="f78bd-926"><a name="4efec401-91e0-40c0-8e64-f2dceadff646"></a>Virtuella datorn/disken strukturen för SAP-distributioner</span><span class="sxs-lookup"><span data-stu-id="f78bd-926"><a name="4efec401-91e0-40c0-8e64-f2dceadff646"></a>VM/disk structure for SAP deployments</span></span>
<span data-ttu-id="f78bd-927">Helst hello hantering av hello struktur för en virtuell dator och associerade hello diskar bör vara mycket enkelt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-927">Ideally hello handling of hello structure of a VM and hello associated disks should be very simple.</span></span> <span data-ttu-id="f78bd-928">Kunder utvecklat många sätt att strukturera en serverinstallation lokala installationer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-928">In on-premises installations, customers developed many ways of structuring a server installation.</span></span>

* <span data-ttu-id="f78bd-929">En grundläggande disk som innehåller hello OS och alla hello binärfilerna för hello DBMS och/eller SAP.</span><span class="sxs-lookup"><span data-stu-id="f78bd-929">One base disk which contains hello OS and all hello binaries of hello DBMS and/or SAP.</span></span> <span data-ttu-id="f78bd-930">Sedan mars 2015, kan den här disken in too1TB i storlek i stället för tidigare begränsningar som begränsade den vara too127GB.</span><span class="sxs-lookup"><span data-stu-id="f78bd-930">Since March 2015, this disk can be up too1TB in size instead of earlier restrictions that limited it too127GB.</span></span>
* <span data-ttu-id="f78bd-931">En eller flera diskar som innehåller hello DBMS loggfilen för hello SAP-databasen och hello loggfil med hello DBMS temporär lagringsplats (om hello DBMS stöder detta).</span><span class="sxs-lookup"><span data-stu-id="f78bd-931">One or multiple disks which contains hello DBMS log file of hello SAP database and hello log file of hello DBMS temp storage area (if hello DBMS supports this).</span></span> <span data-ttu-id="f78bd-932">Om hello-loggen IOPS databaskrav är högt, måste toostripe flera diskar i ordning tooreach hello IOPS volymen som krävs.</span><span class="sxs-lookup"><span data-stu-id="f78bd-932">If hello database log IOPS requirements are high, you need toostripe multiple disks in order tooreach hello IOPS volume required.</span></span>
* <span data-ttu-id="f78bd-933">Ett antal diskar som innehåller en eller två databasfiler för hello SAP-databasen och hello DBMS temporära filer samt (om hello DBMS stöder detta).</span><span class="sxs-lookup"><span data-stu-id="f78bd-933">A number of disks containing one or two database files of hello SAP database and hello DBMS temp data files as well (if hello DBMS supports this).</span></span>

![För referenskonfiguration av Azure IaaS-VM för SAP][planning-guide-figure-1300]

[comment]: <> (MShermannd TODO beskrivs Linux struktur)

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-937">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-937">Windows</span></span>
>
> <span data-ttu-id="f78bd-938">Med många kunder såg vi konfigurationer, till exempel SAP och DBMS binärfiler har inte installerats på hello c:\ enhet där hello OS installerades.</span><span class="sxs-lookup"><span data-stu-id="f78bd-938">With many customers we saw configurations where, for example, SAP and DBMS binaries were not installed on hello c:\ drive where hello OS was installed.</span></span> <span data-ttu-id="f78bd-939">Det finns olika orsaker, men när vi tillbaka toohello rot, var vanligtvis att hello enheter var små och OS uppgraderingar behövs ytterligare utrymme 10 – 15 år sedan.</span><span class="sxs-lookup"><span data-stu-id="f78bd-939">There were various reasons for this, but when we went back toohello root, it usually was that hello drives were small and OS upgrades needed additional space 10-15 years ago.</span></span> <span data-ttu-id="f78bd-940">Båda villkoren gäller inte för ofta längre dessa dagar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-940">Both conditions do not apply these days too often anymore.</span></span> <span data-ttu-id="f78bd-941">Idag mappas hello c:\ enhet diskar med stora volymer eller på virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-941">Today hello c:\ drive can be mapped on large volume disks or VMs.</span></span> <span data-ttu-id="f78bd-942">I ordning tookeep distributioner enkel i sin struktur, är det rekommenderade toofollow följande distribution mönster för SAP NetWeaver system i Azure</span><span class="sxs-lookup"><span data-stu-id="f78bd-942">In order tookeep deployments simple in their structure, it is recommended toofollow the following deployment pattern for SAP NetWeaver systems in Azure</span></span>
>
> <span data-ttu-id="f78bd-943">hello Windows operativsystem växlingsfilens storlek bör vara på hello D: enhet (icke-beständig disk)</span><span class="sxs-lookup"><span data-stu-id="f78bd-943">hello Windows operating system pagefile should be on hello D: drive (non-persistent disk)</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="f78bd-945">Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-945">Linux</span></span>
>
> <span data-ttu-id="f78bd-946">Placera hello Linux växlingsfil under /mnt/mnt/resurs på Linux som beskrivs i [i den här artikeln][virtual-machines-linux-agent-user-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-946">Place hello Linux swapfile under /mnt /mnt/resource on Linux as described in [this article][virtual-machines-linux-agent-user-guide].</span></span> <span data-ttu-id="f78bd-947">hello växlingsfil kan konfigureras i hello Linux-agenten /etc/waagent.conf hello konfigurationsfil.</span><span class="sxs-lookup"><span data-stu-id="f78bd-947">hello swap file can be configured in hello configuration file of hello Linux Agent /etc/waagent.conf.</span></span> <span data-ttu-id="f78bd-948">Lägga till eller ändra hello följande inställningar:</span><span class="sxs-lookup"><span data-stu-id="f78bd-948">Add or change hello following settings:</span></span>
>
>

```
ResourceDisk.EnableSwap=y
ResourceDisk.SwapSizeMB=30720
```

<span data-ttu-id="f78bd-949">tooactivate hello ändringar behöver du toorestart hello Linux-agenten med</span><span class="sxs-lookup"><span data-stu-id="f78bd-949">tooactivate hello changes, you need toorestart hello Linux Agent with</span></span>

```
sudo service waagent restart
```

<span data-ttu-id="f78bd-950">Läs SAP-kommentar [1597355] för mer information om hello rekommenderar filstorlek i byte</span><span class="sxs-lookup"><span data-stu-id="f78bd-950">Please read SAP Note [1597355] for more details on hello recommended swap file size</span></span>

- - -
<span data-ttu-id="f78bd-951">hello antalet diskar som används för hello DBMS-datafiler och hello typ av Azure Storage finns på diskarna ska fastställas av hello IOPS krav och hello fördröjning krävs.</span><span class="sxs-lookup"><span data-stu-id="f78bd-951">hello number of disks used for hello DBMS data files and hello type of Azure Storage these disks are hosted on should be determined by hello IOPS requirements and hello latency required.</span></span> <span data-ttu-id="f78bd-952">Exakt kvoter beskrivs i [(Linux) för den här artikeln] [ virtual-machines-sizes-linux] och [i den här artikeln (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="f78bd-952">Exact quotas are described in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="f78bd-953">Erfarenhet av SAP distributioner över hello senaste 2 åren vilka undervisning förekommer oss vissa erfarenheter som kan sammanfattas som:</span><span class="sxs-lookup"><span data-stu-id="f78bd-953">Experience of SAP deployments over hello last 2 years taught us some lessons which can be summarized as:</span></span>

* <span data-ttu-id="f78bd-954">IOPS trafik toodifferent datafiler är inte alltid hello samma eftersom befintliga kunden system kan ha olika storlek data filer som representerar sina SAP-databaserna.</span><span class="sxs-lookup"><span data-stu-id="f78bd-954">IOPS traffic toodifferent data files is not always hello same since existing customer systems might have differently sized data files representing their SAP database(s).</span></span> <span data-ttu-id="f78bd-955">Därför aktiverad ut toobe bättre med en RAID-konfiguration över flera diskar tooplace hello datafiler LUN högg utanför de.</span><span class="sxs-lookup"><span data-stu-id="f78bd-955">As a result it turned out toobe better using a RAID configuration over multiple disks tooplace hello data files LUNs carved out of those.</span></span> <span data-ttu-id="f78bd-956">Det fanns situationer, särskilt med Azure standardlagring där en IOPS frekvens uppnått hello kvoten av en enskild disk mot hello DBMS transaktionsloggen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-956">There were situations, especially with Azure Standard Storage where an IOPS rate hit hello quota of a single disk against hello DBMS transaction log.</span></span> <span data-ttu-id="f78bd-957">I sådana situationer hello Premium-lagring bör du använda eller också sammanställa flera standardlagring RAID-diskar med en programuppdatering.</span><span class="sxs-lookup"><span data-stu-id="f78bd-957">In such scenarios hello use of Premium Storage is recommended or alternatively aggregating multiple Standard Storage disks with a software RAID.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-959">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-959">Windows</span></span>
>
> * <span data-ttu-id="f78bd-960">[Bästa praxis för SQL Server i Azure Virtual Machines prestanda][virtual-machines-sql-server-performance-best-practices]</span><span class="sxs-lookup"><span data-stu-id="f78bd-960">[Performance best practices for SQL Server in Azure Virtual Machines][virtual-machines-sql-server-performance-best-practices]</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="f78bd-962">Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-962">Linux</span></span>
>
> * <span data-ttu-id="f78bd-963">[Konfigurera programvarubaserad RAID på Linux][virtual-machines-linux-configure-raid]</span><span class="sxs-lookup"><span data-stu-id="f78bd-963">[Configure Software RAID on Linux][virtual-machines-linux-configure-raid]</span></span>
> * <span data-ttu-id="f78bd-964">[Konfigurera LVM på en virtuell Linux-dator i Azure][virtual-machines-linux-configure-lvm]</span><span class="sxs-lookup"><span data-stu-id="f78bd-964">[Configure LVM on a Linux VM in Azure][virtual-machines-linux-configure-lvm]</span></span>
> * [<span data-ttu-id="f78bd-965">Azure Storage hemligheter och Linux-i/o-optimeringar</span><span class="sxs-lookup"><span data-stu-id="f78bd-965">Azure Storage secrets and Linux I/O optimizations</span></span>](http://blogs.msdn.com/b/igorpag/archive/2014/10/23/azure-storage-secrets-and-linux-i-o-optimizations.aspx)
>
>

- - -
* <span data-ttu-id="f78bd-966">Premium-lagring visas betydande bättre prestanda, särskilt för kritiska transaction log skrivningar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-966">Premium Storage is showing significant better performance, especially for critical transaction log writes.</span></span> <span data-ttu-id="f78bd-967">SAP-scenarier som är förväntade toodeliver produktionsliknande prestanda, rekommenderas det starkt toouse VM-serien som kan använda Azure Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-967">For SAP scenarios that are expected toodeliver production like performance, it is highly recommended toouse VM-Series that can leverage Azure Premium Storage.</span></span>

<span data-ttu-id="f78bd-968">Tänk på att hello-disk som innehåller hello OS och som vi rekommenderar hello binärfilerna för SAP och hello databasen (grundläggande VM), är inte längre begränsade too127GB.</span><span class="sxs-lookup"><span data-stu-id="f78bd-968">Keep in mind that hello disk which contains hello OS, and as we recommend, hello binaries of SAP and hello database (base VM) as well, is not anymore limited too127GB.</span></span> <span data-ttu-id="f78bd-969">Nu kan ha upp too1TB i storlek.</span><span class="sxs-lookup"><span data-stu-id="f78bd-969">It now can have up too1TB in size.</span></span> <span data-ttu-id="f78bd-970">Detta bör vara tillräckligt med utrymme tookeep alla hello inklusive nödvändig fil, till exempel, SAP-loggarna för batch-jobbet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-970">This should be enough space tookeep all hello necessary file including, for example, SAP batch job logs.</span></span>

<span data-ttu-id="f78bd-971">För fler förslag och mer specifikt för DBMS virtuella datorer kan du kontakta hello [DBMS Deployment Guide][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="f78bd-971">For more suggestions and more details, specifically for DBMS VMs, please consult hello [DBMS Deployment Guide][dbms-guide]</span></span>

#### <a name="disk-handling"></a><span data-ttu-id="f78bd-972">Disk-hantering</span><span class="sxs-lookup"><span data-stu-id="f78bd-972">Disk Handling</span></span>
<span data-ttu-id="f78bd-973">I de flesta fall måste du toocreate ytterligare diskar i ordning toodeploy hello SAP-databasen i hello VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-973">In most scenarios you need toocreate additional disks in order toodeploy hello SAP database into hello VM.</span></span> <span data-ttu-id="f78bd-974">Hittills har diskuterats hello överväganden för antalet diskar i kapitel [virtuella datorn/disken strukturen för SAP distributioner] [ planning-guide-5.5.1] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-974">We talked about hello considerations on number of disks in chapter [VM/disk structure for SAP deployments][planning-guide-5.5.1] of this document.</span></span> <span data-ttu-id="f78bd-975">hello Azure-portalen kan tooattach och frånkoppla diskarna när en grundläggande virtuell dator har distribuerats.</span><span class="sxs-lookup"><span data-stu-id="f78bd-975">hello Azure portal allows tooattach and detach disks once a base VM is deployed.</span></span> <span data-ttu-id="f78bd-976">hello diskar kan vara kopplad/borttagbar när hello VM är igång och körs samt när den har stoppats.</span><span class="sxs-lookup"><span data-stu-id="f78bd-976">hello disks can be attached/detached when hello VM is up and running as well as when it is stopped.</span></span> <span data-ttu-id="f78bd-977">När du ansluter en disk hello Azure-portalen tillhandahåller tooattach en tom disk eller en befintlig disk som vid denna tidpunkt inte är ansluten tooanother VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-977">When attaching a disk, hello Azure portal offers tooattach an empty disk or an existing disk which at this point in time is not attached tooanother VM.</span></span>

<span data-ttu-id="f78bd-978">**Obs**: diskar kan bara vara anslutna tooone VM i en given tidpunkt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-978">**Note**: Disks can only be attached tooone VM at any given time.</span></span>

![Koppla / frånkoppla diskarna med Azure standardlagring][planning-guide-figure-1400]

<span data-ttu-id="f78bd-980">Under hello distributionen av en ny virtuell dator kan bestämma du om du vill toouse hanterade diskar eller placera diskarna på Azure Storage-konton.</span><span class="sxs-lookup"><span data-stu-id="f78bd-980">During hello deployment of a new virtual machine, you can decide whether you want toouse Managed Disks or place your disks on Azure Storage Accounts.</span></span> <span data-ttu-id="f78bd-981">Om du vill toouse Premium-lagring, bör du använda hanterade diskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-981">If you want toouse Premium Storage, we recommend using Managed Disks.</span></span>

<span data-ttu-id="f78bd-982">Sedan måste toodecide om du vill toocreate en ny och tom disk eller om du vill att tooselect en befintlig disk som överfördes tidigare och ska vara anslutna toohello VM nu.</span><span class="sxs-lookup"><span data-stu-id="f78bd-982">Next, you need toodecide whether you want toocreate a new and empty disk or whether you want tooselect an existing disk that was uploaded earlier and should be attached toohello VM now.</span></span>

<span data-ttu-id="f78bd-983">**VIKTIGA**: du **inte** vill toouse som värden cachelagring med Azure standardlagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-983">**IMPORTANT**: You **DO NOT** want toouse Host Caching with Azure Standard Storage.</span></span> <span data-ttu-id="f78bd-984">Hello värden inställningar bör du lämna på hello standard NONE.</span><span class="sxs-lookup"><span data-stu-id="f78bd-984">You should leave hello Host Cache preference at hello default of NONE.</span></span> <span data-ttu-id="f78bd-985">Med Azure Premium Storage bör du aktivera Läs cachelagring om hello i/o-egenskap är främst läsa som vanliga i/o-trafik mot databasen datafiler.</span><span class="sxs-lookup"><span data-stu-id="f78bd-985">With Azure Premium Storage you should enable Read Caching if hello I/O characteristic is mostly read like typical I/O traffic against database data files.</span></span> <span data-ttu-id="f78bd-986">Om databasen transaktionsloggfilen rekommenderas ingen cachelagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-986">In case of database transaction log file no caching is recommended.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-988">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-988">Windows</span></span>
>
> <span data-ttu-id="f78bd-989">[Hur tooattach en disk i hello Azure-portalen][virtual-machines-linux-attach-disk-portal]</span><span class="sxs-lookup"><span data-stu-id="f78bd-989">[How tooattach a data disk in hello Azure portal][virtual-machines-linux-attach-disk-portal]</span></span>
>
> <span data-ttu-id="f78bd-990">Om diskar har anslutits måste toolog i toohello VM tooopen hello Windows Disk Manager.</span><span class="sxs-lookup"><span data-stu-id="f78bd-990">If disks are attached, you need toolog in toohello VM tooopen hello Windows Disk Manager.</span></span> <span data-ttu-id="f78bd-991">Om automount inte aktiveras som rekommenderas i kapitel [inställningen automount för anslutna diskar][planning-guide-5.5.3], hello just kopplat volymen behöver toobe tas online och initieras.</span><span class="sxs-lookup"><span data-stu-id="f78bd-991">If automount is not enabled as recommended in chapter [Setting automount for attached disks][planning-guide-5.5.3], hello newly attached volume needs toobe taken online and initialized.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="f78bd-993">Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-993">Linux</span></span>
>
> <span data-ttu-id="f78bd-994">Om diskar har anslutits du behöver toolog i toohello VM och initiera hello diskar som beskrivs i [i den här artikeln][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]</span><span class="sxs-lookup"><span data-stu-id="f78bd-994">If disks are attached, you need toolog in toohello VM and initialize hello disks as described in [this article][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]</span></span>
>
>

- - -
<span data-ttu-id="f78bd-995">Om hello nya disken är en tom disk, behöver du tooformat hello samt disk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-995">If hello new disk is an empty disk, you need tooformat hello disk as well.</span></span> <span data-ttu-id="f78bd-996">För att formatera, särskilt för DBMS hello data och loggfiler samma rekommendationer för bare metal-distributioner av hello DBMS tillämpas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-996">For formatting, especially for DBMS data and log files hello same recommendations as for bare-metal deployments of hello DBMS apply.</span></span>

<span data-ttu-id="f78bd-997">Som nämnts i kapitlet [hello Microsoft Azure virtuella konceptet][planning-guide-3.2], ett Azure Storage-konto tillhandahåller inte oändlig resurser i i/o-volym IOPS och data volym.</span><span class="sxs-lookup"><span data-stu-id="f78bd-997">As already mentioned in chapter [hello Microsoft Azure Virtual Machine Concept][planning-guide-3.2], an Azure Storage account does not provide infinite resources in terms of I/O volume, IOPS and data volume.</span></span> <span data-ttu-id="f78bd-998">DBMS virtuella datorer som vanligtvis mest påverkas av detta.</span><span class="sxs-lookup"><span data-stu-id="f78bd-998">Usually DBMS VMs are most affected by this.</span></span> <span data-ttu-id="f78bd-999">Om du har några höga i/o-volym VMs toodeploy i ordning toostay inom hello hello Azure Storage-konto volym kan det vara bästa toouse ett separat Lagringskonto för varje virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-999">It might be best toouse a separate Storage Account for each VM if you have few high I/O volume VMs toodeploy in order toostay within hello limit of hello Azure Storage Account volume.</span></span> <span data-ttu-id="f78bd-1000">Annars måste toosee hur du balanserar dessa virtuella datorer mellan olika Storage-konton utan att hello gränsen på varje enskild Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1000">Otherwise, you need toosee how you can balance these VMs between different Storage accounts without hitting hello limit of each single Storage Account.</span></span> <span data-ttu-id="f78bd-1001">Mer information i hello beskrivs [DBMS Deployment Guide][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1001">More details are discussed in hello [DBMS Deployment Guide][dbms-guide].</span></span> <span data-ttu-id="f78bd-1002">Du bör också tänka dessa begränsningar på för ren SAP-program virtuella server-datorer eller andra virtuella datorer som eventuellt kan kräva ytterligare virtuella hårddiskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1002">You should also keep these limitations in mind for pure SAP application server VMs or other VMs which eventually might require additional VHDs.</span></span> <span data-ttu-id="f78bd-1003">Dessa begränsningar gäller inte om du använder hanterade disken.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1003">These restrictions do not apply if you use Managed Disk.</span></span> <span data-ttu-id="f78bd-1004">Om du planerar toouse Premium-lagring, bör du använda hanterade disken.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1004">If you plan toouse Premium Storage, we recommend using Managed Disk.</span></span>

<span data-ttu-id="f78bd-1005">Ett annat ämne som är relevant för Storage-konton är om hello virtuella hårddiskar i ett Lagringskonto får georeplikerad.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1005">Another topic which is relevant for Storage Accounts is whether hello VHDs in a Storage Account are getting Geo-replicated.</span></span> <span data-ttu-id="f78bd-1006">GEO-replikering är aktiverat eller inaktiverat på hello Lagringskonto nivå och inte på hello VM-nivå.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1006">Geo-replication is enabled or disabled on hello Storage Account level and not on hello VM level.</span></span> <span data-ttu-id="f78bd-1007">Om geo-replikering är aktiverat hello hello virtuella hårddiskar inom hello Storage-konto kan replikeras till en annan Azure-datacenter i samma region.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1007">If geo-replication is enabled, hello VHDs within hello Storage Account would be replicated into another Azure data center within hello same region.</span></span> <span data-ttu-id="f78bd-1008">Innan du bestämmer dig för detta, bör du tänka hello följande begränsningar:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1008">Before deciding on this, you should think about hello following restriction:</span></span>

<span data-ttu-id="f78bd-1009">Azure Geo-replikering fungerar lokalt på varje virtuell Hårddisk på en virtuell dator och replikerar inte hello IOs i kronologisk ordning över flera virtuella hårddiskar på en virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1009">Azure Geo-replication works locally on each VHD in a VM and does not replicate hello IOs in chronological order across multiple VHDs in a VM.</span></span> <span data-ttu-id="f78bd-1010">Därför hello VHD som representerar hello grundläggande VM samt eventuella ytterligare virtuella hårddiskar anslutna toohello VM replikeras oberoende av varandra.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1010">Therefore, hello VHD that represents hello base VM as well as any additional VHDs attached toohello VM are replicated independent of each other.</span></span> <span data-ttu-id="f78bd-1011">Det innebär att det finns ingen synkronisering mellan hello ändringar i hello olika virtuella hårddiskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1011">This means there is no synchronization between hello changes in hello different VHDs.</span></span> <span data-ttu-id="f78bd-1012">hello att hello IOs replikeras oberoende av hello ordning i vilken de skrivs innebär att geo-replikering inte är av värdet för databasservrar som har sina databaser fördelade över flera virtuella hårddiskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1012">hello fact that hello IOs are replicated independently of hello order in which they are written means that geo-replication is not of value for database servers that have their databases distributed over multiple VHDs.</span></span> <span data-ttu-id="f78bd-1013">I tillägg toohello DBMS finnas det också andra program där processer skriva eller ändra data i olika virtuella hårddiskar och där det är viktigt tookeep hello ordningen på ändringar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1013">In addition toohello DBMS, there also might be other applications where processes write or manipulate data in different VHDs and where it is important tookeep hello order of changes.</span></span> <span data-ttu-id="f78bd-1014">Om detta är ett krav, bör inte geo-replikering i Azure aktiveras.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1014">If that is a requirement, geo-replication in Azure should not be enabled.</span></span> <span data-ttu-id="f78bd-1015">Beroende på om du behöver eller vill geo-replikering för en uppsättning virtuella datorer, men inte för en annan uppsättning, du kan redan kategorisera virtuella datorer och deras relaterade virtuella hårddiskar i olika Storage-konton som har geo-replikering aktiverat eller inaktiverat.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1015">Dependent on whether you need or want geo-replication for a set of VMs, but not for another set, you can already categorize VMs and their related VHDs into different Storage Accounts that have geo-replication enabled or disabled.</span></span>

#### <span data-ttu-id="f78bd-1016"><a name="17e0d543-7e8c-4160-a7da-dd7117a1ad9d"></a>Ange automount för anslutna diskar</span><span class="sxs-lookup"><span data-stu-id="f78bd-1016"><a name="17e0d543-7e8c-4160-a7da-dd7117a1ad9d"></a>Setting automount for attached disks</span></span>
- - -
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-1018">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-1018">Windows</span></span>
>
> <span data-ttu-id="f78bd-1019">För virtuella datorer som har skapats från egna avbildningar eller diskar, är det nödvändigt toocheck och eventuellt ange hello automount parametern.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1019">For VMs which are created from own Images or Disks, it is necessary toocheck and possibly set hello automount parameter.</span></span> <span data-ttu-id="f78bd-1020">Den här parametern kan hello VM efter en omstart eller Omdistributionen i Azure toomount hello kopplad/monterade enheter igen automatiskt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1020">Setting this parameter will allow hello VM after a restart or redeployment in Azure toomount hello attached/mounted drives again automatically.</span></span>
> <span data-ttu-id="f78bd-1021">hello-parameter har angetts för hello bilder som tillhandahålls av Microsoft i hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1021">hello parameter is set for hello images provided by Microsoft in hello Azure Marketplace.</span></span>
>
> <span data-ttu-id="f78bd-1022">I ordning tooset hello automount Kontrollera hello dokumentationen för hello kommandorad körbara diskpart.exe här:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1022">In order tooset hello automount, please check hello documentation of hello command-line executable diskpart.exe here:</span></span>
>
> * [<span data-ttu-id="f78bd-1023">Kommandoradsalternativ för DiskPart</span><span class="sxs-lookup"><span data-stu-id="f78bd-1023">DiskPart Command-Line Options</span></span>](https://technet.microsoft.com/library/bb490893.aspx)
> * [<span data-ttu-id="f78bd-1024">Automount</span><span class="sxs-lookup"><span data-stu-id="f78bd-1024">Automount</span></span>](http://technet.microsoft.com/library/cc753703.aspx)
>
> <span data-ttu-id="f78bd-1025">hello Windows kommandoradsfönster bör öppnas som administratör.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1025">hello Windows command-line window should be opened as administrator.</span></span>
>
> <span data-ttu-id="f78bd-1026">Om diskar har anslutits måste toolog i toohello VM tooopen hello Windows Disk Manager.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1026">If disks are attached, you need toolog in toohello VM tooopen hello Windows Disk Manager.</span></span> <span data-ttu-id="f78bd-1027">Om automount inte aktiveras som rekommenderas i kapitel [inställningen automount för anslutna diskar][planning-guide-5.5.3], hello nyligen kopplade volym > måste toobe tas online och initieras.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1027">If automount is not enabled as recommended in chapter [Setting automount for attached disks][planning-guide-5.5.3],  hello newly attached volume >needs toobe taken online and initialized.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="f78bd-1029">Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-1029">Linux</span></span>
>
> <span data-ttu-id="f78bd-1030">Du behöver tooinitialize en nyligen ansluten tom disk som beskrivs i [i den här artikeln][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1030">You need tooinitialize a newly attached empty disk as described in [this article][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux].</span></span>
> <span data-ttu-id="f78bd-1031">Du måste också tooadd nya diskar toohello /etc/fstab.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1031">You also need tooadd new disks toohello /etc/fstab.</span></span>
>
>

- - -
### <a name="final-deployment"></a><span data-ttu-id="f78bd-1032">Slutlig distribution</span><span class="sxs-lookup"><span data-stu-id="f78bd-1032">Final Deployment</span></span>
<span data-ttu-id="f78bd-1033">Hello slutlig distribution och specifika stegen, särskilt med angående toohello distribution av SAP utökad övervakning finns toohello [Deployment Guide][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1033">For hello final deployment and exact steps, especially with regards toohello deployment of SAP Extended Monitoring, please refer toohello [Deployment Guide][deployment-guide].</span></span>

## <a name="accessing-sap-systems-running-within-azure-vms"></a><span data-ttu-id="f78bd-1034">Åtkomst till SAP-system som körs i virtuella Azure-datorer</span><span class="sxs-lookup"><span data-stu-id="f78bd-1034">Accessing SAP systems running within Azure VMs</span></span>
<span data-ttu-id="f78bd-1035">Endast molnbaserad scenarier kanske du vill tooconnect toothose SAP-system över hello offentliga internet använda SAP-Gränssnittet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1035">For Cloud-Only scenarios, you might want tooconnect toothose SAP systems across hello public internet using SAP GUI.</span></span> <span data-ttu-id="f78bd-1036">I dessa fall måste hello följande procedurer toobe tillämpas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1036">For these cases, hello following procedures need toobe applied.</span></span>

<span data-ttu-id="f78bd-1037">Senare i hello dokumentet diskuteras hello andra viktiga scenarier, anslutande tooSAP system i mellan lokala distributioner som har en plats-till-plats-anslutning (VPN-tunnel) eller Azure ExpressRoute-anslutning mellan Azure system och hello lokalt system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1037">Later in hello document we will discuss hello other major scenario, connecting tooSAP systems in cross-premises deployments which have a site-to-site connection (VPN tunnel) or Azure ExpressRoute connection between hello on-premises systems and Azure systems.</span></span>

### <a name="remote-access-toosap-systems"></a><span data-ttu-id="f78bd-1038">Remote Access tooSAP system</span><span class="sxs-lookup"><span data-stu-id="f78bd-1038">Remote Access tooSAP systems</span></span>
<span data-ttu-id="f78bd-1039">Med Azure Resource Manager innehåller inga slutpunkter längre som hello tidigare klassiska modellen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1039">With Azure Resource Manager there are no default endpoints anymore like in hello former classic model.</span></span> <span data-ttu-id="f78bd-1040">Alla portar för en Azure ARM-VM är öppna så länge som:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1040">All ports of an Azure ARM VM are open as long as:</span></span>

1. <span data-ttu-id="f78bd-1041">Ingen Nätverkssäkerhetsgrupp har definierats för hello undernät eller hello nätverksgränssnitt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1041">No Network Security Group is defined for hello subnet or hello network interface.</span></span> <span data-ttu-id="f78bd-1042">Nätverket trafik tooAzure virtuella datorer kan vara skyddad via så kallade ”Nätverkssäkerhetsgrupper”.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1042">Network traffic tooAzure VMs can be secured via so-called "Network Security Groups".</span></span> <span data-ttu-id="f78bd-1043">Mer information finns i [vad är en Nätverkssäkerhetsgrupp (NSG)?][virtual-networks-nsg]</span><span class="sxs-lookup"><span data-stu-id="f78bd-1043">For more information see [What is a Network Security Group (NSG)?][virtual-networks-nsg]</span></span>
2. <span data-ttu-id="f78bd-1044">Någon Azure belastningsutjämnare har definierats för hello nätverksgränssnittet</span><span class="sxs-lookup"><span data-stu-id="f78bd-1044">No Azure Load Balancer is defined for hello network interface</span></span>   

<span data-ttu-id="f78bd-1045">Se hello arkitektur skillnaden mellan klassiska modellen och ARM som beskrivs i [i den här artikeln][virtual-machines-azure-resource-manager-architecture].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1045">See hello architecture difference between classic model and ARM as described in [this article][virtual-machines-azure-resource-manager-architecture].</span></span>

#### <a name="configuration-of-hello-sap-system-and-sap-gui-connectivity-for-cloud-only-scenario"></a><span data-ttu-id="f78bd-1046">Konfigurationen av hello SAP-systemet och SAP GUI-anslutning för endast molnbaserad scenario</span><span class="sxs-lookup"><span data-stu-id="f78bd-1046">Configuration of hello SAP System and SAP GUI connectivity for Cloud-Only scenario</span></span>
<span data-ttu-id="f78bd-1047">Finns den här artikeln som beskriver information toothis avsnittet: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/06/24/sap-gui-connection-closed-when-connecting-to-sap-system-in-azure.aspx></span><span class="sxs-lookup"><span data-stu-id="f78bd-1047">Please see this article which describes details toothis topic: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/06/24/sap-gui-connection-closed-when-connecting-to-sap-system-in-azure.aspx></span></span>

#### <a name="changing-firewall-settings-within-vm"></a><span data-ttu-id="f78bd-1048">Ändra brandväggsinställningar inom VM</span><span class="sxs-lookup"><span data-stu-id="f78bd-1048">Changing Firewall Settings within VM</span></span>
<span data-ttu-id="f78bd-1049">Det kan vara nödvändigt tooconfigure hello brandväggen på din virtuella datorer tooallow för inkommande trafik tooyour SAP-system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1049">It might be necessary tooconfigure hello firewall on your virtual machines tooallow inbound traffic tooyour SAP system.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-1051">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-1051">Windows</span></span>
>
> <span data-ttu-id="f78bd-1052">Hello Windows-brandväggen i en distribuerad virtuell dator i Azure är aktiverat som standard.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1052">By default, hello Windows Firewall within an Azure deployed VM is turned on.</span></span> <span data-ttu-id="f78bd-1053">Nu måste tooallow hello SAP Port toobe öppnas, annars hello SAP GUI kommer inte att kunna tooconnect.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1053">You now need tooallow hello SAP Port toobe opened, otherwise hello SAP GUI will not be able tooconnect.</span></span>
> <span data-ttu-id="f78bd-1054">toodo detta:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1054">toodo this:</span></span>
>
> * <span data-ttu-id="f78bd-1055">Öppna kontrollpanelen\system och säkerhet\windows-brandväggen too'Advanced inställningar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1055">Open Control Panel\System and Security\Windows Firewall too‘Advanced Settings’.</span></span>
> * <span data-ttu-id="f78bd-1056">Nu ska du högerklicka på regler för inkommande trafik och välj ”ny regel'.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1056">Now right-click on Inbound Rules and chose ‘New Rule’.</span></span>
> * <span data-ttu-id="f78bd-1057">I hello valde följande guide toocreate en ny regel 'Port'.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1057">In hello following Wizard chose toocreate a new ‘Port’ rule.</span></span>
> * <span data-ttu-id="f78bd-1058">I hello nästa steg i guiden hello, lämnar du hello inställning på TCP- och typ i hello portnummer du vill tooopen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1058">In hello next step of hello wizard, leave hello setting at TCP and type in hello port number you want tooopen.</span></span> <span data-ttu-id="f78bd-1059">Eftersom vår SAP instans-ID är 00, tog vi 3200.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1059">Since our SAP instance ID is 00, we took 3200.</span></span> <span data-ttu-id="f78bd-1060">Om din instans har en annan instans., bör hello port du definierat tidigare baserat på hello instansnummer öppnas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1060">If your instance has a different instance number, hello port you defined earlier based on hello instance number should be opened.</span></span>
> * <span data-ttu-id="f78bd-1061">I hello nästa del av hello guiden måste tooleave hello objektet ”Tillåt anslutningen' som markerad.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1061">In hello next part of hello wizard, you need tooleave hello item ‘Allow Connection’ checked.</span></span>
> * <span data-ttu-id="f78bd-1062">I hello nästa steg i guiden hello måste toodefine om hello regeln gäller för domän, privata och offentliga nätverk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1062">In hello next step of hello wizard you need toodefine whether hello rule applies for Domain, Private and Public network.</span></span> <span data-ttu-id="f78bd-1063">Justera det om nödvändigt tooyour måste.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1063">Please adjust it if necessary tooyour needs.</span></span> <span data-ttu-id="f78bd-1064">Ansluta till SAP GUI från hello utanför via hello offentligt nätverk, behöver du dock toohave hello regel som tillämpas toohello offentligt nätverk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1064">However, connecting with SAP GUI from hello outside through hello public network, you need toohave hello rule applied toohello public network.</span></span>
> * <span data-ttu-id="f78bd-1065">I hello sista steget hello guiden namn hello regeln och spara genom att trycka på ”Slutför”</span><span class="sxs-lookup"><span data-stu-id="f78bd-1065">In hello last step of hello wizard, name hello rule and save by pressing ‘Finish’</span></span>
>
> <span data-ttu-id="f78bd-1066">hello regeln träder i kraft omedelbart.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1066">hello rule becomes effective immediately.</span></span>
>
> ![Definitionen av port][planning-guide-figure-1600]
>
> ![Linux][Logo_Linux] <span data-ttu-id="f78bd-1069">Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-1069">Linux</span></span>
>
> <span data-ttu-id="f78bd-1070">hello Linux bilder i hello Azure Marketplace aktiverar inte hello iptables brandväggen som standard och hello anslutning tooyour SAP-systemet ska fungera.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1070">hello Linux images in hello Azure Marketplace do not enable hello iptables firewall by default and hello connection tooyour SAP system should work.</span></span> <span data-ttu-id="f78bd-1071">Om du har aktiverat iptables eller en annan brandvägg finns i iptables toohello dokumentationen eller hello används brandväggen tooallow inkommande tcp-trafik för port 32xx (där xx är hello system antalet SAP-system).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1071">If you enabled iptables or another firewall, please refer toohello documentation of iptables or hello used firewall tooallow inbound tcp traffic too port 32xx (where xx is hello system number of your SAP system).</span></span>
>
>

- - -
#### <a name="security-recommendations"></a><span data-ttu-id="f78bd-1072">Säkerhetsrekommendationer</span><span class="sxs-lookup"><span data-stu-id="f78bd-1072">Security recommendations</span></span>
<span data-ttu-id="f78bd-1073">hello SAP GUI ansluter inte omedelbart tooany hello SAP instanser (port 32xx) som körs, men först ansluter via hello porten är öppen toohello SAP meddelandet serverprocessen (port 36xx).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1073">hello SAP GUI does not connect immediately tooany of hello SAP instances (port 32xx) which are running, but first connects via hello port opened toohello SAP message server process (port 36xx).</span></span> <span data-ttu-id="f78bd-1074">I hello tidigare hello samma port användes av servern för hello-meddelande för hello intern kommunikation toohello programinstanser.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1074">In hello past hello very same port was used by hello message server for hello internal communication toohello application instances.</span></span> <span data-ttu-id="f78bd-1075">tooprevent lokalt programservrar oavsiktligt kommunicerar med en message-server i Azure hello interna kommunikationsportar kan ändras.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1075">tooprevent on-premises application servers from inadvertently communicating with a message server in Azure hello internal communication ports can be changed.</span></span> <span data-ttu-id="f78bd-1076">Det rekommenderas starkt toochange hello intern kommunikation mellan hello SAP message-servern och dess program instanser tooa annat portnummer på datorer som har varit klonad från lokalt system, t.ex en klon av utveckling för projektet testning osv. Detta kan göras med hello standardparametern profil:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1076">It is highly recommended toochange hello internal communication between hello SAP message server and its application instances tooa different port number on systems that have been cloned from on-premises systems, such as a clone of development for project testing etc. This can be done with hello default profile parameter:</span></span>

> <span data-ttu-id="f78bd-1077">rdisp/msserv_internal</span><span class="sxs-lookup"><span data-stu-id="f78bd-1077">rdisp/msserv_internal</span></span>
>
>

<span data-ttu-id="f78bd-1078">enligt beskrivningen i [säkerhetsinställningar för hello SAP Message Server](https://help.sap.com/saphelp_nwpi71/helpdata/en/47/c56a6938fb2d65e10000000a42189c/content.htm)</span><span class="sxs-lookup"><span data-stu-id="f78bd-1078">as documented in [Security Settings for hello SAP Message Server ](https://help.sap.com/saphelp_nwpi71/helpdata/en/47/c56a6938fb2d65e10000000a42189c/content.htm)</span></span>

## <span data-ttu-id="f78bd-1079"><a name="96a77628-a05e-475d-9df3-fb82217e8f14"></a>Begreppet endast molnbaserad distribution av SAP-instanser</span><span class="sxs-lookup"><span data-stu-id="f78bd-1079"><a name="96a77628-a05e-475d-9df3-fb82217e8f14"></a>Concepts of Cloud-Only deployment of SAP instances</span></span>
### <span data-ttu-id="f78bd-1080"><a name="3e9c3690-da67-421a-bc3f-12c520d99a30"></a>Enskild virtuell dator med SAP NetWeaver demo/utbildning scenario</span><span class="sxs-lookup"><span data-stu-id="f78bd-1080"><a name="3e9c3690-da67-421a-bc3f-12c520d99a30"></a>Single VM with SAP NetWeaver demo/training scenario</span></span>
![Kör enskild VM SAP demo-system med hello samma VM-namn, separat i Azure Cloud Services][planning-guide-figure-1700]

<span data-ttu-id="f78bd-1082">I det här scenariot (finns i kapitlet [endast molnbaserad] [ planning-guide-2.1] i det här dokumentet) vi implementerar ett scenario med vanliga utbildning-demon system där hello fullständig utbildning-demon scenario finns i en enda virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1082">In this scenario (see chapter [Cloud-Only][planning-guide-2.1] of this document) we are implementing a typical training/demo system scenario where hello complete training/demo scenario is contained in a single VM.</span></span> <span data-ttu-id="f78bd-1083">Vi förutsätter att hello distributionen görs via avbildningen mallar för Virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1083">We assume that hello deployment is done through VM image templates.</span></span> <span data-ttu-id="f78bd-1084">Vi förutsätter också att flera av dessa demo/utbildningar virtuella datorer måste toobe som distribueras med hello virtuella datorer med hello samma namn.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1084">We also assume that multiple of these demo/trainings VMs need toobe deployed with hello VMs having hello same name.</span></span>

<span data-ttu-id="f78bd-1085">hello antas att du har skapat en VM-avbildning som beskrivs i vissa avsnitt i kapitel [förbereda virtuella datorer med SAP för Azure] [ planning-guide-5.2] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1085">hello assumption is that you created a VM Image as described in some sections of chapter [Preparing VMs with SAP for Azure][planning-guide-5.2] in this document.</span></span>

<span data-ttu-id="f78bd-1086">hello sekvens av händelser tooimplement hello scenariot ser ut så här:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1086">hello sequence of events tooimplement hello scenario looks like this:</span></span>

##### <a name="powershell"></a><span data-ttu-id="f78bd-1087">PowerShell</span><span class="sxs-lookup"><span data-stu-id="f78bd-1087">Powershell</span></span>
* <span data-ttu-id="f78bd-1088">Skapa en ny resursgrupp för varje utbildning/demo liggande</span><span class="sxs-lookup"><span data-stu-id="f78bd-1088">Create a new resource group for every training/demo landscape</span></span>

```powershell
$rgName = "SAPERPDemo1"
New-AzureRmResourceGroup -Name $rgName -Location "North Europe"
```
* <span data-ttu-id="f78bd-1089">Skapa ett nytt lagringskonto om du inte vill toouse hanterade diskar</span><span class="sxs-lookup"><span data-stu-id="f78bd-1089">Create a new storage account if you don't want toouse Managed Disks</span></span>

```powershell
$suffix = Get-Random -Minimum 100000 -Maximum 999999
$account = New-AzureRmStorageAccount -ResourceGroupName $rgName -Name "saperpdemo$suffix" -SkuName Standard_LRS -Kind "Storage" -Location "North Europe"
```

* <span data-ttu-id="f78bd-1090">Skapa ett nytt virtuellt nätverk för varje utbildning/demo liggande tooenable hello användning av hello samma värdnamn och IP-adresser.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1090">Create a new virtual network for every training/demo landscape tooenable hello usage of hello same hostname and IP addresses.</span></span> <span data-ttu-id="f78bd-1091">hello virtuellt nätverk är skyddat av en Nätverkssäkerhetsgrupp som bara tillåter trafik tooport 3389 tooenable åtkomst via fjärrskrivbord och port 22 för SSH.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1091">hello virtual network is protected by a Network Security Group that only allows traffic tooport 3389 tooenable Remote Desktop access and port 22 for SSH.</span></span>

```powershell
# Create a new Virtual Network
$rdpRule = New-AzureRmNetworkSecurityRuleConfig -Name SAPERPDemoNSGRDP -Protocol * -SourcePortRange * -DestinationPortRange 3389 -Access Allow -Direction Inbound -SourceAddressPrefix * -DestinationAddressPrefix * -Priority 100
$sshRule = New-AzureRmNetworkSecurityRuleConfig -Name SAPERPDemoNSGSSH -Protocol * -SourcePortRange * -DestinationPortRange 22 -Access Allow -Direction Inbound -SourceAddressPrefix * -DestinationAddressPrefix * -Priority 101
$nsg = New-AzureRmNetworkSecurityGroup -Name SAPERPDemoNSG -ResourceGroupName $rgName -Location  "North Europe" -SecurityRules $rdpRule,$sshRule

$subnetConfig = New-AzureRmVirtualNetworkSubnetConfig -Name Subnet1 -AddressPrefix  10.0.1.0/24 -NetworkSecurityGroup $nsg
$vnet = New-AzureRmVirtualNetwork -Name SAPERPDemoVNet -ResourceGroupName $rgName -Location "North Europe"  -AddressPrefix 10.0.1.0/24 -Subnet $subnetConfig
```

* <span data-ttu-id="f78bd-1092">Skapa en ny offentlig IP-adress som kan använda tooaccess hello virtuell dator från hello internet</span><span class="sxs-lookup"><span data-stu-id="f78bd-1092">Create a new public IP address that can be used tooaccess hello virtual machine from hello internet</span></span>

```powershell
# Create a public IP address with a DNS name
$pip = New-AzureRmPublicIpAddress -Name SAPERPDemoPIP -ResourceGroupName $rgName -Location "North Europe" -DomainNameLabel $rgName.ToLower() -AllocationMethod Dynamic
```

* <span data-ttu-id="f78bd-1093">Skapa ett nytt nätverksgränssnitt för hello virtuell dator</span><span class="sxs-lookup"><span data-stu-id="f78bd-1093">Create a new network interface for hello virtual machine</span></span>

```powershell
# Create a new Network Interface
$nic = New-AzureRmNetworkInterface -Name SAPERPDemoNIC -ResourceGroupName $rgName -Location "North Europe" -Subnet $vnet.Subnets[0] -PublicIpAddress $pip
```

* <span data-ttu-id="f78bd-1094">Skapa en virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1094">Create a virtual machine.</span></span> <span data-ttu-id="f78bd-1095">Hello endast molnbaserad scenariot för varje virtuell dator har hello samma namn.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1095">For hello Cloud-Only scenario every VM will have hello same name.</span></span> <span data-ttu-id="f78bd-1096">hello SAP-SID för hello SAP NetWeaver instanser i dessa virtuella datorer kommer att hello samma samt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1096">hello SAP SID of hello SAP NetWeaver instances in those VMs will be hello same as well.</span></span> <span data-ttu-id="f78bd-1097">Inom hello Azure-resursgrupp, hello namnet på hello VM behöver toobe unika, men olika Azure-resursgrupper kan du köra virtuella datorer med hello samma namn.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1097">Within hello Azure Resource Group, hello name of hello VM needs toobe unique, but in different Azure Resource Groups you can run VMs with hello same name.</span></span> <span data-ttu-id="f78bd-1098">Hej standardkonto för Windows-administratörer' eller 'rot' för Linux är inte giltiga.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1098">hello default 'Administrator' account of Windows or 'root' for Linux are not valid.</span></span> <span data-ttu-id="f78bd-1099">Därför måste ett nytt användarnamn för administratören toobe definierats tillsammans med ett lösenord.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1099">Therefore, a new administrator user name needs toobe defined together with a password.</span></span> <span data-ttu-id="f78bd-1100">hello storleken på hello VM måste också toobe som definierats.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1100">hello size of hello VM also needs toobe defined.</span></span>

```powershell
#####
# Create a new virtual machine with an official image from hello Azure Marketplace
#####
$cred=Get-Credential -Message "Type hello name and password of hello local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

# select image
$vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "MicrosoftWindowsServer" -Offer "WindowsServer" -Skus "2012-R2-Datacenter" -Version "latest"
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred -ProvisionVMAgent -EnableAutoUpdate
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "SUSE" -Offer "SLES-SAP" -Skus "12-SP1" -Version "latest"
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "RedHat" -Offer "RHEL" -Skus "7.2" -Version "latest"
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "Oracle" -Offer "Oracle-Linux" -Skus "7.2" -Version "latest"
# $vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

```powershell
#####
# Create a new virtual machine with a VHD that contains hello private image that you want toouse
#####
$cred=Get-Credential -Message "Type hello name and password of hello local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$diskName="osfromimage"
$osDiskUri=$account.PrimaryEndpoints.Blob.ToString() + "vhds/" + $diskName  + ".vhd"

$vmconfig = Set-AzureRmVMOSDisk -VM $vmconfig -Name $diskName -VhdUri $osDiskUri -CreateOption fromImage -SourceImageUri <path tooVHD that contains hello OS image> -Windows
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred
#$vmconfig = Set-AzureRmVMOSDisk -VM $vmconfig -Name $diskName -VhdUri $osDiskUri -CreateOption fromImage -SourceImageUri <path tooVHD that contains hello OS image> -Linux
#$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

```powershell
#####
# Create a new virtual machine with a Managed Disk Image
#####
$cred=Get-Credential -Message "Type hello name and password of hello local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -Id <Id of Managed Disk Image>
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred
#$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

* <span data-ttu-id="f78bd-1101">Du kan också lägga till ytterligare diskar och återställa nödvändigt innehåll.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1101">Optionally add additional disks and restore necessary content.</span></span> <span data-ttu-id="f78bd-1102">Tänk på att alla blob-namn (URL: er toohello blobbar) måste vara unikt i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1102">Be aware that all blob names (URLs toohello blobs) must be unique within Azure.</span></span>

```powershell
# Optional: Attach additional VHD data disks
$vm = Get-AzureRmVM -ResourceGroupName $rgName -Name SAPERPDemo
$dataDiskUri = $account.PrimaryEndpoints.Blob.ToString() + "vhds/datadisk.vhd"
Add-AzureRmVMDataDisk -VM $vm -Name datadisk -VhdUri $dataDiskUri -DiskSizeInGB 1023 -CreateOption empty | Update-AzureRmVM

# Optional: Attach additional Managed Disks
$vm = Get-AzureRmVM -ResourceGroupName $rgName -Name SAPERPDemo
Add-AzureRmVMDataDisk -VM $vm -Name datadisk -DiskSizeInGB 1023 -CreateOption empty -Lun 0 | Update-AzureRmVM
```

##### <a name="cli"></a><span data-ttu-id="f78bd-1103">CLI</span><span class="sxs-lookup"><span data-stu-id="f78bd-1103">CLI</span></span>
<span data-ttu-id="f78bd-1104">Följande exempelkod hello kan användas på Linux.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1104">hello following example code can be used on Linux.</span></span> <span data-ttu-id="f78bd-1105">För Windows, antingen Använd PowerShell enligt beskrivningen ovan eller anpassa hello exempel toouse % rgName % i stället för $rgName och ange hello miljövariabeln hello Windows kommandot *ange*.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1105">For Windows, please either use PowerShell as described above or adapt hello example toouse %rgName% instead of $rgName and set hello environment variable using hello Windows command *set*.</span></span>

* <span data-ttu-id="f78bd-1106">Skapa en ny resursgrupp för varje utbildning/demo liggande</span><span class="sxs-lookup"><span data-stu-id="f78bd-1106">Create a new resource group for every training/demo landscape</span></span>

```
rgName=SAPERPDemo1
rgNameLower=saperpdemo1
az group create --name $rgName --location "North Europe"
```

* <span data-ttu-id="f78bd-1107">Skapa ett nytt lagringskonto</span><span class="sxs-lookup"><span data-stu-id="f78bd-1107">Create a new storage account</span></span>

```
az storage account create --resource-group $rgName --location "North Europe" --kind Storage --sku Standard_LRS --name $rgNameLower
```

* <span data-ttu-id="f78bd-1108">Skapa ett nytt virtuellt nätverk för varje utbildning/demo liggande tooenable hello användning av hello samma värdnamn och IP-adresser.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1108">Create a new virtual network for every training/demo landscape tooenable hello usage of hello same hostname and IP addresses.</span></span> <span data-ttu-id="f78bd-1109">hello virtuellt nätverk är skyddat av en Nätverkssäkerhetsgrupp som bara tillåter trafik tooport 3389 tooenable åtkomst via fjärrskrivbord och port 22 för SSH.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1109">hello virtual network is protected by a Network Security Group that only allows traffic tooport 3389 tooenable Remote Desktop access and port 22 for SSH.</span></span>

```
az network nsg create --resource-group $rgName --location "North Europe" --name SAPERPDemoNSG
az network nsg rule create --resource-group $rgName --nsg-name SAPERPDemoNSG --name SAPERPDemoNSGRDP --protocol \* --source-address-prefix \* --source-port-range \* --destination-address-prefix \* --destination-port-range 3389 --access Allow --priority 100 --direction Inbound
az network nsg rule create --resource-group $rgName --nsg-name SAPERPDemoNSG --name SAPERPDemoNSGSSH --protocol \* --source-address-prefix \* --source-port-range \* --destination-address-prefix \* --destination-port-range 22 --access Allow --priority 101 --direction Inbound

az network vnet create --resource-group $rgName --name SAPERPDemoVNet --location "North Europe" --address-prefixes 10.0.1.0/24
az network vnet subnet create --resource-group $rgName --vnet-name SAPERPDemoVNet --name Subnet1 --address-prefix 10.0.1.0/24 --network-security-group SAPERPDemoNSG
```

* <span data-ttu-id="f78bd-1110">Skapa en ny offentlig IP-adress som kan använda tooaccess hello virtuell dator från hello internet</span><span class="sxs-lookup"><span data-stu-id="f78bd-1110">Create a new public IP address that can be used tooaccess hello virtual machine from hello internet</span></span>

```
az network public-ip create --resource-group $rgName --name SAPERPDemoPIP --location "North Europe" --dns-name $rgNameLower --allocation-method Dynamic
```

* <span data-ttu-id="f78bd-1111">Skapa ett nytt nätverksgränssnitt för hello virtuell dator</span><span class="sxs-lookup"><span data-stu-id="f78bd-1111">Create a new network interface for hello virtual machine</span></span>

```
az network nic create --resource-group $rgName --location "North Europe" --name SAPERPDemoNIC --public-ip-address SAPERPDemoPIP --subnet Subnet1 --vnet-name SAPERPDemoVNet
```

* <span data-ttu-id="f78bd-1112">Skapa en virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1112">Create a virtual machine.</span></span> <span data-ttu-id="f78bd-1113">Hello endast molnbaserad scenariot för varje virtuell dator har hello samma namn.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1113">For hello Cloud-Only scenario every VM will have hello same name.</span></span> <span data-ttu-id="f78bd-1114">hello SAP-SID för hello SAP NetWeaver instanser i dessa virtuella datorer kommer att hello samma samt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1114">hello SAP SID of hello SAP NetWeaver instances in those VMs will be hello same as well.</span></span> <span data-ttu-id="f78bd-1115">Inom hello Azure-resursgrupp, hello namnet på hello VM behöver toobe unika, men olika Azure-resursgrupper kan du köra virtuella datorer med hello samma namn.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1115">Within hello Azure Resource Group, hello name of hello VM needs toobe unique, but in different Azure Resource Groups you can run VMs with hello same name.</span></span> <span data-ttu-id="f78bd-1116">Hej standardkonto för Windows-administratörer' eller 'rot' för Linux är inte giltiga.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1116">hello default 'Administrator' account of Windows or 'root' for Linux are not valid.</span></span> <span data-ttu-id="f78bd-1117">Därför måste ett nytt användarnamn för administratören toobe definierats tillsammans med ett lösenord.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1117">Therefore, a new administrator user name needs toobe defined together with a password.</span></span> <span data-ttu-id="f78bd-1118">hello storleken på hello VM måste också toobe som definierats.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1118">hello size of hello VM also needs toobe defined.</span></span>

```
#####
# Create virtual machines using storage accounts
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image MicrosoftWindowsServer:WindowsServer:2012-R2-Datacenter:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image SUSE:SLES-SAP:12-SP1:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image RedHat:RHEL:7.2:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image "Oracle:Oracle-Linux:7.2:latest" --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password

#####
# Create virtual machines using Managed Disks
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image MicrosoftWindowsServer:WindowsServer:2012-R2-Datacenter:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image SUSE:SLES-SAP:12-SP1:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image RedHat:RHEL:7.2:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image "Oracle:Oracle-Linux:7.2:latest" --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
```

```
#####
# Create a new virtual machine with a VHD that contains hello private image that you want toouse
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --os-type Windows --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --image <path tooimage vhd>
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --os-type Linux --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --image <path tooimage vhd> --authentication-type password

#####
# Create a new virtual machine with a Managed Disk Image
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --image <managed disk image id>
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --image <managed disk image id> --authentication-type password
```

* <span data-ttu-id="f78bd-1119">Du kan också lägga till ytterligare diskar och återställa nödvändigt innehåll.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1119">Optionally add additional disks and restore necessary content.</span></span> <span data-ttu-id="f78bd-1120">Tänk på att alla blob-namn (URL: er toohello blobbar) måste vara unikt i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1120">Be aware that all blob names (URLs toohello blobs) must be unique within Azure.</span></span>

```
# Optional: Attach additional VHD data disks
az vm unmanaged-disk attach --resource-group $rgName --vm-name SAPERPDemo --size-gb 1023 --vhd-uri https://$rgNameLower.blob.core.windows.net/vhds/data.vhd  --new

# Optional: Attach additional Managed Disks
az vm disk attach --resource-group $rgName --vm-name SAPERPDemo --size-gb 1023 --disk datadisk --new
```

##### <a name="template"></a><span data-ttu-id="f78bd-1121">Mall</span><span class="sxs-lookup"><span data-stu-id="f78bd-1121">Template</span></span>
<span data-ttu-id="f78bd-1122">Du kan använda hello exempelmallarna i hello azure snabbstartsmallar databasen på github.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1122">You can use hello sample templates on hello azure-quickstart-templates repository on github.</span></span>

* [<span data-ttu-id="f78bd-1123">Enkel virtuell Linux-dator</span><span class="sxs-lookup"><span data-stu-id="f78bd-1123">Simple Linux VM</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-linux)
* [<span data-ttu-id="f78bd-1124">Enkla Windows VM</span><span class="sxs-lookup"><span data-stu-id="f78bd-1124">Simple Windows VM</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-windows)
* [<span data-ttu-id="f78bd-1125">Virtuell dator från avbildningen</span><span class="sxs-lookup"><span data-stu-id="f78bd-1125">VM from image</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image)

### <a name="implement-a-set-of-vms-which-need-toocommunicate-within-azure"></a><span data-ttu-id="f78bd-1126">Implementera en uppsättning virtuella datorer som behöver toocommunicate i Azure</span><span class="sxs-lookup"><span data-stu-id="f78bd-1126">Implement a set of VMs which need toocommunicate within Azure</span></span>
<span data-ttu-id="f78bd-1127">Det här scenariot endast molnbaserad är ett typiskt scenario för träning och demo där hello programvara som representerar hello demo/utbildning scenariot sträcker sig över flera virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1127">This Cloud-Only scenario is a typical scenario for training and demo purposes where hello software representing hello demo/training scenario is spread over multiple VMs.</span></span> <span data-ttu-id="f78bd-1128">hello olika komponenter hello olika virtuella datorer måste toocommunicate med varandra.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1128">hello different components installed in hello different VMs need toocommunicate with each other.</span></span> <span data-ttu-id="f78bd-1129">Igen, i det här scenariot någon lokal nätverksanslutning eller scenarion med flera lokaler krävs.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1129">Again, in this scenario no on-premises network communication or cross-premises scenario is needed.</span></span>

<span data-ttu-id="f78bd-1130">Det här scenariot är en utökning av hello-installation som beskrivs i kapitlet [enskild virtuell dator med SAP NetWeaver demo/utbildning scenariot] [ planning-guide-7.1] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1130">This scenario is an extension of hello installation described in chapter [Single VM with SAP NetWeaver demo/training scenario][planning-guide-7.1] of this document.</span></span> <span data-ttu-id="f78bd-1131">I det här fallet läggs flera virtuella datorer tooan befintlig resursgrupp.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1131">In this case more virtual machines will be added tooan existing resource group.</span></span> <span data-ttu-id="f78bd-1132">I hello består följande exempel hello utbildning liggande av en SAP ASCS/SCS virtuell dator, en virtuell dator som kör en DBMS och en SAP Application Server-instans VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1132">In hello following example hello training landscape consists of an SAP ASCS/SCS VM, a VM running a DBMS and an SAP Application Server instance VM.</span></span>

<span data-ttu-id="f78bd-1133">Innan du skapar det här scenariot måste toothink om grundläggande inställningar som redan utförs i hello scenariot innan.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1133">Before you build this scenario you need toothink about basic settings as already exercised in hello scenario before.</span></span>

#### <a name="resource-group-and-virtual-machine-naming"></a><span data-ttu-id="f78bd-1134">Resursgrupp och namngivning av virtuell dator</span><span class="sxs-lookup"><span data-stu-id="f78bd-1134">Resource Group and Virtual Machine naming</span></span>
<span data-ttu-id="f78bd-1135">Alla resursgruppnamn måste vara unika.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1135">All resource group names must be unique.</span></span> <span data-ttu-id="f78bd-1136">Utveckla egna namngivningsschemat för dina resurser, exempelvis `<rg-name`>-suffix.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1136">Develop your own naming scheme of your resources, such as `<rg-name`>-suffix.</span></span>

<span data-ttu-id="f78bd-1137">hello namn på virtuell dator har toobe som är unika inom hello resursgrupp.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1137">hello virtual machine name has toobe unique within hello resource group.</span></span>

#### <a name="set-up-network-for-communication-between-hello-different-vms"></a><span data-ttu-id="f78bd-1138">Konfigurera nätverk för kommunikation mellan hello olika virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="f78bd-1138">Set up Network for communication between hello different VMs</span></span>
![Uppsättning virtuella datorer i Azure-nätverk][planning-guide-figure-1900]

<span data-ttu-id="f78bd-1140">tooprevent namnkonflikter med kloner av hello samma utbildning/demo landskap toocreate ett Azure Virtual Network måste för varje liggande.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1140">tooprevent naming collisions with clones of hello same training/demo landscapes, you need toocreate an Azure Virtual Network for every landscape.</span></span> <span data-ttu-id="f78bd-1141">DNS-namnmatchningen kommer att tillhandahållas av Azure eller konfigurera egna DNS-server utanför Azure (inte toobe ytterligare beskrivs här).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1141">DNS name resolution will be provided by Azure or you can configure your own DNS server outside Azure (not toobe further discussed here).</span></span> <span data-ttu-id="f78bd-1142">I det här scenariot konfigurerar vi inte våra egna DNS.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1142">In this scenario we do not configure our own DNS.</span></span> <span data-ttu-id="f78bd-1143">Kommunikation via värdnamn vara aktiverat för alla virtuella datorer i ett Azure Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1143">For all virtual machines inside one Azure Virtual Network, communication via hostnames will be enabled.</span></span>

<span data-ttu-id="f78bd-1144">hello varför tooseparate utbildning eller demo landskap av virtuella nätverk och inte bara resursen grupper kan vara:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1144">hello reasons tooseparate training or demo landscapes by virtual networks and not only resource groups could be:</span></span>

* <span data-ttu-id="f78bd-1145">hello SAP liggande som ställs in måste egna AD/OpenLDAP och en domänserver behov toobe del av varje hello landskap.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1145">hello SAP landscape as set up needs its own AD/OpenLDAP and a Domain Server needs toobe part of each of hello landscapes.</span></span>  
* <span data-ttu-id="f78bd-1146">Hej SAP liggande som konfigurera har komponenter som måste toowork med fasta IP-adresser.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1146">hello SAP landscape as set up has components that need toowork with fixed IP addresses.</span></span>

<span data-ttu-id="f78bd-1147">Mer information om virtuella Azure-nätverk och hur toodefine dem finns i [i den här artikeln][virtual-networks-create-vnet-arm-pportal].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1147">More details about Azure Virtual Networks and how toodefine them can be found in [this article][virtual-networks-create-vnet-arm-pportal].</span></span>

## <a name="deploying-sap-vms-with-corporate-network-connectivity-cross-premises"></a><span data-ttu-id="f78bd-1148">Distribuera SAP virtuella datorer med företagets nätverksanslutning (mellan platser)</span><span class="sxs-lookup"><span data-stu-id="f78bd-1148">Deploying SAP VMs with Corporate Network Connectivity (Cross-Premises)</span></span>
<span data-ttu-id="f78bd-1149">Du kör en SAP-liggande och vill att toodivide hello distributionen mellan minimalt för avancerade DBMS-servrar, lokala virtualiserade miljöer för programmet lager och mindre 2-skikts konfigurerat SAP-system och Azure IaaS.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1149">You run an SAP landscape and want toodivide hello deployment between bare-metal for high-end DBMS servers, on-premises virtualized environments for application layers and smaller 2-Tier configured SAP systems and Azure IaaS.</span></span> <span data-ttu-id="f78bd-1150">hello antas grundläggande att SAP system inom en SAP liggande måste toocommunicate med varandra och många andra programkomponenter som distribuerats i hello företag, oberoende av deras distribution form.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1150">hello base assumption is that SAP systems within one SAP landscape need toocommunicate with each other and with many other software components deployed in hello company, independent of their deployment form.</span></span> <span data-ttu-id="f78bd-1151">Det bör också finnas några skillnader som introducerades av hello distribution formulär för hello användare ansluta till SAP-Gränssnittet eller andra gränssnitt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1151">There also should be no differences introduced by hello deployment form for hello end user connecting with SAP GUI or other interfaces.</span></span> <span data-ttu-id="f78bd-1152">Dessa villkor kan endast vara uppfyllda när vi har hello lokala Active Directory/OpenLDAP och DNS-tjänster utökat toohello Azure system via plats-till-plats/flera plats-anslutning eller privata anslutningar som Azure ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1152">These conditions can only be met when we have hello on-premises Active Directory/OpenLDAP and DNS services extended toohello Azure systems through site-to-site/multi-site connectivity or private connections like Azure ExpressRoute.</span></span>

<span data-ttu-id="f78bd-1153">I ordning tooget mer background på hello implementeringsinformation om SAP på Azure, vi rekommenderar att du tooread kapitel [begrepp Cloud-Only distribution av SAP instanser] [ planning-guide-7] i det här dokumentet som beskriver Vissa av hello grunderna skapar i Azure och hur de ska användas med SAP-program i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1153">In order tooget more background on hello implementation details of SAP on Azure, we encourage you tooread chapter [Concepts of Cloud-Only deployment of SAP instances][planning-guide-7] of this document which explains some of hello basics constructs of Azure and how these should be used with SAP applications in Azure.</span></span>

### <a name="scenario-of-an-sap-landscape"></a><span data-ttu-id="f78bd-1154">Scenario för en SAP-liggande</span><span class="sxs-lookup"><span data-stu-id="f78bd-1154">Scenario of an SAP landscape</span></span>
<span data-ttu-id="f78bd-1155">hello kan scenarion med flera lokaler ungefär beskrivas som i hello graphics nedan:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1155">hello cross-premises scenario can be roughly described like in hello graphics below:</span></span>

![Plats-till-plats-anslutning mellan lokala och Azure tillgångar][planning-guide-figure-2100]

<span data-ttu-id="f78bd-1157">hello scenariot ovan beskriver ett scenario där hello lokala AD/OpenLDAP och DNS är utökat tooAzure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1157">hello scenario shown above describes a scenario where hello on-premises AD/OpenLDAP and DNS are extended tooAzure.</span></span> <span data-ttu-id="f78bd-1158">Ett visst IP-adressintervall är reserverat per Azure-prenumeration på hello lokalt sida.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1158">On hello on-premises side, a certain IP address range is reserved per Azure subscription.</span></span> <span data-ttu-id="f78bd-1159">hello IP-adressintervall tilldelas tooan Azure Virtual Network på hello Azure sida.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1159">hello IP address range will be assigned tooan Azure Virtual Network on hello Azure side.</span></span>

#### <a name="security-considerations"></a><span data-ttu-id="f78bd-1160">Säkerhetsöverväganden</span><span class="sxs-lookup"><span data-stu-id="f78bd-1160">Security considerations</span></span>
<span data-ttu-id="f78bd-1161">hello Minimikravet är hello användning av säker kommunikationsprotokoll som SSL/TLS för webbläsaråtkomst eller VPN-baserade anslutningar för att komma åt toohello Azure services.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1161">hello minimum requirement is hello use of secure communication protocols such as SSL/TLS for browser access or VPN-based connections for system access toohello Azure services.</span></span> <span data-ttu-id="f78bd-1162">hello antas företag att hantera hello VPN-anslutning mellan sina företagets nätverk och Azure väldigt annorlunda.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1162">hello assumption is that companies handle hello VPN connection between their corporate network and Azure very differently.</span></span> <span data-ttu-id="f78bd-1163">Vissa företag kanske blankly öppna alla hello-portar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1163">Some companies might blankly open all hello ports.</span></span> <span data-ttu-id="f78bd-1164">Vissa andra företag kanske vill toobe mycket exakt i vilka portar som de behöver tooopen osv.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1164">Some other companies might want toobe very precise in which ports they need tooopen, etc.</span></span>

<span data-ttu-id="f78bd-1165">I hello tabellen nedan vanliga SAP visas kommunikationsportar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1165">In hello table below typical SAP communication ports are listed.</span></span> <span data-ttu-id="f78bd-1166">Det är i princip tillräcklig tooopen hello SAP-gateway-port.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1166">Basically it is sufficient tooopen hello SAP gateway port.</span></span>

| <span data-ttu-id="f78bd-1167">Tjänst</span><span class="sxs-lookup"><span data-stu-id="f78bd-1167">Service</span></span> | <span data-ttu-id="f78bd-1168">Portnamn</span><span class="sxs-lookup"><span data-stu-id="f78bd-1168">Port Name</span></span> | <span data-ttu-id="f78bd-1169">Exempel `<nn`> = 01</span><span class="sxs-lookup"><span data-stu-id="f78bd-1169">Example `<nn`> = 01</span></span> | <span data-ttu-id="f78bd-1170">Standardintervallet (min max)</span><span class="sxs-lookup"><span data-stu-id="f78bd-1170">Default Range (min-max)</span></span> | <span data-ttu-id="f78bd-1171">Kommentar</span><span class="sxs-lookup"><span data-stu-id="f78bd-1171">Comment</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="f78bd-1172">Dispatcher</span><span class="sxs-lookup"><span data-stu-id="f78bd-1172">Dispatcher</span></span> |<span data-ttu-id="f78bd-1173">sapdp`<nn>` finns *</span><span class="sxs-lookup"><span data-stu-id="f78bd-1173">sapdp`<nn>` see *</span></span> |<span data-ttu-id="f78bd-1174">3201</span><span class="sxs-lookup"><span data-stu-id="f78bd-1174">3201</span></span> |<span data-ttu-id="f78bd-1175">3200 – 3299</span><span class="sxs-lookup"><span data-stu-id="f78bd-1175">3200 – 3299</span></span> |<span data-ttu-id="f78bd-1176">SAP Dispatcher, används av Java och SAP GUI för Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-1176">SAP Dispatcher, used by SAP GUI for Windows and Java</span></span> |
| <span data-ttu-id="f78bd-1177">Meddelande-server</span><span class="sxs-lookup"><span data-stu-id="f78bd-1177">Message server</span></span> |<span data-ttu-id="f78bd-1178">sapms`<sid`> finns **</span><span class="sxs-lookup"><span data-stu-id="f78bd-1178">sapms`<sid`> see **</span></span> |<span data-ttu-id="f78bd-1179">3600</span><span class="sxs-lookup"><span data-stu-id="f78bd-1179">3600</span></span> |<span data-ttu-id="f78bd-1180">ledigt sapms`<anySID`></span><span class="sxs-lookup"><span data-stu-id="f78bd-1180">free sapms`<anySID`></span></span> |<span data-ttu-id="f78bd-1181">SID = SAP-System-ID</span><span class="sxs-lookup"><span data-stu-id="f78bd-1181">sid = SAP-System-ID</span></span> |
| <span data-ttu-id="f78bd-1182">Gateway</span><span class="sxs-lookup"><span data-stu-id="f78bd-1182">Gateway</span></span> |<span data-ttu-id="f78bd-1183">sapgw`<nn`> finns *</span><span class="sxs-lookup"><span data-stu-id="f78bd-1183">sapgw`<nn`> see *</span></span> |<span data-ttu-id="f78bd-1184">3301</span><span class="sxs-lookup"><span data-stu-id="f78bd-1184">3301</span></span> |<span data-ttu-id="f78bd-1185">Ledigt</span><span class="sxs-lookup"><span data-stu-id="f78bd-1185">free</span></span> |<span data-ttu-id="f78bd-1186">SAP-gateway som används för CPIC och RFC kommunikation</span><span class="sxs-lookup"><span data-stu-id="f78bd-1186">SAP gateway, used for CPIC and RFC communication</span></span> |
| <span data-ttu-id="f78bd-1187">SAP-router</span><span class="sxs-lookup"><span data-stu-id="f78bd-1187">SAP router</span></span> |<span data-ttu-id="f78bd-1188">sapdp99</span><span class="sxs-lookup"><span data-stu-id="f78bd-1188">sapdp99</span></span> |<span data-ttu-id="f78bd-1189">3299</span><span class="sxs-lookup"><span data-stu-id="f78bd-1189">3299</span></span> |<span data-ttu-id="f78bd-1190">Ledigt</span><span class="sxs-lookup"><span data-stu-id="f78bd-1190">free</span></span> |<span data-ttu-id="f78bd-1191">Endast CI (central instans) Tjänstnamn kan omtilldelas i /etc/services tooan godtyckligt värde efter installationen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1191">Only CI (central instance) Service names can be reassigned in /etc/services tooan arbitrary value after installation.</span></span> |

<span data-ttu-id="f78bd-1192">*) nn = SAP-instansnummer</span><span class="sxs-lookup"><span data-stu-id="f78bd-1192">*) nn = SAP Instance Number</span></span>

<span data-ttu-id="f78bd-1193">*) sid = SAP-System-ID</span><span class="sxs-lookup"><span data-stu-id="f78bd-1193">**) sid = SAP-System-ID</span></span>

<span data-ttu-id="f78bd-1194">Mer detaljerad information om portar som behövs för olika SAP produkter eller tjänster som SAP produkter hittar du här <http://scn.sap.com/docs/DOC-17124>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1194">More detailed information on ports required for different SAP products or services by SAP products can be found here <http://scn.sap.com/docs/DOC-17124>.</span></span>
<span data-ttu-id="f78bd-1195">Med det här dokumentet ska kunna tooopen dedikerad portar i hello VPN-enheten som krävs för specifika SAP-produkter och scenarier.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1195">With this document you should be able tooopen dedicated ports in hello VPN device necessary for specific SAP products and scenarios.</span></span>

<span data-ttu-id="f78bd-1196">Andra säkerhetsmetoder när du distribuerar virtuella datorer i ett sådant scenario kan vara toocreate en [Nätverkssäkerhetsgruppen] [ virtual-networks-nsg] toodefine åtkomstregler.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1196">Other security measures when deploying VMs in such a scenario could be toocreate a [Network Security Group][virtual-networks-nsg] toodefine access rules.</span></span>

### <a name="dealing-with-different-virtual-machine-series"></a><span data-ttu-id="f78bd-1197">Med en annan virtuell dator-serie</span><span class="sxs-lookup"><span data-stu-id="f78bd-1197">Dealing with different Virtual Machine Series</span></span>
<span data-ttu-id="f78bd-1198">Under hello senaste 12 månaderna Microsoft lagt till många fler VM-typer som skiljer sig något i antal vCPUs, minne eller viktigare på maskinvara som den körs på.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1198">In hello course of last 12 months Microsoft added many more VM types that differ either in number of vCPUs, memory or more important on hardware it is running on.</span></span> <span data-ttu-id="f78bd-1199">Inte alla dessa virtuella datorer stöds med SAP (se stöds VM typer i SAP-kommentar [1928533]).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1199">Not all those VMs are supported with SAP (see supported VM types in SAP Note [1928533]).</span></span> <span data-ttu-id="f78bd-1200">Vissa av dessa virtuella datorer körs på olika värden maskinvara generationer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1200">Some of those VMs run on different host hardware generations.</span></span> <span data-ttu-id="f78bd-1201">Dessa värden maskinvara generationer distribueras om i hello granularitet för en Azure-Skalningsenhet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1201">These host hardware generations are getting deployed in hello granularity of an Azure Scale-Unit.</span></span> <span data-ttu-id="f78bd-1202">Sätt fall kan uppstå om hello hello olika VM-storlek du valt inte kan köras på samma Skalningsenhet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1202">Means cases may arise where hello different VM sizes you chose can’t be run on hello same Scale-Unit.</span></span> <span data-ttu-id="f78bd-1203">En Tillgänglighetsuppsättning är begränsad i hello möjlighet toospan skalenheter baserat på olika typer av maskinvara.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1203">An Availability Set is limited in hello ability toospan Scale-Units based of different hardware.</span></span>  <span data-ttu-id="f78bd-1204">För exempel om du vill toorun hello DBMS på A5 A11 virtuella datorer och hello SAP programnivå på virtuella datorer G-serien, du kan tvingas toodeploy ett enda SAP-system eller annan SAP-system inom olika Tillgänglighetsuppsättningar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1204">For example if you want toorun hello DBMS on A5-A11 VMs and hello SAP application layer on G-Series VMs, you would be forced toodeploy a single SAP system or different SAP systems within different Availability Sets.</span></span>

#### <a name="printing-on-a-local-network-printer-from-sap-instance-in-azure"></a><span data-ttu-id="f78bd-1205">Skriva ut på en lokal nätverksskrivare från SAP-instans i Azure</span><span class="sxs-lookup"><span data-stu-id="f78bd-1205">Printing on a local network printer from SAP instance in Azure</span></span>
##### <a name="printing-over-tcpip-in-cross-premises-scenario"></a><span data-ttu-id="f78bd-1206">Utskrift över TCP/IP i scenarion med flera lokaler</span><span class="sxs-lookup"><span data-stu-id="f78bd-1206">Printing over TCP/IP in Cross-Premises scenario</span></span>
<span data-ttu-id="f78bd-1207">Ställa in din lokala TCP/IP baserat nätverksskrivare i en Azure VM är övergripande hello desamma som företagets nätverk, förutsatt att du har en VPN plats-till-plats-tunneln eller ExpressRoute-anslutning upprättas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1207">Setting up your on-premises TCP/IP based network printers in an Azure VM is overall hello same as in your corporate network, assuming you do have a VPN Site-To-Site tunnel or ExpressRoute connection established.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-1209">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-1209">Windows</span></span>
>
> <span data-ttu-id="f78bd-1210">toodo detta:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1210">toodo this:</span></span>
>
> * <span data-ttu-id="f78bd-1211">Vissa nätverksskrivare har en konfigurationsguide som gör det enkelt tooset skrivare i en Azure VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1211">Some network printers come with a configuration wizard which makes it easy tooset up your printer in an Azure VM.</span></span> <span data-ttu-id="f78bd-1212">Om inga guiden program har distribuerats med skrivare hello ”manuell” hur tooset hello skrivare är toocreate en ny TCP/IP-skrivarport.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1212">If no wizard software has been distributed with the printer hello “manual” way tooset up hello printer is toocreate a new TCP/IP printer port.</span></span>
> * <span data-ttu-id="f78bd-1213">Öppna Kontrollpanelen -> enheter och skrivare > Lägg till en skrivare</span><span class="sxs-lookup"><span data-stu-id="f78bd-1213">Open Control Panel -> Devices and Printers -> Add a printer</span></span>
> * <span data-ttu-id="f78bd-1214">Välj Lägg till en skrivare med hjälp av en TCP/IP-adress eller värdnamn</span><span class="sxs-lookup"><span data-stu-id="f78bd-1214">Choose Add a printer using a TCP/IP address or hostname</span></span>
> * <span data-ttu-id="f78bd-1215">Skriv i hello IP-adressen för hello skrivare</span><span class="sxs-lookup"><span data-stu-id="f78bd-1215">Type in hello IP address of hello printer</span></span>
> * <span data-ttu-id="f78bd-1216">Skrivarport standard 9100</span><span class="sxs-lookup"><span data-stu-id="f78bd-1216">Printer Port standard 9100</span></span>
> * <span data-ttu-id="f78bd-1217">Om det behövs installerar du hello lämplig skrivardrivrutin manuellt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1217">If necessary install hello appropriate printer driver manually.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="f78bd-1219">Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-1219">Linux</span></span>
>
> * <span data-ttu-id="f78bd-1220">som för Windows just Följ hello standardproceduren tooinstall nätverksskrivare</span><span class="sxs-lookup"><span data-stu-id="f78bd-1220">like for Windows just follow hello standard procedure tooinstall a network printer</span></span>
> * <span data-ttu-id="f78bd-1221">Följ bara hello offentliga Linux guider för [SUSE](https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_y2_hw_print.html) eller [Red Hat och Oracle Linux](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/sec-Printer_Configuration.html) om hur tooadd en skrivare.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1221">just follow hello public Linux guides for [SUSE](https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_y2_hw_print.html) or [Red Hat and Oracle Linux](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/sec-Printer_Configuration.html) on how tooadd a printer.</span></span>
>
>

- - -
![Nätverket utskrift][planning-guide-figure-2200]

##### <a name="host-based-printer-over-smb-shared-printer-in-cross-premises-scenario"></a><span data-ttu-id="f78bd-1223">Värdbaserad skrivare över SMB (delad skrivare) i scenarion med flera lokaler</span><span class="sxs-lookup"><span data-stu-id="f78bd-1223">Host-based printer over SMB (shared printer) in Cross-Premises scenario</span></span>
<span data-ttu-id="f78bd-1224">Värdbaserad skrivare är inte nätverks-kompatibla avsiktligt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1224">Host-based printers are not network-compatible by design.</span></span> <span data-ttu-id="f78bd-1225">Men en värdbaserad skrivare kan delas mellan datorer i ett nätverk som hello skrivaren är anslutna tooa slås på datorn.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1225">But a host-based printer can be shared among computers on a network as long as hello printer is connected tooa powered-on computer.</span></span> <span data-ttu-id="f78bd-1226">Ansluta ditt företags nätverk plats-till-plats eller ExpressRoute och delar en lokal skrivare.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1226">Connect your corporate network either Site-To-Site or ExpressRoute and share your local printer.</span></span> <span data-ttu-id="f78bd-1227">hello SMB-protokollet använder NetBIOS i stället för DNS som namntjänst.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1227">hello SMB protocol uses NetBIOS instead of DNS as name service.</span></span> <span data-ttu-id="f78bd-1228">hello NetBIOS-värdnamn kan skilja sig från hello DNS-värdnamn.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1228">hello NetBIOS host name can be different from hello DNS host name.</span></span> <span data-ttu-id="f78bd-1229">hello standard fall har hello NetBIOS-värdnamn och hello DNS-värdnamn är identiska.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1229">hello standard case is that hello NetBIOS host name and hello DNS host name are identical.</span></span> <span data-ttu-id="f78bd-1230">hello DNS-domänen gör inte mening i utrymmet för hello NetBIOS-namn.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1230">hello DNS domain does not make sense in hello NetBIOS name space.</span></span> <span data-ttu-id="f78bd-1231">Därför hello fullständigt kvalificerade DNS-värdnamn som består av hello DNS-värdnamn och DNS-domänen får inte användas i utrymmet för hello NetBIOS-namn.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1231">Accordingly, hello fully qualified DNS host name consisting of hello DNS host name and DNS domain must not be used in hello NetBIOS name space.</span></span>

<span data-ttu-id="f78bd-1232">hello skrivarresursen identifieras med ett unikt namn i hello nätverk:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1232">hello printer share is identified by a unique name in hello network:</span></span>

* <span data-ttu-id="f78bd-1233">Värdnamnet för hello SMB-Server (alltid behövs).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1233">Host name of hello SMB host (always needed).</span></span>
* <span data-ttu-id="f78bd-1234">Namn på hello resurs (alltid behövs).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1234">Name of hello share (always needed).</span></span>
* <span data-ttu-id="f78bd-1235">Namnet på hello domän om skrivarresursen inte hello samma domän som SAP-system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1235">Name of hello domain if printer share is not in hello same domain as SAP system.</span></span>
* <span data-ttu-id="f78bd-1236">Dessutom kan det vara nödvändiga tooaccess hello skrivarresursen mellan ett användarnamn och ett lösenord.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1236">Additionally, a user name and a password may be required tooaccess hello printer share.</span></span>

<span data-ttu-id="f78bd-1237">Anvisningar:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1237">How to:</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-1239">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-1239">Windows</span></span>
>
> <span data-ttu-id="f78bd-1240">Dela en lokal skrivare.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1240">Share your local printer.</span></span>
> <span data-ttu-id="f78bd-1241">Öppna hello Utforskaren och anger hello resursnamn för hello skrivare i hello Azure VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1241">In hello Azure VM, open hello Windows Explorer and type in hello share name of hello printer.</span></span>
> <span data-ttu-id="f78bd-1242">Installationsguiden för skrivare hjälper dig hello installationsprocessen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1242">A printer installation wizard will guide you through hello installation process.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="f78bd-1244">Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-1244">Linux</span></span>
>
> <span data-ttu-id="f78bd-1245">Här följer några exempel på dokumentation om hur du konfigurerar nätverksskrivare i Linux eller inklusive kapitel rörande utskrift i Linux.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1245">Here are some examples of documentation about configuring network printers in Linux or including a chapter regarding printing in Linux.</span></span> <span data-ttu-id="f78bd-1246">Den fungerar hello samma sätt i en Azure Linux-dator så länge hello VM är en del av en VPN-anslutning:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1246">It will work hello same way in an Azure Linux VM as long as hello VM is part of a VPN:</span></span>
>
> * <span data-ttu-id="f78bd-1247">SLES <_Share_or_Windows_Share https://en.opensuse.org/SDB:Printing_via_SMB_ (Samba)></span><span class="sxs-lookup"><span data-stu-id="f78bd-1247">SLES <https://en.opensuse.org/SDB:Printing_via_SMB_(Samba)_Share_or_Windows_Share></span></span>
> * <span data-ttu-id="f78bd-1248">RHEL eller Oracle Linux <https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/sec-Printer_Configuration.html#s1-printing-smb-printer></span><span class="sxs-lookup"><span data-stu-id="f78bd-1248">RHEL or Oracle Linux <https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/sec-Printer_Configuration.html#s1-printing-smb-printer></span></span>
>
>

- - -
##### <a name="usb-printer-printer-forwarding"></a><span data-ttu-id="f78bd-1249">USB-skrivare (skrivare vidarebefordran)</span><span class="sxs-lookup"><span data-stu-id="f78bd-1249">USB Printer (printer forwarding)</span></span>
<span data-ttu-id="f78bd-1250">Tootheir lokal skrivare enheter i en fjärrsession är inte tillgängligt i Azure hello möjligheten för hello Fjärrskrivbordstjänster tooprovide användare hello åtkomst.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1250">In Azure hello ability of hello Remote Desktop Services tooprovide users hello access tootheir local printer devices in a remote session is not available.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-1252">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-1252">Windows</span></span>
>
> <span data-ttu-id="f78bd-1253">Mer information om utskrift i Windows finns här: <http://technet.microsoft.com/library/jj590748.aspx>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1253">More details on printing with Windows can be found here: <http://technet.microsoft.com/library/jj590748.aspx>.</span></span>
>
>

- - -
#### <a name="integration-of-sap-azure-systems-into-correction-and-transport-system-tms-in-cross-premises"></a><span data-ttu-id="f78bd-1254">Integrering av SAP Azure system till korrigering och transportsystem (Proportionerlig) mellan platser</span><span class="sxs-lookup"><span data-stu-id="f78bd-1254">Integration of SAP Azure Systems into Correction and Transport System (TMS) in Cross-Premises</span></span>
<span data-ttu-id="f78bd-1255">Hej SAP ändrings- och Transport System (Proportionerlig) måste toobe konfigurerats tooexport och importera begäran över system i hello liggande.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1255">hello SAP Change and Transport System (TMS) needs toobe configured tooexport and import transport request across systems in hello landscape.</span></span> <span data-ttu-id="f78bd-1256">Vi förutsätter att hello development instanser av ett SAP-system (utveckling) finns i Azure hello quality assurance (QA) och produktiva system (PRD) är lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1256">We assume that hello development instances of an SAP system (DEV) are located in Azure whereas hello quality assurance (QA) and productive systems (PRD) are on-premises.</span></span> <span data-ttu-id="f78bd-1257">Vi förutsätter dessutom att det finns en central transport-katalog.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1257">Furthermore, we assume that there is a central transport directory.</span></span>

##### <a name="configuring-hello-transport-domain"></a><span data-ttu-id="f78bd-1258">Konfigurera hello Transport domän</span><span class="sxs-lookup"><span data-stu-id="f78bd-1258">Configuring hello Transport Domain</span></span>
<span data-ttu-id="f78bd-1259">Konfigurera din domän Transport på hello system som du angav som hello Transport domänkontrollant enligt beskrivningen i [konfigurera hello Transport domänkontrollant](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1259">Configure your Transport Domain on hello system you designated as hello Transport Domain Controller as described in [Configuring hello Transport Domain Controller](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm).</span></span> <span data-ttu-id="f78bd-1260">En systemanvändare TMSADM kommer att skapas och hello krävs för RFC målet kommer att skapas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1260">A system user TMSADM will be created and hello required RFC destination will be generated.</span></span> <span data-ttu-id="f78bd-1261">Du kan kontrollera anslutningarna RFC med hello transaktion SM59.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1261">You may check these RFC connections using hello transaction SM59.</span></span> <span data-ttu-id="f78bd-1262">Värdnamnsmatchning måste aktiveras i transport-domän.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1262">Hostname resolution must be enabled across your transport domain.</span></span>

<span data-ttu-id="f78bd-1263">Anvisningar:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1263">How to:</span></span>

* <span data-ttu-id="f78bd-1264">I vårt exempel har vi beslutat hello lokalt QAS system blir hello CTS domänkontrollanten.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1264">In our scenario we decided hello on-premises QAS system will be hello CTS domain controller.</span></span> <span data-ttu-id="f78bd-1265">Anropa transaktion STM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1265">Call transaction STMS.</span></span> <span data-ttu-id="f78bd-1266">hello dialogruta Proportionerlig.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1266">hello TMS dialog box appears.</span></span> <span data-ttu-id="f78bd-1267">En dialogruta för Konfigurera Transport domän visas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1267">A Configure Transport Domain dialog box is displayed.</span></span> <span data-ttu-id="f78bd-1268">(Den här dialogrutan visas bara om du ännu inte har konfigurerat en transport-domän.)</span><span class="sxs-lookup"><span data-stu-id="f78bd-1268">(This dialog box only appears if you have not yet configured a transport domain.)</span></span>
* <span data-ttu-id="f78bd-1269">Kontrollera att användaren hello skapas automatiskt TMSADM auktoriseras (SM59 -> ABAP anslutning -> TMSADM@E61.DOMAIN_E61 -> information -> Utilities(M) auktorisering Test ->).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1269">Make sure that hello automatically created user TMSADM is authorized (SM59 -> ABAP Connection -> TMSADM@E61.DOMAIN_E61 -> Details -> Utilities(M) -> Authorization Test).</span></span> <span data-ttu-id="f78bd-1270">hello första skärmen transaktion STM ska visa att SAP systemet nu fungerar som domänkontrollant hello i hello transport domän som visas här:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1270">hello initial screen of transaction STMS should show that this SAP System is now functioning as hello controller of hello transport domain as shown here:</span></span>

![Första skärmen transaktion STM på hello-domänkontrollant][planning-guide-figure-2300]

#### <a name="including-sap-systems-in-hello-transport-domain"></a><span data-ttu-id="f78bd-1272">Inklusive SAP-system i hello Transport domän</span><span class="sxs-lookup"><span data-stu-id="f78bd-1272">Including SAP Systems in hello Transport Domain</span></span>
<span data-ttu-id="f78bd-1273">hello-sekvens, inklusive ett SAP-system i en domän för transport ser ut som följer:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1273">hello sequence of including an SAP system in a transport domain looks as follows:</span></span>

* <span data-ttu-id="f78bd-1274">På hello DEV system i Azure, gå toohello transportsystem (klient 000) och anropa transaktion STM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1274">On hello DEV system in Azure, go toohello transport system (Client 000) and call transaction STMS.</span></span> <span data-ttu-id="f78bd-1275">Välj andra konfiguration från hello dialogrutan och fortsätt med inkluderar System i domänen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1275">Choose Other Configuration from hello dialog box and continue with Include System in Domain.</span></span> <span data-ttu-id="f78bd-1276">Ange hello-domänkontrollant som målvärden ([inklusive SAP-system i hello Transport domän](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0c17acc11d1899e0000e829fbbd/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm)).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1276">Specify hello Domain Controller as target host ([Including SAP Systems in hello Transport Domain](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0c17acc11d1899e0000e829fbbd/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm)).</span></span> <span data-ttu-id="f78bd-1277">hello systemet är nu väntar toobe ingår i hello transport domän.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1277">hello system is now waiting toobe included in hello transport domain.</span></span>
* <span data-ttu-id="f78bd-1278">Av säkerhetsskäl måste har du sedan toogo tillbaka toohello domain controller tooconfirm din begäran.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1278">For security reasons, you then have toogo back toohello domain controller tooconfirm your request.</span></span> <span data-ttu-id="f78bd-1279">Välj Systemöversikt och Godkänn hello väntar system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1279">Choose System Overview and Approve of hello waiting system.</span></span> <span data-ttu-id="f78bd-1280">Bekräfta hello fråga- och hello konfiguration kommer att distribueras.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1280">Then confirm hello prompt and hello configuration will be distributed.</span></span>

<span data-ttu-id="f78bd-1281">SAP systemet innehåller nu hello nödvändig information om alla hello andra SAP-system i hello transport domän.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1281">This SAP system now contains hello necessary information about all hello other SAP systems in hello transport domain.</span></span> <span data-ttu-id="f78bd-1282">Vid hello samma tid, hello adressen data hello nya SAP systemets skickas tooall hello andra SAP-system och hello SAP-systemet har angetts i profilen för hello transport av kontrollprogrammet för hello transport.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1282">At hello same time, hello address data of hello new SAP system is sent tooall hello other SAP systems, and hello SAP system is entered in hello transport profile of hello transport control program.</span></span> <span data-ttu-id="f78bd-1283">Kontrollera om RFC: er och åtkomst toohello transport hello domänens directory fungerar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1283">Check whether RFCs and access toohello transport directory of hello domain work.</span></span>

<span data-ttu-id="f78bd-1284">Fortsätt med hello konfiguration transport som vanligt beskrivs i dokumentationen för hello [ändrings- och Transport System](http://help.sap.com/saphelp_nw70ehp3/helpdata/en/48/c4300fca5d581ce10000000a42189c/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1284">Continue with hello configuration of your transport system as usual as described in hello documentation [Change and Transport System](http://help.sap.com/saphelp_nw70ehp3/helpdata/en/48/c4300fca5d581ce10000000a42189c/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm).</span></span>

<span data-ttu-id="f78bd-1285">Anvisningar:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1285">How to:</span></span>

* <span data-ttu-id="f78bd-1286">Kontrollera att din STM lokalt är korrekt konfigurerad.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1286">Make sure your STMS on premises is configured correctly.</span></span>
* <span data-ttu-id="f78bd-1287">Kontrollera att hello värdnamnet för hello Transport domänkontrollant kan lösas genom den virtuella datorn på Azure och vice visa.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1287">Make sure hello hostname of hello Transport Domain Controller can be resolved by your virtual machine on Azure and vice visa.</span></span>
* <span data-ttu-id="f78bd-1288">Anropet transaktion STM -> andra Configuration -> inkluderar System i domänen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1288">Call transaction STMS -> Other Configuration -> Include System in Domain.</span></span>
* <span data-ttu-id="f78bd-1289">Bekräfta hello anslutning i hello på lokala Proportionerlig system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1289">Confirm hello connection in hello on premises TMS system.</span></span>
* <span data-ttu-id="f78bd-1290">Konfigurera transport vägar, grupper och lager som vanligt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1290">Configure transport routes, groups and layers as usual.</span></span>

<span data-ttu-id="f78bd-1291">I plats-till-plats anslutna mellan lokala vara scenarier, hello fördröjning mellan lokala och Azure fortfarande betydande.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1291">In site-to-site connected cross-premises scenarios, hello latency between on-premises and Azure still can be substantial.</span></span> <span data-ttu-id="f78bd-1292">Om vi följer hello aktivitetssekvensen för att transportera objekt genom tooproduction för utveckling och testning system eller tänka på att tillämpa transporter eller support paket toohello olika system, inser du, beroende på hello plats hello centrala transport katalog, vissa hello system uppstår fördröjningar läsning eller skrivning av data i hello centrala transport directory.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1292">If we follow hello sequence of transporting objects through development and test systems tooproduction or think about applying transports or support packages toohello different systems, you realize that, dependent on hello location of hello central transport directory, some of hello systems will encounter high latency reading or writing data in hello central transport directory.</span></span> <span data-ttu-id="f78bd-1293">hello situationen är liknande tooSAP liggande konfigurationer där hello olika system sprids via olika datacenter med stor avstånd mellan hello datacenter.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1293">hello situation is similar tooSAP landscape configurations where hello different systems are spread through different data centers with substantial distance between hello data centers.</span></span>

<span data-ttu-id="f78bd-1294">I ordning toowork runt sådana svarstid och ha hello system fungerar Snabb läsning eller skrivning tooor från hello transport directory du kan ställa in två STM transport domäner (en för lokala. och en med hello system i Azure och länka hello transport domäner</span><span class="sxs-lookup"><span data-stu-id="f78bd-1294">In order toowork around such latency and have hello systems work fast in reading or writing tooor from hello transport directory, you can set up two STMS transport domains (one for on-premises and one with hello systems in Azure and link hello transport domains.</span></span> <span data-ttu-id="f78bd-1295">Kontrollera den här dokumentationen som beskriver hello principerna bakom detta begrepp i hello SAP Proportionerlig: <http://help.sap.com/saphelp_me60/helpdata/en/c4/6045377b52253de10000009b38f889/content.htm?frameset=/en/57/ 38dd924eb711d182bf0000e829fbfe/frameset.htm>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1295">Please check this documentation which explains hello principles behind this concept in hello SAP TMS: <http://help.sap.com/saphelp_me60/helpdata/en/c4/6045377b52253de10000009b38f889/content.htm?frameset=/en/57/38dd924eb711d182bf0000e829fbfe/frameset.htm>.</span></span>

<span data-ttu-id="f78bd-1296">Anvisningar:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1296">How to:</span></span>

* <span data-ttu-id="f78bd-1297">Konfigurera en transport domän på varje plats (lokalt och Azure) med transaktion STM <http://help.sap.com/saphelp_nw70ehp3/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm></span><span class="sxs-lookup"><span data-stu-id="f78bd-1297">Set up a transport domain on each location (on-premises and Azure) using transaction STMS <http://help.sap.com/saphelp_nw70ehp3/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm></span></span>
* <span data-ttu-id="f78bd-1298">Länka hello domäner med en länk i domänen och bekräfta hello länken mellan hello två domäner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1298">Link hello domains with a domain link and confirm hello link between hello two domains.</span></span>
  <span data-ttu-id="f78bd-1299"><http://help.SAP.com/saphelp_nw73ehp1/helpdata/en/a3/139838280c4f18e10000009b38f8cf/Content.htm></span><span class="sxs-lookup"><span data-stu-id="f78bd-1299"><http://help.sap.com/saphelp_nw73ehp1/helpdata/en/a3/139838280c4f18e10000009b38f8cf/content.htm></span></span>
* <span data-ttu-id="f78bd-1300">Distribuera hello konfigurationssystemet toohello länkad.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1300">Distribute hello configuration toohello linked system.</span></span>

#### <a name="rfc-traffic-between-sap-instances-located-in-azure-and-on-premises-cross-premises"></a><span data-ttu-id="f78bd-1301">RFC trafik mellan SAP-instanser som finns i Azure och lokala (mellan platser)</span><span class="sxs-lookup"><span data-stu-id="f78bd-1301">RFC traffic between SAP instances located in Azure and on-premises (Cross-Premises)</span></span>
<span data-ttu-id="f78bd-1302">RFC trafik mellan datorer som finns lokalt och i Azure måste toowork.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1302">RFC traffic between systems which are on-premises and in Azure needs toowork.</span></span> <span data-ttu-id="f78bd-1303">tooset en anslutning anropar transaktion SM59 i ett källsystem där du behöver toodefine en RFC anslutning mot hello målsystemet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1303">tooset up a connection call transaction SM59 in a source system where you need toodefine an RFC connection towards hello target system.</span></span> <span data-ttu-id="f78bd-1304">hello-konfigurationen är liknande toohello standardinställningen av en RFC-anslutning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1304">hello configuration is similar toohello standard setup of an RFC Connection.</span></span>

<span data-ttu-id="f78bd-1305">Vi förutsätter att hello virtuella datorer som kör SAP-system som behöver toocommunicate med varandra som finns i i hello scenarion med flera lokaler, hello samma domän.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1305">We assume that in hello cross-premises scenario, hello VMs which run SAP systems that need toocommunicate with each other are in hello same domain.</span></span> <span data-ttu-id="f78bd-1306">Därför hello installationen av en RFC-anslutning mellan SAP-system skiljer sig inte från hello konfigurationsstegen och indata i lokala scenarier.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1306">Therefore hello setup of an RFC connection between SAP systems does not differ from hello setup steps and inputs in on-premises scenarios.</span></span>

#### <a name="accessing-local-fileshares-from-sap-instances-located-in-azure-or-vice-versa"></a><span data-ttu-id="f78bd-1307">Åtkomst till ”lokal' fileshares från SAP-instanser som finns i Azure eller tvärtom</span><span class="sxs-lookup"><span data-stu-id="f78bd-1307">Accessing ‘local’ fileshares from SAP instances located in Azure or vice versa</span></span>
<span data-ttu-id="f78bd-1308">SAP-instanser som finns i Azure måste tooaccess filresurser som är inom hello företagets lokaler.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1308">SAP instances located in Azure need tooaccess file shares which are within hello corporate premises.</span></span> <span data-ttu-id="f78bd-1309">Lokal SAP-instanser måste dessutom tooaccess filresurser som finns i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1309">In addition, on-premises SAP instances need tooaccess file shares which are located in Azure.</span></span> <span data-ttu-id="f78bd-1310">tooenable hello filresurser måste du konfigurera hello behörigheter och delningsalternativ på hello lokalt system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1310">tooenable hello file shares you must configure hello permissions and sharing options on hello local system.</span></span> <span data-ttu-id="f78bd-1311">Se till att tooopen hello portar på hello VPN eller ExpressRoute-anslutning mellan Azure och ditt datacenter.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1311">Make sure tooopen hello ports on hello VPN or ExpressRoute connection between Azure and your datacenter.</span></span>

## <a name="supportability"></a><span data-ttu-id="f78bd-1312">Support</span><span class="sxs-lookup"><span data-stu-id="f78bd-1312">Supportability</span></span>
### <span data-ttu-id="f78bd-1313"><a name="6f0a47f3-a289-4090-a053-2521618a28c3"></a>Azure övervakningslösning för SAP</span><span class="sxs-lookup"><span data-stu-id="f78bd-1313"><a name="6f0a47f3-a289-4090-a053-2521618a28c3"></a>Azure Monitoring Solution for SAP</span></span>
<span data-ttu-id="f78bd-1314">I ordning tooenable hello övervakning av uppdrag kritiska SAP-system på Azure hello SAP hämta övervakningsverktyg SAPOSCOL eller SAP Värdagenten data från hello Azure virtuella tjänstvärden via ett Azure-övervakning tillägg för SAP.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1314">In order tooenable hello monitoring of mission critical SAP systems on Azure hello SAP monitoring tools SAPOSCOL or SAP Host Agent get data off hello Azure Virtual Machine Service host via an Azure Monitoring Extension for SAP.</span></span> <span data-ttu-id="f78bd-1315">Eftersom hello krav av SAP var mycket specifik tooSAP program, Microsoft valt inte toogenerically implementera hello som krävs för funktioner i Azure, men lämna för kunder toodeploy hello nödvändiga övervakning komponenter och konfigurationer tootheir Virtuella datorer som körs i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1315">Since hello demands by SAP were very specific tooSAP applications, Microsoft decided not toogenerically implement hello required functionality into Azure, but leave it for customers toodeploy hello necessary monitoring components and configurations tootheir Virtual Machines running in Azure.</span></span> <span data-ttu-id="f78bd-1316">Dock automatiskt distribution och livscykeln för hantering av hello övervaka komponenter främst av Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1316">However, deployment and lifecycle management of hello monitoring components will be mostly automated by Azure.</span></span>

#### <a name="solution-design"></a><span data-ttu-id="f78bd-1317">Lösningsdesign</span><span class="sxs-lookup"><span data-stu-id="f78bd-1317">Solution design</span></span>
<span data-ttu-id="f78bd-1318">hello lösning utvecklat tooenable SAP är baserat på hello arkitekturen i Azure VM-agenten och ramverket.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1318">hello solution developed tooenable SAP Monitoring is based on hello architecture of Azure VM Agent and Extension framework.</span></span> <span data-ttu-id="f78bd-1319">hello uppfattning om hello Azure VM-agenten och tillägget framework är tooallow installation av programvara program tillgängliga i galleriet för hello Azure VM-tillägget på en virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1319">hello idea of hello Azure VM Agent and Extension framework is tooallow installation of software application(s) available in hello Azure VM Extension gallery within a VM.</span></span> <span data-ttu-id="f78bd-1320">Hej princip idé bakom det här konceptet är tooallow (i sådana fall hello Azure övervakning tillägget för SAP), hello distribution av särskilda funktioner i den virtuella dator och hello-konfigurationen av sådan programvara vid tidpunkten för distribution.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1320">hello principle idea behind this concept is tooallow (in cases like hello Azure Monitoring Extension for SAP), hello deployment of special functionality into a VM and hello configuration of such software at deployment time.</span></span>

<span data-ttu-id="f78bd-1321">hello 'Azure VM Agent' som möjliggör hantering av specifika Azure VM-tillägg i hello VM är injekteras i virtuella Windows-datorer som standard på Skapa en virtuell dator i hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1321">hello 'Azure VM Agent' that enables handling of specific Azure VM Extensions within hello VM is injected into Windows VMs by default on VM creation in hello Azure portal.</span></span> <span data-ttu-id="f78bd-1322">Hello VM-agenten är redan en del av Azure Marketplace-avbildning vid SUSE, Red Hat eller Oracle Linux.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1322">In case of SUSE, Red Hat or Oracle Linux, hello VM agent is already part of the Azure Marketplace image.</span></span> <span data-ttu-id="f78bd-1323">Om någon vill överföra en Linux VM från har lokala tooAzure hello VM-agenten toobe installerats manuellt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1323">In case one would upload a Linux VM from on-premises tooAzure hello VM agent has toobe installed manually.</span></span>

<span data-ttu-id="f78bd-1324">Hej grundläggande byggstenarna för hello övervakning lösning i Azure för SAP ser ut så här:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1324">hello basic building blocks of hello Monitoring solution in Azure for SAP looks like this:</span></span>

![Tillägg för Microsoft Azure-komponenter][planning-guide-figure-2400]

<span data-ttu-id="f78bd-1326">I hello blockdiagram ovan visas en del av hello övervakningslösning SAP finns i hello Azure VM-avbildning och Azure-tillägg-galleriet som är en globalt replikerad databas som hanteras av Azure-åtgärder.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1326">As shown in hello block diagram above, one part of hello monitoring solution for SAP is hosted in hello Azure VM Image and Azure Extension Gallery which is a globally replicated repository that is managed by Azure Operations.</span></span> <span data-ttu-id="f78bd-1327">Det är hello ansvar hello gemensamma SAP/MS-teamet som arbetar på hello Azure implementering av SAP toowork med Azure Operations toopublish nya versioner av hello Azure övervakning tillägget för SAP.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1327">It is hello responsibility of hello joint SAP/MS team working on hello Azure implementation of SAP toowork with Azure Operations toopublish new versions of hello Azure Monitoring Extension for SAP.</span></span>

<span data-ttu-id="f78bd-1328">När du distribuerar en ny Windows VM läggs automatiskt hello Azure VM-agenten i hello VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1328">When you deploy a new Windows VM, hello ‘Azure VM Agent’ is automatically added into hello VM.</span></span> <span data-ttu-id="f78bd-1329">hello-funktionen för den här agenten är toocoordinate hello inläsning och konfiguration av hello Azure-tillägg för övervakning av SAP NetWeaver-system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1329">hello function of this agent is toocoordinate hello loading and configuration of hello Azure Extensions for monitoring of SAP NetWeaver Systems.</span></span> <span data-ttu-id="f78bd-1330">För Linux virtuella datorer är redan hello Azure VM-agenten som en del av hello Azure Marketplace OS-avbildningen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1330">For Linux VMs hello Azure VM Agent is already part of hello Azure Marketplace OS image.</span></span>

<span data-ttu-id="f78bd-1331">Det finns ett steg som återstår toobe som körs av hello kunden.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1331">However, there is a step that still needs toobe executed by hello customer.</span></span> <span data-ttu-id="f78bd-1332">Detta är hello aktivering och konfiguration av hello insamling av prestanda.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1332">This is hello enablement and configuration of hello performance collection.</span></span> <span data-ttu-id="f78bd-1333">hello processen relaterade toohello konfiguration sker automatiskt efter en PowerShell-skript eller CLI-kommando.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1333">hello process related toohello ‘configuration’ is automated by a PowerShell script or CLI command.</span></span> <span data-ttu-id="f78bd-1334">hello PowerShell-skript kan hämtas i hello Microsoft Azure Script Center enligt beskrivningen i hello [Deployment Guide][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1334">hello PowerShell script can be downloaded in hello Microsoft Azure Script Center as described in hello [Deployment Guide][deployment-guide].</span></span>

<span data-ttu-id="f78bd-1335">hello övergripande arkitektur i hello Azure övervakningslösning SAP ser ut:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1335">hello overall Architecture of hello Azure monitoring solution for SAP looks like:</span></span>

![Azure övervakningslösning för SAP NetWeaver][planning-guide-figure-2500]

<span data-ttu-id="f78bd-1337">**För hello exakt hur-tooand detaljerade anvisningar för att använda dessa PowerShell-cmdlets eller CLI kommandot under distributioner, följer du instruktionerna i hello hello [Deployment Guide][deployment-guide].**</span><span class="sxs-lookup"><span data-stu-id="f78bd-1337">**For hello exact how-tooand for detailed steps of using these PowerShell cmdlets or CLI command during deployments, follow hello instructions given in hello [Deployment Guide][deployment-guide].**</span></span>

### <a name="integration-of-azure-located-sap-instance-into-saprouter"></a><span data-ttu-id="f78bd-1338">Integrering av Azure finns SAP-instans i SAProuter</span><span class="sxs-lookup"><span data-stu-id="f78bd-1338">Integration of Azure located SAP instance into SAProuter</span></span>
<span data-ttu-id="f78bd-1339">SAP-instanser som körs i Azure måste toobe tillgänglig från SAProuter samt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1339">SAP instances running in Azure need toobe accessible from SAProuter as well.</span></span>

![SAP-Router-nätverksanslutning][planning-guide-figure-2600]

<span data-ttu-id="f78bd-1341">En SAProuter aktiverar hello TCP/IP-kommunikation mellan deltagande system om det finns ingen direkt IP-anslutning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1341">A SAProuter enables hello TCP/IP communication between participating systems if there is no direct IP connection.</span></span> <span data-ttu-id="f78bd-1342">Detta ger hello fördelen att någon slutpunkt till slutpunkt-anslutning mellan hello kommunikation partner krävs på nätverksnivån.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1342">This provides hello advantage that no end-to-end connection between hello communication partners is necessary on network level.</span></span> <span data-ttu-id="f78bd-1343">Hej SAProuter lyssnar på port 3299 som standard.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1343">hello SAProuter is listening on port 3299 by default.</span></span>
<span data-ttu-id="f78bd-1344">tooconnect SAP instanser via en SAProuter behöver du toogive hello SAProuter sträng och värdnamn med eventuella försök tooconnect.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1344">tooconnect SAP instances through a SAProuter you need toogive hello SAProuter string and host name with any attempt tooconnect.</span></span>

## <a name="sap-netweaver-as-java"></a><span data-ttu-id="f78bd-1345">SAP NetWeaver AS Java</span><span class="sxs-lookup"><span data-stu-id="f78bd-1345">SAP NetWeaver AS Java</span></span>
<span data-ttu-id="f78bd-1346">Hittills hello fokus för hello dokumentet har SAP NetWeaver i allmänhet eller hello SAP NetWeaver ABAP stacken.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1346">So far hello focus of hello document has been SAP NetWeaver in general or hello SAP NetWeaver ABAP stack.</span></span> <span data-ttu-id="f78bd-1347">I det här små avsnittet listas särskilda överväganden för hello SAP Java-stacken.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1347">In this small section, specific considerations for hello SAP Java stack are listed.</span></span> <span data-ttu-id="f78bd-1348">En av hello viktigaste SAP NetWeaver Java uteslutande baserad program är hello SAP Enterprise Portal.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1348">One of hello most important SAP NetWeaver Java exclusively based applications is hello SAP Enterprise Portal.</span></span> <span data-ttu-id="f78bd-1349">Andra SAP NetWeaver baserat program som SAP PI och SAP lösning Manager använder både hello SAP NetWeaver ABAP och Java-stackar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1349">Other SAP NetWeaver based applications like SAP PI and SAP Solution Manager use both hello SAP NetWeaver ABAP and Java stacks.</span></span> <span data-ttu-id="f78bd-1350">Det verkligen är därför en behovet tooconsider särskilda aspekter relaterade toohello SAP NetWeaver Java-stack samt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1350">Therefore, there certainly is a need tooconsider specific aspects related toohello SAP NetWeaver Java stack as well.</span></span>

### <a name="sap-enterprise-portal"></a><span data-ttu-id="f78bd-1351">SAP Enterprise Portal</span><span class="sxs-lookup"><span data-stu-id="f78bd-1351">SAP Enterprise Portal</span></span>
<span data-ttu-id="f78bd-1352">hello installationen av en SAP-Portal i en virtuell Azure-dator skiljer sig inte från en på lokal installation om du distribuerar i mellan lokala scenarier.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1352">hello setup of an SAP Portal in an Azure Virtual Machine does not differ from an on premises installation if you are deploying in cross-premises scenarios.</span></span> <span data-ttu-id="f78bd-1353">Eftersom hello DNS gör du genom att lokalt, kan du göra hello portinställningar hello enskilda instanser som konfigurerade lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1353">Since hello DNS is done by on-premises, hello port settings of hello individual instances can be done as configured on-premises.</span></span> <span data-ttu-id="f78bd-1354">hello rekommendationer och begränsningar som beskrivs i det här dokumentet hittills gäller i allmänhet för ett program som SAP Enterprise Portal eller hello SAP NetWeaver Java-stacken.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1354">hello recommendations and restrictions described in this document so far apply for an application like SAP Enterprise Portal or hello SAP NetWeaver Java stack in general.</span></span>

![Exponerade SAP-portalen][planning-guide-figure-2700]

<span data-ttu-id="f78bd-1356">En särskild distributionsscenariot som vissa kunder är hello direkt exponering av hello SAP Enterprise Portal toohello Internet men hello virtuell värd är ansluten toohello företagets nätverk via plats-till-plats VPN-tunnel eller ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1356">A special deployment scenario by some customers is hello direct exposure of hello SAP Enterprise Portal toohello Internet while hello virtual machine host is connected toohello company network via site-to-site VPN tunnel or ExpressRoute.</span></span> <span data-ttu-id="f78bd-1357">Scenario har du toomake till att vissa portar är öppna och inte blockeras av en brandvägg eller säkerhetsgrupp.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1357">For such a scenario, you have toomake sure that specific ports are open and not blocked by firewall or network security group.</span></span> <span data-ttu-id="f78bd-1358">hello måste samma säkerhetsnivån toobe tillämpas när du vill tooconnect tooan SAP Java-instans från lokalt i en situation med endast molnet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1358">hello same mechanics would need toobe applied when you want tooconnect tooan SAP Java instance from on-premises in a Cloud-Only scenario.</span></span>

<span data-ttu-id="f78bd-1359">hello inledande portal URI är http (s):`<Portalserver`>: 5XX00/irj där hello port utgörs av 50000 plus (Systemnumber × 100).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1359">hello initial portal URI is http(s):`<Portalserver`>:5XX00/irj where hello port is formed by 50000 plus (Systemnumber × 100).</span></span> <span data-ttu-id="f78bd-1360">hello standard portal URI SAP systemet 00 är `<dns name`>.`<azure region` >.Cloudapp.azure.com:PublicPort/irj.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1360">hello default portal URI of SAP system 00 is `<dns name`>.`<azure region`>.Cloudapp.azure.com:PublicPort/irj.</span></span> <span data-ttu-id="f78bd-1361">Mer information, ta en titt på <http://help.sap.com/saphelp_nw70ehp1/helpdata/de/a2/f9d7fed2adc340ab462ae159d19509/frameset.htm>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1361">For more details, have a look at <http://help.sap.com/saphelp_nw70ehp1/helpdata/de/a2/f9d7fed2adc340ab462ae159d19509/frameset.htm>.</span></span>

![Slutpunktskonfiguration][planning-guide-figure-2800]

<span data-ttu-id="f78bd-1363">Kontrollera den här dokumentationen om du vill toocustomize hello URL och/eller portar för SAP Enterprise Portal:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1363">If you want toocustomize hello URL and/or ports of your SAP Enterprise Portal, please check this documentation:</span></span>

* [<span data-ttu-id="f78bd-1364">Ändra Portal-URL</span><span class="sxs-lookup"><span data-stu-id="f78bd-1364">Change Portal URL</span></span>](http://wiki.scn.sap.com/wiki/display/EP/Change+Portal+URL)
* [<span data-ttu-id="f78bd-1365">Ändra standardportnumren Portal-portnummer</span><span class="sxs-lookup"><span data-stu-id="f78bd-1365">Change Default port numbers, Portal port numbers</span></span>](http://wiki.scn.sap.com/wiki/display/NWTech/Change+Default++port+numbers%2C+Portal+port+numbers)

## <a name="high-availability-ha-and-disaster-recovery-dr-for-sap-netweaver-running-on-azure-virtual-machines"></a><span data-ttu-id="f78bd-1366">Hög tillgänglighet och Disaster Recovery (DR) för SAP NetWeaver körs på Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="f78bd-1366">High Availability (HA) and Disaster Recovery (DR) for SAP NetWeaver running on Azure Virtual Machines</span></span>
### <a name="definition-of-terminologies"></a><span data-ttu-id="f78bd-1367">Definition av termer som gäller</span><span class="sxs-lookup"><span data-stu-id="f78bd-1367">Definition of terminologies</span></span>
<span data-ttu-id="f78bd-1368">hello termen **hög tillgänglighet (HA)** är vanligtvis relaterade tooa en uppsättning tekniker som minimerar IT avbrott genom att tillhandahålla affärskontinuitet av IT-tjänster via redundanta, feltolerant eller failover skyddade komponenter inuti hello **samma** datacenter.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1368">hello term **high availability (HA)** is generally related tooa set of technologies that minimizes IT disruptions by providing business continuity of IT services through redundant, fault-tolerant or failover protected components inside hello **same** data center.</span></span> <span data-ttu-id="f78bd-1369">I vårt fall, inom en Azure-Region.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1369">In our case, within one Azure Region.</span></span>

<span data-ttu-id="f78bd-1370">**Katastrofåterställning (DR)** är också på minimera avbrott i IT-tjänster och deras återställning men tvärs över **olika** datacenter som vanligtvis finns hundratals kilometer direkt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1370">**Disaster recovery (DR)** is also targeting minimizing IT services disruption, and their recovery but across **different** data centers, that are usually located hundreds of kilometers away.</span></span> <span data-ttu-id="f78bd-1371">I vårt fall vanligtvis mellan olika Azure-regioner inom hello samma geopolitiska region eller som upprättas av du som kund.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1371">In our case usually between different Azure Regions within hello same geopolitical region or as established by you as a customer.</span></span>

### <a name="overview-of-high-availability"></a><span data-ttu-id="f78bd-1372">Översikt över hög tillgänglighet</span><span class="sxs-lookup"><span data-stu-id="f78bd-1372">Overview of High Availability</span></span>
<span data-ttu-id="f78bd-1373">Vi kan avgränsa hello diskussion om SAP hög tillgänglighet i Azure i två delar:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1373">We can separate hello discussion about SAP high availability in Azure into two parts:</span></span>

* <span data-ttu-id="f78bd-1374">**Hög tillgänglighet för Azure-infrastrukturen**, till exempel hög tillgänglighet för beräkning (VM), nätverk, lagring etc. och dess fördelar för att öka tillgängligheten för SAP-program.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1374">**Azure infrastructure high availability**, for example HA of compute (VMs), network, storage etc. and its benefits for increasing SAP application availability.</span></span>
* <span data-ttu-id="f78bd-1375">**Hög tillgänglighet för SAP-program**, till exempel hög tillgänglighet för SAP programvarukomponenter:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1375">**SAP application high availability**, for example HA of SAP software components:</span></span>
  * <span data-ttu-id="f78bd-1376">SAP-programservrar</span><span class="sxs-lookup"><span data-stu-id="f78bd-1376">SAP application servers</span></span>
  * <span data-ttu-id="f78bd-1377">SAP ASCS/SCS-instans</span><span class="sxs-lookup"><span data-stu-id="f78bd-1377">SAP ASCS/SCS instance</span></span>
  * <span data-ttu-id="f78bd-1378">DB-server</span><span class="sxs-lookup"><span data-stu-id="f78bd-1378">DB server</span></span>

<span data-ttu-id="f78bd-1379">och hur den kan kombineras med Azure-infrastrukturen hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1379">and how it can be combined with Azure infrastructure HA.</span></span>

<span data-ttu-id="f78bd-1380">SAP hög tillgänglighet i Azure har vissa skillnader i jämförelse tooSAP hög tillgänglighet i en lokal fysisk eller virtuell miljö.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1380">SAP High Availability in Azure has some differences compared tooSAP High Availability in an on-premises physical or virtual environment.</span></span> <span data-ttu-id="f78bd-1381">hello följande dokumentet från SAP beskriver standardkonfigurationer SAP hög tillgänglighet i virtualiserade miljöer i Windows: <http://scn.sap.com/docs/DOC-44415>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1381">hello following paper from SAP describes standard SAP High Availability configurations in virtualized environments on Windows: <http://scn.sap.com/docs/DOC-44415>.</span></span> <span data-ttu-id="f78bd-1382">Det finns ingen sapinst-integrerade SAP-HA konfiguration för Linux som om det finns för Windows.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1382">There is no sapinst-integrated SAP-HA configuration for Linux like it exists for Windows.</span></span> <span data-ttu-id="f78bd-1383">Om SAP HA lokalt för Linux hitta mer information här: <http://scn.sap.com/docs/DOC-8541>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1383">Regarding SAP HA on-premises for Linux find more information here: <http://scn.sap.com/docs/DOC-8541>.</span></span>

### <a name="azure-infrastructure-high-availability"></a><span data-ttu-id="f78bd-1384">Azure-infrastrukturen med hög tillgänglighet</span><span class="sxs-lookup"><span data-stu-id="f78bd-1384">Azure Infrastructure High Availability</span></span>
<span data-ttu-id="f78bd-1385">Det finns en enda VM SLA för 99,9%.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1385">There is currently a single-VM SLA of 99.9%.</span></span> <span data-ttu-id="f78bd-1386">tooget en idé hur hello tillgängligheten för en enda virtuell dator kan se ut som om du bara kan skapa hello produkten av hello olika tillgängliga Azure SLA: <https://azure.microsoft.com/support/legal/sla/>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1386">tooget an idea how hello availability of a single VM might look like you can simply build hello product of hello different available Azure SLAs: <https://azure.microsoft.com/support/legal/sla/>.</span></span>

<span data-ttu-id="f78bd-1387">hello grunden för beräkning av hello är 30 dagar i månaden, eller 43200 minuter.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1387">hello basis for hello calculation is 30 days per month, or 43200 minutes.</span></span> <span data-ttu-id="f78bd-1388">Därför 0,05% avbrottstid motsvarar too21.6 minuter.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1388">Therefore, 0.05% downtime corresponds too21.6 minutes.</span></span> <span data-ttu-id="f78bd-1389">Hello tillgängligheten för hello olika tjänster kommer som vanligt, multiplicera i hello följande sätt:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1389">As usual, hello availability of hello different services will multiply in hello following way:</span></span>

<span data-ttu-id="f78bd-1390">(Tillgänglighet Service #1/100) * (tillgänglighet Service #2/100) * (tillgänglighet Service #3/100) *...</span><span class="sxs-lookup"><span data-stu-id="f78bd-1390">(Availability Service #1/100) * (Availability Service #2/100) * (Availability Service #3/100) *…</span></span>

<span data-ttu-id="f78bd-1391">Exempel:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1391">Like:</span></span>

<span data-ttu-id="f78bd-1392">(99,95/100) * (99,9/100) * (99,9/100) = 0.9975 eller 99.75% övergripande tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1392">(99.95/100) * (99.9/100) * (99.9/100) = 0.9975 or an overall availability of 99.75%.</span></span>

#### <a name="virtual-machine-vm-high-availability"></a><span data-ttu-id="f78bd-1393">Virtuell dator (VM) med hög tillgänglighet</span><span class="sxs-lookup"><span data-stu-id="f78bd-1393">Virtual Machine (VM) High Availability</span></span>
<span data-ttu-id="f78bd-1394">Det finns två typer av händelser i Azure-plattformen som kan påverka hello tillgänglighet för de virtuella datorerna: planerat underhåll och oplanerat underhåll.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1394">There are two types of Azure platform events that can affect hello availability of your virtual machines: planned maintenance and unplanned maintenance.</span></span>

* <span data-ttu-id="f78bd-1395">Planerat underhållshändelser är periodiska uppdateringar som görs av Microsoft toohello underliggande Azure-plattformen tooimprove övergripande tillförlitlighet, prestanda och säkerhet för hello plattformsinfrastruktur som de virtuella datorerna körs på.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1395">Planned maintenance events are periodic updates made by Microsoft toohello underlying Azure platform tooimprove overall reliability, performance, and security of hello platform infrastructure that your virtual machines run on.</span></span>
* <span data-ttu-id="f78bd-1396">Oplanerat underhållshändelser inträffar när hello maskinvara eller fysisk infrastruktur underliggande din virtuella dator fel har uppstått på något sätt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1396">Unplanned maintenance events occur when hello hardware or physical infrastructure underlying your virtual machine has faulted in some way.</span></span> <span data-ttu-id="f78bd-1397">Det kan vara lokala nätverksfel, lokala diskfel eller andra fel på racknivå.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1397">This may include local network failures, local disk failures, or other rack level failures.</span></span> <span data-ttu-id="f78bd-1398">När sådant fel identifieras hello Azure-plattformen automatiskt att migrera den virtuella datorn från hello ohälsosamt fysisk server värd för din virtuella tooa felfri fysisk server.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1398">When such a failure is detected, hello Azure platform will automatically migrate your virtual machine from hello unhealthy physical server hosting your virtual machine tooa healthy physical server.</span></span> <span data-ttu-id="f78bd-1399">Sådana händelser är sällsynt, men kan även orsakas av din virtuella tooreboot.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1399">Such events are rare, but may also cause your virtual machine tooreboot.</span></span>

<span data-ttu-id="f78bd-1400">Mer information finns i den här dokumentationen: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span><span class="sxs-lookup"><span data-stu-id="f78bd-1400">More details can be found in this documentation: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span></span>

#### <a name="azure-storage-redundancy"></a><span data-ttu-id="f78bd-1401">Azure Storage-redundans</span><span class="sxs-lookup"><span data-stu-id="f78bd-1401">Azure Storage Redundancy</span></span>
<span data-ttu-id="f78bd-1402">hello data i Microsoft Azure Storage-konto är alltid replikerade tooensure hållbarhet och hög tillgänglighet, uppfyller hello Azure Storage SLA även i hello sida av tillfälliga maskinvarufel.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1402">hello data in your Microsoft Azure Storage Account is always replicated tooensure durability and high availability, meeting hello Azure Storage SLA even in hello face of transient hardware failures.</span></span>

<span data-ttu-id="f78bd-1403">Eftersom Azure Storage är att ha tre bilder hello data som standard, RAID5 eller RAID1 över flera Azure-diskar är inte nödvändigt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1403">Since Azure Storage is keeping three images of hello data by default, RAID5 or RAID1 across multiple Azure disks are not necessary.</span></span>

<span data-ttu-id="f78bd-1404">Mer information finns i den här artikeln: <http://azure.microsoft.com/documentation/articles/storage-redundancy/></span><span class="sxs-lookup"><span data-stu-id="f78bd-1404">More details can be found in this article: <http://azure.microsoft.com/documentation/articles/storage-redundancy/></span></span>

#### <a name="utilizing-azure-infrastructure-vm-restart-tooachieve-higher-availability-of-sap-applications"></a><span data-ttu-id="f78bd-1405">Använda Azure-infrastrukturen VM starta om tooAchieve ”högre tillgänglighet” för SAP-program</span><span class="sxs-lookup"><span data-stu-id="f78bd-1405">Utilizing Azure Infrastructure VM Restart tooAchieve “Higher Availability” of SAP Applications</span></span>
<span data-ttu-id="f78bd-1406">Om du inte toouse funktioner som Windows Server Failover Clustering WSFC- eller Pacemaker på Linux (för närvarande stöds endast för SLES 12 och högre), starta om Azure VM är utnyttjade tooprotect en SAP-systemet mot planerade och oplanerade driftstopp för hello Azure fysisk server-infrastrukturen och övergripande underliggande Azure-plattformen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1406">If you decide not toouse functionalities like Windows Server Failover Clustering (WSFC) or Pacemaker on Linux (currently only supported for SLES 12 and higher), Azure VM Restart is utilized tooprotect an SAP System against planned and unplanned downtime of hello Azure physical server infrastructure and overall underlying Azure platform.</span></span>

> [!NOTE]
> <span data-ttu-id="f78bd-1407">Det är viktigt toomention att starta om Azure VM främst skyddar virtuella datorer och inte program.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1407">It is important toomention that Azure VM Restart primarily protects VMs and NOT applications.</span></span> <span data-ttu-id="f78bd-1408">Starta om VM inte ger hög tillgänglighet för SAP-program, men den erbjuder en viss nivå av infrastrukturens tillgänglighet och därför indirekt ”högre tillgänglighet” för SAP-system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1408">VM Restart does not offer high availability for SAP applications, but it does offer a certain level of infrastructure availability and therefore indirectly “higher availability” of SAP systems.</span></span> <span data-ttu-id="f78bd-1409">Det finns också några SLA för hello tid det tar toorestart en virtuell dator efter en planerad eller oplanerad värden avbrott.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1409">There is also no SLA for hello time it will take toorestart a VM after a planned or unplanned host outage.</span></span> <span data-ttu-id="f78bd-1410">Den här metoden för 'med hög tillgänglighet är därför inte lämpar sig för viktiga komponenter av en SAP-system som (A) SCS eller DBMS.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1410">Therefore, this method of ‘high availability’ is not suitable for critical components of an SAP system like (A)SCS or DBMS.</span></span>
>
>

<span data-ttu-id="f78bd-1411">Ett annat viktigt infrastruktur-element för hög tillgänglighet är lagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1411">Another important infrastructure element for high availability is storage.</span></span> <span data-ttu-id="f78bd-1412">Exempelvis är Azure Storage-SLA 99,9% tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1412">For example Azure Storage SLA is 99,9 % availability.</span></span> <span data-ttu-id="f78bd-1413">Om en distribuerar du alla virtuella datorer med dess diskar till en enda Azure Storage-konto, potentiella Azure Storage otillgänglighet kommer att placeras i den Azure Storage-konto på alla virtuella datorer och även alla SAP komponenter som körs i dessa virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1413">If one deploys all VMs with its disks into a single Azure Storage Account, potential Azure Storage unavailability will cause unavailability of all VMs that are placed in that Azure Storage Account, and also all SAP components running inside of those VMs.</span></span>  

<span data-ttu-id="f78bd-1414">I stället för att alla virtuella datorer till en enda Azure Storage-konto, du kan också använda dedikerade konton för varje virtuell dator och på så sätt öka övergripande VM och SAP tillgänglighet genom att använda flera oberoende Azure Storage-konton.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1414">Instead of putting all VMs into one single Azure Storage Account, you can also use dedicated storage accounts for each VM, and in this way increase overall VM and SAP application availability by using multiple independent Azure Storage Accounts.</span></span>

<span data-ttu-id="f78bd-1415">Azure-hanterade diskar placeras i hello Feldomän för hello virtuell dator som de är kopplade till.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1415">Azure Managed Disks are automatically placed in hello Fault Domain of hello virtual machine they are attached to.</span></span> <span data-ttu-id="f78bd-1416">Om du placerar två virtuella datorer i en tillgänglighetsgrupp och använder hanterade diskar, hello plattform tar hand om distribuerar hello hanterade diskar till olika Feldomäner samt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1416">If you place two virtual machines in an availability set and use Managed Disks, hello platform will take care of distributing hello Managed Disks into different Fault Domains as well.</span></span> <span data-ttu-id="f78bd-1417">Om du planerar toouse Premium-lagring, rekommenderar vi använder också hantera diskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1417">If you plan toouse Premium Storage, we highly recommend using Manage Disks as well.</span></span>

<span data-ttu-id="f78bd-1418">En exempel-arkitekturen för en SAP NetWeaver system som använder Azure-infrastrukturen hög tillgänglighet och storage-konton kan se ut så här:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1418">A sample architecture of an SAP NetWeaver system that uses Azure infrastructure HA and storage accounts could look like this:</span></span>

![Använda Azure-infrastrukturen ”högre” tillgänglighet för hög tillgänglighet tooachieve SAP-program][planning-guide-figure-2900]

<span data-ttu-id="f78bd-1420">En exempel-arkitekturen för en SAP NetWeaver system som använder Azure-infrastrukturen hög tillgänglighet och hanterade diskar kan se ut så här:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1420">A sample architecture of an SAP NetWeaver system that uses Azure infrastructure HA and Managed Disks could look like this:</span></span>

![Använda Azure-infrastrukturen ”högre” tillgänglighet för hög tillgänglighet tooachieve SAP-program][planning-guide-figure-2901]

<span data-ttu-id="f78bd-1422">För kritiska SAP-komponenter uppnås hello hittills följande:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1422">For critical SAP components we achieved hello following so far:</span></span>

* <span data-ttu-id="f78bd-1423">Hög tillgänglighet för SAP-programservrar (AS)</span><span class="sxs-lookup"><span data-stu-id="f78bd-1423">High Availability of SAP Application Servers (AS)</span></span>

  <span data-ttu-id="f78bd-1424">SAP-programserverinstanser är redundanta komponenter.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1424">SAP application server instances are redundant components.</span></span> <span data-ttu-id="f78bd-1425">Varje SAP som instansen har distribuerats på egen virtuell dator som körs i en annan Azure-fel och uppgradera domän (se kapitlen [Feldomäner] [ planning-guide-3.2.1] och [uppgradera domäner][planning-guide-3.2.2]).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1425">Each SAP AS instance is deployed on its own VM, that is running in a different Azure Fault and Upgrade Domain (see chapters [Fault Domains][planning-guide-3.2.1] and [Upgrade Domains][planning-guide-3.2.2]).</span></span> <span data-ttu-id="f78bd-1426">Detta säkerställs med hjälp av Azure-Tillgänglighetsuppsättningar (finns i kapitlet [Azure-Tillgänglighetsuppsättningar][planning-guide-3.2.3]).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1426">This is ensured by using Azure Availability Sets (see chapter [Azure Availability Sets][planning-guide-3.2.3]).</span></span> <span data-ttu-id="f78bd-1427">Potentiella planerad eller oplanerad otillgänglighet en Azure-fel eller uppgradera domän kommer inte finns ett begränsat antal virtuella datorer med deras SAP instanser.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1427">Potential planned or unplanned unavailability of an Azure Fault or Upgrade Domain will cause unavailability of a restricted number of VMs with their SAP AS instances.</span></span>

  <span data-ttu-id="f78bd-1428">Varje SAP eftersom instansen är placerad i sin egen Azure Storage-konto – potentiella otillgänglighet ett Azure Storage-konto kommer att endast en virtuell dator med dess SAP instans.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1428">Each SAP AS instance is placed in its own Azure Storage account – potential unavailability of one Azure Storage Account will cause unavailability of only one VM with its SAP AS instance.</span></span> <span data-ttu-id="f78bd-1429">Men tänk på att det finns en gräns på Azure Storage-konton inom en Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1429">However, be aware that there is a limit of Azure Storage Accounts within one Azure subscription.</span></span> <span data-ttu-id="f78bd-1430">tooensure automatisk start av (A) SCS-instans efter hello VM omstart kontrollerar du tooset hello Autostart parameter i instansen (A) SCS profil beskrivs i kapitlet [med hjälp av Autostart för SAP instanser] [ planning-guide-11.5].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1430">tooensure automatic start of (A)SCS instance after hello VM reboot, make sure tooset hello Autostart parameter in (A)SCS instance start profile described in chapter [Using Autostart for SAP instances][planning-guide-11.5].</span></span>
  <span data-ttu-id="f78bd-1431">Läs även kapitel [hög tillgänglighet för SAP-programservrar] [ planning-guide-11.4.1] för mer information.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1431">Please also read chapter [High Availability for SAP Application Servers][planning-guide-11.4.1] for more details.</span></span>

  <span data-ttu-id="f78bd-1432">Även om du använder hanterade diskar dessa diskar lagras också i ett Azure Storage-konto och kan inte tillgängliga i en händelse av ett avbrott för lagring.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1432">Even if you use Managed Disks, those disks are also stored in an Azure Storage Account and can be unavailable in an event of a storage outage.</span></span>

* <span data-ttu-id="f78bd-1433">*Högre* tillgänglighet för SAP (A) SCS-instans</span><span class="sxs-lookup"><span data-stu-id="f78bd-1433">*Higher* Availability of SAP (A)SCS instance</span></span>

  <span data-ttu-id="f78bd-1434">Vi använder här Azure VM starta om tooprotect hello VM med installerade SAP (A) SCS-instans.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1434">Here we utilize Azure VM Restart tooprotect hello VM with installed SAP (A)SCS instance.</span></span> <span data-ttu-id="f78bd-1435">I hello fall av planerad eller oplanerad driftstopp på Azure-servrarna, virtuella datorer kommer att startas om på en annan server.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1435">In hello case of planned or unplanned downtime of Azure severs, VMs will be restarted on another available server.</span></span> <span data-ttu-id="f78bd-1436">Som tidigare nämnts kan starta om Azure VM främst skyddar virtuella datorer och inte program, i det här fallet hello (A) SCS-instans.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1436">As mentioned earlier, Azure VM Restart primarily protects VMs and NOT applications, in this case hello (A)SCS instance.</span></span> <span data-ttu-id="f78bd-1437">Via hello VM starta om ska vi nå indirekt ”högre tillgänglighet” för SAP (A) SCS-instansen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1437">Through hello VM Restart we’ll reach indirectly “higher availability” of SAP (A)SCS instance.</span></span> <span data-ttu-id="f78bd-1438">tooinsure automatisk start av (A) SCS-instans efter hello VM omstart kontrollerar du tooset Autostart parameter i instansen (A) SCS profil beskrivs i kapitlet [med hjälp av Autostart för SAP instanser][planning-guide-11.5].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1438">tooinsure automatic start of (A)SCS instance after hello VM reboot, make sure tooset Autostart parameter in (A)SCS instance start profile described in chapter [Using Autostart for SAP instances][planning-guide-11.5].</span></span> <span data-ttu-id="f78bd-1439">Det innebär att hello (A) SCS-instans som en enskilda felpunkter (SPOF) körs i en enda virtuell dator är hello bestämmande faktor hello tillgänglighet för hello hela SAP liggande.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1439">This means hello (A)SCS instance as a Single Point of Failure (SPOF) running in a single VM will be hello determinative factor for hello availability of hello whole SAP landscape.</span></span>

* <span data-ttu-id="f78bd-1440">*Högre* tillgängligheten för DBMS-Server</span><span class="sxs-lookup"><span data-stu-id="f78bd-1440">*Higher* Availability of DBMS Server</span></span>

  <span data-ttu-id="f78bd-1441">Här, liknande toohello SAP (A) SCS instans användningsfall, vi använda Azure VM starta om tooprotect hello VM med installerad programvara för DBMS och vi uppnår ”högre tillgänglighet” av DBMS programvara via virtuella datorn startar om.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1441">Here, similar toohello SAP (A)SCS instance use case, we utilize Azure VM Restart tooprotect hello VM with installed DBMS software, and we achieve “higher availability” of DBMS software through VM Restart.</span></span>
  <span data-ttu-id="f78bd-1442">DBMS som körs i en enda virtuell dator är också en SPOF och det är hello bestämmande faktor hello tillgänglighet för hello hela SAP liggande.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1442">DBMS running in a single VM is also a SPOF, and it is hello determinative factor for hello availability of hello whole SAP landscape.</span></span>

### <a name="sap-application-high-availability-on-azure-iaas"></a><span data-ttu-id="f78bd-1443">SAP hög tillgänglighet på Azure IaaS</span><span class="sxs-lookup"><span data-stu-id="f78bd-1443">SAP Application High Availability on Azure IaaS</span></span>
<span data-ttu-id="f78bd-1444">tooachieve fullständig SAP system med hög tillgänglighet måste tooprotect alla viktiga SAP-systemkomponenter, för exempel redundant SAP programservrar och unika komponenter (till exempel enskilda felpunkter) som SAP (A) SCS-instans och DBMS.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1444">tooachieve full SAP system high availability, we need tooprotect all critical SAP system components, for example redundant SAP application servers, and unique components (for example Single Point of Failure) like SAP (A)SCS instance and DBMS.</span></span>

#### <span data-ttu-id="f78bd-1445"><a name="5d9d36f9-9058-435d-8367-5ad05f00de77"></a>Hög tillgänglighet för SAP-programservrar</span><span class="sxs-lookup"><span data-stu-id="f78bd-1445"><a name="5d9d36f9-9058-435d-8367-5ad05f00de77"></a>High Availability for SAP Application Servers</span></span>
<span data-ttu-id="f78bd-1446">Hello SAP programinstanser dialogrutan och servrar är det inte nödvändigt toothink om en lösning för specifika hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1446">For hello SAP application servers/dialog instances it’s not necessary toothink about a specific high availability solution.</span></span> <span data-ttu-id="f78bd-1447">Hög tillgänglighet bara uppnås genom redundans och därmed ha tillräckligt många dem i olika virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1447">High availability is simply achieved by redundancy and thereby having enough of them in different virtual machines.</span></span> <span data-ttu-id="f78bd-1448">De ska alla placeras i samma Tillgänglighetsuppsättning för Azure tooavoid som hello virtuella datorer kan uppdateras på hello hello samtidigt under planerat underhåll driftstopp.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1448">They should all be placed in hello same Azure Availability Set tooavoid that hello VMs might be updated at hello same time during planned maintenance downtime.</span></span> <span data-ttu-id="f78bd-1449">hello grundläggande funktioner som bygger på olika uppgradering och Feldomäner i en Azure-Skalningsenhet introducerades redan i kapitel [uppgradera domäner][planning-guide-3.2.2].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1449">hello basic functionality which builds on different Upgrade and Fault Domains within an Azure Scale Unit was already introduced in chapter [Upgrade Domains][planning-guide-3.2.2].</span></span> <span data-ttu-id="f78bd-1450">Azure Tillgänglighetsuppsättningar presenteras i kapitlet [Azure-Tillgänglighetsuppsättningar] [ planning-guide-3.2.3] i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1450">Azure Availability Sets were presented in chapter [Azure Availability Sets][planning-guide-3.2.3] of this document.</span></span>

<span data-ttu-id="f78bd-1451">Det finns inget obegränsat antal fel och uppgradera domäner som kan användas av en Azure Tillgänglighetsuppsättning inom en Skalningsenhet för Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1451">There is no infinite number of Fault and Upgrade Domains that can be used by an Azure Availability Set within an Azure Scale Unit.</span></span> <span data-ttu-id="f78bd-1452">Det innebär att försätta ett antal virtuella datorer i en Tillgänglighetsuppsättning, förr eller senare mer än en virtuell dator avslutas med hello samma fel eller uppgradera domän.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1452">This means that putting a number of VMs into one Availability Set, sooner or later more than one VM ends up in hello same Fault or Upgrade Domain.</span></span>

<span data-ttu-id="f78bd-1453">Distribuera några SAP-programserver instanser i deras dedikerade virtuella datorer och förutsatt att vi fem uppgradera domäner hello följande bild visar sig hello slutet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1453">Deploying a few SAP application server instances in their dedicated VMs and assuming that we got five Upgrade Domains, hello following picture emerges at hello end.</span></span> <span data-ttu-id="f78bd-1454">Hej max antal fel och uppdatera domäner inom en tillgänglighetsuppsättning kan ändras i framtida hello:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1454">hello actual max number of fault and update domains within an availability set might change in hello future:</span></span>

![Hög tillgänglighet för SAP programservrar i Azure][planning-guide-figure-3000]

<span data-ttu-id="f78bd-1456">Mer information finns i den här dokumentationen: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span><span class="sxs-lookup"><span data-stu-id="f78bd-1456">More details can be found in this documentation: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span></span>

#### <a name="high-availability-for-hello-sap-ascs-instance-on-windows"></a><span data-ttu-id="f78bd-1457">Hög tillgänglighet för hello SAP (A) SCS instans i Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-1457">High Availability for hello SAP (A)SCS instance on Windows</span></span>
<span data-ttu-id="f78bd-1458">Failover Cluster WSFC (Windows Server) är en lösning för vanliga tooprotect hello SAP (A) SCS-instans.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1458">Windows Server Failover Cluster (WSFC) is a frequently used solution tooprotect hello SAP (A)SCS instance.</span></span> <span data-ttu-id="f78bd-1459">Det är även integrerad i sapinst i form av ett ”hög tillgänglighet-installation”.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1459">It is also integrated into sapinst in form of an "HA installation".</span></span> <span data-ttu-id="f78bd-1460">Vid denna tidpunkt är hello Azure-infrastrukturen inte kan tooprovide hello funktioner tooset in hello som krävs för Windows Server Failover Cluster hello samma sätt som det är klart lokalt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1460">At this point in time hello Azure infrastructure is not able tooprovide hello functionality tooset up hello required Windows Server Failover Cluster hello same way as it's done on-premises.</span></span>

<span data-ttu-id="f78bd-1461">Januari 2016 ger inte hello Azure molnplattform kör hello Windows hello möjligheten att använda en delad klustervolym på en disk som delas mellan två virtuella Azure-datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1461">As of January 2016 hello Azure cloud platform running hello Windows operating system does not provide hello possibility of using a cluster shared volume on a disk shared between two Azure VMs.</span></span>

<span data-ttu-id="f78bd-1462">En giltig lösning är dock hello användning av 3 tillverkare som ger en delad volym av synkrona och transparent diskreplikering som kan integreras i WSFC.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1462">A valid solution though is hello usage of 3rd-party software which provides a shared volume by synchronous and transparent disk replication which can be integrated into WSFC.</span></span> <span data-ttu-id="f78bd-1463">Den här metoden innebär att endast aktiva hello klusternoden är kan tooaccess en hello disk kopierar vid en viss tidpunkt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1463">This approach implies that only hello active cluster node is able tooaccess one of hello disk copies at a point in time.</span></span> <span data-ttu-id="f78bd-1464">Konfigurationen är stöds tooprotect hello SAP (A) SCS instans på Windows gästoperativsystemet på Azure Virtual Machines i kombination med 3 tillverkare SIOS DataKeeper januari 2016 denna hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1464">As of January 2016 this HA configuration is supported tooprotect hello SAP (A)SCS instance on Windows guest OS on Azure VMs in combination with 3rd-party software SIOS DataKeeper.</span></span>

<span data-ttu-id="f78bd-1465">Hej SIOS DataKeeper lösningen innehåller en delad disk klustret resurs tooWindows Failover-kluster genom att:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1465">hello SIOS DataKeeper solution provides a shared disk cluster resource tooWindows Failover Clusters by having:</span></span>

* <span data-ttu-id="f78bd-1466">En ytterligare Azure virtuell Hårddisk ansluten tooeach hello virtuella datorer (VM) som finns i en konfiguration för Windows-kluster</span><span class="sxs-lookup"><span data-stu-id="f78bd-1466">An additional Azure VHD attached tooeach of hello virtual machines (VMs) that are in a Windows Cluster configuration</span></span>
* <span data-ttu-id="f78bd-1467">SIOS DataKeeper Cluster Edition körs på båda noderna för VM</span><span class="sxs-lookup"><span data-stu-id="f78bd-1467">SIOS DataKeeper Cluster Edition running on both VM nodes</span></span>
* <span data-ttu-id="f78bd-1468">Har konfigurerats på ett sätt som synkront speglar hello innehållet i hello ytterligare SIOS DataKeeper Cluster Edition VHD som är kopplad volym från virtuella datorer tooadditional virtuell Hårddisk ansluten källvolymen av virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1468">Having SIOS DataKeeper Cluster Edition configured in a way that it synchronously mirrors hello content of hello additional VHD attached volume from source VMs tooadditional VHD attached volume of target VM.</span></span>
* <span data-ttu-id="f78bd-1469">SIOS DataKeeper abstrahera hello käll- och lokala volymer och presentera dem tooWindows redundanskluster som en enda delad disk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1469">SIOS DataKeeper is abstracting hello source and target local volumes and presenting them tooWindows Failover Cluster as a single shared disk.</span></span>

<span data-ttu-id="f78bd-1470">Du kan hitta all information om hur tooinstall ett Windows-redundanskluster med SIOS DataKeeper och SAP i hello [Clustering SAP ASCS-instans med redundanskluster för Windows Server på Azure med SIOS DataKeeper] [ ha-guide-classic]vitboken.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1470">You can find all details on how tooinstall a Windows Failover Cluster with SIOS DataKeeper and SAP in hello [Clustering SAP ASCS Instance using Windows Server Failover Cluster on Azure with SIOS DataKeeper][ha-guide-classic] white paper.</span></span>

#### <a name="high-availability-for-hello-sap-ascs-instance-on-linux"></a><span data-ttu-id="f78bd-1471">Hög tillgänglighet för hello SAP (A) SCS-instansen på Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-1471">High Availability for hello SAP (A)SCS instance on Linux</span></span>
<span data-ttu-id="f78bd-1472">Från och med Dec 2015 finns även ingen motsvarande tooshared disk WSFC för Linux virtuella datorer i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1472">As of Dec 2015 there is also no equivalent tooshared disk WSFC for Linux VMs on Azure.</span></span> <span data-ttu-id="f78bd-1473">Alternativa lösningar med hjälp av 3 tillverkare som SIOS för Windows verifieras inte ännu för att köra SAP på Linux på Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1473">Alternative solutions using 3rd-party software like SIOS for Windows are not validated yet for running SAP on Linux on Azure.</span></span>

#### <a name="high-availability-for-hello-sap-database-instance"></a><span data-ttu-id="f78bd-1474">Hög tillgänglighet för hello SAP-databasinstans</span><span class="sxs-lookup"><span data-stu-id="f78bd-1474">High Availability for hello SAP database instance</span></span>
<span data-ttu-id="f78bd-1475">hello SAP DBMS HA standardinstallation baseras på två DBMS virtuella datorer där DBMS hög tillgänglighet funktionen används tooreplicate data från hello active DBMS instans toohello andra VM till en passiv DBMS-instans.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1475">hello typical SAP DBMS HA setup is based on two DBMS VMs where DBMS high-availability functionality is used tooreplicate data from hello active DBMS instance toohello second VM into a passive DBMS instance.</span></span>

<span data-ttu-id="f78bd-1476">Hög tillgänglighet och katastrofåterställning recovery funktioner för DBMS i allmänna samt specifika DBMS beskrivs i hello [DBMS Deployment Guide][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1476">High Availability and Disaster recovery functionality for DBMS in general as well as specific DBMS are described in hello [DBMS Deployment Guide][dbms-guide].</span></span>

#### <a name="end-to-end-high-availability-for-hello-complete-sap-system"></a><span data-ttu-id="f78bd-1477">Hög tillgänglighet från slutpunkt till slutpunkt för hello hela SAP-systemet</span><span class="sxs-lookup"><span data-stu-id="f78bd-1477">End-to-End High Availability for hello Complete SAP System</span></span>
<span data-ttu-id="f78bd-1478">Här är två exempel på en fullständig SAP NetWeaver HA arkitektur i Azure - en för Windows och en för Linux.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1478">Here are two examples of a complete SAP NetWeaver HA architecture in Azure - one for Windows and one for Linux.</span></span>

<span data-ttu-id="f78bd-1479">Ohanterad endast: hello begreppen som förklaras nedan behöva toobe komprometteras lite när du distribuerar många SAP-system och hello antal distribuerade virtuella datorer överskrider hello maxgränsen Lagringskonton per prenumeration.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1479">Unmanaged disks only: hello concepts as explained below may need toobe compromised a bit when you deploy many SAP systems and hello number of VMs deployed are exceeding hello maximum limit of Storage Accounts per subscription.</span></span> <span data-ttu-id="f78bd-1480">I sådana fall måste virtuella hårddiskar för virtuella datorer toobe kombineras i ett Lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1480">In such cases, VHDs of VMs need toobe combined within one Storage Account.</span></span> <span data-ttu-id="f78bd-1481">Vanligtvis vill du göra det genom att kombinera virtuella hårddiskar för SAP programnivå virtuella datorer i olika SAP-system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1481">Usually you would do so by combining VHDs of SAP application layer VMs of different SAP systems.</span></span>  <span data-ttu-id="f78bd-1482">Vi också kombinera olika virtuella hårddiskar på en annan DBMS virtuella datorer i olika SAP-system i en Azure Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1482">We also combined different VHDs of different DBMS VMs of different SAP systems in one Azure Storage Account.</span></span> <span data-ttu-id="f78bd-1483">Därmed Tänk på hur hello IOPS-gränser för Azure Storage-konton (<https://azure.microsoft.com/documentation/articles/storage-scalability-targets>)</span><span class="sxs-lookup"><span data-stu-id="f78bd-1483">Thereby keeping hello IOPS limits of Azure Storage Accounts in mind (<https://azure.microsoft.com/documentation/articles/storage-scalability-targets>)</span></span>


##### <a name="windowslogowindows-ha-on-windows"></a>![Windows][Logo_Windows] <span data-ttu-id="f78bd-1485">Hög tillgänglighet i Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-1485">HA on Windows</span></span>
![SAP NetWeaver programarkitektur hög tillgänglighet med SQLServer i Azure IaaS][planning-guide-figure-3200]

<span data-ttu-id="f78bd-1487">följande Azure konstruktioner hello används för hello SAP NetWeaver system, toominimize effekten av infrastrukturen problem och värden korrigering:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1487">hello following Azure constructs are used for hello SAP NetWeaver system, toominimize impact by infrastructure issues and host patching:</span></span>

* <span data-ttu-id="f78bd-1488">hello hela systemet distribueras på Azure (obligatoriskt – DBMS layer, (A) SCS-instans och hela appen layer måste toorun i hello samma plats).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1488">hello complete system is deployed on Azure (required - DBMS layer, (A)SCS instance and complete application layer need toorun in hello same location).</span></span>
* <span data-ttu-id="f78bd-1489">hello hela systemet körs inom en Azure-prenumeration (krävs).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1489">hello complete system runs within one Azure subscription (required).</span></span>
* <span data-ttu-id="f78bd-1490">hello hela systemet körs inom ett virtuellt Azure-nätverk (krävs).</span><span class="sxs-lookup"><span data-stu-id="f78bd-1490">hello complete system runs within one Azure Virtual Network (required).</span></span>
* <span data-ttu-id="f78bd-1491">hello avgränsning av hello virtuella datorer i en SAP-systemet till tre Tillgänglighetsuppsättningar är möjligt med alla hello virtuella datorer som tillhör toohello samma virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1491">hello separation of hello VMs of one SAP system into three Availability Sets is possible even with all hello VMs belonging toohello same Virtual Network.</span></span>
* <span data-ttu-id="f78bd-1492">Alla virtuella datorer som kör DBMS instanser av en SAP-systemet är i en Tillgänglighetsuppsättning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1492">All VMs running DBMS instances of one SAP system are in one Availability Set.</span></span> <span data-ttu-id="f78bd-1493">Vi förutsätter att det finns fler än en virtuell dator som kör DBMS instanser per system eftersom interna DBMS-hög tillgänglighet som används för funktioner, t.ex. SQL Server AlwaysOn eller Oracle Data Guard.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1493">We assume that there is more than one VM running DBMS instances per system since native DBMS high availability features are used, like SQL Server AlwaysOn or Oracle Data Guard.</span></span>
* <span data-ttu-id="f78bd-1494">Alla virtuella datorer som kör DBMS instanser använda sina egna storage-konto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1494">All VMs running DBMS instances use their own storage account.</span></span> <span data-ttu-id="f78bd-1495">DBMS data och loggfilen filer replikeras från ett konto tooanother lagring lagringskonto med hjälp av DBMS hög tillgänglighet funktioner som synkroniserar hello-data.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1495">DBMS data and log files are replicated from one storage account tooanother storage account using DBMS high availability functions that synchronize hello data.</span></span> <span data-ttu-id="f78bd-1496">Inte finns en storage-konto kommer att en SQL-Windows-klusternod, men inte hello hela SQL Server-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1496">Unavailability of one storage account will cause unavailability of one SQL Windows cluster node, but not hello whole SQL Server service.</span></span>
* <span data-ttu-id="f78bd-1497">Alla virtuella datorer som kör (A) SCS-instans av en SAP-systemet är i en Tillgänglighetsuppsättning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1497">All VMs running (A)SCS instance of one SAP system are in one Availability Set.</span></span> <span data-ttu-id="f78bd-1498">En Failover Cluster WSFC (Windows Server) har konfigurerats i de virtuella datorerna tooprotect hello (A) SCS-instansen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1498">A Windows Server Failover Cluster (WSFC) is configured inside of those VMs tooprotect hello (A)SCS instance.</span></span>
* <span data-ttu-id="f78bd-1499">Alla virtuella datorer (A) SCS-instanser körs använder sina egna lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1499">All VMs running (A)SCS instances use their own storage account.</span></span> <span data-ttu-id="f78bd-1500">(A) SCS instansfiler och SAP globala mappen replikeras från ett konto tooanother lagring lagringskonto med SIOS DataKeeper replikering.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1500">(A)SCS instance files and SAP global folder are replicated from one storage account tooanother storage account using SIOS DataKeeper replication.</span></span> <span data-ttu-id="f78bd-1501">Otillgänglighet ett lagringskonto kommer inte finns något (A) SCS klusternoden, men inte hello hela (A) SCS-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1501">Unavailability of one storage account will cause unavailability of one (A)SCS Windows cluster node, but not hello whole (A)SCS service.</span></span>
* <span data-ttu-id="f78bd-1502">ALLA hello virtuella datorer som representerar hello SAP programnivå server finns i en tredje Tillgänglighetsuppsättning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1502">ALL hello VMs representing hello SAP application server layer are in a third Availability Set.</span></span>
* <span data-ttu-id="f78bd-1503">ALLA hello virtuella datorer som kör SAP-programservrar använder sina egna lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1503">ALL hello VMs running SAP application servers use their own storage account.</span></span> <span data-ttu-id="f78bd-1504">Inte finns en storage-konto kommer att en server för SAP-program, där andra SAP AS fortsätta toorun.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1504">Unavailability of one storage account will cause unavailability of one SAP application server, where other SAP AS continue toorun.</span></span>

<span data-ttu-id="f78bd-1505">hello följande figur illustrerade hello samma liggande med hjälp av hanterade diskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1505">hello following figure illustrated hello same landscape using Managed Disks.</span></span>

![SAP NetWeaver programarkitektur hög tillgänglighet med SQLServer i Azure IaaS][planning-guide-figure-3201]

##### <a name="linuxlogolinux-ha-on-linux"></a>![Linux][Logo_Linux] <span data-ttu-id="f78bd-1508">Hög tillgänglighet på Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-1508">HA on Linux</span></span>
<span data-ttu-id="f78bd-1509">hello-arkitekturen för SAP hög tillgänglighet på Linux i Azure är i praktiken hello desamma som för Windows som beskrivs ovan.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1509">hello architecture for SAP HA on Linux on Azure is basically hello same as for Windows as described above.</span></span> <span data-ttu-id="f78bd-1510">Jan 2016 det finns ingen SAP (A) SCS HA lösning stöds ännu på Linux på Azure</span><span class="sxs-lookup"><span data-stu-id="f78bd-1510">As of Jan 2016 there is no SAP (A)SCS HA solution supported yet on Linux on Azure</span></span>

<span data-ttu-id="f78bd-1511">Följaktligen som januari 2016 ett Azure-SAP-Linux-system kan uppnå hello samma tillgänglighet som en SAP Windows Azure-system på grund av saknade hög tillgänglighet för hello (A) SCS-instans och hello single instance SAP ASE databas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1511">As a consequence as of January 2016 an SAP-Linux-Azure system cannot achieve hello same availability as an SAP-Windows-Azure system because of missing HA for hello (A)SCS instance and hello single-instance SAP ASE database.</span></span>

### <span data-ttu-id="f78bd-1512"><a name="4e165b58-74ca-474f-a7f4-5e695a93204f"></a>Med hjälp av Autostart för SAP-instanser</span><span class="sxs-lookup"><span data-stu-id="f78bd-1512"><a name="4e165b58-74ca-474f-a7f4-5e695a93204f"></a>Using Autostart for SAP instances</span></span>
<span data-ttu-id="f78bd-1513">SAP erbjuds hello funktioner toostart SAP instanser omedelbart efter hello start hello OS inom hello VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1513">SAP offered hello functionality toostart SAP instances immediately after hello start of hello OS within hello VM.</span></span> <span data-ttu-id="f78bd-1514">Hej hur finns dokumenterade i SAP Knowledge Base-artikel [1909114].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1514">hello exact steps were documented in SAP Knowledge Base Article [1909114].</span></span> <span data-ttu-id="f78bd-1515">Dock SAP inte rekommenderar toouse hello längre inställningen eftersom det finns ingen kontroll hello efter instansen startas om, under förutsättning att mer än en virtuell dator har fått påverkas eller flera instanser körde per virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1515">However, SAP is not recommending toouse hello setting anymore because there is no control in hello order of instance restarts, assuming more than one VM got affected or multiple instances ran per VM.</span></span> <span data-ttu-id="f78bd-1516">Under förutsättning att ett typiskt Azure scenario för en SAP application server-instansen i ett VM- och hello en enda virtuell dator så småningom få startas, hello Autostart är inte mycket viktig och kan aktiveras genom att lägga till den här parametern:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1516">Assuming a typical Azure scenario of one SAP application server instance in a VM and hello case of a single VM eventually getting restarted, hello Autostart is not really critical and can be enabled by adding this parameter:</span></span>

    Autostart = 1

<span data-ttu-id="f78bd-1517">Starta profil för hello SAP ABAP och/eller Java-instansen till hello.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1517">Into hello start profile of hello SAP ABAP and/or Java instance.</span></span>

> [!NOTE]
> <span data-ttu-id="f78bd-1518">hello Autostart parameter kan ha vissa downfalls samt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1518">hello Autostart parameter can have some downfalls as well.</span></span> <span data-ttu-id="f78bd-1519">I större detalj hello hello parametern utlösare start av en SAP ABAP eller Java-instans när hello relaterade Windows-/ Linux-tjänsten för hello-instansen har startats.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1519">In more detail, hello parameter triggers hello start of an SAP ABAP or Java instance when hello related Windows/Linux service of hello instance is started.</span></span> <span data-ttu-id="f78bd-1520">Som är visserligen hello fallet när hello operativsystemet startas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1520">That certainly is hello case when hello operating system boots up.</span></span> <span data-ttu-id="f78bd-1521">Dock omstarter av SAP-tjänster finns också en gemensam sak för SAP programvara livscykelhantering funktioner som SUMMAN eller andra uppdateringar eller uppgraderingar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1521">However, restarts of SAP services are also a common thing for SAP Software Lifecycle Management functionality like SUM or other updates or upgrades.</span></span> <span data-ttu-id="f78bd-1522">En instans toobe startas om automatiskt i alla förväntas dessa funktioner inte.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1522">These functionalities are not expecting an instance toobe restarted automatically at all.</span></span> <span data-ttu-id="f78bd-1523">Hello Autostart parameter ska vara inaktiverat innan du kör sådana uppgifter.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1523">Therefore, hello Autostart parameter should be disabled before running such tasks.</span></span> <span data-ttu-id="f78bd-1524">hello Autostart parametern bör också inte användas för SAP-instanserna är klustrade som CI-ASCS/SCS.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1524">hello Autostart parameter also should not be used for SAP instances that are clustered, like ASCS/SCS/CI.</span></span>
>
>

<span data-ttu-id="f78bd-1525">Se ytterligare information om autostart för SAP instanser här:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1525">See additional information regarding autostart for SAP instances here:</span></span>

* [<span data-ttu-id="f78bd-1526">Starta/Stoppa SAP tillsammans med din Unix Server Starta/Stoppa</span><span class="sxs-lookup"><span data-stu-id="f78bd-1526">Start/Stop SAP along with your Unix Server Start/Stop</span></span>](http://scn.sap.com/community/unix/blog/2012/08/07/startstop-sap-along-with-your-unix-server-startstop)
* [<span data-ttu-id="f78bd-1527">Starta och stoppa SAP NetWeaver Hanteringsagenter</span><span class="sxs-lookup"><span data-stu-id="f78bd-1527">Starting and Stopping SAP NetWeaver Management Agents</span></span>](https://help.sap.com/saphelp_nwpi711/helpdata/en/49/9a15525b20423ee10000000a421938/content.htm)
* [<span data-ttu-id="f78bd-1528">Hur tooenable automatisk Start av HANA-databas</span><span class="sxs-lookup"><span data-stu-id="f78bd-1528">How tooenable auto Start of HANA Database</span></span>](http://www.freehanatutorials.com/2012/10/how-to-enable-auto-start-of-hana.html)

### <a name="larger-3-tier-sap-systems"></a><span data-ttu-id="f78bd-1529">Större 3-skikts SAP-system</span><span class="sxs-lookup"><span data-stu-id="f78bd-1529">Larger 3-Tier SAP systems</span></span>
<span data-ttu-id="f78bd-1530">Hög tillgänglighet aspekter av 3-skikts SAP konfigurationer fick beskrivs tidigare redan.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1530">High-Availability aspects of 3-Tier SAP configurations got discussed in earlier sections already.</span></span> <span data-ttu-id="f78bd-1531">Men hur system där hello DBMS-serverkrav är för stor toohave finns den i Azure, men hello SAP programnivå kan distribueras till Azure?</span><span class="sxs-lookup"><span data-stu-id="f78bd-1531">But what about systems where hello DBMS server requirements are too large toohave it located in Azure, but hello SAP application layer could be deployed into Azure?</span></span>

#### <a name="location-of-3-tier-sap-configurations"></a><span data-ttu-id="f78bd-1532">Platsen för 3-skikts SAP-konfigurationer</span><span class="sxs-lookup"><span data-stu-id="f78bd-1532">Location of 3-Tier SAP configurations</span></span>
<span data-ttu-id="f78bd-1533">Det är inte stöds toosplit hello programmet nivå sig själv eller hello program och DBMS nivå mellan lokala och Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1533">It is not supported toosplit hello application tier itself or hello application and DBMS tier between on-premises and Azure.</span></span> <span data-ttu-id="f78bd-1534">En SAP-systemet är antingen helt distribuerade lokalt eller i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1534">An SAP system is either completely deployed on-premises OR in Azure.</span></span> <span data-ttu-id="f78bd-1535">Det är inte heller stöds toohave vissa hello programservrar köras lokalt och vissa andra i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1535">It is also not supported toohave some of hello application servers run on-premises and some others in Azure.</span></span> <span data-ttu-id="f78bd-1536">Det är hello börja med hello diskussion.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1536">That is hello starting point of hello discussion.</span></span> <span data-ttu-id="f78bd-1537">Vi stöder inte toohave hello DBMS komponenterna i en SAP-system och hello SAP server programnivå distribueras i två olika Azure-regioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1537">We also are not supporting toohave hello DBMS components of an SAP system and hello SAP application server layer deployed in two different Azure Regions.</span></span> <span data-ttu-id="f78bd-1538">Till exempel DBMS i USA, västra och SAP programnivå i centrala USA.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1538">For example DBMS in West US and SAP application layer in Central US.</span></span> <span data-ttu-id="f78bd-1539">Orsaken till inte har stöd för sådana konfigurationer är hello latens känslighet hello SAP NetWeaver arkitektur.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1539">Reason for not supporting such configurations is hello latency sensitivity of hello SAP NetWeaver architecture.</span></span>

<span data-ttu-id="f78bd-1540">Dock över hello kursens förra året data center partner som har utvecklats samtidigt platser tooAzure regioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1540">However, over hello course of last year data center partners developed co-locations tooAzure Regions.</span></span> <span data-ttu-id="f78bd-1541">Dessa samtidigt platser är ofta i Azure data för mycket nära toohello fysiska resurser i en Azure-Region.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1541">These co-locations often are in very close proximity toohello physical Azure data centers within an Azure Region.</span></span> <span data-ttu-id="f78bd-1542">hello korta avstånd och anslutning av tillgångar i hello samplacering via ExpressRoute till Azure kan resultera i en latens som är mindre än 2 MS.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1542">hello short distance and connection of assets in hello co-location through ExpressRoute into Azure can result in a latency that is less than 2ms.</span></span> <span data-ttu-id="f78bd-1543">I sådana fall går toolocate hello DBMS layer (inklusive lagring SAN/NAS) i sådan samplacering och hello SAP programnivå i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1543">In such cases, toolocate hello DBMS layer (including storage SAN/NAS) in such a co-location and hello SAP application layer in Azure is possible.</span></span> <span data-ttu-id="f78bd-1544">Från och med Dec 2015 har vi inte alla distributioner som de som.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1544">As of Dec 2015, we don’t have any deployments like that.</span></span> <span data-ttu-id="f78bd-1545">Men olika kunder med icke-SAP application-distributioner använder redan dessa metoder.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1545">But different customers with non-SAP application deployments are using such approaches already.</span></span>

### <a name="offline-backup-of-sap-systems"></a><span data-ttu-id="f78bd-1546">Offline säkerhetskopiering av SAP-system</span><span class="sxs-lookup"><span data-stu-id="f78bd-1546">Offline Backup of SAP systems</span></span>
<span data-ttu-id="f78bd-1547">Beroende på hello SAP-konfigurationen valt (2 eller 3-nivåer) det kan vara en behöver tooback upp.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1547">Dependent on hello SAP configuration chosen (2-Tier or 3-Tier) there could be a need tooback up.</span></span> <span data-ttu-id="f78bd-1548">hello innehåll hello VM själva plus toohave en säkerhetskopia av hello-databasen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1548">hello content of hello VM itself plus toohave a backup of hello database.</span></span> <span data-ttu-id="f78bd-1549">hello DBMS-relaterade säkerhetskopior är förväntade toobe göras med metoderna i databasen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1549">hello DBMS-related backups are expected toobe done with database methods.</span></span> <span data-ttu-id="f78bd-1550">En detaljerad beskrivning av hello olika databaser, finns i [DBMS guiden][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1550">A detailed description for hello different databases, can be found in [DBMS Guide][dbms-guide].</span></span> <span data-ttu-id="f78bd-1551">Hej på andra sidan, hello SAP data kan säkerhetskopieras på ett sätt som offline (inklusive hello databasen samt innehåll) enligt beskrivningen i det här avsnittet online eller som beskrivs i nästa avsnitt om hello.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1551">On hello other hand, hello SAP data can be backed up in an offline manner (including hello database content as well) as described in this section or online as described in hello next section.</span></span>

<span data-ttu-id="f78bd-1552">Hej offlinesäkerhetskopiering kräver i praktiken en avstängning av hello VM via hello Azure-portalen och en kopia av hello VM basdisk samt alla anslutna diskar toohello VM.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1552">hello offline backup would basically require a shutdown of hello VM through hello Azure portal and a copy of hello base VM disk plus all attached disks toohello VM.</span></span> <span data-ttu-id="f78bd-1553">Detta skulle bevara en punkt i tiden bild av hello VM och dess associerade disk.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1553">This would preserve a point in time image of hello VM and its associated disk.</span></span> <span data-ttu-id="f78bd-1554">Det rekommenderas toocopy hello ”säkerhetskopiering” i en annan Azure Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1554">It is recommended toocopy hello ‘backups’ into a different Azure Storage Account.</span></span> <span data-ttu-id="f78bd-1555">Därför hello proceduren som beskrivs i kapitlet [kopierar diskar mellan Azure Storage-konton] [ planning-guide-5.4.2] i det här dokumentet skulle tillämpas.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1555">Hence hello procedure described in chapter [Copying disks between Azure Storage Accounts][planning-guide-5.4.2] of this document would apply.</span></span>
<span data-ttu-id="f78bd-1556">Förutom hello avstängning med hjälp av hello Azure portal en kan också göra det via Powershell eller CLI som beskrivs här: <https://azure.microsoft.com/documentation/articles/virtual-machines-deploy-rmtemplates-powershell/></span><span class="sxs-lookup"><span data-stu-id="f78bd-1556">Besides hello shutdown using hello Azure portal one can also do it via Powershell or CLI as described here: <https://azure.microsoft.com/documentation/articles/virtual-machines-deploy-rmtemplates-powershell/></span></span>

<span data-ttu-id="f78bd-1557">En återställning av det aktuella tillståndet skulle består av att ta bort hello grundläggande VM samt som hello ursprungliga diskar hello basera VM och monterade diskar, kopiera tillbaka hello sparade diskar toohello ursprungliga Storage-konto eller resurs gruppen för hanterade diskar och omdistribuera hello system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1557">A restore of that state would consist of deleting hello base VM as well as hello original disks of hello base VM and mounted disks, copying back hello saved disks toohello original Storage Account or resource group for managed disks and then redeploying hello system.</span></span>
<span data-ttu-id="f78bd-1558">Den här artikeln visar ett exempel hur tooscript detta bearbetning i Powershell: <http://www.westerndevs.com/azure-snapshots/></span><span class="sxs-lookup"><span data-stu-id="f78bd-1558">This article shows an example how tooscript this process in Powershell: <http://www.westerndevs.com/azure-snapshots/></span></span>

<span data-ttu-id="f78bd-1559">Kontrollera att tooinstall en ny SAP-licens eftersom återställer en säkerhetskopiering av VM som beskrivs ovan skapar en ny maskinvarunyckel.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1559">Please make sure tooinstall a new SAP license since restoring a VM backup as described above creates a new hardware key.</span></span>

### <a name="online-backup-of-an-sap-system"></a><span data-ttu-id="f78bd-1560">Onlinesäkerhetskopiering för en SAP-system</span><span class="sxs-lookup"><span data-stu-id="f78bd-1560">Online backup of an SAP system</span></span>
<span data-ttu-id="f78bd-1561">Säkerhetskopiering av hello DBMS utförs med DBMS-specifika metoder som beskrivs i hello [DBMS guiden][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1561">Backup of hello DBMS is performed with DBMS-specific methods as described in hello [DBMS Guide][dbms-guide].</span></span>

<span data-ttu-id="f78bd-1562">Andra virtuella datorer i hello SAP-system kan säkerhetskopieras med funktioner för säkerhetskopiering av Azure virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1562">Other VMs within hello SAP system can be backed up using Azure Virtual Machine Backup functionality.</span></span> <span data-ttu-id="f78bd-1563">Säkerhetskopiering av Azure virtuella datorer har fått introduceras tidigt i 2015 och under tiden är en standardmetod tooback av en fullständig VM i Azure.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1563">Azure Virtual Machine Backup got introduced early in 2015 and meanwhile is a standard method tooback up a complete VM in Azure.</span></span> <span data-ttu-id="f78bd-1564">Azure-säkerhetskopiering lagrar hello säkerhetskopieringar i Azure och gör en återställning av en virtuell dator igen.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1564">Azure Backup stores hello backups in Azure and allows a restore of a VM again.</span></span>

> [!NOTE]
> <span data-ttu-id="f78bd-1565">Från och med Dec 2015 med säkerhetskopiering behålls inte hello unika VM-ID som används för SAP-licensiering.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1565">As of Dec 2015 using VM Backup does NOT keep hello unique VM ID which is used for SAP licensing.</span></span> <span data-ttu-id="f78bd-1566">Detta innebär att en återställning från en säkerhetskopiering kräver installation av en ny nyckel för SAP-licens som hello återställts VM anses toobe en ny virtuell dator och inte en ersättning för det tidigare som har sparats.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1566">This means that a restore from a VM backup requires installation of a new SAP license key as hello restored VM is considered toobe a new VM and not a replacement of the former one which was saved.</span></span>
>
> ![Windows][Logo_Windows] <span data-ttu-id="f78bd-1568">Windows</span><span class="sxs-lookup"><span data-stu-id="f78bd-1568">Windows</span></span>
>
> <span data-ttu-id="f78bd-1569">Teoretiskt sett kan virtuella datorer som kör databaser kan säkerhetskopieras på ett konsekvent sätt om hello DBMS system stöder hello Windows VSS (Volume Shadow Copy Service <https://msdn.microsoft.com/library/windows/desktop/bb968832 (v=vs.85).aspx >) som, till exempel SQL Server har.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1569">Theoretically, VMs that run databases can be backed up in a consistent manner as well if hello DBMS system supports hello Windows VSS (Volume Shadow Copy Service <https://msdn.microsoft.com/library/windows/desktop/bb968832(v=vs.85).aspx>) as, for example, SQL Server does.</span></span>
> <span data-ttu-id="f78bd-1570">Tänk dock som baseras på Virtuella Azure-säkerhetskopieringar i tidpunkt återställer databaser inte är möjligt.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1570">However, be aware that based on Azure VM backups point-in-time restores of databases are not possible.</span></span> <span data-ttu-id="f78bd-1571">Därför vi rekommenderar tooperform säkerhetskopior av databaser med DBMS-funktioner i stället för att förlita dig på Azure VM Backup.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1571">Therefore, the recommendation is tooperform backups of databases with DBMS functionality instead of relying on Azure VM Backup.</span></span>
>
> <span data-ttu-id="f78bd-1572">tooget bekant med säkerhetskopiering av Azure virtuella datorer starta här: <https://docs.microsoft.com/azure/backup/backup-azure-vms>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1572">tooget familiar with Azure Virtual Machine Backup please start here: <https://docs.microsoft.com/azure/backup/backup-azure-vms>.</span></span>
>
> <span data-ttu-id="f78bd-1573">Andra kan toouse en kombination av Microsoft Data Protection Manager har installerats i en virtuell dator i Azure och Azure Backup för databaser för säkerhetskopiering/återställning.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1573">Other possibilities are toouse a combination of Microsoft Data Protection Manager installed in an Azure VM and Azure Backup to backup/restore databases.</span></span> <span data-ttu-id="f78bd-1574">Mer information hittar du här: <https://docs.microsoft.com/azure/backup/backup-azure-dpm-introduction>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1574">More information can be found here: <https://docs.microsoft.com/azure/backup/backup-azure-dpm-introduction>.</span></span>  
>
> ![Linux][Logo_Linux] <span data-ttu-id="f78bd-1576">Linux</span><span class="sxs-lookup"><span data-stu-id="f78bd-1576">Linux</span></span>
>
> <span data-ttu-id="f78bd-1577">Det finns inga motsvarande tooWindows VSS i Linux.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1577">There is no equivalent tooWindows VSS in Linux.</span></span> <span data-ttu-id="f78bd-1578">Endast filkonsekventa säkerhetskopior är därför möjligt men inte programkonsekvent säkerhetskopiering.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1578">Therefore only file-consistent backups are possible but not application-consistent backups.</span></span> <span data-ttu-id="f78bd-1579">hello SAP DBMS säkerhetskopieringen ska göras med hjälp av DBMS-funktioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1579">hello SAP DBMS backup should be done using DBMS functionality.</span></span> <span data-ttu-id="f78bd-1580">hello filsystem som innehåller hello SAP-relaterad data kan sparas, till exempel använder tar som beskrivs här: <http://help.sap.com/saphelp_nw70ehp2/helpdata/en/d3/c0da3ccbb04d35b186041ba6ac301f/content.htm></span><span class="sxs-lookup"><span data-stu-id="f78bd-1580">hello file system which includes hello SAP-related data can be saved, for example, using tar as described here: <http://help.sap.com/saphelp_nw70ehp2/helpdata/en/d3/c0da3ccbb04d35b186041ba6ac301f/content.htm></span></span>
>
>

### <a name="azure-as-dr-site-for-production-sap-landscapes"></a><span data-ttu-id="f78bd-1581">Azure som DR-plats för produktion SAP landskap</span><span class="sxs-lookup"><span data-stu-id="f78bd-1581">Azure as DR site for production SAP landscapes</span></span>
<span data-ttu-id="f78bd-1582">Eftersom Mid 2014 aktivera tillägg toovarious komponenterna för Hyper-V, System Center och Azure hello användning av Azure som DR-plats för virtuella datorer som körs lokalt baserat på Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1582">Since Mid 2014, extensions toovarious components around Hyper-V, System Center and Azure enable hello usage of Azure as DR site for VMs running on-premises based on Hyper-V.</span></span>

<span data-ttu-id="f78bd-1583">En blogg med information om hur toodeploy den här lösningen är dokumenteras här: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/11/19/protecting-sap-solutions-with-azure-site-recovery.aspx>.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1583">A blog detailing how toodeploy this solution is documented here: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/11/19/protecting-sap-solutions-with-azure-site-recovery.aspx>.</span></span>

## <a name="summary"></a><span data-ttu-id="f78bd-1584">Sammanfattning</span><span class="sxs-lookup"><span data-stu-id="f78bd-1584">Summary</span></span>
<span data-ttu-id="f78bd-1585">hello huvudpunkter med hög tillgänglighet för SAP-system i Azure är:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1585">hello key points of High Availability for SAP systems in Azure are:</span></span>

* <span data-ttu-id="f78bd-1586">Vid denna tidpunkt, hello SAP felpunkt kan inte skyddas exakt hello samma sätt som kan utföras i lokala distributioner.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1586">At this point in time, hello SAP single point of failure cannot be secured exactly hello same way as it can be done in on-premises deployments.</span></span> <span data-ttu-id="f78bd-1587">hello beror på att delade diskkluster ännu inte kunde genereras i Azure utan hello 3 tillverkare.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1587">hello reason is that Shared Disk clusters can’t yet be built in Azure without hello use of 3rd party software.</span></span>
* <span data-ttu-id="f78bd-1588">Du måste toouse DBMS-funktioner som inte är beroende av delad disk klustret teknik för hello DBMS lager.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1588">For hello DBMS layer you need toouse DBMS functionality that does not rely on shared disk cluster technology.</span></span> <span data-ttu-id="f78bd-1589">Information som finns dokumenterade i hello [DBMS guiden][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1589">Details are documented in hello [DBMS Guide][dbms-guide].</span></span>
* <span data-ttu-id="f78bd-1590">toominimize hello effekten av problem inom Feldomäner i hello Azure-infrastruktur eller värden underhåll, bör du använda Azure-Tillgänglighetsuppsättningar:</span><span class="sxs-lookup"><span data-stu-id="f78bd-1590">toominimize hello impact of problems within Fault Domains in hello Azure infrastructure or host maintenance, you should use Azure Availability Sets:</span></span>
  * <span data-ttu-id="f78bd-1591">Det rekommenderas toohave en Tillgänglighetsuppsättning för hello SAP programnivå.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1591">It is recommended toohave one Availability Set for hello SAP application layer.</span></span>
  * <span data-ttu-id="f78bd-1592">Det rekommenderas toohave som en separat Tillgänglighetsuppsättning för hello SAP DBMS lager.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1592">It is recommended toohave a separate Availability Set for hello SAP DBMS layer.</span></span>
  * <span data-ttu-id="f78bd-1593">Det rekommenderas inte tooapply hello samma tillgänglighetsuppsättning för virtuella datorer i olika SAP-system.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1593">It is NOT recommended tooapply hello same Availability set for VMs of different SAP systems.</span></span>
  * <span data-ttu-id="f78bd-1594">Det rekommenderas toouse hanteras Premiumdiskar.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1594">It is recommended toouse Premium Managed Disks.</span></span>
* <span data-ttu-id="f78bd-1595">För säkerhetskopiering hello SAP DBMS layer, kontrollera hello [DBMS guiden][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="f78bd-1595">For Backup purposes of hello SAP DBMS layer, please check hello [DBMS Guide][dbms-guide].</span></span>
* <span data-ttu-id="f78bd-1596">Säkerhetskopiera SAP dialogrutan instanser är lite meningsfullt eftersom det är normalt snabbare tooredeploy enkel dialogruta instanser.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1596">Backing up SAP Dialog instances makes little sense since it is usually faster tooredeploy simple dialog instances.</span></span>
* <span data-ttu-id="f78bd-1597">Säkerhetskopierar hello VM som innehåller hello global katalog hello SAP-systemet och med den alla hello profiler för olika instanser hello särskilt meningsfullt och bör utföras med Windows Säkerhetskopiering eller, till exempel tar på Linux.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1597">Backing up hello VM which contains hello global directory of hello SAP system and with it all hello profiles of hello different instances, does make sense and should be performed with Windows Backup or, for example, tar on Linux.</span></span> <span data-ttu-id="f78bd-1598">Eftersom det är skillnad mellan Windows Server 2008 (R2) och Windows Server 2012 (R2) som gör det enklare tooback med hello senare Windows Server släpper rekommenderar vi toorun Windows Server 2012 (R2) som gästoperativsystem för Windows.</span><span class="sxs-lookup"><span data-stu-id="f78bd-1598">Since there are differences between Windows Server 2008 (R2) and Windows Server 2012 (R2), which make it easier tooback up using hello more recent Windows Server releases, we recommend toorun Windows Server 2012 (R2) as Windows guest operating system.</span></span>
