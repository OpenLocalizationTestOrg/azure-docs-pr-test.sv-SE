---
title: aaaOptimize din Linux VM i Azure | Microsoft Docs
description: "Lär dig vissa optimering tips toomake att du har lagt upp ditt Linux VM för optimala prestanda på Azure"
keywords: Linux-dator, virtuella linux ubuntu virtuell dator
services: virtual-machines-linux
documentationcenter: 
author: rickstercdn
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: 8baa30c8-d40e-41ac-93d0-74e96fe18d4c
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: rclaus
ms.openlocfilehash: 89a9ac022928a2801a9a15e1c172340352745354
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="optimize-your-linux-vm-on-azure"></a><span data-ttu-id="bba09-104">Optimera din virtuella Linux-dator på Azure</span><span class="sxs-lookup"><span data-stu-id="bba09-104">Optimize your Linux VM on Azure</span></span>
<span data-ttu-id="bba09-105">Att skapa en Linux-dator (VM) är enkelt toodo från kommandoraden hello eller hello-portalen.</span><span class="sxs-lookup"><span data-stu-id="bba09-105">Creating a Linux virtual machine (VM) is easy toodo from hello command line or from hello portal.</span></span> <span data-ttu-id="bba09-106">Den här kursen visar hur tooensure du har ställt in toooptimize dess prestanda på hello Microsoft Azure-plattformen.</span><span class="sxs-lookup"><span data-stu-id="bba09-106">This tutorial shows you how tooensure you have set it up toooptimize its performance on hello Microsoft Azure platform.</span></span> <span data-ttu-id="bba09-107">Det här avsnittet använder en virtuell Ubuntu Server-dator, men du kan också skapa Linux virtuella datorer med hjälp av [egna avbildningar som mallar](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="bba09-107">This topic uses an Ubuntu Server VM, but you can also create Linux virtual machine using [your own images as templates](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="bba09-108">Krav</span><span class="sxs-lookup"><span data-stu-id="bba09-108">Prerequisites</span></span>
<span data-ttu-id="bba09-109">Det här avsnittet förutsätter att du redan har ett aktivt Azure-prenumeration ([gratis utvärderingsversion registrering](https://azure.microsoft.com/pricing/free-trial/)) och redan har etablerat en virtuell dator i din Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="bba09-109">This topic assumes you already have a working Azure subscription ([free trial signup](https://azure.microsoft.com/pricing/free-trial/)) and have already provisioned a VM into your Azure subscription.</span></span> <span data-ttu-id="bba09-110">Se till att du har hello senaste [Azure CLI 2.0](/cli/azure/install-az-cli2) installerad och inloggad tooyour Azure-prenumeration med [az inloggningen](/cli/azure/#login) innan du [skapa en virtuell dator](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="bba09-110">Make sure that you have hello latest [Azure CLI 2.0](/cli/azure/install-az-cli2) installed and logged in tooyour Azure subscription with [az login](/cli/azure/#login) before you [create a VM](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

## <a name="azure-os-disk"></a><span data-ttu-id="bba09-111">Azure OS-Disk</span><span class="sxs-lookup"><span data-stu-id="bba09-111">Azure OS Disk</span></span>
<span data-ttu-id="bba09-112">När du skapar en Linux VM i Azure har två diskar som är kopplade till den.</span><span class="sxs-lookup"><span data-stu-id="bba09-112">Once you create a Linux VM in Azure, it has two disks associated with it.</span></span> <span data-ttu-id="bba09-113">**/ dev/sda** är OS-disken **/dev/sdb** är tillfällig disken.</span><span class="sxs-lookup"><span data-stu-id="bba09-113">**/dev/sda** is your OS disk, **/dev/sdb** is your temporary disk.</span></span>  <span data-ttu-id="bba09-114">Använd inte hello huvudsakliga OS-disken (**/dev/sda**) för något annat än hello operativsystemet som den är optimerad för snabb VM starttiden och ger inte bra prestanda för din arbetsbelastning.</span><span class="sxs-lookup"><span data-stu-id="bba09-114">Do not use hello main OS disk (**/dev/sda**) for anything except hello operating system as it is optimized for fast VM boot time and does not provide good performance for your workloads.</span></span> <span data-ttu-id="bba09-115">Du vill tooattach en eller flera diskar tooyour VM tooget beständiga och optimerad lagring för dina data.</span><span class="sxs-lookup"><span data-stu-id="bba09-115">You want tooattach one or more disks tooyour VM tooget persistent and optimized storage for your data.</span></span> 

## <a name="adding-disks-for-size-and-performance-targets"></a><span data-ttu-id="bba09-116">Lägga till diskar för mål storlek och prestanda</span><span class="sxs-lookup"><span data-stu-id="bba09-116">Adding Disks for Size and Performance targets</span></span>
<span data-ttu-id="bba09-117">Baserat på hello VM-storlek, kan du koppla upp too16 ytterligare diskar på en A-Series, 32 diskar på D-serien och 64 diskar på en dator G-serien - varje in too1 TB i storlek.</span><span class="sxs-lookup"><span data-stu-id="bba09-117">Based on hello VM size, you can attach up too16 additional disks on an A-Series, 32 disks on a D-Series and 64 disks on a G-Series machine - each up too1 TB in size.</span></span> <span data-ttu-id="bba09-118">Du kan lägga till extra diskar som behövs per utrymme krav på och IOps.</span><span class="sxs-lookup"><span data-stu-id="bba09-118">You add extra disks as needed per your space and IOps requirements.</span></span> <span data-ttu-id="bba09-119">Varje disk har ett mål för prestanda för 500 IOps standardlagring och uppåt too5000 IOps per disk för Premium-lagring.</span><span class="sxs-lookup"><span data-stu-id="bba09-119">Each disk has a performance target of 500 IOps for Standard Storage and up too5000 IOps per disk for Premium Storage.</span></span>  <span data-ttu-id="bba09-120">Läs mer om Premium-lagring diskar [Premium-lagring: högpresterande lagring för virtuella Azure-datorer](../../storage/common/storage-premium-storage.md)</span><span class="sxs-lookup"><span data-stu-id="bba09-120">For more information about Premium Storage disks, see [Premium Storage: High-Performance Storage for Azure VMs](../../storage/common/storage-premium-storage.md)</span></span>

<span data-ttu-id="bba09-121">tooachieve hello högsta IOps på Premium-lagring diskar där cacheinställningarna har ställts in tooeither **ReadOnly** eller **ingen**, måste du inaktivera **barriärer** medan Montera hello file system i Linux.</span><span class="sxs-lookup"><span data-stu-id="bba09-121">tooachieve hello highest IOps on Premium Storage disks where their cache settings have been set tooeither **ReadOnly** or **None**, you must disable **barriers** while mounting hello file system in Linux.</span></span> <span data-ttu-id="bba09-122">Du behöver inte barriärer eftersom hello skriver tooPremium lagring säkerhetskopieras diskar är beständig för dessa inställningar för cachelagring.</span><span class="sxs-lookup"><span data-stu-id="bba09-122">You do not need barriers because hello writes tooPremium Storage backed disks are durable for these cache settings.</span></span>

* <span data-ttu-id="bba09-123">Om du använder **reiserFS**, inaktivera barriärer hello montera alternativet `barrier=none` (Använd för att aktivera barriärer `barrier=flush`)</span><span class="sxs-lookup"><span data-stu-id="bba09-123">If you use **reiserFS**, disable barriers using hello mount option `barrier=none` (For enabling barriers, use `barrier=flush`)</span></span>
* <span data-ttu-id="bba09-124">Om du använder **ext3/ext4**, inaktivera barriärer hello montera alternativet `barrier=0` (Använd för att aktivera barriärer `barrier=1`)</span><span class="sxs-lookup"><span data-stu-id="bba09-124">If you use **ext3/ext4**, disable barriers using hello mount option `barrier=0` (For enabling barriers, use `barrier=1`)</span></span>
* <span data-ttu-id="bba09-125">Om du använder **XFS**, inaktivera barriärer hello montera alternativet `nobarrier` (för att aktivera barriärer alternativet hello `barrier`)</span><span class="sxs-lookup"><span data-stu-id="bba09-125">If you use **XFS**, disable barriers using hello mount option `nobarrier` (For enabling barriers, use hello option `barrier`)</span></span>

## <a name="unmanaged-storage-account-considerations"></a><span data-ttu-id="bba09-126">Ohanterad lagring överväganden för användarkonton</span><span class="sxs-lookup"><span data-stu-id="bba09-126">Unmanaged storage account considerations</span></span>
<span data-ttu-id="bba09-127">hello standardåtgärden när du skapar en virtuell dator med hello Azure CLI 2.0 är toouse Azure hanterade diskar.</span><span class="sxs-lookup"><span data-stu-id="bba09-127">hello default action when you create a VM with hello Azure CLI 2.0 is toouse Azure Managed Disks.</span></span>  <span data-ttu-id="bba09-128">Diskarna som hanteras av hello Azure-plattformen och kräver inte någon förberedelse eller plats toostore dem.</span><span class="sxs-lookup"><span data-stu-id="bba09-128">These disks are handled by hello Azure platform and do not require any preparation or location toostore them.</span></span>  <span data-ttu-id="bba09-129">Ohanterad diskar krävs ett lagringskonto och har vissa ytterligare prestandaöverväganden.</span><span class="sxs-lookup"><span data-stu-id="bba09-129">Unmanaged disks require a storage account and have some additional performance considerations.</span></span>  <span data-ttu-id="bba09-130">Mer information om hanterade diskar finns i [Översikt över Azure Managed Disks](../windows/managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="bba09-130">For more information about managed disks, see [Azure Managed Disks overview](../windows/managed-disks-overview.md).</span></span>  <span data-ttu-id="bba09-131">hello följande avsnitt beskrivs prestandaöverväganden bara när du använder ohanterade diskar.</span><span class="sxs-lookup"><span data-stu-id="bba09-131">hello following section outlines performance considerations only when you use unmanaged disks.</span></span>  <span data-ttu-id="bba09-132">Hej igen, standard och rekommenderade lagringslösning är toouse hanterade diskar.</span><span class="sxs-lookup"><span data-stu-id="bba09-132">Again, hello default and recommended storage solution is toouse managed disks.</span></span>

<span data-ttu-id="bba09-133">Om du skapar en virtuell dator med ohanterad diskar, se till att du bifoga diskar från storage-konton som finns i hello samma region som din Virtuella tooensure närhet och minimerar Nätverksfördröjningen.</span><span class="sxs-lookup"><span data-stu-id="bba09-133">If you create a VM with unmanaged disks, make sure that you attach disks from storage accounts residing in hello same region as your VM tooensure close proximity and minimize network latency.</span></span>  <span data-ttu-id="bba09-134">Varje standardlagringskonto har högst 20 k IOps och kapaciteten 500 TB storlek.</span><span class="sxs-lookup"><span data-stu-id="bba09-134">Each Standard storage account has a maximum of 20k IOps and a 500 TB size capacity.</span></span>  <span data-ttu-id="bba09-135">Den här gränsen fungerar tooapproximately 40 belastat diskar inklusive hello OS-disk- och eventuella hårddiskar som du skapar.</span><span class="sxs-lookup"><span data-stu-id="bba09-135">This  limit works out tooapproximately 40 heavily used disks including both hello OS disk and any data disks you create.</span></span> <span data-ttu-id="bba09-136">Det finns ingen gräns för högsta IOps för Premium Storage-konton, men det finns en storleksgräns för 32 TB.</span><span class="sxs-lookup"><span data-stu-id="bba09-136">For Premium Storage accounts, there is no Maximum IOps limit but there is a 32 TB size limit.</span></span> 

<span data-ttu-id="bba09-137">När med hög IOps arbetsbelastningar och du har valt standardlagring för diskarna kan behöva toosplit hello diskar över flera storage-konton toomake säker på att du inte har nått hello 20 000 IOps begränsa för Standard Storage-konton.</span><span class="sxs-lookup"><span data-stu-id="bba09-137">When dealing with high IOps workloads and you have chosen Standard Storage for your disks, you might need toosplit hello disks across multiple storage accounts toomake sure you have not hit hello 20,000 IOps limit for Standard Storage accounts.</span></span> <span data-ttu-id="bba09-138">Den virtuella datorn kan innehålla en blandning av diskar från över olika lagringskonton och storage-konto typer tooachieve optimala konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="bba09-138">Your VM can contain a mix of disks from across different storage accounts and storage account types tooachieve your optimal configuration.</span></span>
 

## <a name="your-vm-temporary-drive"></a><span data-ttu-id="bba09-139">Den tillfälliga Virtuella enheten</span><span class="sxs-lookup"><span data-stu-id="bba09-139">Your VM Temporary drive</span></span>
<span data-ttu-id="bba09-140">Som standard när du skapar en virtuell dator Azure ger dig en OS-disk (**/dev/sda**) och en tillfällig disk (**/dev/sdb**).</span><span class="sxs-lookup"><span data-stu-id="bba09-140">By default when you create a VM, Azure provides you with an OS disk (**/dev/sda**) and a temporary disk (**/dev/sdb**).</span></span>  <span data-ttu-id="bba09-141">Alla ytterligare diskar som du lägger till visa upp **/dev/sdc**, **/dev/sdd**, **/dev/sde** och så vidare.</span><span class="sxs-lookup"><span data-stu-id="bba09-141">All additional disks you add show up as **/dev/sdc**, **/dev/sdd**, **/dev/sde** and so on.</span></span> <span data-ttu-id="bba09-142">Alla data på hårddisken tillfälliga (**/dev/sdb**) är inte beständiga och kan gå förlorad om specifika händelser som VM storleksändring Omdistributionen, eller underhåll tvingar fram en omstart av den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="bba09-142">All data on your temporary disk (**/dev/sdb**) is not durable, and can be lost if specific events like VM Resizing, redeployment, or maintenance forces a restart of your VM.</span></span>  <span data-ttu-id="bba09-143">hello storlek och typ av tillfälliga disken är relaterade toohello VM-storlek som du väljer vid tidpunkten för distribution.</span><span class="sxs-lookup"><span data-stu-id="bba09-143">hello size and type of your temporary disk is related toohello VM size you chose at deployment time.</span></span> <span data-ttu-id="bba09-144">Alla hello premium storlek virtuella datorer (DS, G och DS_V2-serien) hello temporärkatalog backas upp av en lokal SSD för ytterligare prestanda för in too48k IOps.</span><span class="sxs-lookup"><span data-stu-id="bba09-144">All of hello premium size VMs (DS, G, and DS_V2 series) hello temporary drive are backed by a local SSD for additional performance of up too48k IOps.</span></span> 

## <a name="linux-swap-file"></a><span data-ttu-id="bba09-145">Växlingsfil för Linux</span><span class="sxs-lookup"><span data-stu-id="bba09-145">Linux Swap File</span></span>
<span data-ttu-id="bba09-146">Om din Azure VM är från en Ubuntu eller virtuell CoreOS-avbildning, kan du använda CustomData toosend en moln-config toocloud initiering.</span><span class="sxs-lookup"><span data-stu-id="bba09-146">If your Azure VM is from an Ubuntu or CoreOS image, then you can use CustomData toosend a cloud-config toocloud-init.</span></span> <span data-ttu-id="bba09-147">Om du [överföra en anpassad avbildning Linux](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) som använder molnet init, du också konfigurera växlingen partitioner som använder molnet initiering.</span><span class="sxs-lookup"><span data-stu-id="bba09-147">If you [uploaded a custom Linux image](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) that uses cloud-init, you also configure swap partitions using cloud-init.</span></span>

<span data-ttu-id="bba09-148">På Ubuntu molnet bilder, måste du använda molnet init tooconfigure hello växlingen partition.</span><span class="sxs-lookup"><span data-stu-id="bba09-148">On Ubuntu Cloud Images, you must use cloud-init tooconfigure hello swap partition.</span></span> <span data-ttu-id="bba09-149">Mer information finns i [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span><span class="sxs-lookup"><span data-stu-id="bba09-149">For more information, see [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span></span>

<span data-ttu-id="bba09-150">För bilder utan stöd för molnet init har VM-avbildningar som distribueras från hello Azure Marketplace en virtuell Linux-agenten integrerad med hello OS.</span><span class="sxs-lookup"><span data-stu-id="bba09-150">For images without cloud-init support, VM images deployed from hello Azure Marketplace have a VM Linux Agent integrated with hello OS.</span></span> <span data-ttu-id="bba09-151">Den här agenten kan hello VM toointeract med olika Azure-tjänster.</span><span class="sxs-lookup"><span data-stu-id="bba09-151">This agent allows hello VM toointeract with various Azure services.</span></span> <span data-ttu-id="bba09-152">Under förutsättning att du har distribuerat en standardiserad avbildning från hello Azure Marketplace, behöver du toodo konfigurera hello följande toocorrectly Linux växlingsfilens inställningar:</span><span class="sxs-lookup"><span data-stu-id="bba09-152">Assuming you have deployed a standard image from hello Azure Marketplace, you would need toodo hello following toocorrectly configure your Linux swap file settings:</span></span>

<span data-ttu-id="bba09-153">Leta upp och ändra två poster i hello **/etc/waagent.conf** fil.</span><span class="sxs-lookup"><span data-stu-id="bba09-153">Locate and modify two entries in hello **/etc/waagent.conf** file.</span></span> <span data-ttu-id="bba09-154">De styr hello förekomsten av en dedikerad växlingsfil och storleken på växlingsfilen hello.</span><span class="sxs-lookup"><span data-stu-id="bba09-154">They control hello existence of a dedicated swap file and size of hello swap file.</span></span> <span data-ttu-id="bba09-155">hello-parametrar som du söker toomodify är `ResourceDisk.EnableSwap=N` och`ResourceDisk.SwapSizeMB=0`</span><span class="sxs-lookup"><span data-stu-id="bba09-155">hello parameters you are looking toomodify are `ResourceDisk.EnableSwap=N` and `ResourceDisk.SwapSizeMB=0`</span></span> 

<span data-ttu-id="bba09-156">Ändra hello parametrar toohello följande inställningar:</span><span class="sxs-lookup"><span data-stu-id="bba09-156">Change hello parameters toohello following settings:</span></span>

* <span data-ttu-id="bba09-157">ResourceDisk.EnableSwap=Y</span><span class="sxs-lookup"><span data-stu-id="bba09-157">ResourceDisk.EnableSwap=Y</span></span>
* <span data-ttu-id="bba09-158">ResourceDisk.SwapSizeMB={size i MB toomeet dina behov}</span><span class="sxs-lookup"><span data-stu-id="bba09-158">ResourceDisk.SwapSizeMB={size in MB toomeet your needs}</span></span> 

<span data-ttu-id="bba09-159">När du har gjort hello ändra måste toorestart hello waagent eller starta om Linux VM-tooreflect ändringarna.</span><span class="sxs-lookup"><span data-stu-id="bba09-159">Once you have made hello change, you need toorestart hello waagent or restart your Linux VM tooreflect those changes.</span></span>  <span data-ttu-id="bba09-160">Du vet hello ändringar har införts och en växlingsfil har skapats när du använder hello `free` kommandot tooview ledigt utrymme.</span><span class="sxs-lookup"><span data-stu-id="bba09-160">You know hello changes have been implemented and a swap file has been created when you use hello `free` command tooview free space.</span></span> <span data-ttu-id="bba09-161">hello följande exempel har en 512MB växlingsfil som skapas när du ändrar hello **waagent.conf** fil:</span><span class="sxs-lookup"><span data-stu-id="bba09-161">hello following example has a 512MB swap file created as a result of modifying hello **waagent.conf** file:</span></span>

```bash
azuseruser@myVM:~$ free
            total       used       free     shared    buffers     cached
Mem:       3525156     804168    2720988        408       8428     633192
-/+ buffers/cache:     162548    3362608
Swap:       524284          0     524284
```

## <a name="io-scheduling-algorithm-for-premium-storage"></a><span data-ttu-id="bba09-162">I/o-schemaläggning algoritm för Premium-lagring</span><span class="sxs-lookup"><span data-stu-id="bba09-162">I/O scheduling algorithm for Premium Storage</span></span>
<span data-ttu-id="bba09-163">Med hello 2.6.18 Linux kernel har hello standard-i/o: schemaläggning-algoritmen ändrats från tidsgräns tooCFQ (helt verkliga queuing algoritmen).</span><span class="sxs-lookup"><span data-stu-id="bba09-163">With hello 2.6.18 Linux kernel, hello default I/O scheduling algorithm was changed from Deadline tooCFQ (Completely fair queuing algorithm).</span></span> <span data-ttu-id="bba09-164">Det finns försumbar skillnad i prestanda skillnader mellan CFQ och tidsgräns för direktåtkomst i/o-mönster.</span><span class="sxs-lookup"><span data-stu-id="bba09-164">For random access I/O patterns, there is negligible difference in performance differences between CFQ and Deadline.</span></span>  <span data-ttu-id="bba09-165">För SSD-baserad diskar där hello mönster för disk-i/o är huvudsakligen sekventiella, växla tillbaka toohello NOOP eller tidsgräns algoritmen kan uppnå högre i/o-prestanda.</span><span class="sxs-lookup"><span data-stu-id="bba09-165">For SSD-based disks where hello disk I/O pattern is predominantly sequential, switching back toohello NOOP or Deadline algorithm can achieve better I/O performance.</span></span>

### <a name="view-hello-current-io-scheduler"></a><span data-ttu-id="bba09-166">Visa hello aktuella i/o-Schemaläggaren</span><span class="sxs-lookup"><span data-stu-id="bba09-166">View hello current I/O scheduler</span></span>
<span data-ttu-id="bba09-167">Använd hello följande kommando:</span><span class="sxs-lookup"><span data-stu-id="bba09-167">Use hello following command:</span></span>  

```bash
cat /sys/block/sda/queue/scheduler
```

<span data-ttu-id="bba09-168">Du se följande utdata som visar hello aktuella Schemaläggaren.</span><span class="sxs-lookup"><span data-stu-id="bba09-168">You see following output, which indicates hello current scheduler.</span></span>  

```bash
noop [deadline] cfq
```

### <a name="change-hello-current-device-devsda-of-io-scheduling-algorithm"></a><span data-ttu-id="bba09-169">Ändra hello aktuell enhet (/ dev/sda) av i/o schemaläggning algoritm</span><span class="sxs-lookup"><span data-stu-id="bba09-169">Change hello current device (/dev/sda) of I/O scheduling algorithm</span></span>
<span data-ttu-id="bba09-170">Använd hello följande kommandon:</span><span class="sxs-lookup"><span data-stu-id="bba09-170">Use hello following commands:</span></span>  

```bash
azureuser@myVM:~$ sudo su -
root@myVM:~# echo "noop" >/sys/block/sda/queue/scheduler
root@myVM:~# sed -i 's/GRUB_CMDLINE_LINUX=""/GRUB_CMDLINE_LINUX_DEFAULT="quiet splash elevator=noop"/g' /etc/default/grub
root@myVM:~# update-grub
```

> [!NOTE]
> <span data-ttu-id="bba09-171">Tillämpa den här inställningen för **/dev/sda** fristående är inte användbar.</span><span class="sxs-lookup"><span data-stu-id="bba09-171">Applying this setting for **/dev/sda** alone is not useful.</span></span> <span data-ttu-id="bba09-172">Ange på alla datadiskar där sekventiella i/o dominerar hello i/o-mönster.</span><span class="sxs-lookup"><span data-stu-id="bba09-172">Set on all data disks where sequential I/O dominates hello I/O pattern.</span></span>  

<span data-ttu-id="bba09-173">Du bör se hello följande utdata, vilket betyder att **grub.cfg** har återskapats och den hello standard Schemaläggaren har uppdaterats tooNOOP.</span><span class="sxs-lookup"><span data-stu-id="bba09-173">You should see hello following output, indicating that **grub.cfg** has been rebuilt successfully and that hello default scheduler has been updated tooNOOP.</span></span>  

```bash
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-3.13.0-34-generic
Found initrd image: /boot/initrd.img-3.13.0-34-generic
Found linux image: /boot/vmlinuz-3.13.0-32-generic
Found initrd image: /boot/initrd.img-3.13.0-32-generic
Found memtest86+ image: /memtest86+.elf
Found memtest86+ image: /memtest86+.bin
done
```

<span data-ttu-id="bba09-174">För hello Redhat distribution familj behöver du bara hello följande kommando:</span><span class="sxs-lookup"><span data-stu-id="bba09-174">For hello Redhat distribution family, you only need hello following command:</span></span>   

```bash
echo 'echo noop >/sys/block/sda/queue/scheduler' >> /etc/rc.local
```

## <a name="using-software-raid-tooachieve-higher-iops"></a><span data-ttu-id="bba09-175">Med hjälp av programvara RAID tooachieve högre I / Ops</span><span class="sxs-lookup"><span data-stu-id="bba09-175">Using Software RAID tooachieve higher I/Ops</span></span>
<span data-ttu-id="bba09-176">Om din arbetsbelastning behöver fler IOps än vad en enda disk, måste toouse programvara RAID-konfiguration av flera diskar.</span><span class="sxs-lookup"><span data-stu-id="bba09-176">If your workloads require more IOps than a single disk can provide, you need toouse a software RAID configuration of multiple disks.</span></span> <span data-ttu-id="bba09-177">Eftersom Azure utför redan disk återhämtning i hello lokala fabric-lagret, kan du uppnå hello högsta prestanda från en konfiguration med RAID-0 striping.</span><span class="sxs-lookup"><span data-stu-id="bba09-177">Because Azure already performs disk resiliency at hello local fabric layer, you achieve hello highest level of performance from a RAID-0 striping configuration.</span></span>  <span data-ttu-id="bba09-178">Etablera och skapa diskar i hello Azure-miljön och bifogar dem tooyour Linux VM innan partitionering, formatering och montera hello enheter.</span><span class="sxs-lookup"><span data-stu-id="bba09-178">Provision and create disks in hello Azure environment and attach them tooyour Linux VM before partitioning, formatting and mounting hello drives.</span></span>  <span data-ttu-id="bba09-179">Mer information om hur du konfigurerar en RAID konfiguration av programvara på din Linux VM i azure finns i hello  **[konfigurera programvara RAID på Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)**  dokumentet.</span><span class="sxs-lookup"><span data-stu-id="bba09-179">More details on configuring a software RAID setup on your Linux VM in azure can be found in hello **[Configuring Software RAID on Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)** document.</span></span>

## <a name="next-steps"></a><span data-ttu-id="bba09-180">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="bba09-180">Next Steps</span></span>
<span data-ttu-id="bba09-181">Kom ihåg att med alla optimering diskussioner du behöver tooperform tester före och efter varje ändring toomeasure hello påverkan hello ändringen har.</span><span class="sxs-lookup"><span data-stu-id="bba09-181">Remember, as with all optimization discussions, you need tooperform tests before and after each change toomeasure hello impact hello change has.</span></span>  <span data-ttu-id="bba09-182">Optimering är en steg-för-steg-process som har olika resultat på olika datorer i din miljö.</span><span class="sxs-lookup"><span data-stu-id="bba09-182">Optimization is a step by step process that has different results across different machines in your environment.</span></span>  <span data-ttu-id="bba09-183">Vad fungerar för en konfiguration fungerar inte för andra.</span><span class="sxs-lookup"><span data-stu-id="bba09-183">What works for one configuration may not work for others.</span></span>

<span data-ttu-id="bba09-184">Vissa länkar tooadditional resurser:</span><span class="sxs-lookup"><span data-stu-id="bba09-184">Some useful links tooadditional resources:</span></span> 

* [<span data-ttu-id="bba09-185">Premium Storage: Lagring med höga prestanda för Azure Virtual Machines-arbetsbelastningar</span><span class="sxs-lookup"><span data-stu-id="bba09-185">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](../../storage/common/storage-premium-storage.md)
* [<span data-ttu-id="bba09-186">Användarhandboken för Azure Linux-Agent</span><span class="sxs-lookup"><span data-stu-id="bba09-186">Azure Linux Agent User Guide</span></span>](../windows/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="bba09-187">Optimera MySQL prestanda på virtuella Azure Linux-datorer</span><span class="sxs-lookup"><span data-stu-id="bba09-187">Optimizing MySQL Performance on Azure Linux VMs</span></span>](classic/optimize-mysql.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)
* [<span data-ttu-id="bba09-188">Konfigurera programvarubaserad RAID på Linux</span><span class="sxs-lookup"><span data-stu-id="bba09-188">Configure Software RAID on Linux</span></span>](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

