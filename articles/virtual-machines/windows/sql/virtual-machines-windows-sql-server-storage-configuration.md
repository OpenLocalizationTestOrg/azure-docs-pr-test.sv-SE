---
title: "Konfiguration för lagring för virtuella SQL Server-datorer | Microsoft Docs"
description: "Det här avsnittet beskrivs hur Azure konfigurerar lagring för virtuella SQL Server-datorer under etableringen (Resource Manager-modellen). Här beskrivs också hur du konfigurerar lagring för din befintliga SQL Server-datorer."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 169fc765-3269-48fa-83f1-9fe3e4e40947
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 01/31/2017
ms.author: ninarn
ms.openlocfilehash: f10bac1189c94a581487d19fc0cc129acec6a636
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/29/2017
---
# <a name="storage-configuration-for-sql-server-vms"></a><span data-ttu-id="1e5c5-104">Konfiguration för lagring för virtuella SQL Server-datorer</span><span class="sxs-lookup"><span data-stu-id="1e5c5-104">Storage configuration for SQL Server VMs</span></span>
<span data-ttu-id="1e5c5-105">När du konfigurerar en avbildning av virtuell dator för SQL Server i Azure hjälper portalen till att automatisera konfigurationen för lagring.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-105">When you configure a SQL Server virtual machine image in Azure, the Portal helps to automate your storage configuration.</span></span> <span data-ttu-id="1e5c5-106">Detta inkluderar ansluter lagringsenheter till den virtuella datorn, vilket gör att lagring tillgänglig för SQL Server och konfigurera den att optimera för dina specifika krav.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-106">This includes attaching storage to the VM, making that storage accessible to SQL Server, and configuring it to optimize for your specific performance requirements.</span></span>

<span data-ttu-id="1e5c5-107">Det här avsnittet beskrivs hur Azure konfigurerar lagring för din SQL Server-datorer både under etableringen och för befintliga virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-107">This topic explains how Azure configures storage for your SQL Server VMs both during provisioning and for existing VMs.</span></span> <span data-ttu-id="1e5c5-108">Den här konfigurationen baseras på den [prestandarelaterade metodtips](virtual-machines-windows-sql-performance.md) för Azure virtuella datorer som kör SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-108">This configuration is based on the [performance best practices](virtual-machines-windows-sql-performance.md) for Azure VMs running SQL Server.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

## <a name="prerequisites"></a><span data-ttu-id="1e5c5-109">Krav</span><span class="sxs-lookup"><span data-stu-id="1e5c5-109">Prerequisites</span></span>
<span data-ttu-id="1e5c5-110">Om du vill använda inställningarna för automatisk lagring, kräver den virtuella datorn följande egenskaper:</span><span class="sxs-lookup"><span data-stu-id="1e5c5-110">To use the automated storage configuration settings, your virtual machine requires the following characteristics:</span></span>

* <span data-ttu-id="1e5c5-111">Etablerade med en [bild av SQL Server-galleriet](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span><span class="sxs-lookup"><span data-stu-id="1e5c5-111">Provisioned with a [SQL Server gallery image](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span></span>
* <span data-ttu-id="1e5c5-112">Använder den [Resource Manager-distributionsmodellen](../../../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="1e5c5-112">Uses the [Resource Manager deployment model](../../../azure-resource-manager/resource-manager-deployment-model.md).</span></span>
* <span data-ttu-id="1e5c5-113">Använder [Premiumlagring](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="1e5c5-113">Uses [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span>

## <a name="new-vms"></a><span data-ttu-id="1e5c5-114">Nya virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="1e5c5-114">New VMs</span></span>
<span data-ttu-id="1e5c5-115">I följande avsnitt beskrivs hur du konfigurerar lagring för nya virtuella datorer för SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-115">The following sections describe how to configure storage for new SQL Server virtual machines.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="1e5c5-116">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="1e5c5-116">Azure Portal</span></span>
<span data-ttu-id="1e5c5-117">Etablera en virtuell Azure-dator med en SQL Server-galleriet bild kan du konfigurera lagring för den nya virtuella datorn automatiskt.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-117">When provisioning an Azure VM using a SQL Server gallery image, you can choose to automatically configure the storage for your new VM.</span></span> <span data-ttu-id="1e5c5-118">Du kan ange lagringsstorlek, prestandabegränsningarna och Arbetsbelastningstyp.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-118">You specify the storage size, performance limits, and workload type.</span></span> <span data-ttu-id="1e5c5-119">Följande skärmbild visar bladet Storage konfiguration används under SQL VM etablering.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-119">The following screenshot shows the Storage configuration blade used during SQL VM provisioning.</span></span>

![Konfigurera SQL Server VM lagring under etableringen.](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-provisioning.png)

<span data-ttu-id="1e5c5-121">Azure utför följande konfigurationsuppgifterna för lagring när du har skapat den virtuella datorn baserat på dina val:</span><span class="sxs-lookup"><span data-stu-id="1e5c5-121">Based on your choices, Azure performs the following storage configuration tasks after creating the VM:</span></span>

* <span data-ttu-id="1e5c5-122">Skapar och bifogar premium lagringsdiskar data till den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-122">Creates and attaches premium storage data disks to the virtual machine.</span></span>
* <span data-ttu-id="1e5c5-123">Konfigurerar datadiskar för att komma åt SQL-servern.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-123">Configures the data disks to be accessible to SQL Server.</span></span>
* <span data-ttu-id="1e5c5-124">Konfigurerar datadiskar i lagringspoolen baserat på de angivna storlek och prestanda (IOPS och genomströmning) krav.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-124">Configures the data disks into a storage pool based on the specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="1e5c5-125">Associerar lagringspoolen med en ny enhet på den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-125">Associates the storage pool with a new drive on the virtual machine.</span></span>
* <span data-ttu-id="1e5c5-126">Optimerar nya enheten baserat på angivna belastningstyp (datalagring, överföringsprocesser eller Allmänt).</span><span class="sxs-lookup"><span data-stu-id="1e5c5-126">Optimizes this new drive based on your specified workload type (Data warehousing, Transactional processing, or General).</span></span>

<span data-ttu-id="1e5c5-127">Mer information om hur Azure konfigurerar inställningar för lagring finns i [lagring konfigurationsavsnittet](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="1e5c5-127">For further details on how Azure configures storage settings, see the [Storage configuration section](#storage-configuration).</span></span> <span data-ttu-id="1e5c5-128">En fullständig genomgång av hur du skapar en SQL Server-VM i Azure Portal finns [självstudiekursen om etablering](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="1e5c5-128">For a full walkthrough of how to create a SQL Server VM in the Azure Portal, see [the provisioning tutorial](virtual-machines-windows-portal-sql-server-provision.md).</span></span>

### <a name="resource-manage-templates"></a><span data-ttu-id="1e5c5-129">Resursen hantera mallar</span><span class="sxs-lookup"><span data-stu-id="1e5c5-129">Resource Manage templates</span></span>
<span data-ttu-id="1e5c5-130">Om du använder följande Resource Manager-mallar är kopplade två diskar för premium-data som standard med ingen konfigurationen för lagringspooler.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-130">If you use the following Resource Manager templates, two premium data disks are attached by default, with no storage pool configuration.</span></span> <span data-ttu-id="1e5c5-131">Du kan dock anpassa mallarna för att ändra antalet premiumdiskar för data som är kopplade till den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-131">However, you can customize these templates to change the number of premium data disks that are attached to the virtual machine.</span></span>

* [<span data-ttu-id="1e5c5-132">Skapa virtuell dator med automatisk säkerhetskopiering</span><span class="sxs-lookup"><span data-stu-id="1e5c5-132">Create VM with Automated Backup</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autobackup)
* [<span data-ttu-id="1e5c5-133">Skapa virtuell dator med inställningen automatisk uppdatering</span><span class="sxs-lookup"><span data-stu-id="1e5c5-133">Create VM with Automated Patching</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autopatching)
* [<span data-ttu-id="1e5c5-134">Skapa virtuell dator med AKV-integreringen</span><span class="sxs-lookup"><span data-stu-id="1e5c5-134">Create VM with AKV Integration</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-keyvault)

## <a name="existing-vms"></a><span data-ttu-id="1e5c5-135">Befintliga virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="1e5c5-135">Existing VMs</span></span>
<span data-ttu-id="1e5c5-136">För befintliga SQL Server virtuella datorer kan ändra du vissa Lagringsinställningar i Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-136">For existing SQL Server VMs, you can modify some storage settings in the Azure portal.</span></span> <span data-ttu-id="1e5c5-137">Välj den virtuella datorn, gå till området Inställningar och välj SQL Server-konfigurationsfilen.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-137">Select your VM, go to the Settings area, and then select SQL Server Configuration.</span></span> <span data-ttu-id="1e5c5-138">Konfiguration av SQL Server-bladet visar den nuvarande lagringsanvändningen av den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-138">The SQL Server Configuration blade shows the current storage usage of your VM.</span></span> <span data-ttu-id="1e5c5-139">Alla enheter som finns på den virtuella datorn visas i det här diagrammet.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-139">All drives that exist on your VM are displayed in this chart.</span></span> <span data-ttu-id="1e5c5-140">För varje enhet visar lagringsutrymmet i fyra avsnitt:</span><span class="sxs-lookup"><span data-stu-id="1e5c5-140">For each drive, the storage space displays in four sections:</span></span>

* <span data-ttu-id="1e5c5-141">SQL-data</span><span class="sxs-lookup"><span data-stu-id="1e5c5-141">SQL data</span></span>
* <span data-ttu-id="1e5c5-142">SQL-logg</span><span class="sxs-lookup"><span data-stu-id="1e5c5-142">SQL log</span></span>
* <span data-ttu-id="1e5c5-143">Andra (icke-SQL-lagring)</span><span class="sxs-lookup"><span data-stu-id="1e5c5-143">Other (non-SQL storage)</span></span>
* <span data-ttu-id="1e5c5-144">Tillgänglig</span><span class="sxs-lookup"><span data-stu-id="1e5c5-144">Available</span></span>

![Konfigurera lagring för befintliga SQLServer-dator](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-existing.png)

<span data-ttu-id="1e5c5-146">Klicka på Redigera om du vill konfigurera lagring för att lägga till en ny enhet eller utöka en befintlig enhet ovanför diagrammet.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-146">To configure the storage to add a new drive or extend an existing drive, click the Edit link above the chart.</span></span>

<span data-ttu-id="1e5c5-147">De konfigurationsalternativ som du ser varierar beroende på om du har använt funktionen innan.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-147">The configuration options that you see varies depending on whether you have used this feature before.</span></span> <span data-ttu-id="1e5c5-148">När du använder för första gången måste ange du din lagringskraven för en ny enhet.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-148">When using for the first time, you can specify your storage requirements for a new drive.</span></span> <span data-ttu-id="1e5c5-149">Om du tidigare har använt funktionen för att skapa en enhet kan du utöka lagring för den här enheten.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-149">If you previously used this feature to create a drive, you can choose to extend that drive’s storage.</span></span>

### <a name="use-for-the-first-time"></a><span data-ttu-id="1e5c5-150">Använd för första gången</span><span class="sxs-lookup"><span data-stu-id="1e5c5-150">Use for the first time</span></span>
<span data-ttu-id="1e5c5-151">Om det är första gången du använder den här funktionen kan du ange lagringsgränser för storlek och prestanda för en ny enhet.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-151">If it is your first time using this feature, you can specify the storage size and performance limits for a new drive.</span></span> <span data-ttu-id="1e5c5-152">Det här upplevelsen liknar vad som visas vid etablering tid.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-152">This experience is similar to what you would see at provisioning time.</span></span> <span data-ttu-id="1e5c5-153">Den största skillnaden är att du inte får ange vilken Arbetsbelastningstyp.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-153">The main difference is that you are not permitted to specify the workload type.</span></span> <span data-ttu-id="1e5c5-154">Den här begränsningen kan störa eventuella befintliga SQL Server-konfigurationer på den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-154">This restriction prevents disrupting any existing SQL Server configurations on the virtual machine.</span></span>

![Konfigurera SQL Server Storage skjutreglage](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-usage-sliders.png)

<span data-ttu-id="1e5c5-156">Azure skapar en ny enhet baserat på dina specifikationer.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-156">Azure creates a new drive based on your specifications.</span></span> <span data-ttu-id="1e5c5-157">I det här scenariot utför Azure storage följande konfigurationsåtgärder:</span><span class="sxs-lookup"><span data-stu-id="1e5c5-157">In this scenario, Azure performs the following storage configuration tasks:</span></span>

* <span data-ttu-id="1e5c5-158">Skapar och bifogar premium lagringsdiskar data till den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-158">Creates and attaches premium storage data disks to the virtual machine.</span></span>
* <span data-ttu-id="1e5c5-159">Konfigurerar datadiskar för att komma åt SQL-servern.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-159">Configures the data disks to be accessible to SQL Server.</span></span>
* <span data-ttu-id="1e5c5-160">Konfigurerar datadiskar i lagringspoolen baserat på de angivna storlek och prestanda (IOPS och genomströmning) krav.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-160">Configures the data disks into a storage pool based on the specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="1e5c5-161">Associerar lagringspoolen med en ny enhet på den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-161">Associates the storage pool with a new drive on the virtual machine.</span></span>

<span data-ttu-id="1e5c5-162">Mer information om hur Azure konfigurerar inställningar för lagring finns i [lagring konfigurationsavsnittet](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="1e5c5-162">For further details on how Azure configures storage settings, see the [Storage configuration section](#storage-configuration).</span></span>

### <a name="add-a-new-drive"></a><span data-ttu-id="1e5c5-163">Lägg till en ny enhet</span><span class="sxs-lookup"><span data-stu-id="1e5c5-163">Add a new drive</span></span>
<span data-ttu-id="1e5c5-164">Om du redan har konfigurerat lagring på SQL Server-VM öppnar expanderande lagring två nya alternativ.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-164">If you have already configured storage on your SQL Server VM, expanding storage brings up two new options.</span></span> <span data-ttu-id="1e5c5-165">Det första alternativet är att lägga till en ny enhet som kan öka prestanda på den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-165">The first option is to add a new drive, which can increase the performance level of your VM.</span></span>

![Lägg till en ny enhet till en SQL-VM](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-add-new-drive.png)

<span data-ttu-id="1e5c5-167">När du lägger till enheten måste du utföra vissa extra manuell konfiguration för att uppnå prestandaökning.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-167">However, after adding the drive, you must perform some extra manual configuration to achieve the performance increase.</span></span>

### <a name="extend-the-drive"></a><span data-ttu-id="1e5c5-168">Utöka enheten</span><span class="sxs-lookup"><span data-stu-id="1e5c5-168">Extend the drive</span></span>
<span data-ttu-id="1e5c5-169">Ett annat alternativ för att expandera lagring är att utöka den befintliga enheten.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-169">The other option for expanding storage is to extend the existing drive.</span></span> <span data-ttu-id="1e5c5-170">Det här alternativet ökar tillgängligt lagringsutrymme för enheten, men det ökar inte prestanda.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-170">This option increases the available storage for your drive, but it does not increase performance.</span></span> <span data-ttu-id="1e5c5-171">Du kan inte ändra antalet kolumner när lagringspoolen har skapats med lagringspooler.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-171">With storage pools, you cannot alter the number of columns after the storage pool is created.</span></span> <span data-ttu-id="1e5c5-172">Antalet kolumner som anger antalet parallella skrivningar, som kan vara stripe över datadiskar.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-172">The number of columns determines the number of parallel writes, which can be striped across the data disks.</span></span> <span data-ttu-id="1e5c5-173">Därför kan inte några datadiskar som lagts till öka prestanda.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-173">Therefore, any added data disks cannot increase performance.</span></span> <span data-ttu-id="1e5c5-174">De kan bara ange mer lagringsutrymme för data som skrivs.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-174">They can only provide more storage for the data being written.</span></span> <span data-ttu-id="1e5c5-175">Den här begränsningen innebär också att antalet kolumner när du utökar enheten anger det minsta antalet datadiskar som du kan lägga till.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-175">This limitation also means that, when extending the drive, the number of columns determines the minimum number of data disks that you can add.</span></span> <span data-ttu-id="1e5c5-176">Om du skapar en lagringspool med fyra datadiskar är antalet kolumner därför också fyra.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-176">So if you create a storage pool with four data disks, the number of columns is also four.</span></span> <span data-ttu-id="1e5c5-177">När du utökar lagringen, måste du lägga till minst fyra datadiskar.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-177">Any time you extend the storage, you must add at least four data disks.</span></span>

![Utöka en enhet för en SQL-VM](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-extend-a-drive.png)

## <a name="storage-configuration"></a><span data-ttu-id="1e5c5-179">Storage-konfiguration</span><span class="sxs-lookup"><span data-stu-id="1e5c5-179">Storage configuration</span></span>
<span data-ttu-id="1e5c5-180">Det här avsnittet innehåller en referens för att konfigurationsändringarna för lagring som Azure utför automatiskt under SQL VM etablering eller konfigurationen för Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-180">This section provides a reference for the storage configuration changes that Azure automatically performs during SQL VM provisioning or configuration in the Azure Portal.</span></span>

* <span data-ttu-id="1e5c5-181">Om du har valt färre än två TBs lagring för den virtuella datorn, Azure inte att skapa en lagringspool.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-181">If you have selected fewer than two TBs of storage for your VM, Azure does not create a storage pool.</span></span>
* <span data-ttu-id="1e5c5-182">Om du har valt minst två TBs lagring för den virtuella datorn, konfigurerar en lagringspool i Azure.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-182">If you have selected at least two TBs of storage for your VM, Azure configures a storage pool.</span></span> <span data-ttu-id="1e5c5-183">Nästa avsnitt i det här avsnittet innehåller information om konfigurationen för lagringspooler.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-183">The next section of this topic provides the details of the storage pool configuration.</span></span>
* <span data-ttu-id="1e5c5-184">Automatisk alltid lagringskonfiguration använder [premiumlagring](../../../storage/common/storage-premium-storage.md) P30 datadiskar.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-184">Automatic storage configuration always uses [premium storage](../../../storage/common/storage-premium-storage.md) P30 data disks.</span></span> <span data-ttu-id="1e5c5-185">Det är därför en 1:1-mappning mellan din valda antalet terabyte och antalet datadiskar som är kopplade till den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-185">Consequently, there is a 1:1 mapping between your selected number of Terabytes and the number of data disks attached to your VM.</span></span>

<span data-ttu-id="1e5c5-186">Information om priser finns i [Storage-priser](https://azure.microsoft.com/pricing/details/storage) sida på den **disklagring** fliken.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-186">For pricing information, see the [Storage pricing](https://azure.microsoft.com/pricing/details/storage) page on the **Disk Storage** tab.</span></span>

### <a name="creation-of-the-storage-pool"></a><span data-ttu-id="1e5c5-187">Skapandet av lagringspoolen</span><span class="sxs-lookup"><span data-stu-id="1e5c5-187">Creation of the storage pool</span></span>
<span data-ttu-id="1e5c5-188">Azure har följande inställningar för att skapa lagringspoolen på SQL Server-datorer.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-188">Azure uses the following settings to create the storage pool on SQL Server VMs.</span></span>

| <span data-ttu-id="1e5c5-189">Inställning</span><span class="sxs-lookup"><span data-stu-id="1e5c5-189">Setting</span></span> | <span data-ttu-id="1e5c5-190">Värde</span><span class="sxs-lookup"><span data-stu-id="1e5c5-190">Value</span></span> |
| --- | --- |
| <span data-ttu-id="1e5c5-191">Stripe-storlek</span><span class="sxs-lookup"><span data-stu-id="1e5c5-191">Stripe size</span></span> |<span data-ttu-id="1e5c5-192">256 KB (datalagring;) 64 KB (transaktionell)</span><span class="sxs-lookup"><span data-stu-id="1e5c5-192">256 KB (Data warehousing); 64 KB (Transactional)</span></span> |
| <span data-ttu-id="1e5c5-193">Diskstorlekar</span><span class="sxs-lookup"><span data-stu-id="1e5c5-193">Disk sizes</span></span> |<span data-ttu-id="1e5c5-194">1 TB</span><span class="sxs-lookup"><span data-stu-id="1e5c5-194">1 TB each</span></span> |
| <span data-ttu-id="1e5c5-195">Cache</span><span class="sxs-lookup"><span data-stu-id="1e5c5-195">Cache</span></span> |<span data-ttu-id="1e5c5-196">Läsa</span><span class="sxs-lookup"><span data-stu-id="1e5c5-196">Read</span></span> |
| <span data-ttu-id="1e5c5-197">Allokeringsstorlek</span><span class="sxs-lookup"><span data-stu-id="1e5c5-197">Allocation size</span></span> |<span data-ttu-id="1e5c5-198">Storlek på 64 KB NTFS allokeringsenhet</span><span class="sxs-lookup"><span data-stu-id="1e5c5-198">64 KB NTFS allocation unit size</span></span> |
| <span data-ttu-id="1e5c5-199">Snabbmeddelanden filen initiering</span><span class="sxs-lookup"><span data-stu-id="1e5c5-199">Instant file initialization</span></span> |<span data-ttu-id="1e5c5-200">Enabled</span><span class="sxs-lookup"><span data-stu-id="1e5c5-200">Enabled</span></span> |
| <span data-ttu-id="1e5c5-201">Låsa sidor i minnet</span><span class="sxs-lookup"><span data-stu-id="1e5c5-201">Lock pages in memory</span></span> |<span data-ttu-id="1e5c5-202">Enabled</span><span class="sxs-lookup"><span data-stu-id="1e5c5-202">Enabled</span></span> |
| <span data-ttu-id="1e5c5-203">Återställning</span><span class="sxs-lookup"><span data-stu-id="1e5c5-203">Recovery</span></span> |<span data-ttu-id="1e5c5-204">Enkel återställning (ingen återhämtning)</span><span class="sxs-lookup"><span data-stu-id="1e5c5-204">Simple recovery (no resiliency)</span></span> |
| <span data-ttu-id="1e5c5-205">Antal kolumner</span><span class="sxs-lookup"><span data-stu-id="1e5c5-205">Number of columns</span></span> |<span data-ttu-id="1e5c5-206">Antalet datadiskar<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="1e5c5-206">Number of data disks<sup>1</sup></span></span> |
| <span data-ttu-id="1e5c5-207">TempDB-plats</span><span class="sxs-lookup"><span data-stu-id="1e5c5-207">TempDB location</span></span> |<span data-ttu-id="1e5c5-208">Lagras på datadiskar<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="1e5c5-208">Stored on data disks<sup>2</sup></span></span> |

<span data-ttu-id="1e5c5-209"><sup>1</sup> när lagringspoolen har skapats kan du inte ändra antalet kolumner i lagringspoolen.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-209"><sup>1</sup> After the storage pool is created, you cannot alter the number of columns in the storage pool.</span></span>

<span data-ttu-id="1e5c5-210"><sup>2</sup> den här inställningen gäller bara den första enheten som du skapar med konfigurationen för lagring.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-210"><sup>2</sup> This setting only applies to the first drive you create using the storage configuration feature.</span></span>

## <a name="workload-optimization-settings"></a><span data-ttu-id="1e5c5-211">Inställningar för optimering av arbetsbelastning</span><span class="sxs-lookup"><span data-stu-id="1e5c5-211">Workload optimization settings</span></span>
<span data-ttu-id="1e5c5-212">I följande tabell beskrivs tre arbetsbelastning typen alternativen och deras motsvarande optimeringar:</span><span class="sxs-lookup"><span data-stu-id="1e5c5-212">The following table describes the three workload type options available and their corresponding optimizations:</span></span>

| <span data-ttu-id="1e5c5-213">Arbetsbelastningstyp</span><span class="sxs-lookup"><span data-stu-id="1e5c5-213">Workload type</span></span> | <span data-ttu-id="1e5c5-214">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="1e5c5-214">Description</span></span> | <span data-ttu-id="1e5c5-215">Optimeringar</span><span class="sxs-lookup"><span data-stu-id="1e5c5-215">Optimizations</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1e5c5-216">**Allmänt**</span><span class="sxs-lookup"><span data-stu-id="1e5c5-216">**General**</span></span> |<span data-ttu-id="1e5c5-217">Standardinställning som stöder de flesta arbetsbelastningar</span><span class="sxs-lookup"><span data-stu-id="1e5c5-217">Default setting that supports most workloads</span></span> |<span data-ttu-id="1e5c5-218">Ingen</span><span class="sxs-lookup"><span data-stu-id="1e5c5-218">None</span></span> |
| <span data-ttu-id="1e5c5-219">**Transaktionell bearbetning**</span><span class="sxs-lookup"><span data-stu-id="1e5c5-219">**Transactional processing**</span></span> |<span data-ttu-id="1e5c5-220">Optimerar lagringen för traditionella OLTP-arbetsbelastningar</span><span class="sxs-lookup"><span data-stu-id="1e5c5-220">Optimizes the storage for traditional database OLTP workloads</span></span> |<span data-ttu-id="1e5c5-221">Spårningsflagga 1117</span><span class="sxs-lookup"><span data-stu-id="1e5c5-221">Trace Flag 1117</span></span><br/><span data-ttu-id="1e5c5-222">Spårningsflagga 1118</span><span class="sxs-lookup"><span data-stu-id="1e5c5-222">Trace Flag 1118</span></span> |
| <span data-ttu-id="1e5c5-223">**Datalagring**</span><span class="sxs-lookup"><span data-stu-id="1e5c5-223">**Data warehousing**</span></span> |<span data-ttu-id="1e5c5-224">Optimerar lagringen för analys- och rapporteringsarbetsbelastningar</span><span class="sxs-lookup"><span data-stu-id="1e5c5-224">Optimizes the storage for analytic and reporting workloads</span></span> |<span data-ttu-id="1e5c5-225">Spårningsflagga 610</span><span class="sxs-lookup"><span data-stu-id="1e5c5-225">Trace Flag 610</span></span><br/><span data-ttu-id="1e5c5-226">Spårningsflagga 1117</span><span class="sxs-lookup"><span data-stu-id="1e5c5-226">Trace Flag 1117</span></span> |

> [!NOTE]
> <span data-ttu-id="1e5c5-227">Du kan bara ange vilken arbetsbelastning när du etablerar en virtuell SQL-dator genom att markera den i konfigurationssteget för lagring.</span><span class="sxs-lookup"><span data-stu-id="1e5c5-227">You can only specify the workload type when you provision a SQL virtual machine by selecting it in the storage configuration step.</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="1e5c5-228">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="1e5c5-228">Next steps</span></span>
<span data-ttu-id="1e5c5-229">Andra avsnitt relaterade till SQL Server som körs i virtuella Azure-datorer, se [SQL Server på Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1e5c5-229">For other topics related to running SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
