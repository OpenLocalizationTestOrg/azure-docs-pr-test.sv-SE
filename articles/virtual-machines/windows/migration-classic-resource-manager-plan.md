---
title: "Planera för migrering av IaaS-resurser från klassiska till Azure Resource Manager | Microsoft Docs"
description: "Planera för migrering av IaaS-resurser från klassiska till Azure Resource Manager"
services: virtual-machines-windows
documentationcenter: 
author: singhkays
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 78492a2c-2694-4023-a7b8-c97d3708dcb7
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: article
ms.date: 04/01/2017
ms.author: kasing
ms.openlocfilehash: db23eba9ff8debd5268cd02bc4f37c4e6501bfac
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="planning-for-migration-of-iaas-resources-from-classic-to-azure-resource-manager"></a><span data-ttu-id="ba9d9-103">Planera för migrering av IaaS-resurser från klassiska till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-103">Planning for migration of IaaS resources from classic to Azure Resource Manager</span></span>
<span data-ttu-id="ba9d9-104">Azure Resource Manager erbjuder många häpnadsväckande funktioner, är det viktigt att du har planerat din migrering resa att göra det för att gå smidigt.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-104">While Azure Resource Manager offers many amazing features, it is critical to plan out your migration journey to make sure things go smoothly.</span></span> <span data-ttu-id="ba9d9-105">Utgifter tid om hur du planerar säkerställer att det inte uppstår problem vid körning av migreringsaktiviteter.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-105">Spending time on planning will ensure that you do not encounter issues while executing migration activities.</span></span>

> [!NOTE]
> <span data-ttu-id="ba9d9-106">Följande riktlinjer bidragit kraftigt till Azure Customer Advisory team och Molnlösning arkitekter som arbetar med kunder på migrera stora miljöer.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-106">The following guidance was heavily contributed to by the Azure Customer Advisory team and Cloud Solution architects working with customers on migrating large environments.</span></span> <span data-ttu-id="ba9d9-107">Som det här dokumentet kommer att fortsätta få uppdaterade när nya mönster av lyckade framkommer, så kontrollera tillbaka från tid till tid om det finns några nya rekommendationer.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-107">As such this document will continue to get updated as new patterns of success emerge, so check back from time to time to see if there are any new recommendations.</span></span>

<span data-ttu-id="ba9d9-108">Det finns fyra allmänna faser transporten migrering:</span><span class="sxs-lookup"><span data-stu-id="ba9d9-108">There are four general phases of the migration journey:</span></span><br>

![Migrering faser](../media/virtual-machines-windows-migration-classic-resource-manager/plan-labtest-migrate-beyond.png)

## <a name="plan"></a><span data-ttu-id="ba9d9-110">Planera</span><span class="sxs-lookup"><span data-stu-id="ba9d9-110">Plan</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="ba9d9-111">Teknisk information och nackdelar</span><span class="sxs-lookup"><span data-stu-id="ba9d9-111">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="ba9d9-112">Beroende på dina tekniska krav storlek geografiska områden och operativa metoder, kanske du vill överväga:</span><span class="sxs-lookup"><span data-stu-id="ba9d9-112">Depending on your technical requirements size, geographies and operational practices, you might want to consider:</span></span>

1. <span data-ttu-id="ba9d9-113">Varför önskas Azure Resource Manager för din organisation?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-113">Why is Azure Resource Manager desired for your organization?</span></span>  <span data-ttu-id="ba9d9-114">Vad är affärsskäl för migrering?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-114">What are the business reasons for a migration?</span></span>
2. <span data-ttu-id="ba9d9-115">Vilka är de tekniska orsakerna för Azure Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-115">What are the technical reasons for Azure Resource Manager?</span></span>  <span data-ttu-id="ba9d9-116">Vad (eventuella) ytterligare Azure-tjänster vill du använda?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-116">What (if any) additional Azure services would you like to leverage?</span></span>
3. <span data-ttu-id="ba9d9-117">Vilka program (eller uppsättningar av virtuella datorer) ingår i migreringen?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-117">Which application (or sets of virtual machines) is included in the migration?</span></span>
4. <span data-ttu-id="ba9d9-118">Vilka scenarier stöds med migreringen API?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-118">Which scenarios are supported with the migration API?</span></span>  <span data-ttu-id="ba9d9-119">Granska de [stöds inte funktioner och konfigurationer](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations).</span><span class="sxs-lookup"><span data-stu-id="ba9d9-119">Review the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations).</span></span>
5. <span data-ttu-id="ba9d9-120">Kommer dina operativa team nu stöd för program/virtuella datorer i Azure Resource Manager och klassisk?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-120">Will your operational teams now support applications/VMs in both Classic and Azure Resource Manager?</span></span>
6. <span data-ttu-id="ba9d9-121">Hur (om alls) Azure Resource Manager ändras din VM-distribution, hantering, övervakning och rapportering av processer?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-121">How (if at all) does Azure Resource Manager change your VM deployment, management, monitoring, and reporting processes?</span></span>  <span data-ttu-id="ba9d9-122">Behöver skripten distributionen uppdateras?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-122">Do your deployment scripts need to be updated?</span></span>
7. <span data-ttu-id="ba9d9-123">Vad är meddelanden som planerar att meddela berörda personer (användare, ägare och infrastrukturens ägare)?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-123">What is the communications plan to alert stakeholders (end users, application owners, and infrastructure owners)?</span></span>
8. <span data-ttu-id="ba9d9-124">Beroende på komplexiteten i miljön, ska det vara en underhållsperiod att programmet är inte tillgänglig för slutanvändare och programägarna?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-124">Depending on the complexity of the environment, should there be a maintenance period where the application is unavailable to end users and to application owners?</span></span>  <span data-ttu-id="ba9d9-125">I så fall, hur länge?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-125">If so, for how long?</span></span>
9. <span data-ttu-id="ba9d9-126">Vad är utbildningsplan så intressenter är kunniga och proficient i Azure Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-126">What is the training plan to ensure stakeholders are knowledgeable and proficient in Azure Resource Manager?</span></span>
10. <span data-ttu-id="ba9d9-127">Vad är programhantering eller hantering av projektplanen för migrering?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-127">What is the program management or project management plan for the migration?</span></span>
11. <span data-ttu-id="ba9d9-128">Vad är tidslinjer för migrering av Azure Resource Manager och andra relaterade teknik väg maps?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-128">What are the timelines for the Azure Resource Manager migration and other related technology road maps?</span></span>  <span data-ttu-id="ba9d9-129">De optimalt justeras?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-129">Are they optimally aligned?</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="ba9d9-130">Mönster för att lyckas</span><span class="sxs-lookup"><span data-stu-id="ba9d9-130">Patterns of success</span></span>

<span data-ttu-id="ba9d9-131">Lyckad kunder ha detaljerade planer där föregående frågorna beskrivs, dokumenteras och omfattas.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-131">Successful customers have detailed plans where the preceding questions are discussed, documented and governed.</span></span>  <span data-ttu-id="ba9d9-132">Kontrollera migreringen planer brett förmedlas till sponsorer och intressenter.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-132">Ensure the migration plans are broadly communicated to sponsors and stakeholders.</span></span>  <span data-ttu-id="ba9d9-133">Förse dig med kunskap om migreringsalternativ; Vi rekommenderar starkt att du läsa igenom det här dokumentet som nedan.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-133">Equip yourself with knowledge about your migration options; reading through this migration document set below is highly recommended.</span></span>

* [<span data-ttu-id="ba9d9-134">Översikt över plattformar som stöds migrering av IaaS-resurser från klassiska till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-134">Overview of platform-supported migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ba9d9-135">Tekniska ingående om plattformen stöds från klassiska till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-135">Technical deep dive on platform-supported migration from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-deep-dive.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ba9d9-136">Planera för migrering av IaaS-resurser från klassisk till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-136">Planning for migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-plan.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ba9d9-137">Använda PowerShell för att migrera IaaS-resurser från klassiska till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-137">Use PowerShell to migrate IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-ps.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ba9d9-138">Använda CLI för att migrera IaaS-resurser från klassiska till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-138">Use CLI to migrate IaaS resources from classic to Azure Resource Manager</span></span>](../linux/migration-classic-resource-manager-cli.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ba9d9-139">Community-verktyg för att hjälpa till med migrering av IaaS-resurser från klassiska till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-139">Community tools for assisting with migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-community-tools.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ba9d9-140">Granska de vanligaste migreringsfelen</span><span class="sxs-lookup"><span data-stu-id="ba9d9-140">Review most common migration errors</span></span>](migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ba9d9-141">Granska de vanligaste frågorna om migrera IaaS-resurser från klassiska till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-141">Review the most frequently asked questions about migrating IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-faq.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="ba9d9-142">Fallgropar att undvika</span><span class="sxs-lookup"><span data-stu-id="ba9d9-142">Pitfalls to avoid</span></span>

- <span data-ttu-id="ba9d9-143">Det gick inte att planera.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-143">Failure to plan.</span></span>  <span data-ttu-id="ba9d9-144">Teknik-stegen för migreringen är beprövade och resultatet är förutsägbara.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-144">The technology steps of this migration are proven and the outcome is predictable.</span></span>
- <span data-ttu-id="ba9d9-145">Antagandet att plattformen stöds migrering API tar hänsyn till alla scenarier.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-145">Assumption that the platform supported migration API will account for all scenarios.</span></span> <span data-ttu-id="ba9d9-146">Läs den [stöds inte funktioner och konfigurationer](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) att förstå vilka scenarier som stöds.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-146">Read the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) to understand what scenarios are supported.</span></span>
- <span data-ttu-id="ba9d9-147">Planera inte potentiella avbrott i programmet för slutanvändare.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-147">Not planning potential application outage for end users.</span></span>  <span data-ttu-id="ba9d9-148">Planera otillräckligt med buffert för att varna rätt slutanvändare kan vara otillgänglig programmet tid.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-148">Plan enough buffer to adequately warn end users of potentially unavailable application time.</span></span>


## <a name="lab-test"></a><span data-ttu-id="ba9d9-149">Laboratorietest</span><span class="sxs-lookup"><span data-stu-id="ba9d9-149">Lab Test</span></span>

<span data-ttu-id="ba9d9-150">**Replikera din miljö och gör en testmigrering**</span><span class="sxs-lookup"><span data-stu-id="ba9d9-150">**Replicate your environment and do a test migration**</span></span>
  > [!NOTE]
  > <span data-ttu-id="ba9d9-151">Exakt replikering av din befintliga miljö körs med hjälp av ett community-bidragit verktyg som inte stöds officiellt av Microsoft-supporten.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-151">Exact replication of your existing environment is executed by using a community-contributed tool which is not officially supported by Microsoft Support.</span></span> <span data-ttu-id="ba9d9-152">Därför är det en **valfria** steg, men det är det bästa sättet att ta reda på problem utan att röra din produktionsmiljöer.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-152">Therefore, it is an **optional** step but it is the best way to find out issues without touching your production environments.</span></span> <span data-ttu-id="ba9d9-153">Om verktyget en community-bidragit inte är ett alternativ, sedan läsa om Abort-Validera/Förbered testsändning rekommendationen nedan.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-153">If using a community-contributed tool is not an option, then read about the Validate/Prepare/Abort Dry Run recommendation below.</span></span>
  >

  <span data-ttu-id="ba9d9-154">Utföra ett laboratorietest för ditt exakt scenario (beräkning, nätverk och lagring) är det bästa sättet att säkerställa en smidig migrering.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-154">Conducting a lab test of your exact scenario (compute, networking, and storage) is the best way to ensure a smooth migration.</span></span> <span data-ttu-id="ba9d9-155">Detta bidrar till:</span><span class="sxs-lookup"><span data-stu-id="ba9d9-155">This will help ensure:</span></span>

  - <span data-ttu-id="ba9d9-156">Ett helt separata labb eller en befintlig icke-produktionsmiljö vill testa.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-156">A wholly separate lab or an existing non-production environment to test.</span></span> <span data-ttu-id="ba9d9-157">Vi rekommenderar en helt separata labb som kan migreras flera gånger och förstörande kan ändras.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-157">We recommend a wholly separate lab that can be migrated repeatedly and can be destructively modified.</span></span>  <span data-ttu-id="ba9d9-158">Skript för att samla in/hydrat metadata från de verkliga prenumerationerna i listan nedan.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-158">Scripts to collect/hydrate metadata from the real subscriptions are listed below.</span></span>
  - <span data-ttu-id="ba9d9-159">Det är en bra idé att skapa labbet i en separat prenumeration.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-159">It's a good idea to create the lab in a separate subscription.</span></span> <span data-ttu-id="ba9d9-160">Det beror på att labbet torn flera gånger, och med en separat, isolerade prenumeration minskar risken att något riktigt att av misstag tas bort.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-160">The reason is that the lab will be torn down repeatedly, and having a separate, isolated subscription will reduce the chance that something real will get accidentally deleted.</span></span>

  <span data-ttu-id="ba9d9-161">Detta kan åstadkommas med hjälp av verktyget AsmMetadataParser.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-161">This can be accomplished by using the AsmMetadataParser tool.</span></span> [<span data-ttu-id="ba9d9-162">Läs mer om det här verktyget här</span><span class="sxs-lookup"><span data-stu-id="ba9d9-162">Read more about this tool here</span></span>](https://github.com/Azure/classic-iaas-resourcemanager-migration/tree/master/AsmToArmMigrationApiToolset)

### <a name="patterns-of-success"></a><span data-ttu-id="ba9d9-163">Mönster för att lyckas</span><span class="sxs-lookup"><span data-stu-id="ba9d9-163">Patterns of success</span></span>

<span data-ttu-id="ba9d9-164">Följande har problem som identifieras i många av större migreringar.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-164">The following were issues discovered in many of the larger migrations.</span></span> <span data-ttu-id="ba9d9-165">Detta är inte en fullständig förteckning och du bör se den [stöds inte funktioner och konfigurationer](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) för mer information.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-165">This is not an exhaustive list and you should refer to the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) for more detail.</span></span>  <span data-ttu-id="ba9d9-166">Du kan eller inte kan stöta på dessa tekniska problem, men om du vill lösa dessa innan du försöker migrera säkerställer en jämnare upplevelse.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-166">You may or may not encounter these technical issues but if you do solving these before attempting migration will ensure a smoother experience.</span></span>

- <span data-ttu-id="ba9d9-167">**Gör en Avbryt-Validera/Förbered testsändning** -detta kanske är det viktigaste steget så klassisk till Azure Resource Manager migreringen lyckades.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-167">**Do a Validate/Prepare/Abort Dry Run** -  This is perhaps the most important step to ensure Classic to Azure Resource Manager migration success.</span></span> <span data-ttu-id="ba9d9-168">Migreringen API har tre steg: verifiera, förbereda och genomförande.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-168">The migration API has three main steps: Validate, Prepare and Commit.</span></span> <span data-ttu-id="ba9d9-169">Verifiera att läsa tillståndet för klassiska miljön och returnera ett resultat av alla frågor.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-169">Validate will read the state of your classic environment and return a result of all issues.</span></span> <span data-ttu-id="ba9d9-170">Men eftersom vissa problem det kan finnas i Azure Resource Manager-stacken, kommer verifiera inte fånga allt.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-170">However, because some issues might exist in the Azure Resource Manager stack, Validate will not catch everything.</span></span> <span data-ttu-id="ba9d9-171">Nästa steg i migreringen, Förbered hjälper exponera dessa problem.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-171">The next step in migration process, Prepare will help expose those issues.</span></span> <span data-ttu-id="ba9d9-172">Förbereda kommer flytta metadata från klassiska till Azure Resource Manager, men kommer inte genomför flyttningen, och ska inte ta bort eller ändra allt på den klassiska sidan.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-172">Prepare will move the metadata from Classic to Azure Resource Manager, but will not commit the move, and will not remove or change anything on the Classic side.</span></span> <span data-ttu-id="ba9d9-173">Testsändningen innebär att förbereda migreringen och sedan avbryts (**inte genomför**) förbereda migreringen.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-173">The dry run involves preparing the migration, then aborting (**not committing**) the migration prepare.</span></span> <span data-ttu-id="ba9d9-174">Målet med Validera/förbereda/Avbryt testsändning är att se alla metadata i Azure Resource Manager-stacken, undersöka den (*programmässigt eller i portalen*), och kontrollera att allt migreras korrekt och gå igenom tekniska problem.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-174">The goal of validate/prepare/abort dry run is to see all of the metadata in the Azure Resource Manager stack, examine it (*programmatically or in Portal*), and verify that everything migrates correctly, and work through technical issues.</span></span>  <span data-ttu-id="ba9d9-175">Den också ger dig en uppfattning om migreringstid så att du kan planera för avbrottstid i enlighet med detta.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-175">It will also give you a sense of migration duration so you can plan for downtime accordingly.</span></span>  <span data-ttu-id="ba9d9-176">En Validera/förbereda/Avbryt medför några driftavbrott; Därför är det icke-störande för programanvändning.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-176">A validate/prepare/abort does not cause any user downtime; therefore, it is non-disruptive to application usage.</span></span>
  - <span data-ttu-id="ba9d9-177">Objekten nedan måste lösas innan testsändningen, men ett testsändning test kommer också på ett säkert sätt att tömma ut dessa förberedelsesteg om de saknas.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-177">The items below will need to be solved before the dry run, but a dry run test will also safely flush out these preparation steps if they are missed.</span></span> <span data-ttu-id="ba9d9-178">Under migreringen enterprise hittades testsändning ska vara en säker och ovärderlig sätt att kontrollera migreringsberedskap.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-178">During enterprise migration, we've found the dry run to be a safe and invaluable way to ensure migration readiness.</span></span>
  - <span data-ttu-id="ba9d9-179">När förbereder körs kontrollen plan (Azure hanteringsåtgärder) kommer att låsas för hela virtuella nätverk, så att inga ändringar kan göras VM metadata under Validera/förbereda/Avbryt.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-179">When prepare is running, the control plane (Azure management operations) will be locked for the whole virtual network, so no changes can be made to VM metadata during validate/prepare/abort.</span></span>  <span data-ttu-id="ba9d9-180">Men annars eventuella program-funktionen (RD, VM användning, etc.) påverkas.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-180">But otherwise any application function (RD, VM usage, etc.) will be unaffected.</span></span>  <span data-ttu-id="ba9d9-181">Användare av de virtuella datorerna vet inte att testsändningen utförs.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-181">Users of the VMs will not know that the dry run is being executed.</span></span>

- <span data-ttu-id="ba9d9-182">**Express Route-kretsar och VPN-**.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-182">**Express Route Circuits and VPN**.</span></span> <span data-ttu-id="ba9d9-183">Express Route-Gateways med auktorisering länkar kan för närvarande inte migreras utan driftavbrott.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-183">Currently Express Route Gateways with authorization links cannot be migrated without downtime.</span></span> <span data-ttu-id="ba9d9-184">Lösningen, se [migrera ExpressRoute-kretsar och associerade virtuella nätverk från klassiskt till Resource Manager-distributionsmodellen](../../expressroute/expressroute-migration-classic-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="ba9d9-184">For the workaround, see [Migrate ExpressRoute circuits and associated virtual networks from the classic to the Resource Manager deployment model](../../expressroute/expressroute-migration-classic-resource-manager.md).</span></span>

- <span data-ttu-id="ba9d9-185">**VM-tillägg** -tillägg för virtuell dator är potentiellt en av de största förbi vägspärrar att migrera virtuella datorer som körs.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-185">**VM Extensions** - Virtual Machine extensions are potentially one of the biggest roadblocks to migrating running VMs.</span></span> <span data-ttu-id="ba9d9-186">Reparation av VM-tillägg höjningen 1 – 2 dagar kan ta så planera på lämpligt sätt.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-186">Remediation of VM Extensions could take upwards of 1-2 days, so plan accordingly.</span></span>  <span data-ttu-id="ba9d9-187">Ett aktivt Azure-agenten behövs för att rapportera status för VM-tillägg för virtuella datorer som körs.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-187">A working Azure agent is needed to report back VM Extension status of running VMs.</span></span> <span data-ttu-id="ba9d9-188">Om statusen kommer tillbaka som felaktigt för en VM som körs, stoppas detta migrering.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-188">If the status comes back as bad for a running VM, this will halt migration.</span></span> <span data-ttu-id="ba9d9-189">Själva agenten behöver inte vara i fungerande skick vill aktivera migrering, men om tillägg finns på den virtuella datorn, sedan både en fungerande agent och utgående internet-anslutning (med DNS) krävs för migrering för att gå vidare.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-189">The agent itself does not need to be in working order to enable migration, but if extensions exist on the VM, then both a working agent AND outbound internet connectivity (with DNS) will be needed for migration to move forward.</span></span>
  - <span data-ttu-id="ba9d9-190">Om anslutningen till en DNS-server går förlorad under migreringen, alla VM-tillägg utom BGInfo version 1. \* måste först tas bort från varje VM innan migreringen förbereder och nytt läggs till i efterhand tillbaka till den virtuella datorn efter migreringen för Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-190">If connectivity to a DNS server is lost during migration, all VM Extensions except BGInfo version 1.\* need to first be removed from every VM before migration prepare, and subsequently re-added back to the VM after Azure Resource Manager migration.</span></span>  <span data-ttu-id="ba9d9-191">**Detta är endast för virtuella datorer som körs.**</span><span class="sxs-lookup"><span data-stu-id="ba9d9-191">**This is only for VMs that are running.**</span></span>  <span data-ttu-id="ba9d9-192">Om de virtuella datorerna har stoppats frigjorts, behöver inte VM-tillägg som ska tas bort.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-192">If the VMs are stopped deallocated, VM Extensions do not need to be removed.</span></span>

  > [!NOTE]
  > <span data-ttu-id="ba9d9-193">Många tillägg som Azure-diagnostik och security center övervakning kan installera sig igen efter migreringen så att de är inte ett problem.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-193">Many extensions like Azure diagnostics and security center monitoring will reinstall themselves after migration, so removing them is not a problem.</span></span>

  - <span data-ttu-id="ba9d9-194">Kontrollera dessutom Nätverkssäkerhetsgrupper inte är att begränsa utgående Internetåtkomst.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-194">In addition, make sure Network Security Groups are not restricting outbound internet access.</span></span> <span data-ttu-id="ba9d9-195">Detta kan inträffa för vissa konfigurationer för Nätverkssäkerhetsgrupper.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-195">This can happen with some Network Security Groups configurations.</span></span> <span data-ttu-id="ba9d9-196">Utgående Internetåtkomst (och DNS) krävs för VM-tillägg som ska migreras till Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-196">Outbound internet access (and DNS) is needed for VM Extensions to be migrated to Azure Resource Manager.</span></span>
  - <span data-ttu-id="ba9d9-197">Finns två versioner av BGInfo-tillägget och kallas version 1 och 2.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-197">Two versions of the BGInfo extension exist and are called versions 1 and 2.</span></span>  

      - <span data-ttu-id="ba9d9-198">Om den virtuella datorn använder BGInfo version 1-tillägget kan lämna du det här tillägget är.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-198">If the VM is using the BGInfo version 1 extension, you can leave this extension as is.</span></span> <span data-ttu-id="ba9d9-199">Migreringen API hoppar du över det här tillägget.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-199">The migration API skips this extension.</span></span> <span data-ttu-id="ba9d9-200">BGInfo-tillägget kan läggas till efter migreringen.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-200">The BGInfo extension can be added after migration.</span></span>
      - <span data-ttu-id="ba9d9-201">Om den virtuella datorn använder JSON-baserade BGInfo version 2-tillägget, har den virtuella datorn skapats med Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-201">If the VM is using the JSON-based BGInfo version 2 extension, the VM was created using the Azure portal.</span></span> <span data-ttu-id="ba9d9-202">Migreringen API innehåller det här tillägget för att migrera till Azure Resource Manager tillhandahålls agenten fungerar och har utgående Internetåtkomst (och DNS).</span><span class="sxs-lookup"><span data-stu-id="ba9d9-202">The migration API includes this extension in the migration to Azure Resource Manager, provided the agent is working and has outbound internet access (and DNS).</span></span>

  - <span data-ttu-id="ba9d9-203">**Reparation alternativ 1**.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-203">**Remediation Option 1**.</span></span> <span data-ttu-id="ba9d9-204">Om du vet att dina virtuella datorer inte har utgående Internetåtkomst, en fungerande DNS-tjänsten och arbetar Azure-agenter på virtuella datorer, avinstallera alla VM-tillägg som en del av migreringen innan Förbered kan du sedan installera om VM-tillägg efter migreringen.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-204">If you know your VMs will not have outbound internet access, a working DNS service, and working Azure agents on the VMs, then uninstall all VM extensions as part of the migration before Prepare, then reinstall the VM Extensions after migration.</span></span>
  - <span data-ttu-id="ba9d9-205">**Reparation alternativ 2**.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-205">**Remediation Option 2**.</span></span> <span data-ttu-id="ba9d9-206">Om VM-tillägg är för stort för en överskrida ett annat alternativ är att avstängning/frigöra alla virtuella datorer innan migreringen.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-206">If VM extensions are too big of a hurdle, another option is to shutdown/deallocate all VMs before migration.</span></span> <span data-ttu-id="ba9d9-207">Migrera frigjord virtuella datorer och sedan starta om dem på Azure Resource Manager-sida.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-207">Migrate the deallocated VMs, then restart them on the Azure Resource Manager side.</span></span> <span data-ttu-id="ba9d9-208">Här fördelen är att VM-tillägg ska migreras.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-208">The benefit here is that VM extensions will migrate.</span></span> <span data-ttu-id="ba9d9-209">Nackdelen är att alla externa virtuella IP-adresser kommer att försvinna (det kan vara en icke-starter), och naturligtvis de virtuella datorerna kommer avslutas orsakar en mycket större inverkan på fungerande program.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-209">The downside is that all public facing Virtual IPs will be lost (this may be a non-starter), and obviously the VMs will shut down causing a much greater impact on working applications.</span></span>

    > [!NOTE]
    > <span data-ttu-id="ba9d9-210">Om en princip för Azure Security Center konfigureras mot de virtuella datorer som körs som migreras, säkerhetsprincipen måste stoppas innan du tar bort tillägg, annars säkerhetsövervakning tillägget installeras automatiskt på den virtuella datorn när du tar bort den.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-210">If an Azure Security Center policy is configured against the running VMs being migrated, the security policy needs to be stopped before removing extensions, otherwise the security monitoring extension will be reinstalled automatically on the VM after removing it.</span></span>

- <span data-ttu-id="ba9d9-211">**Tillgänglighetsuppsättningar** – för ett virtuellt nätverk (vNet) som ska migreras till Azure Resource Manager, klassisk distribution (d.v.s. Molntjänsten) innehåller virtuella datorer måste vara i en tillgänglighetsuppsättning eller de virtuella datorerna inte finnas i någon tillgänglighetsuppsättning.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-211">**Availability Sets** - For a virtual network (vNet) to be migrated to Azure Resource Manager, the Classic deployment (i.e. cloud service) contained VMs must all be in one availability set, or the VMs must all not be in any availability set.</span></span> <span data-ttu-id="ba9d9-212">Med mer än en tillgänglighetsuppsättning i Molntjänsten är inte kompatibel med Azure Resource Manager och stoppas migrering.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-212">Having more than one availability set in the cloud service is not compatible with Azure Resource Manager and will halt migration.</span></span>  <span data-ttu-id="ba9d9-213">Dessutom kan kan det finnas vissa virtuella datorer i en tillgänglighetsuppsättning och vissa virtuella datorer inte i en tillgänglighetsuppsättning.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-213">Additionally, there cannot be some VMs in an availability set, and some VMs not in an availability set.</span></span> <span data-ttu-id="ba9d9-214">För att lösa problemet behöver du reparera eller blandar Molntjänsten.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-214">To resolve this, you will need to remediate or reshuffle your cloud service.</span></span>  <span data-ttu-id="ba9d9-215">Planera därför detta kan ta lång tid.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-215">Plan accordingly as this might be time consuming.</span></span>

- <span data-ttu-id="ba9d9-216">**Web/Worker-Rollsdistributioner** -molntjänster som innehåller webb-och arbetsroller kan inte migrera till Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-216">**Web/Worker Role Deployments** -  Cloud Services containing web and worker roles cannot migrate to Azure Resource Manager.</span></span> <span data-ttu-id="ba9d9-217">Web/worker-roller måste först tas bort från det virtuella nätverket innan migreringen kan starta.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-217">The web/worker roles must first be removed from the virtual network before migration can start.</span></span>  <span data-ttu-id="ba9d9-218">En typisk lösning är att flytta web/worker rollinstanser till ett separat klassiskt virtuellt nätverk som också är kopplad till en ExpressRoute-krets eller migrera koden till nyare PaaS Apptjänster (den här diskussionen är utanför omfattningen för det här dokumentet).</span><span class="sxs-lookup"><span data-stu-id="ba9d9-218">A typical solution is to just move web/worker role instances to a separate Classic virtual network that is also linked to an ExpressRoute circuit, or to migrate the code to newer PaaS App Services (this discussion is beyond the scope of this document).</span></span> <span data-ttu-id="ba9d9-219">I den tidigare omdistribuera fallet, skapa ett nytt klassiskt virtuellt nätverk, flytta/Omdistributionen web/worker-roller till det nya virtuella nätverket och sedan ta bort distributioner från det virtuella nätverket som flyttas.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-219">In the former redeploy case, create a new Classic virtual network, move/redeploy the web/worker roles to that new virtual network, then delete the deployments from the virtual network being moved.</span></span> <span data-ttu-id="ba9d9-220">Inga kodändringar.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-220">No code changes required.</span></span> <span data-ttu-id="ba9d9-221">Den nya [virtuella nätverk Peering](../../virtual-network/virtual-network-peering-overview.md) kapaciteten kan användas för peer-klassiskt virtuellt nätverk som innehåller web/worker-roller och andra virtuella nätverk i samma Azure-region som det virtuella nätverket migreras (**när virtuella nätverk migreringen är klar som peerkoppla virtuella nätverk som inte kan migreras**), därför att ge samma funktioner varken prestanda och ingen fördröjning/bandbredd påföljder.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-221">The new [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md) capability can be used to peer together the classic virtual network containing the web/worker roles and other virtual networks in the same Azure region such as the virtual network being migrated (**after virtual network migration is completed as peered virtual networks cannot be migrated**), hence providing the same capabilities with no performance loss and no latency/bandwidth penalties.</span></span> <span data-ttu-id="ba9d9-222">Eftersom egenskaperna [virtuella nätverk Peering](../../virtual-network/virtual-network-peering-overview.md), web/worker-rollsdistributioner kan nu enkelt begränsas och inte blockerar migrering till Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-222">Given the addition of [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md), web/worker role deployments can now easily be mitigated and not block the migration to Azure Resource Manager.</span></span>

- <span data-ttu-id="ba9d9-223">**Azure Resource Manager-kvoter** -Azure-regioner har separata kvoter/gränser för både klassiska och Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-223">**Azure Resource Manager Quotas** - Azure regions have separate quotas/limits for both Classic and Azure Resource Manager.</span></span> <span data-ttu-id="ba9d9-224">Även om ny maskinvara inte används i ett Migreringsscenario *(vi växling befintliga virtuella datorer från klassiska till Azure Resource Manager)*, Azure Resource Manager kvoter fortfarande behöver vara på plats med tillräckligt med kapacitet innan migreringen kan starta.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-224">Even though in a migration scenario new hardware isn't being consumed *(we're swapping existing VMs from Classic to Azure Resource Manager)*, Azure Resource Manager quotas still need to be in place with enough capacity before migration can start.</span></span> <span data-ttu-id="ba9d9-225">Nedan visas de huvudsakliga gränser som vi har sett orsaka problem.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-225">Listed below are the major limits we've seen cause problems.</span></span>  <span data-ttu-id="ba9d9-226">Öppna ett supportärende för kvot för att höja gränserna.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-226">Open a quota support ticket to raise the limits.</span></span>

    > [!NOTE]
    > <span data-ttu-id="ba9d9-227">Dessa gränser måste aktiveras i samma region som din aktuella miljö som ska migreras.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-227">These limits need to be raised in the same region as your current environment to be migrated.</span></span>
    >

    - <span data-ttu-id="ba9d9-228">Nätverksgränssnitt</span><span class="sxs-lookup"><span data-stu-id="ba9d9-228">Network Interfaces</span></span>
    - <span data-ttu-id="ba9d9-229">Belastningsutjämnare</span><span class="sxs-lookup"><span data-stu-id="ba9d9-229">Load Balancers</span></span>
    - <span data-ttu-id="ba9d9-230">Offentliga IP-adresser</span><span class="sxs-lookup"><span data-stu-id="ba9d9-230">Public IPs</span></span>
    - <span data-ttu-id="ba9d9-231">Statiska offentliga IP-adresser</span><span class="sxs-lookup"><span data-stu-id="ba9d9-231">Static Public IPs</span></span>
    - <span data-ttu-id="ba9d9-232">Kärnor</span><span class="sxs-lookup"><span data-stu-id="ba9d9-232">Cores</span></span>
    - <span data-ttu-id="ba9d9-233">Nätverkssäkerhetsgrupper</span><span class="sxs-lookup"><span data-stu-id="ba9d9-233">Network Security Groups</span></span>
    - <span data-ttu-id="ba9d9-234">Routningstabeller</span><span class="sxs-lookup"><span data-stu-id="ba9d9-234">Route Tables</span></span>

    <span data-ttu-id="ba9d9-235">Du kan kontrollera din aktuella Azure Resource Manager-kvoter med följande kommandon med den senaste versionen av Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-235">You can check your current Azure Resource Manager quotas using the following commands with the latest version of Azure PowerShell.</span></span>

    <span data-ttu-id="ba9d9-236">**Beräkna** *(kärnor, Tillgänglighetsuppsättningar)*</span><span class="sxs-lookup"><span data-stu-id="ba9d9-236">**Compute** *(Cores, Availability Sets)*</span></span>

    ```powershell
    Get-AzureRmVMUsage -Location <azure-region>
    ```

    <span data-ttu-id="ba9d9-237">**Nätverket** *(virtuella nätverk, statiska offentliga IP-adresser, offentliga IP-adresser, säkerhetsgrupper för nätverk, nätverket gränssnitt, belastningsutjämnare, vägtabeller)*</span><span class="sxs-lookup"><span data-stu-id="ba9d9-237">**Network** *(Virtual Networks, Static Public IPs, Public IPs, Network Security Groups, Network Interfaces, Load Balancers, Route Tables)*</span></span>

    ```powershell
    Get-AzureRmUsage /subscriptions/<subscription-id>/providers/Microsoft.Network/locations/<azure-region> -ApiVersion 2016-03-30 | Format-Table
    ```

    <span data-ttu-id="ba9d9-238">**Lagring** *(Lagringskonto)*</span><span class="sxs-lookup"><span data-stu-id="ba9d9-238">**Storage** *(Storage Account)*</span></span>

    ```powershell
    Get-AzureRmStorageUsage
    ```

- <span data-ttu-id="ba9d9-239">**Azure Resource Manager API throttling-begränsning** - om du har en tillräckligt stor miljö (t.ex.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-239">**Azure Resource Manager API throttling limits** - If you have a large enough environment (eg.</span></span> <span data-ttu-id="ba9d9-240">> 400 virtuella datorer i ett virtuellt nätverk), du kan träffa standard-API som begränsning begränsningar för skrivning (för närvarande `1200 writes/hour`) i Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-240">> 400 VMs in a VNET), you might hit the default API throttling limits for writes (currently `1200 writes/hour`) in Azure Resource Manager.</span></span> <span data-ttu-id="ba9d9-241">Innan du påbörjar migreringen bör du höja ett supportärende för att öka denna gräns för din prenumeration.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-241">Before starting migration, you should raise a support ticket to increase this limit for your subscription.</span></span>


- <span data-ttu-id="ba9d9-242">**Etableringsstatus tidsgränsen ut VM** – om någon virtuell dator har status `provisioning timed out`, det måste vara löst före migrering.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-242">**Provisioning Timed Out VM Status** - If any VM has the status of `provisioning timed out`, this needs to be resolved pre-migration.</span></span> <span data-ttu-id="ba9d9-243">Det enda sättet att göra detta är avbrott som avetablering/reprovisioning VM (ta bort det, hålla disken och återskapa den virtuella datorn).</span><span class="sxs-lookup"><span data-stu-id="ba9d9-243">The only way to do this is with downtime by deprovisioning/reprovisioning the VM (delete it, keep the disk, and recreate the VM).</span></span>

- <span data-ttu-id="ba9d9-244">**RoleStateUnknown VM-statusen** - om migrering stoppas på grund av ett `role state unknown` felmeddelande, kontrollera den virtuella datorn med hjälp av portalen och se till att den körs.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-244">**RoleStateUnknown VM Status** - If migration halts due to a `role state unknown` error message, inspect the VM using the portal and ensure it is running.</span></span> <span data-ttu-id="ba9d9-245">Det här felet försvinner vanligtvis dess äger (ingen reparation krävs) efter några minuter och ofta övergående typen ofta visas under en virtuell dator `start`, `stop`, `restart` åtgärder.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-245">This error will typically go away on its own (no remediation required) after a few minutes and is often a transient type often seen during a Virtual Machine `start`, `stop`, `restart` operations.</span></span> <span data-ttu-id="ba9d9-246">**Rekommenderad praxis:** nytt försök migrera igen efter några minuter.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-246">**Recommended practice:** re-try migration again after a few minutes.</span></span>

- <span data-ttu-id="ba9d9-247">**Fabric-kluster finns inte** – i vissa fall kan vissa virtuella datorer som inte kan migreras för olika udda skäl.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-247">**Fabric Cluster does not exist** -  In some cases, certain VMs cannot be migrated for various odd reasons.</span></span> <span data-ttu-id="ba9d9-248">En av dessa kända fall om den virtuella datorn har nyligen skapas (inom den senaste veckan eller liknande) och har hänt med mark ett Azure-kluster som inte ännu är utrustade för Azure Resource Manager-arbetsbelastningar.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-248">One of these known cases is if the VM was recently created (within the last week or so) and happened to land an Azure cluster that is not yet equipped for Azure Resource Manager workloads.</span></span>  <span data-ttu-id="ba9d9-249">Du får ett felmeddelande som säger `fabric cluster does not exist` och går inte att migrera den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-249">You will get an error that says `fabric cluster does not exist` and the VM cannot be migrated.</span></span> <span data-ttu-id="ba9d9-250">Väntar på ett par dagar kommer vanligtvis Lös det här problemet enligt klustret kommer snart Azure Resource Manager är aktiverad.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-250">Waiting a couple of days will usually resolve this particular problem as the cluster will soon get Azure Resource Manager enabled.</span></span> <span data-ttu-id="ba9d9-251">En omedelbar lösning är dock att `stop-deallocate` den virtuella datorn sedan fortsätta vidarebefordra migreringen och starta den virtuella datorn tillbaka i Azure Resource Manager när du har migrerat.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-251">However, one immediate workaround is to `stop-deallocate` the VM, then continue forward with migration, and start the VM back up in Azure Resource Manager after migrating.</span></span>

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="ba9d9-252">Fallgropar att undvika</span><span class="sxs-lookup"><span data-stu-id="ba9d9-252">Pitfalls to avoid</span></span>

- <span data-ttu-id="ba9d9-253">Inte ta genvägar och utelämna Validera/förbereda/Avbryt testsändning migreringar.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-253">Do not take shortcuts and omit the validate/prepare/abort dry run migrations.</span></span>
- <span data-ttu-id="ba9d9-254">De flesta, om inte alla, kommer av din potentiella problem yta under Validera/förbereda/Avbryt stegen.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-254">Most, if not all, of your potential issues will surface during the validate/prepare/abort steps.</span></span>

## <a name="migration"></a><span data-ttu-id="ba9d9-255">Migrering</span><span class="sxs-lookup"><span data-stu-id="ba9d9-255">Migration</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="ba9d9-256">Teknisk information och nackdelar</span><span class="sxs-lookup"><span data-stu-id="ba9d9-256">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="ba9d9-257">Nu är du redo eftersom du har arbetat med kända problem med din miljö.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-257">Now you are ready because you have worked through the known issues with your environment.</span></span>

<span data-ttu-id="ba9d9-258">För de verkliga migreringarna kanske du vill överväga:</span><span class="sxs-lookup"><span data-stu-id="ba9d9-258">For the real migrations, you might want to consider:</span></span>

1. <span data-ttu-id="ba9d9-259">Planera och schemalägga det virtuella nätverket (minsta enheten av migrering) med ökande prioritet.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-259">Plan and schedule the virtual network (smallest unit of migration) with increasing priority.</span></span>  <span data-ttu-id="ba9d9-260">Göra enkla virtuella nätverk och gå vidare med mer komplicerad virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-260">Do the simple virtual networks first, and progress with the more complicated virtual networks.</span></span>
2. <span data-ttu-id="ba9d9-261">De flesta kunder har icke-produktion och produktionsmiljöer.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-261">Most customers will have non-production and production environments.</span></span>  <span data-ttu-id="ba9d9-262">Schemalägga produktion senast.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-262">Schedule production last.</span></span>
3. <span data-ttu-id="ba9d9-263">**(VALFRITT)**  Schemalägga ett Underhåll driftstopp med mycket buffert ifall oväntade problem uppstå.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-263">**(OPTIONAL)** Schedule a maintenance downtime with plenty of buffer in case unexpected issues arise.</span></span>
4. <span data-ttu-id="ba9d9-264">Kommunicerar med och justera med din supportteam om problem uppstår.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-264">Communicate with and align with your support teams in case issues arise.</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="ba9d9-265">Mönster för att lyckas</span><span class="sxs-lookup"><span data-stu-id="ba9d9-265">Patterns of success</span></span>

<span data-ttu-id="ba9d9-266">Teknisk information från den _Test Lab_ avsnitt ska räknas och skriptkommandot innan en verklig migrering.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-266">The technical guidance from the _Lab Test_ section should be considered and mitigated prior to a real migration.</span></span>  <span data-ttu-id="ba9d9-267">Migreringen är faktiskt en händelsebaserad med lämpliga tester.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-267">With adequate testing, the migration is actually a non-event.</span></span>  <span data-ttu-id="ba9d9-268">För produktionsmiljöer, kan det vara praktiskt att ha ytterligare support, till exempel en betrodd Microsoft-partner eller Microsoft Premier-tjänster.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-268">For production environments, it might be helpful to have additional support, such as a trusted Microsoft partner or Microsoft Premier services.</span></span>

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="ba9d9-269">Fallgropar att undvika</span><span class="sxs-lookup"><span data-stu-id="ba9d9-269">Pitfalls to avoid</span></span>

<span data-ttu-id="ba9d9-270">Testa inte helt kan orsaka problem och fördröjning i migreringen.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-270">Not fully testing may cause issues and delay in the migration.</span></span>  

## <a name="beyond-migration"></a><span data-ttu-id="ba9d9-271">Utöver migreringen</span><span class="sxs-lookup"><span data-stu-id="ba9d9-271">Beyond Migration</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="ba9d9-272">Teknisk information och nackdelar</span><span class="sxs-lookup"><span data-stu-id="ba9d9-272">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="ba9d9-273">Nu när du är i Azure Resource Manager kan du maximera plattformen.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-273">Now that you are in Azure Resource Manager, maximize the platform.</span></span>  <span data-ttu-id="ba9d9-274">Läs den [översikt över Azure Resource Manager](../../azure-resource-manager/resource-group-overview.md) att ta reda på om ytterligare fördelar.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-274">Read the [overview of Azure Resource Manager](../../azure-resource-manager/resource-group-overview.md) to find out about additional benefits.</span></span>

<span data-ttu-id="ba9d9-275">Saker att tänka på:</span><span class="sxs-lookup"><span data-stu-id="ba9d9-275">Things to consider:</span></span>

- <span data-ttu-id="ba9d9-276">Paketering migrering med andra aktiviteter.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-276">Bundling the migration with other activities.</span></span>  <span data-ttu-id="ba9d9-277">Merparten av kunderna välja en underhållsperiod för programmet.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-277">Most customers opt for an application maintenance window.</span></span>  <span data-ttu-id="ba9d9-278">I så fall kanske du vill använda den här driftstörningen för att aktivera andra Azure Resource Manager-funktioner som kryptering och migreringen till hanterade diskar.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-278">If so, you might want to use this downtime to enable other Azure Resource Manager capabilities like encryption and migration to Managed Disks.</span></span>
- <span data-ttu-id="ba9d9-279">Kontrollera igen tekniska och affärsmässiga skäl för Azure Resource Manager; aktivera ytterligare tjänster som är tillgängliga bara på Azure Resource Manager som gäller för din miljö.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-279">Revisit the technical and business reasons for Azure Resource Manager; enable the additional services available only on Azure Resource Manager that apply to your environment.</span></span>
- <span data-ttu-id="ba9d9-280">Modernisera din miljö med PaaS-tjänster.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-280">Modernize your environment with PaaS services.</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="ba9d9-281">Mönster för att lyckas</span><span class="sxs-lookup"><span data-stu-id="ba9d9-281">Patterns of success</span></span>

<span data-ttu-id="ba9d9-282">Vara ändamålsenlig på vilka tjänster som du nu vill aktivera i Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-282">Be purposeful on what services you now want to enable in Azure Resource Manager.</span></span>  <span data-ttu-id="ba9d9-283">Många kunder att hitta den under intressant för sina miljöer i Azure:</span><span class="sxs-lookup"><span data-stu-id="ba9d9-283">Many customers find the below compelling for their Azure environments:</span></span>

- <span data-ttu-id="ba9d9-284">[Rollbaserad åtkomstkontroll](../../azure-resource-manager/resource-group-overview.md#access-control).</span><span class="sxs-lookup"><span data-stu-id="ba9d9-284">[Role Based Access Control](../../azure-resource-manager/resource-group-overview.md#access-control).</span></span>
- <span data-ttu-id="ba9d9-285">[Azure Resource Manager-mallar för distribution av enklare och mer kontrollerad](../../azure-resource-manager/resource-group-overview.md#template-deployment).</span><span class="sxs-lookup"><span data-stu-id="ba9d9-285">[Azure Resource Manager templates for easier and more controlled deployment](../../azure-resource-manager/resource-group-overview.md#template-deployment).</span></span>
- <span data-ttu-id="ba9d9-286">[Taggar](../../azure-resource-manager/resource-group-using-tags.md).</span><span class="sxs-lookup"><span data-stu-id="ba9d9-286">[Tags](../../azure-resource-manager/resource-group-using-tags.md).</span></span>
- [<span data-ttu-id="ba9d9-287">Kontroll av aktiviteten</span><span class="sxs-lookup"><span data-stu-id="ba9d9-287">Activity Control</span></span>](../../azure-resource-manager/resource-group-audit.md)
- [<span data-ttu-id="ba9d9-288">Resursprinciper</span><span class="sxs-lookup"><span data-stu-id="ba9d9-288">Resource Policies</span></span>](../../azure-resource-manager/resource-manager-policy.md)

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="ba9d9-289">Fallgropar att undvika</span><span class="sxs-lookup"><span data-stu-id="ba9d9-289">Pitfalls to avoid</span></span>

<span data-ttu-id="ba9d9-290">Kom ihåg varför du startade den här Classic till Azure Resource Manager migrering resa.</span><span class="sxs-lookup"><span data-stu-id="ba9d9-290">Remember why you started this Classic to Azure Resource Manager migration journey.</span></span>  <span data-ttu-id="ba9d9-291">Vilka är de ursprungliga affärsskäl?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-291">What were the original business reasons?</span></span> <span data-ttu-id="ba9d9-292">Har du uppnått affärsskäl?</span><span class="sxs-lookup"><span data-stu-id="ba9d9-292">Did you achieve the business reason?</span></span>


## <a name="next-steps"></a><span data-ttu-id="ba9d9-293">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="ba9d9-293">Next steps</span></span>

* [<span data-ttu-id="ba9d9-294">Översikt över plattformar som stöds migrering av IaaS-resurser från klassiska till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-294">Overview of platform-supported migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ba9d9-295">Tekniska ingående om plattformen stöds från klassiska till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-295">Technical deep dive on platform-supported migration from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-deep-dive.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ba9d9-296">Använda PowerShell för att migrera IaaS-resurser från klassiska till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-296">Use PowerShell to migrate IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-ps.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ba9d9-297">Använda CLI för att migrera IaaS-resurser från klassiska till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-297">Use CLI to migrate IaaS resources from classic to Azure Resource Manager</span></span>](../linux/migration-classic-resource-manager-cli.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ba9d9-298">Community-verktyg för att hjälpa till med migrering av IaaS-resurser från klassiska till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-298">Community tools for assisting with migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-community-tools.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ba9d9-299">Granska de vanligaste migreringsfelen</span><span class="sxs-lookup"><span data-stu-id="ba9d9-299">Review most common migration errors</span></span>](migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="ba9d9-300">Granska de vanligaste frågorna om migrera IaaS-resurser från klassiska till Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ba9d9-300">Review the most frequently asked questions about migrating IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-faq.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
