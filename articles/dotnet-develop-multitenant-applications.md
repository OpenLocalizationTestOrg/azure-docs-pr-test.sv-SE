---
title: "aaaMulti klient Web programmönster | Microsoft Docs"
description: "Hitta arkitektur översikter och designmönster som beskriver hur tooimplement flera innehavare webbprogrammet på Azure."
services: 
documentationcenter: .net
author: wadepickett
manager: wpickett
editor: 
ms.assetid: 4f0281d2-1555-42b0-a99d-1222fade0b0f
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/05/2015
ms.author: wpickett
ms.openlocfilehash: 3b7822c8ca4aa50d295a174973ae4746c230ba66
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="multitenant-applications-in-azure"></a><span data-ttu-id="29007-103">Flera program i Azure</span><span class="sxs-lookup"><span data-stu-id="29007-103">Multitenant Applications in Azure</span></span>
<span data-ttu-id="29007-104">Ett multitenant program är en delad resurs som gör att olika användare eller ”innehavare”, tooview hello program som om den har sina egna.</span><span class="sxs-lookup"><span data-stu-id="29007-104">A multitenant application is a shared resource that allows separate users, or "tenants," tooview hello application as though it was their own.</span></span> <span data-ttu-id="29007-105">Ett typiskt scenario som lämpar sig tooa flera program är en i vilken alla användare av hello kan programmet vill toocustomize hello användarupplevelsen men annars har hello samma grundläggande affärsbehov.</span><span class="sxs-lookup"><span data-stu-id="29007-105">A typical scenario that lends itself tooa multitenant application is one in which all users of hello application may wish toocustomize hello user experience but otherwise have hello same basic business requirements.</span></span> <span data-ttu-id="29007-106">Exempel på stora multitenant program är Office 365, Outlook.com och visualstudio.com.</span><span class="sxs-lookup"><span data-stu-id="29007-106">Examples of large multitenant applications are Office 365, Outlook.com, and visualstudio.com.</span></span>

<span data-ttu-id="29007-107">En programprovider ur hello fördelarna med multitenancy främst relatera toooperational och kostnaden effektivitet.</span><span class="sxs-lookup"><span data-stu-id="29007-107">From an application provider's perspective, hello benefits of multitenancy mostly relate toooperational and cost efficiencies.</span></span> <span data-ttu-id="29007-108">En version av programmet kan uppfylla hello behov av många hyresgäster/kunder, så att slå samman system administrationsuppgifter, till exempel övervakning, Prestandajustering, programvaruunderhåll och säkerhetskopiering av data.</span><span class="sxs-lookup"><span data-stu-id="29007-108">One version of your application can meet hello needs of many tenants/customers, allowing consolidation of system administration tasks such as monitoring, performance tuning, software maintenance, and data backups.</span></span>

<span data-ttu-id="29007-109">hello följande innehåller en lista över hello viktigaste mål och krav ur en provider.</span><span class="sxs-lookup"><span data-stu-id="29007-109">hello following provides a list of hello most significant goals and requirements from a provider's perspective.</span></span>

* <span data-ttu-id="29007-110">**Etablering**: du måste vara kan tooprovision nya klienter för hello program.</span><span class="sxs-lookup"><span data-stu-id="29007-110">**Provisioning**: You must be able tooprovision new tenants for hello application.</span></span>  <span data-ttu-id="29007-111">För flera program med ett stort antal klienter är vanligtvis behöver tooautomate processen genom att aktivera självbetjäning etablering.</span><span class="sxs-lookup"><span data-stu-id="29007-111">For multitenant applications with a large number of tenants, it is usually necessary tooautomate this process by enabling self-service provisioning.</span></span>
* <span data-ttu-id="29007-112">**Underhålla**: du måste kunna tooupgrade hello program och utföra andra underhållsaktiviteter när flera klienter använder den.</span><span class="sxs-lookup"><span data-stu-id="29007-112">**Maintainability**: You must be able tooupgrade hello application and perform other maintenance tasks while multiple tenants are using it.</span></span>
* <span data-ttu-id="29007-113">**Övervaka**: du måste vara kan toomonitor hello program vid alla tidpunkter tooidentify eventuella problem och tootroubleshoot dem.</span><span class="sxs-lookup"><span data-stu-id="29007-113">**Monitoring**: You must be able toomonitor hello application at all times tooidentify any problems and tootroubleshoot them.</span></span> <span data-ttu-id="29007-114">Detta omfattar övervakning av hur varje klient använder hello program.</span><span class="sxs-lookup"><span data-stu-id="29007-114">This includes monitoring how each tenant is using hello application.</span></span>

<span data-ttu-id="29007-115">En välimplementerad multitenant programmet tillhandahåller hello följande fördelar toousers.</span><span class="sxs-lookup"><span data-stu-id="29007-115">A properly implemented multitenant application provides hello following benefits toousers.</span></span>

* <span data-ttu-id="29007-116">**Isolering**: hello aktiviteter för enskilda klienter inte påverkar hello användning av programmet hello av andra klienter.</span><span class="sxs-lookup"><span data-stu-id="29007-116">**Isolation**: hello activities of individual tenants do not affect hello use of hello application by other tenants.</span></span> <span data-ttu-id="29007-117">Klienter kommer inte åt varandras data.</span><span class="sxs-lookup"><span data-stu-id="29007-117">Tenants cannot access each other's data.</span></span> <span data-ttu-id="29007-118">Toohello klient verkar det som om de har exklusiv användning av programmet hello.</span><span class="sxs-lookup"><span data-stu-id="29007-118">It appears toohello tenant as though they have exclusive use of hello application.</span></span>
* <span data-ttu-id="29007-119">**Tillgänglighet**: enskilda klienter vill hello programmet toobe ständigt tillgänglig kanske garantier som definierats i ett serviceavtal.</span><span class="sxs-lookup"><span data-stu-id="29007-119">**Availability**: Individual tenants want hello application toobe constantly available, perhaps with guarantees defined in an SLA.</span></span> <span data-ttu-id="29007-120">Igen och påverkar inte hello aktiviteter för andra hyresgäster hello tillgängligheten för hello program.</span><span class="sxs-lookup"><span data-stu-id="29007-120">Again, hello activities of other tenants should not affect hello availability of hello application.</span></span>
* <span data-ttu-id="29007-121">**Skalbarhet**: programmet hello skalas toomeet hello begäran av enskilda klienter.</span><span class="sxs-lookup"><span data-stu-id="29007-121">**Scalability**: hello application scales toomeet hello demand of individual tenants.</span></span> <span data-ttu-id="29007-122">hello bör förekomst och åtgärder för andra hyresgäster inte påverka hello programmet hello prestanda.</span><span class="sxs-lookup"><span data-stu-id="29007-122">hello presence and actions of other tenants should not affect hello performance of hello application.</span></span>
* <span data-ttu-id="29007-123">**Kostnader**: kostnader som är lägre än en dedikerad, stöd för en innehavare programmet kördes eftersom multitenans gör hello delning av resurser.</span><span class="sxs-lookup"><span data-stu-id="29007-123">**Costs**: Costs are lower than running a dedicated, single-tenant application because multi-tenancy enables hello sharing of resources.</span></span>
* <span data-ttu-id="29007-124">**Anpassningsbarheten**.</span><span class="sxs-lookup"><span data-stu-id="29007-124">**Customizability**.</span></span> <span data-ttu-id="29007-125">hello möjlighet toocustomize hello program för en enskild klientorganisation på olika sätt, till exempel att lägga till eller ta bort funktioner, ändra färger och logotyper eller även att lägga till egen kod eller skript.</span><span class="sxs-lookup"><span data-stu-id="29007-125">hello ability toocustomize hello application for an individual tenant in various ways such as adding or removing features, changing colors and logos, or even adding their own code or script.</span></span>

<span data-ttu-id="29007-126">Kort sagt, medan det finns många saker du måste göra till kontot tooprovide en mycket skalbar tjänst finns också ett antal hello mål och krav som är vanliga toomany flera program.</span><span class="sxs-lookup"><span data-stu-id="29007-126">In short, while there are many considerations that you must take into account tooprovide a highly scalable service, there are also a number of hello goals and requirements that are common toomany multitenant applications.</span></span> <span data-ttu-id="29007-127">Vissa kanske inte är relevant i specifika scenarier och hello vikten av enskilda mål och krav varierar i varje scenario.</span><span class="sxs-lookup"><span data-stu-id="29007-127">Some may not be relevant in specific scenarios, and hello importance of individual goals and requirements will differ in each scenario.</span></span> <span data-ttu-id="29007-128">Som en provider för hello multitenant program har du också mål och krav som, uppfyller hello klienternas mål och krav, lönsamhet, fakturering, flera servicenivåer, etablering, underhålla övervakning och automatisering.</span><span class="sxs-lookup"><span data-stu-id="29007-128">As a provider of hello multitenant application, you will also have goals and requirements such as, meeting hello tenants' goals and requirements, profitability, billing, multiple service levels, provisioning, maintainability monitoring, and automation.</span></span>

<span data-ttu-id="29007-129">Mer information om ytterligare överväganden för flera program, se [värd för flera innehavare-program på Azure][Hosting a Multi-Tenant Application on Azure].</span><span class="sxs-lookup"><span data-stu-id="29007-129">For more information on additional design considerations of a multitenant application, see [Hosting a Multi-Tenant Application on Azure][Hosting a Multi-Tenant Application on Azure].</span></span> <span data-ttu-id="29007-130">Information om vanliga mönster för dataarkitekturen i SaaS-databasprogram (Software-as-a-Service) med flera klienter finns i [Designmönster för SaaS-program med flera klienter i Azure SQL Database](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md).</span><span class="sxs-lookup"><span data-stu-id="29007-130">For information on common data architecture patterns of multi-tenant software-as-a-service (SaaS) database applications, see [Design Patterns for Multi-tenant SaaS Applications with Azure SQL Database](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md).</span></span> 

<span data-ttu-id="29007-131">Azure tillhandahåller många funktioner som gör att du tooaddress hello viktiga problem som uppstår när du utformar en multitenant system.</span><span class="sxs-lookup"><span data-stu-id="29007-131">Azure provides many features that allow you tooaddress hello key problems encountered when designing a multitenant system.</span></span>

<span data-ttu-id="29007-132">**Isolering**</span><span class="sxs-lookup"><span data-stu-id="29007-132">**Isolation**</span></span>

* <span data-ttu-id="29007-133">Segment webbplats innehavare av värdhuvuden med eller utan SSL-kommunikation</span><span class="sxs-lookup"><span data-stu-id="29007-133">Segment Website Tenants by Host Headers with or without SSL communication</span></span>
* <span data-ttu-id="29007-134">Segmentera webbplats innehavare av frågeparametrar</span><span class="sxs-lookup"><span data-stu-id="29007-134">Segment Website Tenants by Query Parameters</span></span>
* <span data-ttu-id="29007-135">Web Services arbetsroller</span><span class="sxs-lookup"><span data-stu-id="29007-135">Web Services in Worker Roles</span></span>
  * <span data-ttu-id="29007-136">Arbetsroller.</span><span class="sxs-lookup"><span data-stu-id="29007-136">Worker Roles.</span></span> <span data-ttu-id="29007-137">som vanligtvis bearbeta data på hello serverdel för ett program.</span><span class="sxs-lookup"><span data-stu-id="29007-137">that typically process data on hello backend of an application.</span></span>
  * <span data-ttu-id="29007-138">Web-roller som vanligtvis fungerar som klientdel hello för program.</span><span class="sxs-lookup"><span data-stu-id="29007-138">Web Roles that typically act as hello frontend for applications.</span></span>

<span data-ttu-id="29007-139">**Storage**</span><span class="sxs-lookup"><span data-stu-id="29007-139">**Storage**</span></span>

<span data-ttu-id="29007-140">Datahantering, till exempel Azure SQL Database eller Azure Storage-tjänster, till exempel hello tabelltjänst som tillhandahåller tjänster för lagring av stora mängder Ostrukturerade data och hello Blob-tjänst som tillhandahåller tjänster toostore stora mängder Ostrukturerade text eller binära data, till exempel video, ljud och bilder.</span><span class="sxs-lookup"><span data-stu-id="29007-140">Data management such as Azure SQL Database or Azure Storage services such as hello Table service which provides services for storage of large amounts of unstructured data and hello Blob service which provides services toostore large amounts of unstructured text or binary data such as video, audio and images.</span></span>

* <span data-ttu-id="29007-141">För att skydda Multitenant Data i SQL-databas som är lämpliga per-innehavaren SQL Server-inloggningar.</span><span class="sxs-lookup"><span data-stu-id="29007-141">Securing Multitenant Data in SQL Database appropriate per-tenant SQL Server logins.</span></span>
* <span data-ttu-id="29007-142">Med hjälp av Azure-tabeller för programmet resurser genom att ange en princip för åtkomst av behållare hello du möjlighet tooadjust behörigheter utan tooissue nya URL: er för hello resurser som skyddas med signaturer för delad åtkomst.</span><span class="sxs-lookup"><span data-stu-id="29007-142">Using Azure Tables for Application Resources By specifying a container level access policy, you can hello ability tooadjust permissions without having tooissue new URL's for hello resources protected with shared access signatures.</span></span>
* <span data-ttu-id="29007-143">Azure köer för programmet resurser Azure köer är vanliga toodrive bearbetning för klienter, men kan även använda toodistribute arbete krävas för etablering och hantering.</span><span class="sxs-lookup"><span data-stu-id="29007-143">Azure Queues for Application Resources Azure queues are commonly used toodrive processing on behalf of tenants, but may also be used toodistribute work required for provisioning or management.</span></span>
* <span data-ttu-id="29007-144">Service Bus-köer för resurser som push-meddelanden fungerar tooa delade en tjänst kan du använda en enskild kö där varje innehavare avsändare bara har behörigheter (som härletts från anspråk som utfärdats av ACS) toopush toothat kön när endast hello mottagare från hello-tjänsten ha behörighet toopull från hello kön hello data från flera klienter.</span><span class="sxs-lookup"><span data-stu-id="29007-144">Service Bus Queues for Application Resources that pushes work tooa shared a service, you can use a single queue where each tenant sender only has permissions (as derived from claims issued from ACS) toopush toothat queue, while only hello receivers from hello service have permission toopull from hello queue hello data coming from multiple tenants.</span></span>

<span data-ttu-id="29007-145">**Anslutning och säkerhetstjänster**</span><span class="sxs-lookup"><span data-stu-id="29007-145">**Connection and Security Services**</span></span>

* <span data-ttu-id="29007-146">Azure Service Bus i en infrastruktur för meddelanden som placeras mellan program så att de tooexchange meddelanden på ett sätt som löst kopplade för bättre skalning och återhämtning.</span><span class="sxs-lookup"><span data-stu-id="29007-146">Azure Service Bus, a messaging infrastructure that sits between applications allowing them tooexchange messages in a loosely coupled way for improved scale and resiliency.</span></span>

<span data-ttu-id="29007-147">**Nätverkstjänster**</span><span class="sxs-lookup"><span data-stu-id="29007-147">**Networking Services**</span></span>

<span data-ttu-id="29007-148">Azure tillhandahåller flera nätverkstjänster som stöder autentisering och förbättra hanteringen av dina program med värdar.</span><span class="sxs-lookup"><span data-stu-id="29007-148">Azure provides several networking services that support authentication, and improve manageability of your hosted applications.</span></span> <span data-ttu-id="29007-149">Tjänsterna omfattar hello följande:</span><span class="sxs-lookup"><span data-stu-id="29007-149">These services include hello following:</span></span>

* <span data-ttu-id="29007-150">Azure Virtual Network, kan du etablera och hantera virtuella privata nätverk (VPN) i Azure som på ett säkert sätt länka dessa med lokal IT-infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="29007-150">Azure Virtual Network lets you provision and manage virtual private networks (VPNs) in Azure as well as securely link these with on-premises IT infrastructure.</span></span>
* <span data-ttu-id="29007-151">Virtuella nätverk Traffic Manager kan du tooload saldo inkommande trafik över flera Azure för värdbaserade tjänster, oavsett om de kör i hello samma datacenter eller i olika Datacenter hello världen.</span><span class="sxs-lookup"><span data-stu-id="29007-151">Virtual Network Traffic Manager allows you tooload balance incoming traffic across multiple hosted Azure services whether they're running in hello same datacenter or across different datacenters around hello world.</span></span>
* <span data-ttu-id="29007-152">Azure Active Directory (AD Azure) är en modern REST-baserad tjänst som tillhandahåller identity management och åtkomst kontroll funktioner för dina molnprogram.</span><span class="sxs-lookup"><span data-stu-id="29007-152">Azure Active Directory (Azure AD) is a modern, REST-based service that provides identity management and access control capabilities for your cloud applications.</span></span> <span data-ttu-id="29007-153">Använda Azure AD för programresurser Azure AD tooprovides ett enkelt sätt att autentisera användare toogain åtkomst tooyour webbprogram och tjänster medan hello funktioner för autentisering och auktorisering toobe inberäknade av din kod.</span><span class="sxs-lookup"><span data-stu-id="29007-153">Using Azure AD for Application Resources Azure AD tooprovides an easy way of authenticating and authorizing users toogain access tooyour web applications and services while allowing hello features of authentication and authorization toobe factored out of your code.</span></span>
* <span data-ttu-id="29007-154">Azure Service Bus är en säker och kapaciteten för flödet av data för distribuerade och hybridprogram, till exempel kommunikation mellan Azure finns program och lokala program och tjänster, utan komplexa brandvägg och säkerhet infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="29007-154">Azure Service Bus provides a secure messaging and data flow capability for distributed and hybrid applications, such as communication between Azure hosted applications and on-premises applications and services, without requiring complex firewall and security infrastructures.</span></span> <span data-ttu-id="29007-155">Använda Service Bus Relay för programresurser toohello tjänster som visas som slutpunkter kan höra toohello klient (till exempel finns utanför hello-system såsom lokalt) eller de kanske tjänster som skapats specifikt för hello-klient ( eftersom känsliga, klient-specifika data överförs mellan dem).</span><span class="sxs-lookup"><span data-stu-id="29007-155">Using Service Bus Relay for Application Resources toohello services that are exposed as endpoints may belong toohello tenant (for example, hosted outside of hello system, such as on-premises), or they may be services provisioned specifically for hello tenant (because sensitive, tenant-specific data travels across them).</span></span>

<span data-ttu-id="29007-156">**Etablering av resurser**</span><span class="sxs-lookup"><span data-stu-id="29007-156">**Provisioning Resources**</span></span>

<span data-ttu-id="29007-157">Azure tillhandahåller ett antal sätt etablera nya klienter för hello program.</span><span class="sxs-lookup"><span data-stu-id="29007-157">Azure provides a number of ways provision new tenants for hello application.</span></span> <span data-ttu-id="29007-158">För flera program med ett stort antal klienter är vanligtvis behöver tooautomate processen genom att aktivera självbetjäning etablering.</span><span class="sxs-lookup"><span data-stu-id="29007-158">For multitenant applications with a large number of tenants, it is usually necessary tooautomate this process by enabling self-service provisioning.</span></span>

* <span data-ttu-id="29007-159">Arbetsroller kan du tooprovision och avinstallation etablera per klientresurser (t.ex när en ny klient loggar in eller avbryter), samla in statistik för Avläsning av använda och hantera skala enligt ett visst schema eller i svaret toohello korsande av tröskelvärden för nyckeln nyckeltal.</span><span class="sxs-lookup"><span data-stu-id="29007-159">Worker roles allow you tooprovision and de-provision per tenant resources (such as when a new tenant signs-up or cancels), collect metrics for metering use, and manage scale following a certain schedule or in response toohello crossing of thresholds of key performance indicators.</span></span> <span data-ttu-id="29007-160">Samma rollen kan även vara används toopush ut uppdateringar och uppgraderingar toohello lösning.</span><span class="sxs-lookup"><span data-stu-id="29007-160">This same role may also be used toopush out updates and upgrades toohello solution.</span></span>
* <span data-ttu-id="29007-161">Azure BLOB kan vara används tooprovision beräkning eller före initierad lagringsresurser för nya klienter samtidigt som man behållaren administratörsnivå principer tooprotect hello beräkning servicepaket VHD-avbildningar och andra resurser.</span><span class="sxs-lookup"><span data-stu-id="29007-161">Azure Blobs can be used tooprovision compute or pre-initialized storage resources for new tenants while providing container level access policies tooprotect hello compute service Packages, VHD images and other resources.</span></span>
* <span data-ttu-id="29007-162">Alternativ för att etablera SQL Database-resurser för en klient inkluderar:</span><span class="sxs-lookup"><span data-stu-id="29007-162">Options for provisioning SQL Database resources for a tenant include:</span></span>
  
  * <span data-ttu-id="29007-163">DDL i skript eller inbäddade som resurser i sammansättningar</span><span class="sxs-lookup"><span data-stu-id="29007-163">DDL in scripts or embedded as resources within assemblies</span></span>
  * <span data-ttu-id="29007-164">SQL Server 2008 R2 DAC-paket distribueras via programmering.</span><span class="sxs-lookup"><span data-stu-id="29007-164">SQL Server 2008 R2 DAC Packages deployed programmatically.</span></span>
  * <span data-ttu-id="29007-165">Kopiera från en för master-referensdatabasen</span><span class="sxs-lookup"><span data-stu-id="29007-165">Copying from a master reference database</span></span>
  * <span data-ttu-id="29007-166">Använda databasen Import och Export tooprovision nya databaser från en fil.</span><span class="sxs-lookup"><span data-stu-id="29007-166">Using database Import and Export tooprovision new databases from a file.</span></span>

<!--links-->

[Hosting a Multi-Tenant Application on Azure]: http://msdn.microsoft.com/library/hh534480.aspx
[Designing Multitenant Applications on Azure]: http://msdn.microsoft.com/library/windowsazure/hh689716
