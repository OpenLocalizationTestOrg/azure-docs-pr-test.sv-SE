---
title: aaaStage cloud service-distributionen (Node.js) | Microsoft Docs
description: "Lär dig hur toodeploy din Azure-program tooa mellanlagring miljö, distribuera tooa produktionsmiljön med virtuella IP-adresser (VIP) byte."
services: cloud-services
documentationcenter: nodejs
author: TomArcher
manager: routlaw
editor: 
ms.assetid: d65d26a6-b424-49cd-a88c-7ef46bb112a8
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 08/17/2017
ms.author: tarcher
ms.openlocfilehash: 0656c84ac444a10f152f441265f85141347bf1fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="staging-an-application-in-azure"></a><span data-ttu-id="ad87c-103">Mellanlagring av ett program i Azure</span><span class="sxs-lookup"><span data-stu-id="ad87c-103">Staging an Application in Azure</span></span>
<span data-ttu-id="ad87c-104">En paketerad App kan vara distribuerade toohello mellanlagring miljön i Azure toobe testas innan du flyttar den toohello produktion miljö i vilken hello program är tillgängligt på hello Internet.</span><span class="sxs-lookup"><span data-stu-id="ad87c-104">A packaged application can be deployed toohello staging environment in Azure toobe tested before you move it toohello production environment in which hello application is accessible on hello Internet.</span></span> <span data-ttu-id="ad87c-105">Mellanlagringsmiljön är exakt samma sätt som hello produktionsmiljön, förutom att du kan bara åtkomst hello mellanlagrad program med en fördunklade URL som genereras av Azure.</span><span class="sxs-lookup"><span data-stu-id="ad87c-105">The staging environment is exactly like hello production environment, except that you can only access hello staged application with an obfuscated URL that is generated by Azure.</span></span> <span data-ttu-id="ad87c-106">När du har kontrollerat att programmet fungerar korrekt, kan det vara distribuerade toohello produktionsmiljö genom att utföra en växling för virtuella IP-adresser (VIP).</span><span class="sxs-lookup"><span data-stu-id="ad87c-106">After you have verified that your application is working correctly, it can be deployed toohello production environment by performing a Virtual IP (VIP) swap.</span></span>

> [!NOTE]
> <span data-ttu-id="ad87c-107">hello gäller stegen i den här artikeln endast toonode program värdbaserad som en Azure-molntjänst.</span><span class="sxs-lookup"><span data-stu-id="ad87c-107">hello steps in this article only apply toonode applications hosted as an Azure Cloud Service.</span></span>
> 
> 

## <a name="step-1-stage-an-application"></a><span data-ttu-id="ad87c-108">Steg 1: Förbered ett program</span><span class="sxs-lookup"><span data-stu-id="ad87c-108">Step 1: Stage an Application</span></span>
<span data-ttu-id="ad87c-109">Den här uppgiften beskriver hur toostage ett program med hjälp av hello **Microsoft Azure PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="ad87c-109">This task covers how toostage an application by using hello **Microsoft Azure PowerShell**.</span></span>

1. <span data-ttu-id="ad87c-110">När du publicerar en tjänst kan bara skicka hello **-fack** parameter till hello **Publish-AzureServiceProject** cmdlet.</span><span class="sxs-lookup"><span data-stu-id="ad87c-110">When publishing a service, simply pass hello **-Slot** parameter to hello **Publish-AzureServiceProject** cmdlet.</span></span>
   
   ```powershell
   Publish-AzureServiceProject -Slot staging
   ```
2. <span data-ttu-id="ad87c-111">Logga in toohello [klassiska Azure-portalen] och välj **molntjänster**.</span><span class="sxs-lookup"><span data-stu-id="ad87c-111">Log on toohello [Azure classic portal] and select **Cloud Services**.</span></span> <span data-ttu-id="ad87c-112">Efter hello Molntjänsten skapas och hello **mellanlagring** kolumnen status har uppdaterats för**kör**, klicka på hello tjänstnamn.</span><span class="sxs-lookup"><span data-stu-id="ad87c-112">After hello cloud service is created and hello **Staging** column status has been updated too**Running**, click on hello service name.</span></span>
   
   ![portalen visar en aktiv tjänst][cloud-service]
3. <span data-ttu-id="ad87c-114">Välj hello **instrumentpanelen**, och välj sedan **mellanlagring**.</span><span class="sxs-lookup"><span data-stu-id="ad87c-114">Select hello **Dashboard**, and then select **Staging**.</span></span>
   
   ![cloud service-instrumentpanelen][cloud-service-dashboard]
4. <span data-ttu-id="ad87c-116">Anteckna värdet för hello i hello **Webbadress** post toohello höger.</span><span class="sxs-lookup"><span data-stu-id="ad87c-116">Note hello value in hello **Site URL** entry toohello right.</span></span> <span data-ttu-id="ad87c-117">hello DNS-namnet är ett dolda interna ID som genereras av Azure.</span><span class="sxs-lookup"><span data-stu-id="ad87c-117">hello DNS name is an obfuscated internal ID that Azure generated.</span></span>
   
    ![webbadress][cloud-service-staging-url]

<span data-ttu-id="ad87c-119">Nu kan du kontrollera att hello programmet fungerar korrekt i hello mellanlagring miljö med hjälp av hello mellanlagring Webbadress.</span><span class="sxs-lookup"><span data-stu-id="ad87c-119">Now you can verify that hello application is working correctly in hello staging environment by using hello staging site URL.</span></span>

## <a name="step-2-upgrade-an-application-in-production-by-swapping-vips"></a><span data-ttu-id="ad87c-120">Steg 2: Uppgradera ett program i produktion av växling VIP: er</span><span class="sxs-lookup"><span data-stu-id="ad87c-120">Step 2: Upgrade an Application in Production by Swapping VIPs</span></span>
<span data-ttu-id="ad87c-121">När du har kontrollerat hello uppgraderad version av ett program i mellanlagringsmiljön kan du snabbt göra den tillgänglig i produktionen genom växling hello virtuella IP-adresser (VIP) för hello mellanlagrings- och produktionsmiljöer.</span><span class="sxs-lookup"><span data-stu-id="ad87c-121">After you have verified hello upgraded version of an application in the staging environment, you can quickly make it available in production by swapping hello virtual IPs (VIPs) of hello staging and production environments.</span></span>

> [!NOTE]
> <span data-ttu-id="ad87c-122">Det här steget förutsätter att du redan har distribuerat en program-tooproduction och mellanlagrad hello uppgraderad version av programmet.</span><span class="sxs-lookup"><span data-stu-id="ad87c-122">This step assumes that you have already deployed an application tooproduction and staged hello upgraded version of the application.</span></span>
> 
> 

1. <span data-ttu-id="ad87c-123">Logga in på hello [klassiska Azure-portalen], klickar du på **molntjänster** och välj sedan hello tjänstnamn.</span><span class="sxs-lookup"><span data-stu-id="ad87c-123">Log into hello [Azure classic portal], click **Cloud Services** and then select hello service name.</span></span>
2. <span data-ttu-id="ad87c-124">Från hello **instrumentpanelen**väljer **mellanlagring**, och klicka sedan på **växla** på hello hello sidans nederkant.</span><span class="sxs-lookup"><span data-stu-id="ad87c-124">From hello **Dashboard**, select **Staging**, and then click **Swap** at hello bottom of hello page.</span></span> <span data-ttu-id="ad87c-125">Hello VIP-växling dialogruta öppnas.</span><span class="sxs-lookup"><span data-stu-id="ad87c-125">This opens hello VIP Swap dialog.</span></span>
   
   ![VIP-växling dialogrutan][vip-swap-dialog]
3. <span data-ttu-id="ad87c-127">Granska hello information och klicka sedan på **OK**.</span><span class="sxs-lookup"><span data-stu-id="ad87c-127">Review hello information, and then click **OK**.</span></span> <span data-ttu-id="ad87c-128">hello två distributioner börja uppdatera som hello mellanlagring av distribution växlar tooproduction och hello produktion distribution växlar toostaging.</span><span class="sxs-lookup"><span data-stu-id="ad87c-128">hello two deployments begin updating as hello staging deployment switches tooproduction and hello production deployment switches toostaging.</span></span>

<span data-ttu-id="ad87c-129">Du har mellanlagrad en distribution och uppgraderas en Produktionsdistribution av växla VIP: er med hello distribution i Förproduktion.</span><span class="sxs-lookup"><span data-stu-id="ad87c-129">You have successfully staged a deployment and upgraded a production deployment by swapping VIPs with hello deployment in staging.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="ad87c-130">Ytterligare resurser</span><span class="sxs-lookup"><span data-stu-id="ad87c-130">Additional Resources</span></span>
* <span data-ttu-id="ad87c-131">[Hur tooDeploy en uppgradera tjänsten tooProduction genom att byta VIP: er i Azure]</span><span class="sxs-lookup"><span data-stu-id="ad87c-131">[How tooDeploy a Service Upgrade tooProduction by Swapping VIPs in Azure]</span></span>

[klassiska Azure-portalen]: http://manage.windowsazure.com
[cloud-service]: ./media/cloud-services-nodejs-stage-application/staging-cloud-service-running.png
[cloud-service-dashboard]: ./media/cloud-services-nodejs-stage-application/cloud-service-dashboard-staging.png
[cloud-service-staging-url]: ./media/cloud-services-nodejs-stage-application/cloud-service-staging-url.png
[vip-swap-dialog]: ./media/cloud-services-nodejs-stage-application/vip-swap-dialog.png
[Hur tooDeploy en uppgradera tjänsten tooProduction genom att byta VIP: er i Azure]: cloud-services-how-to-manage.md#how-to-swap-deployments-to-promote-a-staged-deployment-to-production
