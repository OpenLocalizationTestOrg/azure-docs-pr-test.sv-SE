---
title: "aaaHow tooconfigure Azure Active Directory-autentisering för tillämpningsprogrammet Apptjänster"
description: "Lär dig hur tooconfigure Azure Active Directory-autentisering för ditt program med App-tjänster."
author: mattchenderson
services: app-service
documentationcenter: 
manager: syntaxc4
editor: 
ms.assetid: 6ec6a46c-bce4-47aa-b8a3-e133baef22eb
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 10/01/2016
ms.author: mahender
ms.openlocfilehash: 5b1d73f8fdf5831a266d900cd07f4e3b0917a7f7
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooconfigure-your-app-service-application-toouse-azure-active-directory-login"></a><span data-ttu-id="7cf58-103">Hur tooconfigure din Apptjänst programmet toouse Azure Active Directory-inloggning</span><span class="sxs-lookup"><span data-stu-id="7cf58-103">How tooconfigure your App Service application toouse Azure Active Directory login</span></span>
[!INCLUDE [app-service-mobile-selector-authentication](../../includes/app-service-mobile-selector-authentication.md)]

<span data-ttu-id="7cf58-104">Det här avsnittet beskrivs hur du tooconfigure Azure App Service toouse Azure Active Directory som en autentiseringsprovider.</span><span class="sxs-lookup"><span data-stu-id="7cf58-104">This topic shows you how tooconfigure Azure App Services toouse Azure Active Directory as an authentication provider.</span></span>

## <span data-ttu-id="7cf58-105"><a name="express"></a>Konfigurera Azure Active Directory med standardinställningar</span><span class="sxs-lookup"><span data-stu-id="7cf58-105"><a name="express"> </a>Configure Azure Active Directory using express settings</span></span>
1. <span data-ttu-id="7cf58-106">I hello [Azure-portalen], navigera tooyour program.</span><span class="sxs-lookup"><span data-stu-id="7cf58-106">In hello [Azure portal], navigate tooyour application.</span></span> <span data-ttu-id="7cf58-107">Klicka på **inställningar**, och sedan **autentisering/auktorisering**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-107">Click **Settings**, and then **Authentication/Authorization**.</span></span>
2. <span data-ttu-id="7cf58-108">Om hello autentisering / auktoriseringsfunktionen är inte aktiverad, aktivera hello växeln för**på**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-108">If hello Authentication / Authorization feature is not enabled, turn hello switch too**On**.</span></span>
3. <span data-ttu-id="7cf58-109">Klicka på **Azure Active Directory**, och klicka sedan på **Express** under **hanteringsläge**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-109">Click **Azure Active Directory**, and then click **Express** under **Management Mode**.</span></span>
4. <span data-ttu-id="7cf58-110">Klicka på **OK** tooregister hello program i Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7cf58-110">Click **OK** tooregister hello application in Azure Active Directory.</span></span> <span data-ttu-id="7cf58-111">Detta skapar en ny registrering.</span><span class="sxs-lookup"><span data-stu-id="7cf58-111">This will create a new registration.</span></span> <span data-ttu-id="7cf58-112">Om du vill toochoose en befintlig registrering i stället **väljer en befintlig app** och sök sedan efter hello namnet på en tidigare skapad registrering i din klient.</span><span class="sxs-lookup"><span data-stu-id="7cf58-112">If you want toochoose an existing registration instead, click **Select an existing app** and then search for hello name of a previously created registration within your tenant.</span></span>
   <span data-ttu-id="7cf58-113">Klicka på hello registrering tooselect den och på **OK**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-113">Click hello registration tooselect it and click **OK**.</span></span> <span data-ttu-id="7cf58-114">Klicka på **OK** på inställningsbladet för hello Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7cf58-114">Then click **OK** on hello Azure Active Directory settings blade.</span></span>
   
   ![][0]
   
   <span data-ttu-id="7cf58-115">Som standard Apptjänst ger autentisering, men begränsar inte auktoriserad åtkomst tooyour plats innehåll och API: er.</span><span class="sxs-lookup"><span data-stu-id="7cf58-115">By default, App Service provides authentication but does not restrict authorized access tooyour site content and APIs.</span></span> <span data-ttu-id="7cf58-116">Du måste auktorisera användare i din Appkod.</span><span class="sxs-lookup"><span data-stu-id="7cf58-116">You must authorize users in your app code.</span></span>
5. <span data-ttu-id="7cf58-117">(Valfritt) toorestrict-tooyour plats tooonly användare autentiseras av Azure Active Directory, ange **åtgärd tootake när begäran inte har autentiserats** för**logga in med Azure Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-117">(Optional) toorestrict access tooyour site tooonly users authenticated by Azure Active Directory, set **Action tootake when request is not authenticated** too**Log in with Azure Active Directory**.</span></span> <span data-ttu-id="7cf58-118">Detta kräver att alla förfrågningar autentiseras, och alla begäranden som inte har autentiserats är omdirigerade tooAzure Active Directory för autentisering.</span><span class="sxs-lookup"><span data-stu-id="7cf58-118">This requires that all requests be authenticated, and all unauthenticated requests are redirected tooAzure Active Directory for authentication.</span></span>
6. <span data-ttu-id="7cf58-119">Klicka på **Spara**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-119">Click **Save**.</span></span>

<span data-ttu-id="7cf58-120">Nu är du redo toouse Azure Active Directory för autentisering i appen.</span><span class="sxs-lookup"><span data-stu-id="7cf58-120">You are now ready toouse Azure Active Directory for authentication in your app.</span></span>

## <span data-ttu-id="7cf58-121"><a name="advanced"></a>(Alternativ metod) manuellt konfigurera Azure Active Directory med avancerade inställningar</span><span class="sxs-lookup"><span data-stu-id="7cf58-121"><a name="advanced"> </a>(Alternative method) Manually configure Azure Active Directory with advanced settings</span></span>
<span data-ttu-id="7cf58-122">Du kan också välja tooprovide konfigurationsinställningar manuellt.</span><span class="sxs-lookup"><span data-stu-id="7cf58-122">You can also choose tooprovide configuration settings manually.</span></span> <span data-ttu-id="7cf58-123">Detta är hello önskad lösning om hello AAD-klient som du vill toouse skiljer sig från hello-klient som du loggar in i Azure.</span><span class="sxs-lookup"><span data-stu-id="7cf58-123">This is hello preferred solution if hello AAD tenant you wish toouse is different from hello tenant with which you sign into Azure.</span></span> <span data-ttu-id="7cf58-124">toocomplete hello konfigurationen måste du först skapa en registrering i Azure Active Directory och du måste ange några hello registrering information tooApp Service.</span><span class="sxs-lookup"><span data-stu-id="7cf58-124">toocomplete hello configuration, you must first create a registration in Azure Active Directory, and then you must provide some of hello registration details tooApp Service.</span></span>

### <span data-ttu-id="7cf58-125"><a name="register"></a>Registrera ditt program med Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="7cf58-125"><a name="register"> </a>Register your application with Azure Active Directory</span></span>
1. <span data-ttu-id="7cf58-126">Logga in toohello [Azure-portalen], och navigera tooyour program.</span><span class="sxs-lookup"><span data-stu-id="7cf58-126">Log on toohello [Azure portal], and navigate tooyour application.</span></span> <span data-ttu-id="7cf58-127">Kopiera ditt **URL**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-127">Copy your **URL**.</span></span> <span data-ttu-id="7cf58-128">Du använder den här tooconfigure appen Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7cf58-128">You will use this tooconfigure your Azure Active Directory app.</span></span>
2. <span data-ttu-id="7cf58-129">Logga in toohello [klassiska Azure-portalen] och navigera för**Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-129">Sign in toohello [Azure classic portal] and navigate too**Active Directory**.</span></span>
   
    ![][2]
3. <span data-ttu-id="7cf58-130">Välj din katalog och välj sedan hello **program** fliken hello överst.</span><span class="sxs-lookup"><span data-stu-id="7cf58-130">Select your directory, and then select hello **Applications** tab at hello top.</span></span> <span data-ttu-id="7cf58-131">Klicka på **lägga till** på hello nedre toocreate en ny appregistrering.</span><span class="sxs-lookup"><span data-stu-id="7cf58-131">Click **ADD** at hello bottom toocreate a new app registration.</span></span>
4. <span data-ttu-id="7cf58-132">Klicka på **Lägg till ett program som min organisation utvecklar**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-132">Click **Add an application my organization is developing**.</span></span>
5. <span data-ttu-id="7cf58-133">I guiden Lägg till programmet hello, ange en **namn** för ditt program och klicka på hello **Web Application och/eller webb-API** typen.</span><span class="sxs-lookup"><span data-stu-id="7cf58-133">In hello Add Application Wizard, enter a **Name** for your application and click hello  **Web Application And/Or Web API** type.</span></span> <span data-ttu-id="7cf58-134">Klicka på toocontinue.</span><span class="sxs-lookup"><span data-stu-id="7cf58-134">Then click toocontinue.</span></span>
6. <span data-ttu-id="7cf58-135">I hello **SIGN-ON-URL** klistra in hello programmets URL som du kopierade tidigare.</span><span class="sxs-lookup"><span data-stu-id="7cf58-135">In hello **SIGN-ON URL** box, paste hello application URL you copied earlier.</span></span> <span data-ttu-id="7cf58-136">Ange samma URL: en i hello **App-ID URI** rutan.</span><span class="sxs-lookup"><span data-stu-id="7cf58-136">Enter that same URL in hello **App ID URI** box.</span></span> <span data-ttu-id="7cf58-137">Klicka på toocontinue.</span><span class="sxs-lookup"><span data-stu-id="7cf58-137">Then click toocontinue.</span></span>
7. <span data-ttu-id="7cf58-138">När programmet hello har lagts till, klickar du på hello **konfigurera** fliken. Redigera hello **Reply URL** under **enkel inloggning** toobe hello URL för ditt program läggas till med hello sökvägen */.auth/login/aad/callback*.</span><span class="sxs-lookup"><span data-stu-id="7cf58-138">Once hello application has been added, click hello **Configure** tab. Edit hello **Reply URL** under **Single Sign-on** toobe hello URL of your application appended with hello path, */.auth/login/aad/callback*.</span></span> <span data-ttu-id="7cf58-139">Till exempel `https://contoso.azurewebsites.net/.auth/login/aad/callback`.</span><span class="sxs-lookup"><span data-stu-id="7cf58-139">For example, `https://contoso.azurewebsites.net/.auth/login/aad/callback`.</span></span> <span data-ttu-id="7cf58-140">Kontrollera att du använder hello HTTPS-schema.</span><span class="sxs-lookup"><span data-stu-id="7cf58-140">Make sure that you are using hello HTTPS scheme.</span></span>
   
    ![][3]
8. <span data-ttu-id="7cf58-141">Klicka på **Spara**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-141">Click **Save**.</span></span> <span data-ttu-id="7cf58-142">Och sedan kopiera hello **klient-ID** för hello app.</span><span class="sxs-lookup"><span data-stu-id="7cf58-142">Then copy hello **Client ID** for hello app.</span></span> <span data-ttu-id="7cf58-143">Du vill konfigurera ditt program toouse detta senare.</span><span class="sxs-lookup"><span data-stu-id="7cf58-143">You will configure your application toouse this later.</span></span>
9. <span data-ttu-id="7cf58-144">I hello kommandofältet längst ned, klickar du på **visa slutpunkter**, och sedan kopiera hello **Federation Metadata dokumentet** URL och hämta som dokument eller navigera tooit i en webbläsare.</span><span class="sxs-lookup"><span data-stu-id="7cf58-144">In hello bottom command bar, click **View Endpoints**, and then copy hello **Federation Metadata Document** URL and download that document or navigate tooit in a browser.</span></span>
10. <span data-ttu-id="7cf58-145">Inom hello rot **EntityDescriptor** element, bör det finnas en **ID för entiteterna** attributet hello formatet `https://sts.windows.net/` följt av en klient-GUID specifika tooyour (kallas en ”klient-ID”).</span><span class="sxs-lookup"><span data-stu-id="7cf58-145">Within hello root **EntityDescriptor** element, there should be an **entityID** attribute of hello form `https://sts.windows.net/` followed by a GUID specific tooyour tenant (called a "tenant ID").</span></span> <span data-ttu-id="7cf58-146">Kopiera det här värdet – det ska fungera som din **utfärdar-URL**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-146">Copy this value - it will serve as your **Issuer URL**.</span></span> <span data-ttu-id="7cf58-147">Du vill konfigurera ditt program toouse detta senare.</span><span class="sxs-lookup"><span data-stu-id="7cf58-147">You will configure your application toouse this later.</span></span>

### <span data-ttu-id="7cf58-148"><a name="secrets"></a>Lägg till Azure Active Directory information tooyour program</span><span class="sxs-lookup"><span data-stu-id="7cf58-148"><a name="secrets"> </a>Add Azure Active Directory information tooyour application</span></span>
1. <span data-ttu-id="7cf58-149">Tillbaka i hello [Azure-portalen], navigera tooyour program.</span><span class="sxs-lookup"><span data-stu-id="7cf58-149">Back in hello [Azure portal], navigate tooyour application.</span></span> <span data-ttu-id="7cf58-150">Klicka på **inställningar**, och sedan **autentisering/auktorisering**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-150">Click **Settings**, and then **Authentication/Authorization**.</span></span>
2. <span data-ttu-id="7cf58-151">Om hello autentisering/auktorisering i funktionen inte är aktiverad, aktivera hello växeln för**på**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-151">If hello Authentication/Authorization feature is not enabled, turn hello switch too**On**.</span></span>
3. <span data-ttu-id="7cf58-152">Klicka på **Azure Active Directory**, och klicka sedan på **Avancerat** under **hanteringsläge**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-152">Click **Azure Active Directory**, and then click **Advanced** under **Management Mode**.</span></span> <span data-ttu-id="7cf58-153">Klistra in hello klient-ID och utfärdar-URL-värde som du fick tidigare.</span><span class="sxs-lookup"><span data-stu-id="7cf58-153">Paste in hello Client ID and Issuer URL value which you obtained previously.</span></span> <span data-ttu-id="7cf58-154">Klicka sedan på **OK**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-154">Then click **OK**.</span></span>
   
   ![][1]
   
   <span data-ttu-id="7cf58-155">Som standard Apptjänst ger autentisering, men begränsar inte auktoriserad åtkomst tooyour plats innehåll och API: er.</span><span class="sxs-lookup"><span data-stu-id="7cf58-155">By default, App Service provides authentication but does not restrict authorized access tooyour site content and APIs.</span></span> <span data-ttu-id="7cf58-156">Du måste auktorisera användare i din Appkod.</span><span class="sxs-lookup"><span data-stu-id="7cf58-156">You must authorize users in your app code.</span></span>
4. <span data-ttu-id="7cf58-157">(Valfritt) toorestrict-tooyour plats tooonly användare autentiseras av Azure Active Directory, ange **åtgärd tootake när begäran inte har autentiserats** för**logga in med Azure Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-157">(Optional) toorestrict access tooyour site tooonly users authenticated by Azure Active Directory, set **Action tootake when request is not authenticated** too**Log in with Azure Active Directory**.</span></span> <span data-ttu-id="7cf58-158">Detta kräver att alla förfrågningar autentiseras, och alla begäranden som inte har autentiserats är omdirigerade tooAzure Active Directory för autentisering.</span><span class="sxs-lookup"><span data-stu-id="7cf58-158">This requires that all requests be authenticated, and all unauthenticated requests are redirected tooAzure Active Directory for authentication.</span></span>
5. <span data-ttu-id="7cf58-159">Klicka på **Spara**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-159">Click **Save**.</span></span>

<span data-ttu-id="7cf58-160">Nu är du redo toouse Azure Active Directory för autentisering i appen.</span><span class="sxs-lookup"><span data-stu-id="7cf58-160">You are now ready toouse Azure Active Directory for authentication in your app.</span></span>

## <a name="optional-configure-a-native-client-application"></a><span data-ttu-id="7cf58-161">(Valfritt) Konfigurera en native client-program</span><span class="sxs-lookup"><span data-stu-id="7cf58-161">(Optional) Configure a native client application</span></span>
<span data-ttu-id="7cf58-162">Azure Active Directory kan du också tooregister interna klienter, vilket ger dig större kontroll över behörigheter mappning.</span><span class="sxs-lookup"><span data-stu-id="7cf58-162">Azure Active Directory also allows you tooregister native clients, which provides greater control over permissions mapping.</span></span> <span data-ttu-id="7cf58-163">Du behöver den här om du inte vill tooperform inloggningar som använder ett bibliotek som hello **Active Directory Authentication Library**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-163">You need this if you wish tooperform logins using a library such as hello **Active Directory Authentication Library**.</span></span>

1. <span data-ttu-id="7cf58-164">Navigera för**Active Directory** i hello [klassiska Azure-portalen].</span><span class="sxs-lookup"><span data-stu-id="7cf58-164">Navigate too**Active Directory** in hello [Azure classic portal].</span></span>
2. <span data-ttu-id="7cf58-165">Välj din katalog och välj sedan hello **program** fliken hello överst.</span><span class="sxs-lookup"><span data-stu-id="7cf58-165">Select your directory, and then select hello **Applications** tab at hello top.</span></span> <span data-ttu-id="7cf58-166">Klicka på **lägga till** på hello nedre toocreate en ny appregistrering.</span><span class="sxs-lookup"><span data-stu-id="7cf58-166">Click **ADD** at hello bottom toocreate a new app registration.</span></span>
3. <span data-ttu-id="7cf58-167">Klicka på **Lägg till ett program som min organisation utvecklar**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-167">Click **Add an application my organization is developing**.</span></span>
4. <span data-ttu-id="7cf58-168">I guiden Lägg till programmet hello, ange en **namn** för ditt program och klicka på hello **internt klientprogram** typen.</span><span class="sxs-lookup"><span data-stu-id="7cf58-168">In hello Add Application Wizard, enter a **Name** for your application and click hello  **Native Client Application** type.</span></span> <span data-ttu-id="7cf58-169">Klicka på toocontinue.</span><span class="sxs-lookup"><span data-stu-id="7cf58-169">Then click toocontinue.</span></span>
5. <span data-ttu-id="7cf58-170">I hello **omdirigerings-URI** Ange webbplatsens */.auth/login/done* slutpunkten, med hjälp av hello HTTPS-schema.</span><span class="sxs-lookup"><span data-stu-id="7cf58-170">In hello **Redirect URI** box, enter your site's */.auth/login/done* endpoint, using hello HTTPS scheme.</span></span> <span data-ttu-id="7cf58-171">Det här värdet bör vara densamma för*https://contoso.azurewebsites.net/.auth/login/done*.</span><span class="sxs-lookup"><span data-stu-id="7cf58-171">This value should be similar too*https://contoso.azurewebsites.net/.auth/login/done*.</span></span> <span data-ttu-id="7cf58-172">Om du skapar ett Windows-program, i stället använda hello [paket-SID](app-service-mobile-dotnet-how-to-use-client-library.md#package-sid) som hello URI.</span><span class="sxs-lookup"><span data-stu-id="7cf58-172">If creating a Windows application, instead use hello [package SID](app-service-mobile-dotnet-how-to-use-client-library.md#package-sid) as hello URI.</span></span>
6. <span data-ttu-id="7cf58-173">När hello det ursprungliga programmet har lagts till, klickar du på hello **konfigurera** fliken. Hitta hello **klient-ID** och anteckna värdet.</span><span class="sxs-lookup"><span data-stu-id="7cf58-173">Once hello native application has been added, click hello **Configure** tab. Find hello **Client ID** and make a note of this value.</span></span>
7. <span data-ttu-id="7cf58-174">Rulla hello PGDN toohello **behörigheter tooother program** avsnittet och klicka på **lägga till program**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-174">Scroll hello page down toohello **Permissions tooother applications** section and click **Add application**.</span></span>
8. <span data-ttu-id="7cf58-175">Söka efter hello webbprogram som du tidigare har registrerat och klicka på hello plus ikon.</span><span class="sxs-lookup"><span data-stu-id="7cf58-175">Search for hello web application that you registered earlier and click hello plus icon.</span></span> <span data-ttu-id="7cf58-176">Klicka på hello Kontrollera tooclose hello dialogrutan.</span><span class="sxs-lookup"><span data-stu-id="7cf58-176">Then click hello check tooclose hello dialog.</span></span> <span data-ttu-id="7cf58-177">Om hello webb-applikationen inte kan hitta, navigera tooits registrering och lägga till en ny reply URL (t.ex. hello http-versionen av din aktuella URL), klicka på Spara och sedan upprepa stegen - hello programmet ska visas i listan hello.</span><span class="sxs-lookup"><span data-stu-id="7cf58-177">If hello web application cannot be found, navigate tooits registration and add a new reply URL (e.g., hello HTTP version of your current URL), click save, and then repeat these steps - hello application should show up in hello list.</span></span>
9. <span data-ttu-id="7cf58-178">Öppna hello på hello ny post du just lagt till, **delegerade behörigheter** listrutan och välj **åtkomst (appName)**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-178">On hello new entry you just added, open hello **Delegated Permissions** dropdown and select **Access (appName)**.</span></span> <span data-ttu-id="7cf58-179">Klicka sedan på **Spara**.</span><span class="sxs-lookup"><span data-stu-id="7cf58-179">Then click **Save**.</span></span>

<span data-ttu-id="7cf58-180">Du har nu konfigurerat native client-program som har åtkomst till din App-tjänstprogrammet.</span><span class="sxs-lookup"><span data-stu-id="7cf58-180">You have now configured a native client application which can access your App Service application.</span></span>

## <span data-ttu-id="7cf58-181"><a name="related-content"></a>Relaterat innehåll</span><span class="sxs-lookup"><span data-stu-id="7cf58-181"><a name="related-content"> </a>Related Content</span></span>
[!INCLUDE [app-service-mobile-related-content-get-started-users](../../includes/app-service-mobile-related-content-get-started-users.md)]

<!-- Images. -->

[0]: ./media/app-service-mobile-how-to-configure-active-directory-authentication/mobile-app-aad-express-settings.png
[1]: ./media/app-service-mobile-how-to-configure-active-directory-authentication/mobile-app-aad-advanced-settings.png
[2]: ./media/app-service-mobile-how-to-configure-active-directory-authentication/app-service-navigate-aad.png
[3]: ./media/app-service-mobile-how-to-configure-active-directory-authentication/app-service-aad-app-configure.png

<!-- URLs. -->

[Azure-portalen]: https://portal.azure.com/
[klassiska Azure-portalen]: https://manage.windowsazure.com/
[alternative method]:#advanced
