---
title: aaaAuthentication och auktorisering i Azure Mobile Apps | Microsoft Docs
description: "Konceptuell referens- och översikt över hello autentisering / auktorisering funktion för Azure Mobile Apps"
services: app-service\mobile
documentationcenter: 
author: mattchenderson
manager: syntaxc4
editor: 
ms.assetid: a46dbf70-867d-48f6-8885-7f5207ad102e
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 10/01/2016
ms.author: mahender
ms.openlocfilehash: 5255734481ada11afb65982aebe45c2a349402fe
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="authentication-and-authorization-in-azure-mobile-apps"></a><span data-ttu-id="411bd-103">Autentisering och auktorisering i Azure Mobile Apps</span><span class="sxs-lookup"><span data-stu-id="411bd-103">Authentication and Authorization in Azure Mobile Apps</span></span>
## <a name="what-is-app-service-authentication--authorization"></a><span data-ttu-id="411bd-104">Vad är App Service autentisering / auktorisering?</span><span class="sxs-lookup"><span data-stu-id="411bd-104">What is App Service Authentication / Authorization?</span></span>
> [!NOTE]
> <span data-ttu-id="411bd-105">Det här avsnittet kommer att migrerade tooa konsoliderade [App Service autentisering / auktorisering](../app-service/app-service-authentication-overview.md) avsnittet, som omfattar webb-, mobil- och API Apps.</span><span class="sxs-lookup"><span data-stu-id="411bd-105">This topic will be migrated tooa consolidated [App Service Authentication / Authorization](../app-service/app-service-authentication-overview.md) topic, which covers Web, Mobile, and API Apps.</span></span>
> 
> 

<span data-ttu-id="411bd-106">App Service autentisering / auktorisering är en funktion som gör att dina program toolog användare utan kod ändringar som krävs på hello-appserverdelen.</span><span class="sxs-lookup"><span data-stu-id="411bd-106">App Service Authentication / Authorization is a feature which allows your application toolog in users with no code changes required on hello app backend.</span></span> <span data-ttu-id="411bd-107">Det ger ett enkelt sätt tooprotect programmet och arbete data per användare.</span><span class="sxs-lookup"><span data-stu-id="411bd-107">It provides an easy way tooprotect your application and work with per-user data.</span></span>

<span data-ttu-id="411bd-108">Apptjänst använder federerad identitet som 3 parts **identitetsleverantör** (”IDP”) lagrar konton och autentiserar användare och hello programmet använder den här identiteten i stället för en egen.</span><span class="sxs-lookup"><span data-stu-id="411bd-108">App Service uses federated identity, in which a 3rd-party **identity provider** ("IDP") stores accounts and authenticates users, and hello application uses this identity instead of its own.</span></span> <span data-ttu-id="411bd-109">Apptjänst fem identitetsleverantörer out of box hello: *Azure Active Directory*, *Facebook*, *Google*, *Account*, och *Twitter*.</span><span class="sxs-lookup"><span data-stu-id="411bd-109">App Service supports five identity providers out of hello box: *Azure Active Directory*, *Facebook*, *Google*, *Microsoft Account*, and *Twitter*.</span></span> <span data-ttu-id="411bd-110">Du kan också expandera det här stödet för dina appar genom att integrera en annan identitetsleverantör eller din egen lösning för anpassad identitet.</span><span class="sxs-lookup"><span data-stu-id="411bd-110">You can also expand this support for your apps by integrating another identity provider or your own custom identity solution.</span></span>

<span data-ttu-id="411bd-111">Din app kan använda valfritt antal dessa identitetsleverantörer, så du kan ge slutanvändarna alternativ för hur de logga in.</span><span class="sxs-lookup"><span data-stu-id="411bd-111">Your app can leverage any number of these identity providers, so you can provide your end users with options for how they login.</span></span>

<span data-ttu-id="411bd-112">Om du vill tooget igång nu direkt kan se något av följande kurser hello:</span><span class="sxs-lookup"><span data-stu-id="411bd-112">If you wish tooget started right away, please see one of hello following tutorials:</span></span>

* <span data-ttu-id="411bd-113">[Lägg till autentisering tooyour iOS-app]</span><span class="sxs-lookup"><span data-stu-id="411bd-113">[Add authentication tooyour iOS app]</span></span>
* <span data-ttu-id="411bd-114">[Lägg till autentisering tooyour Xamarin.iOS-app]</span><span class="sxs-lookup"><span data-stu-id="411bd-114">[Add authentication tooyour Xamarin.iOS app]</span></span>
* <span data-ttu-id="411bd-115">[Lägg till autentisering tooyour Xamarin.Android-app]</span><span class="sxs-lookup"><span data-stu-id="411bd-115">[Add authentication tooyour Xamarin.Android app]</span></span>
* <span data-ttu-id="411bd-116">[Lägg till autentisering tooyour Windows-app]</span><span class="sxs-lookup"><span data-stu-id="411bd-116">[Add Authentication tooyour Windows app]</span></span>

## <a name="how-authentication-works"></a><span data-ttu-id="411bd-117">Så här fungerar autentisering</span><span class="sxs-lookup"><span data-stu-id="411bd-117">How authentication works</span></span>
<span data-ttu-id="411bd-118">I ordning tooauthenticate med någon av hello identitetsleverantörer, måste du först tooconfigure hello identitet providern tooknow för om ditt program.</span><span class="sxs-lookup"><span data-stu-id="411bd-118">In order tooauthenticate using one of hello identity providers, you first need tooconfigure hello identity provider tooknow about your application.</span></span> <span data-ttu-id="411bd-119">hello identitetsleverantör ger dig sedan med ID: N och hemligheter som du anger den bakre toohello program.</span><span class="sxs-lookup"><span data-stu-id="411bd-119">hello identity provider will then provide you with IDs and secrets that you provide back toohello application.</span></span> <span data-ttu-id="411bd-120">Det har slutförts hello förtroenderelation och gör Apptjänst toovalidate identiteter som tooit.</span><span class="sxs-lookup"><span data-stu-id="411bd-120">This completes hello trust relationship and allows App Service toovalidate identities provided tooit.</span></span>

<span data-ttu-id="411bd-121">Dessa steg beskrivs i följande avsnitt hello:</span><span class="sxs-lookup"><span data-stu-id="411bd-121">These steps are detailed in hello following topics:</span></span>

* <span data-ttu-id="411bd-122">[Hur tooconfigure din app toouse Azure Active Directory-inloggning]</span><span class="sxs-lookup"><span data-stu-id="411bd-122">[How tooconfigure your app toouse Azure Active Directory login]</span></span>
* <span data-ttu-id="411bd-123">[Hur tooconfigure din app toouse Facebook-inloggning]</span><span class="sxs-lookup"><span data-stu-id="411bd-123">[How tooconfigure your app toouse Facebook login]</span></span>
* <span data-ttu-id="411bd-124">[Hur tooconfigure din app toouse Google-inloggning]</span><span class="sxs-lookup"><span data-stu-id="411bd-124">[How tooconfigure your app toouse Google login]</span></span>
* <span data-ttu-id="411bd-125">[Hur tooconfigure din app toouse Account inloggning]</span><span class="sxs-lookup"><span data-stu-id="411bd-125">[How tooconfigure your app toouse Microsoft Account login]</span></span>
* <span data-ttu-id="411bd-126">[Hur tooconfigure din app toouse Twitter-inloggning]</span><span class="sxs-lookup"><span data-stu-id="411bd-126">[How tooconfigure your app toouse Twitter login]</span></span>

<span data-ttu-id="411bd-127">Du kan ändra din klient toolog i när allting har konfigurerats på hello serverdel.</span><span class="sxs-lookup"><span data-stu-id="411bd-127">Once everything is configured on hello backend, you can modify your client toolog in.</span></span> <span data-ttu-id="411bd-128">Det finns två tillvägagångssätt här:</span><span class="sxs-lookup"><span data-stu-id="411bd-128">There are two approaches here:</span></span>

* <span data-ttu-id="411bd-129">Klient-SDK med hjälp av en rad med kod, kan hello Mobile Apps logga in användare.</span><span class="sxs-lookup"><span data-stu-id="411bd-129">Using a single line of code, let hello Mobile Apps client SDK sign in users.</span></span>
* <span data-ttu-id="411bd-130">Dra nytta av en SDK som publicerats av en viss identitet providern tooestablish identitet och få åtkomst till tooApp Service.</span><span class="sxs-lookup"><span data-stu-id="411bd-130">Leverage an SDK published by a given identity provider tooestablish identity and then gain access tooApp Service.</span></span>

> [!TIP]
> <span data-ttu-id="411bd-131">De flesta program ska använda en provider SDK tooget Avbrottsfritt mer intern känslan inloggning och tooleverage uppdatera support och andra provider-specifik fördelar.</span><span class="sxs-lookup"><span data-stu-id="411bd-131">Most applications should use a provider SDK tooget a more native-feeling login experience and tooleverage refresh support and other provider-specific benefits.</span></span>
> 
> 

### <a name="how-authentication-without-a-provider-sdk-works"></a><span data-ttu-id="411bd-132">Hur autentisering utan en provider SDK fungerar</span><span class="sxs-lookup"><span data-stu-id="411bd-132">How authentication without a provider SDK works</span></span>
<span data-ttu-id="411bd-133">Om du inte vill att tooset upp en provider SDK kan du tillåta Mobile Apps tooperform hello inloggningen för dig.</span><span class="sxs-lookup"><span data-stu-id="411bd-133">If you do not wish tooset up a provider SDK, you can allow Mobile Apps tooperform hello login for you.</span></span> <span data-ttu-id="411bd-134">hello Mobile Apps klient-SDK öppnas en web visa toohello provider för att välja och fullständig hello inloggningen.</span><span class="sxs-lookup"><span data-stu-id="411bd-134">hello Mobile Apps client SDK will open a web view toohello provider of your choosing and complete hello sign in.</span></span> <span data-ttu-id="411bd-135">Ibland på bloggar och forum visas detta som anges tooas hello ”server flödet” eller ”server-riktade flödet” sedan hello server hanterar hello inloggningen och hello klient-SDK får aldrig hello providern token.</span><span class="sxs-lookup"><span data-stu-id="411bd-135">Occasionally on blogs and forums you will see this referred tooas hello "server flow" or "server-directed flow" since hello server is managing hello login, and hello client SDK never receives hello provider token.</span></span>

<span data-ttu-id="411bd-136">hello koden behövs toostart detta flöde ingår i hello autentisering självstudier för varje plattform.</span><span class="sxs-lookup"><span data-stu-id="411bd-136">hello code needed toostart this flow is covered in hello authentication tutorial for each platform.</span></span> <span data-ttu-id="411bd-137">Hello slutet av hello flödet, hello klient-SDK har en Apptjänst-token och hello token är automatiskt bifogade tooall begäranden toohello backend.</span><span class="sxs-lookup"><span data-stu-id="411bd-137">At hello end of hello flow, hello client SDK has an App Service token, and hello token is automatically attached tooall requests toohello backend.</span></span>

### <a name="how-authentication-with-a-provider-sdk-works"></a><span data-ttu-id="411bd-138">Hur autentisering med provider SDK fungerar</span><span class="sxs-lookup"><span data-stu-id="411bd-138">How authentication with a provider SDK works</span></span>
<span data-ttu-id="411bd-139">Arbeta med en provider SDK kan hello inloggning toointeract tätare med hello plattform OS hello appen körs på.</span><span class="sxs-lookup"><span data-stu-id="411bd-139">Working with a provider SDK allows hello log-in experience toointeract more tightly with hello platform OS hello app is running on.</span></span> <span data-ttu-id="411bd-140">Detta ger dig också en provider-token och viss användarinformation på hello-klienten, vilket gör det mycket enklare tooconsume graph API: er och anpassa hello användarupplevelsen.</span><span class="sxs-lookup"><span data-stu-id="411bd-140">This also gives you a provider token and some user information on hello client, which makes it much easier tooconsume graph APIs and customize hello user experience.</span></span> <span data-ttu-id="411bd-141">Ibland på bloggar och forum kommer att se den här hänvisade tooas hello ”flödet” eller ”klienten dirigeras flödet” eftersom koden på hello-klienten hanterar hello inloggning och hello klientkod har åtkomsttoken tooa provider.</span><span class="sxs-lookup"><span data-stu-id="411bd-141">Occasionally on blogs and forums you will see this referred tooas hello "client flow" or "client-directed flow" since code on hello client is handling hello login, and hello client code has access tooa provider token.</span></span>

<span data-ttu-id="411bd-142">När en provider-token har erhållit måste toobe skickas tooApp Service för verifiering.</span><span class="sxs-lookup"><span data-stu-id="411bd-142">Once a provider token is obtained, it needs toobe sent tooApp Service for validation.</span></span> <span data-ttu-id="411bd-143">Hello slutet av hello flödet, hello klient-SDK har en Apptjänst-token och hello token är automatiskt bifogade tooall begäranden toohello backend.</span><span class="sxs-lookup"><span data-stu-id="411bd-143">At hello end of hello flow, hello client SDK has an App Service token, and hello token is automatically attached tooall requests toohello backend.</span></span> <span data-ttu-id="411bd-144">hello utvecklare kan också behålla en referens toohello providern token om de vill.</span><span class="sxs-lookup"><span data-stu-id="411bd-144">hello developer can also keep a reference toohello provider token if they so choose.</span></span>

## <a name="how-authorization-works"></a><span data-ttu-id="411bd-145">Så här fungerar auktorisering</span><span class="sxs-lookup"><span data-stu-id="411bd-145">How authorization works</span></span>
<span data-ttu-id="411bd-146">App Service autentisering / auktorisering visar flera alternativ för **åtgärd tootake när begäran inte har autentiserats**.</span><span class="sxs-lookup"><span data-stu-id="411bd-146">App Service Authentication / Authorization exposes several choices for **Action tootake when request is not authenticated**.</span></span> <span data-ttu-id="411bd-147">Innan koden tar emot en viss begäran, kan ha Apptjänst Kontrollera toosee om hello begäran har autentiserats och om inte, avvisa den och försök toohave hello användare logga in innan du försöker igen.</span><span class="sxs-lookup"><span data-stu-id="411bd-147">Before your code receives a given request, you can have App Service check toosee if hello request is authenticated and if not, reject it and attempt toohave hello user log in before trying again.</span></span>

<span data-ttu-id="411bd-148">Ett alternativ är toohave oautentiserade begäranden omdirigera tooone av hello identitetsleverantörer.</span><span class="sxs-lookup"><span data-stu-id="411bd-148">One option is toohave unauthenticated requests redirect tooone of hello identity providers.</span></span> <span data-ttu-id="411bd-149">I en webbläsare, skulle det faktiskt ta hello användaren tooa ny sida.</span><span class="sxs-lookup"><span data-stu-id="411bd-149">In a web browser, this would actually take hello user tooa new page.</span></span> <span data-ttu-id="411bd-150">Dock mobila klienten inte omdirigeras på detta sätt och oautentiserade svar får en HTTP *401 obehörig* svar.</span><span class="sxs-lookup"><span data-stu-id="411bd-150">However, your mobile client cannot be redirected in this way, and unauthenticated responses will receive an HTTP *401 Unauthorized* response.</span></span> <span data-ttu-id="411bd-151">Detta hello första förfrågan som gör att klienten ska alltid vara toohello inloggningen endpoint och gör sedan anropar tooany andra API: er.</span><span class="sxs-lookup"><span data-stu-id="411bd-151">Given this, hello first request your client makes should always be toohello login endpoint, and then you can make calls tooany other APIs.</span></span> <span data-ttu-id="411bd-152">Om du försöker toocall en annan API innan du loggar in får klienten ett fel.</span><span class="sxs-lookup"><span data-stu-id="411bd-152">If you attempt toocall another API before logging in, your client will receive an error.</span></span>

<span data-ttu-id="411bd-153">Om du inte vill toohave mer detaljerad kontroll över vilka slutpunkter kräver autentisering, du kan också hämta ”ingen åtgärd (Tillåt begäranden)” för oautentiserade begäranden.</span><span class="sxs-lookup"><span data-stu-id="411bd-153">If you wish toohave more granular control over which endpoints require authentication, you can also pick "No action (allow request)" for unauthenticated requests.</span></span> <span data-ttu-id="411bd-154">I så fall måste alla beslut om autentisering uppskjutna tooyour programkod.</span><span class="sxs-lookup"><span data-stu-id="411bd-154">In this case, all authentication decisions are deferred tooyour application code.</span></span> <span data-ttu-id="411bd-155">Du kan också tooallow-toospecific användare baserat på regler för anpassad auktorisering.</span><span class="sxs-lookup"><span data-stu-id="411bd-155">This also allows you tooallow access toospecific users based on custom authorization rules.</span></span>

## <a name="documentation"></a><span data-ttu-id="411bd-156">Dokumentation</span><span class="sxs-lookup"><span data-stu-id="411bd-156">Documentation</span></span>
<span data-ttu-id="411bd-157">Hej följande kurser visar hur tooadd autentisering tooyour mobila klienter använder App Service:</span><span class="sxs-lookup"><span data-stu-id="411bd-157">hello following tutorials show how tooadd authentication tooyour mobile clients using App Service:</span></span>

* <span data-ttu-id="411bd-158">[Lägg till autentisering tooyour iOS-app]</span><span class="sxs-lookup"><span data-stu-id="411bd-158">[Add authentication tooyour iOS app]</span></span>
* <span data-ttu-id="411bd-159">[Lägg till autentisering tooyour Xamarin.iOS-app]</span><span class="sxs-lookup"><span data-stu-id="411bd-159">[Add authentication tooyour Xamarin.iOS app]</span></span>
* <span data-ttu-id="411bd-160">[Lägg till autentisering tooyour Xamarin.Android-app]</span><span class="sxs-lookup"><span data-stu-id="411bd-160">[Add authentication tooyour Xamarin.Android app]</span></span>
* <span data-ttu-id="411bd-161">[Lägg till autentisering tooyour Windows-app]</span><span class="sxs-lookup"><span data-stu-id="411bd-161">[Add Authentication tooyour Windows app]</span></span>

<span data-ttu-id="411bd-162">Hej följande kurser visar hur tooconfigure App tooleverage olika leverantörer:</span><span class="sxs-lookup"><span data-stu-id="411bd-162">hello following tutorials show how tooconfigure App Service tooleverage different authentication providers:</span></span>

* <span data-ttu-id="411bd-163">[Hur tooconfigure din app toouse Azure Active Directory-inloggning]</span><span class="sxs-lookup"><span data-stu-id="411bd-163">[How tooconfigure your app toouse Azure Active Directory login]</span></span>
* <span data-ttu-id="411bd-164">[Hur tooconfigure din app toouse Facebook-inloggning]</span><span class="sxs-lookup"><span data-stu-id="411bd-164">[How tooconfigure your app toouse Facebook login]</span></span>
* <span data-ttu-id="411bd-165">[Hur tooconfigure din app toouse Google-inloggning]</span><span class="sxs-lookup"><span data-stu-id="411bd-165">[How tooconfigure your app toouse Google login]</span></span>
* <span data-ttu-id="411bd-166">[Hur tooconfigure din app toouse Account inloggning]</span><span class="sxs-lookup"><span data-stu-id="411bd-166">[How tooconfigure your app toouse Microsoft Account login]</span></span>
* <span data-ttu-id="411bd-167">[Hur tooconfigure din app toouse Twitter-inloggning]</span><span class="sxs-lookup"><span data-stu-id="411bd-167">[How tooconfigure your app toouse Twitter login]</span></span>

<span data-ttu-id="411bd-168">Om du inte vill toouse ett identitetssystem än hello de som anges här, kan du också använda hello [Förhandsgranska stöd för anpassad autentisering i hello .NET server SDK](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth).</span><span class="sxs-lookup"><span data-stu-id="411bd-168">If you wish toouse an identity system other than hello ones provided here, you can also leverage hello [preview custom authentication support in hello .NET server SDK](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth).</span></span>

[Lägg till autentisering tooyour iOS-app]: app-service-mobile-ios-get-started-users.md
[Lägg till autentisering tooyour Xamarin.iOS-app]: app-service-mobile-xamarin-ios-get-started-users.md
[Lägg till autentisering tooyour Xamarin.Android-app]: app-service-mobile-xamarin-android-get-started-users.md
[Lägg till autentisering tooyour Windows-app]: app-service-mobile-windows-store-dotnet-get-started-users.md

[Hur tooconfigure din app toouse Azure Active Directory-inloggning]: app-service-mobile-how-to-configure-active-directory-authentication.md
[Hur tooconfigure din app toouse Facebook-inloggning]: app-service-mobile-how-to-configure-facebook-authentication.md
[Hur tooconfigure din app toouse Google-inloggning]: app-service-mobile-how-to-configure-google-authentication.md
[Hur tooconfigure din app toouse Account inloggning]: app-service-mobile-how-to-configure-microsoft-authentication.md
[Hur tooconfigure din app toouse Twitter-inloggning]: app-service-mobile-how-to-configure-twitter-authentication.md
