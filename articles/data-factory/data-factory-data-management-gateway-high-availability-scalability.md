---
title: "aaaHigh tillgänglighet med data management gateway i Azure Data Factory | Microsoft Docs"
description: "Den här artikeln förklarar hur du kan skala ut en data management gateway genom att lägga till fler noder och skala upp genom att öka antalet samtidiga jobb som kan köras på en nod."
services: data-factory
documentationcenter: 
author: nabhishek
manager: jhubbard
editor: 
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: abnarain
ms.openlocfilehash: 925f63728e23596bca2655636f6535b509fce0b1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="data-management-gateway---high-availability-and-scalability-preview"></a><span data-ttu-id="31698-103">Data Management Gateway - hög tillgänglighet och skalbarhet (förhandsgranskning)</span><span class="sxs-lookup"><span data-stu-id="31698-103">Data Management Gateway - high availability and scalability (Preview)</span></span>
<span data-ttu-id="31698-104">Den här artikeln hjälper dig att konfigurera lösning för hög tillgänglighet och skalbarhet med Data Management Gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-104">This article helps you configure high availability and scalability solution with Data Management Gateway.</span></span>    

> [!NOTE]
> <span data-ttu-id="31698-105">Den här artikeln förutsätter att du känner till grunderna för Data Management Gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-105">This article assumes that you are already familiar with basics of Data Management Gateway.</span></span> <span data-ttu-id="31698-106">Om du inte är finns [Data Management Gateway](data-factory-data-management-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="31698-106">If you are not, see [Data Management Gateway](data-factory-data-management-gateway.md).</span></span>

><span data-ttu-id="31698-107">**Den här förhandsgranskningsfunktionen stöds officiellt i Data Management Gateway version 2.12.xxxx.x och senare**.</span><span class="sxs-lookup"><span data-stu-id="31698-107">**This preview feature is officially supported on Data Management Gateway version 2.12.xxxx.x and above**.</span></span> <span data-ttu-id="31698-108">Kontrollera att du använder version 2.12.xxxx.x eller senare.</span><span class="sxs-lookup"><span data-stu-id="31698-108">Please make sure you are using version 2.12.xxxx.x or above.</span></span> <span data-ttu-id="31698-109">Hämta hello senaste versionen av Data Management Gateway [här](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="31698-109">Download hello latest version of Data Management Gateway [here](https://www.microsoft.com/download/details.aspx?id=39717).</span></span>

## <a name="overview"></a><span data-ttu-id="31698-110">Översikt</span><span class="sxs-lookup"><span data-stu-id="31698-110">Overview</span></span>
<span data-ttu-id="31698-111">Du kan associera data management gateway som är installerade på flera lokala datorer med en enda logiska gateway från hello-portalen.</span><span class="sxs-lookup"><span data-stu-id="31698-111">You can associate data management gateways that are installed on multiple on-premises machines with a single logical gateway from hello portal.</span></span> <span data-ttu-id="31698-112">Dessa datorer kallas **noder**.</span><span class="sxs-lookup"><span data-stu-id="31698-112">These machines are called **nodes**.</span></span> <span data-ttu-id="31698-113">Du kan ha upp för**fyra noder** som är associerade med en logisk gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-113">You can have up too**four nodes** associated with a logical gateway.</span></span> <span data-ttu-id="31698-114">hello fördelarna med flera noder (lokala datorer med installerade-gateway) för en logisk gateway är:</span><span class="sxs-lookup"><span data-stu-id="31698-114">hello benefits of having multiple nodes (on-premises machines with gateway installed) for a logical gateway are:</span></span>  

- <span data-ttu-id="31698-115">Förbättra prestanda vid flytt av data mellan lokala och moln datalager.</span><span class="sxs-lookup"><span data-stu-id="31698-115">Improve performance of data movement between on-premises and cloud data stores.</span></span>  
- <span data-ttu-id="31698-116">Andra noder är tillgängliga för att flytta hello data om en av noderna hello kraschar av någon anledning.</span><span class="sxs-lookup"><span data-stu-id="31698-116">If one of hello nodes goes down for some reason, other nodes are still available for moving hello data.</span></span> 
- <span data-ttu-id="31698-117">Om en av noderna hello behöver toobe kopplas från för underhåll är andra noder tillgängliga för att flytta hello data.</span><span class="sxs-lookup"><span data-stu-id="31698-117">If one of hello nodes need toobe taken offline for maintenance, other nodes are still available for moving hello data.</span></span>

<span data-ttu-id="31698-118">Du kan också konfigurera hello antalet **samtidiga data movement jobb** som körs på en nod tooscale in hello möjlighet att flytta data mellan lokalt och i molnet datalager.</span><span class="sxs-lookup"><span data-stu-id="31698-118">You can also configure hello number of **concurrent data movement jobs** that can run on a node tooscale up hello capability of moving data between on-premises and cloud data stores.</span></span> 

<span data-ttu-id="31698-119">Med hello Azure-portalen kan du övervaka hello status för noderna, som hjälper dig att bestämma om tooadd eller ta bort en nod från hello logiska gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-119">Using hello Azure portal, you can monitor hello status of these nodes, which helps you decide whether tooadd or remove a node from hello logical gateway.</span></span> 

## <a name="architecture"></a><span data-ttu-id="31698-120">Arkitektur</span><span class="sxs-lookup"><span data-stu-id="31698-120">Architecture</span></span> 
<span data-ttu-id="31698-121">hello ger följande diagram hello Arkitekturöversikt för skalbarhet och tillgänglighet funktion i hello Data Management Gateway:</span><span class="sxs-lookup"><span data-stu-id="31698-121">hello following diagram provides hello architecture overview of scalability and availability feature of hello Data Management Gateway:</span></span> 

![Data Management Gateway - hög tillgänglighet och skalbarhet](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-high-availability-and-scalability.png)

<span data-ttu-id="31698-123">En **logiska gateway** är hello-gateway som du lägger till tooa data factory i hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="31698-123">A **logical gateway** is hello gateway you add tooa data factory in hello Azure portal.</span></span> <span data-ttu-id="31698-124">Tidigare, kan du koppla bara en lokal Windows-dator med Data Management Gateway installeras med en logisk gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-124">Earlier, you could associate only one on-premises Windows machine with Data Management Gateway installed with a logical gateway.</span></span> <span data-ttu-id="31698-125">Det lokala gateway-datorn kallas en nod.</span><span class="sxs-lookup"><span data-stu-id="31698-125">This on-premises gateway machine is called a node.</span></span> <span data-ttu-id="31698-126">Nu kan du koppla upp för**fyra fysiska noder** med en logisk gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-126">Now, you can associate up too**four physical nodes** with a logical gateway.</span></span> <span data-ttu-id="31698-127">En logisk gateway med flera noder kallas en **med flera noder gateway**.</span><span class="sxs-lookup"><span data-stu-id="31698-127">A logical gateway with multiple nodes is called a **multi-node gateway**.</span></span>  

<span data-ttu-id="31698-128">Alla noder är **active**.</span><span class="sxs-lookup"><span data-stu-id="31698-128">All these nodes are **active**.</span></span> <span data-ttu-id="31698-129">Alla kan bearbeta data movement jobb toomove data mellan lokalt och i molnet datalager.</span><span class="sxs-lookup"><span data-stu-id="31698-129">They all can process data movement jobs toomove data between on-premises and cloud data stores.</span></span> <span data-ttu-id="31698-130">En av noderna hello fungerar som dispatcher- och arbetsroller.</span><span class="sxs-lookup"><span data-stu-id="31698-130">One of hello nodes act as both dispatcher and worker.</span></span> <span data-ttu-id="31698-131">Andra noder i hello grupper är arbetsnoderna.</span><span class="sxs-lookup"><span data-stu-id="31698-131">Other nodes in hello groups are worker nodes.</span></span> <span data-ttu-id="31698-132">En **dispatcher** hämtar data movement uppgifter/jobb från hello-Molntjänsten och skickar dem tooworker noder (inklusive sig själv).</span><span class="sxs-lookup"><span data-stu-id="31698-132">A **dispatcher** node pulls data movement tasks/jobs from hello cloud service and dispatches them tooworker nodes (including itself).</span></span> <span data-ttu-id="31698-133">En **worker** noden kör data movement jobb toomove data mellan lokalt och i molnet datalager.</span><span class="sxs-lookup"><span data-stu-id="31698-133">A **worker** node executes data movement jobs toomove data between on-premises and cloud data stores.</span></span> <span data-ttu-id="31698-134">Alla noder är arbetare.</span><span class="sxs-lookup"><span data-stu-id="31698-134">All nodes are workers.</span></span> <span data-ttu-id="31698-135">Endast en nod kan vara både sändnings- och arbetsroller.</span><span class="sxs-lookup"><span data-stu-id="31698-135">Only one node can be both dispatch and worker.</span></span>    

<span data-ttu-id="31698-136">Normalt börjar med en nod och **skala ut** tooadd fler noder som hello befintliga noderna är för många med hello flytt datainläsning.</span><span class="sxs-lookup"><span data-stu-id="31698-136">You may typically start with one node and **scale out** tooadd more nodes as hello existing node(s) are overwhelmed with hello data movement load.</span></span> <span data-ttu-id="31698-137">Du kan också **skala upp** hello data movement kapaciteten för en gateway-nod genom att öka hello antalet samtidiga jobb som är tillåtna toorun på hello-nod.</span><span class="sxs-lookup"><span data-stu-id="31698-137">You can also **scale up** hello data movement capability of a gateway node by increasing hello number of concurrent jobs that are allowed toorun on hello node.</span></span> <span data-ttu-id="31698-138">Den här funktionen finns också med en enda nod gateway (även när hello skalbarhet och tillgänglighet funktionen inte är aktiverad).</span><span class="sxs-lookup"><span data-stu-id="31698-138">This capability is also available with a single-node gateway (even when hello scalability and availability feature is not enabled).</span></span> 

<span data-ttu-id="31698-139">En gateway med flera noder behåller autentiseringsuppgifterna hello datalager synkroniserade på alla noder.</span><span class="sxs-lookup"><span data-stu-id="31698-139">A gateway with multiple nodes keeps hello data store credentials in sync across all nodes.</span></span> <span data-ttu-id="31698-140">Om det finns en nod till nod anslutningsproblem, kanske hello autentiseringsuppgifter inte synkroniserade. När du ställer in autentiseringsuppgifterna för ett lokalt datalager som använder en gateway sparar autentiseringsuppgifter på hello dispatcher/arbetsnoden.</span><span class="sxs-lookup"><span data-stu-id="31698-140">If there is a node-to-node connectivity issue, hello credentials may be out of sync. When you set credentials for an on-premises data store that uses a gateway, it saves credentials on hello dispatcher/worker node.</span></span> <span data-ttu-id="31698-141">hello dispatcher nod synkroniseras med andra arbetsnoderna.</span><span class="sxs-lookup"><span data-stu-id="31698-141">hello dispatcher node syncs with other worker nodes.</span></span> <span data-ttu-id="31698-142">Den här processen kallas **autentiseringsuppgifter sync**. hello kommunikationskanalen mellan noder kan vara **krypterade** av ett offentligt SSL/TLS-certifikat.</span><span class="sxs-lookup"><span data-stu-id="31698-142">This process is known as **credentials sync**. hello communication channel between nodes can be **encrypted** by a public SSL/TLS certificate.</span></span> 

## <a name="set-up-a-multi-node-gateway"></a><span data-ttu-id="31698-143">Konfigurera en gateway med flera noder</span><span class="sxs-lookup"><span data-stu-id="31698-143">Set up a multi-node gateway</span></span>
<span data-ttu-id="31698-144">Det här avsnittet förutsätter att du har gått igenom följande två artiklar eller bekant med principerna i de här artiklarna hello:</span><span class="sxs-lookup"><span data-stu-id="31698-144">This section assumes that you have gone through hello following two articles or familiar with concepts in these articles:</span></span> 

- <span data-ttu-id="31698-145">[Data Management Gateway](data-factory-data-management-gateway.md) -ger en detaljerad översikt över hello gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-145">[Data Management Gateway](data-factory-data-management-gateway.md) - provides a detailed overview of hello gateway.</span></span>
- <span data-ttu-id="31698-146">[Flytta data mellan lokalt och i molnet datalager](data-factory-move-data-between-onprem-and-cloud.md) -innehåller en genomgång med stegvisa instruktioner för att använda en gateway med en enda nod.</span><span class="sxs-lookup"><span data-stu-id="31698-146">[Move data between on-premises and cloud data stores](data-factory-move-data-between-onprem-and-cloud.md) - contains a walkthrough with step-by-step instructions for using a gateway with a single node.</span></span>  

> [!NOTE]
> <span data-ttu-id="31698-147">Innan du installerar en data management gateway på en lokal Windows-dator, se förutsättningarna som angavs i [hello Huvudartikel](data-factory-data-management-gateway.md#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="31698-147">Before you install a data management gateway on an on-premises Windows machine, see prerequisites listed in [hello main article](data-factory-data-management-gateway.md#prerequisites).</span></span>

1. <span data-ttu-id="31698-148">I hello [genomgången](data-factory-move-data-between-onprem-and-cloud.md#create-gateway), när du skapar en logisk gateway måste du aktivera hello **hög tillgänglighet och skalbarhet** funktion.</span><span class="sxs-lookup"><span data-stu-id="31698-148">In hello [walkthrough](data-factory-move-data-between-onprem-and-cloud.md#create-gateway), while creating a logical gateway, enable hello **High Availability & Scalability** feature.</span></span> 

    ![Data Management Gateway - Aktivera hög tillgänglighet och skalbarhet](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-enable-high-availability-scalability.png)
2. <span data-ttu-id="31698-150">I hello **konfigurera** använder antingen **snabbinstallationen** eller **manuell installation** länka tooinstall en gateway på hello första noden (ett lokalt Windows-dator).</span><span class="sxs-lookup"><span data-stu-id="31698-150">In hello **Configure** page, use either **Express Setup** or **Manual Setup** link tooinstall a gateway on hello first node (an on-premises Windows machine).</span></span>

    ![Data Management Gateway - uttrycklig eller manuell installation](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-express-manual-setup.png)

    > [!NOTE]
    > <span data-ttu-id="31698-152">Om du använder hello Expressinstallationen alternativet görs hello nod till nod kommunikation utan kryptering.</span><span class="sxs-lookup"><span data-stu-id="31698-152">If you use hello express setup option, hello node-to-node communication is done without encryption.</span></span> <span data-ttu-id="31698-153">hello nodnamnet är samma som hello datornamnet.</span><span class="sxs-lookup"><span data-stu-id="31698-153">hello node name is same as hello machine name.</span></span> <span data-ttu-id="31698-154">Använda manuell installation om hello nod nod kommunikation måste toobe krypterade eller om du vill toospecify ett nodnamn du väljer.</span><span class="sxs-lookup"><span data-stu-id="31698-154">Use manual setup if hello node-node communication needs toobe encrypted or you want toospecify a node name of your choice.</span></span> <span data-ttu-id="31698-155">Nod-namn kan inte ändras senare.</span><span class="sxs-lookup"><span data-stu-id="31698-155">Node names cannot be edited later.</span></span>
3. <span data-ttu-id="31698-156">Om du väljer **Expressinstallation**</span><span class="sxs-lookup"><span data-stu-id="31698-156">If you choose **express setup**</span></span>
    1. <span data-ttu-id="31698-157">Du ser hello efter meddelande när hello gateway har installerats:</span><span class="sxs-lookup"><span data-stu-id="31698-157">You see hello following message after hello gateway is successfully installed:</span></span>

        ![Data Management Gateway - Expressinstallationen lyckades](media/data-factory-data-management-gateway-high-availability-scalability/express-setup-success.png)
    2. <span data-ttu-id="31698-159">Starta Data Management Configuration Manager för hello gateway genom att följa [instruktionerna](data-factory-data-management-gateway.md#configuration-manager).</span><span class="sxs-lookup"><span data-stu-id="31698-159">Launch Data Management Configuration Manager for hello gateway by following [these instructions](data-factory-data-management-gateway.md#configuration-manager).</span></span> <span data-ttu-id="31698-160">Du kan se hello gateway-namnet, nodnamn, status, osv.</span><span class="sxs-lookup"><span data-stu-id="31698-160">You see hello gateway name, node name, status, etc.</span></span>

        ![Data Management Gateway - installationen är klar](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-installation-success.png)
4. <span data-ttu-id="31698-162">Om du väljer **manuell installation**:</span><span class="sxs-lookup"><span data-stu-id="31698-162">If you choose **manual setup**:</span></span>
    1. <span data-ttu-id="31698-163">Hämta installationspaketet för hello från hello Microsoft Download Center, kör tooinstall gateway på din dator.</span><span class="sxs-lookup"><span data-stu-id="31698-163">Download hello installation package from hello Microsoft Download Center, run it tooinstall gateway on your machine.</span></span>
    2. <span data-ttu-id="31698-164">Använd hello **autentiseringsnyckel** från hello **konfigurera** sidan tooregister hello gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-164">Use hello **authentication key** from hello **Configure** page tooregister hello gateway.</span></span>
    
        ![Data Management Gateway - installationen är klar](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-authentication-key.png)
    3. <span data-ttu-id="31698-166">I hello **ny gateway-noden** kan du ange ett eget **namn** toohello gateway-noden.</span><span class="sxs-lookup"><span data-stu-id="31698-166">In hello **New gateway node** page, you can provide a custom **name** toohello gateway node.</span></span> <span data-ttu-id="31698-167">Nodnamnet är samma som hello datornamnet.</span><span class="sxs-lookup"><span data-stu-id="31698-167">By default, node name is same as hello machine name.</span></span>    

        ![Data Management Gateway - ange namn](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-name.png)
    4. <span data-ttu-id="31698-169">I hello nästa sida kan du välja om för**Aktivera kryptering för kommunikation från nod till nod**.</span><span class="sxs-lookup"><span data-stu-id="31698-169">In hello next page, you can choose whether too**enable encryption for node-to-node communication**.</span></span> <span data-ttu-id="31698-170">Klicka på **hoppa över** toodisable kryptering (standard).</span><span class="sxs-lookup"><span data-stu-id="31698-170">Click **Skip** toodisable encryption (default).</span></span>

        ![Data Management Gateway - Aktivera kryptering](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-node-encryption.png)  
    
        > [!NOTE]
        > <span data-ttu-id="31698-172">Ändra läget för kryptering stöds endast när du har en enda gateway-noden i hello logiska gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-172">Changing of encryption mode is only supported when you have a single gateway node in hello logical gateway.</span></span> <span data-ttu-id="31698-173">toochange hello Krypteringsläge när en gateway har flera noder hello följande steg: ta bort alla hello noder utom en nod, ändra hello Krypteringsläge och Lägg sedan till hello noder.</span><span class="sxs-lookup"><span data-stu-id="31698-173">toochange hello encryption mode when a gateway has multiple nodes, do hello following steps: delete all hello nodes except one node, change hello encryption mode, and then add hello nodes again.</span></span>
        > 
        > <span data-ttu-id="31698-174">Se [kraven för TLS/SSL-certifikat](#tlsssl-certificate-requirements) avsnittet för en lista över kraven för att använda TLS/SSL-certifikat.</span><span class="sxs-lookup"><span data-stu-id="31698-174">See [TLS/SSL certificate requirements](#tlsssl-certificate-requirements) section for a list of requirements for using an TLS/SSL certificate.</span></span> 
    5. <span data-ttu-id="31698-175">När hello gateway har installerats klickar du på Starta Configuration Manager:</span><span class="sxs-lookup"><span data-stu-id="31698-175">After hello gateway is successfully installed, click Launch Configuration Manager:</span></span>
    
        ![Manuell installation – starta configuration manager](media/data-factory-data-management-gateway-high-availability-scalability/manual-setup-launch-configuration-manager.png)   
    6. <span data-ttu-id="31698-177">Du ser Data Management Gateway Configuration Manager på hello-nod (lokala Windows-dator), som visar anslutningsstatus, **gatewaynamnet**, och **nodnamnet**.</span><span class="sxs-lookup"><span data-stu-id="31698-177">you see Data Management Gateway Configuration Manager on hello node (on-premises Windows machine), which shows connectivity status, **gateway name**, and **node name**.</span></span>  

        ![Data Management Gateway - installationen är klar](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-installation-success.png)

        > [!NOTE]
        > <span data-ttu-id="31698-179">Om du etablerar hello gateway på en Azure VM, kan du använda [Azure Resource Manager-mallen på GitHub](https://github.com/xiaoyingLJ/vms-with-multiple-data-management-gateway).</span><span class="sxs-lookup"><span data-stu-id="31698-179">If you are provisioning hello gateway on an Azure VM, you can use [this Azure Resource Manager template on GitHub](https://github.com/xiaoyingLJ/vms-with-multiple-data-management-gateway).</span></span> <span data-ttu-id="31698-180">Det här skriptet skapar en logisk gateway, ställer in virtuella datorer med Data Management Gateway-programvaran och registrerar dem med hello logiska gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-180">This script creates a logical gateway, sets up VMs with Data Management Gateway software installed, and registers them with hello logical gateway.</span></span> 
6. <span data-ttu-id="31698-181">Starta i Azure-portalen hello **Gateway** sidan:</span><span class="sxs-lookup"><span data-stu-id="31698-181">In Azure portal, launch hello **Gateway** page:</span></span> 
    1. <span data-ttu-id="31698-182">Klicka på hello data factory startsidan i portalen hello **länkade tjänster**.</span><span class="sxs-lookup"><span data-stu-id="31698-182">On hello data factory home page in hello portal, click **Linked Services**.</span></span>
    
        ![Datafabrikens startsida](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-home-page.png)
    2. <span data-ttu-id="31698-184">Välj hello **gateway** toosee hello **Gateway** sidan:</span><span class="sxs-lookup"><span data-stu-id="31698-184">select hello **gateway** toosee hello **Gateway** page:</span></span>
    
        ![Datafabrikens startsida](media/data-factory-data-management-gateway-high-availability-scalability/linked-services-gateway.png)
    4. <span data-ttu-id="31698-186">Du ser hello **Gateway** sidan:</span><span class="sxs-lookup"><span data-stu-id="31698-186">You see hello **Gateway** page:</span></span>   

        ![Gateway med enskild nod vy](media/data-factory-data-management-gateway-high-availability-scalability/gateway-first-node-portal-view.png) 
7. <span data-ttu-id="31698-188">Klicka på **Lägg till nod** på hello verktygsfältet tooadd nod toohello logiska gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-188">Click **Add Node** on hello toolbar tooadd a node toohello logical gateway.</span></span> <span data-ttu-id="31698-189">Om du planerar toouse Expressinstallationen gör du detta steg från hello lokala dator som ska läggas till som en nod toohello gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-189">If you are planning toouse express setup, do this step from hello on-premises machine that will be added as a node toohello gateway.</span></span> 

    ![Data Management Gateway - noden menyn Lägg till](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-add-node-menu.png)
8. <span data-ttu-id="31698-191">Stegen är liknande toosetting in hello första noden.</span><span class="sxs-lookup"><span data-stu-id="31698-191">Steps are similar toosetting up hello first node.</span></span> <span data-ttu-id="31698-192">hello Configuration Manager UI kan du ange hello nodnamnet om du väljer alternativet för manuell installation av hello:</span><span class="sxs-lookup"><span data-stu-id="31698-192">hello Configuration Manager UI lets you set hello node name if you choose hello manual installation option:</span></span> 

    ![Configuration Manager - installationen andra gateway](media/data-factory-data-management-gateway-high-availability-scalability/install-second-gateway.png)
9. <span data-ttu-id="31698-194">När hello gateway har installerats på hello nod, visar hello Configuration Manager-verktyget hello följande skärm:</span><span class="sxs-lookup"><span data-stu-id="31698-194">After hello gateway is installed successfully on hello node, hello Configuration Manager tool displays hello following screen:</span></span>  

    ![Configuration Manager - installationen andra gateway lyckades](media/data-factory-data-management-gateway-high-availability-scalability/second-gateway-installation-successful.png)
10. <span data-ttu-id="31698-196">Om du öppnar hello **Gateway** sidan hello portal visas i två gateway-noder nu:</span><span class="sxs-lookup"><span data-stu-id="31698-196">If you open hello **Gateway** page in hello portal, you see two gateway nodes now:</span></span> 

    ![Gateway med två noder i hello-portalen](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring.png)
11. <span data-ttu-id="31698-198">toodelete gateway-noden, klicka på **ta bort nod** hello i verktygsfältet väljer du hello nod du toodelete, och klickar sedan på **ta bort** från hello verktygsfält.</span><span class="sxs-lookup"><span data-stu-id="31698-198">toodelete a gateway node, click **Delete Node** on hello toolbar, select hello node you want toodelete, and then click **Delete** from hello toolbar.</span></span> <span data-ttu-id="31698-199">Den här åtgärden tar bort hello markerade noden från hello-gruppen.</span><span class="sxs-lookup"><span data-stu-id="31698-199">This action deletes hello selected node from hello group.</span></span> <span data-ttu-id="31698-200">Observera att den här åtgärden inte avinstallerar hello data management gateway programvara från hello nod (lokala Windows-dator).</span><span class="sxs-lookup"><span data-stu-id="31698-200">Note that this action does not uninstall hello data management gateway software from hello node (on-premises Windows machine).</span></span> <span data-ttu-id="31698-201">Använd **Lägg till eller ta bort program** på Kontrollpanelen på hello lokala toouninstall hello gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-201">Use **Add or remove programs** in Control Panel on hello on-premises toouninstall hello gateway.</span></span> <span data-ttu-id="31698-202">När du avinstallerar gateway från hello nod bort den automatiskt i hello-portalen.</span><span class="sxs-lookup"><span data-stu-id="31698-202">When you uninstall gateway from hello node, it's automatically deleted in hello portal.</span></span>   

## <a name="upgrade-an-existing-gateway"></a><span data-ttu-id="31698-203">Uppgradera en befintlig gateway</span><span class="sxs-lookup"><span data-stu-id="31698-203">Upgrade an existing gateway</span></span>
<span data-ttu-id="31698-204">Du kan uppgradera en befintlig gateway toouse hello hög tillgänglighet och skalbarhet-funktionen.</span><span class="sxs-lookup"><span data-stu-id="31698-204">You can upgrade an existing gateway toouse hello high availability and scalability feature.</span></span> <span data-ttu-id="31698-205">Den här funktionen fungerar bara med noder som har hello data management gateway version > = 2.12.xxxx.</span><span class="sxs-lookup"><span data-stu-id="31698-205">This feature works only with nodes that have hello data management gateway of version >= 2.12.xxxx.</span></span> <span data-ttu-id="31698-206">Du kan se hello version av data management gateway installeras på en dator i hello **hjälp** fliken hello Data Management Gateway Configuration Manager.</span><span class="sxs-lookup"><span data-stu-id="31698-206">You can see hello version of data management gateway installed on a machine in hello **Help** tab of hello Data Management Gateway Configuration Manager.</span></span> 

1. <span data-ttu-id="31698-207">Uppdatera hello gateway på hello lokala dator toohello senaste versionen genom att följa genom att hämta och köra en MSI-installationspaketet från hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="31698-207">Update hello gateway on hello on-premises machine toohello latest version by following by downloading and running an MSI setup package from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span></span> <span data-ttu-id="31698-208">Se [installation](data-factory-data-management-gateway.md#installation) information.</span><span class="sxs-lookup"><span data-stu-id="31698-208">See [installation](data-factory-data-management-gateway.md#installation) section for details.</span></span>  
2. <span data-ttu-id="31698-209">Navigera toohello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="31698-209">Navigate toohello Azure portal.</span></span> <span data-ttu-id="31698-210">Starta hello **Data Factory sidan** för din data factory.</span><span class="sxs-lookup"><span data-stu-id="31698-210">Launch hello **Data Factory page** for your data factory.</span></span> <span data-ttu-id="31698-211">Klicka på länkade tjänster panelen toolaunch hello **länkade tjänster**.</span><span class="sxs-lookup"><span data-stu-id="31698-211">Click Linked services tile toolaunch hello **linked services page**.</span></span> <span data-ttu-id="31698-212">Välj hello gateway toolaunch hello **gateway sidan**.</span><span class="sxs-lookup"><span data-stu-id="31698-212">Select hello gateway toolaunch hello **gateway page**.</span></span> <span data-ttu-id="31698-213">Klicka på och aktivera **förhandsgranskningsfunktion** som visas i följande bild hello:</span><span class="sxs-lookup"><span data-stu-id="31698-213">Click and enable **Preview Feature** as shown in hello following image:</span></span> 

    ![Data Management Gateway - aktivera funktionen för förhandsgranskning](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-existing-gateway-enable-high-availability.png)   
2. <span data-ttu-id="31698-215">Stäng alla sidor när hello förhandsgranskningsfunktion har aktiverats i hello-portalen.</span><span class="sxs-lookup"><span data-stu-id="31698-215">Once hello preview feature is enabled in hello portal, close all pages.</span></span> <span data-ttu-id="31698-216">Öppna hello **gateway sidan** toosee hello nya preview användargränssnittet (UI).</span><span class="sxs-lookup"><span data-stu-id="31698-216">Reopen hello **gateway page** toosee hello new preview user interface (UI).</span></span>
 
    ![Data Management Gateway - aktivera preview funktionen lyckades](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-preview-success.png)

    ![Data Management Gateway - Förhandsgranska UI](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-preview.png)

    > [!NOTE]
    > <span data-ttu-id="31698-219">Under uppgraderingen hello är namnet på den första noden i hello hello namn hello datorn.</span><span class="sxs-lookup"><span data-stu-id="31698-219">During hello upgrade, name of hello first node is hello name of hello machine.</span></span> 
3. <span data-ttu-id="31698-220">Lägg till en nod.</span><span class="sxs-lookup"><span data-stu-id="31698-220">Now, add a node.</span></span> <span data-ttu-id="31698-221">I hello **Gateway** klickar du på **Lägg till nod**.</span><span class="sxs-lookup"><span data-stu-id="31698-221">In hello **Gateway** page, click **Add Node**.</span></span>  

    ![Data Management Gateway - noden menyn Lägg till](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-add-node-menu.png)

    <span data-ttu-id="31698-223">Följ instruktionerna från hello föregående avsnitt tooset in hello-nod.</span><span class="sxs-lookup"><span data-stu-id="31698-223">Follow instructions from hello previous section tooset up hello node.</span></span> 

### <a name="installation-best-practices"></a><span data-ttu-id="31698-224">Metodtips för installation</span><span class="sxs-lookup"><span data-stu-id="31698-224">Installation best practices</span></span>

- <span data-ttu-id="31698-225">Konfigurera energischema på hello värddator för hello gateway så att hello datorn inte försättas i viloläge.</span><span class="sxs-lookup"><span data-stu-id="31698-225">Configure power plan on hello host machine for hello gateway so that hello machine does not hibernate.</span></span> <span data-ttu-id="31698-226">Om värddatorn hello viloläge svarar hello gateway inte toodata begäranden.</span><span class="sxs-lookup"><span data-stu-id="31698-226">If hello host machine hibernates, hello gateway does not respond toodata requests.</span></span>
- <span data-ttu-id="31698-227">Säkerhetskopiera hello certifikat som är associerat med hello-gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-227">Back up hello certificate associated with hello gateway.</span></span>
- <span data-ttu-id="31698-228">Se till att alla noder har liknande konfiguration (rekommenderas) för bästa prestanda.</span><span class="sxs-lookup"><span data-stu-id="31698-228">Ensure all nodes are of similar configuration (recommended) for ideal performance.</span></span> 
- <span data-ttu-id="31698-229">Lägg till minst två noder tooensure hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="31698-229">Add at least two nodes tooensure high availability.</span></span>  

### <a name="tlsssl-certificate-requirements"></a><span data-ttu-id="31698-230">Krav för TLS/SSL-certifikat</span><span class="sxs-lookup"><span data-stu-id="31698-230">TLS/SSL certificate requirements</span></span>
<span data-ttu-id="31698-231">Här följer hello kraven för hello TLS/SSL-certifikatet som används för att skydda kommunikationen mellan gateway-noder:</span><span class="sxs-lookup"><span data-stu-id="31698-231">Here are hello requirements for hello TLS/SSL certificate that is used for securing communications between gateway nodes:</span></span>

- <span data-ttu-id="31698-232">hello certifikatet måste vara offentligt betrodda X509 v3-certifikat.</span><span class="sxs-lookup"><span data-stu-id="31698-232">hello certificate must be a publicly trusted X509 v3 certificate.</span></span>
- <span data-ttu-id="31698-233">Alla gateway-noder måste ha förtroende för certifikatet.</span><span class="sxs-lookup"><span data-stu-id="31698-233">All gateway nodes must trust this certificate.</span></span> 
- <span data-ttu-id="31698-234">Vi rekommenderar att du använder certifikat som utfärdas av en offentlig (tredje parts) certifikatutfärdare (CA).</span><span class="sxs-lookup"><span data-stu-id="31698-234">We recommend that you use certificates that are issued by a public (third-party) certification authority (CA).</span></span>
- <span data-ttu-id="31698-235">Stöder alla nyckelstorlek som stöds av Windows Server 2012 R2 för SSL-certifikat.</span><span class="sxs-lookup"><span data-stu-id="31698-235">Supports any key size supported by Windows Server 2012 R2 for SSL certificates.</span></span>
- <span data-ttu-id="31698-236">Stöder inte certifikat med CNG-nycklar.</span><span class="sxs-lookup"><span data-stu-id="31698-236">Does not support certificates that use CNG keys.</span></span>
- <span data-ttu-id="31698-237">Jokertecken certifikat som stöds.</span><span class="sxs-lookup"><span data-stu-id="31698-237">Wild-card certificates are supported.</span></span> 


## <a name="monitor-a-multi-node-gateway"></a><span data-ttu-id="31698-238">Övervaka en gateway med flera noder</span><span class="sxs-lookup"><span data-stu-id="31698-238">Monitor a multi-node gateway</span></span>
### <a name="multi-node-gateway-monitoring"></a><span data-ttu-id="31698-239">Övervakning av flera noder gateway</span><span class="sxs-lookup"><span data-stu-id="31698-239">Multi-node gateway monitoring</span></span>
<span data-ttu-id="31698-240">Du kan visa nära realtid ögonblicksbild av resursutnyttjande (processor, minne, network(in/out), etc.) på varje nod tillsammans med statusen för gateway-noder i hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="31698-240">In hello Azure portal, you can view near-real time snapshot of resource utilization (CPU, memory, network(in/out), etc.) on each node along with statuses of gateway nodes.</span></span> 

![Data Management Gateway - övervakning av flera nod](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring.png)

<span data-ttu-id="31698-242">Du kan aktivera **avancerade inställningar** i hello **Gateway** sidan toosee avancerade mått som **nätverk**(in/ut), **roll & autentiseringsuppgifter Status**, vilket är användbart vid felsökning av problem med gateway och **samtidiga jobb** (kör / begränsa) som kan vara ändrade / ändrade därefter under prestandajustering.</span><span class="sxs-lookup"><span data-stu-id="31698-242">You can enable **Advanced Settings** in hello **Gateway** page toosee advanced metrics like **Network**(in/out), **Role & Credential Status**, which is helpful in debugging gateway issues, and **Concurrent Jobs** (Running/ Limit) which can be modified/ changed accordingly during performance tuning.</span></span> <span data-ttu-id="31698-243">hello följande tabell innehåller beskrivningar av kolumner i hello **Gateway-noder** lista:</span><span class="sxs-lookup"><span data-stu-id="31698-243">hello following table provides descriptions of columns in hello **Gateway Nodes** list:</span></span>  

<span data-ttu-id="31698-244">Övervakning av egenskapen</span><span class="sxs-lookup"><span data-stu-id="31698-244">Monitoring Property</span></span> | <span data-ttu-id="31698-245">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="31698-245">Description</span></span>
:------------------ | :---------- 
<span data-ttu-id="31698-246">Namn</span><span class="sxs-lookup"><span data-stu-id="31698-246">Name</span></span> | <span data-ttu-id="31698-247">Namnet på hello logiska gateway och som är associerade med hello gateway-noder.</span><span class="sxs-lookup"><span data-stu-id="31698-247">Name of hello logical gateway and nodes associated with hello gateway.</span></span>  
<span data-ttu-id="31698-248">Status</span><span class="sxs-lookup"><span data-stu-id="31698-248">Status</span></span> | <span data-ttu-id="31698-249">Status för hello logiska gateway och hello gateway-noder.</span><span class="sxs-lookup"><span data-stu-id="31698-249">Status of hello logical gateway and hello gateway nodes.</span></span> <span data-ttu-id="31698-250">Exempel: Online/Offline/begränsad/etc. Information om dessa statusar finns [gatewaystatusen](#gateway-status) avsnitt.</span><span class="sxs-lookup"><span data-stu-id="31698-250">Example: Online/Offline/Limited/etc. For information about these statuses, See [Gateway status](#gateway-status) section.</span></span> 
<span data-ttu-id="31698-251">Version</span><span class="sxs-lookup"><span data-stu-id="31698-251">Version</span></span> | <span data-ttu-id="31698-252">Visar hello version av hello logiska gateway och varje gateway-noden.</span><span class="sxs-lookup"><span data-stu-id="31698-252">Shows hello version of hello logical gateway and each gateway node.</span></span> <span data-ttu-id="31698-253">hello version av hello logiska gateway bestäms baserat på version av merparten av noder i hello-gruppen.</span><span class="sxs-lookup"><span data-stu-id="31698-253">hello version of hello logical gateway is determined based on version of majority of nodes in hello group.</span></span> <span data-ttu-id="31698-254">Om det finns noder med olika versioner i hello logiska gateway installationsprogrammet, hello hello noder med samma versionsnummer som hello logiska gateway funktion korrekt.</span><span class="sxs-lookup"><span data-stu-id="31698-254">If there are nodes with different versions in hello logical gateway setup, only hello nodes with hello same version number as hello logical gateway function properly.</span></span> <span data-ttu-id="31698-255">Andra i hello begränsat läge och måste toobe manuellt uppdatera (bara om automatisk uppdatering misslyckas).</span><span class="sxs-lookup"><span data-stu-id="31698-255">Others are in hello limited mode and need toobe manually updated (only in case auto-update fails).</span></span> 
<span data-ttu-id="31698-256">Tillgängligt minne</span><span class="sxs-lookup"><span data-stu-id="31698-256">Available memory</span></span> | <span data-ttu-id="31698-257">Tillgängligt minne på en gateway-noden.</span><span class="sxs-lookup"><span data-stu-id="31698-257">Available memory on a gateway node.</span></span> <span data-ttu-id="31698-258">Det här värdet är en nära realtid ögonblicksbild.</span><span class="sxs-lookup"><span data-stu-id="31698-258">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="31698-259">CPU-användning</span><span class="sxs-lookup"><span data-stu-id="31698-259">CPU utilization</span></span> | <span data-ttu-id="31698-260">Processoranvändningen för en gateway-nod.</span><span class="sxs-lookup"><span data-stu-id="31698-260">CPU utilization of a gateway node.</span></span> <span data-ttu-id="31698-261">Det här värdet är en nära realtid ögonblicksbild.</span><span class="sxs-lookup"><span data-stu-id="31698-261">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="31698-262">Nätverk (In/ut)</span><span class="sxs-lookup"><span data-stu-id="31698-262">Networking (In/Out)</span></span> | <span data-ttu-id="31698-263">Nätverksanvändning för en gateway-nod.</span><span class="sxs-lookup"><span data-stu-id="31698-263">Network utilization of a gateway node.</span></span> <span data-ttu-id="31698-264">Det här värdet är en nära realtid ögonblicksbild.</span><span class="sxs-lookup"><span data-stu-id="31698-264">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="31698-265">Samtidiga jobb (kör / begränsa)</span><span class="sxs-lookup"><span data-stu-id="31698-265">Concurrent Jobs (Running/ Limit)</span></span> | <span data-ttu-id="31698-266">Antal jobb eller aktiviteter som körs på varje nod.</span><span class="sxs-lookup"><span data-stu-id="31698-266">Number of jobs or tasks running on each node.</span></span> <span data-ttu-id="31698-267">Det här värdet är en nära realtid ögonblicksbild.</span><span class="sxs-lookup"><span data-stu-id="31698-267">This value is a near real-time snapshot.</span></span> <span data-ttu-id="31698-268">Gränsen innebär hello maximala samtidiga jobb för varje nod.</span><span class="sxs-lookup"><span data-stu-id="31698-268">Limit signifies hello maximum concurrent jobs for each node.</span></span> <span data-ttu-id="31698-269">Det här värdet definieras utifrån hello storleken på datorn.</span><span class="sxs-lookup"><span data-stu-id="31698-269">This value is defined based on hello machine size.</span></span> <span data-ttu-id="31698-270">Du kan öka hello gränsen tooscale in samtidiga jobbkörningen i avancerade scenarier där CPU / minne / nätverket är outnyttjad men aktiviteter uppnådd tidsgräns. Den här funktionen finns också med en enda nod gateway (även när hello skalbarhet och tillgänglighet funktionen inte är aktiverad).</span><span class="sxs-lookup"><span data-stu-id="31698-270">You can increase hello limit tooscale up concurrent job execution in advanced scenarios, where CPU/ memory/ network is under-utilized, but activities are timing out. This capability is also available with a single-node gateway (even when hello scalability and availability feature is not enabled).</span></span> <span data-ttu-id="31698-271">Mer information finns i [skala överväganden](#scale-considerations) avsnitt.</span><span class="sxs-lookup"><span data-stu-id="31698-271">For more information, see [scale considerations](#scale-considerations) section.</span></span> 
<span data-ttu-id="31698-272">Roll</span><span class="sxs-lookup"><span data-stu-id="31698-272">Role</span></span> | <span data-ttu-id="31698-273">Det finns två typer av roller – Dispatcher- och arbetsroller.</span><span class="sxs-lookup"><span data-stu-id="31698-273">There are two types of roles – Dispatcher and worker.</span></span> <span data-ttu-id="31698-274">Alla noder är arbetare, vilket innebär att de kan vara används tooexecute jobb.</span><span class="sxs-lookup"><span data-stu-id="31698-274">All nodes are workers, which means they can all be used tooexecute jobs.</span></span> <span data-ttu-id="31698-275">Det finns bara en dispatcher nod som används toopull uppgifter/jobb från molntjänster och skicka dem toodifferent arbetarnoder (inklusive sig själv).</span><span class="sxs-lookup"><span data-stu-id="31698-275">There is only one dispatcher node, which is used toopull tasks/jobs from cloud services and dispatch them toodifferent worker nodes (including itself).</span></span> 

![Data Management Gateway - avancerad övervakning av flera nod](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring-advanced.png)

### <a name="gateway-status"></a><span data-ttu-id="31698-277">Gateway-status</span><span class="sxs-lookup"><span data-stu-id="31698-277">Gateway status</span></span>

<span data-ttu-id="31698-278">hello följande tabell innehåller olika statusar av en **gateway-noden**:</span><span class="sxs-lookup"><span data-stu-id="31698-278">hello following table provides possible statuses of a **gateway node**:</span></span> 

<span data-ttu-id="31698-279">Status</span><span class="sxs-lookup"><span data-stu-id="31698-279">Status</span></span>  | <span data-ttu-id="31698-280">Kommentarer-scenarier</span><span class="sxs-lookup"><span data-stu-id="31698-280">Comments/Scenarios</span></span>
:------- | :------------------
<span data-ttu-id="31698-281">Online</span><span class="sxs-lookup"><span data-stu-id="31698-281">Online</span></span> | <span data-ttu-id="31698-282">Noden ansluten tooData Factory-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="31698-282">Node connected tooData Factory service.</span></span>
<span data-ttu-id="31698-283">Offline</span><span class="sxs-lookup"><span data-stu-id="31698-283">Offline</span></span> | <span data-ttu-id="31698-284">Noden är offline.</span><span class="sxs-lookup"><span data-stu-id="31698-284">Node is offline.</span></span>
<span data-ttu-id="31698-285">Uppgradera</span><span class="sxs-lookup"><span data-stu-id="31698-285">Upgrading</span></span> | <span data-ttu-id="31698-286">hello noden håller på att uppdateras automatiskt.</span><span class="sxs-lookup"><span data-stu-id="31698-286">hello node is being auto-updated.</span></span>
<span data-ttu-id="31698-287">Begränsad</span><span class="sxs-lookup"><span data-stu-id="31698-287">Limited</span></span> | <span data-ttu-id="31698-288">På grund av tooConnectivity problemet.</span><span class="sxs-lookup"><span data-stu-id="31698-288">Due tooConnectivity issue.</span></span> <span data-ttu-id="31698-289">Kanske på grund av tooHTTP port 8050 problemet, service bus-anslutningsproblem eller autentiseringsuppgifter synkroniseringsproblem.</span><span class="sxs-lookup"><span data-stu-id="31698-289">May be due tooHTTP port 8050 issue, service bus connectivity issue, or credential sync issue.</span></span> 
<span data-ttu-id="31698-290">Inaktiva</span><span class="sxs-lookup"><span data-stu-id="31698-290">Inactive</span></span> | <span data-ttu-id="31698-291">Noden är i en konfiguration som skiljer sig från hello konfigurationen av andra majoritet noder.</span><span class="sxs-lookup"><span data-stu-id="31698-291">Node is in a configuration different from hello configuration of other majority nodes.</span></span><br/><br/> <span data-ttu-id="31698-292">En nod kan vara inaktiv när den inte kan ansluta tooother noder.</span><span class="sxs-lookup"><span data-stu-id="31698-292">A node can be inactive when it cannot connect tooother nodes.</span></span> 


<span data-ttu-id="31698-293">hello följande tabell innehåller olika statusar av en **logiska gateway**.</span><span class="sxs-lookup"><span data-stu-id="31698-293">hello following table provides possible statuses of a **logical gateway**.</span></span> <span data-ttu-id="31698-294">hello gatewayens status är beroende av status för hello gateway-noder.</span><span class="sxs-lookup"><span data-stu-id="31698-294">hello gateway status depends on statuses of hello gateway nodes.</span></span> 

<span data-ttu-id="31698-295">Status</span><span class="sxs-lookup"><span data-stu-id="31698-295">Status</span></span> | <span data-ttu-id="31698-296">Kommentarer</span><span class="sxs-lookup"><span data-stu-id="31698-296">Comments</span></span>
:----- | :-------
<span data-ttu-id="31698-297">Måste registreras</span><span class="sxs-lookup"><span data-stu-id="31698-297">Needs Registration</span></span> | <span data-ttu-id="31698-298">Ingen nod ännu registrerade toothis logiska gateway</span><span class="sxs-lookup"><span data-stu-id="31698-298">No node is yet registered toothis logical gateway</span></span>
<span data-ttu-id="31698-299">Online</span><span class="sxs-lookup"><span data-stu-id="31698-299">Online</span></span> | <span data-ttu-id="31698-300">Gateway-noder är online</span><span class="sxs-lookup"><span data-stu-id="31698-300">Gateway Nodes are online</span></span>
<span data-ttu-id="31698-301">Offline</span><span class="sxs-lookup"><span data-stu-id="31698-301">Offline</span></span> | <span data-ttu-id="31698-302">Ingen nod i online-status.</span><span class="sxs-lookup"><span data-stu-id="31698-302">No node in online status.</span></span>
<span data-ttu-id="31698-303">Begränsad</span><span class="sxs-lookup"><span data-stu-id="31698-303">Limited</span></span> | <span data-ttu-id="31698-304">Inte alla noder i den här gatewayen är i felfritt tillstånd.</span><span class="sxs-lookup"><span data-stu-id="31698-304">Not all nodes in this gateway are in healthy state.</span></span> <span data-ttu-id="31698-305">Denna status är en varning om att vissa noden kanske inte igång!</span><span class="sxs-lookup"><span data-stu-id="31698-305">This status is a warning that some node might be down!</span></span> <br/><br/><span data-ttu-id="31698-306">Kan bero på att toocredential synkroniseringsproblem på dispatcher/arbetsnoden.</span><span class="sxs-lookup"><span data-stu-id="31698-306">Could be due toocredential sync issue on dispatcher/worker node.</span></span> 

### <a name="pipeline-activities-monitoring"></a><span data-ttu-id="31698-307">Pipeline / aktiviteter övervakning</span><span class="sxs-lookup"><span data-stu-id="31698-307">Pipeline/ activities monitoring</span></span>
<span data-ttu-id="31698-308">hello Azure-portalen innehåller en pipeline övervakning erfarenhet av noden detaljerad information.</span><span class="sxs-lookup"><span data-stu-id="31698-308">hello Azure portal provides a pipeline monitoring experience with granular node level details.</span></span> <span data-ttu-id="31698-309">Till exempel visar vilka aktiviteter som kördes på vilken nod.</span><span class="sxs-lookup"><span data-stu-id="31698-309">For example, it shows which activities ran on which node.</span></span> <span data-ttu-id="31698-310">Den här informationen kan vara lättare att förstå prestandaproblem på en viss nod säga på grund av toonetwork begränsning.</span><span class="sxs-lookup"><span data-stu-id="31698-310">This information can be helpful in understanding performance issues on a particular node, say due toonetwork throttling.</span></span> 

![Data Management Gateway - flera nodövervakning för pipelines](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring-pipelines.png)

![Data Management Gateway - pipeline-information](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-pipeline-details.png)

## <a name="scale-considerations"></a><span data-ttu-id="31698-313">Skala överväganden</span><span class="sxs-lookup"><span data-stu-id="31698-313">Scale considerations</span></span>

### <a name="scale-out"></a><span data-ttu-id="31698-314">Skala ut</span><span class="sxs-lookup"><span data-stu-id="31698-314">Scale out</span></span>
<span data-ttu-id="31698-315">När hello **finns lite tillgängligt minne** och hello **processoranvändningen är hög**, lägga till en ny nod hjälper till att skala ut hello belastningen på datorer.</span><span class="sxs-lookup"><span data-stu-id="31698-315">When hello **available memory is low** and hello **CPU usage is high**, adding a new node helps scale out hello load across machines.</span></span> <span data-ttu-id="31698-316">Om aktiviteter misslyckas på grund av tootime out- eller gateway-noden som är offline kan det vara bra om du lägger till en nod toohello gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-316">If activities are failing due tootime-out or gateway node being offline, it helps if you add a node toohello gateway.</span></span>
 
### <a name="scale-up"></a><span data-ttu-id="31698-317">Skala upp</span><span class="sxs-lookup"><span data-stu-id="31698-317">Scale up</span></span>
<span data-ttu-id="31698-318">När hello tillgängligt minne och processor används inte väl, men hello inaktiv kapacitet är 0, bör du skalar upp genom att öka hello antal samtidiga jobb som kan köras på en nod.</span><span class="sxs-lookup"><span data-stu-id="31698-318">When hello available memory and CPU are not utilized well, but hello idle capacity is 0, you should scale up by increasing hello number of concurrent jobs that can run on a node.</span></span> <span data-ttu-id="31698-319">Du kan också tooscale upp när aktiviteter timeout inträffar eftersom hello gateway är överbelastad.</span><span class="sxs-lookup"><span data-stu-id="31698-319">You may also want tooscale up when activities are timing out because hello gateway is overloaded.</span></span> <span data-ttu-id="31698-320">Du kan öka hello maximal kapacitet för en nod i hello följande bild visas.</span><span class="sxs-lookup"><span data-stu-id="31698-320">As shown in hello following image, you can increase hello maximum capacity for a node.</span></span> <span data-ttu-id="31698-321">Vi rekommenderar att dubblerade den toostart med.</span><span class="sxs-lookup"><span data-stu-id="31698-321">We suggest doubling it toostart with.</span></span>  

![Data Management Gateway - skala överväganden](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-scale-considerations.png)


## <a name="known-issuesbreaking-changes"></a><span data-ttu-id="31698-323">Kända problem/senaste ändringar</span><span class="sxs-lookup"><span data-stu-id="31698-323">Known issues/breaking changes</span></span>

- <span data-ttu-id="31698-324">Du kan för närvarande har toofour fysiska gateway-noder för en enskild logisk gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-324">Currently, you can have up toofour physical gateway nodes for a single logical gateway.</span></span> <span data-ttu-id="31698-325">Om du behöver fler än fyra noder av prestandaskäl kan skicka ett e-postmeddelande för[DMGHelp@microsoft.com](mailto:DMGHelp@microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="31698-325">If you need more than four nodes for performance reasons, send an email too[DMGHelp@microsoft.com](mailto:DMGHelp@microsoft.com).</span></span>
- <span data-ttu-id="31698-326">Du kan inte registrera en gateway-noden med hello autentiseringsnyckel från en annan logisk gateway tooswitch från hello aktuella logiska gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-326">You cannot re-register a gateway node with hello authentication key from another logical gateway tooswitch from hello current logical gateway.</span></span> <span data-ttu-id="31698-327">toore-register, avinstallera hello gateway från hello nod, installera om hello gateway och registrera den med hello-autentiseringsnyckel för hello andra logiska gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-327">toore-register, uninstall hello gateway from hello node, reinstall hello gateway, and register it with hello authentication key for hello other logical gateway.</span></span> 
- <span data-ttu-id="31698-328">Om HTTP-proxyn krävs för alla gateway-noder, ställa in hello proxy i diahost.exe.config och diawp.exe.config och använder hello server manager toomake till alla noder har hello samma diahost.exe.config och diawip.exe.config. Se [konfigurera proxyinställningar](data-factory-data-management-gateway.md#configure-proxy-server-settings) information.</span><span class="sxs-lookup"><span data-stu-id="31698-328">If HTTP proxy is required for all your gateway nodes, set hello proxy in diahost.exe.config and diawp.exe.config, and use hello server manager toomake sure all nodes have hello same diahost.exe.config and diawip.exe.config. See [configure proxy settings](data-factory-data-management-gateway.md#configure-proxy-server-settings) section for details.</span></span> 
- <span data-ttu-id="31698-329">toochange Krypteringsläge för kommunikation från nod till nod i Gateway Configuration Manager ta bort alla hello-noder i hello portal utom ett.</span><span class="sxs-lookup"><span data-stu-id="31698-329">toochange encryption mode for node-to-node communication in Gateway Configuration Manager, delete all hello nodes in hello portal except one.</span></span> <span data-ttu-id="31698-330">Sedan kan lägga till noder tillbaka när du har ändrat hello Krypteringsläge.</span><span class="sxs-lookup"><span data-stu-id="31698-330">Then, add nodes back after changing hello encryption mode.</span></span>
- <span data-ttu-id="31698-331">Använd ett officiella SSL-certifikat om du väljer tooencrypt hello nod till nod kommunikationskanalen.</span><span class="sxs-lookup"><span data-stu-id="31698-331">Use an official SSL certificate if you choose tooencrypt hello node-to-node communication channel.</span></span> <span data-ttu-id="31698-332">Självsignerat certifikat kan orsaka problem med nätverksanslutningen som hello samma certifikat inte kan vara betrodd i certifiera lista över på andra datorer.</span><span class="sxs-lookup"><span data-stu-id="31698-332">Self-signed certificate may cause connectivity issues as hello same certificate may not be trusted in certifying authority list on other machines.</span></span> 
- <span data-ttu-id="31698-333">Du kan inte registrera en gateway-noden tooa logiska gateway när hello nod version är lägre än hello logiska gateway-versionen.</span><span class="sxs-lookup"><span data-stu-id="31698-333">You cannot register a gateway node tooa logical gateway when hello node version is lower than hello logical gateway version.</span></span> <span data-ttu-id="31698-334">Ta bort alla noder i hello logiska gateway från portalen så att du kan registrera en lägre version node(downgrade) den.</span><span class="sxs-lookup"><span data-stu-id="31698-334">Delete all nodes of hello logical gateway from portal so that you can register a lower version node(downgrade) it.</span></span> <span data-ttu-id="31698-335">Om du tar bort alla noder i en logisk gateway manuellt installera och registrera nya noder toothat logiska gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-335">If you delete all nodes of a logical gateway, manually install and register new nodes toothat logical gateway.</span></span> <span data-ttu-id="31698-336">Expressinstallationen stöds inte i det här fallet.</span><span class="sxs-lookup"><span data-stu-id="31698-336">Express setup is not supported in this case.</span></span>
- <span data-ttu-id="31698-337">Du kan använda Expressinstallation tooinstall noder tooan befintliga logiska gatewayen, som fortfarande använder autentiseringsuppgifter i molnet.</span><span class="sxs-lookup"><span data-stu-id="31698-337">You cannot use express setup tooinstall nodes tooan existing logical gateway, which is still using cloud credentials.</span></span> <span data-ttu-id="31698-338">Du kan kontrollera var hello autentiseringsuppgifterna lagras från hello Gateway Configuration Manager på hello-inställningar.</span><span class="sxs-lookup"><span data-stu-id="31698-338">You can check where hello credentials are stored from hello Gateway Configuration Manager on hello Settings tab.</span></span>
- <span data-ttu-id="31698-339">Du kan använda Expressinstallation tooinstall noder tooan befintlig logisk gateway, som har en nod till nod kryptering aktiverat.</span><span class="sxs-lookup"><span data-stu-id="31698-339">You cannot use express setup tooinstall nodes tooan existing logical gateway, which has node-to-node encryption enabled.</span></span> <span data-ttu-id="31698-340">Inställningen hello Krypteringsläge måste du manuellt lägga till certifikat, är Snabbinstallation inte längre ett alternativ.</span><span class="sxs-lookup"><span data-stu-id="31698-340">As setting hello encryption mode involves manually adding certificates, express install is no more an option.</span></span> 
- <span data-ttu-id="31698-341">För en filkopia från lokala miljö bör du inte använda \\localhost eller C:\files längre sedan localhost eller en lokal enhet kanske inte är tillgängligt via alla noder.</span><span class="sxs-lookup"><span data-stu-id="31698-341">For a file copy from on-premises environment, you should not use \\localhost or C:\files anymore since localhost or local drive might not be accessible via all nodes.</span></span> <span data-ttu-id="31698-342">Använd i stället \\ServerName\files toospecify filernas plats.</span><span class="sxs-lookup"><span data-stu-id="31698-342">Instead, use \\ServerName\files toospecify files’ location.</span></span>


## <a name="rolling-back-from-hello-preview"></a><span data-ttu-id="31698-343">Återställer från hello preview</span><span class="sxs-lookup"><span data-stu-id="31698-343">Rolling back from hello preview</span></span> 
<span data-ttu-id="31698-344">tooroll tillbaka från hello Förhandsgranska, ta bort alla noder, men en nod.</span><span class="sxs-lookup"><span data-stu-id="31698-344">tooroll back from hello preview, delete all nodes but one node.</span></span> <span data-ttu-id="31698-345">Det spelar ingen roll vilken noder du ta bort, men se till att du har minst en nod i hello logiska gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-345">It doesn’t matter which nodes you delete, but ensure you have at least one node in hello logical gateway.</span></span> <span data-ttu-id="31698-346">Du kan ta bort en nod genom att avinstallera gateway på hello datorn eller med hjälp av hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="31698-346">You can delete a node either by uninstalling gateway on hello machine or by using hello Azure portal.</span></span> <span data-ttu-id="31698-347">I hello Azure-portalen i hello **Datafabriken** klickar du på länkade tjänster toolaunch hello **länkade tjänster** sidan.</span><span class="sxs-lookup"><span data-stu-id="31698-347">In hello Azure portal, in hello **Data Factory** page, click Linked services toolaunch hello **Linked services** page.</span></span> <span data-ttu-id="31698-348">Välj hello gateway toolaunch hello **Gateway** sidan.</span><span class="sxs-lookup"><span data-stu-id="31698-348">Select hello gateway toolaunch hello **Gateway** page.</span></span> <span data-ttu-id="31698-349">Du kan se hello noder som är associerade med hello gateway hello Gateway på sidan.</span><span class="sxs-lookup"><span data-stu-id="31698-349">In hello Gateway page, you can see hello nodes associated with hello gateway.</span></span> <span data-ttu-id="31698-350">hello sidan kan du ta bort en nod från hello gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-350">hello page lets you delete a node from hello gateway.</span></span>
 
<span data-ttu-id="31698-351">När du tar bort, klickar du på **förhandsgranskningsfunktioner** i hello samma Azure Portalsida och inaktivera hello förhandsgranskningsfunktion.</span><span class="sxs-lookup"><span data-stu-id="31698-351">After deleting, click **preview features** in hello same Azure portal page, and disable hello preview feature.</span></span> <span data-ttu-id="31698-352">Du har återställt din gateway tooone nod GA (allmän tillgänglighet) gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-352">You have reset your gateway tooone node GA (general availability) gateway.</span></span>


## <a name="next-steps"></a><span data-ttu-id="31698-353">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="31698-353">Next steps</span></span>
<span data-ttu-id="31698-354">Granska hello följande artiklar:</span><span class="sxs-lookup"><span data-stu-id="31698-354">Review hello following articles:</span></span>
- <span data-ttu-id="31698-355">[Data Management Gateway](data-factory-data-management-gateway.md) -ger en detaljerad översikt över hello gateway.</span><span class="sxs-lookup"><span data-stu-id="31698-355">[Data Management Gateway](data-factory-data-management-gateway.md) - provides a detailed overview of hello gateway.</span></span>
- <span data-ttu-id="31698-356">[Flytta data mellan lokalt och i molnet datalager](data-factory-move-data-between-onprem-and-cloud.md) -innehåller en genomgång med stegvisa instruktioner för att använda en gateway med en enda nod.</span><span class="sxs-lookup"><span data-stu-id="31698-356">[Move data between on-premises and cloud data stores](data-factory-move-data-between-onprem-and-cloud.md) - contains a walkthrough with step-by-step instructions for using a gateway with a single node.</span></span> 
