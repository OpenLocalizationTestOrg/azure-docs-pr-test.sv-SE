---
title: aaaOptimize algoritmerna i Azure Machine Learning | Microsoft Docs
description: "Förklarar hur toochoose hello optimala parameterinställning för en algoritm i Azure Machine Learning."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 6717e30e-b8d8-4cc1-ad0b-1d4727928d32
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2017
ms.author: bradsev
ms.openlocfilehash: fbf2f71abdbce19483fb048d67a39cbb368a928e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="choose-parameters-toooptimize-your-algorithms-in-azure-machine-learning"></a><span data-ttu-id="81664-103">Välj parametrar toooptimize algoritmerna i Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="81664-103">Choose parameters toooptimize your algorithms in Azure Machine Learning</span></span>
<span data-ttu-id="81664-104">Det här avsnittet beskrivs hur toochoose hello rätt hyperparameter anges för en algoritm i Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="81664-104">This topic describes how toochoose hello right hyperparameter set for an algorithm in Azure Machine Learning.</span></span> <span data-ttu-id="81664-105">De flesta maskininlärningsalgoritmer har parametrar tooset.</span><span class="sxs-lookup"><span data-stu-id="81664-105">Most machine learning algorithms have parameters tooset.</span></span> <span data-ttu-id="81664-106">När du tränar en modell måste tooprovide värden för dessa parametrar.</span><span class="sxs-lookup"><span data-stu-id="81664-106">When you train a model, you need tooprovide values for those parameters.</span></span> <span data-ttu-id="81664-107">hello effekt hello tränade modellen beror på hello Modellparametrar som du väljer.</span><span class="sxs-lookup"><span data-stu-id="81664-107">hello efficacy of hello trained model depends on hello model parameters that you choose.</span></span> <span data-ttu-id="81664-108">hello processen hello optimala uppsättning parametrar kallas *modell markeringen*.</span><span class="sxs-lookup"><span data-stu-id="81664-108">hello process of finding hello optimal set of parameters is known as *model selection*.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="81664-109">Det finns olika sätt toodo modellen val.</span><span class="sxs-lookup"><span data-stu-id="81664-109">There are various ways toodo model selection.</span></span> <span data-ttu-id="81664-110">Korsvalidering är en av hello används mest metoder för vald modell i machine learning och det är hello modellen markeringen standardmekanism i Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="81664-110">In machine learning, cross-validation is one of hello most widely used methods for model selection, and it is hello default model selection mechanism in Azure Machine Learning.</span></span> <span data-ttu-id="81664-111">Eftersom Azure Machine Learning stöder både R och Python kan implementera du alltid egna mekanismer för val av modellen genom att använda R eller Python.</span><span class="sxs-lookup"><span data-stu-id="81664-111">Because Azure Machine Learning supports both R and Python, you can always implement their own model selection mechanisms by using either R or Python.</span></span>

<span data-ttu-id="81664-112">Det finns fyra steg i hello processen hello bästa parameteruppsättning:</span><span class="sxs-lookup"><span data-stu-id="81664-112">There are four steps in hello process of finding hello best parameter set:</span></span>

1. <span data-ttu-id="81664-113">**Definiera hello parametern utrymme**: hello algoritmen först bestämma exakt hello parametervärden som du vill tooconsider.</span><span class="sxs-lookup"><span data-stu-id="81664-113">**Define hello parameter space**: For hello algorithm, first decide hello exact parameter values you want tooconsider.</span></span>
2. <span data-ttu-id="81664-114">**Definiera hello korsvalidering inställningar**: Bestäm hur toochoose korsvalidering vikningar för hello dataset.</span><span class="sxs-lookup"><span data-stu-id="81664-114">**Define hello cross-validation settings**: Decide how toochoose cross-validation folds for hello dataset.</span></span>
3. <span data-ttu-id="81664-115">**Definiera hello mått**: Bestäm vilka mått toouse för att fastställa hello bästa uppsättning parametrar, till exempel noggrannhet, roten medelvärdet kvadrat fel, precision, återkalla eller f poäng.</span><span class="sxs-lookup"><span data-stu-id="81664-115">**Define hello metric**: Decide what metric toouse for determining hello best set of parameters, such as accuracy, root mean squared error, precision, recall, or f-score.</span></span>
4. <span data-ttu-id="81664-116">**Träna, utvärdera och jämföra**: för varje unik kombination av hello parametervärden korsvalidering utförs av och baserat på hello fel mått som du definierar.</span><span class="sxs-lookup"><span data-stu-id="81664-116">**Train, evaluate, and compare**: For each unique combination of hello parameter values, cross-validation is carried out by and based on hello error metric you define.</span></span> <span data-ttu-id="81664-117">Du kan välja hello bäst prestanda modellen efter utvärderingen och jämförelse.</span><span class="sxs-lookup"><span data-stu-id="81664-117">After evaluation and comparison, you can choose hello best-performing model.</span></span>

<span data-ttu-id="81664-118">hello följande bild illustrerar visar hur du kan göra detta i Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="81664-118">hello following image illustrates shows how this can be achieved in Azure Machine Learning.</span></span>

![Hitta hello bästa parameteruppsättning](./media/machine-learning-algorithm-parameters-optimize/fig1.png)

## <a name="define-hello-parameter-space"></a><span data-ttu-id="81664-120">Definiera hello parametern utrymme</span><span class="sxs-lookup"><span data-stu-id="81664-120">Define hello parameter space</span></span>
<span data-ttu-id="81664-121">Du kan definiera hello parameteruppsättningen hello modellen initieringen steget.</span><span class="sxs-lookup"><span data-stu-id="81664-121">You can define hello parameter set at hello model initialization step.</span></span> <span data-ttu-id="81664-122">hello parametern rutan i alla maskininlärningsalgoritmer har två trainer lägen: *enskild Parameter* och *parametern intervallet*.</span><span class="sxs-lookup"><span data-stu-id="81664-122">hello parameter pane of all machine learning algorithms has two trainer modes: *Single Parameter* and *Parameter Range*.</span></span> <span data-ttu-id="81664-123">Välj parametern intervallet läge.</span><span class="sxs-lookup"><span data-stu-id="81664-123">Choose Parameter Range mode.</span></span> <span data-ttu-id="81664-124">Du kan ange flera värden för varje parameter i intervallet för parametern-läge.</span><span class="sxs-lookup"><span data-stu-id="81664-124">In Parameter Range mode, you can enter multiple values for each parameter.</span></span> <span data-ttu-id="81664-125">Du kan ange kommaseparerade värden i hello textruta.</span><span class="sxs-lookup"><span data-stu-id="81664-125">You can enter comma-separated values in hello text box.</span></span>

![Två-klass förstärkta beslutsträd, enskild parameter](./media/machine-learning-algorithm-parameters-optimize/fig2.png)

 <span data-ttu-id="81664-127">Alternativt kan du definiera hello högsta och lägsta punkter hello rutnätet och hello Totalt antal punkter toobe genereras med **Använd intervallet Builder**.</span><span class="sxs-lookup"><span data-stu-id="81664-127">Alternately, you can define hello maximum and minimum points of hello grid and hello total number of points toobe generated with **Use Range Builder**.</span></span> <span data-ttu-id="81664-128">Som standard genereras hello parametervärden på en linjär skala.</span><span class="sxs-lookup"><span data-stu-id="81664-128">By default, hello parameter values are generated on a linear scale.</span></span> <span data-ttu-id="81664-129">Men om **logaritmisk skala** kontrolleras, hello värden genereras i hello logaritmisk skala (hello förhållandet mellan hello angränsande poäng är konstant i stället för deras skillnaden).</span><span class="sxs-lookup"><span data-stu-id="81664-129">But if **Log Scale** is checked, hello values are generated in hello log scale (that is, hello ratio of hello adjacent points is constant instead of their difference).</span></span> <span data-ttu-id="81664-130">Du kan definiera ett intervall för heltal parametrar, med bindestreck.</span><span class="sxs-lookup"><span data-stu-id="81664-130">For integer parameters, you can define a range by using a hyphen.</span></span> <span data-ttu-id="81664-131">Till exempel ”1-10” innebär att alla heltal mellan 1 och 10 (båda inkluderande) formuläret hello parameteruppsättning.</span><span class="sxs-lookup"><span data-stu-id="81664-131">For example, “1-10” means that all integers between 1 and 10 (both inclusive) form hello parameter set.</span></span> <span data-ttu-id="81664-132">Blandat läge stöds också.</span><span class="sxs-lookup"><span data-stu-id="81664-132">A mixed mode is also supported.</span></span> <span data-ttu-id="81664-133">Till exempel hello parameteruppsättning ”1-10, 20, 50” innefattar heltal 1-10, 20, och 50.</span><span class="sxs-lookup"><span data-stu-id="81664-133">For example, hello parameter set “1-10, 20, 50” would include integers 1-10, 20, and 50.</span></span>

![Två-klass förstärkta beslutsträd, intervallet för parametern](./media/machine-learning-algorithm-parameters-optimize/fig3.png)

## <a name="define-cross-validation-folds"></a><span data-ttu-id="81664-135">Definiera korsvalidering vikningar</span><span class="sxs-lookup"><span data-stu-id="81664-135">Define cross-validation folds</span></span>
<span data-ttu-id="81664-136">Hej [partitionera och ta prover] [ partition-and-sample] modul kan vara används toorandomly tilldela vikningar toohello data.</span><span class="sxs-lookup"><span data-stu-id="81664-136">hello [Partition and Sample][partition-and-sample] module can be used toorandomly assign folds toohello data.</span></span> <span data-ttu-id="81664-137">I följande exempelkonfiguration för hello modulen hello, vi definiera fem gånger och tilldela slumpmässigt en vikning nummer toohello exempel instanser.</span><span class="sxs-lookup"><span data-stu-id="81664-137">In hello following sample configuration for hello module, we define five folds and randomly assign a fold number toohello sample instances.</span></span>

![Partitionera och ta prover](./media/machine-learning-algorithm-parameters-optimize/fig4.png)

## <a name="define-hello-metric"></a><span data-ttu-id="81664-139">Definiera hello mått</span><span class="sxs-lookup"><span data-stu-id="81664-139">Define hello metric</span></span>
<span data-ttu-id="81664-140">Hej [Justeringsmodeller] [ tune-model-hyperparameters] modulen ger stöd för empiriskt välja hello bästa uppsättning parametrar för en given algoritmen och dataset.</span><span class="sxs-lookup"><span data-stu-id="81664-140">hello [Tune Model Hyperparameters][tune-model-hyperparameters] module provides support for empirically choosing hello best set of parameters for a given algorithm and dataset.</span></span> <span data-ttu-id="81664-141">Dessutom tooother information om utbildning hello modellen hello **egenskaper** rutan i den här modulen innehåller hello mått för att fastställa hello bästa parameteruppsättning.</span><span class="sxs-lookup"><span data-stu-id="81664-141">In addition tooother information regarding training hello model, hello **Properties** pane of this module includes hello metric for determining hello best parameter set.</span></span> <span data-ttu-id="81664-142">Den har två olika nedrullningsbara listrutor för klassificering och regression algoritmer respektive.</span><span class="sxs-lookup"><span data-stu-id="81664-142">It has two different drop-down list boxes for classification and regression algorithms, respectively.</span></span> <span data-ttu-id="81664-143">Om hello algoritmen berörda är en klassificeringsalgoritm, hello regression mått ignoreras och vice versa.</span><span class="sxs-lookup"><span data-stu-id="81664-143">If hello algorithm under consideration is a classification algorithm, hello regression metric is ignored and vice versa.</span></span> <span data-ttu-id="81664-144">I det här exemplet hello mått är **noggrannhet**.</span><span class="sxs-lookup"><span data-stu-id="81664-144">In this specific example, hello metric is **Accuracy**.</span></span>   

![Svep parametrar](./media/machine-learning-algorithm-parameters-optimize/fig5.png)

## <a name="train-evaluate-and-compare"></a><span data-ttu-id="81664-146">Träna, utvärdera och jämföra</span><span class="sxs-lookup"><span data-stu-id="81664-146">Train, evaluate, and compare</span></span>
<span data-ttu-id="81664-147">Hej samma [Justeringsmodeller] [ tune-model-hyperparameters] modulen tränar alla hello modeller som motsvarar toohello parameteruppsättning, utvärderar olika mått och skapar sedan hello bäst tränade modellen baserat på hello måttet som du väljer.</span><span class="sxs-lookup"><span data-stu-id="81664-147">hello same [Tune Model Hyperparameters][tune-model-hyperparameters] module trains all hello models that correspond toohello parameter set, evaluates various metrics, and then creates hello best-trained model based on hello metric you choose.</span></span> <span data-ttu-id="81664-148">Modulen har två obligatoriska indata:</span><span class="sxs-lookup"><span data-stu-id="81664-148">This module has two mandatory inputs:</span></span>

* <span data-ttu-id="81664-149">hello omdöme deltagaren</span><span class="sxs-lookup"><span data-stu-id="81664-149">hello untrained learner</span></span>
* <span data-ttu-id="81664-150">hello dataset</span><span class="sxs-lookup"><span data-stu-id="81664-150">hello dataset</span></span>

<span data-ttu-id="81664-151">hello-modulen har även en valfri datauppsättning som indata.</span><span class="sxs-lookup"><span data-stu-id="81664-151">hello module also has an optional dataset input.</span></span> <span data-ttu-id="81664-152">Ansluta hello dataset med vikning information toohello obligatoriska dataset indata.</span><span class="sxs-lookup"><span data-stu-id="81664-152">Connect hello dataset with fold information toohello mandatory dataset input.</span></span> <span data-ttu-id="81664-153">Om hello dataset inte har tilldelats någon vikning information, utförs automatiskt en 10-fold korsvalidering som standard.</span><span class="sxs-lookup"><span data-stu-id="81664-153">If hello dataset is not assigned any fold information, then a 10-fold cross-validation is automatically executed by default.</span></span> <span data-ttu-id="81664-154">Om sker inte hello vikning tilldelningen och en verifiering dataset tillhandahålls vid hello valfria dataset port, ett valt train-test och hello första datauppsättningen är används tootrain hello modellen för varje parameter-kombination.</span><span class="sxs-lookup"><span data-stu-id="81664-154">If hello fold assignment is not done and a validation dataset is provided at hello optional dataset port, then a train-test mode is chosen and hello first dataset is used tootrain hello model for each parameter combination.</span></span>

![Förstärkta trädet klassificerare](./media/machine-learning-algorithm-parameters-optimize/fig6a.png)

<span data-ttu-id="81664-156">hello modellen utvärderas sedan för hello validering datauppsättningen.</span><span class="sxs-lookup"><span data-stu-id="81664-156">hello model is then evaluated on hello validation dataset.</span></span> <span data-ttu-id="81664-157">hello lämnas utdataporten för hello-modulen visar olika mått som funktioner i parametervärden.</span><span class="sxs-lookup"><span data-stu-id="81664-157">hello left output port of hello module shows different metrics as functions of parameter values.</span></span> <span data-ttu-id="81664-158">hello rätt utdataporten ger hello tränade modellen som motsvarar toohello bäst prestanda modellen enligt toohello valt mått (**noggrannhet** i detta fall).</span><span class="sxs-lookup"><span data-stu-id="81664-158">hello right output port gives hello trained model that corresponds toohello best-performing model according toohello chosen metric (**Accuracy** in this case).</span></span>  

![Verifieringen dataset](./media/machine-learning-algorithm-parameters-optimize/fig6b.png)

<span data-ttu-id="81664-160">Du kan se hello exakt parametrar som visualisera hello rätt utdataporten valt.</span><span class="sxs-lookup"><span data-stu-id="81664-160">You can see hello exact parameters chosen by visualizing hello right output port.</span></span> <span data-ttu-id="81664-161">Den här modellen kan användas i poängsättning av en uppsättning test eller en operationalized webbtjänst när du har sparat som en tränad modell.</span><span class="sxs-lookup"><span data-stu-id="81664-161">This model can be used in scoring a test set or in an operationalized web service after saving as a trained model.</span></span>

<!-- Module References -->
[partition-and-sample]: https://msdn.microsoft.com/library/azure/a8726e34-1b3e-4515-b59a-3e4a475654b8/
[tune-model-hyperparameters]: https://msdn.microsoft.com/library/azure/038d91b6-c2f2-42a1-9215-1f2c20ed1b40/
