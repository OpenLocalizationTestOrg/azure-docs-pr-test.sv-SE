---
title: Azure ML loggning API-referens | Microsoft Docs
description: Loggning av API-referens.
services: machine-learning
author: akshaya-a
ms.author: akannava
manager: mwinkle
ms.reviewer: garyericson, jasonwhowell, mldocs
ms.service: machine-learning
ms.workload: data-services
ms.topic: article
ms.date: 09/25/2017
ms.openlocfilehash: 1906425c6657fb6232a9dc306b05f9171c9c7bef
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/11/2017
---
# <a name="logging-api-reference"></a>Loggning av API-referens

Azure ML loggning biblioteket gör att programmet kan generera mått och filer som spåras av tjänsten historik för senare analys. För närvarande några grundläggande typer av mätvärden och filer som stöds och de typer som stöds kommer att växa med framtida versioner av Python-paketet.

## <a name="uploading-metrics"></a>Ladda upp mått

```python
# import logging API package
from azureml.logging import get_azureml_logger

# initialize a logger object
logger = get_azureml_logger()

# log "scalar" metrics
logger.log("simple integer value", 7)
logger.log("simple float value", 3.141592)
logger.log("simple string value", "this is a string metric")

# log a list of numerical values. 
# this automatically creates a chart in the Run History details page
logger.log("chart data points", [1, 3, 5, 10, 6, 4])
```

Som standard skickas alla asynkront så att skickas inte hindra programkörningen. Detta kan orsaka problem med onlinebeställning när flera mått skickas i edge-fall. Ett exempel på detta är två mätvärden som är inloggade på samma gång, men av någon anledning användaren föredrar exakt ordning bevaras. Ett annat fall är när måttet måste spåras innan du kör kod som är känd potentiellt misslyckas snabbt. I båda fallen lösningen är att _vänta_ tills måttet loggas fullständigt innan du fortsätter:

```python
# blocking call
logger.log("my metric 1", 1).wait()
logger.log("my metric 2", 2).wait()
```

## <a name="consuming-metrics"></a>Förbrukar mått

Mätvärdena som lagras av tjänsten historik och knutna till körningen som producerade dem. Både kör historikfliken och CLI kommandot nedan kan du hämta dem (och artefakter nedan) efter en körning avslutad.

```azurecli
# show the last run
$ az ml history last

# list all past runs
$ az ml history list 

# show a paritcular run
$ az ml history info -r <runid>
```

## <a name="artifacts-files"></a>Artefakter (filer)

Förutom statistik används AzureML att spåra filer samt. Som standard alla filer som skrivs till den `outputs` mappen i förhållande till programmets arbetskatalog (projektmappen i kontexten beräkning) överförs till tjänsten historik och spåras för senare analys. Begränsning är att enskilda filstorleken måste vara mindre än 512 MB.


```Python
# Log content as an artifact
logger.upload("artifact/path", "This should be the contents of artifact/path in the service")
```

## <a name="consuming-artifacts"></a>Använda artefakter

Om du vill få en artefakt som har spårats kan användare använda fliken Körningshistorik för den angivna kör för att **hämta** eller **befordra** artefakt eller Använd den nedan CLI-kommandon för att uppnå samma effekt.

```azurecli
# show all artifacts generated by a run
$ az ml history info -r <runid> -a <artifact/path>

# promote a particular artifact
$ az ml history promote -r <runid> -ap <artifact/prefix> -n <name of asset to create>
```
## <a name="next-steps"></a>Nästa steg
- Gå igenom den [klassificera iris tutoria del 2](tutorial-classifying-iris-part-2.md) att se loggning API i åtgärden.
- Granska [så Använd Körningshistorik och modellen mått i Azure Machine Learning arbetsstationen](how-to-use-run-history-model-metrics.md) att förstå djupare hur loggning API: er kan användas i Körningshistorik.
