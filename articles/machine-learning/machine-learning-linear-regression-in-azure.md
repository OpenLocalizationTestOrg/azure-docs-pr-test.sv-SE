---
title: "aaaUsing linjär Regression i Machine Learning | Microsoft Docs"
description: "En jämförelse av linjär regression modeller i Excel och i Azure Machine Learning Studio"
metakeywords: 
services: machine-learning
documentationcenter: 
author: garyericson
manager: jhubbard
editor: cgronlun
ms.assetid: 417ae6ab-de4f-4bdd-957a-d96133234656
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/20/2017
ms.author: kbaroni;garye
ms.openlocfilehash: 8716040ad296053a72fb06c7c9660a186123ac15
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="using-linear-regression-in-azure-machine-learning"></a><span data-ttu-id="a9ce7-103">Använda linjär regression i Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="a9ce7-103">Using linear regression in Azure Machine Learning</span></span>
> <span data-ttu-id="a9ce7-104">*Kate Baroni* och *Ben Boatman* är enterprise lösningsarkitekter i Microsofts Data insikter Center utmärkt.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-104">*Kate Baroni* and *Ben Boatman* are enterprise solution architects in Microsoft’s Data Insights Center of Excellence.</span></span> <span data-ttu-id="a9ce7-105">I den här artikeln beskriver de sina erfarenheter migrera en befintlig regression analys suite tooa molnbaserad lösning med hjälp av Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-105">In this article, they describe their experience migrating an existing regression analysis suite tooa cloud-based solution using Azure Machine Learning.</span></span> 
> 
> 

&nbsp; 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="goal"></a><span data-ttu-id="a9ce7-106">Målet</span><span class="sxs-lookup"><span data-stu-id="a9ce7-106">Goal</span></span>
<span data-ttu-id="a9ce7-107">Projektet igång med två mål i åtanke:</span><span class="sxs-lookup"><span data-stu-id="a9ce7-107">Our project started with two goals in mind:</span></span> 

1. <span data-ttu-id="a9ce7-108">Använd förutsägelseanalyser tooimprove hello riktighet företagets månatliga intäkter projektioner</span><span class="sxs-lookup"><span data-stu-id="a9ce7-108">Use predictive analytics tooimprove hello accuracy of our organization’s monthly revenue projections</span></span> 
2. <span data-ttu-id="a9ce7-109">Använda Azure Machine Learning tooconfirm, optimera, öka hastighet och skala för våra resultat.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-109">Use Azure Machine Learning tooconfirm, optimize, increase velocity, and scale of our results.</span></span> 

<span data-ttu-id="a9ce7-110">Vår organisation genomgår en månatlig intäkter prognoser process som många företag.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-110">Like many businesses, our organization goes through a monthly revenue forecasting process.</span></span> <span data-ttu-id="a9ce7-111">Vår små affärsanalytiker-teamet har gett med Azure Machine Learning toosupport hello processen och förbättra prognosens noggrannhet.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-111">Our small team of business analysts was tasked with using Azure Machine Learning toosupport hello process and improve forecast accuracy.</span></span> <span data-ttu-id="a9ce7-112">hello-teamet har använt flera månader samla in data från flera källor och kör hello dataattribut via statistiska analyser identifierar nyckelattribut relevanta tooservices försäljningsprognoser.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-112">hello team spent several months collecting data from multiple sources and running hello data attributes through statistical analysis identifying key attributes relevant tooservices sales forecasting.</span></span> <span data-ttu-id="a9ce7-113">hello nästa steg var toobegin prototyper statistiska regression modeller på hello data i Excel.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-113">hello next step was toobegin prototyping statistical regression models on hello data in Excel.</span></span> <span data-ttu-id="a9ce7-114">Inom några veckor hade vi en Excel-regressionsmodell som outperforming hello aktuella fältet och ekonomi prognoser processer.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-114">Within a few weeks, we had an Excel regression model that was outperforming hello current field and finance forecasting processes.</span></span> <span data-ttu-id="a9ce7-115">Detta blev hello baslinjen förutsägelse resultat.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-115">This became hello baseline prediction result.</span></span> 

<span data-ttu-id="a9ce7-116">Vi sedan tog hello nästa steg toomoving våra förutsägelseanalyser över tooAzure Machine Learning toofind ut hur Maskininlärning kan förbättra förutsägbar prestanda.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-116">We then took hello next step toomoving our predictive analytics over tooAzure Machine Learning toofind out how Machine Learning could improve on predictive performance.</span></span>

## <a name="achieving-predictive-performance-parity"></a><span data-ttu-id="a9ce7-117">Uppnå förutsägbar prestanda paritet</span><span class="sxs-lookup"><span data-stu-id="a9ce7-117">Achieving predictive performance parity</span></span>
<span data-ttu-id="a9ce7-118">Vår högsta prioritet var tooachieve paritet mellan regression Machine Learning och Excel.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-118">Our first priority was tooachieve parity between Machine Learning and Excel regression models.</span></span> <span data-ttu-id="a9ce7-119">Angivna hello samma data och Hej samma dela för träning och testning data, vill vi tooachieve förutsägbar prestanda paritet mellan Excel och Maskininlärning.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-119">Given hello same data, and hello same split for training and testing data, we wanted tooachieve predictive performance parity between Excel and Machine Learning.</span></span> <span data-ttu-id="a9ce7-120">Först kunde inte.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-120">Initially we failed.</span></span> <span data-ttu-id="a9ce7-121">hello Excel modell gick bättre än förväntat hello Machine Learning-modell.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-121">hello Excel model outperformed hello Machine Learning model.</span></span> <span data-ttu-id="a9ce7-122">fel inträffade hello är på grund av tooa bristande förståelse för grundläggande hello-verktyget i Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-122">hello failure was due tooa lack of understanding of hello base tool setting in Machine Learning.</span></span> <span data-ttu-id="a9ce7-123">Vi fick en bättre förståelse för hello grundläggande inställning för våra datauppsättningar efter en synkronisering med hello Produktteamet för Maskininlärning och uppnås paritet mellan hello två modeller.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-123">After a sync with hello Machine Learning product team, we gained a better understanding of hello base setting required for our data sets, and achieved parity between hello two models.</span></span> 

### <a name="create-regression-model-in-excel"></a><span data-ttu-id="a9ce7-124">Skapa regressionsmodell i Excel</span><span class="sxs-lookup"><span data-stu-id="a9ce7-124">Create regression model in Excel</span></span>
<span data-ttu-id="a9ce7-125">Vår Excel Regression används hello standard linjär regressionsmodell i hello analysverktygens i Excel.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-125">Our Excel Regression used hello standard linear regression model found in hello Excel Analysis ToolPak.</span></span> 

<span data-ttu-id="a9ce7-126">Det beräknade *medelvärde absolut % fel* och den som hello prestandamått för hello modellen.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-126">We calculated *Mean Absolute % Error* and used it as hello performance measure for hello model.</span></span> <span data-ttu-id="a9ce7-127">Det tog tre månader tooarrive på en fungerande modell i Excel.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-127">It took 3 months tooarrive at a working model using Excel.</span></span> <span data-ttu-id="a9ce7-128">Vi har utvecklat mycket hello learning till hello Machine Learning Studio-experiment som slutligen var bra i Förstå kraven.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-128">We brought much of hello learning into hello Machine Learning Studio experiment which ultimately was beneficial in understanding requirements.</span></span>

### <a name="create-comparable-experiment-in-azure-machine-learning"></a><span data-ttu-id="a9ce7-129">Skapa jämförbara experiment i Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="a9ce7-129">Create comparable experiment in Azure Machine Learning</span></span>
<span data-ttu-id="a9ce7-130">Vi har följt de här stegen toocreate vårt experiment i Machine Learning Studio:</span><span class="sxs-lookup"><span data-stu-id="a9ce7-130">We followed these steps toocreate our experiment in Machine Learning Studio:</span></span> 

1. <span data-ttu-id="a9ce7-131">Överförda hello dataset som en CSV-fil tooMachine Learning Studio (liten fil)</span><span class="sxs-lookup"><span data-stu-id="a9ce7-131">Uploaded hello dataset as a csv file tooMachine Learning Studio (very small file)</span></span>
2. <span data-ttu-id="a9ce7-132">Skapa ett nytt experiment och användas hello [Välj kolumner i datauppsättning] [ select-columns] modulen tooselect hello samma datafunktioner som används i Excel</span><span class="sxs-lookup"><span data-stu-id="a9ce7-132">Created a new experiment and used hello [Select Columns in Dataset][select-columns] module tooselect hello same data features used in Excel</span></span> 
3. <span data-ttu-id="a9ce7-133">Använda hello [dela Data] [ split] modul (med *relativa uttryck* läge) toodivide hello data till hello samma utbildning datauppsättningar som har gjorts i Excel</span><span class="sxs-lookup"><span data-stu-id="a9ce7-133">Used hello [Split Data][split] module (with *Relative Expression* mode) toodivide hello data into hello same training datasets as had been done in Excel</span></span> 
4. <span data-ttu-id="a9ce7-134">Redan experimenterat lite med hello [linjär Regression] [ linear-regression] modul (standardalternativen endast), dokumenterade och jämförs hello resultat tooour Excel regressionsmodell</span><span class="sxs-lookup"><span data-stu-id="a9ce7-134">Experimented with hello [Linear Regression][linear-regression] module (default options only), documented, and compared hello results tooour Excel regression model</span></span>

### <a name="review-initial-results"></a><span data-ttu-id="a9ce7-135">Granska resultatet från första</span><span class="sxs-lookup"><span data-stu-id="a9ce7-135">Review initial results</span></span>
<span data-ttu-id="a9ce7-136">Först hello Excel modellen tydligt gick bättre än förväntat hello Machine Learning Studio modellen:</span><span class="sxs-lookup"><span data-stu-id="a9ce7-136">At first, hello Excel model clearly outperformed hello Machine Learning Studio model:</span></span> 

|  | <span data-ttu-id="a9ce7-137">Excel</span><span class="sxs-lookup"><span data-stu-id="a9ce7-137">Excel</span></span> | <span data-ttu-id="a9ce7-138">Studio</span><span class="sxs-lookup"><span data-stu-id="a9ce7-138">Studio</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="a9ce7-139">Prestanda</span><span class="sxs-lookup"><span data-stu-id="a9ce7-139">Performance</span></span> | | |
| <ul style="list-style-type: none;"><li><span data-ttu-id="a9ce7-140">Justeras R ruta</span><span class="sxs-lookup"><span data-stu-id="a9ce7-140">Adjusted R Square</span></span></li></ul> |<span data-ttu-id="a9ce7-141">0.96</span><span class="sxs-lookup"><span data-stu-id="a9ce7-141">0.96</span></span> |<span data-ttu-id="a9ce7-142">Saknas</span><span class="sxs-lookup"><span data-stu-id="a9ce7-142">N/A</span></span> |
| <ul style="list-style-type: none;"><li><span data-ttu-id="a9ce7-143">Värde för</span><span class="sxs-lookup"><span data-stu-id="a9ce7-143">Coefficient of</span></span> <br /><span data-ttu-id="a9ce7-144">Bestämning</span><span class="sxs-lookup"><span data-stu-id="a9ce7-144">Determination</span></span></li></ul> |<span data-ttu-id="a9ce7-145">Saknas</span><span class="sxs-lookup"><span data-stu-id="a9ce7-145">N/A</span></span> |<span data-ttu-id="a9ce7-146">0.78</span><span class="sxs-lookup"><span data-stu-id="a9ce7-146">0.78</span></span><br /><span data-ttu-id="a9ce7-147">(låg noggrannhet)</span><span class="sxs-lookup"><span data-stu-id="a9ce7-147">(low accuracy)</span></span> |
| <span data-ttu-id="a9ce7-148">Medelabsolutfel</span><span class="sxs-lookup"><span data-stu-id="a9ce7-148">Mean Absolute Error</span></span> |<span data-ttu-id="a9ce7-149">$9. 5M</span><span class="sxs-lookup"><span data-stu-id="a9ce7-149">$9.5M</span></span> |<span data-ttu-id="a9ce7-150">$ 19.4 M</span><span class="sxs-lookup"><span data-stu-id="a9ce7-150">$ 19.4M</span></span> |
| <span data-ttu-id="a9ce7-151">Medelabsolutfel (%)</span><span class="sxs-lookup"><span data-stu-id="a9ce7-151">Mean Absolute Error (%)</span></span> |<span data-ttu-id="a9ce7-152">6.03%</span><span class="sxs-lookup"><span data-stu-id="a9ce7-152">6.03%</span></span> |<span data-ttu-id="a9ce7-153">12.2%</span><span class="sxs-lookup"><span data-stu-id="a9ce7-153">12.2%</span></span> |

<span data-ttu-id="a9ce7-154">När vi körde våra processen och resultat hello utvecklare och datavetare på hello Machine Learning-teamet angetts de snabbt några användbara tips.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-154">When we ran our process and results by hello developers and data scientists on hello Machine Learning team, they quickly provided some useful tips.</span></span> 

* <span data-ttu-id="a9ce7-155">När du använder hello [linjär Regression] [ linear-regression] modul i Machine Learning Studio finns två metoder:</span><span class="sxs-lookup"><span data-stu-id="a9ce7-155">When you use hello [Linear Regression][linear-regression] module in Machine Learning Studio, two methods are provided:</span></span>
  * <span data-ttu-id="a9ce7-156">Online toningen härstammar: Kanske passar bättre för större skala problem</span><span class="sxs-lookup"><span data-stu-id="a9ce7-156">Online Gradient Descent: May be more suitable for larger-scale problems</span></span>
  * <span data-ttu-id="a9ce7-157">Vanlig minsta kvadrat: Detta är hello metod de flesta tänka på när de hör linjär regression.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-157">Ordinary Least Squares: This is hello method most people think of when they hear linear regression.</span></span> <span data-ttu-id="a9ce7-158">Vanlig minsta kvadrat kan vara mer föredra för små datauppsättningar.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-158">For small datasets, Ordinary Least Squares can be a more optimal choice.</span></span>
* <span data-ttu-id="a9ce7-159">Överväg att modifiera hello L2 Regularization vikt parametern tooimprove prestanda.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-159">Consider tweaking hello L2 Regularization Weight parameter tooimprove performance.</span></span> <span data-ttu-id="a9ce7-160">Det är som standard too0.001, men för våra liten datamängd vi ställer du in den too0.005 tooimprove prestanda.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-160">It is set too0.001 by default, but for our small data set we set it too0.005 tooimprove performance.</span></span> 

### <a name="mystery-solved"></a><span data-ttu-id="a9ce7-161">Okända löst!</span><span class="sxs-lookup"><span data-stu-id="a9ce7-161">Mystery solved!</span></span>
<span data-ttu-id="a9ce7-162">När vi tillämpas hello rekommendationer vi uppnås hello samma baslinje-prestanda i Machine Learning Studio som Excel:</span><span class="sxs-lookup"><span data-stu-id="a9ce7-162">When we applied hello recommendations, we achieved hello same baseline performance in Machine Learning Studio as with Excel:</span></span> 

|  | <span data-ttu-id="a9ce7-163">Excel</span><span class="sxs-lookup"><span data-stu-id="a9ce7-163">Excel</span></span> | <span data-ttu-id="a9ce7-164">Studio (första)</span><span class="sxs-lookup"><span data-stu-id="a9ce7-164">Studio (Initial)</span></span> | <span data-ttu-id="a9ce7-165">Studio med minsta kvadrat</span><span class="sxs-lookup"><span data-stu-id="a9ce7-165">Studio w/ Least Squares</span></span> |
| --- |:---:|:---:|:---:|
| <span data-ttu-id="a9ce7-166">Märkt värde</span><span class="sxs-lookup"><span data-stu-id="a9ce7-166">Labeled value</span></span> |<span data-ttu-id="a9ce7-167">Verkliga (numeriskt)</span><span class="sxs-lookup"><span data-stu-id="a9ce7-167">Actuals (numeric)</span></span> |<span data-ttu-id="a9ce7-168">samma</span><span class="sxs-lookup"><span data-stu-id="a9ce7-168">same</span></span> |<span data-ttu-id="a9ce7-169">samma</span><span class="sxs-lookup"><span data-stu-id="a9ce7-169">same</span></span> |
| <span data-ttu-id="a9ce7-170">Deltagaren</span><span class="sxs-lookup"><span data-stu-id="a9ce7-170">Learner</span></span> |<span data-ttu-id="a9ce7-171">Excel -> Data Analysis -> Regression</span><span class="sxs-lookup"><span data-stu-id="a9ce7-171">Excel -> Data Analysis -> Regression</span></span> |<span data-ttu-id="a9ce7-172">Linjär Regression.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-172">Linear Regression.</span></span> |<span data-ttu-id="a9ce7-173">Linjär Regression</span><span class="sxs-lookup"><span data-stu-id="a9ce7-173">Linear Regression</span></span> |
| <span data-ttu-id="a9ce7-174">Deltagaren alternativ</span><span class="sxs-lookup"><span data-stu-id="a9ce7-174">Learner options</span></span> |<span data-ttu-id="a9ce7-175">Saknas</span><span class="sxs-lookup"><span data-stu-id="a9ce7-175">N/A</span></span> |<span data-ttu-id="a9ce7-176">Som standard</span><span class="sxs-lookup"><span data-stu-id="a9ce7-176">Defaults</span></span> |<span data-ttu-id="a9ce7-177">vanlig minsta kvadrat</span><span class="sxs-lookup"><span data-stu-id="a9ce7-177">ordinary least squares</span></span><br /><span data-ttu-id="a9ce7-178">L2 = 0,005</span><span class="sxs-lookup"><span data-stu-id="a9ce7-178">L2 = 0.005</span></span> |
| <span data-ttu-id="a9ce7-179">Datauppsättning</span><span class="sxs-lookup"><span data-stu-id="a9ce7-179">Data Set</span></span> |<span data-ttu-id="a9ce7-180">26 rader, 3 funktioner, 1 etikett.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-180">26 rows, 3 features, 1 label.</span></span> <span data-ttu-id="a9ce7-181">Alla numeriska.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-181">All numeric.</span></span> |<span data-ttu-id="a9ce7-182">samma</span><span class="sxs-lookup"><span data-stu-id="a9ce7-182">same</span></span> |<span data-ttu-id="a9ce7-183">samma</span><span class="sxs-lookup"><span data-stu-id="a9ce7-183">same</span></span> |
| <span data-ttu-id="a9ce7-184">Dela: Train</span><span class="sxs-lookup"><span data-stu-id="a9ce7-184">Split: Train</span></span> |<span data-ttu-id="a9ce7-185">Excel tränats på hello först 18 rader, testas på hello senast 8 rader.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-185">Excel trained on hello first 18 rows, tested on hello last 8 rows.</span></span> |<span data-ttu-id="a9ce7-186">samma</span><span class="sxs-lookup"><span data-stu-id="a9ce7-186">same</span></span> |<span data-ttu-id="a9ce7-187">samma</span><span class="sxs-lookup"><span data-stu-id="a9ce7-187">same</span></span> |
| <span data-ttu-id="a9ce7-188">Dela: Test</span><span class="sxs-lookup"><span data-stu-id="a9ce7-188">Split: Test</span></span> |<span data-ttu-id="a9ce7-189">Excel-regressionsformeln tillämpas toohello senaste 8 rader</span><span class="sxs-lookup"><span data-stu-id="a9ce7-189">Excel regression formula applied toohello last 8 rows</span></span> |<span data-ttu-id="a9ce7-190">samma</span><span class="sxs-lookup"><span data-stu-id="a9ce7-190">same</span></span> |<span data-ttu-id="a9ce7-191">samma</span><span class="sxs-lookup"><span data-stu-id="a9ce7-191">same</span></span> |
| <span data-ttu-id="a9ce7-192">**Prestanda**</span><span class="sxs-lookup"><span data-stu-id="a9ce7-192">**Performance**</span></span> | | | |
| <span data-ttu-id="a9ce7-193">Justeras R ruta</span><span class="sxs-lookup"><span data-stu-id="a9ce7-193">Adjusted R Square</span></span> |<span data-ttu-id="a9ce7-194">0.96</span><span class="sxs-lookup"><span data-stu-id="a9ce7-194">0.96</span></span> |<span data-ttu-id="a9ce7-195">Saknas</span><span class="sxs-lookup"><span data-stu-id="a9ce7-195">N/A</span></span> | |
| <span data-ttu-id="a9ce7-196">Bestämningskoefficienten</span><span class="sxs-lookup"><span data-stu-id="a9ce7-196">Coefficient of Determination</span></span> |<span data-ttu-id="a9ce7-197">Saknas</span><span class="sxs-lookup"><span data-stu-id="a9ce7-197">N/A</span></span> |<span data-ttu-id="a9ce7-198">0.78</span><span class="sxs-lookup"><span data-stu-id="a9ce7-198">0.78</span></span> |<span data-ttu-id="a9ce7-199">0.952049</span><span class="sxs-lookup"><span data-stu-id="a9ce7-199">0.952049</span></span> |
| <span data-ttu-id="a9ce7-200">Medelabsolutfel</span><span class="sxs-lookup"><span data-stu-id="a9ce7-200">Mean Absolute Error</span></span> |<span data-ttu-id="a9ce7-201">$9. 5M</span><span class="sxs-lookup"><span data-stu-id="a9ce7-201">$9.5M</span></span> |<span data-ttu-id="a9ce7-202">$ 19.4 M</span><span class="sxs-lookup"><span data-stu-id="a9ce7-202">$ 19.4M</span></span> |<span data-ttu-id="a9ce7-203">$9. 5M</span><span class="sxs-lookup"><span data-stu-id="a9ce7-203">$9.5M</span></span> |
| <span data-ttu-id="a9ce7-204">Medelabsolutfel (%)</span><span class="sxs-lookup"><span data-stu-id="a9ce7-204">Mean Absolute Error (%)</span></span> |<span data-ttu-id="a9ce7-205"><span style="background-color: 00FF00;"> 6.03%</span></span><span class="sxs-lookup"><span data-stu-id="a9ce7-205"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |<span data-ttu-id="a9ce7-206">12.2%</span><span class="sxs-lookup"><span data-stu-id="a9ce7-206">12.2%</span></span> |<span data-ttu-id="a9ce7-207"><span style="background-color: 00FF00;"> 6.03%</span></span><span class="sxs-lookup"><span data-stu-id="a9ce7-207"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |

<span data-ttu-id="a9ce7-208">Dessutom hello Excel koefficienter jämfört med bra toohello funktionen vikter i hello Azure tränade modellen:</span><span class="sxs-lookup"><span data-stu-id="a9ce7-208">In addition, hello Excel coefficients compared well toohello feature weights in hello Azure trained model:</span></span>

|  | <span data-ttu-id="a9ce7-209">Excel koefficienter</span><span class="sxs-lookup"><span data-stu-id="a9ce7-209">Excel Coefficients</span></span> | <span data-ttu-id="a9ce7-210">Azure-funktionen vikterna</span><span class="sxs-lookup"><span data-stu-id="a9ce7-210">Azure Feature Weights</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="a9ce7-211">Skärningspunkt/Bias</span><span class="sxs-lookup"><span data-stu-id="a9ce7-211">Intercept/Bias</span></span> |<span data-ttu-id="a9ce7-212">19470209.88</span><span class="sxs-lookup"><span data-stu-id="a9ce7-212">19470209.88</span></span> |<span data-ttu-id="a9ce7-213">19328500</span><span class="sxs-lookup"><span data-stu-id="a9ce7-213">19328500</span></span> |
| <span data-ttu-id="a9ce7-214">Funktion A</span><span class="sxs-lookup"><span data-stu-id="a9ce7-214">Feature A</span></span> |<span data-ttu-id="a9ce7-215">0.832653063</span><span class="sxs-lookup"><span data-stu-id="a9ce7-215">0.832653063</span></span> |<span data-ttu-id="a9ce7-216">0.834156</span><span class="sxs-lookup"><span data-stu-id="a9ce7-216">0.834156</span></span> |
| <span data-ttu-id="a9ce7-217">Funktion B</span><span class="sxs-lookup"><span data-stu-id="a9ce7-217">Feature B</span></span> |<span data-ttu-id="a9ce7-218">11071967.08</span><span class="sxs-lookup"><span data-stu-id="a9ce7-218">11071967.08</span></span> |<span data-ttu-id="a9ce7-219">11007300</span><span class="sxs-lookup"><span data-stu-id="a9ce7-219">11007300</span></span> |
| <span data-ttu-id="a9ce7-220">Funktionen C</span><span class="sxs-lookup"><span data-stu-id="a9ce7-220">Feature C</span></span> |<span data-ttu-id="a9ce7-221">25383318.09</span><span class="sxs-lookup"><span data-stu-id="a9ce7-221">25383318.09</span></span> |<span data-ttu-id="a9ce7-222">25140800</span><span class="sxs-lookup"><span data-stu-id="a9ce7-222">25140800</span></span> |

## <a name="next-steps"></a><span data-ttu-id="a9ce7-223">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="a9ce7-223">Next Steps</span></span>
<span data-ttu-id="a9ce7-224">Vi vill tooconsume hello Machine Learning-webbtjänsten i Excel.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-224">We wanted tooconsume hello Machine Learning web service within Excel.</span></span> <span data-ttu-id="a9ce7-225">Vår affärsanalytiker förlitar sig på Excel och det behövs ett sätt toocall hello Machine Learning webbtjänsten med en rad med Excel-data och låta den returnera hello förutsade värdet tooExcel.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-225">Our business analysts rely on Excel and we needed a way toocall hello Machine Learning web service with a row of Excel data and have it return hello predicted value tooExcel.</span></span> 

<span data-ttu-id="a9ce7-226">Vi ville också toooptimize vår modell med hello alternativ och algoritmer som är tillgängliga i Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-226">We also wanted toooptimize our model, using hello options and algorithms available in Machine Learning Studio.</span></span>

### <a name="integration-with-excel"></a><span data-ttu-id="a9ce7-227">Integrering med Excel</span><span class="sxs-lookup"><span data-stu-id="a9ce7-227">Integration with Excel</span></span>
<span data-ttu-id="a9ce7-228">Vår lösning var toooperationalize våra Machine Learning regression modellen genom att skapa en webbtjänst från hello tränad modell.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-228">Our solution was toooperationalize our Machine Learning regression model by creating a web service from hello trained model.</span></span> <span data-ttu-id="a9ce7-229">Hello-webbtjänsten har skapats och vi kan kalla den direkt från Excel tooreturn beräknade intäktsvärdet inom några minuter.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-229">Within a few minutes, hello web service was created and we could call it directly from Excel tooreturn a predicted revenue value.</span></span> 

<span data-ttu-id="a9ce7-230">Hej *Web Services Dashboard* avsnittet innehåller en nedladdningsbar Excel-arbetsbok.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-230">hello *Web Services Dashboard* section includes a downloadable Excel workbook.</span></span> <span data-ttu-id="a9ce7-231">hello arbetsboken innehåller före formaterad hello web API och schema tjänstinformation inbäddade.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-231">hello workbook comes pre-formatted with hello web service API and schema information embedded.</span></span> <span data-ttu-id="a9ce7-232">När du klickar på *hämta Excel-arbetsboken*, hello arbetsboken öppnas och du kan spara den tooyour lokal dator.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-232">When you click *Download Excel Workbook*, hello workbook opens and you can save it tooyour local computer.</span></span> 

![][1]

<span data-ttu-id="a9ce7-233">Kopiera fördefinierade parametrarna till hello blå parametern avsnitt med hello-arbetsbok är öppen, enligt nedan.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-233">With hello workbook open, copy your predefined parameters into hello blue Parameter section as shown below.</span></span> <span data-ttu-id="a9ce7-234">När hello parametrar har angetts Excel visar toohello Machine Learning-webbtjänst och hello förväntade poängsatta etiketter visas under hello grön förutsagda värden.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-234">Once hello parameters are entered, Excel calls out toohello Machine Learning web service and hello predicted scored labels will display in hello green Predicted Values section.</span></span> <span data-ttu-id="a9ce7-235">hello arbetsboken fortsätter toocreate förutsägelser för parametrar utifrån din tränad modell för alla rad-element som anges under parametrar.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-235">hello workbook will continue toocreate predictions for parameters based on your trained model for all row items entered under Parameters.</span></span> <span data-ttu-id="a9ce7-236">Mer information om hur toouse denna funktion finns [förbrukar en Azure Machine Learning-webbtjänst från Excel](machine-learning-consuming-from-excel.md).</span><span class="sxs-lookup"><span data-stu-id="a9ce7-236">For more information on how toouse this feature, see [Consuming an Azure Machine Learning Web Service from Excel](machine-learning-consuming-from-excel.md).</span></span> 

![][2]

### <a name="optimization-and-further-experiments"></a><span data-ttu-id="a9ce7-237">Optimering och ytterligare experiment</span><span class="sxs-lookup"><span data-stu-id="a9ce7-237">Optimization and further experiments</span></span>
<span data-ttu-id="a9ce7-238">Nu när vi hade en baslinje med vår modell i Excel flyttat vi ahead toooptimize våra linjär Regression Maskininlärningsmodell.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-238">Now that we had a baseline with our Excel model, we moved ahead toooptimize our Machine Learning Linear Regression Model.</span></span> <span data-ttu-id="a9ce7-239">Vi använde hello modulen [Filter-baserade Funktionsurval] [ filter-based-feature-selection] tooimprove på vår urvalet av inledande dataelement och hjälp oss att uppnå en prestandaförbättring 4.6% medelvärdet av absoluta fel.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-239">We used hello module [Filter-Based Feature Selection][filter-based-feature-selection] tooimprove on our selection of initial data elements and it helped us achieve a performance improvement of 4.6% Mean Absolute Error.</span></span> <span data-ttu-id="a9ce7-240">Vi använder den här funktionen som kan spara oss veckor i söka igenom data attribut toofind hello rätt uppsättning funktioner toouse för modellering för framtida projekt.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-240">For future projects we will use this feature which could save us weeks in iterating through data attributes toofind hello right set of features toouse for modelling.</span></span> 

<span data-ttu-id="a9ce7-241">Nästa vi planerar att tooinclude andra algoritmer som [Bayesian] [ bayesian-linear-regression] eller [Tvåklassförhöjt beslutsträd] [ boosted-decision-tree-regression] i vårt experiment toocompare prestanda.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-241">Next we plan tooinclude additional algorithms like [Bayesian][bayesian-linear-regression] or [Boosted Decision Trees][boosted-decision-tree-regression] in our experiment toocompare performance.</span></span> 

<span data-ttu-id="a9ce7-242">Om du vill tooexperiment med regression är en bra dataset tootry hello energi effektivitet Regression exempeluppsättningen som har många numeriska attribut.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-242">If you want tooexperiment with regression, a good dataset tootry is hello Energy Efficiency Regression sample dataset, which has lots of numerical attributes.</span></span> <span data-ttu-id="a9ce7-243">hello dataset tillhandahålls som en del av hello provdatauppsättningar i Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-243">hello dataset is provided as part of hello sample datasets in Machine Learning Studio.</span></span> <span data-ttu-id="a9ce7-244">Du kan använda olika learning moduler toopredict uppvärmning belastning eller kylning belastning.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-244">You can use a variety of learning modules toopredict either Heating Load or Cooling Load.</span></span> <span data-ttu-id="a9ce7-245">hello diagrammet nedan är en prestanda jämförelse av olika regression lär sig mot hello energieffektivitet dataset förutsäga för hello mål variabeln kylning belastningen:</span><span class="sxs-lookup"><span data-stu-id="a9ce7-245">hello chart below is a performance comparison of different regression learns against hello Energy Efficiency dataset predicting for hello target variable Cooling Load:</span></span> 

| <span data-ttu-id="a9ce7-246">Modellen</span><span class="sxs-lookup"><span data-stu-id="a9ce7-246">Model</span></span> | <span data-ttu-id="a9ce7-247">Medelabsolutfel</span><span class="sxs-lookup"><span data-stu-id="a9ce7-247">Mean Absolute Error</span></span> | <span data-ttu-id="a9ce7-248">Roten medelvärdet kvadrat fel</span><span class="sxs-lookup"><span data-stu-id="a9ce7-248">Root Mean Squared Error</span></span> | <span data-ttu-id="a9ce7-249">Relativa absoluta fel</span><span class="sxs-lookup"><span data-stu-id="a9ce7-249">Relative Absolute Error</span></span> | <span data-ttu-id="a9ce7-250">Relativ kvadrat fel</span><span class="sxs-lookup"><span data-stu-id="a9ce7-250">Relative Squared Error</span></span> | <span data-ttu-id="a9ce7-251">Bestämningskoefficienten</span><span class="sxs-lookup"><span data-stu-id="a9ce7-251">Coefficient of Determination</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="a9ce7-252">Tvåklassförhöjda beslutsträdet</span><span class="sxs-lookup"><span data-stu-id="a9ce7-252">Boosted Decision Tree</span></span> |<span data-ttu-id="a9ce7-253">0.930113</span><span class="sxs-lookup"><span data-stu-id="a9ce7-253">0.930113</span></span> |<span data-ttu-id="a9ce7-254">1.4239</span><span class="sxs-lookup"><span data-stu-id="a9ce7-254">1.4239</span></span> |<span data-ttu-id="a9ce7-255">0.106647</span><span class="sxs-lookup"><span data-stu-id="a9ce7-255">0.106647</span></span> |<span data-ttu-id="a9ce7-256">0.021662</span><span class="sxs-lookup"><span data-stu-id="a9ce7-256">0.021662</span></span> |<span data-ttu-id="a9ce7-257">0.978338</span><span class="sxs-lookup"><span data-stu-id="a9ce7-257">0.978338</span></span> |
| <span data-ttu-id="a9ce7-258">Linjär Regression (toning härstammar)</span><span class="sxs-lookup"><span data-stu-id="a9ce7-258">Linear Regression (Gradient Descent)</span></span> |<span data-ttu-id="a9ce7-259">2.035693</span><span class="sxs-lookup"><span data-stu-id="a9ce7-259">2.035693</span></span> |<span data-ttu-id="a9ce7-260">2.98006</span><span class="sxs-lookup"><span data-stu-id="a9ce7-260">2.98006</span></span> |<span data-ttu-id="a9ce7-261">0.233414</span><span class="sxs-lookup"><span data-stu-id="a9ce7-261">0.233414</span></span> |<span data-ttu-id="a9ce7-262">0.094881</span><span class="sxs-lookup"><span data-stu-id="a9ce7-262">0.094881</span></span> |<span data-ttu-id="a9ce7-263">0.905119</span><span class="sxs-lookup"><span data-stu-id="a9ce7-263">0.905119</span></span> |
| <span data-ttu-id="a9ce7-264">Neural Network Regression</span><span class="sxs-lookup"><span data-stu-id="a9ce7-264">Neural Network Regression</span></span> |<span data-ttu-id="a9ce7-265">1.548195</span><span class="sxs-lookup"><span data-stu-id="a9ce7-265">1.548195</span></span> |<span data-ttu-id="a9ce7-266">2.114617</span><span class="sxs-lookup"><span data-stu-id="a9ce7-266">2.114617</span></span> |<span data-ttu-id="a9ce7-267">0.177517</span><span class="sxs-lookup"><span data-stu-id="a9ce7-267">0.177517</span></span> |<span data-ttu-id="a9ce7-268">0.047774</span><span class="sxs-lookup"><span data-stu-id="a9ce7-268">0.047774</span></span> |<span data-ttu-id="a9ce7-269">0.952226</span><span class="sxs-lookup"><span data-stu-id="a9ce7-269">0.952226</span></span> |
| <span data-ttu-id="a9ce7-270">Linjär Regression (vanlig minsta kvadrat)</span><span class="sxs-lookup"><span data-stu-id="a9ce7-270">Linear Regression (Ordinary Least Squares)</span></span> |<span data-ttu-id="a9ce7-271">1.428273</span><span class="sxs-lookup"><span data-stu-id="a9ce7-271">1.428273</span></span> |<span data-ttu-id="a9ce7-272">1.984461</span><span class="sxs-lookup"><span data-stu-id="a9ce7-272">1.984461</span></span> |<span data-ttu-id="a9ce7-273">0.163767</span><span class="sxs-lookup"><span data-stu-id="a9ce7-273">0.163767</span></span> |<span data-ttu-id="a9ce7-274">0.042074</span><span class="sxs-lookup"><span data-stu-id="a9ce7-274">0.042074</span></span> |<span data-ttu-id="a9ce7-275">0.957926</span><span class="sxs-lookup"><span data-stu-id="a9ce7-275">0.957926</span></span> |

## <a name="key-takeaways"></a><span data-ttu-id="a9ce7-276">Viktiga Takeaways</span><span class="sxs-lookup"><span data-stu-id="a9ce7-276">Key Takeaways</span></span>
<span data-ttu-id="a9ce7-277">Vi lärt dig mycket av körs Excel regression och Azure Machine Learning-experimenten parallellt.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-277">We learned a lot by from running Excel regression and Azure Machine Learning experiments in parallel.</span></span> <span data-ttu-id="a9ce7-278">Skapa hello baslinjen modell i Excel och jämföra dem med hjälp av Machine Learning toomodels [linjär Regression] [ linear-regression] hjälpte oss Läs Azure Machine Learning och vi identifierade affärsmöjligheter tooimprove data prestanda för urvalet och modell.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-278">Creating hello baseline model in Excel and comparing it toomodels using Machine Learning [Linear Regression][linear-regression] helped us learn Azure Machine Learning, and we discovered opportunities tooimprove data selection and model performance.</span></span> 

<span data-ttu-id="a9ce7-279">Det är lämpligt toouse påträffades också [Filter-baserade Funktionsurval] [ filter-based-feature-selection] tooaccelerate framtida förutsägelse projekt.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-279">We also found that it is advisable toouse [Filter-Based Feature Selection][filter-based-feature-selection] tooaccelerate future prediction projects.</span></span> <span data-ttu-id="a9ce7-280">Genom att använda funktionen val tooyour data kan skapa du en förbättrad modell i Machine Learning med bättre prestanda.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-280">By applying feature selection tooyour data, you can create an improved model in Machine Learning with better overall performance.</span></span> 

<span data-ttu-id="a9ce7-281">hello möjlighet tootransfer hello förutsägande analytiska prognoser från Machine Learning tooExcel hela organismen ger mycket större i hello möjlighet toosuccessfully ger resultat tooa bred business målgrupp.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-281">hello ability tootransfer hello predictive analytic forecasting from Machine Learning tooExcel systemically allows a significant increase in hello ability toosuccessfully provide results tooa broad business user audience.</span></span> 

## <a name="resources"></a><span data-ttu-id="a9ce7-282">Resurser</span><span class="sxs-lookup"><span data-stu-id="a9ce7-282">Resources</span></span>
<span data-ttu-id="a9ce7-283">Här följer några resurser för att hjälpa dig att arbeta med regression:</span><span class="sxs-lookup"><span data-stu-id="a9ce7-283">Here are some resources for helping you work with regression:</span></span> 

* <span data-ttu-id="a9ce7-284">Regression i Excel.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-284">Regression in Excel.</span></span> <span data-ttu-id="a9ce7-285">Om du aldrig har försökt regression i Excel, den här kursen är det enkelt: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span><span class="sxs-lookup"><span data-stu-id="a9ce7-285">If you’ve never tried regression in Excel, this tutorial makes it easy: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span></span>
* <span data-ttu-id="a9ce7-286">Regression vs prognoser.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-286">Regression vs forecasting.</span></span> <span data-ttu-id="a9ce7-287">Tyler Chessman skrev en bloggartikel som förklarar hur toodo time series Prognosticering i Excel, som innehåller en bra nybörjare beskrivning av linjär regression.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-287">Tyler Chessman wrote a blog article explaining how toodo time series forecasting in Excel, which contains a good beginner’s description of linear regression.</span></span> [<span data-ttu-id="a9ce7-288">http://sqlmag.com/SQL-Server-Analysis-Services/Understanding-Time-Series-Forecasting-Concepts</span><span class="sxs-lookup"><span data-stu-id="a9ce7-288">http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts</span></span>](http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts) 
* <span data-ttu-id="a9ce7-289">Vanlig minst linjär Regression: Fel, problem och fallgropar.</span><span class="sxs-lookup"><span data-stu-id="a9ce7-289">Ordinary Least Squares Linear Regression: Flaws, Problems and Pitfalls.</span></span> <span data-ttu-id="a9ce7-290">En introduktion och en beskrivning av Regression: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span><span class="sxs-lookup"><span data-stu-id="a9ce7-290">For an introduction and discussion of Regression: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/ ](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span></span>

[1]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-1.png
[2]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-2.png


<!-- Module References -->
[bayesian-linear-regression]: https://msdn.microsoft.com/library/azure/ee12de50-2b34-4145-aec0-23e0485da308/
[boosted-decision-tree-regression]: https://msdn.microsoft.com/library/azure/0207d252-6c41-4c77-84c3-73bdf1ac5960/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[linear-regression]: https://msdn.microsoft.com/library/azure/31960a6f-789b-4cf7-88d6-2e1152c0bd1a/
[select-columns]: https://msdn.microsoft.com/library/azure/1ec722fa-b623-4e26-a44e-a50c6d726223/
[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/

