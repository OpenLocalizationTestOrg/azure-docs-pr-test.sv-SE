---
title: "Linjär regression i Machine Learning | Microsoft Docs"
description: "En jämförelse av linjär regression modeller i Excel och i Azure Machine Learning Studio"
metakeywords: 
services: machine-learning
documentationcenter: 
author: garyericson
manager: jhubbard
editor: cgronlun
ms.assetid: 417ae6ab-de4f-4bdd-957a-d96133234656
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/20/2017
ms.author: kbaroni;garye
ms.openlocfilehash: 7feb5d62415850e66f8eb7e22b9ada0d25a7058e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="using-linear-regression-in-azure-machine-learning"></a><span data-ttu-id="24d7b-103">Använda linjär regression i Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="24d7b-103">Using linear regression in Azure Machine Learning</span></span>
> <span data-ttu-id="24d7b-104">*Kate Baroni* och *Ben Boatman* är enterprise lösningsarkitekter i Microsofts Data insikter Center utmärkt.</span><span class="sxs-lookup"><span data-stu-id="24d7b-104">*Kate Baroni* and *Ben Boatman* are enterprise solution architects in Microsoft’s Data Insights Center of Excellence.</span></span> <span data-ttu-id="24d7b-105">I den här artikeln beskriver de sina erfarenheter migrera en befintlig regression analys suite till en molnbaserad lösning med hjälp av Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="24d7b-105">In this article, they describe their experience migrating an existing regression analysis suite to a cloud-based solution using Azure Machine Learning.</span></span> 
> 
> 

&nbsp; 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="goal"></a><span data-ttu-id="24d7b-106">Målet</span><span class="sxs-lookup"><span data-stu-id="24d7b-106">Goal</span></span>
<span data-ttu-id="24d7b-107">Projektet igång med två mål i åtanke:</span><span class="sxs-lookup"><span data-stu-id="24d7b-107">Our project started with two goals in mind:</span></span> 

1. <span data-ttu-id="24d7b-108">Använd förutsägelseanalys för att förbättra vår organisation månatliga intäkter projektioner</span><span class="sxs-lookup"><span data-stu-id="24d7b-108">Use predictive analytics to improve the accuracy of our organization’s monthly revenue projections</span></span> 
2. <span data-ttu-id="24d7b-109">Använda Azure Machine Learning bekräfta genom att optimera, öka hastighet och skala för våra resultat.</span><span class="sxs-lookup"><span data-stu-id="24d7b-109">Use Azure Machine Learning to confirm, optimize, increase velocity, and scale of our results.</span></span> 

<span data-ttu-id="24d7b-110">Vår organisation genomgår en månatlig intäkter prognoser process som många företag.</span><span class="sxs-lookup"><span data-stu-id="24d7b-110">Like many businesses, our organization goes through a monthly revenue forecasting process.</span></span> <span data-ttu-id="24d7b-111">Vår små affärsanalytiker-teamet har gett med hjälp av Azure Machine Learning stöder processen och förbättra prognosens noggrannhet.</span><span class="sxs-lookup"><span data-stu-id="24d7b-111">Our small team of business analysts was tasked with using Azure Machine Learning to support the process and improve forecast accuracy.</span></span> <span data-ttu-id="24d7b-112">Teamet har använt flera månader samla in data från flera källor och kör attributen data via statistiska analyser identifiera viktiga egenskaper som är relevanta för tjänster försäljningsprognoser.</span><span class="sxs-lookup"><span data-stu-id="24d7b-112">The team spent several months collecting data from multiple sources and running the data attributes through statistical analysis identifying key attributes relevant to services sales forecasting.</span></span> <span data-ttu-id="24d7b-113">Nästa steg är att börja prototyper statistiska regression modeller på data i Excel.</span><span class="sxs-lookup"><span data-stu-id="24d7b-113">The next step was to begin prototyping statistical regression models on the data in Excel.</span></span> <span data-ttu-id="24d7b-114">Inom några veckor hade vi en Excel-regressionsmodell som outperforming aktuella fältet och ekonomi prognoser processer.</span><span class="sxs-lookup"><span data-stu-id="24d7b-114">Within a few weeks, we had an Excel regression model that was outperforming the current field and finance forecasting processes.</span></span> <span data-ttu-id="24d7b-115">Detta blev resultatet baslinjen förutsägelse.</span><span class="sxs-lookup"><span data-stu-id="24d7b-115">This became the baseline prediction result.</span></span> 

<span data-ttu-id="24d7b-116">Vi tog sedan nästa steg att flytta våra förutsägelseanalyser över till Azure Machine Learning ta reda på hur Maskininlärning kan förbättra förutsägbar prestanda.</span><span class="sxs-lookup"><span data-stu-id="24d7b-116">We then took the next step to moving our predictive analytics over to Azure Machine Learning to find out how Machine Learning could improve on predictive performance.</span></span>

## <a name="achieving-predictive-performance-parity"></a><span data-ttu-id="24d7b-117">Uppnå förutsägbar prestanda paritet</span><span class="sxs-lookup"><span data-stu-id="24d7b-117">Achieving predictive performance parity</span></span>
<span data-ttu-id="24d7b-118">Vår högsta prioritet var att uppnå paritet mellan regression Machine Learning och Excel.</span><span class="sxs-lookup"><span data-stu-id="24d7b-118">Our first priority was to achieve parity between Machine Learning and Excel regression models.</span></span> <span data-ttu-id="24d7b-119">Baserat på samma data och samma delning för träning och testning av data, som vi ville uppnå förutsägbar prestanda paritet mellan Excel och Maskininlärning.</span><span class="sxs-lookup"><span data-stu-id="24d7b-119">Given the same data, and the same split for training and testing data, we wanted to achieve predictive performance parity between Excel and Machine Learning.</span></span> <span data-ttu-id="24d7b-120">Först kunde inte.</span><span class="sxs-lookup"><span data-stu-id="24d7b-120">Initially we failed.</span></span> <span data-ttu-id="24d7b-121">Excel-modellen gick bättre än förväntat Machine Learning-modellen.</span><span class="sxs-lookup"><span data-stu-id="24d7b-121">The Excel model outperformed the Machine Learning model.</span></span> <span data-ttu-id="24d7b-122">Felet berodde på grund av bristande förståelse för verktygsinställningen grundläggande i Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="24d7b-122">The failure was due to a lack of understanding of the base tool setting in Machine Learning.</span></span> <span data-ttu-id="24d7b-123">Vi fick en bättre förståelse för inställningen för våra datauppsättningar efter en synkronisering med Produktteamet för Maskininlärning och uppnås paritet mellan de två modellerna.</span><span class="sxs-lookup"><span data-stu-id="24d7b-123">After a sync with the Machine Learning product team, we gained a better understanding of the base setting required for our data sets, and achieved parity between the two models.</span></span> 

### <a name="create-regression-model-in-excel"></a><span data-ttu-id="24d7b-124">Skapa regressionsmodell i Excel</span><span class="sxs-lookup"><span data-stu-id="24d7b-124">Create regression model in Excel</span></span>
<span data-ttu-id="24d7b-125">Vår Excel Regression används standard linjär regressionsmodell hittades i Excel analysverktygens.</span><span class="sxs-lookup"><span data-stu-id="24d7b-125">Our Excel Regression used the standard linear regression model found in the Excel Analysis ToolPak.</span></span> 

<span data-ttu-id="24d7b-126">Det beräknade *medelvärde absolut % fel* och använda den som prestandamåttet för modellen.</span><span class="sxs-lookup"><span data-stu-id="24d7b-126">We calculated *Mean Absolute % Error* and used it as the performance measure for the model.</span></span> <span data-ttu-id="24d7b-127">Det tog tre månader att få fram en fungerande modell i Excel.</span><span class="sxs-lookup"><span data-stu-id="24d7b-127">It took 3 months to arrive at a working model using Excel.</span></span> <span data-ttu-id="24d7b-128">Vi har utvecklat mycket learning i Machine Learning Studio-experiment som slutligen var bra i Förstå kraven.</span><span class="sxs-lookup"><span data-stu-id="24d7b-128">We brought much of the learning into the Machine Learning Studio experiment which ultimately was beneficial in understanding requirements.</span></span>

### <a name="create-comparable-experiment-in-azure-machine-learning"></a><span data-ttu-id="24d7b-129">Skapa jämförbara experiment i Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="24d7b-129">Create comparable experiment in Azure Machine Learning</span></span>
<span data-ttu-id="24d7b-130">Vi har följt de här stegen för att skapa vårt experiment i Machine Learning Studio:</span><span class="sxs-lookup"><span data-stu-id="24d7b-130">We followed these steps to create our experiment in Machine Learning Studio:</span></span> 

1. <span data-ttu-id="24d7b-131">Överförs datamängden som en csv-fil till Machine Learning Studio (liten fil)</span><span class="sxs-lookup"><span data-stu-id="24d7b-131">Uploaded the dataset as a csv file to Machine Learning Studio (very small file)</span></span>
2. <span data-ttu-id="24d7b-132">Ett nytt experiment skapas och används i [Välj kolumner i datauppsättning] [ select-columns] modulen att välja samma datafunktioner som används i Excel</span><span class="sxs-lookup"><span data-stu-id="24d7b-132">Created a new experiment and used the [Select Columns in Dataset][select-columns] module to select the same data features used in Excel</span></span> 
3. <span data-ttu-id="24d7b-133">Används av [dela Data] [ split] modul (med *relativa uttryck* läge) att dela data i samma utbildning datauppsättningar som har gjorts i Excel</span><span class="sxs-lookup"><span data-stu-id="24d7b-133">Used the [Split Data][split] module (with *Relative Expression* mode) to divide the data into the same training datasets as had been done in Excel</span></span> 
4. <span data-ttu-id="24d7b-134">Redan experimenterat lite med den [linjär Regression] [ linear-regression] modul (standardalternativen endast), dokumenterade och jämförs resultatet till vår regressionsmodell för Excel</span><span class="sxs-lookup"><span data-stu-id="24d7b-134">Experimented with the [Linear Regression][linear-regression] module (default options only), documented, and compared the results to our Excel regression model</span></span>

### <a name="review-initial-results"></a><span data-ttu-id="24d7b-135">Granska resultatet från första</span><span class="sxs-lookup"><span data-stu-id="24d7b-135">Review initial results</span></span>
<span data-ttu-id="24d7b-136">Först Excel modellen tydligt gick bättre än förväntat Machine Learning Studio modellen:</span><span class="sxs-lookup"><span data-stu-id="24d7b-136">At first, the Excel model clearly outperformed the Machine Learning Studio model:</span></span> 

|  | <span data-ttu-id="24d7b-137">Excel</span><span class="sxs-lookup"><span data-stu-id="24d7b-137">Excel</span></span> | <span data-ttu-id="24d7b-138">Studio</span><span class="sxs-lookup"><span data-stu-id="24d7b-138">Studio</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="24d7b-139">Prestanda</span><span class="sxs-lookup"><span data-stu-id="24d7b-139">Performance</span></span> | | |
| <ul style="list-style-type: none;"><li><span data-ttu-id="24d7b-140">Justeras R ruta</span><span class="sxs-lookup"><span data-stu-id="24d7b-140">Adjusted R Square</span></span></li></ul> |<span data-ttu-id="24d7b-141">0.96</span><span class="sxs-lookup"><span data-stu-id="24d7b-141">0.96</span></span> |<span data-ttu-id="24d7b-142">Saknas</span><span class="sxs-lookup"><span data-stu-id="24d7b-142">N/A</span></span> |
| <ul style="list-style-type: none;"><li><span data-ttu-id="24d7b-143">Värde för</span><span class="sxs-lookup"><span data-stu-id="24d7b-143">Coefficient of</span></span> <br /><span data-ttu-id="24d7b-144">Bestämning</span><span class="sxs-lookup"><span data-stu-id="24d7b-144">Determination</span></span></li></ul> |<span data-ttu-id="24d7b-145">Saknas</span><span class="sxs-lookup"><span data-stu-id="24d7b-145">N/A</span></span> |<span data-ttu-id="24d7b-146">0.78</span><span class="sxs-lookup"><span data-stu-id="24d7b-146">0.78</span></span><br /><span data-ttu-id="24d7b-147">(låg noggrannhet)</span><span class="sxs-lookup"><span data-stu-id="24d7b-147">(low accuracy)</span></span> |
| <span data-ttu-id="24d7b-148">Medelabsolutfel</span><span class="sxs-lookup"><span data-stu-id="24d7b-148">Mean Absolute Error</span></span> |<span data-ttu-id="24d7b-149">$9. 5M</span><span class="sxs-lookup"><span data-stu-id="24d7b-149">$9.5M</span></span> |<span data-ttu-id="24d7b-150">$ 19.4 M</span><span class="sxs-lookup"><span data-stu-id="24d7b-150">$ 19.4M</span></span> |
| <span data-ttu-id="24d7b-151">Medelabsolutfel (%)</span><span class="sxs-lookup"><span data-stu-id="24d7b-151">Mean Absolute Error (%)</span></span> |<span data-ttu-id="24d7b-152">6.03%</span><span class="sxs-lookup"><span data-stu-id="24d7b-152">6.03%</span></span> |<span data-ttu-id="24d7b-153">12.2%</span><span class="sxs-lookup"><span data-stu-id="24d7b-153">12.2%</span></span> |

<span data-ttu-id="24d7b-154">När vi körde våra processen och resultat av datavetare och utvecklare på Machine Learning-teamet angetts de snabbt några användbara tips.</span><span class="sxs-lookup"><span data-stu-id="24d7b-154">When we ran our process and results by the developers and data scientists on the Machine Learning team, they quickly provided some useful tips.</span></span> 

* <span data-ttu-id="24d7b-155">När du använder den [linjär Regression] [ linear-regression] modul i Machine Learning Studio finns två metoder:</span><span class="sxs-lookup"><span data-stu-id="24d7b-155">When you use the [Linear Regression][linear-regression] module in Machine Learning Studio, two methods are provided:</span></span>
  * <span data-ttu-id="24d7b-156">Online toningen härstammar: Kanske passar bättre för större skala problem</span><span class="sxs-lookup"><span data-stu-id="24d7b-156">Online Gradient Descent: May be more suitable for larger-scale problems</span></span>
  * <span data-ttu-id="24d7b-157">Vanlig minsta kvadrat: Det här är den metod som de flesta tänka på när de hör linjär regression.</span><span class="sxs-lookup"><span data-stu-id="24d7b-157">Ordinary Least Squares: This is the method most people think of when they hear linear regression.</span></span> <span data-ttu-id="24d7b-158">Vanlig minsta kvadrat kan vara mer föredra för små datauppsättningar.</span><span class="sxs-lookup"><span data-stu-id="24d7b-158">For small datasets, Ordinary Least Squares can be a more optimal choice.</span></span>
* <span data-ttu-id="24d7b-159">Överväg att modifiera parametern L2 Regularization vikt för att förbättra prestanda.</span><span class="sxs-lookup"><span data-stu-id="24d7b-159">Consider tweaking the L2 Regularization Weight parameter to improve performance.</span></span> <span data-ttu-id="24d7b-160">Anges till 0,001 som standard, men för våra liten datamängd vi det att 0,005 att förbättra prestanda.</span><span class="sxs-lookup"><span data-stu-id="24d7b-160">It is set to 0.001 by default, but for our small data set we set it to 0.005 to improve performance.</span></span> 

### <a name="mystery-solved"></a><span data-ttu-id="24d7b-161">Okända löst!</span><span class="sxs-lookup"><span data-stu-id="24d7b-161">Mystery solved!</span></span>
<span data-ttu-id="24d7b-162">När vi tillämpas rekommendationerna uppnås vi samma baslinje-prestanda i Machine Learning Studio som med Excel:</span><span class="sxs-lookup"><span data-stu-id="24d7b-162">When we applied the recommendations, we achieved the same baseline performance in Machine Learning Studio as with Excel:</span></span> 

|  | <span data-ttu-id="24d7b-163">Excel</span><span class="sxs-lookup"><span data-stu-id="24d7b-163">Excel</span></span> | <span data-ttu-id="24d7b-164">Studio (första)</span><span class="sxs-lookup"><span data-stu-id="24d7b-164">Studio (Initial)</span></span> | <span data-ttu-id="24d7b-165">Studio med minsta kvadrat</span><span class="sxs-lookup"><span data-stu-id="24d7b-165">Studio w/ Least Squares</span></span> |
| --- |:---:|:---:|:---:|
| <span data-ttu-id="24d7b-166">Märkt värde</span><span class="sxs-lookup"><span data-stu-id="24d7b-166">Labeled value</span></span> |<span data-ttu-id="24d7b-167">Verkliga (numeriskt)</span><span class="sxs-lookup"><span data-stu-id="24d7b-167">Actuals (numeric)</span></span> |<span data-ttu-id="24d7b-168">samma</span><span class="sxs-lookup"><span data-stu-id="24d7b-168">same</span></span> |<span data-ttu-id="24d7b-169">samma</span><span class="sxs-lookup"><span data-stu-id="24d7b-169">same</span></span> |
| <span data-ttu-id="24d7b-170">Deltagaren</span><span class="sxs-lookup"><span data-stu-id="24d7b-170">Learner</span></span> |<span data-ttu-id="24d7b-171">Excel -> Data Analysis -> Regression</span><span class="sxs-lookup"><span data-stu-id="24d7b-171">Excel -> Data Analysis -> Regression</span></span> |<span data-ttu-id="24d7b-172">Linjär Regression.</span><span class="sxs-lookup"><span data-stu-id="24d7b-172">Linear Regression.</span></span> |<span data-ttu-id="24d7b-173">Linjär Regression</span><span class="sxs-lookup"><span data-stu-id="24d7b-173">Linear Regression</span></span> |
| <span data-ttu-id="24d7b-174">Deltagaren alternativ</span><span class="sxs-lookup"><span data-stu-id="24d7b-174">Learner options</span></span> |<span data-ttu-id="24d7b-175">Saknas</span><span class="sxs-lookup"><span data-stu-id="24d7b-175">N/A</span></span> |<span data-ttu-id="24d7b-176">Som standard</span><span class="sxs-lookup"><span data-stu-id="24d7b-176">Defaults</span></span> |<span data-ttu-id="24d7b-177">vanlig minsta kvadrat</span><span class="sxs-lookup"><span data-stu-id="24d7b-177">ordinary least squares</span></span><br /><span data-ttu-id="24d7b-178">L2 = 0,005</span><span class="sxs-lookup"><span data-stu-id="24d7b-178">L2 = 0.005</span></span> |
| <span data-ttu-id="24d7b-179">Datauppsättning</span><span class="sxs-lookup"><span data-stu-id="24d7b-179">Data Set</span></span> |<span data-ttu-id="24d7b-180">26 rader, 3 funktioner, 1 etikett.</span><span class="sxs-lookup"><span data-stu-id="24d7b-180">26 rows, 3 features, 1 label.</span></span> <span data-ttu-id="24d7b-181">Alla numeriska.</span><span class="sxs-lookup"><span data-stu-id="24d7b-181">All numeric.</span></span> |<span data-ttu-id="24d7b-182">samma</span><span class="sxs-lookup"><span data-stu-id="24d7b-182">same</span></span> |<span data-ttu-id="24d7b-183">samma</span><span class="sxs-lookup"><span data-stu-id="24d7b-183">same</span></span> |
| <span data-ttu-id="24d7b-184">Dela: Train</span><span class="sxs-lookup"><span data-stu-id="24d7b-184">Split: Train</span></span> |<span data-ttu-id="24d7b-185">Excel tränats på först 18 rader, testas med de senaste 8 raderna.</span><span class="sxs-lookup"><span data-stu-id="24d7b-185">Excel trained on the first 18 rows, tested on the last 8 rows.</span></span> |<span data-ttu-id="24d7b-186">samma</span><span class="sxs-lookup"><span data-stu-id="24d7b-186">same</span></span> |<span data-ttu-id="24d7b-187">samma</span><span class="sxs-lookup"><span data-stu-id="24d7b-187">same</span></span> |
| <span data-ttu-id="24d7b-188">Dela: Test</span><span class="sxs-lookup"><span data-stu-id="24d7b-188">Split: Test</span></span> |<span data-ttu-id="24d7b-189">Excel-regressionsformeln som tillämpas på de senaste 8 raderna</span><span class="sxs-lookup"><span data-stu-id="24d7b-189">Excel regression formula applied to the last 8 rows</span></span> |<span data-ttu-id="24d7b-190">samma</span><span class="sxs-lookup"><span data-stu-id="24d7b-190">same</span></span> |<span data-ttu-id="24d7b-191">samma</span><span class="sxs-lookup"><span data-stu-id="24d7b-191">same</span></span> |
| <span data-ttu-id="24d7b-192">**Prestanda**</span><span class="sxs-lookup"><span data-stu-id="24d7b-192">**Performance**</span></span> | | | |
| <span data-ttu-id="24d7b-193">Justeras R ruta</span><span class="sxs-lookup"><span data-stu-id="24d7b-193">Adjusted R Square</span></span> |<span data-ttu-id="24d7b-194">0.96</span><span class="sxs-lookup"><span data-stu-id="24d7b-194">0.96</span></span> |<span data-ttu-id="24d7b-195">Saknas</span><span class="sxs-lookup"><span data-stu-id="24d7b-195">N/A</span></span> | |
| <span data-ttu-id="24d7b-196">Bestämningskoefficienten</span><span class="sxs-lookup"><span data-stu-id="24d7b-196">Coefficient of Determination</span></span> |<span data-ttu-id="24d7b-197">Saknas</span><span class="sxs-lookup"><span data-stu-id="24d7b-197">N/A</span></span> |<span data-ttu-id="24d7b-198">0.78</span><span class="sxs-lookup"><span data-stu-id="24d7b-198">0.78</span></span> |<span data-ttu-id="24d7b-199">0.952049</span><span class="sxs-lookup"><span data-stu-id="24d7b-199">0.952049</span></span> |
| <span data-ttu-id="24d7b-200">Medelabsolutfel</span><span class="sxs-lookup"><span data-stu-id="24d7b-200">Mean Absolute Error</span></span> |<span data-ttu-id="24d7b-201">$9. 5M</span><span class="sxs-lookup"><span data-stu-id="24d7b-201">$9.5M</span></span> |<span data-ttu-id="24d7b-202">$ 19.4 M</span><span class="sxs-lookup"><span data-stu-id="24d7b-202">$ 19.4M</span></span> |<span data-ttu-id="24d7b-203">$9. 5M</span><span class="sxs-lookup"><span data-stu-id="24d7b-203">$9.5M</span></span> |
| <span data-ttu-id="24d7b-204">Medelabsolutfel (%)</span><span class="sxs-lookup"><span data-stu-id="24d7b-204">Mean Absolute Error (%)</span></span> |<span data-ttu-id="24d7b-205"><span style="background-color: 00FF00;"> 6.03%</span></span><span class="sxs-lookup"><span data-stu-id="24d7b-205"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |<span data-ttu-id="24d7b-206">12.2%</span><span class="sxs-lookup"><span data-stu-id="24d7b-206">12.2%</span></span> |<span data-ttu-id="24d7b-207"><span style="background-color: 00FF00;"> 6.03%</span></span><span class="sxs-lookup"><span data-stu-id="24d7b-207"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |

<span data-ttu-id="24d7b-208">Dessutom Excel koefficienter jämfört med bra funktionen vikterna i Azure tränade modellen:</span><span class="sxs-lookup"><span data-stu-id="24d7b-208">In addition, the Excel coefficients compared well to the feature weights in the Azure trained model:</span></span>

|  | <span data-ttu-id="24d7b-209">Excel koefficienter</span><span class="sxs-lookup"><span data-stu-id="24d7b-209">Excel Coefficients</span></span> | <span data-ttu-id="24d7b-210">Azure-funktionen vikterna</span><span class="sxs-lookup"><span data-stu-id="24d7b-210">Azure Feature Weights</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="24d7b-211">Skärningspunkt/Bias</span><span class="sxs-lookup"><span data-stu-id="24d7b-211">Intercept/Bias</span></span> |<span data-ttu-id="24d7b-212">19470209.88</span><span class="sxs-lookup"><span data-stu-id="24d7b-212">19470209.88</span></span> |<span data-ttu-id="24d7b-213">19328500</span><span class="sxs-lookup"><span data-stu-id="24d7b-213">19328500</span></span> |
| <span data-ttu-id="24d7b-214">Funktion A</span><span class="sxs-lookup"><span data-stu-id="24d7b-214">Feature A</span></span> |<span data-ttu-id="24d7b-215">0.832653063</span><span class="sxs-lookup"><span data-stu-id="24d7b-215">0.832653063</span></span> |<span data-ttu-id="24d7b-216">0.834156</span><span class="sxs-lookup"><span data-stu-id="24d7b-216">0.834156</span></span> |
| <span data-ttu-id="24d7b-217">Funktion B</span><span class="sxs-lookup"><span data-stu-id="24d7b-217">Feature B</span></span> |<span data-ttu-id="24d7b-218">11071967.08</span><span class="sxs-lookup"><span data-stu-id="24d7b-218">11071967.08</span></span> |<span data-ttu-id="24d7b-219">11007300</span><span class="sxs-lookup"><span data-stu-id="24d7b-219">11007300</span></span> |
| <span data-ttu-id="24d7b-220">Funktionen C</span><span class="sxs-lookup"><span data-stu-id="24d7b-220">Feature C</span></span> |<span data-ttu-id="24d7b-221">25383318.09</span><span class="sxs-lookup"><span data-stu-id="24d7b-221">25383318.09</span></span> |<span data-ttu-id="24d7b-222">25140800</span><span class="sxs-lookup"><span data-stu-id="24d7b-222">25140800</span></span> |

## <a name="next-steps"></a><span data-ttu-id="24d7b-223">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="24d7b-223">Next Steps</span></span>
<span data-ttu-id="24d7b-224">Vi ville använda webbtjänsten för Machine Learning i Excel.</span><span class="sxs-lookup"><span data-stu-id="24d7b-224">We wanted to consume the Machine Learning web service within Excel.</span></span> <span data-ttu-id="24d7b-225">Vår affärsanalytiker förlitar sig på Excel och vi behövs ett sätt att anropa webbtjänsten för Machine Learning med en rad med data i Excel och det förväntade returvärde till Excel.</span><span class="sxs-lookup"><span data-stu-id="24d7b-225">Our business analysts rely on Excel and we needed a way to call the Machine Learning web service with a row of Excel data and have it return the predicted value to Excel.</span></span> 

<span data-ttu-id="24d7b-226">Vi ville också optimera vår modell med alternativ och algoritmer som är tillgängliga i Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="24d7b-226">We also wanted to optimize our model, using the options and algorithms available in Machine Learning Studio.</span></span>

### <a name="integration-with-excel"></a><span data-ttu-id="24d7b-227">Integrering med Excel</span><span class="sxs-lookup"><span data-stu-id="24d7b-227">Integration with Excel</span></span>
<span data-ttu-id="24d7b-228">Vår lösning var att operationalisera våra Machine Learning regressionsmodell genom att skapa en webbtjänst från den tränade modellen.</span><span class="sxs-lookup"><span data-stu-id="24d7b-228">Our solution was to operationalize our Machine Learning regression model by creating a web service from the trained model.</span></span> <span data-ttu-id="24d7b-229">Webbtjänsten har skapats och vi kan kalla den direkt från Excel för att returnera ett värde för beräknade intäkter inom några minuter.</span><span class="sxs-lookup"><span data-stu-id="24d7b-229">Within a few minutes, the web service was created and we could call it directly from Excel to return a predicted revenue value.</span></span> 

<span data-ttu-id="24d7b-230">Den *Web Services Dashboard* avsnittet innehåller en nedladdningsbar Excel-arbetsbok.</span><span class="sxs-lookup"><span data-stu-id="24d7b-230">The *Web Services Dashboard* section includes a downloadable Excel workbook.</span></span> <span data-ttu-id="24d7b-231">Arbetsboken innehåller före formaterad web API och schema tjänstinformation inbäddade.</span><span class="sxs-lookup"><span data-stu-id="24d7b-231">The workbook comes pre-formatted with the web service API and schema information embedded.</span></span> <span data-ttu-id="24d7b-232">När du klickar på *hämta Excel-arbetsboken*, arbetsboken öppnas och du kan spara den till den lokala datorn.</span><span class="sxs-lookup"><span data-stu-id="24d7b-232">When you click *Download Excel Workbook*, the workbook opens and you can save it to your local computer.</span></span> 

![][1]

<span data-ttu-id="24d7b-233">Kopiera fördefinierade parametrarna i avsnittet blå parametern med öppna arbetsboken som visas nedan.</span><span class="sxs-lookup"><span data-stu-id="24d7b-233">With the workbook open, copy your predefined parameters into the blue Parameter section as shown below.</span></span> <span data-ttu-id="24d7b-234">När du har angett parametrarna Excel anropar till Machine Learning-webbtjänst och förväntade poängsatta etiketter visas i avsnittet grön förutsagda värden.</span><span class="sxs-lookup"><span data-stu-id="24d7b-234">Once the parameters are entered, Excel calls out to the Machine Learning web service and the predicted scored labels will display in the green Predicted Values section.</span></span> <span data-ttu-id="24d7b-235">Arbetsboken kommer fortsätta att skapa förutsägelser för parametrar utifrån din tränad modell för alla rad-element som anges under parametrar.</span><span class="sxs-lookup"><span data-stu-id="24d7b-235">The workbook will continue to create predictions for parameters based on your trained model for all row items entered under Parameters.</span></span> <span data-ttu-id="24d7b-236">Mer information om hur du använder den här funktionen finns [förbrukar en Azure Machine Learning-webbtjänst från Excel](machine-learning-consuming-from-excel.md).</span><span class="sxs-lookup"><span data-stu-id="24d7b-236">For more information on how to use this feature, see [Consuming an Azure Machine Learning Web Service from Excel](machine-learning-consuming-from-excel.md).</span></span> 

![][2]

### <a name="optimization-and-further-experiments"></a><span data-ttu-id="24d7b-237">Optimering och ytterligare experiment</span><span class="sxs-lookup"><span data-stu-id="24d7b-237">Optimization and further experiments</span></span>
<span data-ttu-id="24d7b-238">Nu när vi hade en baslinje med vår modell i Excel flytta vi vidare att optimera våra linjär Regression Maskininlärningsmodell.</span><span class="sxs-lookup"><span data-stu-id="24d7b-238">Now that we had a baseline with our Excel model, we moved ahead to optimize our Machine Learning Linear Regression Model.</span></span> <span data-ttu-id="24d7b-239">Vi använde modulen [Filter-baserade Funktionsurval] [ filter-based-feature-selection] för att förbättra på vår urval av inledande data element och den hjälp oss att uppnå en prestandaförbättring 4.6% medelvärdet av absoluta fel.</span><span class="sxs-lookup"><span data-stu-id="24d7b-239">We used the module [Filter-Based Feature Selection][filter-based-feature-selection] to improve on our selection of initial data elements and it helped us achieve a performance improvement of 4.6% Mean Absolute Error.</span></span> <span data-ttu-id="24d7b-240">Vi använder den här funktionen som kan spara oss veckor i söka igenom dataattribut för att hitta rätt uppsättning funktioner för modellering för framtida projekt.</span><span class="sxs-lookup"><span data-stu-id="24d7b-240">For future projects we will use this feature which could save us weeks in iterating through data attributes to find the right set of features to use for modelling.</span></span> 

<span data-ttu-id="24d7b-241">Nästa vi planerar att inkludera ytterligare algoritmer som [Bayesian] [ bayesian-linear-regression] eller [Tvåklassförhöjt beslutsträd] [ boosted-decision-tree-regression] i vårt experiment att jämföra prestanda.</span><span class="sxs-lookup"><span data-stu-id="24d7b-241">Next we plan to include additional algorithms like [Bayesian][bayesian-linear-regression] or [Boosted Decision Trees][boosted-decision-tree-regression] in our experiment to compare performance.</span></span> 

<span data-ttu-id="24d7b-242">Om du vill experimentera med regression är en bra dataset försöka exempeldatamängd energi effektivitet Regression som har många numeriska attribut.</span><span class="sxs-lookup"><span data-stu-id="24d7b-242">If you want to experiment with regression, a good dataset to try is the Energy Efficiency Regression sample dataset, which has lots of numerical attributes.</span></span> <span data-ttu-id="24d7b-243">Datamängden har angetts som en del av provdatauppsättningar i Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="24d7b-243">The dataset is provided as part of the sample datasets in Machine Learning Studio.</span></span> <span data-ttu-id="24d7b-244">Du kan använda olika learning moduler för att förutsäga uppvärmning belastning eller kylning belastning.</span><span class="sxs-lookup"><span data-stu-id="24d7b-244">You can use a variety of learning modules to predict either Heating Load or Cooling Load.</span></span> <span data-ttu-id="24d7b-245">Diagrammet nedan är en prestanda jämförelse av olika regression lär sig mot den energieffektivitet dataset förutsäga för målvariabel kylning belastningen:</span><span class="sxs-lookup"><span data-stu-id="24d7b-245">The chart below is a performance comparison of different regression learns against the Energy Efficiency dataset predicting for the target variable Cooling Load:</span></span> 

| <span data-ttu-id="24d7b-246">Modellen</span><span class="sxs-lookup"><span data-stu-id="24d7b-246">Model</span></span> | <span data-ttu-id="24d7b-247">Medelabsolutfel</span><span class="sxs-lookup"><span data-stu-id="24d7b-247">Mean Absolute Error</span></span> | <span data-ttu-id="24d7b-248">Roten medelvärdet kvadrat fel</span><span class="sxs-lookup"><span data-stu-id="24d7b-248">Root Mean Squared Error</span></span> | <span data-ttu-id="24d7b-249">Relativa absoluta fel</span><span class="sxs-lookup"><span data-stu-id="24d7b-249">Relative Absolute Error</span></span> | <span data-ttu-id="24d7b-250">Relativ kvadrat fel</span><span class="sxs-lookup"><span data-stu-id="24d7b-250">Relative Squared Error</span></span> | <span data-ttu-id="24d7b-251">Bestämningskoefficienten</span><span class="sxs-lookup"><span data-stu-id="24d7b-251">Coefficient of Determination</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="24d7b-252">Tvåklassförhöjda beslutsträdet</span><span class="sxs-lookup"><span data-stu-id="24d7b-252">Boosted Decision Tree</span></span> |<span data-ttu-id="24d7b-253">0.930113</span><span class="sxs-lookup"><span data-stu-id="24d7b-253">0.930113</span></span> |<span data-ttu-id="24d7b-254">1.4239</span><span class="sxs-lookup"><span data-stu-id="24d7b-254">1.4239</span></span> |<span data-ttu-id="24d7b-255">0.106647</span><span class="sxs-lookup"><span data-stu-id="24d7b-255">0.106647</span></span> |<span data-ttu-id="24d7b-256">0.021662</span><span class="sxs-lookup"><span data-stu-id="24d7b-256">0.021662</span></span> |<span data-ttu-id="24d7b-257">0.978338</span><span class="sxs-lookup"><span data-stu-id="24d7b-257">0.978338</span></span> |
| <span data-ttu-id="24d7b-258">Linjär Regression (toning härstammar)</span><span class="sxs-lookup"><span data-stu-id="24d7b-258">Linear Regression (Gradient Descent)</span></span> |<span data-ttu-id="24d7b-259">2.035693</span><span class="sxs-lookup"><span data-stu-id="24d7b-259">2.035693</span></span> |<span data-ttu-id="24d7b-260">2.98006</span><span class="sxs-lookup"><span data-stu-id="24d7b-260">2.98006</span></span> |<span data-ttu-id="24d7b-261">0.233414</span><span class="sxs-lookup"><span data-stu-id="24d7b-261">0.233414</span></span> |<span data-ttu-id="24d7b-262">0.094881</span><span class="sxs-lookup"><span data-stu-id="24d7b-262">0.094881</span></span> |<span data-ttu-id="24d7b-263">0.905119</span><span class="sxs-lookup"><span data-stu-id="24d7b-263">0.905119</span></span> |
| <span data-ttu-id="24d7b-264">Neural Network Regression</span><span class="sxs-lookup"><span data-stu-id="24d7b-264">Neural Network Regression</span></span> |<span data-ttu-id="24d7b-265">1.548195</span><span class="sxs-lookup"><span data-stu-id="24d7b-265">1.548195</span></span> |<span data-ttu-id="24d7b-266">2.114617</span><span class="sxs-lookup"><span data-stu-id="24d7b-266">2.114617</span></span> |<span data-ttu-id="24d7b-267">0.177517</span><span class="sxs-lookup"><span data-stu-id="24d7b-267">0.177517</span></span> |<span data-ttu-id="24d7b-268">0.047774</span><span class="sxs-lookup"><span data-stu-id="24d7b-268">0.047774</span></span> |<span data-ttu-id="24d7b-269">0.952226</span><span class="sxs-lookup"><span data-stu-id="24d7b-269">0.952226</span></span> |
| <span data-ttu-id="24d7b-270">Linjär Regression (vanlig minsta kvadrat)</span><span class="sxs-lookup"><span data-stu-id="24d7b-270">Linear Regression (Ordinary Least Squares)</span></span> |<span data-ttu-id="24d7b-271">1.428273</span><span class="sxs-lookup"><span data-stu-id="24d7b-271">1.428273</span></span> |<span data-ttu-id="24d7b-272">1.984461</span><span class="sxs-lookup"><span data-stu-id="24d7b-272">1.984461</span></span> |<span data-ttu-id="24d7b-273">0.163767</span><span class="sxs-lookup"><span data-stu-id="24d7b-273">0.163767</span></span> |<span data-ttu-id="24d7b-274">0.042074</span><span class="sxs-lookup"><span data-stu-id="24d7b-274">0.042074</span></span> |<span data-ttu-id="24d7b-275">0.957926</span><span class="sxs-lookup"><span data-stu-id="24d7b-275">0.957926</span></span> |

## <a name="key-takeaways"></a><span data-ttu-id="24d7b-276">Viktiga Takeaways</span><span class="sxs-lookup"><span data-stu-id="24d7b-276">Key Takeaways</span></span>
<span data-ttu-id="24d7b-277">Vi lärt dig mycket av körs Excel regression och Azure Machine Learning-experimenten parallellt.</span><span class="sxs-lookup"><span data-stu-id="24d7b-277">We learned a lot by from running Excel regression and Azure Machine Learning experiments in parallel.</span></span> <span data-ttu-id="24d7b-278">Skapa baslinje i Excel och jämföra dem med modeller med hjälp av Machine Learning [linjär Regression] [ linear-regression] hjälpte oss Läs Azure Machine Learning och vi identifierade möjligheter att optimera prestanda för data-markering och modell.</span><span class="sxs-lookup"><span data-stu-id="24d7b-278">Creating the baseline model in Excel and comparing it to models using Machine Learning [Linear Regression][linear-regression] helped us learn Azure Machine Learning, and we discovered opportunities to improve data selection and model performance.</span></span> 

<span data-ttu-id="24d7b-279">Det finns också att det är lämpligt att använda [Filter-baserade Funktionsurval] [ filter-based-feature-selection] som påskyndar framtida förutsägelse projekt.</span><span class="sxs-lookup"><span data-stu-id="24d7b-279">We also found that it is advisable to use [Filter-Based Feature Selection][filter-based-feature-selection] to accelerate future prediction projects.</span></span> <span data-ttu-id="24d7b-280">Genom att tillämpa val av funktioner på dina data, kan du skapa en förbättrad modell i Machine Learning med bättre prestanda.</span><span class="sxs-lookup"><span data-stu-id="24d7b-280">By applying feature selection to your data, you can create an improved model in Machine Learning with better overall performance.</span></span> 

<span data-ttu-id="24d7b-281">Möjligheten att överföra den förutsägande analytiska prognoser från Machine Learning till Excel hela organismen tillåter mycket större i möjligheten att erbjuda har resultaten till en bred business målgrupp.</span><span class="sxs-lookup"><span data-stu-id="24d7b-281">The ability to transfer the predictive analytic forecasting from Machine Learning to Excel systemically allows a significant increase in the ability to successfully provide results to a broad business user audience.</span></span> 

## <a name="resources"></a><span data-ttu-id="24d7b-282">Resurser</span><span class="sxs-lookup"><span data-stu-id="24d7b-282">Resources</span></span>
<span data-ttu-id="24d7b-283">Här följer några resurser för att hjälpa dig att arbeta med regression:</span><span class="sxs-lookup"><span data-stu-id="24d7b-283">Here are some resources for helping you work with regression:</span></span> 

* <span data-ttu-id="24d7b-284">Regression i Excel.</span><span class="sxs-lookup"><span data-stu-id="24d7b-284">Regression in Excel.</span></span> <span data-ttu-id="24d7b-285">Om du aldrig har försökt regression i Excel, den här kursen är det enkelt: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span><span class="sxs-lookup"><span data-stu-id="24d7b-285">If you’ve never tried regression in Excel, this tutorial makes it easy: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span></span>
* <span data-ttu-id="24d7b-286">Regression vs prognoser.</span><span class="sxs-lookup"><span data-stu-id="24d7b-286">Regression vs forecasting.</span></span> <span data-ttu-id="24d7b-287">Tyler Chessman skrev en bloggartikel som förklarar hur du time series Prognosticering i Excel, som innehåller en bra nybörjare beskrivning av linjär regression.</span><span class="sxs-lookup"><span data-stu-id="24d7b-287">Tyler Chessman wrote a blog article explaining how to do time series forecasting in Excel, which contains a good beginner’s description of linear regression.</span></span> [<span data-ttu-id="24d7b-288">http://sqlmag.com/SQL-Server-Analysis-Services/Understanding-Time-Series-Forecasting-Concepts</span><span class="sxs-lookup"><span data-stu-id="24d7b-288">http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts</span></span>](http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts) 
* <span data-ttu-id="24d7b-289">Vanlig minst linjär Regression: Fel, problem och fallgropar.</span><span class="sxs-lookup"><span data-stu-id="24d7b-289">Ordinary Least Squares Linear Regression: Flaws, Problems and Pitfalls.</span></span> <span data-ttu-id="24d7b-290">En introduktion och en beskrivning av Regression: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span><span class="sxs-lookup"><span data-stu-id="24d7b-290">For an introduction and discussion of Regression: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/ ](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span></span>

[1]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-1.png
[2]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-2.png


<!-- Module References -->
[bayesian-linear-regression]: https://msdn.microsoft.com/library/azure/ee12de50-2b34-4145-aec0-23e0485da308/
[boosted-decision-tree-regression]: https://msdn.microsoft.com/library/azure/0207d252-6c41-4c77-84c3-73bdf1ac5960/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[linear-regression]: https://msdn.microsoft.com/library/azure/31960a6f-789b-4cf7-88d6-2e1152c0bd1a/
[select-columns]: https://msdn.microsoft.com/library/azure/1ec722fa-b623-4e26-a44e-a50c6d726223/
[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/

