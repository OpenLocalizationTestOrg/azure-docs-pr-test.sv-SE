---
title: "aaaExecute Python maskininlärning skript | Microsoft Docs"
description: "Ger en översikt över utforma principerna stöd för Python-skript i Azure Machine Learning och grundläggande Användningsscenarier, funktioner och begränsningar."
keywords: "Python maskininlärning pandas, python pandas, python-skript för körning av python-skript"
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: ee9eb764-0d3e-4104-a797-19fc29345d39
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: bradsev
ms.openlocfilehash: 8d23aaa972a46cb1a07ea0f18cc1e24933fe3e6f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="execute-python-machine-learning-scripts-in-azure-machine-learning-studio"></a><span data-ttu-id="2307b-104">Kör skript för Python-maskininlärning i Azure Machine Learning Studio</span><span class="sxs-lookup"><span data-stu-id="2307b-104">Execute Python machine learning scripts in Azure Machine Learning Studio</span></span>

<span data-ttu-id="2307b-105">Det här avsnittet beskriver hello hello aktuella stöd för Python-skript i Azure Machine Learning för design-principerna.</span><span class="sxs-lookup"><span data-stu-id="2307b-105">This topic describes hello design principles underlying hello current support for Python scripts in Azure Machine Learning.</span></span> <span data-ttu-id="2307b-106">hello huvudsakliga funktionerna som också beskrivs, inklusive:</span><span class="sxs-lookup"><span data-stu-id="2307b-106">hello main capabilities provided are also outlined, including:</span></span>

- <span data-ttu-id="2307b-107">köra grundläggande Användningsscenarier</span><span class="sxs-lookup"><span data-stu-id="2307b-107">execute basic usage scenarios</span></span>
- <span data-ttu-id="2307b-108">resultatet av ett experiment i en webbtjänst</span><span class="sxs-lookup"><span data-stu-id="2307b-108">score an experiment in a web service</span></span>
- <span data-ttu-id="2307b-109">stöd för att importera befintlig kod</span><span class="sxs-lookup"><span data-stu-id="2307b-109">support for importing existing code</span></span>
- <span data-ttu-id="2307b-110">Exportera visualiseringar</span><span class="sxs-lookup"><span data-stu-id="2307b-110">export visualizations</span></span>
- <span data-ttu-id="2307b-111">utföra övervakat Funktionsurval</span><span class="sxs-lookup"><span data-stu-id="2307b-111">perform supervised feature selection</span></span>
- <span data-ttu-id="2307b-112">Förstå vissa begränsningar</span><span class="sxs-lookup"><span data-stu-id="2307b-112">understand some limitations</span></span>

<span data-ttu-id="2307b-113">[Python](https://www.python.org/) är ett ovärderligt verktyg för hello verktyget bröstet många data forskare.</span><span class="sxs-lookup"><span data-stu-id="2307b-113">[Python](https://www.python.org/) is an indispensable tool in hello tool chest of many data scientists.</span></span> <span data-ttu-id="2307b-114">Det har:</span><span class="sxs-lookup"><span data-stu-id="2307b-114">It has:</span></span>

* <span data-ttu-id="2307b-115">en elegant och koncis syntax</span><span class="sxs-lookup"><span data-stu-id="2307b-115">an elegant and concise syntax,</span></span> 
* <span data-ttu-id="2307b-116">plattformsoberoende stöd</span><span class="sxs-lookup"><span data-stu-id="2307b-116">cross-platform support,</span></span> 
* <span data-ttu-id="2307b-117">en omfattande uppsättning kraftfulla bibliotek och</span><span class="sxs-lookup"><span data-stu-id="2307b-117">a vast collection of powerful libraries, and</span></span> 
* <span data-ttu-id="2307b-118">mogen utvecklingsverktyg.</span><span class="sxs-lookup"><span data-stu-id="2307b-118">mature development tools.</span></span> 

<span data-ttu-id="2307b-119">Python som används i alla faser av ett arbetsflöde som vanligtvis används i machine learning modellering:</span><span class="sxs-lookup"><span data-stu-id="2307b-119">Python is being used in all phases of a workflow typically used in machine learning modeling:</span></span>

- <span data-ttu-id="2307b-120">mata in data och bearbetning</span><span class="sxs-lookup"><span data-stu-id="2307b-120">data ingest and processing</span></span> 
- <span data-ttu-id="2307b-121">funktionen konstruktion</span><span class="sxs-lookup"><span data-stu-id="2307b-121">feature construction</span></span>
- <span data-ttu-id="2307b-122">modell-utbildning</span><span class="sxs-lookup"><span data-stu-id="2307b-122">model training</span></span> 
- <span data-ttu-id="2307b-123">modellverifiering</span><span class="sxs-lookup"><span data-stu-id="2307b-123">model validation</span></span>
- <span data-ttu-id="2307b-124">distribution av hello modeller</span><span class="sxs-lookup"><span data-stu-id="2307b-124">deployment of hello models</span></span>

<span data-ttu-id="2307b-125">Azure Machine Learning Studio stöder inbäddning Python-skript till olika delar av en dator learning experiment och publicera dem också sömlöst som webbtjänster på Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="2307b-125">Azure Machine Learning Studio supports embedding Python scripts into various parts of a machine learning experiment and also seamlessly publishing them as web services on Microsoft Azure.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]


## <a name="design-principles-of-python-scripts-in-machine-learning"></a><span data-ttu-id="2307b-126">Designprinciperna för Python-skript i Machine Learning</span><span class="sxs-lookup"><span data-stu-id="2307b-126">Design principles of Python scripts in Machine Learning</span></span>

<span data-ttu-id="2307b-127">hello primära gränssnittet tooPython i Azure Machine Learning Studio är via hello [köra Python-skriptet] [ execute-python-script] modulen som visas i bild 1.</span><span class="sxs-lookup"><span data-stu-id="2307b-127">hello primary interface tooPython in Azure Machine Learning Studio is via hello [Execute Python Script][execute-python-script] module shown in Figure 1.</span></span>

![image1](./media/machine-learning-execute-python-scripts/execute-machine-learning-python-scripts-module.png)

![image2](./media/machine-learning-execute-python-scripts/embedded-machine-learning-python-script.png)

<span data-ttu-id="2307b-130">Bild 1.</span><span class="sxs-lookup"><span data-stu-id="2307b-130">Figure 1.</span></span> <span data-ttu-id="2307b-131">Hej **köra Python-skriptet** modul.</span><span class="sxs-lookup"><span data-stu-id="2307b-131">hello **Execute Python Script** module.</span></span>

<span data-ttu-id="2307b-132">Hej [köra Python-skriptet] [ execute-python-script] modul i Azure ML Studio accepterar in toothree indata och ger dig tootwo utdata (beskrivs i följande avsnitt hello) som dess R-analog hello [ Köra R-skriptet] [ execute-r-script] modul.</span><span class="sxs-lookup"><span data-stu-id="2307b-132">hello [Execute Python Script][execute-python-script] module in Azure ML Studio accepts up toothree inputs and produces up tootwo outputs (discussed in hello following section), like its R analogue, hello [Execute R Script][execute-r-script] module.</span></span> <span data-ttu-id="2307b-133">hello Python-kod toobe utförs registreras i hello parameterrutan som ett särskilt namngiven startpunkten anropade funktionen `azureml_main`.</span><span class="sxs-lookup"><span data-stu-id="2307b-133">hello Python code toobe executed is entered into hello parameter box as a specially named entry-point function called `azureml_main`.</span></span> <span data-ttu-id="2307b-134">Här följer hello viktiga designbeslut principer används tooimplement för den här modulen:</span><span class="sxs-lookup"><span data-stu-id="2307b-134">Here are hello key design principles used tooimplement this module:</span></span>

1. <span data-ttu-id="2307b-135">*Måste vara idiomatiska för Python-användare.*</span><span class="sxs-lookup"><span data-stu-id="2307b-135">*Must be idiomatic for Python users.*</span></span> <span data-ttu-id="2307b-136">De flesta Python användare factor koden som funktioner i moduler.</span><span class="sxs-lookup"><span data-stu-id="2307b-136">Most Python users factor their code as functions inside modules.</span></span> <span data-ttu-id="2307b-137">Placera så mycket körbara instruktioner i en översta modul är relativt ovanligt.</span><span class="sxs-lookup"><span data-stu-id="2307b-137">So putting a lot of executable statements in a top-level module is relatively rare.</span></span> <span data-ttu-id="2307b-138">Därför använder hello skript kryssrutan också en särskild Python-funktion som skillnad från toojust en sekvens av rapporter.</span><span class="sxs-lookup"><span data-stu-id="2307b-138">As a result, hello script box also takes a specially named Python function as opposed toojust a sequence of statements.</span></span> <span data-ttu-id="2307b-139">hello objekt visas i hello-funktionen är Standardtyper för Python-bibliotek som [Pandas](http://pandas.pydata.org/) dataramar och [NumPy](http://www.numpy.org/) matriser.</span><span class="sxs-lookup"><span data-stu-id="2307b-139">hello objects exposed in hello function are standard Python library types such as [Pandas](http://pandas.pydata.org/) data frames and [NumPy](http://www.numpy.org/) arrays.</span></span>
2. <span data-ttu-id="2307b-140">*Måste ha exakt mellan lokala och molntjänster körningar.*</span><span class="sxs-lookup"><span data-stu-id="2307b-140">*Must have high-fidelity between local and cloud executions.*</span></span> <span data-ttu-id="2307b-141">hello backend används tooexecute hello Python-kod är baserad på [Anaconda](https://store.continuum.io/cshop/anaconda/)en vanlig plattformsoberoende vetenskapliga Python-distribution.</span><span class="sxs-lookup"><span data-stu-id="2307b-141">hello backend used tooexecute hello Python code is based on [Anaconda](https://store.continuum.io/cshop/anaconda/), a widely used cross-platform scientific Python distribution.</span></span> <span data-ttu-id="2307b-142">Den innehåller Stäng too200 hello vanligaste Python-paket.</span><span class="sxs-lookup"><span data-stu-id="2307b-142">It comes with close too200 of hello most common Python packages.</span></span> <span data-ttu-id="2307b-143">Därför dataanalytiker felsöka och kvalificera koden på sina lokala Azure Machine Learning-kompatibla Anaconda-miljön.</span><span class="sxs-lookup"><span data-stu-id="2307b-143">Therefore, data scientists can debug and qualify their code on their local Azure Machine Learning-compatible Anaconda environment.</span></span> <span data-ttu-id="2307b-144">Använd en befintlig utvecklingsmiljö som [IPython](http://ipython.org/) bärbar dator eller [Python Tools för Visual Studio](http://aka.ms/ptvs), toorun det som en del av ett experiment i Azure ML.</span><span class="sxs-lookup"><span data-stu-id="2307b-144">Then use an existing development environment, such as [IPython](http://ipython.org/) notebook or [Python Tools for Visual Studio](http://aka.ms/ptvs), toorun it as part of an Azure ML experiment.</span></span> <span data-ttu-id="2307b-145">Hej `azureml_main` startadressen är en vanliga Python-funktion och kan därför *** kan skapas utan Azure ML-specifik kod eller hello SDK är installerat.</span><span class="sxs-lookup"><span data-stu-id="2307b-145">hello `azureml_main` entry point is a vanilla Python function and so ****can be authored without Azure ML-specific code or hello SDK installed.</span></span>
3. <span data-ttu-id="2307b-146">*Måste vara sömlöst sammanställningsbara med andra Azure Machine Learning-moduler.*</span><span class="sxs-lookup"><span data-stu-id="2307b-146">*Must be seamlessly composable with other Azure Machine Learning modules.*</span></span> <span data-ttu-id="2307b-147">Hej [köra Python-skriptet] [ execute-python-script] modulen accepterar, som indata och utdata, standard Azure Machine Learning datauppsättningar.</span><span class="sxs-lookup"><span data-stu-id="2307b-147">hello [Execute Python Script][execute-python-script] module accepts, as inputs and outputs, standard Azure Machine Learning datasets.</span></span> <span data-ttu-id="2307b-148">hello underliggande ramverk få transparent och effektivt sätt hello Azure ML och Python körningar.</span><span class="sxs-lookup"><span data-stu-id="2307b-148">hello underlying framework transparently and efficiently bridges hello Azure ML and Python runtimes.</span></span> <span data-ttu-id="2307b-149">Så kan Python användas tillsammans med befintliga Azure ML-arbetsflöden, inklusive de som anropar R och SQLite.</span><span class="sxs-lookup"><span data-stu-id="2307b-149">So Python can be used in conjunction with existing Azure ML workflows, including those that call into R and SQLite.</span></span> <span data-ttu-id="2307b-150">Resulterar i att data forskare kan skapa arbetsflöden som:</span><span class="sxs-lookup"><span data-stu-id="2307b-150">A  result, data scientist could compose workflows that:</span></span>
   * <span data-ttu-id="2307b-151">använda Python och Pandas för förbearbetning och rensning</span><span class="sxs-lookup"><span data-stu-id="2307b-151">use Python and Pandas for data pre-processing and cleaning</span></span>
   * <span data-ttu-id="2307b-152">feed hello tooa SQL DTS, ansluta till flera datauppsättningar tooform funktioner</span><span class="sxs-lookup"><span data-stu-id="2307b-152">feed hello data tooa SQL transformation, joining multiple datasets tooform features</span></span>
   * <span data-ttu-id="2307b-153">Träna modeller med hello algoritmer i Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="2307b-153">train models using hello algorithms in Azure Machine Learning</span></span> 
   * <span data-ttu-id="2307b-154">utvärdera och efterbearbetning hello resultat med hjälp av R.</span><span class="sxs-lookup"><span data-stu-id="2307b-154">evaluate and post-process hello results using R.</span></span>


## <a name="basic-usage-scenarios-in-ml-for-python-scripts"></a><span data-ttu-id="2307b-155">Grundläggande Användningsscenarier i ML för Python-skript</span><span class="sxs-lookup"><span data-stu-id="2307b-155">Basic usage scenarios in ML for Python scripts</span></span>

<span data-ttu-id="2307b-156">I det här avsnittet vi en undersökning vissa hello grundläggande användning av hello [köra Python-skriptet] [ execute-python-script] modul.</span><span class="sxs-lookup"><span data-stu-id="2307b-156">In this section, we survey some of hello basic uses of hello [Execute Python Script][execute-python-script] module.</span></span> <span data-ttu-id="2307b-157">Indata toohello Python-modulen exponeras som Pandas ramar.</span><span class="sxs-lookup"><span data-stu-id="2307b-157">Inputs toohello Python module are exposed as Pandas data frames.</span></span> <span data-ttu-id="2307b-158">hello funktionen måste returnera en Pandas data bildruta paketeras i en Python [sekvens](https://docs.python.org/2/c-api/sequence.html) , till exempel en tuppel, lista eller NumPy matris.</span><span class="sxs-lookup"><span data-stu-id="2307b-158">hello function must return a single Pandas data frame packaged inside of a Python [sequence](https://docs.python.org/2/c-api/sequence.html) such as a tuple, list, or NumPy array.</span></span> <span data-ttu-id="2307b-159">hello första elementet i den här sekvensen returneras sedan hello första utdataporten för modulen hello.</span><span class="sxs-lookup"><span data-stu-id="2307b-159">hello first element of this sequence is then returned in hello first output port of hello module.</span></span> <span data-ttu-id="2307b-160">Det här schemat visas i bild 2.</span><span class="sxs-lookup"><span data-stu-id="2307b-160">This scheme is shown in Figure 2.</span></span>

![image3](./media/machine-learning-execute-python-scripts/map-of-python-script-inputs-outputs.png)

<span data-ttu-id="2307b-162">Figur 2.</span><span class="sxs-lookup"><span data-stu-id="2307b-162">Figure 2.</span></span> <span data-ttu-id="2307b-163">Mappning av indataportar tooparameters och returnera värdet toooutput port.</span><span class="sxs-lookup"><span data-stu-id="2307b-163">Mapping of input ports tooparameters and return value toooutput port.</span></span>

<span data-ttu-id="2307b-164">Mer detaljerad semantiken för hur hello portar får mappade tooparameters av hello `azureml_main` funktionen visas i tabell 1:</span><span class="sxs-lookup"><span data-stu-id="2307b-164">More detailed semantics of how hello input ports get mapped tooparameters of hello `azureml_main` function are shown in Table 1:</span></span>

![image1T](./media/machine-learning-execute-python-scripts/python-script-inputs-mapped-to-parameters.png)

<span data-ttu-id="2307b-166">Tabell 1.</span><span class="sxs-lookup"><span data-stu-id="2307b-166">Table 1.</span></span> <span data-ttu-id="2307b-167">Mappning av portar toofunction parametrar.</span><span class="sxs-lookup"><span data-stu-id="2307b-167">Mapping of input ports toofunction parameters.</span></span>

<span data-ttu-id="2307b-168">hello mappning mellan portar och funktionsparametrar är namngivna:</span><span class="sxs-lookup"><span data-stu-id="2307b-168">hello mapping between input ports and function parameters is positional:</span></span>

- <span data-ttu-id="2307b-169">hello den första porten för anslutna är mappade toohello första parameter hello-funktionen.</span><span class="sxs-lookup"><span data-stu-id="2307b-169">hello first connected input port is mapped toohello first parameter of hello function.</span></span> 
- <span data-ttu-id="2307b-170">hello andra indata (om ansluten) är mappade toohello andra parametern för hello-funktionen.</span><span class="sxs-lookup"><span data-stu-id="2307b-170">hello second input (if connected) is mapped toohello second parameter of hello function.</span></span>

<span data-ttu-id="2307b-171">Se *Python för dataanalys* (O'Reilly 2012) av västra McKinney för mer information om Python Pandas och hur det kan vara används toomanipulate data effektivt.</span><span class="sxs-lookup"><span data-stu-id="2307b-171">See *Python for Data Analysis* (O'Reilly, 2012) by W. McKinney for more information on Python Pandas and on how it can be used toomanipulate data effectively and efficiently.</span></span> 


## <a name="translation-of-input-and-output-types"></a><span data-ttu-id="2307b-172">Översättning av inkommande och utgående typer</span><span class="sxs-lookup"><span data-stu-id="2307b-172">Translation of input and output types</span></span> 
<span data-ttu-id="2307b-173">Indatauppsättningar i Azure ML är konverterade toodata ramar i Pandas.</span><span class="sxs-lookup"><span data-stu-id="2307b-173">Input datasets in Azure ML are converted toodata frames in Pandas.</span></span> <span data-ttu-id="2307b-174">Utdata dataramar konverteras tillbaka tooAzure ML datauppsättningar.</span><span class="sxs-lookup"><span data-stu-id="2307b-174">Output data frames are converted back tooAzure ML datasets.</span></span> <span data-ttu-id="2307b-175">hello följande konverteringar utförs:</span><span class="sxs-lookup"><span data-stu-id="2307b-175">hello following conversions are performed:</span></span>

1. <span data-ttu-id="2307b-176">Sträng och numeriska kolumner konverteras som-är och värden som saknas i en dataset är konverterade too'NA som värden i Pandas.</span><span class="sxs-lookup"><span data-stu-id="2307b-176">String and numeric columns are converted as-is and missing values in a dataset are converted too‘NA’ values in Pandas.</span></span> <span data-ttu-id="2307b-177">hello samma konvertering som händer på hello sätt tillbaka (NA värdena i Pandas är konverterade toomissing värden i Azure ML).</span><span class="sxs-lookup"><span data-stu-id="2307b-177">hello same conversion happens on hello way back (NA values in Pandas are converted toomissing values in Azure ML).</span></span>
2. <span data-ttu-id="2307b-178">Index angreppsmetoderna i Pandas stöds inte i Azure ML.</span><span class="sxs-lookup"><span data-stu-id="2307b-178">Index vectors in Pandas are not supported in Azure ML.</span></span> <span data-ttu-id="2307b-179">Alla indata ramar i hello Python-funktionen har alltid ett numeriskt index för 64-bitars från 0 toohello antal rader minus 1.</span><span class="sxs-lookup"><span data-stu-id="2307b-179">All input data frames in hello Python function always have a 64-bit numerical index from 0 toohello number of rows minus 1.</span></span> 
3. <span data-ttu-id="2307b-180">Azure ML-datauppsättningar kan inte ha dubbletter av kolumnnamn och kolumnnamn som inte är strängar.</span><span class="sxs-lookup"><span data-stu-id="2307b-180">Azure ML datasets cannot have duplicate column names and column names that are not strings.</span></span> <span data-ttu-id="2307b-181">Om en utgående data ram innehåller icke-numeriska kolumner, hello framework anrop `str` på hello kolumnnamn.</span><span class="sxs-lookup"><span data-stu-id="2307b-181">If an output data frame contains non-numeric columns, hello framework calls `str` on hello column names.</span></span> <span data-ttu-id="2307b-182">På samma sätt några dubbletter av kolumnnamn är automatiskt felaktig tooinsure hello namnen är unika.</span><span class="sxs-lookup"><span data-stu-id="2307b-182">Likewise, any duplicate column names are automatically mangled tooinsure hello names are unique.</span></span> <span data-ttu-id="2307b-183">hello-suffix (2) läggs toohello första dubblett, (3) toohello andra dubblett och så vidare.</span><span class="sxs-lookup"><span data-stu-id="2307b-183">hello suffix (2) is added toohello first duplicate, (3) toohello second duplicate, and so on.</span></span>


## <a name="operationalizing-python-scripts"></a><span data-ttu-id="2307b-184">Operationalizing Python-skript</span><span class="sxs-lookup"><span data-stu-id="2307b-184">Operationalizing Python scripts</span></span>

<span data-ttu-id="2307b-185">Alla [köra Python-skriptet] [ execute-python-script] moduler som används i ett bedömningsprofil experiment anropas när publiceras som en webbtjänst.</span><span class="sxs-lookup"><span data-stu-id="2307b-185">Any [Execute Python Script][execute-python-script] modules used in a scoring experiment are called when published as a web service.</span></span> <span data-ttu-id="2307b-186">Bild 3 visar till exempel ett bedömningsprofil experiment som innehåller hello kod tooevaluate ett enda Python-uttryck.</span><span class="sxs-lookup"><span data-stu-id="2307b-186">For example, Figure 3 shows a scoring experiment that contains hello code tooevaluate a single Python expression.</span></span> 

![image4](./media/machine-learning-execute-python-scripts/figure3a.png)

![image5](./media/machine-learning-execute-python-scripts/python-script-with-python-pandas.png)

<span data-ttu-id="2307b-189">Bild 3.</span><span class="sxs-lookup"><span data-stu-id="2307b-189">Figure 3.</span></span> <span data-ttu-id="2307b-190">Webbtjänsten för utvärdering av ett Python-uttryck.</span><span class="sxs-lookup"><span data-stu-id="2307b-190">Web service for evaluating a Python expression.</span></span>

<span data-ttu-id="2307b-191">En webbtjänst som skapas från den här experiment:</span><span class="sxs-lookup"><span data-stu-id="2307b-191">A web service created from this experiment:</span></span>

- <span data-ttu-id="2307b-192">tar som indata en Python-uttryck (som sträng)</span><span class="sxs-lookup"><span data-stu-id="2307b-192">takes as input a Python expression (as a string)</span></span>
- <span data-ttu-id="2307b-193">skickar det toohello Python-tolkning</span><span class="sxs-lookup"><span data-stu-id="2307b-193">sends it toohello Python interpreter</span></span> 
- <span data-ttu-id="2307b-194">Returnerar en tabell som innehåller både hello uttryck och hello utvärderas resultat.</span><span class="sxs-lookup"><span data-stu-id="2307b-194">returns a table containing both hello expression and hello evaluated result.</span></span>


## <a name="importing-existing-python-script-modules"></a><span data-ttu-id="2307b-195">Importera befintlig Python skriptmoduler</span><span class="sxs-lookup"><span data-stu-id="2307b-195">Importing existing Python script modules</span></span>

<span data-ttu-id="2307b-196">Ett vanligt användningsområde för många datavetare är tooincorporate befintliga Python-skript i Azure ML experiment.</span><span class="sxs-lookup"><span data-stu-id="2307b-196">A common use-case for many data scientists is tooincorporate existing Python scripts into Azure ML experiments.</span></span> <span data-ttu-id="2307b-197">I stället för att kräva att all kod som sammanfogas och klistras in i ett enda skript kryssrutan hello [köra Python-skriptet] [ execute-python-script] modulen accepterar en zip-fil som innehåller Python-moduler på hello tredje indataport.</span><span class="sxs-lookup"><span data-stu-id="2307b-197">Instead of requiring that all code be concatenated and pasted into a single script box, hello [Execute Python Script][execute-python-script] module accepts a zip file that contains Python modules at hello third input port.</span></span> <span data-ttu-id="2307b-198">hello-filen är uppackade av hello körning framework vid körning och hello innehållet läggs toohello sökväg till bibliotek för hello Python-tolken.</span><span class="sxs-lookup"><span data-stu-id="2307b-198">hello file is unzipped by hello execution framework at runtime and hello contents are added toohello library path of hello Python interpreter.</span></span> <span data-ttu-id="2307b-199">Hej `azureml_main` startpunkten funktion kan sedan importera dessa moduler direkt.</span><span class="sxs-lookup"><span data-stu-id="2307b-199">hello `azureml_main` entry point function can then import these modules directly.</span></span>

<span data-ttu-id="2307b-200">Exempelvis bör du hello filen Hello.py som innehåller en enkel ”Hello, World”-funktionen.</span><span class="sxs-lookup"><span data-stu-id="2307b-200">As an example, consider hello file Hello.py containing a simple “Hello, World” function.</span></span>

![image6](./media/machine-learning-execute-python-scripts/figure4.png)

<span data-ttu-id="2307b-202">Bild 4.</span><span class="sxs-lookup"><span data-stu-id="2307b-202">Figure 4.</span></span> <span data-ttu-id="2307b-203">Användardefinierad funktion i Hello.py-filen.</span><span class="sxs-lookup"><span data-stu-id="2307b-203">User-defined function in Hello.py file.</span></span>

<span data-ttu-id="2307b-204">Nu ska skapa vi en fil Hello.zip som innehåller Hello.py:</span><span class="sxs-lookup"><span data-stu-id="2307b-204">Next, we create a file Hello.zip that contains Hello.py:</span></span>

![image7](./media/machine-learning-execute-python-scripts/figure5.png)

<span data-ttu-id="2307b-206">Bild 5.</span><span class="sxs-lookup"><span data-stu-id="2307b-206">Figure 5.</span></span> <span data-ttu-id="2307b-207">ZIP-filen som innehåller användardefinierade Python-kod.</span><span class="sxs-lookup"><span data-stu-id="2307b-207">Zip file containing user-defined Python code.</span></span>

<span data-ttu-id="2307b-208">Ladda upp hello zip-filen som en datamängd i Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="2307b-208">Upload hello zip file as a dataset into Azure Machine Learning Studio.</span></span> <span data-ttu-id="2307b-209">Sedan skapar och kör ett experiment som använder hello Python-kod i hello Hello.zip-filen genom att koppla det toohello tredje indataport av hello **köra Python-skriptet** modulen som visas i bilden.</span><span class="sxs-lookup"><span data-stu-id="2307b-209">Then create and run an experiment that uses hello Python code in hello Hello.zip file by attaching it toohello third input port of hello **Execute Python Script** module, as shown in this figure.</span></span>

![image8](./media/machine-learning-execute-python-scripts/figure6a.png)

![image9](./media/machine-learning-execute-python-scripts/figure6b.png)

<span data-ttu-id="2307b-212">Bild 6.</span><span class="sxs-lookup"><span data-stu-id="2307b-212">Figure 6.</span></span> <span data-ttu-id="2307b-213">Exempelexperimentet med användardefinierade Python-kod överförs som en zip-fil.</span><span class="sxs-lookup"><span data-stu-id="2307b-213">Sample experiment with user-defined Python code uploaded as a zip file.</span></span>

<span data-ttu-id="2307b-214">hello modulen utdata visar att hello zip-filen har anspråksregellogik och hello funktionen `print_hello` har körts.</span><span class="sxs-lookup"><span data-stu-id="2307b-214">hello module output shows that hello zip file has been unpackaged and that hello function `print_hello` has been run.</span></span>
<span data-ttu-id="2307b-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span><span class="sxs-lookup"><span data-stu-id="2307b-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span></span>

<span data-ttu-id="2307b-216">Bild 7.</span><span class="sxs-lookup"><span data-stu-id="2307b-216">Figure 7.</span></span> <span data-ttu-id="2307b-217">Användardefinierad funktion används i hello [köra Python-skriptet] [ execute-python-script] modul.</span><span class="sxs-lookup"><span data-stu-id="2307b-217">User-defined function in use inside hello [Execute Python Script][execute-python-script] module.</span></span>


## <a name="working-with-visualizations"></a><span data-ttu-id="2307b-218">Arbeta med grafik</span><span class="sxs-lookup"><span data-stu-id="2307b-218">Working with visualizations</span></span>

<span data-ttu-id="2307b-219">Områden som skapats med hjälp av MatplotLib som kan vara visualiseras hello webbläsare kan returneras av hello [köra Python-skriptet][execute-python-script].</span><span class="sxs-lookup"><span data-stu-id="2307b-219">Plots created using MatplotLib that can be visualized on hello browser can be returned by hello [Execute Python Script][execute-python-script].</span></span> <span data-ttu-id="2307b-220">Men hello områden är inte automatiskt omdirigerade tooimages som de är när du använder R. Så hello användare måste uttryckligen spara alla områden tooPNG filer om de returnerade toobe tillbaka tooAzure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="2307b-220">But hello plots are not automatically redirected tooimages as they are when using R. So hello user must explicitly save any plots tooPNG files if they are toobe returned back tooAzure Machine Learning.</span></span> 

<span data-ttu-id="2307b-221">toogenerate bilder från MatplotLib, måste du utföra hello nedan:</span><span class="sxs-lookup"><span data-stu-id="2307b-221">toogenerate images from MatplotLib, you must complete hello following procedure:</span></span>

* <span data-ttu-id="2307b-222">Växla hello serverdelen för ”%{AGG/” från hello standard Qt-baserade renderare</span><span class="sxs-lookup"><span data-stu-id="2307b-222">switch hello backend too“AGG” from hello default Qt-based renderer</span></span> 
* <span data-ttu-id="2307b-223">Skapa ett nytt objekt i bild</span><span class="sxs-lookup"><span data-stu-id="2307b-223">create a new figure object</span></span> 
* <span data-ttu-id="2307b-224">Hämta hello axel och generera alla områden i det.</span><span class="sxs-lookup"><span data-stu-id="2307b-224">get hello axis and generate all plots into it</span></span> 
* <span data-ttu-id="2307b-225">Spara hello bild tooa PNG-fil</span><span class="sxs-lookup"><span data-stu-id="2307b-225">save hello figure tooa PNG file</span></span> 

<span data-ttu-id="2307b-226">Den här processen illustreras i följande figur 8 som skapar en punktdiagram ritytans matris med hello scatter_matrix funktionen i Pandas hello.</span><span class="sxs-lookup"><span data-stu-id="2307b-226">This process is illustrated in hello following Figure 8 that creates a scatter plot matrix using hello scatter_matrix function in Pandas.</span></span>

![image1v](./media/machine-learning-execute-python-scripts/figure-v1-8.png)

<span data-ttu-id="2307b-228">Figur 8.</span><span class="sxs-lookup"><span data-stu-id="2307b-228">Figure 8.</span></span> <span data-ttu-id="2307b-229">Felkod toosave MatplotLib förekommer tooimages.</span><span class="sxs-lookup"><span data-stu-id="2307b-229">Code toosave MatplotLib figures tooimages.</span></span>

<span data-ttu-id="2307b-230">Bild 9 illustrerar ett experiment som använder såg tidigare tooreturn ritas via hello andra utdataporten hello-skript.</span><span class="sxs-lookup"><span data-stu-id="2307b-230">Figure 9 shows an experiment that uses hello script shown previously tooreturn plots via hello second output port.</span></span>

![image2v](./media/machine-learning-execute-python-scripts/figure-v2-9a.png) 

![image2v](./media/machine-learning-execute-python-scripts/figure-v2-9b.png) 

<span data-ttu-id="2307b-233">Bild 9.</span><span class="sxs-lookup"><span data-stu-id="2307b-233">Figure 9.</span></span> <span data-ttu-id="2307b-234">Visualisera områden som genereras av Python-kod.</span><span class="sxs-lookup"><span data-stu-id="2307b-234">Visualizing plots generated from Python code.</span></span>

<span data-ttu-id="2307b-235">Det är möjligt tooreturn flera siffror genom att spara dem i olika bilder, hello Azure Machine Learning-körning tar upp alla bilder och sammanfogar dem för visualisering.</span><span class="sxs-lookup"><span data-stu-id="2307b-235">It is possible tooreturn multiple figures by saving them into different images, hello Azure Machine Learning runtime picks up all images and concatenates them for visualization.</span></span>


## <a name="advanced-examples"></a><span data-ttu-id="2307b-236">Avancerade exempel</span><span class="sxs-lookup"><span data-stu-id="2307b-236">Advanced examples</span></span>

<span data-ttu-id="2307b-237">Hej Anaconda environment har installerats i Azure Machine Learning innehåller vanliga paket som NumPy, SciPy och Läs Scikits.</span><span class="sxs-lookup"><span data-stu-id="2307b-237">hello Anaconda environment installed in Azure Machine Learning contains common packages such as NumPy, SciPy, and Scikits-Learn.</span></span> <span data-ttu-id="2307b-238">Dessa paket kan effektivt användas för olika aktiviteter för databehandling i machine learning-pipeline.</span><span class="sxs-lookup"><span data-stu-id="2307b-238">These packages can be effectively used for various data processing tasks in a machine learning pipeline.</span></span> <span data-ttu-id="2307b-239">Exempelvis hello följande experiment och skript visar hello användning av ensemble deltagarna i Scikits Läs toocompute funktionen vikten resultat för en dataset.</span><span class="sxs-lookup"><span data-stu-id="2307b-239">As an example, hello following experiment and script illustrate hello use of ensemble learners in Scikits-Learn toocompute feature importance scores for a dataset.</span></span> <span data-ttu-id="2307b-240">hello resultat kan vara används tooperform övervakad Funktionsurval innan som matas in en annan ML-modell.</span><span class="sxs-lookup"><span data-stu-id="2307b-240">hello scores can be used tooperform supervised feature selection before being fed into another ML model.</span></span>

<span data-ttu-id="2307b-241">Här är hello Python funktion som används för toocompute hello vikten resultat och ordning hello funktioner baserat på hello resultat:</span><span class="sxs-lookup"><span data-stu-id="2307b-241">Here is hello Python function used toocompute hello importance scores and order hello features based on hello scores:</span></span>

![image11](./media/machine-learning-execute-python-scripts/figure8.png)

<span data-ttu-id="2307b-243">Bild 10.</span><span class="sxs-lookup"><span data-stu-id="2307b-243">Figure 10.</span></span> <span data-ttu-id="2307b-244">Funktionen toorank funktioner av resultat.</span><span class="sxs-lookup"><span data-stu-id="2307b-244">Function toorank features by scores.</span></span>
<span data-ttu-id="2307b-245"> hello följande experiment sedan beräknar och returnerar hello vikten resultat av funktioner i hello ”Pima indiska Diabetes” dataset i Azure Machine Learning:</span><span class="sxs-lookup"><span data-stu-id="2307b-245">  hello following experiment then computes and returns hello importance scores of features in hello “Pima Indian Diabetes” dataset in Azure Machine Learning:</span></span>

<span data-ttu-id="2307b-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span><span class="sxs-lookup"><span data-stu-id="2307b-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span></span>    

<span data-ttu-id="2307b-247">Figur 11.</span><span class="sxs-lookup"><span data-stu-id="2307b-247">Figure 11.</span></span> <span data-ttu-id="2307b-248">Experiment toorank funktioner i hello Pima indiska Diabetes dataset.</span><span class="sxs-lookup"><span data-stu-id="2307b-248">Experiment toorank features in hello Pima Indian Diabetes dataset.</span></span>

## <a name="limitations"></a><span data-ttu-id="2307b-249">Begränsningar</span><span class="sxs-lookup"><span data-stu-id="2307b-249">Limitations</span></span>
<span data-ttu-id="2307b-250">Hej [köra Python-skriptet] [ execute-python-script] har för närvarande hello följande begränsningar:</span><span class="sxs-lookup"><span data-stu-id="2307b-250">hello [Execute Python Script][execute-python-script] currently has hello following limitations:</span></span>

1. <span data-ttu-id="2307b-251">*Begränsade körning.*</span><span class="sxs-lookup"><span data-stu-id="2307b-251">*Sandboxed execution.*</span></span> <span data-ttu-id="2307b-252">hello Python-körning är för närvarande i begränsat läge och därför tillåter inte åtkomst toohello nätverks- eller toohello lokala filsystemet på ett beständigt sätt.</span><span class="sxs-lookup"><span data-stu-id="2307b-252">hello Python runtime is currently sandboxed and, as a result, does not allow access toohello network or toohello local file system in a persistent manner.</span></span> <span data-ttu-id="2307b-253">Alla filer som sparats lokalt isolerats och tas bort när hello modulen har slutförts.</span><span class="sxs-lookup"><span data-stu-id="2307b-253">All files saved locally are isolated and deleted once hello module finishes.</span></span> <span data-ttu-id="2307b-254">hello Python-kod kan inte komma åt de flesta kataloger på hello datorn körs på, hello undantag som hello aktuell katalog och dess underkataloger.</span><span class="sxs-lookup"><span data-stu-id="2307b-254">hello Python code cannot access most directories on hello machine it runs on, hello exception being hello current directory and its subdirectories.</span></span>
2. <span data-ttu-id="2307b-255">*Ingen avancerade utveckling och felsökning support.*</span><span class="sxs-lookup"><span data-stu-id="2307b-255">*Lack of sophisticated development and debugging support.*</span></span> <span data-ttu-id="2307b-256">hello Python-modulen stöder för närvarande inte IDE-funktioner, till exempel intellisense och felsökning.</span><span class="sxs-lookup"><span data-stu-id="2307b-256">hello Python module currently does not support IDE features such as intellisense and debugging.</span></span> <span data-ttu-id="2307b-257">Om hello-modulen misslyckas vid körning, är hello fullständig Python stack-spårning också tillgänglig.</span><span class="sxs-lookup"><span data-stu-id="2307b-257">Also, if hello module fails at runtime, hello full Python stack trace is available.</span></span> <span data-ttu-id="2307b-258">Men den visas i loggen för hello utdata för hello-modulen.</span><span class="sxs-lookup"><span data-stu-id="2307b-258">But it must be viewed in hello output log for hello module.</span></span> <span data-ttu-id="2307b-259">Vi rekommenderar att utveckla och Felsök Python-skript i en miljö, till exempel IPython och sedan importera hello kod till hello-modulen för närvarande.</span><span class="sxs-lookup"><span data-stu-id="2307b-259">We currently recommend that you develop and debug Python scripts in an environment such as IPython and then import hello code into hello module.</span></span>
3. <span data-ttu-id="2307b-260">*Enskild ram utdata.*</span><span class="sxs-lookup"><span data-stu-id="2307b-260">*Single data frame output.*</span></span> <span data-ttu-id="2307b-261">hello Python startadressen är endast tillåtna tooreturn en enda data-ram som utdata.</span><span class="sxs-lookup"><span data-stu-id="2307b-261">hello Python entry point is only permitted tooreturn a single data frame as output.</span></span> <span data-ttu-id="2307b-262">Det är inte för närvarande kan tooreturn godtycklig Python objekt som tränade modeller direkt tillbaka toohello Azure Machine Learning runtime.</span><span class="sxs-lookup"><span data-stu-id="2307b-262">It is not currently possible tooreturn arbitrary Python objects such as trained models directly back toohello Azure Machine Learning runtime.</span></span> <span data-ttu-id="2307b-263">Som [köra R-skriptet][execute-r-script], som har hello samma begränsningar som det är möjligt i många fall toopickle objekt till en byte array och gå sedan tillbaka som inuti en data-ram.</span><span class="sxs-lookup"><span data-stu-id="2307b-263">Like [Execute R Script][execute-r-script], which has hello same limitation, it is possible in many cases toopickle objects into a byte array and then return that inside of a data frame.</span></span>
4. <span data-ttu-id="2307b-264">*När det gäller toocustomize Python installation*.</span><span class="sxs-lookup"><span data-stu-id="2307b-264">*Inability toocustomize Python installation*.</span></span> <span data-ttu-id="2307b-265">Är för närvarande hello endast sätt tooadd anpassad Python-moduler via hello zip-filen mekanism som beskrivs ovan.</span><span class="sxs-lookup"><span data-stu-id="2307b-265">Currently, hello only way tooadd custom Python modules is via hello zip file mechanism described earlier.</span></span> <span data-ttu-id="2307b-266">Detta är möjligt för små moduler, är det besvärlig för stora moduler (särskilt de med inbyggda DLL-filer) eller ett stort antal moduler.</span><span class="sxs-lookup"><span data-stu-id="2307b-266">While this is feasible for small modules, it is cumbersome for large modules (especially those with native DLLs) or a large number of modules.</span></span> 

## <a name="conclusions"></a><span data-ttu-id="2307b-267">Slutsatser</span><span class="sxs-lookup"><span data-stu-id="2307b-267">Conclusions</span></span>
<span data-ttu-id="2307b-268">Hej [köra Python-skriptet] [ execute-python-script] modulen gör en data-forskare tooincorporate befintlig Python-kod till molnbaserade machine learning arbetsflöden i Azure Machine Learning och tooseamlessly operationalisera dem som en del av en webbtjänst.</span><span class="sxs-lookup"><span data-stu-id="2307b-268">hello [Execute Python Script][execute-python-script] module allows a data scientist tooincorporate existing Python code into cloud-hosted machine learning workflows in Azure Machine Learning and tooseamlessly operationalize them as part of a web service.</span></span> <span data-ttu-id="2307b-269">hello Python skriptmodul samverkar naturligt med andra moduler i Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="2307b-269">hello Python script module interoperates naturally with other modules in Azure Machine Learning.</span></span> <span data-ttu-id="2307b-270">hello modul kan användas för ett antal uppgifter från utforskning toopre databehandling och extrahering av funktionen, och sedan tooevaluation och efter bearbetningen av hello resultat.</span><span class="sxs-lookup"><span data-stu-id="2307b-270">hello module can be used for a range of tasks from data exploration toopre-processing and feature extraction, and then tooevaluation and post-processing of hello results.</span></span> <span data-ttu-id="2307b-271">hello backend-körningsmiljön som används för körning av baseras på Anaconda, en väl testade och vanliga Python-distribution.</span><span class="sxs-lookup"><span data-stu-id="2307b-271">hello backend runtime used for execution is based on Anaconda, a well-tested and widely used Python distribution.</span></span> <span data-ttu-id="2307b-272">Den här backend gör det enkelt tooon board befintlig kod tillgångar i hello moln.</span><span class="sxs-lookup"><span data-stu-id="2307b-272">This backend makes it simple for you tooon-board existing code assets into hello cloud.</span></span>

<span data-ttu-id="2307b-273">Vi räknar tooprovide ytterligare funktioner toohello [köra Python-skriptet] [ execute-python-script] modul som hello möjlighet tootrain och operationalisera modeller i Python och tooadd bättre stöd för hello utveckling och felsöka kod i Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="2307b-273">We expect tooprovide additional functionality toohello [Execute Python Script][execute-python-script] module such as hello ability tootrain and operationalize models in Python and tooadd better support for hello development and debugging code in Azure Machine Learning Studio.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2307b-274">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="2307b-274">Next steps</span></span>
<span data-ttu-id="2307b-275">Mer information finns i hello [Python Developer Center](https://azure.microsoft.com/develop/python/).</span><span class="sxs-lookup"><span data-stu-id="2307b-275">For more information, see hello [Python Developer Center](https://azure.microsoft.com/develop/python/).</span></span>

<!-- Module References -->
[execute-python-script]: https://msdn.microsoft.com/library/azure/cdb56f95-7f4c-404d-bde7-5bb972e6f232/
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
