---
title: Funktionen tekniker och markering i Azure Machine Learning | Microsoft Docs
description: "Beskriver för val av funktioner och tekniker för funktionen och ger exempel på deras roll i data förbättrad process för maskininlärning."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 9ceb524d-842e-4f77-9eae-a18e599442d6
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/18/2017
ms.author: zhangya;bradsev
ROBOTS: NOINDEX
redirect_url: machine-learning-data-science-create-features
redirect_document_id: TRUE
ms.openlocfilehash: 51a5d8fed492cb9301e048c2b6a721e4573a47d9
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="feature-engineering-and-selection-in-azure-machine-learning"></a><span data-ttu-id="c1679-103">Funktioner och egenskapsval i Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="c1679-103">Feature engineering and selection in Azure Machine Learning</span></span>
<span data-ttu-id="c1679-104">Det här avsnittet beskriver funktionen tekniker och val av funktioner i data förbättrad process för maskininlärning.</span><span class="sxs-lookup"><span data-stu-id="c1679-104">This topic explains the purposes of feature engineering and feature selection in the data-enhancement process of machine learning.</span></span> <span data-ttu-id="c1679-105">Det visar de här processerna omfattar med exempel som tillhandahålls av Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="c1679-105">It illustrates what these processes involve by using examples provided by Azure Machine Learning Studio.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="c1679-106">Utbildning data som används i machine learning kan ofta förbättras genom markering eller extrahering av funktioner från rådata som samlas in.</span><span class="sxs-lookup"><span data-stu-id="c1679-106">The training data used in machine learning can often be enhanced by the selection or extraction of features from the raw data collected.</span></span> <span data-ttu-id="c1679-107">Ett exempel på en bakåtkompilerade funktion i samband med att lära dig hur du klassificerar avbildningar av handskriven tecken är en bit densitet karta konstrueras från rådata bitars distribution data.</span><span class="sxs-lookup"><span data-stu-id="c1679-107">An example of an engineered feature in the context of learning how to classify the images of handwritten characters is a bit-density map constructed from the raw bit distribution data.</span></span> <span data-ttu-id="c1679-108">Den här kartan kan lättare att hitta kanterna på tecknen effektivare än raw distribution.</span><span class="sxs-lookup"><span data-stu-id="c1679-108">This map can help locate the edges of the characters more efficiently than the raw distribution.</span></span>

<span data-ttu-id="c1679-109">Bakåtkompilerade och valda funktioner ökar effektiviteten för utbildning-processen, vilket görs ett försök att extrahera den viktiga informationen i data.</span><span class="sxs-lookup"><span data-stu-id="c1679-109">Engineered and selected features increase the efficiency of the training process, which attempts to extract the key information contained in the data.</span></span> <span data-ttu-id="c1679-110">De kan också förbättra kraften hos dessa modeller att klassificera indata korrekt och att förutsäga mer robustly resultat av intresse.</span><span class="sxs-lookup"><span data-stu-id="c1679-110">They also improve the power of these models to classify the input data accurately and to predict outcomes of interest more robustly.</span></span> <span data-ttu-id="c1679-111">Funktionen tekniker och val kan också kombinera om du vill göra learning mer beräkningsmässigt tractable.</span><span class="sxs-lookup"><span data-stu-id="c1679-111">Feature engineering and selection can also combine to make the learning more computationally tractable.</span></span> <span data-ttu-id="c1679-112">Den gör detta genom att öka och minska antalet funktioner som behövs för att kalibrera eller tränar en modell.</span><span class="sxs-lookup"><span data-stu-id="c1679-112">It does so by enhancing and then reducing the number of features needed to calibrate or train a model.</span></span> <span data-ttu-id="c1679-113">Funktioner som markerats för att träna modellen är matematiskt sett en minimal uppsättning oberoende variabler som beskriver mönster i data och förutsäga resultat har.</span><span class="sxs-lookup"><span data-stu-id="c1679-113">Mathematically speaking, the features selected to train the model are a minimal set of independent variables that explain the patterns in the data and then predict outcomes successfully.</span></span>

<span data-ttu-id="c1679-114">Tekniker och funktioner är en del av en större process som vanligtvis består av fyra steg:</span><span class="sxs-lookup"><span data-stu-id="c1679-114">The engineering and selection of features is one part of a larger process, which typically consists of four steps:</span></span>

* <span data-ttu-id="c1679-115">Datainsamling</span><span class="sxs-lookup"><span data-stu-id="c1679-115">Data collection</span></span>
* <span data-ttu-id="c1679-116">Förbättring av data</span><span class="sxs-lookup"><span data-stu-id="c1679-116">Data enhancement</span></span>
* <span data-ttu-id="c1679-117">Modellen konstruktion</span><span class="sxs-lookup"><span data-stu-id="c1679-117">Model construction</span></span>
* <span data-ttu-id="c1679-118">Efterbearbetning</span><span class="sxs-lookup"><span data-stu-id="c1679-118">Post-processing</span></span>

<span data-ttu-id="c1679-119">Teknik- och utgör steget data förbättring av maskininlärning.</span><span class="sxs-lookup"><span data-stu-id="c1679-119">Engineering and selection make up the data enhancement step of machine learning.</span></span> <span data-ttu-id="c1679-120">Tre aspekter av den här processen kan särskiljas för våra ändamål:</span><span class="sxs-lookup"><span data-stu-id="c1679-120">Three aspects of this process may be distinguished for our purposes:</span></span>

* <span data-ttu-id="c1679-121">**Före databearbetning**: den här processen försöker att säkerställa att insamlade data är ren och konsekvent.</span><span class="sxs-lookup"><span data-stu-id="c1679-121">**Data pre-processing**: This process tries to ensure that the collected data is clean and consistent.</span></span> <span data-ttu-id="c1679-122">Den innehåller uppgifter som att integrera flera datauppsättningar, hantering av data som saknas, hantering inkonsekventa data och konvertering av datatyper.</span><span class="sxs-lookup"><span data-stu-id="c1679-122">It includes tasks such as integrating multiple data sets, handling missing data, handling inconsistent data, and converting data types.</span></span>
* <span data-ttu-id="c1679-123">**Egenskapsval**: den här processen försöker att skapa ytterligare relevanta funktioner från befintliga raw-funktioner i data och för att öka förutsägande strömmen till Inlärningsalgoritmen.</span><span class="sxs-lookup"><span data-stu-id="c1679-123">**Feature engineering**: This process attempts to create additional relevant features from the existing raw features in the data and to increase predictive power to the learning algorithm.</span></span>
* <span data-ttu-id="c1679-124">**Funktionen val**: den här processen väljer viktiga delmängden av ursprungliga datafunktioner att minska dimensionaliteten för utbildning-problem.</span><span class="sxs-lookup"><span data-stu-id="c1679-124">**Feature selection**: This process selects the key subset of original data features to reduce the dimensionality of the training problem.</span></span>

<span data-ttu-id="c1679-125">Det här avsnittet beskrivs endast funktionen tekniker och funktionen markeringen aspekter av förbättring av data.</span><span class="sxs-lookup"><span data-stu-id="c1679-125">This topic only covers the feature engineering and feature selection aspects of the data enhancement process.</span></span> <span data-ttu-id="c1679-126">Läs mer i steget data före bearbetning [förbearbetning av data i Azure Machine Learning Studio](https://azure.microsoft.com/documentation/videos/preprocessing-data-in-azure-ml-studio/).</span><span class="sxs-lookup"><span data-stu-id="c1679-126">For more information on the data pre-processing step, see [Pre-processing data in Azure Machine Learning Studio](https://azure.microsoft.com/documentation/videos/preprocessing-data-in-azure-ml-studio/).</span></span>

## <a name="creating-features-from-your-data--feature-engineering"></a><span data-ttu-id="c1679-127">Skapa funktioner från dina data--egenskapsval</span><span class="sxs-lookup"><span data-stu-id="c1679-127">Creating features from your data--feature engineering</span></span>
<span data-ttu-id="c1679-128">Utbildning data består av en matris som består av exempel (poster eller observationer som lagras i rader) som har en uppsättning funktioner (variabler eller fält som lagras i kolumner).</span><span class="sxs-lookup"><span data-stu-id="c1679-128">The training data consists of a matrix composed of examples (records or observations stored in rows), each of which has a set of features (variables or fields stored in columns).</span></span> <span data-ttu-id="c1679-129">Funktioner som anges i experimentets utformning förväntas karaktäriserar mönster i data.</span><span class="sxs-lookup"><span data-stu-id="c1679-129">The features specified in the experimental design are expected to characterize the patterns in the data.</span></span> <span data-ttu-id="c1679-130">Även om många av rådata fälten kan inkluderas direkt i den valda funktionen som angivits för tränar en modell, behöver bakåtkompilerade tilläggsfunktioner ofta konstrueras från funktionerna i rådata för att generera en förbättrad utbildning datamängd.</span><span class="sxs-lookup"><span data-stu-id="c1679-130">Although many of the raw data fields can be directly included in the selected feature set used to train a model, additional engineered features often need to be constructed from the features in the raw data to generate an enhanced training data set.</span></span>

<span data-ttu-id="c1679-131">Vilken typ av funktioner som ska skapas för att förbättra datauppsättningen när en modell?</span><span class="sxs-lookup"><span data-stu-id="c1679-131">What kind of features should be created to enhance the data set when training a model?</span></span> <span data-ttu-id="c1679-132">Bakåtkompilerade funktioner som förbättrar utbildning ger information som särskiljer bättre mönster i data.</span><span class="sxs-lookup"><span data-stu-id="c1679-132">Engineered features that enhance the training provide information that better differentiates the patterns in the data.</span></span> <span data-ttu-id="c1679-133">Du förväntar dig att de nya funktionerna som innehåller ytterligare information som inte samlas in tydligt eller enkelt tydligt i funktionsuppsättningen ursprungliga eller en befintlig, men den här processen är något som en bild.</span><span class="sxs-lookup"><span data-stu-id="c1679-133">You expect the new features to provide additional information that is not clearly captured or easily apparent in the original or existing feature set, but this process is something of an art.</span></span> <span data-ttu-id="c1679-134">Ljud-och produktiva kräver ofta vissa expertis.</span><span class="sxs-lookup"><span data-stu-id="c1679-134">Sound and productive decisions often require some domain expertise.</span></span>

<span data-ttu-id="c1679-135">När du startar med Azure Machine Learning är det enklast att förstå själva processen concretely med hjälp av exemplen i Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="c1679-135">When starting with Azure Machine Learning, it is easiest to grasp this process concretely by using samples provided in Machine Learning Studio.</span></span> <span data-ttu-id="c1679-136">Här visas två exempel:</span><span class="sxs-lookup"><span data-stu-id="c1679-136">Two examples are presented here:</span></span>

* <span data-ttu-id="c1679-137">Ett exempel på regression ([förutsägelse av antalet cykel hyra](http://gallery.cortanaintelligence.com/Experiment/Regression-Demand-estimation-4)) i ett övervakat experiment där målvärden känt</span><span class="sxs-lookup"><span data-stu-id="c1679-137">A regression example ([Prediction of the number of bike rentals](http://gallery.cortanaintelligence.com/Experiment/Regression-Demand-estimation-4)) in a supervised experiment where the target values are known</span></span>
* <span data-ttu-id="c1679-138">Ett text-utvinningsmodellen klassificering exempel använder [hash-funktionen][feature-hashing]</span><span class="sxs-lookup"><span data-stu-id="c1679-138">A text-mining classification example using [Feature Hashing][feature-hashing]</span></span>

### <a name="example-1-adding-temporal-features-for-a-regression-model"></a><span data-ttu-id="c1679-139">Exempel 1: Lägga till temporala funktioner för en regressionsmodell</span><span class="sxs-lookup"><span data-stu-id="c1679-139">Example 1: Adding temporal features for a regression model</span></span>
<span data-ttu-id="c1679-140">För att demonstrera hur du utveckla funktioner för en regression aktivitet, skriver du den experiment ”begäran Skapa prognoser för cyklar” i Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="c1679-140">To demonstrate how to engineer features for a regression task, let's use the experiment "Demand forecasting of bikes" in Azure Machine Learning Studio.</span></span> <span data-ttu-id="c1679-141">Syftet med experimentet är att förutsäga behovet av cyklar, det vill säga antalet cykel hyra inom en viss månad, dag eller timme.</span><span class="sxs-lookup"><span data-stu-id="c1679-141">The objective of this experiment is to predict the demand for the bikes, that is, the number of bike rentals within a specific month, day, or hour.</span></span> <span data-ttu-id="c1679-142">Datauppsättningen **cykel uthyrning UCI datauppsättning** används som indata rådata.</span><span class="sxs-lookup"><span data-stu-id="c1679-142">The data set **Bike Rental UCI data set** is used as the raw input data.</span></span>

<span data-ttu-id="c1679-143">Den här datauppsättningen baseras på verkliga data från det kapital Bikeshare företag som upprätthåller en cykel uthyrning nätverk i Washington i USA DC.</span><span class="sxs-lookup"><span data-stu-id="c1679-143">This data set is based on real data from the Capital Bikeshare company that maintains a bike rental network in Washington DC in the United States.</span></span> <span data-ttu-id="c1679-144">Datamängden som representerar antalet cykel hyra inom en viss timme på dagen, från 2011 till 2012 och innehåller 17379 rader och kolumner som 17.</span><span class="sxs-lookup"><span data-stu-id="c1679-144">The data set represents the number of bike rentals within a specific hour of a day, from 2011 to 2012, and it contains 17379 rows and 17 columns.</span></span> <span data-ttu-id="c1679-145">Funktionsuppsättningen rådata innehåller väder (temperatur, fuktighet, vindhastighet) och vilken typ av dagen (helgdag eller veckodag).</span><span class="sxs-lookup"><span data-stu-id="c1679-145">The raw feature set contains weather conditions (temperature, humidity, wind speed) and the type of the day (holiday or weekday).</span></span> <span data-ttu-id="c1679-146">Fältet för att förutsäga är **cnt**, en uppräkning som representerar cykel hyra inom en viss timme och som sträcker sig från 1 till 977.</span><span class="sxs-lookup"><span data-stu-id="c1679-146">The field to predict is **cnt**, a count that represents the bike rentals within a specific hour and that ranges from 1 to 977.</span></span>

<span data-ttu-id="c1679-147">För att skapa effektiva funktioner i utbildning data skapas fyra regression modeller med hjälp av samma algoritm, men med fyra olika utbildning datauppsättningar.</span><span class="sxs-lookup"><span data-stu-id="c1679-147">To construct effective features in the training data, four regression models are built by using the same algorithm, but with four different training data sets.</span></span> <span data-ttu-id="c1679-148">De fyra datauppsättningarna representerar samma inkommande rådata, men med ett ökande antal funktioner.</span><span class="sxs-lookup"><span data-stu-id="c1679-148">The four data sets represent the same raw input data, but with an increasing number of features set.</span></span> <span data-ttu-id="c1679-149">Dessa funktioner grupperas i fyra kategorier:</span><span class="sxs-lookup"><span data-stu-id="c1679-149">These features are grouped into four categories:</span></span>

1. <span data-ttu-id="c1679-150">A = väder helgdag + veckodag + helgens funktioner för förväntade dagen</span><span class="sxs-lookup"><span data-stu-id="c1679-150">A = weather + holiday + weekday + weekend features for the predicted day</span></span>
2. <span data-ttu-id="c1679-151">B = antalet cyklar har hyrs i var och en av de föregående 12 timmarna</span><span class="sxs-lookup"><span data-stu-id="c1679-151">B = number of bikes that were rented in each of the previous 12 hours</span></span>
3. <span data-ttu-id="c1679-152">C = antalet cyklar har hyrs i var och en av de senaste 12 dagarna på samma timme</span><span class="sxs-lookup"><span data-stu-id="c1679-152">C = number of bikes that were rented in each of the previous 12 days at the same hour</span></span>
4. <span data-ttu-id="c1679-153">D = antal cyklar har hyrs i varje föregående 12 veckor på samma timme och samma dag</span><span class="sxs-lookup"><span data-stu-id="c1679-153">D = number of bikes that were rented in each of the previous 12 weeks at the same hour and the same day</span></span>

<span data-ttu-id="c1679-154">Förutom funktionen uppsättning A som redan finns i den ursprungliga rådata, skapas de andra tre olika funktioner via funktionen teknisk process.</span><span class="sxs-lookup"><span data-stu-id="c1679-154">Besides feature set A, which already exists in the original raw data, the other three sets of features are created through the feature engineering process.</span></span> <span data-ttu-id="c1679-155">Funktionsuppsättning B registrerar den senaste begäran för cyklarna.</span><span class="sxs-lookup"><span data-stu-id="c1679-155">Feature set B captures the recent demand for the bikes.</span></span> <span data-ttu-id="c1679-156">Funktionen Ange C insamlingar behovet av cyklar i en viss timme.</span><span class="sxs-lookup"><span data-stu-id="c1679-156">Feature set C captures the demand for bikes at a particular hour.</span></span> <span data-ttu-id="c1679-157">D insamlingar begäran för cyklar funktionsuppsättning på särskilda timme och viss dag i veckan.</span><span class="sxs-lookup"><span data-stu-id="c1679-157">Feature set D captures demand for bikes at particular hour and particular day of the week.</span></span> <span data-ttu-id="c1679-158">Var och en av de fyra utbildning datauppsättningarna innehåller funktionsuppsättningar A, A + B, A + B + C och A + B + C + D respektive.</span><span class="sxs-lookup"><span data-stu-id="c1679-158">Each of the four training data sets includes feature sets A, A+B, A+B+C, and A+B+C+D, respectively.</span></span>

<span data-ttu-id="c1679-159">Dessa fyra utbildning datauppsättningar bildas i Azure Machine Learning-experiment via fyra grenar från förbearbetade inkommande datauppsättningen.</span><span class="sxs-lookup"><span data-stu-id="c1679-159">In the Azure Machine Learning experiment, these four training data sets are formed via four branches from the pre-processed input data set.</span></span> <span data-ttu-id="c1679-160">Förutom grenen längst till vänster, var och en av dessa filialer innehåller en [köra R-skriptet] [ execute-r-script] modulen där en uppsättning härledda funktioner (funktion anger B och C D) respektive skapas och läggs till i importerade datauppsättning.</span><span class="sxs-lookup"><span data-stu-id="c1679-160">Except for the leftmost branch, each of these branches contains an [Execute R Script][execute-r-script] module in which a set of derived features (feature sets B, C, and D) is respectively constructed and appended to the imported data set.</span></span> <span data-ttu-id="c1679-161">Följande bild visar R-skriptet som används för att skapa funktionsuppsättningen B i andra vänstra grenen.</span><span class="sxs-lookup"><span data-stu-id="c1679-161">The following figure demonstrates the R script used to create feature set B in the second left branch.</span></span>

![Skapa en funktionsuppsättning](./media/machine-learning-feature-selection-and-engineering/addFeature-Rscripts.png)

<span data-ttu-id="c1679-163">I följande tabell sammanfattas jämförelse av de fyra modellerna prestandaresultat.</span><span class="sxs-lookup"><span data-stu-id="c1679-163">The following table summarizes the comparison of the performance results of the four models.</span></span> <span data-ttu-id="c1679-164">Bästa resultat visas funktionerna A + B + C.</span><span class="sxs-lookup"><span data-stu-id="c1679-164">The best results are shown by features A+B+C.</span></span> <span data-ttu-id="c1679-165">Observera att Felfrekvensen minskar när ytterligare funktioner ingår i utbildning-data.</span><span class="sxs-lookup"><span data-stu-id="c1679-165">Note that the error rate decreases when additional feature sets are included in the training data.</span></span> <span data-ttu-id="c1679-166">Detta verifierar våra antagandet att funktionsuppsättningar B och C ger ytterligare relevant information för aktiviteten regression.</span><span class="sxs-lookup"><span data-stu-id="c1679-166">This verifies our presumption that the feature sets B and C provide additional relevant information for the regression task.</span></span> <span data-ttu-id="c1679-167">Lägga till funktionsuppsättningen D verkar inte ange några ytterligare minskning i frekvens för fel.</span><span class="sxs-lookup"><span data-stu-id="c1679-167">Adding the D feature set does not seem to provide any additional reduction in the error rate.</span></span>

![Jämför prestandaresultat](./media/machine-learning-feature-selection-and-engineering/result1.png)

### <span data-ttu-id="c1679-169"><a name="example2"></a>Exempel 2: Skapa funktioner i texten datautvinning</span><span class="sxs-lookup"><span data-stu-id="c1679-169"><a name="example2"></a> Example 2: Creating features in text mining</span></span>
<span data-ttu-id="c1679-170">Funktionen tekniker används ofta i uppgifter som rör text utvinningsmodellen, till exempel dokumentet klassificering och sentiment analys.</span><span class="sxs-lookup"><span data-stu-id="c1679-170">Feature engineering is widely applied in tasks related to text mining, such as document classification and sentiment analysis.</span></span> <span data-ttu-id="c1679-171">Till exempel när du vill klassificera dokument i flera kategorier är vanliga antaganden att ord eller fraser som ingår i en dokumentkategori mindre troligt att ske i en annan dokumenttyp.</span><span class="sxs-lookup"><span data-stu-id="c1679-171">For example, when you want to classify documents into several categories, a typical assumption is that the words or phrases included in one document category are less likely to occur in another document category.</span></span> <span data-ttu-id="c1679-172">Frekvensen för distribution word eller en fras kan med andra ord att beskriva olika kategorierna.</span><span class="sxs-lookup"><span data-stu-id="c1679-172">In other words, the frequency of the word or phrase distribution is able to characterize different document categories.</span></span> <span data-ttu-id="c1679-173">I texten utvinningsmodellen program behövs funktionen tekniska processen för att skapa funktioner som rör ord eller en fras frekvenser eftersom enskilda delar av texten innehållet fungerar normalt som indata.</span><span class="sxs-lookup"><span data-stu-id="c1679-173">In text mining applications, the feature engineering process is needed to create the features involving word or phrase frequencies because individual pieces of text-contents usually serve as the input data.</span></span>

<span data-ttu-id="c1679-174">För att uppnå den här uppgiften, en teknik som kallas *hash-funktionen* används för att aktivera effektivt godtycklig textfunktioner i index.</span><span class="sxs-lookup"><span data-stu-id="c1679-174">To achieve this task, a technique called *feature hashing* is applied to efficiently turn arbitrary text features into indices.</span></span> <span data-ttu-id="c1679-175">I stället för att associera varje text-funktion (ord eller fraser) till ett visst index, den här metoden fungerar genom att använda funktionerna för hash-funktion och genom att använda sina hash-värden som index direkt.</span><span class="sxs-lookup"><span data-stu-id="c1679-175">Instead of associating each text feature (words or phrases) to a particular index, this method functions by applying a hash function to the features and by using their hash values as indices directly.</span></span>

<span data-ttu-id="c1679-176">I Azure Machine Learning finns en [funktions-hashning] [ feature-hashing] modul som skapar funktionerna ord eller en fras.</span><span class="sxs-lookup"><span data-stu-id="c1679-176">In Azure Machine Learning, there is a [Feature Hashing][feature-hashing] module that creates these word or phrase features.</span></span> <span data-ttu-id="c1679-177">Följande bild visar ett exempel på hur du använder den här modulen.</span><span class="sxs-lookup"><span data-stu-id="c1679-177">The following figure shows an example of using this module.</span></span> <span data-ttu-id="c1679-178">Uppsättningen inkommande data innehåller två kolumner: book klassificeringen i intervallet 1 till 5 och den faktiska granska innehållet.</span><span class="sxs-lookup"><span data-stu-id="c1679-178">The input data set contains two columns: the book rating ranging from 1 to 5 and the actual review content.</span></span> <span data-ttu-id="c1679-179">Syftet med detta [funktions-hashning] [ feature-hashing] modulen är att hämta nya funktioner som visar frekvensen förekomsten av motsvarande ord eller fraser inom särskild granskning.</span><span class="sxs-lookup"><span data-stu-id="c1679-179">The goal of this [Feature Hashing][feature-hashing] module is to retrieve new features that show the occurrence frequency of the corresponding words or phrases within the particular book review.</span></span> <span data-ttu-id="c1679-180">Om du vill använda den här modulen måste du utföra följande steg:</span><span class="sxs-lookup"><span data-stu-id="c1679-180">To use this module, you need to complete the following steps:</span></span>

1. <span data-ttu-id="c1679-181">Markera den kolumn som innehåller indatatexten (**Col2** i det här exemplet).</span><span class="sxs-lookup"><span data-stu-id="c1679-181">Select the column that contains the input text (**Col2** in this example).</span></span>
2. <span data-ttu-id="c1679-182">Ange *Hashing bitsize* -8, vilket innebär att 2 ^ 8 = 256 funktioner har skapats.</span><span class="sxs-lookup"><span data-stu-id="c1679-182">Set *Hashing bitsize* to 8, which means 2^8=256 features are created.</span></span> <span data-ttu-id="c1679-183">Ett ord eller en fras i texten sedan hash-kodas till 256 index.</span><span class="sxs-lookup"><span data-stu-id="c1679-183">The word or phrase in the text is then hashed to 256 indices.</span></span> <span data-ttu-id="c1679-184">Parametern *Hashing bitsize* sträcker sig från 1 till 31.</span><span class="sxs-lookup"><span data-stu-id="c1679-184">The parameter *Hashing bitsize* ranges from 1 to 31.</span></span> <span data-ttu-id="c1679-185">Om parametern har angetts till ett större antal är ord eller fraser mindre troligt att kodas till samma index.</span><span class="sxs-lookup"><span data-stu-id="c1679-185">If the parameter is set to a larger number, the words or phrases are less likely to be hashed into the same index.</span></span>
3. <span data-ttu-id="c1679-186">Ange parametern *N gram* till 2.</span><span class="sxs-lookup"><span data-stu-id="c1679-186">Set the parameter *N-grams* to 2.</span></span> <span data-ttu-id="c1679-187">Detta hämtar frekvensen förekomsten av unigrams (en funktion för varje ord) och bigrams (en funktion för varje par av intilliggande ord) från indatatexten.</span><span class="sxs-lookup"><span data-stu-id="c1679-187">This retrieves the occurrence frequency of unigrams (a feature for every single word) and bigrams (a feature for every pair of adjacent words) from the input text.</span></span> <span data-ttu-id="c1679-188">Parametern *N gram* ligga mellan 0 och 10, som anger det maximala antalet sekventiella ord som ska ingå i en funktion.</span><span class="sxs-lookup"><span data-stu-id="c1679-188">The parameter *N-grams* ranges from 0 to 10, which indicates the maximum number of sequential words to be included in a feature.</span></span>  

![Funktionen hash-modul](./media/machine-learning-feature-selection-and-engineering/feature-Hashing1.png)

<span data-ttu-id="c1679-190">Följande bild visar hur dessa nya funktioner som ser ut.</span><span class="sxs-lookup"><span data-stu-id="c1679-190">The following figure shows what these new features look like.</span></span>

![Funktionen hash-exempel](./media/machine-learning-feature-selection-and-engineering/feature-Hashing2.png)

## <a name="filtering-features-from-your-data--feature-selection"></a><span data-ttu-id="c1679-192">Filtrering funktioner från dina data--val av funktioner</span><span class="sxs-lookup"><span data-stu-id="c1679-192">Filtering features from your data--feature selection</span></span>
<span data-ttu-id="c1679-193">*Funktionen val* är en process som används ofta för konstruktion av utbildning datauppsättningar för förutsägelsemodellering åtgärder som klassificerings- eller regressionsmodell uppgifter.</span><span class="sxs-lookup"><span data-stu-id="c1679-193">*Feature selection* is a process that is commonly applied to the construction of training data sets for predictive modeling tasks such as classification or regression tasks.</span></span> <span data-ttu-id="c1679-194">Målet är att välja en delmängd av funktionerna i den ursprungliga datauppsättningen som minskar dess storlek genom att använda en minimal uppsättning funktioner som representerar längsta variationen i data.</span><span class="sxs-lookup"><span data-stu-id="c1679-194">The goal is to select a subset of the features from the original data set that reduces its dimensions by using a minimal set of features to represent the maximum amount of variance in the data.</span></span> <span data-ttu-id="c1679-195">Den här del funktioner i innehåller bara funktionerna ska tas med för att träna modellen.</span><span class="sxs-lookup"><span data-stu-id="c1679-195">This subset of features contains the only features to be included to train the model.</span></span> <span data-ttu-id="c1679-196">Val av funktioner har två huvudsakliga syften:</span><span class="sxs-lookup"><span data-stu-id="c1679-196">Feature selection serves two main purposes:</span></span>

* <span data-ttu-id="c1679-197">Val av funktioner ökar ofta klassificering noggrannhet genom att ta bort irrelevanta, redundanta eller hög korrelerade funktioner.</span><span class="sxs-lookup"><span data-stu-id="c1679-197">Feature selection often increases classification accuracy by eliminating irrelevant, redundant, or highly correlated features.</span></span>
* <span data-ttu-id="c1679-198">Val av funktioner minskar antalet funktioner, vilket gör att modellen utbildning blir mer effektivt.</span><span class="sxs-lookup"><span data-stu-id="c1679-198">Feature selection decreases the number of features, which makes the model training process more efficient.</span></span> <span data-ttu-id="c1679-199">Detta är särskilt viktigt för inlärning är billigare att träna som support vector datorer.</span><span class="sxs-lookup"><span data-stu-id="c1679-199">This is particularly important for learners that are expensive to train such as support vector machines.</span></span>

<span data-ttu-id="c1679-200">Även om Funktionsurval syftar till att minska antalet funktioner i den datamängd som används för att träna modellen, det är vanligtvis hänvisar inte till termen *dimensionalitet minskning.*</span><span class="sxs-lookup"><span data-stu-id="c1679-200">Although feature selection seeks to reduce the number of features in the data set used to train the model, it is not usually referred to by the term *dimensionality reduction.*</span></span> <span data-ttu-id="c1679-201">Funktionen val metoder extrahera en delmängd av ursprungliga funktioner i data utan att ändra dem.</span><span class="sxs-lookup"><span data-stu-id="c1679-201">Feature selection methods extract a subset of original features in the data without changing them.</span></span>  <span data-ttu-id="c1679-202">Metoder för dimensionalitet minskning av bakåtkompilerade funktioner som kan omvandla de ursprungliga funktionerna och därmed ändra dem.</span><span class="sxs-lookup"><span data-stu-id="c1679-202">Dimensionality reduction methods employ engineered features that can transform the original features and thus modify them.</span></span> <span data-ttu-id="c1679-203">Exempel på dimensionalitet minskning metoder är huvudnamn komponenten analys, kanoniska korrelation analys och enkel värdet uppdelning.</span><span class="sxs-lookup"><span data-stu-id="c1679-203">Examples of dimensionality reduction methods include principal component analysis, canonical correlation analysis, and singular value decomposition.</span></span>

<span data-ttu-id="c1679-204">En allmänt tillämpade kategori av funktionen markeringsmetoder i en övervakad kontext är val av filter-baserad funktion.</span><span class="sxs-lookup"><span data-stu-id="c1679-204">One widely applied category of feature selection methods in a supervised context is filter-based feature selection.</span></span> <span data-ttu-id="c1679-205">Metoderna gäller ett statistiskt mått om du vill tilldela en poäng varje funktion som utvärderar sambandet mellan varje funktion och Målattributet.</span><span class="sxs-lookup"><span data-stu-id="c1679-205">By evaluating the correlation between each feature and the target attribute, these methods apply a statistical measure to assign a score to each feature.</span></span> <span data-ttu-id="c1679-206">Funktionerna för rangordnas sedan poäng, där du kan ange ett tröskelvärde för att hålla eller ta bort en specifik funktion.</span><span class="sxs-lookup"><span data-stu-id="c1679-206">The features are then ranked by the score, which you can use to set the threshold for keeping or eliminating a specific feature.</span></span> <span data-ttu-id="c1679-207">Exempel på statistiska måtten används i dessa metoder är kvadratvärdet korrelation, ömsesidig information och chi2-testet.</span><span class="sxs-lookup"><span data-stu-id="c1679-207">Examples of the statistical measures used in these methods include Pearson Correlation, mutual information, and the Chi-squared test.</span></span>

<span data-ttu-id="c1679-208">Azure Machine Learning Studio innehåller moduler för val av funktioner.</span><span class="sxs-lookup"><span data-stu-id="c1679-208">Azure Machine Learning Studio provides modules for feature selection.</span></span> <span data-ttu-id="c1679-209">I följande bild visas dessa moduler inkluderar [Filter-baserade Funktionsurval] [ filter-based-feature-selection] och [Fisher linjär Discriminant analys][fisher-linear-discriminant-analysis].</span><span class="sxs-lookup"><span data-stu-id="c1679-209">As shown in the following figure, these modules include [Filter-Based Feature Selection][filter-based-feature-selection] and [Fisher Linear Discriminant Analysis][fisher-linear-discriminant-analysis].</span></span>

![Funktionen val exempel](./media/machine-learning-feature-selection-and-engineering/feature-Selection.png)

<span data-ttu-id="c1679-211">Till exempel använda den [Filter-baserade Funktionsurval] [ filter-based-feature-selection] modulen med utvinningsmodellen textexempel beskrivs tidigare.</span><span class="sxs-lookup"><span data-stu-id="c1679-211">For example, use the [Filter-Based Feature Selection][filter-based-feature-selection] module with the text mining example outlined previously.</span></span> <span data-ttu-id="c1679-212">Anta att du vill skapa en regressionsmodell när en uppsättning 256 funktioner har skapats via den [funktions-hashning] [ feature-hashing] modulen, och att variabeln svar är **Kol1** och representerar en bok granska klassificering mellan 1 och 5.</span><span class="sxs-lookup"><span data-stu-id="c1679-212">Assume that you want to build a regression model after a set of 256 features is created through the [Feature Hashing][feature-hashing] module, and that the response variable is **Col1** and represents a book review rating ranging from 1 to 5.</span></span> <span data-ttu-id="c1679-213">Ange **funktion bedömningsprofil metoden** till **kvadratvärdet korrelation**, **målkolumnen** till **Kol1**, och **antalet önskade funktioner** till **50**.</span><span class="sxs-lookup"><span data-stu-id="c1679-213">Set **Feature scoring method** to **Pearson Correlation**, **Target column** to **Col1**, and **Number of desired features** to **50**.</span></span> <span data-ttu-id="c1679-214">Modulen [Filter-baserade Funktionsurval] [ filter-based-feature-selection] producerar en datauppsättning som innehåller 50 funktioner tillsammans med Målattributet **Kol1**.</span><span class="sxs-lookup"><span data-stu-id="c1679-214">The module [Filter-Based Feature Selection][filter-based-feature-selection] then produces a data set containing 50 features together with the target attribute **Col1**.</span></span> <span data-ttu-id="c1679-215">Följande bild visar flödet av experimentet och indataparametrarna.</span><span class="sxs-lookup"><span data-stu-id="c1679-215">The following figure shows the flow of this experiment and the input parameters.</span></span>

![Funktionen val exempel](./media/machine-learning-feature-selection-and-engineering/feature-Selection1.png)

<span data-ttu-id="c1679-217">Följande bild visar de resulterande mängderna data.</span><span class="sxs-lookup"><span data-stu-id="c1679-217">The following figure shows the resulting data sets.</span></span> <span data-ttu-id="c1679-218">Varje funktion beräknas baserat på kvadratvärdet sambandet mellan sig själv och Målattributet **Kol1**.</span><span class="sxs-lookup"><span data-stu-id="c1679-218">Each feature is scored based on the Pearson Correlation between itself and the target attribute **Col1**.</span></span> <span data-ttu-id="c1679-219">Funktioner med högsta poäng behålls.</span><span class="sxs-lookup"><span data-stu-id="c1679-219">The features with top scores are kept.</span></span>

![Filter-baserad funktion markeringen datauppsättningar](./media/machine-learning-feature-selection-and-engineering/feature-Selection2.png)

<span data-ttu-id="c1679-221">Följande bild visar motsvarande resultat för de valda funktionerna.</span><span class="sxs-lookup"><span data-stu-id="c1679-221">The following figure shows the corresponding scores of the selected features.</span></span>

![Valda funktionen resultat](./media/machine-learning-feature-selection-and-engineering/feature-Selection3.png)

<span data-ttu-id="c1679-223">Genom att använda detta [Filter-baserade Funktionsurval] [ filter-based-feature-selection] modulen, 50 av 256 funktioner är markerade eftersom de har de funktioner som samverkar med en målvariabel **Kol1**baserat på bedömningsprofil metoden **kvadratvärdet korrelation**.</span><span class="sxs-lookup"><span data-stu-id="c1679-223">By applying this [Filter-Based Feature Selection][filter-based-feature-selection] module, 50 out of 256 features are selected because they have the most features correlated with the target variable **Col1** based on the scoring method **Pearson Correlation**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="c1679-224">Slutsats</span><span class="sxs-lookup"><span data-stu-id="c1679-224">Conclusion</span></span>
<span data-ttu-id="c1679-225">Funktionen tekniker och Funktionsurval är två steg utförs ofta för att förbereda utbildning data när du skapar en machine learning-modell.</span><span class="sxs-lookup"><span data-stu-id="c1679-225">Feature engineering and feature selection are two steps commonly performed to prepare the training data when building a machine learning model.</span></span> <span data-ttu-id="c1679-226">Normalt sett funktionen tekniker används först för att generera ytterligare funktioner och sedan funktionen markeringen steg utförs för att ta bort irrelevanta, redundant eller hög korrelerade funktioner.</span><span class="sxs-lookup"><span data-stu-id="c1679-226">Normally, feature engineering is applied first to generate additional features, and then the feature selection step is performed to eliminate irrelevant, redundant, or highly correlated features.</span></span>

<span data-ttu-id="c1679-227">Det är inte alltid nödvändigtvis att utföra Funktionsurval teknik eller funktion.</span><span class="sxs-lookup"><span data-stu-id="c1679-227">It is not always necessarily to perform feature engineering or feature selection.</span></span> <span data-ttu-id="c1679-228">Om det behövs beror på data som har eller samla in och den algoritm som du väljer mål för experimentet.</span><span class="sxs-lookup"><span data-stu-id="c1679-228">Whether it is needed depends on the data you have or collect, the algorithm you pick, and the objective of the experiment.</span></span>

<!-- Module References -->
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
[feature-hashing]: https://msdn.microsoft.com/library/azure/c9a82660-2d9c-411d-8122-4d9e0b3ce92a/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[fisher-linear-discriminant-analysis]: https://msdn.microsoft.com/library/azure/dcaab0b2-59ca-4bec-bb66-79fd23540080/
