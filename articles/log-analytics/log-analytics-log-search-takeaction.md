---
title: "aaaUser-initierad Azure Automation Runbook-åtgärden i Log Analytics | Microsoft Docs"
description: "Den här artikeln beskriver hur toorun en Automation-runbook från en logganalys söka resultat på begäran."
services: log-analytics
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/04/2017
ms.author: magoedte
ms.openlocfilehash: 53c25431572babd5fd54bf964e4683077e2a4c2d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="take-action-with-an-automation-runbook-from-a-log-analytics-log-search-result"></a><span data-ttu-id="85462-103">Utför en åtgärd med en Automation-Runbook från ett sökresultat för logganalys-logg</span><span class="sxs-lookup"><span data-stu-id="85462-103">Take Action with an Automation Runbook from a Log Analytics log search result</span></span>

<span data-ttu-id="85462-104">Loggen sökningen i Azure Log Analytics, du kan nu välja **åtgärda** toorun en Automation-runbook.</span><span class="sxs-lookup"><span data-stu-id="85462-104">From a log search result in Azure Log Analytics, you can now select **Take action** toorun an Automation runbook.</span></span>  <span data-ttu-id="85462-105">Hej runbook kan användas för tooremediate hello problemet eller vidta vissa åtgärder, till exempel samla in information om felsökning, skicka ett e-postmeddelande eller skapar en tjänstbegäran.</span><span class="sxs-lookup"><span data-stu-id="85462-105">hello runbook can be used tooremediate hello issue or take some other action such as collect troubleshooting information, send an email, or create a service request.</span></span> 

## <a name="components-and-features-used"></a><span data-ttu-id="85462-106">Komponenter och funktioner som används</span><span class="sxs-lookup"><span data-stu-id="85462-106">Components and features used</span></span>
* [<span data-ttu-id="85462-107">Azure Automation-konto</span><span class="sxs-lookup"><span data-stu-id="85462-107">Azure Automation account</span></span>](../automation/automation-offering-get-started.md)
* [<span data-ttu-id="85462-108">Log Analytics-arbetsyta</span><span class="sxs-lookup"><span data-stu-id="85462-108">Log Analytics workspace</span></span>](../log-analytics/log-analytics-overview.md)

## <a name="tooinitiate-runbook-from-log-search"></a><span data-ttu-id="85462-109">tooinitiate runbook från loggen sökning</span><span class="sxs-lookup"><span data-stu-id="85462-109">tooinitiate runbook from log search</span></span>

<span data-ttu-id="85462-110">tootake åtgärd på en händelse och initiera en runbook i sökresultaten loggen, börja med att skapa en logg-sökning och du kan anropa en runbook på begäran från hello resultat.</span><span class="sxs-lookup"><span data-stu-id="85462-110">tootake action on an event and initiate a runbook from your log search results, you start by creating a log search and from hello results you can invoke a runbook on-demand.</span></span>  <span data-ttu-id="85462-111">Du kan göra detta från hello loggen sökfunktionen i hello Azure eller [OMS-portalen](../log-analytics/log-analytics-log-searches.md).</span><span class="sxs-lookup"><span data-stu-id="85462-111">This can be achieved from hello log search feature in hello Azure or [OMS portal](../log-analytics/log-analytics-log-searches.md).</span></span>  <span data-ttu-id="85462-112">I det här exemplet söka vi loggen från hello Azure-portalen med en enkel demonstration av den här funktionen.</span><span class="sxs-lookup"><span data-stu-id="85462-112">In this example, we perform a log search from hello Azure portal with a basic demonstration of this feature.</span></span>

1. <span data-ttu-id="85462-113">I hello Azure-portalen, hello hubb på menyn **fler tjänster** och välj **logganalys**.</span><span class="sxs-lookup"><span data-stu-id="85462-113">In hello Azure portal, on hello Hub menu click **More services** and select **Log Analytics**.</span></span>  
2. <span data-ttu-id="85462-114">Hello logganalys bladet välj logganalys-arbetsytan och hello arbetsytan bladet välj **loggen Sök**.</span><span class="sxs-lookup"><span data-stu-id="85462-114">On hello Log Analytics blade, select your Log Analytics workspace and on hello workspace blade select **Log Search**.</span></span>  
3. <span data-ttu-id="85462-115">Hello loggen Sök bladet söka loggen.</span><span class="sxs-lookup"><span data-stu-id="85462-115">On hello Log Search blade, perform a log search.</span></span>  
4. <span data-ttu-id="85462-116">Hello loggen sökresultat, klicka på hello ellips toohello till vänster i ett hello fält och från hello popup-fönstret väljer **vidta åtgärder för**.</span><span class="sxs-lookup"><span data-stu-id="85462-116">From hello log search results, click hello ellipse toohello left of one of hello fields and from hello popup, select **Take action on**.</span></span><br><br> <span data-ttu-id="85462-117">![Välj Ta åtgärd sökresultat](./media/log-analytics-log-search-takeaction/log-search-takeaction-menuoption.png)</span><span class="sxs-lookup"><span data-stu-id="85462-117">![Select Take Action from search result](./media/log-analytics-log-search-takeaction/log-search-takeaction-menuoption.png)</span></span> 
5. <span data-ttu-id="85462-118">Hello vidta åtgärden bladet välj **köra en runbook**, och på hello **köra en runbook** bladet kan du välja en runbook toorun.</span><span class="sxs-lookup"><span data-stu-id="85462-118">From hello Take action blade, select **Run a runbook**, and on hello **Run a runbook** blade you can select a runbook toorun.</span></span>  <span data-ttu-id="85462-119">Du kan välja valfri runbook i hello Automation-konto som är länkade toohello logganalys-arbetsytan.</span><span class="sxs-lookup"><span data-stu-id="85462-119">You can select any runbook in hello Automation account that is linked toohello Log Analytics workspace.</span></span>  <span data-ttu-id="85462-120">Observera följande hello:</span><span class="sxs-lookup"><span data-stu-id="85462-120">Note hello following:</span></span>

    * <span data-ttu-id="85462-121">Runbooks är ordnade efter taggar</span><span class="sxs-lookup"><span data-stu-id="85462-121">Runbooks are organized by tags</span></span>
    * <span data-ttu-id="85462-122">Runbook Indataparametern värden kan väljas direkt från hello fält i hello sökresultatet.</span><span class="sxs-lookup"><span data-stu-id="85462-122">Runbook input parameter values can be selected directly from hello fields of hello search result.</span></span>  <span data-ttu-id="85462-123">En listrutan visas alla tillgängliga hello-fält från hello resultatet tooselect från.</span><span class="sxs-lookup"><span data-stu-id="85462-123">A drop-down list will appear displaying all hello available fields from hello result tooselect from.</span></span>  
    * <span data-ttu-id="85462-124">Du kan välja toorun hello runbook på en [runbook worker-hybrid](../automation/automation-hybrid-runbook-worker.md) att du har installerat på hello-dator som har hello problemet om du har en motsvarande Hybrid Runbook Worker-grupp som endast innehåller den här datorn som en medlem.</span><span class="sxs-lookup"><span data-stu-id="85462-124">You can choose toorun hello runbook on a [hybrid runbook worker](../automation/automation-hybrid-runbook-worker.md) that you have installed on hello machine that has hello issue if you have a corresponding Hybrid Runbook Worker group that only contains this machine as a member.</span></span>  <span data-ttu-id="85462-125">Om hello Hybrid Worker-gruppen hello namn matchar hello namnet på hello-dator som är i hello loggen sökresultat, väljs hello gruppen automatiskt.</span><span class="sxs-lookup"><span data-stu-id="85462-125">If hello name of hello Hybrid Worker group matches hello name of hello computer that is in hello log search result, then hello group is selected automatically.</span></span>    

6. <span data-ttu-id="85462-126">När du klickar på **kör**, öppnas hello runbook-jobbet bladet tooallow du tooreview hello hello jobbets status.</span><span class="sxs-lookup"><span data-stu-id="85462-126">After you click **Run**, hello runbook job blade will open tooallow you tooreview hello status of hello job.</span></span>   

<span data-ttu-id="85462-127">Om du väljer en runbook som var konfigurerad toobe [anropas från en avisering om logganalys](../automation/automation-invoke-runbook-from-omsla-alert.md), den har en indataparameter kallas **WebhookData** som **objekt** typen.</span><span class="sxs-lookup"><span data-stu-id="85462-127">If you select a runbook that was configured toobe [called from a Log Analytics alert](../automation/automation-invoke-runbook-from-omsla-alert.md), it has an input parameter called **WebhookData** that is **Object** type.</span></span>  <span data-ttu-id="85462-128">Om hello indataparameter är obligatorisk måste toopass hello sökresultat toohello runbook så att den kan konvertera hello JSON-formaterad sträng till objekttypen så att toofilter på särskilda objekt som du sedan hänvisar till i runbook-aktiviteter.</span><span class="sxs-lookup"><span data-stu-id="85462-128">If hello input parameter is mandatory, you need toopass hello search results toohello runbook so it can convert hello JSON-formatted string into an object type allowing you toofilter on specific items that you will reference in runbook activities.</span></span>  <span data-ttu-id="85462-129">Det gör du genom att välja **sökresultatet (objekt)** hello nedrullningsbara listan.</span><span class="sxs-lookup"><span data-stu-id="85462-129">You do this by selecting **Search result (Object)** from hello drop-down list.</span></span><br><br> <span data-ttu-id="85462-130">![Välj Webhook-dataobjekt för runbook-parameter](media/log-analytics-log-search-takeaction/select-runbook-and-properties.png)</span><span class="sxs-lookup"><span data-stu-id="85462-130">![Select Webhook data object for runbook parameter](media/log-analytics-log-search-takeaction/select-runbook-and-properties.png)</span></span>   
    
## <a name="next-steps"></a><span data-ttu-id="85462-131">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="85462-131">Next steps</span></span>

* <span data-ttu-id="85462-132">Granska hello [logganalys logga Sök referens](log-analytics-search-reference.md) tooview alla hello söka fält och tillgängliga i logganalys-facets.</span><span class="sxs-lookup"><span data-stu-id="85462-132">Review hello [Log Analytics log search reference](log-analytics-search-reference.md) tooview all of hello search fields and facets available in Log Analytics.</span></span>
* <span data-ttu-id="85462-133">hur tooinvoke en Automation-runbook automatiskt, granska toolearn [anropa en Azure Automation-runbook från en OMS logganalys-avisering](../automation/automation-invoke-runbook-from-omsla-alert.md).</span><span class="sxs-lookup"><span data-stu-id="85462-133">toolearn how tooinvoke an Automation runbook automatically, review [calling an Azure Automation runbook from an OMS Log Analytics alert](../automation/automation-invoke-runbook-from-omsla-alert.md).</span></span>  
