---
title: aaaIIS loggar in Log Analytics | Microsoft Docs
description: "Internet Information Services (IIS) lagrar användaraktivitet i loggfiler som kan samlas in av logganalys.  Den här artikeln beskriver hur tooconfigure samling av IIS-loggar och information om hello poster skapas i hello OMS-databasen."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: cec5ff0a-01f5-4262-b2e8-e3db7b7467d2
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/12/2017
ms.author: bwren
ms.openlocfilehash: c5575351090cdabaf651bcb49867794ee3a4b6e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="iis-logs-in-log-analytics"></a><span data-ttu-id="e84c2-104">IIS-loggar i logganalys</span><span class="sxs-lookup"><span data-stu-id="e84c2-104">IIS logs in Log Analytics</span></span>
<span data-ttu-id="e84c2-105">Internet Information Services (IIS) lagrar användaraktivitet i loggfiler som kan samlas in av logganalys.</span><span class="sxs-lookup"><span data-stu-id="e84c2-105">Internet Information Services (IIS) stores user activity in log files that can be collected by Log Analytics.</span></span>  

![IIS-loggar](media/log-analytics-data-sources-iis-logs/overview.png)

## <a name="configuring-iis-logs"></a><span data-ttu-id="e84c2-107">Konfigurera IIS-loggar</span><span class="sxs-lookup"><span data-stu-id="e84c2-107">Configuring IIS logs</span></span>
<span data-ttu-id="e84c2-108">Logganalys samlar in poster från loggfiler skapas i IIS, så du måste [konfigurera IIS för att logga](https://technet.microsoft.com/library/hh831775.aspx).</span><span class="sxs-lookup"><span data-stu-id="e84c2-108">Log Analytics collects entries from log files created by IIS, so you must [configure IIS for logging](https://technet.microsoft.com/library/hh831775.aspx).</span></span>

<span data-ttu-id="e84c2-109">Logganalys endast har stöd för IIS-loggfiler i W3C-format och stöder inte anpassade fält eller avancerade IIS-loggningen.</span><span class="sxs-lookup"><span data-stu-id="e84c2-109">Log Analytics only supports IIS log files stored in W3C format and does not support custom fields or IIS Advanced Logging.</span></span>  
<span data-ttu-id="e84c2-110">Logganalys samlar inte in loggar i NCSA eller IIS native-format.</span><span class="sxs-lookup"><span data-stu-id="e84c2-110">Log Analytics does not collect logs in NCSA or IIS native format.</span></span>

<span data-ttu-id="e84c2-111">Konfigurera IIS-loggar i logganalys från hello [Data-menyn i logganalys-inställningar](log-analytics-data-sources.md#configuring-data-sources).</span><span class="sxs-lookup"><span data-stu-id="e84c2-111">Configure IIS logs in Log Analytics from hello [Data menu in Log Analytics Settings](log-analytics-data-sources.md#configuring-data-sources).</span></span>  <span data-ttu-id="e84c2-112">Det finns ingen konfiguration krävs för andra än att välja **samla in W3C format IIS-loggfiler**.</span><span class="sxs-lookup"><span data-stu-id="e84c2-112">There is no configuration required other than selecting **Collect W3C format IIS log files**.</span></span>

<span data-ttu-id="e84c2-113">Vi rekommenderar att du ska konfigurera hello IIS logg förnyelse inställningen på varje server när du aktiverar IIS Logginsamling.</span><span class="sxs-lookup"><span data-stu-id="e84c2-113">We recommend that when you enable IIS log collection, you should configure hello IIS log rollover setting on each server.</span></span>

## <a name="data-collection"></a><span data-ttu-id="e84c2-114">Datainsamling</span><span class="sxs-lookup"><span data-stu-id="e84c2-114">Data collection</span></span>
<span data-ttu-id="e84c2-115">Logganalys samlar in en IIS-loggposter från varje anslutna källa ungefär var 15: e minut.</span><span class="sxs-lookup"><span data-stu-id="e84c2-115">Log Analytics collects IIS log entries from each connected source approximately every 15 minutes.</span></span>  <span data-ttu-id="e84c2-116">hello agent registrerar dess plats i varje händelseloggen som samlas in från.</span><span class="sxs-lookup"><span data-stu-id="e84c2-116">hello agent records its place in each event log that it collects from.</span></span>  <span data-ttu-id="e84c2-117">Om hello agent frånkopplas sedan logganalys samlar in händelser från där den senast slutade, även om de händelserna som skapades när hello-agenten var offline.</span><span class="sxs-lookup"><span data-stu-id="e84c2-117">If hello agent goes offline, then Log Analytics collects events from where it last left off, even if those events were created while hello agent was offline.</span></span>

## <a name="iis-log-record-properties"></a><span data-ttu-id="e84c2-118">Egenskaper för IIS-post</span><span class="sxs-lookup"><span data-stu-id="e84c2-118">IIS log record properties</span></span>
<span data-ttu-id="e84c2-119">IIS-loggposter har en typ av **W3CIISLog** och ha hello egenskaper i den följande tabellen hello:</span><span class="sxs-lookup"><span data-stu-id="e84c2-119">IIS log records have a type of **W3CIISLog** and have hello properties in hello following table:</span></span>

| <span data-ttu-id="e84c2-120">Egenskap</span><span class="sxs-lookup"><span data-stu-id="e84c2-120">Property</span></span> | <span data-ttu-id="e84c2-121">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="e84c2-121">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="e84c2-122">Dator</span><span class="sxs-lookup"><span data-stu-id="e84c2-122">Computer</span></span> |<span data-ttu-id="e84c2-123">Namnet på hello-dator som hello händelse som samlats in från.</span><span class="sxs-lookup"><span data-stu-id="e84c2-123">Name of hello computer that hello event was collected from.</span></span> |
| <span data-ttu-id="e84c2-124">cIP</span><span class="sxs-lookup"><span data-stu-id="e84c2-124">cIP</span></span> |<span data-ttu-id="e84c2-125">Hello klientens IP-adress.</span><span class="sxs-lookup"><span data-stu-id="e84c2-125">IP address of hello client.</span></span> |
| <span data-ttu-id="e84c2-126">csMethod</span><span class="sxs-lookup"><span data-stu-id="e84c2-126">csMethod</span></span> |<span data-ttu-id="e84c2-127">Metod för hello begäran som GET eller POST.</span><span class="sxs-lookup"><span data-stu-id="e84c2-127">Method of hello request such as GET or POST.</span></span> |
| <span data-ttu-id="e84c2-128">csReferer</span><span class="sxs-lookup"><span data-stu-id="e84c2-128">csReferer</span></span> |<span data-ttu-id="e84c2-129">Platsen som hello användaren följt en länk från toohello aktuella plats.</span><span class="sxs-lookup"><span data-stu-id="e84c2-129">Site that hello user followed a link from toohello current site.</span></span> |
| <span data-ttu-id="e84c2-130">csUserAgent</span><span class="sxs-lookup"><span data-stu-id="e84c2-130">csUserAgent</span></span> |<span data-ttu-id="e84c2-131">Webbläsartyp av hello-klienten.</span><span class="sxs-lookup"><span data-stu-id="e84c2-131">Browser type of hello client.</span></span> |
| <span data-ttu-id="e84c2-132">csUserName</span><span class="sxs-lookup"><span data-stu-id="e84c2-132">csUserName</span></span> |<span data-ttu-id="e84c2-133">Namnet på hello autentiserade användare som anslöt hello-servern.</span><span class="sxs-lookup"><span data-stu-id="e84c2-133">Name of hello authenticated user that accessed hello server.</span></span> <span data-ttu-id="e84c2-134">Anonyma användare anges med ett bindestreck.</span><span class="sxs-lookup"><span data-stu-id="e84c2-134">Anonymous users are indicated by a hyphen.</span></span> |
| <span data-ttu-id="e84c2-135">csUriStem</span><span class="sxs-lookup"><span data-stu-id="e84c2-135">csUriStem</span></span> |<span data-ttu-id="e84c2-136">Mål för hello begäran som en webbsida.</span><span class="sxs-lookup"><span data-stu-id="e84c2-136">Target of hello request such as a web page.</span></span> |
| <span data-ttu-id="e84c2-137">csUriQuery</span><span class="sxs-lookup"><span data-stu-id="e84c2-137">csUriQuery</span></span> |<span data-ttu-id="e84c2-138">Fråga om eventuella hello klienten försöker tooperform.</span><span class="sxs-lookup"><span data-stu-id="e84c2-138">Query, if any, that hello client was trying tooperform.</span></span> |
| <span data-ttu-id="e84c2-139">ManagementGroupName</span><span class="sxs-lookup"><span data-stu-id="e84c2-139">ManagementGroupName</span></span> |<span data-ttu-id="e84c2-140">Namnet på hello hanteringsgruppen för Operations Manager-agenter.</span><span class="sxs-lookup"><span data-stu-id="e84c2-140">Name of hello management group for Operations Manager agents.</span></span>  <span data-ttu-id="e84c2-141">För andra agenter är AOI -\<arbetsyte-ID\></span><span class="sxs-lookup"><span data-stu-id="e84c2-141">For other agents, this is AOI-\<workspace ID\></span></span> |
| <span data-ttu-id="e84c2-142">RemoteIPCountry</span><span class="sxs-lookup"><span data-stu-id="e84c2-142">RemoteIPCountry</span></span> |<span data-ttu-id="e84c2-143">Land hello hello klientens IP-adress.</span><span class="sxs-lookup"><span data-stu-id="e84c2-143">Country of hello IP address of hello client.</span></span> |
| <span data-ttu-id="e84c2-144">RemoteIPLatitude</span><span class="sxs-lookup"><span data-stu-id="e84c2-144">RemoteIPLatitude</span></span> |<span data-ttu-id="e84c2-145">Latitud för hello klientens IP-adress.</span><span class="sxs-lookup"><span data-stu-id="e84c2-145">Latitude of hello client IP address.</span></span> |
| <span data-ttu-id="e84c2-146">RemoteIPLongitude</span><span class="sxs-lookup"><span data-stu-id="e84c2-146">RemoteIPLongitude</span></span> |<span data-ttu-id="e84c2-147">Longituden för hello klientens IP-adress.</span><span class="sxs-lookup"><span data-stu-id="e84c2-147">Longitude of hello client IP address.</span></span> |
| <span data-ttu-id="e84c2-148">scStatus</span><span class="sxs-lookup"><span data-stu-id="e84c2-148">scStatus</span></span> |<span data-ttu-id="e84c2-149">HTTP-statuskod.</span><span class="sxs-lookup"><span data-stu-id="e84c2-149">HTTP status code.</span></span> |
| <span data-ttu-id="e84c2-150">scSubStatus</span><span class="sxs-lookup"><span data-stu-id="e84c2-150">scSubStatus</span></span> |<span data-ttu-id="e84c2-151">Understatus.</span><span class="sxs-lookup"><span data-stu-id="e84c2-151">Substatus error code.</span></span> |
| <span data-ttu-id="e84c2-152">scWin32Status</span><span class="sxs-lookup"><span data-stu-id="e84c2-152">scWin32Status</span></span> |<span data-ttu-id="e84c2-153">Windows-statuskod.</span><span class="sxs-lookup"><span data-stu-id="e84c2-153">Windows status code.</span></span> |
| <span data-ttu-id="e84c2-154">sIP</span><span class="sxs-lookup"><span data-stu-id="e84c2-154">sIP</span></span> |<span data-ttu-id="e84c2-155">IP-adressen på hello-server.</span><span class="sxs-lookup"><span data-stu-id="e84c2-155">IP address of hello web server.</span></span> |
| <span data-ttu-id="e84c2-156">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="e84c2-156">SourceSystem</span></span> |<span data-ttu-id="e84c2-157">OpsMgr</span><span class="sxs-lookup"><span data-stu-id="e84c2-157">OpsMgr</span></span> |
| <span data-ttu-id="e84c2-158">sPort</span><span class="sxs-lookup"><span data-stu-id="e84c2-158">sPort</span></span> |<span data-ttu-id="e84c2-159">Porten på hello server hello-klienten är ansluten till.</span><span class="sxs-lookup"><span data-stu-id="e84c2-159">Port on hello server hello client connected to.</span></span> |
| <span data-ttu-id="e84c2-160">sSiteName</span><span class="sxs-lookup"><span data-stu-id="e84c2-160">sSiteName</span></span> |<span data-ttu-id="e84c2-161">Namnet på hello IIS-webbplatsen.</span><span class="sxs-lookup"><span data-stu-id="e84c2-161">Name of hello IIS site.</span></span> |
| <span data-ttu-id="e84c2-162">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="e84c2-162">TimeGenerated</span></span> |<span data-ttu-id="e84c2-163">Datum och tid hello-transaktionen loggades.</span><span class="sxs-lookup"><span data-stu-id="e84c2-163">Date and time hello entry was logged.</span></span> |
| <span data-ttu-id="e84c2-164">timeTaken</span><span class="sxs-lookup"><span data-stu-id="e84c2-164">TimeTaken</span></span> |<span data-ttu-id="e84c2-165">Längden på tid tooprocess hello begäran i millisekunder.</span><span class="sxs-lookup"><span data-stu-id="e84c2-165">Length of time tooprocess hello request in milliseconds.</span></span> |

## <a name="log-searches-with-iis-logs"></a><span data-ttu-id="e84c2-166">Loggen sökningar med IIS-loggar</span><span class="sxs-lookup"><span data-stu-id="e84c2-166">Log searches with IIS logs</span></span>
<span data-ttu-id="e84c2-167">hello innehåller följande tabell olika exempel på loggen frågor som hämtar IIS-loggposter.</span><span class="sxs-lookup"><span data-stu-id="e84c2-167">hello following table provides different examples of log queries that retrieve IIS log records.</span></span>

| <span data-ttu-id="e84c2-168">Fråga</span><span class="sxs-lookup"><span data-stu-id="e84c2-168">Query</span></span> | <span data-ttu-id="e84c2-169">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="e84c2-169">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="e84c2-170">Typ = W3CIISLog</span><span class="sxs-lookup"><span data-stu-id="e84c2-170">Type=W3CIISLog</span></span> |<span data-ttu-id="e84c2-171">Alla IIS-loggposter.</span><span class="sxs-lookup"><span data-stu-id="e84c2-171">All IIS log records.</span></span> |
| <span data-ttu-id="e84c2-172">Typ = W3CIISLog scStatus = 500</span><span class="sxs-lookup"><span data-stu-id="e84c2-172">Type=W3CIISLog scStatus=500</span></span> |<span data-ttu-id="e84c2-173">Alla IIS-loggposter med returstatus 500.</span><span class="sxs-lookup"><span data-stu-id="e84c2-173">All IIS log records with a return status of 500.</span></span> |
| <span data-ttu-id="e84c2-174">Typ = W3CIISLog &#124; Måttet count() av cIP</span><span class="sxs-lookup"><span data-stu-id="e84c2-174">Type=W3CIISLog &#124; Measure count() by cIP</span></span> |<span data-ttu-id="e84c2-175">Antal av IIS-loggposter av klientens IP-adress.</span><span class="sxs-lookup"><span data-stu-id="e84c2-175">Count of IIS log entries by client IP address.</span></span> |
| <span data-ttu-id="e84c2-176">Typ = W3CIISLog csHost = ”www.contoso.com” &#124; Måttet count() av csUriStem</span><span class="sxs-lookup"><span data-stu-id="e84c2-176">Type=W3CIISLog csHost="www.contoso.com" &#124; Measure count() by csUriStem</span></span> |<span data-ttu-id="e84c2-177">Antal IIS loggposter URL för hello värden www.contoso.com.</span><span class="sxs-lookup"><span data-stu-id="e84c2-177">Count of IIS log entries by URL for hello host www.contoso.com.</span></span> |
| <span data-ttu-id="e84c2-178">Typ = W3CIISLog &#124; Måttet Sum(csBytes) av datorn &#124; TOP 500000</span><span class="sxs-lookup"><span data-stu-id="e84c2-178">Type=W3CIISLog &#124; Measure Sum(csBytes) by Computer &#124; top 500000</span></span> |<span data-ttu-id="e84c2-179">Totalt antal byte som tagits emot av varje IIS-dator.</span><span class="sxs-lookup"><span data-stu-id="e84c2-179">Total bytes received by each IIS computer.</span></span> |

>[!NOTE]
> <span data-ttu-id="e84c2-180">Om ditt arbetsområde har uppgraderade toohello [nya Log Analytics-frågespråket](log-analytics-log-search-upgrade.md), hello senare frågorna skulle ändra toohello följande.</span><span class="sxs-lookup"><span data-stu-id="e84c2-180">If your workspace has been upgraded toohello [new Log Analytics query language](log-analytics-log-search-upgrade.md), then hello above queries would change toohello following.</span></span>

> | <span data-ttu-id="e84c2-181">Fråga</span><span class="sxs-lookup"><span data-stu-id="e84c2-181">Query</span></span> | <span data-ttu-id="e84c2-182">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="e84c2-182">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="e84c2-183">W3CIISLog</span><span class="sxs-lookup"><span data-stu-id="e84c2-183">W3CIISLog</span></span> |<span data-ttu-id="e84c2-184">Alla IIS-loggposter.</span><span class="sxs-lookup"><span data-stu-id="e84c2-184">All IIS log records.</span></span> |
| <span data-ttu-id="e84c2-185">W3CIISLog &#124; där scStatus == 500</span><span class="sxs-lookup"><span data-stu-id="e84c2-185">W3CIISLog &#124; where scStatus==500</span></span> |<span data-ttu-id="e84c2-186">Alla IIS-loggposter med returstatus 500.</span><span class="sxs-lookup"><span data-stu-id="e84c2-186">All IIS log records with a return status of 500.</span></span> |
| <span data-ttu-id="e84c2-187">W3CIISLog &#124; Sammanfatta count() av cIP</span><span class="sxs-lookup"><span data-stu-id="e84c2-187">W3CIISLog &#124; summarize count() by cIP</span></span> |<span data-ttu-id="e84c2-188">Antal av IIS-loggposter av klientens IP-adress.</span><span class="sxs-lookup"><span data-stu-id="e84c2-188">Count of IIS log entries by client IP address.</span></span> |
| <span data-ttu-id="e84c2-189">W3CIISLog &#124; där csHost == ”www.contoso.com” &#124; Sammanfatta count() av csUriStem</span><span class="sxs-lookup"><span data-stu-id="e84c2-189">W3CIISLog &#124; where csHost=="www.contoso.com" &#124; summarize count() by csUriStem</span></span> |<span data-ttu-id="e84c2-190">Antal IIS loggposter URL för hello värden www.contoso.com.</span><span class="sxs-lookup"><span data-stu-id="e84c2-190">Count of IIS log entries by URL for hello host www.contoso.com.</span></span> |
| <span data-ttu-id="e84c2-191">W3CIISLog &#124; Sammanfatta sum(csBytes) av datorn &#124; ta 500000</span><span class="sxs-lookup"><span data-stu-id="e84c2-191">W3CIISLog &#124; summarize sum(csBytes) by Computer &#124; take 500000</span></span> |<span data-ttu-id="e84c2-192">Totalt antal byte som tagits emot av varje IIS-dator.</span><span class="sxs-lookup"><span data-stu-id="e84c2-192">Total bytes received by each IIS computer.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="e84c2-193">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="e84c2-193">Next steps</span></span>
* <span data-ttu-id="e84c2-194">Konfigurera logganalys toocollect andra [datakällor](log-analytics-data-sources.md) för analys.</span><span class="sxs-lookup"><span data-stu-id="e84c2-194">Configure Log Analytics toocollect other [data sources](log-analytics-data-sources.md) for analysis.</span></span>
* <span data-ttu-id="e84c2-195">Lär dig mer om [logga sökningar](log-analytics-log-searches.md) tooanalyze hello data som samlas in från datakällor och lösningar.</span><span class="sxs-lookup"><span data-stu-id="e84c2-195">Learn about [log searches](log-analytics-log-searches.md) tooanalyze hello data collected from data sources and solutions.</span></span>
* <span data-ttu-id="e84c2-196">Konfigurera aviseringar i logganalys tooproactively meddelar dig om viktiga villkor finns i IIS-loggar.</span><span class="sxs-lookup"><span data-stu-id="e84c2-196">Configure alerts in Log Analytics tooproactively notify you of important conditions found in IIS logs.</span></span>
