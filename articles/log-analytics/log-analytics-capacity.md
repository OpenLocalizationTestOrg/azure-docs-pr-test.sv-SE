---
title: "Lösning för kapacitet och prestanda i Azure Log Analytics | Microsoft Docs"
description: "Använd lösningen kapacitet och prestanda i logganalys som hjälper dig att förstå kapaciteten för Hyper-V-servrar."
services: log-analytics
documentationcenter: 
author: bandersmsft
manager: carmonm
editor: 
ms.assetid: 51617a6f-ffdd-4ed2-8b74-1257149ce3d4
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: banders
ms.openlocfilehash: 5ca005127721092b8efcf0ac83cc967ab15fe72d
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/03/2017
---
# <a name="plan-hyper-v-virtual-machine-capacity-with-the-capacity-and-performance-solution-preview"></a><span data-ttu-id="919b7-103">Planera kapaciteten för Hyper-V-virtuella datorer med kapacitet och prestanda för lösning (förhandsgranskning)</span><span class="sxs-lookup"><span data-stu-id="919b7-103">Plan Hyper-V virtual machine capacity with the Capacity and Performance solution (Preview)</span></span>

![Symbolen kapacitet och prestanda](./media/log-analytics-capacity/capacity-solution.png)

<span data-ttu-id="919b7-105">Du kan använda lösningen kapacitet och prestanda i logganalys som hjälper dig att förstå kapaciteten för Hyper-V-servrar.</span><span class="sxs-lookup"><span data-stu-id="919b7-105">You can use the Capacity and Performance solution in Log Analytics to help you understand the capacity of your Hyper-V servers.</span></span> <span data-ttu-id="919b7-106">Lösningen ger insikter om Hyper-V-miljö genom att visa den totala användningen av värdarna och de virtuella datorerna körs på dessa Hyper-V-värdar (CPU, minne och disk).</span><span class="sxs-lookup"><span data-stu-id="919b7-106">The solution provides insights into your Hyper-V environment by showing you the overall utilization (CPU, memory, and disk) of the hosts and the VMs running on those Hyper-V hosts.</span></span> <span data-ttu-id="919b7-107">Mått har samlats in för CPU, minne och diskar mellan alla värdar och de virtuella datorerna körs på dem..</span><span class="sxs-lookup"><span data-stu-id="919b7-107">Metrics are collected for CPU, memory, and disks across all your hosts and the VMs running on them.</span></span>

<span data-ttu-id="919b7-108">Lösning:</span><span class="sxs-lookup"><span data-stu-id="919b7-108">The solution:</span></span>

-   <span data-ttu-id="919b7-109">Visar med högsta och lägsta CPU och minne användning</span><span class="sxs-lookup"><span data-stu-id="919b7-109">Shows hosts with highest and lowest CPU and memory utilization</span></span>
-   <span data-ttu-id="919b7-110">Visar virtuella datorer med högsta och lägsta CPU och minne användning</span><span class="sxs-lookup"><span data-stu-id="919b7-110">Shows VMs with highest and lowest CPU and memory utilization</span></span>
-   <span data-ttu-id="919b7-111">Visar virtuella datorer med högsta och lägsta IOPS och genomströmning användning</span><span class="sxs-lookup"><span data-stu-id="919b7-111">Shows VMs with highest and lowest IOPS and throughput utilization</span></span>
-   <span data-ttu-id="919b7-112">Visar vilka virtuella datorer som körs på vilka värdar</span><span class="sxs-lookup"><span data-stu-id="919b7-112">Shows which VMs are running on which hosts</span></span>
-   <span data-ttu-id="919b7-113">Visar översta diskar med hög genomströmning, IOPS och svarstid i klusterdelade volymer</span><span class="sxs-lookup"><span data-stu-id="919b7-113">Shows the top disks with high throughput, IOPS, and latency in cluster shared volumes</span></span>
- <span data-ttu-id="919b7-114">Du kan anpassa och filtrera baserat på grupper</span><span class="sxs-lookup"><span data-stu-id="919b7-114">Allows you to customize and filter based on groups</span></span>

> [!NOTE]
> <span data-ttu-id="919b7-115">Den tidigare versionen av kapacitet och prestanda för lösningen kallas kapacitet Management krävs både System Center Operations Manager och System Center Virtual Machine Manager.</span><span class="sxs-lookup"><span data-stu-id="919b7-115">The previous version of the Capacity and Performance solution called Capacity Management required both System Center Operations Manager and System Center Virtual Machine Manager.</span></span> <span data-ttu-id="919b7-116">Den här uppdaterade lösningen har inte dessa beroenden.</span><span class="sxs-lookup"><span data-stu-id="919b7-116">This updated solution doesn't have those dependencies.</span></span>


## <a name="connected-sources"></a><span data-ttu-id="919b7-117">Anslutna källor</span><span class="sxs-lookup"><span data-stu-id="919b7-117">Connected sources</span></span>

<span data-ttu-id="919b7-118">I följande tabell beskrivs de anslutna källor som stöds av den här lösningen.</span><span class="sxs-lookup"><span data-stu-id="919b7-118">The following table describes the connected sources that are supported by this solution.</span></span>

| <span data-ttu-id="919b7-119">Ansluten källa</span><span class="sxs-lookup"><span data-stu-id="919b7-119">Connected Source</span></span> | <span data-ttu-id="919b7-120">Support</span><span class="sxs-lookup"><span data-stu-id="919b7-120">Support</span></span> | <span data-ttu-id="919b7-121">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="919b7-121">Description</span></span> |
|---|---|---|
| [<span data-ttu-id="919b7-122">Windows-agenter</span><span class="sxs-lookup"><span data-stu-id="919b7-122">Windows agents</span></span>](log-analytics-windows-agents.md) | <span data-ttu-id="919b7-123">Ja</span><span class="sxs-lookup"><span data-stu-id="919b7-123">Yes</span></span> | <span data-ttu-id="919b7-124">Lösningen samlar in information om kapacitet och prestanda från Windows-agenter.</span><span class="sxs-lookup"><span data-stu-id="919b7-124">The solution collects capacity and performance data information from Windows agents.</span></span> |
| [<span data-ttu-id="919b7-125">Linux-agenter</span><span class="sxs-lookup"><span data-stu-id="919b7-125">Linux agents</span></span>](log-analytics-linux-agents.md) | <span data-ttu-id="919b7-126">Nej</span><span class="sxs-lookup"><span data-stu-id="919b7-126">No</span></span>    | <span data-ttu-id="919b7-127">Lösningen samlar inte in information om kapacitet och prestanda från direkt Linux-agenter.</span><span class="sxs-lookup"><span data-stu-id="919b7-127">The solution does not collect capacity and performance data information from direct Linux agents.</span></span>|
| [<span data-ttu-id="919b7-128">SCOM-hanteringsgrupp</span><span class="sxs-lookup"><span data-stu-id="919b7-128">SCOM management group</span></span>](log-analytics-om-agents.md) | <span data-ttu-id="919b7-129">Ja</span><span class="sxs-lookup"><span data-stu-id="919b7-129">Yes</span></span> |<span data-ttu-id="919b7-130">Lösningen samlar in data om kapacitet och prestanda från agenter i en ansluten SCOM-hanteringsgrupp.</span><span class="sxs-lookup"><span data-stu-id="919b7-130">The solution collects capacity and performance data from agents in a connected SCOM management group.</span></span> <span data-ttu-id="919b7-131">En direkt anslutning från SCOM-agent till OMS krävs inte.</span><span class="sxs-lookup"><span data-stu-id="919b7-131">A direct connection from the SCOM agent to OMS is not required.</span></span> <span data-ttu-id="919b7-132">Data vidarebefordras från hanteringsgruppen till OMS-databasen.</span><span class="sxs-lookup"><span data-stu-id="919b7-132">Data is forwarded from the management group to the OMS repository.</span></span>|
| [<span data-ttu-id="919b7-133">Azure Storage-konto</span><span class="sxs-lookup"><span data-stu-id="919b7-133">Azure storage account</span></span>](log-analytics-azure-storage.md) | <span data-ttu-id="919b7-134">Nej</span><span class="sxs-lookup"><span data-stu-id="919b7-134">No</span></span> | <span data-ttu-id="919b7-135">Azure storage innehåller inte data kapacitet och prestanda.</span><span class="sxs-lookup"><span data-stu-id="919b7-135">Azure storage does not include capacity and performance data.</span></span>|

## <a name="prerequisites"></a><span data-ttu-id="919b7-136">Krav</span><span class="sxs-lookup"><span data-stu-id="919b7-136">Prerequisites</span></span>

- <span data-ttu-id="919b7-137">Windows- eller Operations Manager-agenter måste installeras på Windows Server 2012 eller högre Hyper-V-värdar, inte virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="919b7-137">Windows or Operations Manager agents must be installed on Windows Server 2012 or higher Hyper-V hosts, not virtual machines.</span></span>


## <a name="configuration"></a><span data-ttu-id="919b7-138">Konfiguration</span><span class="sxs-lookup"><span data-stu-id="919b7-138">Configuration</span></span>

<span data-ttu-id="919b7-139">Utför följande steg för att lägga till kapacitet och prestanda för lösningen till din arbetsyta.</span><span class="sxs-lookup"><span data-stu-id="919b7-139">Perform the following step to add the Capacity and Performance solution to your workspace.</span></span>

- <span data-ttu-id="919b7-140">Lägg till lösningen kapacitet och prestanda i din OMS-arbetsyta med hjälp av den process som beskrivs i [lägga till logganalys lösningar från galleriet lösningar](log-analytics-add-solutions.md).</span><span class="sxs-lookup"><span data-stu-id="919b7-140">Add the Capacity and Performance solution to your OMS workspace using the process described in [Add Log Analytics solutions from the Solutions Gallery](log-analytics-add-solutions.md).</span></span>

## <a name="management-packs"></a><span data-ttu-id="919b7-141">Hanteringspaket</span><span class="sxs-lookup"><span data-stu-id="919b7-141">Management packs</span></span>

<span data-ttu-id="919b7-142">Om din SCOM-hanteringsgrupp är ansluten till din OMS-arbetsyta, sedan installeras följande hanteringspaket i SCOM när du lägger till den här lösningen.</span><span class="sxs-lookup"><span data-stu-id="919b7-142">If your SCOM management group is connected to your OMS workspace, then the following management packs will be installed in SCOM when you add this solution.</span></span> <span data-ttu-id="919b7-143">Det krävs ingen konfigurering eller underhåll av dessa hanteringspaket.</span><span class="sxs-lookup"><span data-stu-id="919b7-143">There is no configuration or maintenance of these management packs required.</span></span>

- <span data-ttu-id="919b7-144">Microsoft.IntelligencePacks.CapacityPerformance</span><span class="sxs-lookup"><span data-stu-id="919b7-144">Microsoft.IntelligencePacks.CapacityPerformance</span></span>

<span data-ttu-id="919b7-145">Händelsen 1201 liknar:</span><span class="sxs-lookup"><span data-stu-id="919b7-145">The 1201 event resembles:</span></span>


```
New Management Pack with id:"Microsoft.IntelligencePacks.CapacityPerformance", version:"1.10.3190.0" received.
```

<span data-ttu-id="919b7-146">När lösningen Kapacitets- och uppdateras ändras versionsnumret.</span><span class="sxs-lookup"><span data-stu-id="919b7-146">When the Capacity and Performance solution is updated, the version number will change.</span></span>

<span data-ttu-id="919b7-147">Mer information om hur lösningens hanteringspaket uppdateras finns i [Anslut Operations Manager till Log Analytics](log-analytics-om-agents.md).</span><span class="sxs-lookup"><span data-stu-id="919b7-147">For more information on how solution management packs are updated, see [Connect Operations Manager to Log Analytics](log-analytics-om-agents.md).</span></span>

## <a name="using-the-solution"></a><span data-ttu-id="919b7-148">Använda lösningen</span><span class="sxs-lookup"><span data-stu-id="919b7-148">Using the solution</span></span>

<span data-ttu-id="919b7-149">När du lägger till lösningen kapacitet och prestanda för din arbetsyta, har kapacitet och prestanda lagts till i instrumentpanelens Översikt.</span><span class="sxs-lookup"><span data-stu-id="919b7-149">When you add the Capacity and Performance solution to your workspace, the Capacity and Performance is added to the Overview dashboard.</span></span> <span data-ttu-id="919b7-150">Den här panelen visar antalet aktiva Hyper-V-värdar och valt antal aktiva virtuella datorer som har övervakas för tidsperioden.</span><span class="sxs-lookup"><span data-stu-id="919b7-150">This tile displays a count of the number of currently active Hyper-V hosts  and the number of active virtual machines that were monitored for the time period selected.</span></span>

![Panelen kapacitet och prestanda](./media/log-analytics-capacity/capacity-tile.png)


### <a name="review-utilization"></a><span data-ttu-id="919b7-152">Granska användning</span><span class="sxs-lookup"><span data-stu-id="919b7-152">Review utilization</span></span>

<span data-ttu-id="919b7-153">Klicka på panelen kapacitet och prestanda för att öppna instrumentpanelen kapacitet och prestanda.</span><span class="sxs-lookup"><span data-stu-id="919b7-153">Click on the Capacity and Performance tile to open the Capacity and Performance dashboard.</span></span> <span data-ttu-id="919b7-154">Instrumentpanelen innehåller kolumnerna i följande tabell.</span><span class="sxs-lookup"><span data-stu-id="919b7-154">The dashboard includes the columns in the following table.</span></span> <span data-ttu-id="919b7-155">Varje kolumn listar upp till tio objekt som matchar denna kolumns kriterier för specificerat omfång och tidsintervall.</span><span class="sxs-lookup"><span data-stu-id="919b7-155">Each column lists up to ten items matching that column's criteria for the specified scope and time range.</span></span> <span data-ttu-id="919b7-156">Du kan köra en loggsökning som returnerar alla poster genom att klicka på **Se alla** längst ned i kolumnen eller genom att klicka på kolumnrubriken.</span><span class="sxs-lookup"><span data-stu-id="919b7-156">You can run a log search that returns all records by clicking **See all** at the bottom of the column or by clicking the column header.</span></span>

- <span data-ttu-id="919b7-157">**Värdar**</span><span class="sxs-lookup"><span data-stu-id="919b7-157">**Hosts**</span></span>
    - <span data-ttu-id="919b7-158">**Värd för processoranvändningen** visar en grafisk trend över CPU-utnyttjande på värddatorer och en lista över värdar, baserat på den valda tidsperioden.</span><span class="sxs-lookup"><span data-stu-id="919b7-158">**Host CPU Utilization** Shows a graphical trend of the CPU utilization of host computers and a list of hosts, based on the selected time period.</span></span> <span data-ttu-id="919b7-159">Hovra över linjediagram för att visa detaljer för en specifik tidpunkt.</span><span class="sxs-lookup"><span data-stu-id="919b7-159">Hover over the line chart to view details for a specific point in time.</span></span> <span data-ttu-id="919b7-160">Klicka på diagrammet om du vill visa mer information i loggen sökningen.</span><span class="sxs-lookup"><span data-stu-id="919b7-160">Click the chart to view more details in log search.</span></span> <span data-ttu-id="919b7-161">Klicka på alla värdnamn för att öppna loggen Sök och visa information om CPU prestandaräknare för värdbaserade virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="919b7-161">Click any host name to open log search and view CPU counter details for hosted VMs.</span></span>
    - <span data-ttu-id="919b7-162">**Värd för minnesanvändning** visar en grafisk trend över minnesanvändning värddatorer och en lista över värdar, baserat på den valda tidsperioden.</span><span class="sxs-lookup"><span data-stu-id="919b7-162">**Host Memory Utilization** Shows a graphical trend of the memory utilization of host computers and a list of hosts, based on the selected time period.</span></span> <span data-ttu-id="919b7-163">Hovra över linjediagram för att visa detaljer för en specifik tidpunkt.</span><span class="sxs-lookup"><span data-stu-id="919b7-163">Hover over the line chart to view details for a specific point in time.</span></span> <span data-ttu-id="919b7-164">Klicka på diagrammet om du vill visa mer information i loggen sökningen.</span><span class="sxs-lookup"><span data-stu-id="919b7-164">Click the chart to view more details in log search.</span></span> <span data-ttu-id="919b7-165">Klicka på alla värdnamn för att öppna loggen sökning och visa information om prestandaräknare för värdbaserade virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="919b7-165">Click any host name to open log search and view memory counter details for hosted VMs.</span></span>
- <span data-ttu-id="919b7-166">**Virtual Machines**</span><span class="sxs-lookup"><span data-stu-id="919b7-166">**Virtual Machines**</span></span>
    - <span data-ttu-id="919b7-167">**VM processoranvändningen** visar en grafisk trend över CPU-användning av virtuella datorer och en lista över virtuella datorer baserat på den valda tidsperioden.</span><span class="sxs-lookup"><span data-stu-id="919b7-167">**VM CPU Utilization** Shows a graphical trend of the CPU utilization of virtual machines and a list of virtual machines, based on the selected time period.</span></span> <span data-ttu-id="919b7-168">Hovra över linjediagram för att visa detaljer för en specifik tidpunkt för de översta 3 virtuella datorerna.</span><span class="sxs-lookup"><span data-stu-id="919b7-168">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="919b7-169">Klicka på diagrammet om du vill visa mer information i loggen sökningen.</span><span class="sxs-lookup"><span data-stu-id="919b7-169">Click the chart to view more details in log search.</span></span> <span data-ttu-id="919b7-170">Klicka på alla VM-namn för att öppna loggen Sök och visa sammanställs CPU information om prestandaräknare för den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="919b7-170">Click any VM name to open log search and view aggregated CPU counter details for the VM.</span></span>
    - <span data-ttu-id="919b7-171">**VM minnesanvändning** visar en grafisk trend över minnesanvändning för virtuella datorer och en lista över virtuella datorer baserat på den valda tidsperioden.</span><span class="sxs-lookup"><span data-stu-id="919b7-171">**VM Memory Utilization** Shows a graphical trend of the memory utilization of virtual machines and a list of virtual machines, based on the selected time period.</span></span> <span data-ttu-id="919b7-172">Hovra över linjediagram för att visa detaljer för en specifik tidpunkt för de översta 3 virtuella datorerna.</span><span class="sxs-lookup"><span data-stu-id="919b7-172">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="919b7-173">Klicka på diagrammet om du vill visa mer information i loggen sökningen.</span><span class="sxs-lookup"><span data-stu-id="919b7-173">Click the chart to view more details in log search.</span></span> <span data-ttu-id="919b7-174">Klicka på alla namn på virtuell dator att öppna loggen Sök och visa information om prestandaräknare aggregerade minne för den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="919b7-174">Click any VM name to open log search and view aggregated memory counter details for the VM.</span></span>
    - <span data-ttu-id="919b7-175">**VM totala Disk-IOPS** visar en grafisk trend över totala disken IOPS för virtuella datorer och en lista över virtuella datorer med IOPS för varje, baserat på den valda tidsperioden.</span><span class="sxs-lookup"><span data-stu-id="919b7-175">**VM Total Disk IOPS** Shows a graphical trend of the total disk IOPS for virtual machines and a list of virtual machines with the IOPS for each, based on the selected time period.</span></span> <span data-ttu-id="919b7-176">Hovra över linjediagram för att visa detaljer för en specifik tidpunkt för de översta 3 virtuella datorerna.</span><span class="sxs-lookup"><span data-stu-id="919b7-176">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="919b7-177">Klicka på diagrammet om du vill visa mer information i loggen sökningen.</span><span class="sxs-lookup"><span data-stu-id="919b7-177">Click the chart to view more details in log search.</span></span> <span data-ttu-id="919b7-178">Klicka på alla VM-namn för att öppna loggen Sök- och aggregerade disk IOPS prestandaräknaren information för den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="919b7-178">Click any VM name to open log search and view aggregated disk IOPS counter details for the VM.</span></span>
    - <span data-ttu-id="919b7-179">**VM totala Diskgenomflödet** visar en grafisk trend över det totala genomflödet för virtuella datorer och en lista över virtuella datorer med det totala genomflödet för varje baserat på den valda tidsperioden.</span><span class="sxs-lookup"><span data-stu-id="919b7-179">**VM Total Disk Throughput** Shows a graphical trend of the total disk throughput for virtual machines and a list of virtual machines with the total disk throughput for each, based on the selected time period.</span></span> <span data-ttu-id="919b7-180">Hovra över linjediagram för att visa detaljer för en specifik tidpunkt för de översta 3 virtuella datorerna.</span><span class="sxs-lookup"><span data-stu-id="919b7-180">Hover over the line chart to view details for a specific point in time for the top 3 VMs.</span></span> <span data-ttu-id="919b7-181">Klicka på diagrammet om du vill visa mer information i loggen sökningen.</span><span class="sxs-lookup"><span data-stu-id="919b7-181">Click the chart to view more details in log search.</span></span> <span data-ttu-id="919b7-182">Klicka på alla VM-namn för att öppna loggen Sök och visa sammanställs totala genomflödet räknaren diskinformation för den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="919b7-182">Click any VM name to open log search and view aggregated total disk throughput counter details for the VM.</span></span>
- <span data-ttu-id="919b7-183">**Klusterdelade volymer**</span><span class="sxs-lookup"><span data-stu-id="919b7-183">**Clustered Shared Volumes**</span></span>
    - <span data-ttu-id="919b7-184">**Totalt antal genomströmning** visar summan av både läsningar och skrivningar på klusterdelade volymer.</span><span class="sxs-lookup"><span data-stu-id="919b7-184">**Total Throughput** Shows the sum of both reads and writes on clustered shared volumes.</span></span>
    - <span data-ttu-id="919b7-185">**Totalt antal IOPS** visar summan av i/o-åtgärder per sekund på klusterdelade volymer.</span><span class="sxs-lookup"><span data-stu-id="919b7-185">**Total IOPS** Shows the sum of input/output operations per second on clustered shared volumes.</span></span>
    - <span data-ttu-id="919b7-186">**Total svarstid** visar den totala svarstiden på klusterdelade volymer.</span><span class="sxs-lookup"><span data-stu-id="919b7-186">**Total Latency** Shows the total latency on clustered shared volumes.</span></span>
- <span data-ttu-id="919b7-187">**Värd för densitet** övre panelen visar det totala antalet värdar och virtuella datorer som är tillgängliga för lösningen.</span><span class="sxs-lookup"><span data-stu-id="919b7-187">**Host Density** The top tile shows the total number of hosts and virtual machines available to the solution.</span></span> <span data-ttu-id="919b7-188">Klicka på övre panelen om du vill visa mer information i loggen sökningen.</span><span class="sxs-lookup"><span data-stu-id="919b7-188">Click the top tile to view additional details in log search.</span></span> <span data-ttu-id="919b7-189">Visar också alla värdar och antalet virtuella datorer som finns.</span><span class="sxs-lookup"><span data-stu-id="919b7-189">Also lists all hosts and the number of virtual machines that are hosted.</span></span> <span data-ttu-id="919b7-190">Klicka på en värd till VM-resultat i en logg sökning mer detaljerat.</span><span class="sxs-lookup"><span data-stu-id="919b7-190">Click a host to drill into the VM results in a log search.</span></span>


![instrumentpanelen värdar bladet](./media/log-analytics-capacity/dashboard-hosts.png)

![instrumentpanelen bladet för virtuella datorer](./media/log-analytics-capacity/dashboard-vms.png)


### <a name="evaluate-performance"></a><span data-ttu-id="919b7-193">Utvärdera prestanda</span><span class="sxs-lookup"><span data-stu-id="919b7-193">Evaluate performance</span></span>

<span data-ttu-id="919b7-194">Produktion datormiljöer avsevärt skiljer sig åt en organisation.</span><span class="sxs-lookup"><span data-stu-id="919b7-194">Production computing environments differ greatly from one organization to another.</span></span> <span data-ttu-id="919b7-195">Dessutom kapacitet och prestanda för arbetsbelastningar kan beror på hur dina virtuella datorer som körs, och vad du normalt.</span><span class="sxs-lookup"><span data-stu-id="919b7-195">Also, capacity and performance workloads might depend on how your VMs are running, and what you consider normal.</span></span> <span data-ttu-id="919b7-196">Specifika procedurer som hjälper dig att mått prestanda förmodligen inte gäller för din miljö.</span><span class="sxs-lookup"><span data-stu-id="919b7-196">Specific procedures to help you measure performance would probably not apply to your environment.</span></span> <span data-ttu-id="919b7-197">Så mer generaliserad normativ vägledning passar bättre för att.</span><span class="sxs-lookup"><span data-stu-id="919b7-197">So, more generalized prescriptive guidance is better suited to help.</span></span> <span data-ttu-id="919b7-198">Microsoft publicerar en mängd olika vägledningsartiklar för att du mäta prestanda.</span><span class="sxs-lookup"><span data-stu-id="919b7-198">Microsoft publishes a variety of prescriptive guidance articles to help you measure performance.</span></span>

<span data-ttu-id="919b7-199">Sammanfattningsvis, lösningen samlar in kapacitet och prestandadata från olika källor, till exempel prestandaräknare.</span><span class="sxs-lookup"><span data-stu-id="919b7-199">To summarize, the solution collects capacity and performance data from a variety of sources including performance counters.</span></span> <span data-ttu-id="919b7-200">Kapacitets- och data som visas i olika underlag i lösningen och jämför resultaten till webbplatser på den [mäta prestanda på Hyper-V](https://msdn.microsoft.com/library/cc768535.aspx) artikel.</span><span class="sxs-lookup"><span data-stu-id="919b7-200">Use that capacity and performance data that presented in various surfaces in the solution and compare your results to those at the [Measuring Performance on Hyper-V](https://msdn.microsoft.com/library/cc768535.aspx) article.</span></span> <span data-ttu-id="919b7-201">Även om artikeln publicerades för en tid sedan, är mått, överväganden och riktlinjer fortfarande giltiga.</span><span class="sxs-lookup"><span data-stu-id="919b7-201">Although the article was published some time ago, the metrics, considerations, and guidelines are still valid.</span></span> <span data-ttu-id="919b7-202">Artikeln innehåller länkar till andra användbara resurser.</span><span class="sxs-lookup"><span data-stu-id="919b7-202">The article contains links to other useful resources.</span></span>


## <a name="sample-log-searches"></a><span data-ttu-id="919b7-203">Exempel på loggsökningar</span><span class="sxs-lookup"><span data-stu-id="919b7-203">Sample log searches</span></span>

<span data-ttu-id="919b7-204">Följande tabell innehåller exempel loggen söker efter Kapacitets- och data som samlas in och beräknas av den här lösningen.</span><span class="sxs-lookup"><span data-stu-id="919b7-204">The following table provides sample log searches for capacity and performance data collected and calculated by this solution.</span></span>

| <span data-ttu-id="919b7-205">Fråga</span><span class="sxs-lookup"><span data-stu-id="919b7-205">Query</span></span> | <span data-ttu-id="919b7-206">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="919b7-206">Description</span></span> |
|---|---|
| <span data-ttu-id="919b7-207">Alla värden minneskonfigurationer</span><span class="sxs-lookup"><span data-stu-id="919b7-207">All host memory configurations</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" CounterName="Host Assigned Memory MB" &#124; measure avg(CounterValue) as MB by InstanceName</code> |
| <span data-ttu-id="919b7-208">Alla konfigurationer av Virtuellt minne</span><span class="sxs-lookup"><span data-stu-id="919b7-208">All VM memory configurations</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" CounterName="VM Assigned Memory MB" &#124; measure avg(CounterValue) as MB by InstanceName</code> |
| <span data-ttu-id="919b7-209">Uppdelning av totala Disk-IOPS över alla virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="919b7-209">Breakdown of Total Disk IOPS across all VMs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="VHD Reads/s" OR CounterName="VHD Writes/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="919b7-210">Uppdelning av totala Diskgenomflödet över alla virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="919b7-210">Breakdown of Total Disk Throughput across all VMs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="VHD Read MB/s" OR CounterName="VHD Write MB/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="919b7-211">Uppdelning av IOPS totalt över alla CSV: er</span><span class="sxs-lookup"><span data-stu-id="919b7-211">Breakdown of Total IOPS across all CSVs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="CSV Reads/s" OR CounterName="CSV Writes/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="919b7-212">Uppdelning av totala genomflödet över alla CSV: er</span><span class="sxs-lookup"><span data-stu-id="919b7-212">Breakdown of Total Throughput across all CSVs</span></span> | <code>Type=Perf ObjectName="Capacity and Performance" (CounterName="CSV Read MB/s" OR CounterName="CSV Write MB/s") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |
| <span data-ttu-id="919b7-213">Uppdelning av totala svarstiden i alla CSV: er</span><span class="sxs-lookup"><span data-stu-id="919b7-213">Breakdown of Total Latency across all CSVs</span></span> | <code> Type=Perf ObjectName="Capacity and Performance" (CounterName="CSV Read Latency" OR CounterName="CSV Write Latency") &#124; top 2500 &#124; measure avg(CounterValue) by CounterName, InstanceName interval 1HOUR</code> |

>[!NOTE]
> <span data-ttu-id="919b7-214">Om din arbetsyta har uppgraderats till [det nya Log Analytics-frågespråket](log-analytics-log-search-upgrade.md) ändras frågorna ovan till följande.</span><span class="sxs-lookup"><span data-stu-id="919b7-214">If your workspace has been upgraded to the [new Log Analytics query language](log-analytics-log-search-upgrade.md), then the above queries would change to the following.</span></span>

> | <span data-ttu-id="919b7-215">Fråga</span><span class="sxs-lookup"><span data-stu-id="919b7-215">Query</span></span> | <span data-ttu-id="919b7-216">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="919b7-216">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="919b7-217">Alla värden minneskonfigurationer</span><span class="sxs-lookup"><span data-stu-id="919b7-217">All host memory configurations</span></span> | <span data-ttu-id="919b7-218">Perf &#124; där ObjectName == ”kapacitet och prestanda” och CounterName == ”värd tilldelade minnes-MB” &#124; Sammanfatta MB = avg(CounterValue) av instansnamn</span><span class="sxs-lookup"><span data-stu-id="919b7-218">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "Host Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span></span> |
| <span data-ttu-id="919b7-219">Alla konfigurationer av Virtuellt minne</span><span class="sxs-lookup"><span data-stu-id="919b7-219">All VM memory configurations</span></span> | <span data-ttu-id="919b7-220">Perf &#124; där ObjectName == ”kapacitet och prestanda” och CounterName == ”VM tilldelade minnes-MB” &#124; Sammanfatta MB = avg(CounterValue) av instansnamn</span><span class="sxs-lookup"><span data-stu-id="919b7-220">Perf &#124; where ObjectName == "Capacity and Performance" and CounterName == "VM Assigned Memory MB" &#124; summarize MB = avg(CounterValue) by InstanceName</span></span> |
| <span data-ttu-id="919b7-221">Uppdelning av totala Disk-IOPS över alla virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="919b7-221">Breakdown of Total Disk IOPS across all VMs</span></span> | <span data-ttu-id="919b7-222">Perf &#124; där ObjectName == ”kapacitet och prestanda” och (CounterName == ”VHD Diskläsningar/s- eller CounterName ==” VHD skrivningar/s ”) &#124; Sammanfatta AggregatedValue = avg(CounterValue) av bin (TimeGenerated 1 tim), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="919b7-222">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Reads/s" or CounterName == "VHD Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="919b7-223">Uppdelning av totala Diskgenomflödet över alla virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="919b7-223">Breakdown of Total Disk Throughput across all VMs</span></span> | <span data-ttu-id="919b7-224">Perf &#124; där ObjectName == ”kapacitet och prestanda” och (CounterName == ”VHD läsa MB/s” eller CounterName == ”VHD Write MB/s”) &#124; Sammanfatta AggregatedValue = avg(CounterValue) av bin (TimeGenerated 1 tim), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="919b7-224">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "VHD Read MB/s" or CounterName == "VHD Write MB/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="919b7-225">Uppdelning av IOPS totalt över alla CSV: er</span><span class="sxs-lookup"><span data-stu-id="919b7-225">Breakdown of Total IOPS across all CSVs</span></span> | <span data-ttu-id="919b7-226">Perf &#124; där ObjectName == ”kapacitet och prestanda” och (CounterName == ”CSV Diskläsningar/s- eller CounterName ==” CSV skrivningar/s ”) &#124; Sammanfatta AggregatedValue = avg(CounterValue) av bin (TimeGenerated 1 tim), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="919b7-226">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="919b7-227">Uppdelning av totala genomflödet över alla CSV: er</span><span class="sxs-lookup"><span data-stu-id="919b7-227">Breakdown of Total Throughput across all CSVs</span></span> | <span data-ttu-id="919b7-228">Perf &#124; där ObjectName == ”kapacitet och prestanda” och (CounterName == ”CSV Diskläsningar/s- eller CounterName ==” CSV skrivningar/s ”) &#124; Sammanfatta AggregatedValue = avg(CounterValue) av bin (TimeGenerated 1 tim), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="919b7-228">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Reads/s" or CounterName == "CSV Writes/s") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |
| <span data-ttu-id="919b7-229">Uppdelning av totala svarstiden i alla CSV: er</span><span class="sxs-lookup"><span data-stu-id="919b7-229">Breakdown of Total Latency across all CSVs</span></span> | <span data-ttu-id="919b7-230">Perf &#124; där ObjectName == ”kapacitet och prestanda” och (CounterName == ”CSV Läs latens” eller CounterName == ”CSV Write latens”) &#124; Sammanfatta AggregatedValue = avg(CounterValue) av bin (TimeGenerated 1 tim), CounterName, InstanceName</span><span class="sxs-lookup"><span data-stu-id="919b7-230">Perf &#124; where ObjectName == "Capacity and Performance" and (CounterName == "CSV Read Latency" or CounterName == "CSV Write Latency") &#124; summarize AggregatedValue = avg(CounterValue) by bin(TimeGenerated, 1h), CounterName, InstanceName</span></span> |


## <a name="next-steps"></a><span data-ttu-id="919b7-231">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="919b7-231">Next steps</span></span>
* <span data-ttu-id="919b7-232">Använd [logga sökningar i logganalys](log-analytics-log-searches.md) att visa detaljerad information om kapacitet och prestanda.</span><span class="sxs-lookup"><span data-stu-id="919b7-232">Use [Log searches in Log Analytics](log-analytics-log-searches.md) to view detailed Capacity and Performance data.</span></span>
