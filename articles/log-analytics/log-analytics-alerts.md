---
title: "Förstå aviseringar i Azure Log Analytics | Microsoft Docs"
description: "Aviseringar i Log Analytics kan identifiera viktig information i OMS-databasen och proaktivt meddelar dig om problem eller anropa åtgärder om du vill försöka åtgärda.  Den här artikeln beskrivs de olika typerna av Varningsregler och hur de definieras."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: 6cfd2a46-b6a2-4f79-a67b-08ce488f9a91
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: bwren
ms.openlocfilehash: 951e76d3fb18d9e433b148e82d4d6cee9417ce6d
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/03/2017
---
# <a name="understanding-alerts-in-log-analytics"></a><span data-ttu-id="e8a98-104">Förstå aviseringar i logganalys</span><span class="sxs-lookup"><span data-stu-id="e8a98-104">Understanding alerts in Log Analytics</span></span>

<span data-ttu-id="e8a98-105">Aviseringar i Log Analytics identifiera viktig information i logganalys-databasen.</span><span class="sxs-lookup"><span data-stu-id="e8a98-105">Alerts in Log Analytics identify important information in your Log Analytics repository.</span></span>  <span data-ttu-id="e8a98-106">Den här artikeln innehåller information om hur Varningsregler i logganalys arbete och beskrivs skillnaderna mellan olika typer av Varningsregler.</span><span class="sxs-lookup"><span data-stu-id="e8a98-106">This article provides details of how alert rules in Log Analytics work and describes the differences between different types of alert rules.</span></span>

<span data-ttu-id="e8a98-107">Processen att skapa Varningsregler, finns i följande artiklar:</span><span class="sxs-lookup"><span data-stu-id="e8a98-107">For the process of creating alert rules, see the following articles:</span></span>

- <span data-ttu-id="e8a98-108">Skapa Varningsregler med [Azure-portalen](log-analytics-alerts-creating.md)</span><span class="sxs-lookup"><span data-stu-id="e8a98-108">Create alert rules using [Azure portal](log-analytics-alerts-creating.md)</span></span>
- <span data-ttu-id="e8a98-109">Skapa Varningsregler med [Resource Manager-mall](../operations-management-suite/operations-management-suite-solutions-resources-searches-alerts.md)</span><span class="sxs-lookup"><span data-stu-id="e8a98-109">Create alert rules using [Resource Manager template](../operations-management-suite/operations-management-suite-solutions-resources-searches-alerts.md)</span></span>
- <span data-ttu-id="e8a98-110">Skapa Varningsregler med [REST API](log-analytics-api-alerts.md)</span><span class="sxs-lookup"><span data-stu-id="e8a98-110">Create alert rules using [REST API](log-analytics-api-alerts.md)</span></span>


## <a name="alert-rules"></a><span data-ttu-id="e8a98-111">Aviseringsregler</span><span class="sxs-lookup"><span data-stu-id="e8a98-111">Alert rules</span></span>

<span data-ttu-id="e8a98-112">Aviseringar skapas med Varningsregler som automatiskt kör loggen söker regelbundet.</span><span class="sxs-lookup"><span data-stu-id="e8a98-112">Alerts are created by alert rules that automatically run log searches at regular intervals.</span></span>  <span data-ttu-id="e8a98-113">Om resultatet av loggen sökningen matchar särskilda skapas en avisering post.</span><span class="sxs-lookup"><span data-stu-id="e8a98-113">If the results of the log search match particular criteria then an alert record is created.</span></span>  <span data-ttu-id="e8a98-114">Regeln kan sedan automatiskt köra en eller flera åtgärder för att proaktivt meddelar dig om aviseringen eller anropa en annan process.</span><span class="sxs-lookup"><span data-stu-id="e8a98-114">The rule can then automatically run one or more actions to proactively notify you of the alert or invoke another process.</span></span>  <span data-ttu-id="e8a98-115">Olika typer av Varningsregler använda olika logik för att utföra den här analysen.</span><span class="sxs-lookup"><span data-stu-id="e8a98-115">Different types of alert rules use different logic to perform this analysis.</span></span>

![Log Analytics-aviseringar](media/log-analytics-alerts/overview.png)

<span data-ttu-id="e8a98-117">Varningsregler definieras av följande information:</span><span class="sxs-lookup"><span data-stu-id="e8a98-117">Alert Rules are defined by the following details:</span></span>

- <span data-ttu-id="e8a98-118">**Sök i loggfilen**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-118">**Log search**.</span></span>  <span data-ttu-id="e8a98-119">Den fråga som körs varje gång regeln utlöses.</span><span class="sxs-lookup"><span data-stu-id="e8a98-119">The query that runs every time the alert rule fires.</span></span>  <span data-ttu-id="e8a98-120">Poster som returneras av den här frågan används för att avgöra om en avisering skapas.</span><span class="sxs-lookup"><span data-stu-id="e8a98-120">The records returned by this query is used to determine whether an alert is created.</span></span>
- <span data-ttu-id="e8a98-121">**Tidsfönstret**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-121">**Time window**.</span></span>  <span data-ttu-id="e8a98-122">Anger tidsintervallet för frågan.</span><span class="sxs-lookup"><span data-stu-id="e8a98-122">Specifies the time range for the query.</span></span>  <span data-ttu-id="e8a98-123">Frågan returnerar bara de poster som har skapats i det här intervallet för den aktuella tiden.</span><span class="sxs-lookup"><span data-stu-id="e8a98-123">The query returns only records that were created within this range of the current time.</span></span>  <span data-ttu-id="e8a98-124">Detta kan vara ett värde mellan 5 minuter och 24 timmar.</span><span class="sxs-lookup"><span data-stu-id="e8a98-124">This can be any value between 5 minutes and 24 hours.</span></span> <span data-ttu-id="e8a98-125">Om frågan körs klockan 13:15 tidsfönstret har angetts till 60 minuter, returneras endast de poster som skapats mellan 12:15:00 och 1:15 i Återställningsmappen.</span><span class="sxs-lookup"><span data-stu-id="e8a98-125">For example, If the time window is set to 60 minutes, and the query is run at 1:15 PM, only records created between 12:15 PM and 1:15 PM is returned.</span></span>
- <span data-ttu-id="e8a98-126">**Frekvensen**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-126">**Frequency**.</span></span>  <span data-ttu-id="e8a98-127">Anger hur ofta frågan ska köras.</span><span class="sxs-lookup"><span data-stu-id="e8a98-127">Specifies how often the query should be run.</span></span> <span data-ttu-id="e8a98-128">Kan vara ett värde mellan 5 minuter och 24 timmar.</span><span class="sxs-lookup"><span data-stu-id="e8a98-128">Can be any value between 5 minutes and 24 hours.</span></span> <span data-ttu-id="e8a98-129">Måste vara lika med eller mindre än tidsperioden.</span><span class="sxs-lookup"><span data-stu-id="e8a98-129">Should be equal to or less than the time window.</span></span>  <span data-ttu-id="e8a98-130">Om värdet är större än tidsfönstret riskerar du poster som saknas.</span><span class="sxs-lookup"><span data-stu-id="e8a98-130">If the value is greater than the time window, then you risk records being missed.</span></span><br><span data-ttu-id="e8a98-131">Tänk dig ett tidsfönster på 30 minuter och en frekvens som 60 minuter.</span><span class="sxs-lookup"><span data-stu-id="e8a98-131">For example, consider a time window of 30 minutes and a frequency of 60 minutes.</span></span>  <span data-ttu-id="e8a98-132">Om frågan körs 1:00, returnerar poster mellan 12:30 och 1:00.</span><span class="sxs-lookup"><span data-stu-id="e8a98-132">If the query is run at 1:00, it returns records between 12:30 and 1:00 PM.</span></span>  <span data-ttu-id="e8a98-133">Nästa gång frågan körs är 2:00 när återgår den poster mellan 1:30 och 2:00.</span><span class="sxs-lookup"><span data-stu-id="e8a98-133">The next time the query would run is 2:00 when it would return records between 1:30 and 2:00.</span></span>  <span data-ttu-id="e8a98-134">Alla poster som skapats mellan 01:00 och 1:30 skulle aldrig utvärderas.</span><span class="sxs-lookup"><span data-stu-id="e8a98-134">Any records created between 1:00 and 1:30 would never be evaluated.</span></span>
- <span data-ttu-id="e8a98-135">**Tröskelvärde för**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-135">**Threshold**.</span></span>  <span data-ttu-id="e8a98-136">Resultaten av loggen sökningen utvärderas för att avgöra om en avisering ska skapas.</span><span class="sxs-lookup"><span data-stu-id="e8a98-136">The results of the log search are evaluated to determine whether an alert should be created.</span></span>  <span data-ttu-id="e8a98-137">Tröskelvärdet är olika för olika typer av Varningsregler.</span><span class="sxs-lookup"><span data-stu-id="e8a98-137">The threshold is different for the different types of alert rules.</span></span>

<span data-ttu-id="e8a98-138">Varje avisering regel i Log Analytics är en av två typer.</span><span class="sxs-lookup"><span data-stu-id="e8a98-138">Each alert rule in Log Analytics is one of two types.</span></span>  <span data-ttu-id="e8a98-139">De olika typerna beskrivs i detalj i avsnitten som följer.</span><span class="sxs-lookup"><span data-stu-id="e8a98-139">Each of these types is described in detail in the sections that follow.</span></span>

- <span data-ttu-id="e8a98-140">**[Antalet resultat](#number-of-results-alert-rules)**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-140">**[Number of results](#number-of-results-alert-rules)**.</span></span> <span data-ttu-id="e8a98-141">Avisering skapas när antalet poster som returneras av loggen sökningen överskrider ett angivet tal.</span><span class="sxs-lookup"><span data-stu-id="e8a98-141">Single alert created when the number records returned by the log search exceed a specified number.</span></span>
- <span data-ttu-id="e8a98-142">**[Mått mätning](#metric-measurement-alert-rules)**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-142">**[Metric measurement](#metric-measurement-alert-rules)**.</span></span>  <span data-ttu-id="e8a98-143">Avisering som skapas för varje objekt i resultaten av loggen sökning med värden som överskrider angiven tröskel.</span><span class="sxs-lookup"><span data-stu-id="e8a98-143">Alert created for each object in the results of the log search with values that exceed specified threshold.</span></span>

<span data-ttu-id="e8a98-144">Skillnaderna mellan varningsregeln typer är som följer.</span><span class="sxs-lookup"><span data-stu-id="e8a98-144">The differences between alert rule types are as follows.</span></span>

- <span data-ttu-id="e8a98-145">**Antalet resultat** varningsregeln skapas alltid en enda avisering stund **mått mätning** varningsregeln skapar en avisering för varje objekt som överstiger tröskelvärdet.</span><span class="sxs-lookup"><span data-stu-id="e8a98-145">**Number of results** alert rule will always create a single alert while **Metric measurement** alert rule creates an alert for each object that exceeds the threshold.</span></span>
- <span data-ttu-id="e8a98-146">**Antalet resultat** Varningsregler skapar en avisering när tröskelvärdet överskrids en gång.</span><span class="sxs-lookup"><span data-stu-id="e8a98-146">**Number of results** alert rules create an alert when the threshold is exceeded a single time.</span></span> <span data-ttu-id="e8a98-147">**Mått mätning** Varningsregler kan skapa en avisering när tröskelvärdet överskrids ett visst antal gånger under ett visst tidsintervall.</span><span class="sxs-lookup"><span data-stu-id="e8a98-147">**Metric measurement** alert rules can create an alert when the threshold is exceeded a certain number of times over a particular time interval.</span></span>

## <a name="number-of-results-alert-rules"></a><span data-ttu-id="e8a98-148">Antalet resultat Varningsregler</span><span class="sxs-lookup"><span data-stu-id="e8a98-148">Number of results alert rules</span></span>
<span data-ttu-id="e8a98-149">**Antalet resultat** Varningsregler skapar en avisering när antalet poster som returneras av frågan överskrider det angivna tröskelvärdet.</span><span class="sxs-lookup"><span data-stu-id="e8a98-149">**Number of results** alert rules create a single alert when the number of records returned by the search query exceed the specified threshold.</span></span>

### <a name="threshold"></a><span data-ttu-id="e8a98-150">Tröskelvärde</span><span class="sxs-lookup"><span data-stu-id="e8a98-150">Threshold</span></span>
<span data-ttu-id="e8a98-151">Tröskelvärdet för en **antalet resultat** varningsregeln är helt enkelt större eller mindre än ett visst värde.</span><span class="sxs-lookup"><span data-stu-id="e8a98-151">The threshold for a **Number of results** alert rule is simply greater than or less than a particular value.</span></span>  <span data-ttu-id="e8a98-152">Om antalet poster som returneras av loggen sökningen matchar det här villkoret, skapas en avisering.</span><span class="sxs-lookup"><span data-stu-id="e8a98-152">If the number of records returned by the log search match this criteria, then an alert is created.</span></span>

### <a name="scenarios"></a><span data-ttu-id="e8a98-153">Scenarier</span><span class="sxs-lookup"><span data-stu-id="e8a98-153">Scenarios</span></span>

#### <a name="events"></a><span data-ttu-id="e8a98-154">Händelser</span><span class="sxs-lookup"><span data-stu-id="e8a98-154">Events</span></span>
<span data-ttu-id="e8a98-155">Den här typen av regel för varning är idealisk för att arbeta med händelser, t.ex Windows-händelseloggar Syslog, och anpassade loggar.</span><span class="sxs-lookup"><span data-stu-id="e8a98-155">This type of alert rule is ideal for working with events such as Windows event logs, Syslog, and Custom logs.</span></span>  <span data-ttu-id="e8a98-156">Du kanske vill skapa en avisering när en viss felhändelse skapas eller när flera felhändelser skapas inom ett visst tidsintervall.</span><span class="sxs-lookup"><span data-stu-id="e8a98-156">You may want to create an alert when a particular error event gets created, or when multiple error events are created within a particular time window.</span></span>

<span data-ttu-id="e8a98-157">Ange antalet resultat för att Avisera om en enskild händelse med större än 0 och både frekvens och tid till 5 minuter.</span><span class="sxs-lookup"><span data-stu-id="e8a98-157">To alert on a single event, set the number of results to greater than 0 and both the frequency and time window to 5 minutes.</span></span>  <span data-ttu-id="e8a98-158">Som kör frågan var 5 minuter och Sök efter en enskild händelse som har skapats sedan den senaste gången frågan kördes.</span><span class="sxs-lookup"><span data-stu-id="e8a98-158">That runs the query every 5 minutes and check for the occurrence of a single event that was created since the last time the query was run.</span></span>  <span data-ttu-id="e8a98-159">En längre frekvens kan fördröja tiden mellan händelser som samlas in och den avisering som skapas.</span><span class="sxs-lookup"><span data-stu-id="e8a98-159">A longer frequency may delay the time between the event being collected and the alert being created.</span></span>

<span data-ttu-id="e8a98-160">Vissa program får logga in ett tillfälligt fel som inte nödvändigtvis rera en avisering.</span><span class="sxs-lookup"><span data-stu-id="e8a98-160">Some applications may log an occasional error that shouldn't necessarily raise an alert.</span></span>  <span data-ttu-id="e8a98-161">Programmet kan till exempel gör processen som skapade felhändelsen och lyckas nästa gång.</span><span class="sxs-lookup"><span data-stu-id="e8a98-161">For example, the application may retry the process that created the error event and then succeed the next time.</span></span>  <span data-ttu-id="e8a98-162">I det här fallet kan du inte vill skapa en avisering om flera händelser skapas inom ett visst tidsintervall.</span><span class="sxs-lookup"><span data-stu-id="e8a98-162">In this case, you may not want to create the alert unless multiple events are created within a particular time window.</span></span>  

<span data-ttu-id="e8a98-163">I vissa fall kanske du vill skapa en avisering om en händelse.</span><span class="sxs-lookup"><span data-stu-id="e8a98-163">In some cases, you may want to create an alert in the absence of an event.</span></span>  <span data-ttu-id="e8a98-164">En process kan till exempel logga regelbundna händelser som indikerar att den fungerar korrekt.</span><span class="sxs-lookup"><span data-stu-id="e8a98-164">For example, a process may log regular events to indicate that it's working properly.</span></span>  <span data-ttu-id="e8a98-165">Om det inte logga en av dessa händelser inom ett visst tidsintervall, ska en avisering skapas.</span><span class="sxs-lookup"><span data-stu-id="e8a98-165">If it doesn't log one of these events within a particular time window, then an alert should be created.</span></span>  <span data-ttu-id="e8a98-166">I det här fallet kan du ange ett tröskelvärde **mindre än 1**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-166">In this case you would set the threshold to **less than 1**.</span></span>

#### <a name="performance-alerts"></a><span data-ttu-id="e8a98-167">Prestandavarningar</span><span class="sxs-lookup"><span data-stu-id="e8a98-167">Performance alerts</span></span>
<span data-ttu-id="e8a98-168">[Prestandadata](log-analytics-data-sources-performance-counters.md) lagras som poster i databasen OMS liknande händelser.</span><span class="sxs-lookup"><span data-stu-id="e8a98-168">[Performance data](log-analytics-data-sources-performance-counters.md) is stored as records in the OMS repository similar to events.</span></span>  <span data-ttu-id="e8a98-169">Om du vill Varna när en prestandaräknare överskrider ett visst tröskelvärde ska gränsen tas med i frågan.</span><span class="sxs-lookup"><span data-stu-id="e8a98-169">If you want to alert when a performance counter exceeds a particular threshold, then that threshold should be included in the query.</span></span>

<span data-ttu-id="e8a98-170">Om du vill Varna när processorn körs exempelvis över 90%, använder du en fråga som följande med tröskelvärdet för varningsregeln **större än 0**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-170">For example, if you wanted to alert when the processor runs over 90%, you would use a query like the following with the threshold for the alert rule **greater than 0**.</span></span>

    Type=Perf ObjectName=Processor CounterName="% Processor Time" CounterValue>90

<span data-ttu-id="e8a98-171">Om du vill meddela när processorn var i genomsnitt över 90% för ett visst tidsintervall du vill använda en fråga med hjälp av den [mäta kommandot](log-analytics-search-reference.md#commands) följande med tröskelvärdet för varningsregeln **större än 0**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-171">If you wanted to alert when the processor averaged over 90% for a particular time window, you would use a query using the [measure command](log-analytics-search-reference.md#commands) like the following with the threshold for the alert rule **greater than 0**.</span></span>

    Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer | where AggregatedValue>90

>[!NOTE]
> <span data-ttu-id="e8a98-172">Om ditt arbetsområde har uppgraderats till den [nya Log Analytics-frågespråket](log-analytics-log-search-upgrade.md), sedan senare frågorna skulle ändra till följande:`Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" and CounterValue>90`
> `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" | summarize avg(CounterValue) by Computer | where CounterValue>90`</span><span class="sxs-lookup"><span data-stu-id="e8a98-172">If your workspace has been upgraded to the [new Log Analytics query language](log-analytics-log-search-upgrade.md), then the above queries would change to the following: `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" and CounterValue>90`
> `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" | summarize avg(CounterValue) by Computer | where CounterValue>90`</span></span>


## <a name="metric-measurement-alert-rules"></a><span data-ttu-id="e8a98-173">Mått mätning Varningsregler</span><span class="sxs-lookup"><span data-stu-id="e8a98-173">Metric measurement alert rules</span></span>

>[!NOTE]
> <span data-ttu-id="e8a98-174">Mått mätning Varningsregler är för närvarande i förhandsversion.</span><span class="sxs-lookup"><span data-stu-id="e8a98-174">Metric measurement alert rules are currently in public preview.</span></span>

<span data-ttu-id="e8a98-175">**Mått mätning** Varningsregler skapar en avisering för varje objekt i en fråga med ett värde som överskrider ett angivet tröskelvärde.</span><span class="sxs-lookup"><span data-stu-id="e8a98-175">**Metric measurement** alert rules create an alert for each object in a query with a value that exceeds a specified threshold.</span></span>  <span data-ttu-id="e8a98-176">De har olika följande skillnader från **antalet resultat** Varna regler.</span><span class="sxs-lookup"><span data-stu-id="e8a98-176">They have the following distinct differences from **Number of results** alert rules.</span></span>

#### <a name="log-search"></a><span data-ttu-id="e8a98-177">Loggsökning</span><span class="sxs-lookup"><span data-stu-id="e8a98-177">Log search</span></span>
<span data-ttu-id="e8a98-178">Du kan använda en fråga för en **antalet resultat** avisering regel att det finns särskilda krav frågan för ett mått mätning varningsregel.</span><span class="sxs-lookup"><span data-stu-id="e8a98-178">While you can use any query for a **Number of results** alert rule, there are specific requirements the query for a metric measurement alert rule.</span></span>  <span data-ttu-id="e8a98-179">Det måste innehålla en [mäta kommandot](log-analytics-search-reference.md#commands) gruppering av resultaten på ett visst fält.</span><span class="sxs-lookup"><span data-stu-id="e8a98-179">It must include a [Measure command](log-analytics-search-reference.md#commands) to group the results on a particular field.</span></span> <span data-ttu-id="e8a98-180">Det här kommandot måste innehålla följande element.</span><span class="sxs-lookup"><span data-stu-id="e8a98-180">This command must include the following elements.</span></span>

- <span data-ttu-id="e8a98-181">**Mängdfunktion**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-181">**Aggregate function**.</span></span>  <span data-ttu-id="e8a98-182">Anger beräkningen som utförs och kan vara ett numeriskt fält ska aggregeras.</span><span class="sxs-lookup"><span data-stu-id="e8a98-182">Determines the calculation that is performed and potentially a numeric field to aggregate.</span></span>  <span data-ttu-id="e8a98-183">Till exempel **count()** returnerar antalet poster i frågan, **avg(CounterValue)** Returnerar medelvärdet för fältet CounterValue under period.</span><span class="sxs-lookup"><span data-stu-id="e8a98-183">For example, **count()** will return the number of records in the query, **avg(CounterValue)** will return the average of the CounterValue field over the interval.</span></span>
- <span data-ttu-id="e8a98-184">**Gruppera fältet**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-184">**Group Field**.</span></span>  <span data-ttu-id="e8a98-185">En post med ett insamlat värde skapas för varje instans av det här fältet och en avisering genereras för varje.</span><span class="sxs-lookup"><span data-stu-id="e8a98-185">A record with an aggregated value is created for each instance of this field, and an alert can be generated for each.</span></span>  <span data-ttu-id="e8a98-186">Till exempel om du vill generera en avisering för varje dator du vill använda **per dator**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-186">For example, if you wanted to generate an alert for each computer, you would use **by Computer**.</span></span>   
- <span data-ttu-id="e8a98-187">**Intervallet**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-187">**Interval**.</span></span>  <span data-ttu-id="e8a98-188">Definierar det tidsintervall under vilken data sammanställs.</span><span class="sxs-lookup"><span data-stu-id="e8a98-188">Defines the time interval over which the data is aggregated.</span></span>  <span data-ttu-id="e8a98-189">Till exempel om du har angett **5minutes**, skapas en post för varje instans av fältet samman på 5 minuters intervall under tidsfönster som angetts för aviseringen.</span><span class="sxs-lookup"><span data-stu-id="e8a98-189">For example, if you specified **5minutes**, a record would be created for each instance of the group field aggregated at 5 minute intervals over the time window specified for the alert.</span></span>

#### <a name="threshold"></a><span data-ttu-id="e8a98-190">Tröskelvärde</span><span class="sxs-lookup"><span data-stu-id="e8a98-190">Threshold</span></span>
<span data-ttu-id="e8a98-191">Tröskelvärdet för mått mätning Varningsregler definieras av ett samlat värde och ett antal intrång.</span><span class="sxs-lookup"><span data-stu-id="e8a98-191">The threshold for Metric measurement alert rules is defined by an aggregate value and a number of breaches.</span></span>  <span data-ttu-id="e8a98-192">Om varje datapunkt i loggen sökningen överskrider detta värde, anses det har ett intrång.</span><span class="sxs-lookup"><span data-stu-id="e8a98-192">If any data point in the log search exceeds this value, it's considered a breach.</span></span>  <span data-ttu-id="e8a98-193">Om antalet överträdelser i för alla objekt i resultaten överskrider det angivna värdet, skapas en avisering för objektet.</span><span class="sxs-lookup"><span data-stu-id="e8a98-193">If the number of breaches in for any object in the results exceeds the specified value, then an alert is created for that object.</span></span>

#### <a name="example"></a><span data-ttu-id="e8a98-194">Exempel</span><span class="sxs-lookup"><span data-stu-id="e8a98-194">Example</span></span>
<span data-ttu-id="e8a98-195">Föreställ dig ett scenario där du vill lägga till en avisering om alla datorer överskrids processoranvändning 90% tre gånger under 30 minuter.</span><span class="sxs-lookup"><span data-stu-id="e8a98-195">Consider a scenario where you wanted an alert if any computer exceeded processor utilization of 90% three times over 30 minutes.</span></span>  <span data-ttu-id="e8a98-196">Du skapar en aviseringsregel med följande uppgifter.</span><span class="sxs-lookup"><span data-stu-id="e8a98-196">You would create an alert rule with the following details.</span></span>  

<span data-ttu-id="e8a98-197">**Fråga:** typ = Perf ObjectName = Processor CounterName = ”% processortid” | mäta avg(CounterValue) datorn intervall 5 minut</span><span class="sxs-lookup"><span data-stu-id="e8a98-197">**Query:** Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer Interval 5minute</span></span><br><span data-ttu-id="e8a98-198">
**Tidsfönstret:** 30 minuter</span><span class="sxs-lookup"><span data-stu-id="e8a98-198">
**Time window:** 30 minutes</span></span><br><span data-ttu-id="e8a98-199">
**Varna frekvens:** 5 minuter</span><span class="sxs-lookup"><span data-stu-id="e8a98-199">
**Alert frequency:** 5 minutes</span></span><br><span data-ttu-id="e8a98-200">
**Aggregera värde:** bra än 90</span><span class="sxs-lookup"><span data-stu-id="e8a98-200">
**Aggregate value:** Great than 90</span></span><br><span data-ttu-id="e8a98-201">
**Utlösaren avisering baserat på:** totalt överträdelser som är större än 5</span><span class="sxs-lookup"><span data-stu-id="e8a98-201">
**Trigger alert based on:** Total breaches Greater than 5</span></span><br>

<span data-ttu-id="e8a98-202">Frågan skulle skapa ett genomsnittligt värde för varje dator vid 5 minuters mellanrum.</span><span class="sxs-lookup"><span data-stu-id="e8a98-202">The query would create an average value for each computer at 5 minute intervals.</span></span>  <span data-ttu-id="e8a98-203">Den här frågan skulle köras var femte minut för data som samlas in under de föregående 30 minuterna.</span><span class="sxs-lookup"><span data-stu-id="e8a98-203">This query would be run every 5 minutes for data collected over the previous 30 minutes.</span></span>  <span data-ttu-id="e8a98-204">Exempeldata visas nedan för tre datorer.</span><span class="sxs-lookup"><span data-stu-id="e8a98-204">Sample data is shown below for three computers.</span></span>

![Exempel frågeresultat](media/log-analytics-alerts/metrics-measurement-sample-graph.png)

<span data-ttu-id="e8a98-206">I det här exemplet skulle separata aviseringar skapas för srv02 och srv03 eftersom de utsatts för intrång tröskelvärdet 90% 3 gånger under tidsperioden.</span><span class="sxs-lookup"><span data-stu-id="e8a98-206">In this example, separate alerts would be created for srv02 and srv03 since they breached the 90% threshold 3 times over the time window.</span></span>  <span data-ttu-id="e8a98-207">Om den **utlösaren avisering baserat på:** ändrades till **sidordning** sedan en avisering skapas endast för srv03 eftersom den utsatts för intrång tröskelvärdet för 3 beräkningar i följd.</span><span class="sxs-lookup"><span data-stu-id="e8a98-207">If the **Trigger alert based on:** were changed to **Consecutive** then an alert would be created only for srv03 since it breached the threshold for 3 consecutive samples.</span></span>

## <a name="alert-records"></a><span data-ttu-id="e8a98-208">Varning-poster</span><span class="sxs-lookup"><span data-stu-id="e8a98-208">Alert records</span></span>
<span data-ttu-id="e8a98-209">Aviseringen poster som skapats av Varningsregler i logganalys har en **typen** av **avisering** och en **SourceSystem** av **OMS**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-209">Alert records created by alert rules in Log Analytics have a **Type** of **Alert** and a **SourceSystem** of **OMS**.</span></span>  <span data-ttu-id="e8a98-210">De har egenskaperna i följande tabell.</span><span class="sxs-lookup"><span data-stu-id="e8a98-210">They have the properties in the following table.</span></span>

| <span data-ttu-id="e8a98-211">Egenskap</span><span class="sxs-lookup"><span data-stu-id="e8a98-211">Property</span></span> | <span data-ttu-id="e8a98-212">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="e8a98-212">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="e8a98-213">Typ</span><span class="sxs-lookup"><span data-stu-id="e8a98-213">Type</span></span> |<span data-ttu-id="e8a98-214">*Varning*</span><span class="sxs-lookup"><span data-stu-id="e8a98-214">*Alert*</span></span> |
| <span data-ttu-id="e8a98-215">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="e8a98-215">SourceSystem</span></span> |<span data-ttu-id="e8a98-216">*OMS*</span><span class="sxs-lookup"><span data-stu-id="e8a98-216">*OMS*</span></span> |
| <span data-ttu-id="e8a98-217">*Objektet*</span><span class="sxs-lookup"><span data-stu-id="e8a98-217">*Object*</span></span>  | <span data-ttu-id="e8a98-218">[Aviseringar för mått mätning](#metric-measurement-alert-rules) har en egenskap för fältet.</span><span class="sxs-lookup"><span data-stu-id="e8a98-218">[Metric measurement alerts](#metric-measurement-alert-rules) will have a property for the group field.</span></span>  <span data-ttu-id="e8a98-219">Till exempel om loggen sökningen grupper på datorn, varning posten med ha datorn innehåller inget fält med namnet på datorn som värde.</span><span class="sxs-lookup"><span data-stu-id="e8a98-219">For example, if the log search groups on Computer, the alert record with have a Computer field with the name of the computer as the value.</span></span>
| <span data-ttu-id="e8a98-220">AlertName</span><span class="sxs-lookup"><span data-stu-id="e8a98-220">AlertName</span></span> |<span data-ttu-id="e8a98-221">Namnet på aviseringen.</span><span class="sxs-lookup"><span data-stu-id="e8a98-221">Name of the alert.</span></span> |
| <span data-ttu-id="e8a98-222">AlertSeverity</span><span class="sxs-lookup"><span data-stu-id="e8a98-222">AlertSeverity</span></span> |<span data-ttu-id="e8a98-223">Allvarlighetsgrad för aviseringen.</span><span class="sxs-lookup"><span data-stu-id="e8a98-223">Severity level of the alert.</span></span> |
| <span data-ttu-id="e8a98-224">LinkToSearchResults</span><span class="sxs-lookup"><span data-stu-id="e8a98-224">LinkToSearchResults</span></span> |<span data-ttu-id="e8a98-225">Länka till logganalys loggen sökning som returnerar poster från frågan som skapade aviseringen.</span><span class="sxs-lookup"><span data-stu-id="e8a98-225">Link to Log Analytics log search that returns the records from the query that created the alert.</span></span> |
| <span data-ttu-id="e8a98-226">Fråga</span><span class="sxs-lookup"><span data-stu-id="e8a98-226">Query</span></span> |<span data-ttu-id="e8a98-227">Texten för frågan kördes.</span><span class="sxs-lookup"><span data-stu-id="e8a98-227">Text of the query that was run.</span></span> |
| <span data-ttu-id="e8a98-228">QueryExecutionEndTime</span><span class="sxs-lookup"><span data-stu-id="e8a98-228">QueryExecutionEndTime</span></span> |<span data-ttu-id="e8a98-229">Slutet på tidsintervallet för frågan.</span><span class="sxs-lookup"><span data-stu-id="e8a98-229">End of the time range for the query.</span></span> |
| <span data-ttu-id="e8a98-230">QueryExecutionStartTime</span><span class="sxs-lookup"><span data-stu-id="e8a98-230">QueryExecutionStartTime</span></span> |<span data-ttu-id="e8a98-231">Början av tidsintervallet för frågan.</span><span class="sxs-lookup"><span data-stu-id="e8a98-231">Start of the time range for the query.</span></span> |
| <span data-ttu-id="e8a98-232">ThresholdOperator</span><span class="sxs-lookup"><span data-stu-id="e8a98-232">ThresholdOperator</span></span> | <span data-ttu-id="e8a98-233">Operator som användes av regeln.</span><span class="sxs-lookup"><span data-stu-id="e8a98-233">Operator that was used by the alert rule.</span></span> |
| <span data-ttu-id="e8a98-234">ThresholdValue</span><span class="sxs-lookup"><span data-stu-id="e8a98-234">ThresholdValue</span></span> | <span data-ttu-id="e8a98-235">Värdet som användes av regeln.</span><span class="sxs-lookup"><span data-stu-id="e8a98-235">Value that was used by the alert rule.</span></span> |
| <span data-ttu-id="e8a98-236">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="e8a98-236">TimeGenerated</span></span> |<span data-ttu-id="e8a98-237">Datum och tid då aviseringen skapades.</span><span class="sxs-lookup"><span data-stu-id="e8a98-237">Date and time the alert was created.</span></span> |

<span data-ttu-id="e8a98-238">Det finns andra typer av aviseringar poster som skapats av den [lösning för avisering](log-analytics-solution-alert-management.md) och av [Power BI exporterar](log-analytics-powerbi.md).</span><span class="sxs-lookup"><span data-stu-id="e8a98-238">There are other kinds of alert records created by the [Alert Management solution](log-analytics-solution-alert-management.md) and by [Power BI exports](log-analytics-powerbi.md).</span></span>  <span data-ttu-id="e8a98-239">Dessa alla har en **typen** av **avisering** men särskiljs från varandra med deras **SourceSystem**.</span><span class="sxs-lookup"><span data-stu-id="e8a98-239">These all have a **Type** of **Alert** but are distinguished by their **SourceSystem**.</span></span>


## <a name="next-steps"></a><span data-ttu-id="e8a98-240">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="e8a98-240">Next steps</span></span>
* <span data-ttu-id="e8a98-241">Installera den [avisering hanteringslösning](log-analytics-solution-alert-management.md) att analysera aviseringar som skapats i logganalys tillsammans med aviseringar som samlas in från System Center Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="e8a98-241">Install the [Alert Management solution](log-analytics-solution-alert-management.md) to analyze alerts created in Log Analytics along with alerts collected from System Center Operations Manager.</span></span>
* <span data-ttu-id="e8a98-242">Läs mer om [logga sökningar](log-analytics-log-searches.md) som kan generera aviseringar.</span><span class="sxs-lookup"><span data-stu-id="e8a98-242">Read more about [log searches](log-analytics-log-searches.md) that can generate alerts.</span></span>
* <span data-ttu-id="e8a98-243">Slutföra en genomgång för [konfigurerar en webook](log-analytics-alerts-webhooks.md) med en aviseringsregel.</span><span class="sxs-lookup"><span data-stu-id="e8a98-243">Complete a walkthrough for [configuring a webook](log-analytics-alerts-webhooks.md) with an alert rule.</span></span>  
* <span data-ttu-id="e8a98-244">Lär dig hur du skriver [runbooks i Azure Automation](https://azure.microsoft.com/documentation/services/automation) att åtgärda problem som identifieras av aviseringar.</span><span class="sxs-lookup"><span data-stu-id="e8a98-244">Learn how to write [runbooks in Azure Automation](https://azure.microsoft.com/documentation/services/automation) to remediate problems identified by alerts.</span></span>
