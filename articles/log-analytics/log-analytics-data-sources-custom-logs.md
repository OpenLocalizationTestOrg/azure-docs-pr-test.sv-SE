---
title: aaaCollect anpassade loggar i OMS Log Analytics | Microsoft Docs
description: "Logganalys kan samla in händelser från textfiler på Windows- och Linux-datorer.  Den här artikeln beskriver hur toodefine en ny anpassad logg och information om hello poster skapas i hello OMS-databasen."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: aca7f6bb-6f53-4fd4-a45c-93f12ead4ae1
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/15/2017
ms.author: bwren
ms.openlocfilehash: a75d058c371fecf7c43690a797d4e650c1570317
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="custom-logs-in-log-analytics"></a><span data-ttu-id="2dba6-104">Anpassade loggar i logganalys</span><span class="sxs-lookup"><span data-stu-id="2dba6-104">Custom logs in Log Analytics</span></span>
<span data-ttu-id="2dba6-105">datakälla för hello anpassade loggar i logganalys kan toocollect händelser från textfiler på Windows- och Linux-datorer.</span><span class="sxs-lookup"><span data-stu-id="2dba6-105">hello Custom Logs data source in Log Analytics allows you toocollect events from text files on both Windows and Linux computers.</span></span> <span data-ttu-id="2dba6-106">Många program loggar information tootext filer i stället för standardtjänster loggning, till exempel Windows-händelseloggen eller Syslog.</span><span class="sxs-lookup"><span data-stu-id="2dba6-106">Many applications log information tootext files instead of standard logging services such as Windows Event log or Syslog.</span></span>  <span data-ttu-id="2dba6-107">När samlas in, analyserar du varje post i loggen för hello i tooindividual fält med hello [anpassade fält](log-analytics-custom-fields.md) funktion i logganalys.</span><span class="sxs-lookup"><span data-stu-id="2dba6-107">Once collected, you can parse each record in hello log in tooindividual fields using hello [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span></span>

![Anpassade Logginsamling](media/log-analytics-data-sources-custom-logs/overview.png)

<span data-ttu-id="2dba6-109">hello loggen filer toobe samlas in måste matcha hello följande villkor.</span><span class="sxs-lookup"><span data-stu-id="2dba6-109">hello log files toobe collected must match hello following criteria.</span></span>

- <span data-ttu-id="2dba6-110">hello logg måste antingen ha en enda post per rad eller använda en tidsstämpel som matchar en av följande hello formaterar hello början av varje post.</span><span class="sxs-lookup"><span data-stu-id="2dba6-110">hello log must either have a single entry per line or use a timestamp matching one of hello following formats at hello start of each entry.</span></span>

    <span data-ttu-id="2dba6-111">ÅÅÅÅ-MM-DD: MM: SS</span><span class="sxs-lookup"><span data-stu-id="2dba6-111">YYYY-MM-DD HH:MM:SS</span></span><br><span data-ttu-id="2dba6-112">M/D/ÅÅÅÅ HH: MM: SS TID</span><span class="sxs-lookup"><span data-stu-id="2dba6-112">M/D/YYYY HH:MM:SS AM/PM</span></span> <br><span data-ttu-id="2dba6-113">MON DD, YYYY: mm: ss</span><span class="sxs-lookup"><span data-stu-id="2dba6-113">Mon DD,YYYY HH:MM:SS</span></span>

- <span data-ttu-id="2dba6-114">hello loggfil får inte tillåta cirkulär uppdateringar där hello filen skrivs över med nya poster.</span><span class="sxs-lookup"><span data-stu-id="2dba6-114">hello log file must not allow circular updates where hello file is overwritten with new entries.</span></span>
- <span data-ttu-id="2dba6-115">hello loggfilen måste använda ASCII- eller UTF-8-kodning.</span><span class="sxs-lookup"><span data-stu-id="2dba6-115">hello log file must use ASCII or UTF-8 encoding.</span></span>  <span data-ttu-id="2dba6-116">Andra format, till exempel UTF-16 stöds inte.</span><span class="sxs-lookup"><span data-stu-id="2dba6-116">Other formats such as UTF-16 are not supported.</span></span>

>[!NOTE]
><span data-ttu-id="2dba6-117">Om det finns dubblettvärden i hello loggfil, logganalys samlar in dem.</span><span class="sxs-lookup"><span data-stu-id="2dba6-117">If there are duplicate entries in hello log file, Log Analytics will collect them.</span></span>  <span data-ttu-id="2dba6-118">Hello sökresultat kommer dock att inkonsekvent där hello filterresultaten visa fler händelser än hello resultatantal.</span><span class="sxs-lookup"><span data-stu-id="2dba6-118">However, hello search results will be inconsistent where hello filter results show more events than hello result count.</span></span>  <span data-ttu-id="2dba6-119">Kommer att vara viktigt att du validera hello loggen toodetermine om hello-program som skapar den orsakar problemet och åtgärda om möjligt innan du skapar hello anpassad logg samling definition.</span><span class="sxs-lookup"><span data-stu-id="2dba6-119">It will be important that you validate hello log toodetermine if hello application that creates it is causing this behavior and address it if possible before creating hello custom log collection definition.</span></span>  
>
  
## <a name="defining-a-custom-log"></a><span data-ttu-id="2dba6-120">Definiera en anpassad logg</span><span class="sxs-lookup"><span data-stu-id="2dba6-120">Defining a custom log</span></span>
<span data-ttu-id="2dba6-121">Använd hello följa proceduren toodefine en anpassad loggfil.</span><span class="sxs-lookup"><span data-stu-id="2dba6-121">Use hello following procedure toodefine a custom log file.</span></span>  <span data-ttu-id="2dba6-122">Rulla toohello slutet av artikeln en genomgång av ett prov för att lägga till en anpassad logg.</span><span class="sxs-lookup"><span data-stu-id="2dba6-122">Scroll toohello end of this article for a walkthrough of a sample of adding a custom log.</span></span>

### <a name="step-1-open-hello-custom-log-wizard"></a><span data-ttu-id="2dba6-123">Steg 1.</span><span class="sxs-lookup"><span data-stu-id="2dba6-123">Step 1.</span></span> <span data-ttu-id="2dba6-124">Öppna hello anpassad logg guide</span><span class="sxs-lookup"><span data-stu-id="2dba6-124">Open hello Custom Log Wizard</span></span>
<span data-ttu-id="2dba6-125">hello logg guide körs i hello OMS-portalen och kan du toodefine toocollect för en ny anpassad logg.</span><span class="sxs-lookup"><span data-stu-id="2dba6-125">hello Custom Log Wizard runs in hello OMS portal and allows you toodefine a new custom log toocollect.</span></span>

1. <span data-ttu-id="2dba6-126">I hello OMS-portalen, går för**inställningar**.</span><span class="sxs-lookup"><span data-stu-id="2dba6-126">In hello OMS portal, go too**Settings**.</span></span>
2. <span data-ttu-id="2dba6-127">Klicka på **Data** och sedan **anpassade loggar**.</span><span class="sxs-lookup"><span data-stu-id="2dba6-127">Click on **Data** and then **Custom logs**.</span></span>
3. <span data-ttu-id="2dba6-128">Som standard är alla konfigurationsändringar automatiskt pushas tooall agenter.</span><span class="sxs-lookup"><span data-stu-id="2dba6-128">By default, all configuration changes are automatically pushed tooall agents.</span></span>  <span data-ttu-id="2dba6-129">Linux-agenter skickas en konfigurationsfil toohello Fluentd datainsamlaren.</span><span class="sxs-lookup"><span data-stu-id="2dba6-129">For Linux agents, a configuration file is sent toohello Fluentd data collector.</span></span>  <span data-ttu-id="2dba6-130">Om du inte vill toomodify den här filen manuellt på varje Linux-agent, avmarkerar du kryssrutan hello *tillämpa konfigurationen toomy Linux-datorerna nedan*.</span><span class="sxs-lookup"><span data-stu-id="2dba6-130">If you wish toomodify this file manually on each Linux agent, then uncheck hello box *Apply below configuration toomy Linux machines*.</span></span>
4. <span data-ttu-id="2dba6-131">Klicka på **Lägg till +** tooopen hello guiden för anpassad logg.</span><span class="sxs-lookup"><span data-stu-id="2dba6-131">Click **Add+** tooopen hello Custom Log Wizard.</span></span>

### <a name="step-2-upload-and-parse-a-sample-log"></a><span data-ttu-id="2dba6-132">Steg 2.</span><span class="sxs-lookup"><span data-stu-id="2dba6-132">Step 2.</span></span> <span data-ttu-id="2dba6-133">Överföra och parsa en exempellogg</span><span class="sxs-lookup"><span data-stu-id="2dba6-133">Upload and parse a sample log</span></span>
<span data-ttu-id="2dba6-134">Börja med att ladda upp ett exempel på hello anpassad logg.</span><span class="sxs-lookup"><span data-stu-id="2dba6-134">You start by uploading a sample of hello custom log.</span></span>  <span data-ttu-id="2dba6-135">hello guiden parsa och visa hello poster i den här filen när du toovalidate.</span><span class="sxs-lookup"><span data-stu-id="2dba6-135">hello wizard will parse and display hello entries in this file for you toovalidate.</span></span>  <span data-ttu-id="2dba6-136">Log Analytics använder hello avgränsare som du anger tooidentify varje post.</span><span class="sxs-lookup"><span data-stu-id="2dba6-136">Log Analytics will use hello delimiter that you specify tooidentify each record.</span></span>

<span data-ttu-id="2dba6-137">**Ny rad** hello standard avgränsare och används för loggfiler som har en post per rad.</span><span class="sxs-lookup"><span data-stu-id="2dba6-137">**New Line** is hello default delimiter and is used for log files that have a single entry per line.</span></span>  <span data-ttu-id="2dba6-138">Om hello rad som börjar med ett datum och tid i något av formaten hello sedan kan du ange en **tidsstämpel** avgränsare som har stöd för transaktioner som sträcker sig över flera rader.</span><span class="sxs-lookup"><span data-stu-id="2dba6-138">If hello line starts with a date and time in one of hello available formats, then you can specify a **Timestamp** delimiter which supports entries that span more than one line.</span></span>

<span data-ttu-id="2dba6-139">Om en avgränsare för en tidsstämpel används fylls hello TimeGenerated egenskap för varje post i OMS med hello datum/tid som angetts för posten i hello loggfilen.</span><span class="sxs-lookup"><span data-stu-id="2dba6-139">If a timestamp delimiter is used, then hello TimeGenerated property of each record stored in OMS will be populated with hello date/time specified for that entry in hello log file.</span></span>  <span data-ttu-id="2dba6-140">Om en Radavgränsare för en ny används fylls TimeGenerated med datum och tid att logganalys samlas in hello-post.</span><span class="sxs-lookup"><span data-stu-id="2dba6-140">If a new line delimiter is used, then TimeGenerated is populated with date and time that Log Analytics collected hello entry.</span></span>

> [!NOTE]
> <span data-ttu-id="2dba6-141">Logganalys behandlar för närvarande hello datum/tid som samlas in från en logg med en tidsstämpel avgränsare som UTC.</span><span class="sxs-lookup"><span data-stu-id="2dba6-141">Log Analytics currently treats hello date/time collected from a log using a timestamp delimiter as UTC.</span></span>  <span data-ttu-id="2dba6-142">Detta kommer snart att ändrade toouse hello tidszonen på hello agent.</span><span class="sxs-lookup"><span data-stu-id="2dba6-142">This will soon be changed toouse hello time zone on hello agent.</span></span>
>
>

1. <span data-ttu-id="2dba6-143">Klicka på **Bläddra** och bläddra tooa exempelfilen.</span><span class="sxs-lookup"><span data-stu-id="2dba6-143">Click **Browse** and browse tooa sample file.</span></span>  <span data-ttu-id="2dba6-144">Observera att detta kan knappen betecknas **Välj fil** i vissa webbläsare.</span><span class="sxs-lookup"><span data-stu-id="2dba6-144">Note that this may button may be labeled **Choose File** in some browsers.</span></span>
2. <span data-ttu-id="2dba6-145">Klicka på **Nästa**.</span><span class="sxs-lookup"><span data-stu-id="2dba6-145">Click **Next**.</span></span>
3. <span data-ttu-id="2dba6-146">hello anpassad logg guiden kommer att överföra hello fil- och hello poster som identifieras.</span><span class="sxs-lookup"><span data-stu-id="2dba6-146">hello Custom Log Wizard will upload hello file and list hello records that it identifies.</span></span>
4. <span data-ttu-id="2dba6-147">Ändra hello avgränsare som används tooidentify en ny post och välj hello avgränsare som bäst identifierar hello poster i loggfilen.</span><span class="sxs-lookup"><span data-stu-id="2dba6-147">Change hello delimiter that is used tooidentify a new record and select hello delimiter that best identifies hello records in your log file.</span></span>
5. <span data-ttu-id="2dba6-148">Klicka på **Nästa**.</span><span class="sxs-lookup"><span data-stu-id="2dba6-148">Click **Next**.</span></span>

### <a name="step-3-add-log-collection-paths"></a><span data-ttu-id="2dba6-149">Steg 3.</span><span class="sxs-lookup"><span data-stu-id="2dba6-149">Step 3.</span></span> <span data-ttu-id="2dba6-150">Lägg till loggsamling</span><span class="sxs-lookup"><span data-stu-id="2dba6-150">Add log collection paths</span></span>
<span data-ttu-id="2dba6-151">Du måste definiera en eller flera sökvägar på hello agent där den kan hitta hello anpassad logg.</span><span class="sxs-lookup"><span data-stu-id="2dba6-151">You must define one or more paths on hello agent where it can locate hello custom log.</span></span>  <span data-ttu-id="2dba6-152">Du kan antingen ange en specifik sökväg och ett namn för hello loggfilen eller du kan ange en sökväg med jokertecken för hello namn.</span><span class="sxs-lookup"><span data-stu-id="2dba6-152">You can either provide a specific path and name for hello log file, or you can specify a path with a wildcard for hello name.</span></span>  <span data-ttu-id="2dba6-153">Detta stöder program som skapar en ny fil varje dag eller när en fil når en viss storlek.</span><span class="sxs-lookup"><span data-stu-id="2dba6-153">This supports applications that create a new file each day or when one file reaches a certain size.</span></span>  <span data-ttu-id="2dba6-154">Du kan också ange flera sökvägar för en enda loggfil.</span><span class="sxs-lookup"><span data-stu-id="2dba6-154">You can also provide multiple paths for a single log file.</span></span>

<span data-ttu-id="2dba6-155">Till exempel kan ett program skapa en loggfil skapas varje dag med hello datumet som ingår i hello namn som log20100316.txt.</span><span class="sxs-lookup"><span data-stu-id="2dba6-155">For example, an application might create a log file each day with hello date included in hello name as in log20100316.txt.</span></span> <span data-ttu-id="2dba6-156">Ett mönster för sådana loggen kan vara *loggen\*.txt* som skulle ha använts tooany loggfilen hello tillämpning naming schemat.</span><span class="sxs-lookup"><span data-stu-id="2dba6-156">A pattern for such a log might be *log\*.txt* which would apply tooany log file following hello application’s naming scheme.</span></span>

<span data-ttu-id="2dba6-157">hello följande tabell innehåller exempel på giltiga toospecify olika loggfilerna.</span><span class="sxs-lookup"><span data-stu-id="2dba6-157">hello following table provides examples of valid patterns toospecify different log files.</span></span>

| <span data-ttu-id="2dba6-158">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="2dba6-158">Description</span></span> | <span data-ttu-id="2dba6-159">Sökväg</span><span class="sxs-lookup"><span data-stu-id="2dba6-159">Path</span></span> |
|:--- |:--- |
| <span data-ttu-id="2dba6-160">Alla filer i *C:\Logs* med filnamnstillägget .txt på Windows-agenten</span><span class="sxs-lookup"><span data-stu-id="2dba6-160">All files in *C:\Logs* with .txt extension on Windows agent</span></span> |<span data-ttu-id="2dba6-161">C:\Logs\\\*.txt</span><span class="sxs-lookup"><span data-stu-id="2dba6-161">C:\Logs\\\*.txt</span></span> |
| <span data-ttu-id="2dba6-162">Alla filer i *C:\Logs* med ett namn som börjar med loggen och filnamnstillägget .txt på Windows-agenten</span><span class="sxs-lookup"><span data-stu-id="2dba6-162">All files in *C:\Logs* with a name starting with log and a .txt extension on Windows agent</span></span> |<span data-ttu-id="2dba6-163">C:\Logs\log\*.txt</span><span class="sxs-lookup"><span data-stu-id="2dba6-163">C:\Logs\log\*.txt</span></span> |
| <span data-ttu-id="2dba6-164">Alla filer i */var/log/audit* med filnamnstillägget .txt på Linux-agent</span><span class="sxs-lookup"><span data-stu-id="2dba6-164">All files in */var/log/audit* with .txt extension on Linux agent</span></span> |<span data-ttu-id="2dba6-165">/var/log/audit/*.txt</span><span class="sxs-lookup"><span data-stu-id="2dba6-165">/var/log/audit/*.txt</span></span> |
| <span data-ttu-id="2dba6-166">Alla filer i */var/log/audit* med ett namn som börjar med loggen och filnamnstillägget .txt på Linux-agent</span><span class="sxs-lookup"><span data-stu-id="2dba6-166">All files in */var/log/audit* with a name starting with log and a .txt extension on Linux agent</span></span> |<span data-ttu-id="2dba6-167">/var/log/audit/log\*.txt</span><span class="sxs-lookup"><span data-stu-id="2dba6-167">/var/log/audit/log\*.txt</span></span> |

1. <span data-ttu-id="2dba6-168">Välj Windows eller Linux toospecify vilka sökvägsformat du lägger till.</span><span class="sxs-lookup"><span data-stu-id="2dba6-168">Select Windows or Linux toospecify which path format you are adding.</span></span>
2. <span data-ttu-id="2dba6-169">Anger hello sökväg och klickar på hello  **+**  knappen.</span><span class="sxs-lookup"><span data-stu-id="2dba6-169">Type in hello path and click hello **+** button.</span></span>
3. <span data-ttu-id="2dba6-170">Upprepa hello processen för eventuella ytterligare sökvägar.</span><span class="sxs-lookup"><span data-stu-id="2dba6-170">Repeat hello process for any additional paths.</span></span>

### <a name="step-4-provide-a-name-and-description-for-hello-log"></a><span data-ttu-id="2dba6-171">Steg 4.</span><span class="sxs-lookup"><span data-stu-id="2dba6-171">Step 4.</span></span> <span data-ttu-id="2dba6-172">Ange ett namn och beskrivning för hello logg</span><span class="sxs-lookup"><span data-stu-id="2dba6-172">Provide a name and description for hello log</span></span>
<span data-ttu-id="2dba6-173">hello ska namn som du anger användas för hello loggtyp enligt beskrivningen ovan.</span><span class="sxs-lookup"><span data-stu-id="2dba6-173">hello name that you specify will be used for hello log type as described above.</span></span>  <span data-ttu-id="2dba6-174">Den slutar alltid med _CL toodistinguish den som en anpassad logg.</span><span class="sxs-lookup"><span data-stu-id="2dba6-174">It will always end with _CL toodistinguish it as a custom log.</span></span>

1. <span data-ttu-id="2dba6-175">Ange ett namn för hello logg.</span><span class="sxs-lookup"><span data-stu-id="2dba6-175">Type in a name for hello log.</span></span>  <span data-ttu-id="2dba6-176">Hej  **\_CL** suffix anges automatiskt.</span><span class="sxs-lookup"><span data-stu-id="2dba6-176">hello **\_CL** suffix is automatically provided.</span></span>
2. <span data-ttu-id="2dba6-177">Lägg till en valfri **beskrivning**.</span><span class="sxs-lookup"><span data-stu-id="2dba6-177">Add an optional **Description**.</span></span>
3. <span data-ttu-id="2dba6-178">Klicka på **nästa** toosave hello anpassad loggdefinition.</span><span class="sxs-lookup"><span data-stu-id="2dba6-178">Click **Next** toosave hello custom log definition.</span></span>

### <a name="step-5-validate-that-hello-custom-logs-are-being-collected"></a><span data-ttu-id="2dba6-179">Steg 5.</span><span class="sxs-lookup"><span data-stu-id="2dba6-179">Step 5.</span></span> <span data-ttu-id="2dba6-180">Verifiera att hello anpassade loggar samlas in</span><span class="sxs-lookup"><span data-stu-id="2dba6-180">Validate that hello custom logs are being collected</span></span>
<span data-ttu-id="2dba6-181">Det kan ta upp tooan timme för hello inledande data från en ny anpassad logg tooappear i logganalys.</span><span class="sxs-lookup"><span data-stu-id="2dba6-181">It may take up tooan hour for hello initial data from a new custom log tooappear in Log Analytics.</span></span>  <span data-ttu-id="2dba6-182">Den börjar samla in poster från hello loggar finns i hello sökväg du angav från hello tidpunkten som du definierade hello anpassad logg.</span><span class="sxs-lookup"><span data-stu-id="2dba6-182">It will start collecting entries from hello logs found in hello path you specified from hello point that you defined hello custom log.</span></span>  <span data-ttu-id="2dba6-183">Det kommer inte att ha hello-poster som du har överfört under skapande av hello anpassad logg, men den samlar in redan befintliga poster i hello loggfiler som påträffas.</span><span class="sxs-lookup"><span data-stu-id="2dba6-183">It will not retain hello entries that you uploaded during hello custom log creation, but it will collect already existing entries in hello log files that it locates.</span></span>

<span data-ttu-id="2dba6-184">När logganalys startar har samlats in från hello anpassad logg är dess poster tillgängliga med en logg-sökning.</span><span class="sxs-lookup"><span data-stu-id="2dba6-184">Once Log Analytics starts collecting from hello custom log, its records will be available with a Log Search.</span></span>  <span data-ttu-id="2dba6-185">Använd hello namn du gav hello anpassad logg som hello **typen** i frågan.</span><span class="sxs-lookup"><span data-stu-id="2dba6-185">Use hello name that you gave hello custom log as hello **Type** in your query.</span></span>

> [!NOTE]
> <span data-ttu-id="2dba6-186">Om hello \data egenskap saknas från hello sökning, kanske du behöver tooclose och öppna webbläsaren.</span><span class="sxs-lookup"><span data-stu-id="2dba6-186">If hello RawData property is missing from hello search, you may need tooclose and reopen your browser.</span></span>
>
>

### <a name="step-6-parse-hello-custom-log-entries"></a><span data-ttu-id="2dba6-187">Steg 6.</span><span class="sxs-lookup"><span data-stu-id="2dba6-187">Step 6.</span></span> <span data-ttu-id="2dba6-188">Parsa hello anpassade loggposter</span><span class="sxs-lookup"><span data-stu-id="2dba6-188">Parse hello custom log entries</span></span>
<span data-ttu-id="2dba6-189">hello hela loggpost kommer att lagras i en enda egenskap som kallas **\data**.</span><span class="sxs-lookup"><span data-stu-id="2dba6-189">hello entire log entry will be stored in a single property called **RawData**.</span></span>  <span data-ttu-id="2dba6-190">Du kommer förmodligen vill tooseparate hello olika delar av informationen i varje post i enskilda egenskaper lagras i hello-post.</span><span class="sxs-lookup"><span data-stu-id="2dba6-190">You will most likely want tooseparate hello different pieces of information in each entry into individual properties stored in hello record.</span></span>  <span data-ttu-id="2dba6-191">Du gör detta med hjälp av hello [anpassade fält](log-analytics-custom-fields.md) funktion i logganalys.</span><span class="sxs-lookup"><span data-stu-id="2dba6-191">You do this using hello [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span></span>

<span data-ttu-id="2dba6-192">Detaljerade anvisningar för att parsa hello anpassade loggpost finns inte här.</span><span class="sxs-lookup"><span data-stu-id="2dba6-192">Detailed steps for parsing hello custom log entry are not provided here.</span></span>  <span data-ttu-id="2dba6-193">Se toohello [anpassade fält](log-analytics-custom-fields.md) dokumentationen för den här informationen.</span><span class="sxs-lookup"><span data-stu-id="2dba6-193">Please refer toohello [Custom Fields](log-analytics-custom-fields.md) documentation for this information.</span></span>

## <a name="disabling-a-custom-log"></a><span data-ttu-id="2dba6-194">Inaktivera en anpassad logg</span><span class="sxs-lookup"><span data-stu-id="2dba6-194">Disabling a custom log</span></span>
<span data-ttu-id="2dba6-195">Du kan inte ta bort en anpassad loggdefinition när den har skapats, men du kan inaktivera det genom att ta bort alla sökvägar samling.</span><span class="sxs-lookup"><span data-stu-id="2dba6-195">You cannot remove a custom log definition once it's been created, but you can disable it by removing all of its collection paths.</span></span>

1. <span data-ttu-id="2dba6-196">I hello OMS-portalen, går för**inställningar**.</span><span class="sxs-lookup"><span data-stu-id="2dba6-196">In hello OMS portal, go too**Settings**.</span></span>
2. <span data-ttu-id="2dba6-197">Klicka på **Data** och sedan **anpassade loggar**.</span><span class="sxs-lookup"><span data-stu-id="2dba6-197">Click on **Data** and then **Custom logs**.</span></span>
3. <span data-ttu-id="2dba6-198">Klicka på **information** nästa toohello anpassad logg definition toodisable.</span><span class="sxs-lookup"><span data-stu-id="2dba6-198">Click **Details** next toohello custom log definition toodisable.</span></span>
4. <span data-ttu-id="2dba6-199">Ta bort alla hello samling sökvägar för hello anpassad loggdefinition.</span><span class="sxs-lookup"><span data-stu-id="2dba6-199">Remove each of hello collection paths for hello custom log definition.</span></span>

## <a name="data-collection"></a><span data-ttu-id="2dba6-200">Datainsamling</span><span class="sxs-lookup"><span data-stu-id="2dba6-200">Data collection</span></span>
<span data-ttu-id="2dba6-201">Logganalys samlar in nya poster från varje anpassad logg ungefär var 5: e minut.</span><span class="sxs-lookup"><span data-stu-id="2dba6-201">Log Analytics will collect new entries from each custom log approximately every 5 minutes.</span></span>  <span data-ttu-id="2dba6-202">hello agenten att registrera sin plats i varje loggfil som samlas in från.</span><span class="sxs-lookup"><span data-stu-id="2dba6-202">hello agent will record its place in each log file that it collects from.</span></span>  <span data-ttu-id="2dba6-203">Om hello agenten tas offline under en tidsperiod, sedan logganalys samlar in poster från där den senast slutade, även om dessa poster har skapats i hello-agenten var offline.</span><span class="sxs-lookup"><span data-stu-id="2dba6-203">If hello agent goes offline for a period of time, then Log Analytics will collect entries from where it last left off, even if those entries were created while hello agent was offline.</span></span>

<span data-ttu-id="2dba6-204">hello hela innehållet i hello loggpost skrivs tooa enda egenskap som kallas **\data**.</span><span class="sxs-lookup"><span data-stu-id="2dba6-204">hello entire contents of hello log entry are written tooa single property called **RawData**.</span></span>  <span data-ttu-id="2dba6-205">Du kan parsa detta till flera egenskaper som kan analyseras och genomsöks separat genom att definiera [anpassade fält](log-analytics-custom-fields.md) när du har skapat hello anpassad logg.</span><span class="sxs-lookup"><span data-stu-id="2dba6-205">You can parse this into multiple properties that can be analyzed and searched separately by defining [Custom Fields](log-analytics-custom-fields.md) after you have created hello custom log.</span></span>

## <a name="custom-log-record-properties"></a><span data-ttu-id="2dba6-206">Egenskaper för anpassad logg-post</span><span class="sxs-lookup"><span data-stu-id="2dba6-206">Custom log record properties</span></span>
<span data-ttu-id="2dba6-207">Anpassade loggposter har en typ med hello loggnamn som du anger och hello egenskaper i hello i den följande tabellen.</span><span class="sxs-lookup"><span data-stu-id="2dba6-207">Custom log records have a type with hello log name that you provide and hello properties in hello following table.</span></span>

| <span data-ttu-id="2dba6-208">Egenskap</span><span class="sxs-lookup"><span data-stu-id="2dba6-208">Property</span></span> | <span data-ttu-id="2dba6-209">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="2dba6-209">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="2dba6-210">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="2dba6-210">TimeGenerated</span></span> |<span data-ttu-id="2dba6-211">Datum och tid då hello post samlades in av logganalys.</span><span class="sxs-lookup"><span data-stu-id="2dba6-211">Date and time that hello record was collected by Log Analytics.</span></span>  <span data-ttu-id="2dba6-212">Om hello loggen använder en avgränsare för en tidsbaserad är hello tid som samlas in från hello-post.</span><span class="sxs-lookup"><span data-stu-id="2dba6-212">If hello log uses a time-based delimiter then this is hello time collected from hello entry.</span></span> |
| <span data-ttu-id="2dba6-213">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="2dba6-213">SourceSystem</span></span> |<span data-ttu-id="2dba6-214">Agenten hello posttyp samlats in från.</span><span class="sxs-lookup"><span data-stu-id="2dba6-214">Type of agent hello record was collected from.</span></span> <br> <span data-ttu-id="2dba6-215">Ansluta OpsManager – Windows-agenten, antingen direkt eller System Center Operations Manager</span><span class="sxs-lookup"><span data-stu-id="2dba6-215">OpsManager – Windows agent, either direct connect or System Center Operations Manager</span></span> <br> <span data-ttu-id="2dba6-216">Linux – alla Linux-agenter</span><span class="sxs-lookup"><span data-stu-id="2dba6-216">Linux – All Linux agents</span></span> |
| <span data-ttu-id="2dba6-217">\Data</span><span class="sxs-lookup"><span data-stu-id="2dba6-217">RawData</span></span> |<span data-ttu-id="2dba6-218">Fullständig text hello samlas in transaktionen.</span><span class="sxs-lookup"><span data-stu-id="2dba6-218">Full text of hello collected entry.</span></span> |
| <span data-ttu-id="2dba6-219">ManagementGroupName</span><span class="sxs-lookup"><span data-stu-id="2dba6-219">ManagementGroupName</span></span> |<span data-ttu-id="2dba6-220">Namnet på hanteringsgruppen för hello för System Center Operations hantera agenter.</span><span class="sxs-lookup"><span data-stu-id="2dba6-220">Name of hello management group for System Center Operations Manage agents.</span></span>  <span data-ttu-id="2dba6-221">För andra agenter är AOI -\<arbetsyte-ID\></span><span class="sxs-lookup"><span data-stu-id="2dba6-221">For other agents, this is AOI-\<workspace ID\></span></span> |

## <a name="log-searches-with-custom-log-records"></a><span data-ttu-id="2dba6-222">Loggen sökningar med anpassade loggposter</span><span class="sxs-lookup"><span data-stu-id="2dba6-222">Log searches with custom log records</span></span>
<span data-ttu-id="2dba6-223">Poster från anpassade loggar lagras i hello OMS databasen precis som poster från andra datakällor.</span><span class="sxs-lookup"><span data-stu-id="2dba6-223">Records from custom logs are stored in hello OMS repository just like records from any other data source.</span></span>  <span data-ttu-id="2dba6-224">De har en typ som matchar hello-namn som du anger när du definierar hello loggen, så du kan använda hello typegenskapen i din sökning tooretrieve poster som samlats in från en viss loggning.</span><span class="sxs-lookup"><span data-stu-id="2dba6-224">They will have a type matching hello name that you provide when you define hello log, so you can use hello Type property in your search tooretrieve records collected from a specific log.</span></span>

<span data-ttu-id="2dba6-225">hello innehåller följande tabell olika exempel på loggen sökningar som hämtar poster från anpassade loggar.</span><span class="sxs-lookup"><span data-stu-id="2dba6-225">hello following table provides different examples of log searches that retrieve records from custom logs.</span></span>

| <span data-ttu-id="2dba6-226">Fråga</span><span class="sxs-lookup"><span data-stu-id="2dba6-226">Query</span></span> | <span data-ttu-id="2dba6-227">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="2dba6-227">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="2dba6-228">Typ = MyApp_CL</span><span class="sxs-lookup"><span data-stu-id="2dba6-228">Type=MyApp_CL</span></span> |<span data-ttu-id="2dba6-229">Alla händelser från en anpassad logga namngiven MyApp_CL.</span><span class="sxs-lookup"><span data-stu-id="2dba6-229">All events from a custom log named MyApp_CL.</span></span> |
| <span data-ttu-id="2dba6-230">Typ = MyApp_CL Severity_CF = fel</span><span class="sxs-lookup"><span data-stu-id="2dba6-230">Type=MyApp_CL Severity_CF=error</span></span> |<span data-ttu-id="2dba6-231">Alla händelser från en anpassad logga namngivna MyApp_CL med värdet *fel* i ett anpassat fält med namnet *Severity_CF*.</span><span class="sxs-lookup"><span data-stu-id="2dba6-231">All events from a custom log named MyApp_CL with a value of *error* in a custom field named *Severity_CF*.</span></span> |

>[!NOTE]
> <span data-ttu-id="2dba6-232">Om ditt arbetsområde har uppgraderade toohello [nya Log Analytics-frågespråket](log-analytics-log-search-upgrade.md), hello senare frågorna skulle ändra toohello följande.</span><span class="sxs-lookup"><span data-stu-id="2dba6-232">If your workspace has been upgraded toohello [new Log Analytics query language](log-analytics-log-search-upgrade.md), then hello above queries would change toohello following.</span></span>

> | <span data-ttu-id="2dba6-233">Fråga</span><span class="sxs-lookup"><span data-stu-id="2dba6-233">Query</span></span> | <span data-ttu-id="2dba6-234">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="2dba6-234">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="2dba6-235">MyApp_CL</span><span class="sxs-lookup"><span data-stu-id="2dba6-235">MyApp_CL</span></span> |<span data-ttu-id="2dba6-236">Alla händelser från en anpassad logga namngiven MyApp_CL.</span><span class="sxs-lookup"><span data-stu-id="2dba6-236">All events from a custom log named MyApp_CL.</span></span> |
| <span data-ttu-id="2dba6-237">MyApp_CL &#124; där Severity_CF == ”error”</span><span class="sxs-lookup"><span data-stu-id="2dba6-237">MyApp_CL &#124; where Severity_CF=="error"</span></span> |<span data-ttu-id="2dba6-238">Alla händelser från en anpassad logga namngivna MyApp_CL med värdet *fel* i ett anpassat fält med namnet *Severity_CF*.</span><span class="sxs-lookup"><span data-stu-id="2dba6-238">All events from a custom log named MyApp_CL with a value of *error* in a custom field named *Severity_CF*.</span></span> |


## <a name="sample-walkthrough-of-adding-a-custom-log"></a><span data-ttu-id="2dba6-239">Exempel genomgången för att lägga till en anpassad logg</span><span class="sxs-lookup"><span data-stu-id="2dba6-239">Sample walkthrough of adding a custom log</span></span>
<span data-ttu-id="2dba6-240">hello följande avsnitt beskriver hur ett exempel på hur du skapar en anpassad logg.</span><span class="sxs-lookup"><span data-stu-id="2dba6-240">hello following section walks through an example of creating a custom log.</span></span>  <span data-ttu-id="2dba6-241">Hej exempellogg som samlas in har en enda post på varje rad som börjar med ett datum och tid och sedan kommaavgränsad fält för koden, status och meddelandet.</span><span class="sxs-lookup"><span data-stu-id="2dba6-241">hello sample log being collected has a single entry on each line starting with a date and time and then comma-delimited fields for code, status, and message.</span></span>  <span data-ttu-id="2dba6-242">Flera exempel poster visas nedan.</span><span class="sxs-lookup"><span data-stu-id="2dba6-242">Several sample entries are shown below.</span></span>

    2016-03-10 01:34:36 207,Success,Client 05a26a97-272a-4bc9-8f64-269d154b0e39 connected
    2016-03-10 01:33:33 208,Warning,Client ec53d95c-1c88-41ae-8174-92104212de5d disconnected
    2016-03-10 01:35:44 209,Success,Transaction 10d65890-b003-48f8-9cfc-9c74b51189c8 succeeded
    2016-03-10 01:38:22 302,Error,Application could not connect toodatabase
    2016-03-10 01:31:34 303,Error,Application lost connection toodatabase

### <a name="upload-and-parse-a-sample-log"></a><span data-ttu-id="2dba6-243">Överföra och parsa en exempellogg</span><span class="sxs-lookup"><span data-stu-id="2dba6-243">Upload and parse a sample log</span></span>
<span data-ttu-id="2dba6-244">Vi tillhandahåller någon hello loggfiler och kan se hello händelser som kommer samla in.</span><span class="sxs-lookup"><span data-stu-id="2dba6-244">We provide one of hello log files and can see hello events that it will be collecting.</span></span>  <span data-ttu-id="2dba6-245">I det här fallet är ny rad tillräcklig avgränsare.</span><span class="sxs-lookup"><span data-stu-id="2dba6-245">In this case New Line is a sufficient delimiter.</span></span>  <span data-ttu-id="2dba6-246">Om en enda post i loggen för hello kan sträcka sig över flera rader men, skulle en avgränsare för en tidsstämpel måste toobe används.</span><span class="sxs-lookup"><span data-stu-id="2dba6-246">If a single entry in hello log could span multiple lines though, then a timestamp delimiter would need toobe used.</span></span>

![Överföra och parsa en exempellogg](media/log-analytics-data-sources-custom-logs/delimiter.png)

### <a name="add-log-collection-paths"></a><span data-ttu-id="2dba6-248">Lägg till loggsamling</span><span class="sxs-lookup"><span data-stu-id="2dba6-248">Add log collection paths</span></span>
<span data-ttu-id="2dba6-249">hello-loggfiler finns i *C:\MyApp\Logs*.</span><span class="sxs-lookup"><span data-stu-id="2dba6-249">hello log files will be located in *C:\MyApp\Logs*.</span></span>  <span data-ttu-id="2dba6-250">En ny fil skapas varje dag med ett namn som innehåller hello datum i hello mönster *appYYYYMMDD.log*.</span><span class="sxs-lookup"><span data-stu-id="2dba6-250">A new file will be created each day with a name that includes hello date in hello pattern *appYYYYMMDD.log*.</span></span>  <span data-ttu-id="2dba6-251">Ett tillräckligt mönster för den här loggfilen skulle vara *C:\MyApp\Logs\\\*.log*.</span><span class="sxs-lookup"><span data-stu-id="2dba6-251">A sufficient pattern for this log would be *C:\MyApp\Logs\\\*.log*.</span></span>

![Loggsökvägen för samlingen](media/log-analytics-data-sources-custom-logs/collection-path.png)

### <a name="provide-a-name-and-description-for-hello-log"></a><span data-ttu-id="2dba6-253">Ange ett namn och beskrivning för hello logg</span><span class="sxs-lookup"><span data-stu-id="2dba6-253">Provide a name and description for hello log</span></span>
<span data-ttu-id="2dba6-254">Vi använder ett namn på *MyApp_CL* och skriver i en **beskrivning**.</span><span class="sxs-lookup"><span data-stu-id="2dba6-254">We use a name of *MyApp_CL* and type in a **Description**.</span></span>

![Loggnamn](media/log-analytics-data-sources-custom-logs/log-name.png)

### <a name="validate-that-hello-custom-logs-are-being-collected"></a><span data-ttu-id="2dba6-256">Verifiera att hello anpassade loggar samlas in</span><span class="sxs-lookup"><span data-stu-id="2dba6-256">Validate that hello custom logs are being collected</span></span>
<span data-ttu-id="2dba6-257">Vi använder en fråga med *typ = MyApp_CL* tooreturn alla poster från hello insamlade loggen.</span><span class="sxs-lookup"><span data-stu-id="2dba6-257">We use a query of *Type=MyApp_CL* tooreturn all records from hello collected log.</span></span>

![Loggen fråga utan anpassade fält](media/log-analytics-data-sources-custom-logs/query-01.png)

### <a name="parse-hello-custom-log-entries"></a><span data-ttu-id="2dba6-259">Parsa hello anpassade loggposter</span><span class="sxs-lookup"><span data-stu-id="2dba6-259">Parse hello custom log entries</span></span>
<span data-ttu-id="2dba6-260">Vi använder anpassade fält toodefine hello *EventTime*, *kod*, *Status*, och *meddelandet* fält och vi ser hello skillnad i hello poster som returneras av hello frågan.</span><span class="sxs-lookup"><span data-stu-id="2dba6-260">We use Custom Fields toodefine hello *EventTime*, *Code*, *Status*, and *Message* fields and we can see hello difference in hello records that are returned by hello query.</span></span>

![Loggen frågan med anpassade fält](media/log-analytics-data-sources-custom-logs/query-02.png)

## <a name="next-steps"></a><span data-ttu-id="2dba6-262">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="2dba6-262">Next steps</span></span>
* <span data-ttu-id="2dba6-263">Använd [anpassade fält](log-analytics-custom-fields.md) tooparse hello poster i hello anpassad logg i tooindividual fält.</span><span class="sxs-lookup"><span data-stu-id="2dba6-263">Use [Custom Fields](log-analytics-custom-fields.md) tooparse hello entries in hello custom log in tooindividual fields.</span></span>
* <span data-ttu-id="2dba6-264">Lär dig mer om [logga sökningar](log-analytics-log-searches.md) tooanalyze hello data som samlas in från datakällor och lösningar.</span><span class="sxs-lookup"><span data-stu-id="2dba6-264">Learn about [log searches](log-analytics-log-searches.md) tooanalyze hello data collected from data sources and solutions.</span></span>
