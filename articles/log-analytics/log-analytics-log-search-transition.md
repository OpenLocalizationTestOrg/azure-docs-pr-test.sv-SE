---
title: aaaAzure Log Analytics query language fusklapp | Microsoft Docs
description: "Den här artikeln innehåller hjälp om övergång toohello nya frågespråk för Log Analytics om du redan är bekant med hello äldre språk."
services: operations-management-suite
documentationcenter: 
author: bwren
manager: carmonm
editor: tysonn
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/23/2017
ms.author: bwren
ms.openlocfilehash: 8b4ee3d0b5e1ec8a9f95a09e0ad9835615ad1342
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="transitioning-tooazure-log-analytics-new-query-language"></a><span data-ttu-id="a1bc3-103">Övergång tooAzure logganalys nya frågespråket</span><span class="sxs-lookup"><span data-stu-id="a1bc3-103">Transitioning tooAzure Log Analytics new query language</span></span>

> [!NOTE]
> <span data-ttu-id="a1bc3-104">Du kan läsa mer om hello nya Log Analytics-frågespråket och få hello proceduren tooupgrade arbetsytan vid uppgraderingen din [Azure logganalys arbetsytan toonew loggen Sök](log-analytics-log-search-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="a1bc3-104">You can read more about hello new Log Analytics query language and get hello procedure tooupgrade your workspace at Upgrade your [Azure Log Analytics workspace toonew log search](log-analytics-log-search-upgrade.md).</span></span>

<span data-ttu-id="a1bc3-105">Den här artikeln innehåller hjälp om övergång toohello nya frågespråk för Log Analytics om du redan är bekant med hello äldre språk.</span><span class="sxs-lookup"><span data-stu-id="a1bc3-105">This article provides assistance on transitioning toohello new query language for Log Analytics if you're already familiar with hello legacy language.</span></span>

## <a name="language-converter"></a><span data-ttu-id="a1bc3-106">Språk konverterare</span><span class="sxs-lookup"><span data-stu-id="a1bc3-106">Language converter</span></span>

<span data-ttu-id="a1bc3-107">Om du är bekant med hello äldre Log Analytics-frågespråket enklast hello toocreate hello samma fråga på nytt språk för hello toouse hello språk konverterare som är installerad i hello loggen Sök portal när din arbetsyta konverteras.</span><span class="sxs-lookup"><span data-stu-id="a1bc3-107">If you're familiar with hello legacy Log Analytics query language, hello easiest way toocreate hello same query in hello new language is toouse hello Language Converter that's installed in hello Log Search portal when your workspace is converted.</span></span>  <span data-ttu-id="a1bc3-108">Hello konverteraren är lika enkelt som att skriva i en äldre fråga i hello översta textrutan och klicka sedan på **konvertera**.</span><span class="sxs-lookup"><span data-stu-id="a1bc3-108">Using hello converter is as simple as typing in a legacy query in hello top text box and then clicking **Convert**.</span></span>  <span data-ttu-id="a1bc3-109">Du kan klicka på hello knappen toorun hello sökfråga eller kopiera och klistra in den toouse den någon annanstans.</span><span class="sxs-lookup"><span data-stu-id="a1bc3-109">You can either click hello search button toorun hello query or copy and paste it toouse it somewhere else.</span></span>

![Språk konverterare](media/log-analytics-log-search-upgrade/language-converter.png)


## <a name="cheat-sheet"></a><span data-ttu-id="a1bc3-111">Fusklapp</span><span class="sxs-lookup"><span data-stu-id="a1bc3-111">Cheat sheet</span></span>

<span data-ttu-id="a1bc3-112">hello följande tabell innehåller en jämförelse mellan olika vanliga frågor tooequivalent kommandon mellan hello nya och gamla frågespråket i Azure logganalys.</span><span class="sxs-lookup"><span data-stu-id="a1bc3-112">hello following table provides a comparison between a variety of common queries tooequivalent commands between hello new and legacy query language in Azure Log Analytics.</span></span>

| <span data-ttu-id="a1bc3-113">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="a1bc3-113">Description</span></span> | <span data-ttu-id="a1bc3-114">Äldre</span><span class="sxs-lookup"><span data-stu-id="a1bc3-114">Legacy</span></span> | <span data-ttu-id="a1bc3-115">Ny</span><span class="sxs-lookup"><span data-stu-id="a1bc3-115">new</span></span> |
|:--|:--|:--|
| <span data-ttu-id="a1bc3-116">Sök alla tabeller</span><span class="sxs-lookup"><span data-stu-id="a1bc3-116">Search all tables</span></span>      | <span data-ttu-id="a1bc3-117">fel</span><span class="sxs-lookup"><span data-stu-id="a1bc3-117">error</span></span> | <span data-ttu-id="a1bc3-118">Sök ”error” (inte skiftlägeskänsliga)</span><span class="sxs-lookup"><span data-stu-id="a1bc3-118">search "error"  (not case sensitive)</span></span> |
| <span data-ttu-id="a1bc3-119">Välj data från tabellen</span><span class="sxs-lookup"><span data-stu-id="a1bc3-119">Select data from table</span></span> | <span data-ttu-id="a1bc3-120">Typ = händelse</span><span class="sxs-lookup"><span data-stu-id="a1bc3-120">Type=Event</span></span> |  <span data-ttu-id="a1bc3-121">Händelse</span><span class="sxs-lookup"><span data-stu-id="a1bc3-121">Event</span></span> |
|                        | <span data-ttu-id="a1bc3-122">Typ = händelse &#124; Välj källa, EventLog, händelse-ID</span><span class="sxs-lookup"><span data-stu-id="a1bc3-122">Type=Event &#124; select Source, EventLog, EventID</span></span> | <span data-ttu-id="a1bc3-123">Händelsen &#124; projektet källa, EventLog, händelse-ID</span><span class="sxs-lookup"><span data-stu-id="a1bc3-123">Event &#124; project Source, EventLog, EventID</span></span> |
|                        | <span data-ttu-id="a1bc3-124">Typ = händelse &#124; de 100 främsta</span><span class="sxs-lookup"><span data-stu-id="a1bc3-124">Type=Event &#124; top 100</span></span> | <span data-ttu-id="a1bc3-125">Händelsen &#124; ta 100</span><span class="sxs-lookup"><span data-stu-id="a1bc3-125">Event &#124; take 100</span></span> |
| <span data-ttu-id="a1bc3-126">Strängjämförelse</span><span class="sxs-lookup"><span data-stu-id="a1bc3-126">String comparison</span></span>      | <span data-ttu-id="a1bc3-127">Typ = händelsen Computer=srv01.contoso.com</span><span class="sxs-lookup"><span data-stu-id="a1bc3-127">Type=Event Computer=srv01.contoso.com</span></span>   | <span data-ttu-id="a1bc3-128">Händelsen &#124; Om datorn == ”srv01.contoso.com”</span><span class="sxs-lookup"><span data-stu-id="a1bc3-128">Event &#124; where Computer == "srv01.contoso.com"</span></span> |
|                        | <span data-ttu-id="a1bc3-129">Typ = händelsen Computer=contains("contoso")</span><span class="sxs-lookup"><span data-stu-id="a1bc3-129">Type=Event Computer=contains("contoso")</span></span> | <span data-ttu-id="a1bc3-130">Händelsen &#124; Om datorn innehåller ”contoso” (inte skiftlägeskänsliga)</span><span class="sxs-lookup"><span data-stu-id="a1bc3-130">Event &#124; where Computer contains "contoso" (not case sensitive)</span></span><br><span data-ttu-id="a1bc3-131">Händelsen &#124; Om datorn contains_cs ”Contoso” (skiftlägeskänslig)</span><span class="sxs-lookup"><span data-stu-id="a1bc3-131">Event &#124; where Computer contains_cs "Contoso" (case sensitive)</span></span> |
|                        | <span data-ttu-id="a1bc3-132">Typ = händelse datorn = RegEx (”@contoso@”)</span><span class="sxs-lookup"><span data-stu-id="a1bc3-132">Type=Event Computer=RegEx("@contoso@")</span></span>  | <span data-ttu-id="a1bc3-133">Händelsen &#124; Om datorn matchar regex ”. *contoso*”</span><span class="sxs-lookup"><span data-stu-id="a1bc3-133">Event &#124; where Computer matches regex ".*contoso*"</span></span> |
| <span data-ttu-id="a1bc3-134">Jämförelse av datum</span><span class="sxs-lookup"><span data-stu-id="a1bc3-134">Date comparison</span></span>        | <span data-ttu-id="a1bc3-135">Typ av händelse TimeGenerated = > nu 1DAYS</span><span class="sxs-lookup"><span data-stu-id="a1bc3-135">Type=Event TimeGenerated > NOW-1DAYS</span></span> | <span data-ttu-id="a1bc3-136">Händelsen &#124; där TimeGenerated > ago(1d)</span><span class="sxs-lookup"><span data-stu-id="a1bc3-136">Event &#124; where TimeGenerated > ago(1d)</span></span> |
|                        | <span data-ttu-id="a1bc3-137">Typ av händelse TimeGenerated = > 2017-05-01 TimeGenerated < 2017-05-31</span><span class="sxs-lookup"><span data-stu-id="a1bc3-137">Type=Event TimeGenerated>2017-05-01 TimeGenerated<2017-05-31</span></span> | <span data-ttu-id="a1bc3-138">Händelsen &#124; där TimeGenerated mellan (datetime(2017-05-01)...</span><span class="sxs-lookup"><span data-stu-id="a1bc3-138">Event &#124; where TimeGenerated between (datetime(2017-05-01) ..</span></span> <span data-ttu-id="a1bc3-139">datetime(2017-05-31))</span><span class="sxs-lookup"><span data-stu-id="a1bc3-139">datetime(2017-05-31))</span></span> |
| <span data-ttu-id="a1bc3-140">Booleskt jämförelse</span><span class="sxs-lookup"><span data-stu-id="a1bc3-140">Boolean comparison</span></span>     | <span data-ttu-id="a1bc3-141">Typ = pulsslag IsGatewayInstalled = false</span><span class="sxs-lookup"><span data-stu-id="a1bc3-141">Type=Heartbeat IsGatewayInstalled=false</span></span>  | <span data-ttu-id="a1bc3-142">Pulsslag</span><span class="sxs-lookup"><span data-stu-id="a1bc3-142">Heartbeat</span></span> | <span data-ttu-id="a1bc3-143">där IsGatewayInstalled == false</span><span class="sxs-lookup"><span data-stu-id="a1bc3-143">where IsGatewayInstalled == false</span></span> |
| <span data-ttu-id="a1bc3-144">Sortera</span><span class="sxs-lookup"><span data-stu-id="a1bc3-144">Sort</span></span>                   | <span data-ttu-id="a1bc3-145">Typ = händelse &#124; Sortera datorn asc, EventLog desc, EventLevelName asc</span><span class="sxs-lookup"><span data-stu-id="a1bc3-145">Type=Event &#124; sort Computer asc, EventLog desc, EventLevelName asc</span></span> | <span data-ttu-id="a1bc3-146">Händelsen \\</span><span class="sxs-lookup"><span data-stu-id="a1bc3-146">Event \\</span></span>| <span data-ttu-id="a1bc3-147">Sortera efter dator asc, EventLog desc, EventLevelName asc</span><span class="sxs-lookup"><span data-stu-id="a1bc3-147">sort by Computer asc, EventLog desc, EventLevelName asc</span></span> |
| <span data-ttu-id="a1bc3-148">Distinkta</span><span class="sxs-lookup"><span data-stu-id="a1bc3-148">Distinct</span></span>               | <span data-ttu-id="a1bc3-149">Typ = händelse &#124; dedupliceringen datorn \\</span><span class="sxs-lookup"><span data-stu-id="a1bc3-149">Type=Event &#124; dedup Computer \\</span></span>| <span data-ttu-id="a1bc3-150">Välj dator</span><span class="sxs-lookup"><span data-stu-id="a1bc3-150">select Computer</span></span> | <span data-ttu-id="a1bc3-151">Händelsen &#124; Sammanfatta per dator, EventLog</span><span class="sxs-lookup"><span data-stu-id="a1bc3-151">Event &#124; summarize by Computer, EventLog</span></span> |
| <span data-ttu-id="a1bc3-152">Utöka kolumner</span><span class="sxs-lookup"><span data-stu-id="a1bc3-152">Extend columns</span></span>         | <span data-ttu-id="a1bc3-153">Typ = Perf CounterName = ”% processortid” &#124; Utöka if(map(CounterValue,0,50,0,1),"HIGH","LOW") som användning</span><span class="sxs-lookup"><span data-stu-id="a1bc3-153">Type=Perf CounterName="% Processor Time" &#124; EXTEND if(map(CounterValue,0,50,0,1),"HIGH","LOW") as UTILIZATION</span></span> | <span data-ttu-id="a1bc3-154">Perf &#124; Om CounterName == ”% processortid” \\</span><span class="sxs-lookup"><span data-stu-id="a1bc3-154">Perf &#124; where CounterName == "% Processor Time" \\</span></span>| <span data-ttu-id="a1bc3-155">Utöka användningen = iff (CounterValue > 50, ”hög”, ”lågt”)</span><span class="sxs-lookup"><span data-stu-id="a1bc3-155">extend Utilization = iff(CounterValue > 50, "HIGH", "LOW")</span></span> |
| <span data-ttu-id="a1bc3-156">Aggregeringen</span><span class="sxs-lookup"><span data-stu-id="a1bc3-156">Aggregation</span></span>            | <span data-ttu-id="a1bc3-157">Typ = händelse &#124; måttet count() som antal per dator</span><span class="sxs-lookup"><span data-stu-id="a1bc3-157">Type=Event &#124; measure count() as Count by Computer</span></span> | <span data-ttu-id="a1bc3-158">Händelsen &#124; Sammanfatta Count = count() per dator</span><span class="sxs-lookup"><span data-stu-id="a1bc3-158">Event &#124; summarize Count = count() by Computer</span></span> |
|                                | <span data-ttu-id="a1bc3-159">Typ = Perf ObjectName = Processor CounterName = ”% processortid” &#124; måttet avg(CounterValue) datorn intervall 5 minut</span><span class="sxs-lookup"><span data-stu-id="a1bc3-159">Type=Perf ObjectName=Processor CounterName="% Processor Time" &#124; measure avg(CounterValue) by Computer interval 5minute</span></span> | <span data-ttu-id="a1bc3-160">Perf &#124; där ObjectName == ”-Processor” och CounterName == ”% processortid” &#124; Sammanfatta avg(CounterValue) per dator, bin (TimeGenerated 5 minuter)</span><span class="sxs-lookup"><span data-stu-id="a1bc3-160">Perf &#124; where ObjectName=="Processor" and CounterName=="% Processor Time" &#124; summarize avg(CounterValue) by Computer, bin(TimeGenerated, 5min)</span></span> |
| <span data-ttu-id="a1bc3-161">Aggregeringen med gräns</span><span class="sxs-lookup"><span data-stu-id="a1bc3-161">Aggregation with limit</span></span> | <span data-ttu-id="a1bc3-162">Typ = händelse &#124; måttet count() av datorn &#124; Topp 10</span><span class="sxs-lookup"><span data-stu-id="a1bc3-162">Type=Event &#124; measure count() by Computer &#124; top 10</span></span> | <span data-ttu-id="a1bc3-163">Händelsen &#124; Sammanfatta AggregatedValue = count() av datorn &#124; begränsa 10</span><span class="sxs-lookup"><span data-stu-id="a1bc3-163">Event &#124; summarize AggregatedValue = count() by Computer &#124; limit 10</span></span> |
| <span data-ttu-id="a1bc3-164">Union</span><span class="sxs-lookup"><span data-stu-id="a1bc3-164">Union</span></span>                  | <span data-ttu-id="a1bc3-165">Typ = händelse eller typ = Syslog</span><span class="sxs-lookup"><span data-stu-id="a1bc3-165">Type=Event or Type=Syslog</span></span> | <span data-ttu-id="a1bc3-166">Union händelse Syslog</span><span class="sxs-lookup"><span data-stu-id="a1bc3-166">union Event, Syslog</span></span> |
| <span data-ttu-id="a1bc3-167">Slå ihop</span><span class="sxs-lookup"><span data-stu-id="a1bc3-167">Join</span></span>                   | <span data-ttu-id="a1bc3-168">Typ = NetworkMonitoring &#124; Anslut inre AgentIP (typ = pulsslag) ComputerIP</span><span class="sxs-lookup"><span data-stu-id="a1bc3-168">Type=NetworkMonitoring &#124; join inner AgentIP (Type=Heartbeat) ComputerIP</span></span> | <span data-ttu-id="a1bc3-169">NetworkMonitoring &#124; Anslut typ = internt (Sök typen == ”pulsslag”) på $left. AgentIP == $right.ComputerIP</span><span class="sxs-lookup"><span data-stu-id="a1bc3-169">NetworkMonitoring &#124; join kind=inner (search Type == "Heartbeat") on $left.AgentIP == $right.ComputerIP</span></span> |



## <a name="next-steps"></a><span data-ttu-id="a1bc3-170">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="a1bc3-170">Next steps</span></span>
- <span data-ttu-id="a1bc3-171">Checka ut en [självstudier om hur du skriver frågor](https://go.microsoft.com/fwlink/?linkid=856078) med hello nya frågespråk.</span><span class="sxs-lookup"><span data-stu-id="a1bc3-171">Check out a [tutorial on writing queries](https://go.microsoft.com/fwlink/?linkid=856078) using hello new query language.</span></span>
- <span data-ttu-id="a1bc3-172">Se toohello [Språkreferens för frågan](https://go.microsoft.com/fwlink/?linkid=856079) detaljer om alla kommandot operatorer och funktioner för hello nya frågespråk.</span><span class="sxs-lookup"><span data-stu-id="a1bc3-172">Refer toohello [Query Language Reference](https://go.microsoft.com/fwlink/?linkid=856079) for details on all command, operators, and functions for hello new query language.</span></span>  
