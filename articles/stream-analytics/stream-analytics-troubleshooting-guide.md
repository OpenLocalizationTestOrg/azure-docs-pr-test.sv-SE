---
title: "aaaTroubleshooting guide för Azure Stream Analytics | Microsoft Docs"
description: Hur tootroubleshoot Stream Analytics-jobbet
keywords: "Felsöka programguiden"
documentationcenter: 
services: stream-analytics
author: jeffstokes72
manager: jhubbard
editor: cgronlun
ms.assetid: 
ms.service: stream-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 04/20/2017
ms.author: jeffstok
ms.openlocfilehash: 4add48054e06a7d8eb617a08595c1be4555c59d2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshooting-guide-for-azure-stream-analytics"></a><span data-ttu-id="9503f-104">Felsökningsguide för Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="9503f-104">Troubleshooting guide for Azure Stream Analytics</span></span>

<span data-ttu-id="9503f-105">Felsökning av Azure Stream Analytics kan toobe besvärligt visas vid en första titt.</span><span class="sxs-lookup"><span data-stu-id="9503f-105">Azure Stream Analytics troubleshooting can appear toobe a complex effort at first glance.</span></span> <span data-ttu-id="9503f-106">När du arbetar med många användare kan vi har skapat den här guiden toohelp förenklad hello processen och ta bort hello gissningar om indata, utdata, frågor och funktioner.</span><span class="sxs-lookup"><span data-stu-id="9503f-106">After working with many users, we have created this guide toohelp streamline hello process and remove hello guesswork about your inputs, outputs, queries, and functions.</span></span>

## <a name="troubleshoot-your-stream-analytics-job"></a><span data-ttu-id="9503f-107">Felsöka Stream Analytics-jobbet</span><span class="sxs-lookup"><span data-stu-id="9503f-107">Troubleshoot your Stream Analytics job</span></span>

<span data-ttu-id="9503f-108">För bästa resultat vid felsökning Stream Analytics-jobbet Använd hello följande riktlinjer:</span><span class="sxs-lookup"><span data-stu-id="9503f-108">For best results in troubleshooting your Stream Analytics job, use hello following guidelines:</span></span>

1.  <span data-ttu-id="9503f-109">Testa anslutningen:</span><span class="sxs-lookup"><span data-stu-id="9503f-109">Test your connectivity:</span></span>
    - <span data-ttu-id="9503f-110">Verifiera anslutningsbarhet tooinputs och utdata med hello **Testanslutningen** knappen för varje indata och utdata.</span><span class="sxs-lookup"><span data-stu-id="9503f-110">Verify connectivity tooinputs and outputs by using hello **Test Connection** button for each input and output.</span></span>

2.  <span data-ttu-id="9503f-111">Granska dina indata:</span><span class="sxs-lookup"><span data-stu-id="9503f-111">Examine your input data:</span></span>
    - <span data-ttu-id="9503f-112">tooverify som indata för flödar till Händelsehubben använder [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a) tooconnect tooAzure Händelsehubb (om Event Hub indata används).</span><span class="sxs-lookup"><span data-stu-id="9503f-112">tooverify that input data is flowing into Event Hub, use [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a) tooconnect tooAzure Event Hub (if Event Hub input is used).</span></span>  
    - <span data-ttu-id="9503f-113">Använd hello [ **exempeldata** ](stream-analytics-sample-data-input.md) knappen för varje indata och hämta hello inkommande exempeldata.</span><span class="sxs-lookup"><span data-stu-id="9503f-113">Use hello [**Sample Data**](stream-analytics-sample-data-input.md) button for each input, and download hello input sample data.</span></span>
    - <span data-ttu-id="9503f-114">Inspektera hello exempel data toounderstand hello form av hello data: hello schema och hello [datatyper](https://msdn.microsoft.com/library/azure/dn835065.aspx).</span><span class="sxs-lookup"><span data-stu-id="9503f-114">Inspect hello sample data toounderstand hello shape of hello data: hello schema and hello [data types](https://msdn.microsoft.com/library/azure/dn835065.aspx).</span></span>

3.  <span data-ttu-id="9503f-115">Testa din fråga:</span><span class="sxs-lookup"><span data-stu-id="9503f-115">Test your query:</span></span>
    - <span data-ttu-id="9503f-116">På hello **frågan** använder hello **testa** knappen tootest hello fråga och använda hello hämtas exempeldata för[testa hello fråga](stream-analytics-test-query.md).</span><span class="sxs-lookup"><span data-stu-id="9503f-116">On hello **Query** tab, use hello **Test** button tootest hello query, and use hello downloaded sample data too[test hello query](stream-analytics-test-query.md).</span></span> <span data-ttu-id="9503f-117">Granska eventuella fel och försök toocorrect dem.</span><span class="sxs-lookup"><span data-stu-id="9503f-117">Examine any errors and attempt toocorrect them.</span></span>
    - <span data-ttu-id="9503f-118">Om du använder [ **Timestamp By**](https://msdn.microsoft.com/library/azure/mt573293.aspx), kontrollera att hello händelser har tidsstämplar som är större än hello [jobbet starttid](stream-analytics-out-of-order-and-late-events.md).</span><span class="sxs-lookup"><span data-stu-id="9503f-118">If you use [**Timestamp By**](https://msdn.microsoft.com/library/azure/mt573293.aspx), verify that hello events have timestamps greater than hello [job start time](stream-analytics-out-of-order-and-late-events.md).</span></span>

4.  <span data-ttu-id="9503f-119">Felsöka din fråga:</span><span class="sxs-lookup"><span data-stu-id="9503f-119">Debug your query:</span></span>
    - <span data-ttu-id="9503f-120">Återskapa hello frågan progressivt från enkla select-instruktion toomore komplexa mängder med hjälp av stegen.</span><span class="sxs-lookup"><span data-stu-id="9503f-120">Rebuild hello query progressively from simple select statement toomore complex aggregates by using steps.</span></span> <span data-ttu-id="9503f-121">Använd toobuild in hello frågan logik steg för steg [WITH](https://msdn.microsoft.com/library/azure/dn835049.aspx) satser.</span><span class="sxs-lookup"><span data-stu-id="9503f-121">toobuild up hello query logic step by step, use [WITH](https://msdn.microsoft.com/library/azure/dn835049.aspx) clauses.</span></span>
    - <span data-ttu-id="9503f-122">Använd [SELECT INTO](stream-analytics-select-into.md) toodebug frågesteg.</span><span class="sxs-lookup"><span data-stu-id="9503f-122">Use [SELECT INTO](stream-analytics-select-into.md) toodebug query steps.</span></span>

5.  <span data-ttu-id="9503f-123">Undvika vanliga fallgropar som:</span><span class="sxs-lookup"><span data-stu-id="9503f-123">Eliminate common pitfalls, such as:</span></span>
    - <span data-ttu-id="9503f-124">En [ **där** ](https://msdn.microsoft.com/library/azure/dn835048.aspx) -sats i frågan hello filtreras bort alla händelser som förhindrar att inga utdata som genereras.</span><span class="sxs-lookup"><span data-stu-id="9503f-124">A [**WHERE**](https://msdn.microsoft.com/library/azure/dn835048.aspx) clause in hello query filtered out all events, preventing any output from being generated.</span></span>
    - <span data-ttu-id="9503f-125">När du använder Windows-funktioner, vänta tills hello hela fönstret varaktighet toosee utdata från hello fråga.</span><span class="sxs-lookup"><span data-stu-id="9503f-125">When you use window functions, wait for hello entire window duration toosee an output from hello query.</span></span>
    - <span data-ttu-id="9503f-126">hello tidsstämpel för händelser som föregår hello jobbets starttid och därför händelser släpps.</span><span class="sxs-lookup"><span data-stu-id="9503f-126">hello timestamp for events precedes hello job start time and, therefore, events are being dropped.</span></span>

6.  <span data-ttu-id="9503f-127">Använd händelsen ordning:</span><span class="sxs-lookup"><span data-stu-id="9503f-127">Use event ordering:</span></span>
    - <span data-ttu-id="9503f-128">Om alla hello föregående steg som fungerade bra går toohello **inställningar** och välj [ **händelse ordning**](stream-analytics-out-of-order-and-late-events.md).</span><span class="sxs-lookup"><span data-stu-id="9503f-128">If all hello previous steps worked fine, go toohello **Settings** blade and select [**Event Ordering**](stream-analytics-out-of-order-and-late-events.md).</span></span> <span data-ttu-id="9503f-129">Kontrollera att den här principen är konfigurerad för vad klokt i ditt scenario.</span><span class="sxs-lookup"><span data-stu-id="9503f-129">Verify that this policy is configured for what makes sense in your scenario.</span></span> <span data-ttu-id="9503f-130">hello policy *inte* tillämpas när du använder hello **Test** knappen tootest hello frågan.</span><span class="sxs-lookup"><span data-stu-id="9503f-130">hello policy is *not* applied when you use hello **Test** button tootest hello query.</span></span> <span data-ttu-id="9503f-131">Resultatet är en skillnaden mellan testning i webbläsaren och köra hello jobb i produktion.</span><span class="sxs-lookup"><span data-stu-id="9503f-131">This result is one difference between testing in-browser versus running hello job in production.</span></span>

7.  <span data-ttu-id="9503f-132">Felsöka med hjälp av mätvärden:</span><span class="sxs-lookup"><span data-stu-id="9503f-132">Debug by using metrics:</span></span>
    - <span data-ttu-id="9503f-133">Om du har fått inga utdata när hello förväntad varaktighet (baserat på hello fråga), försök hello följande:</span><span class="sxs-lookup"><span data-stu-id="9503f-133">If you obtain no output after hello expected duration (based on hello query), try hello following:</span></span>
        - <span data-ttu-id="9503f-134">Titta på [ **övervakningen mätvärdena** ](stream-analytics-monitoring.md) på hello **övervakaren** fliken. Eftersom hello värdena aggregeras, fördröjs hello mått med ett par minuter.</span><span class="sxs-lookup"><span data-stu-id="9503f-134">Look at [**Monitoring Metrics**](stream-analytics-monitoring.md) on hello **Monitor** tab. Because hello values are aggregated, hello metrics are delayed by a few minutes.</span></span>
            - <span data-ttu-id="9503f-135">Om inkommande händelser > 0, hello jobbet är kan tooread indata.</span><span class="sxs-lookup"><span data-stu-id="9503f-135">If Input Events > 0, hello job is able tooread input data.</span></span> <span data-ttu-id="9503f-136">Om händelser för indata inte är > 0:</span><span class="sxs-lookup"><span data-stu-id="9503f-136">If Input Events is not > 0, then:</span></span>
                - <span data-ttu-id="9503f-137">toosee om hello datakälla har giltiga data, kontrollera den med hjälp av [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a).</span><span class="sxs-lookup"><span data-stu-id="9503f-137">toosee whether hello data source has valid data, check it by using [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a).</span></span> <span data-ttu-id="9503f-138">Den här kontrollen utförs om hello jobbet använder Event Hub som indata.</span><span class="sxs-lookup"><span data-stu-id="9503f-138">This check applies if hello job is using Event Hub as input.</span></span>
                - <span data-ttu-id="9503f-139">Kontrollera toosee om hello data serialiseringsformat och data kodning som förväntat.</span><span class="sxs-lookup"><span data-stu-id="9503f-139">Check toosee whether hello data serialization format and data encoding are as expected.</span></span>
                - <span data-ttu-id="9503f-140">Om hello jobbet använder en Händelsehubb, kontrollera toosee om hello brödtext hello-meddelande är *Null*.</span><span class="sxs-lookup"><span data-stu-id="9503f-140">If hello job is using an Event Hub, check toosee whether hello body of hello message is *Null*.</span></span>
            - <span data-ttu-id="9503f-141">Om Data Konverteringsfel > 0 och skapa hello följande kan vara sant:</span><span class="sxs-lookup"><span data-stu-id="9503f-141">If Data Conversion Errors > 0 and climbing, hello following might be true:</span></span>
                - <span data-ttu-id="9503f-142">hello jobbet kanske inte kan toode-serialisera hello händelser.</span><span class="sxs-lookup"><span data-stu-id="9503f-142">hello job might not be able toode-serialize hello events.</span></span>
                - <span data-ttu-id="9503f-143">hello Händelseschema kanske inte stämmer med hello definierats eller förväntade schemat för hello händelser i hello-frågan.</span><span class="sxs-lookup"><span data-stu-id="9503f-143">hello event schema might not match hello defined or expected schema of hello events in hello query.</span></span>
                - <span data-ttu-id="9503f-144">hello datatyper på några av hello fält i hello händelsen kanske inte stämmer förväntningar.</span><span class="sxs-lookup"><span data-stu-id="9503f-144">hello datatypes of some of hello fields in hello event might not match expectations.</span></span>
            - <span data-ttu-id="9503f-145">Om körningsfel > 0, innebär det hello jobbet kan ta emot hello data men det uppstår fel under bearbetning av hello frågan.</span><span class="sxs-lookup"><span data-stu-id="9503f-145">If Runtime Errors > 0, it means that hello job can receive hello data but is generating errors while processing hello query.</span></span>
                - <span data-ttu-id="9503f-146">toofind hello fel, gå toohello [granskningsloggar](../azure-resource-manager/resource-group-audit.md) och filtrera på *misslyckades* status.</span><span class="sxs-lookup"><span data-stu-id="9503f-146">toofind hello errors, go toohello [Audit Logs](../azure-resource-manager/resource-group-audit.md) and filter on *Failed* status.</span></span>
            - <span data-ttu-id="9503f-147">Om InputEvents > 0 och OutputEvents = 0, betyder det att en av hello följande är sant:</span><span class="sxs-lookup"><span data-stu-id="9503f-147">If InputEvents > 0 and OutputEvents = 0, it means that one of hello following is true:</span></span>
                - <span data-ttu-id="9503f-148">Frågebearbetningen resulterade i noll utdata-händelser.</span><span class="sxs-lookup"><span data-stu-id="9503f-148">Query processing resulted in zero output events.</span></span>
                - <span data-ttu-id="9503f-149">Händelser eller dess fält kan vara felaktig, vilket resulterar i noll utdata efter bearbetning.</span><span class="sxs-lookup"><span data-stu-id="9503f-149">Events or its fields might be malformed, resulting in zero output after query processing.</span></span>
                - <span data-ttu-id="9503f-150">hello jobbet var toopush data toohello [utdatamottagaren](stream-analytics-select-into.md) av anslutning eller autentisering skäl.</span><span class="sxs-lookup"><span data-stu-id="9503f-150">hello job was unable toopush data toohello [output sink](stream-analytics-select-into.md) for connectivity or authentication reasons.</span></span>
        - <span data-ttu-id="9503f-151">I alla hello som tidigare nämnts fel fall operations loggmeddelanden beskrivs ytterligare information (inklusive vad som händer), förutom i fall där hello frågan logik filtreras bort alla händelser.</span><span class="sxs-lookup"><span data-stu-id="9503f-151">In all hello previously mentioned error cases, operations log messages explain additional details (including what is happening), except in cases where hello query logic filtered out all events.</span></span> <span data-ttu-id="9503f-152">Om hello bearbetning av flera händelser genererar fel, loggar Stream Analytics loggar hello först tre felmeddelanden av samma typ inom 10 minuter tooOperations hello.</span><span class="sxs-lookup"><span data-stu-id="9503f-152">If hello processing of multiple events generates errors, Stream Analytics logs hello first three error messages of hello same type within 10 minutes tooOperations logs.</span></span> <span data-ttu-id="9503f-153">Sedan undertrycks ytterligare identiska fel med meddelandet ”fel sker för snabbt, dessa är dolt”.</span><span class="sxs-lookup"><span data-stu-id="9503f-153">It then suppresses additional identical errors with a message that reads “Errors are happening too rapidly, these are being suppressed.”</span></span>

8. <span data-ttu-id="9503f-154">Felsöka med hjälp av gransknings- och diagnostikloggar:</span><span class="sxs-lookup"><span data-stu-id="9503f-154">Debug by using audit and diagnostic logs:</span></span>
    - <span data-ttu-id="9503f-155">Använd [granskningsloggar](../azure-resource-manager/resource-group-audit.md), och tooidentify och felsökningsloggar filterfel.</span><span class="sxs-lookup"><span data-stu-id="9503f-155">Use [Audit Logs](../azure-resource-manager/resource-group-audit.md), and filter tooidentify and debug errors.</span></span>
    - <span data-ttu-id="9503f-156">Använd [jobbet diagnostikloggar](stream-analytics-job-diagnostic-logs.md) tooidentify och Felsök felen.</span><span class="sxs-lookup"><span data-stu-id="9503f-156">Use [job diagnostic logs](stream-analytics-job-diagnostic-logs.md) tooidentify and debug errors.</span></span>

9. <span data-ttu-id="9503f-157">Undersök hello utdata:</span><span class="sxs-lookup"><span data-stu-id="9503f-157">Examine hello outputs:</span></span>
    - <span data-ttu-id="9503f-158">När hello jobbets status är *kör*, beroende på hello varaktighet som anges i hello fråga, du kan se hello utdata i hello sink-datakällan.</span><span class="sxs-lookup"><span data-stu-id="9503f-158">When hello job status is *Running*, depending on hello duration that's stipulated in hello query, you can see hello output in hello sink data source.</span></span>
    - <span data-ttu-id="9503f-159">Om du inte kan se utdata som ska tooa specifika utdatatypen omdirigera dem tooan utdatatypen som är mindre komplex, till exempel en Azure-Blob.</span><span class="sxs-lookup"><span data-stu-id="9503f-159">If you cannot see outputs that are going tooa specific output type, redirect them tooan output type that is less complex, such as an Azure Blob.</span></span> <span data-ttu-id="9503f-160">Med Lagringsutforskaren kan kontrollera toosee om hello utdata visas.</span><span class="sxs-lookup"><span data-stu-id="9503f-160">By using Storage Explorer, check toosee whether hello output can be seen.</span></span> <span data-ttu-id="9503f-161">Kontrollera om bandbreddsbegränsning gränser med hello utdata förhindrar data tas emot.</span><span class="sxs-lookup"><span data-stu-id="9503f-161">Additionally, verify whether throttling limits at hello output are preventing data from being received.</span></span>

10. <span data-ttu-id="9503f-162">Använd dataflöde analys med jobbet diagram:</span><span class="sxs-lookup"><span data-stu-id="9503f-162">Use data-flow analysis with job diagram metrics:</span></span>
    - <span data-ttu-id="9503f-163">tooanalyze data flödar och identifiera problem, Använd hello [jobbet diagram med](stream-analytics-job-diagram-with-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="9503f-163">tooanalyze data flow and identify issues, use hello [job diagram with metrics](stream-analytics-job-diagram-with-metrics.md).</span></span>

11. <span data-ttu-id="9503f-164">Öppna ett supportärende:</span><span class="sxs-lookup"><span data-stu-id="9503f-164">Open a support case:</span></span>
    - <span data-ttu-id="9503f-165">Slutligen, om allt annat misslyckas, öppna ett supportärende för Microsoft med hello prenumerations-ID som innehåller ditt jobb.</span><span class="sxs-lookup"><span data-stu-id="9503f-165">Finally, if all else fails, open a Microsoft support case by using hello SubscriptionID that contains your job.</span></span>

## <a name="get-help"></a><span data-ttu-id="9503f-166">Få hjälp</span><span class="sxs-lookup"><span data-stu-id="9503f-166">Get help</span></span>

<span data-ttu-id="9503f-167">För ytterligare hjälp försök vår [Azure Stream Analytics-forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span><span class="sxs-lookup"><span data-stu-id="9503f-167">For further assistance, try our [Azure Stream Analytics forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span></span>

## <a name="next-steps"></a><span data-ttu-id="9503f-168">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="9503f-168">Next steps</span></span>

* [<span data-ttu-id="9503f-169">Introduktion tooAzure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="9503f-169">Introduction tooAzure Stream Analytics</span></span>](stream-analytics-introduction.md)
* [<span data-ttu-id="9503f-170">Komma igång med Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="9503f-170">Get started using Azure Stream Analytics</span></span>](stream-analytics-real-time-fraud-detection.md)
* [<span data-ttu-id="9503f-171">Skala Azure Stream Analytics-jobb</span><span class="sxs-lookup"><span data-stu-id="9503f-171">Scale Azure Stream Analytics jobs</span></span>](stream-analytics-scale-jobs.md)
* [<span data-ttu-id="9503f-172">Referens för Azure Stream Analytics-frågespråket</span><span class="sxs-lookup"><span data-stu-id="9503f-172">Azure Stream Analytics Query Language Reference</span></span>](https://msdn.microsoft.com/library/azure/dn834998.aspx)
* [<span data-ttu-id="9503f-173">Referens för Azure Stream Analytics Management REST API</span><span class="sxs-lookup"><span data-stu-id="9503f-173">Azure Stream Analytics Management REST API Reference</span></span>](https://msdn.microsoft.com/library/azure/dn835031.aspx)
