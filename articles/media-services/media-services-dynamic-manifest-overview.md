---
title: Filter och dynamiska manifesten | Microsoft Docs
description: "Det här avsnittet beskriver hur du skapar filter så att klienten kan använda dem till dataströmmen vissa delar av en dataström. Media Services skapar dynamiska manifest för att arkivera den här selektiv strömning."
services: media-services
documentationcenter: 
author: cenkdin
manager: cfowler
editor: 
ms.assetid: ff102765-8cee-4c08-a6da-b603db9e2054
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 06/29/2017
ms.author: cenkd;juliako
ms.openlocfilehash: 4034fd0aa64627c107a43208dcca766f7f44d5d4
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/29/2017
---
# <a name="filters-and-dynamic-manifests"></a><span data-ttu-id="fac57-104">Filter och dynamiska manifest</span><span class="sxs-lookup"><span data-stu-id="fac57-104">Filters and dynamic manifests</span></span>
<span data-ttu-id="fac57-105">Från och med 2.11 kan Media Services du definiera filter för dina tillgångar.</span><span class="sxs-lookup"><span data-stu-id="fac57-105">Starting with 2.11 release, Media Services enables you to define filters for your assets.</span></span> <span data-ttu-id="fac57-106">Dessa filter är server sida regler som gör att kunderna kan välja att till exempel: uppspelning endast en del av en video (i stället för hela video), eller ange bara en del av ljud och video återgivningar som kundens enhet kan hantera (i stället alla återgivningar som är kopplade till tillgången).</span><span class="sxs-lookup"><span data-stu-id="fac57-106">These filters are server side rules that will allow your customers to choose to do things like: playback only a section of a video (instead of playing the whole video), or specify only a subset of audio and video renditions that your customer's device can handle (instead of all the renditions that are associated with the asset).</span></span> <span data-ttu-id="fac57-107">Den här filtreringen dina tillgångar arkiveras via **dynamiska Manifest**s som skapas på kundens begäran för direktuppspelning av video baserat på angivna filter.</span><span class="sxs-lookup"><span data-stu-id="fac57-107">This filtering of your assets is archived through **Dynamic Manifest**s that are created upon your customer's request to stream a video based on specified filter(s).</span></span>

<span data-ttu-id="fac57-108">Detta avsnitt beskriver vanliga scenarier som skulle vara mycket bra att kunder och länkar till avsnitt som visar hur du skapar filter programmässigt med hjälp av filter (för närvarande kan du skapa filter med REST API: er endast).</span><span class="sxs-lookup"><span data-stu-id="fac57-108">This topics discusses common scenarios in which using filters would be very beneficial to your customers and links to topics that demonstrate how to create filters programmatically (currently, you can create filters with REST APIs only).</span></span>

## <a name="overview"></a><span data-ttu-id="fac57-109">Översikt</span><span class="sxs-lookup"><span data-stu-id="fac57-109">Overview</span></span>
<span data-ttu-id="fac57-110">Målet är att tillhandahålla en video av hög kvalitet till olika enheter under olika nätverksförhållanden när du levererar ditt innehåll till kunder som (streaming direktsända händelser eller video-on-demand).</span><span class="sxs-lookup"><span data-stu-id="fac57-110">When delivering your content to customers (streaming live events or video-on-demand) your goal is to deliver a high quality video to various devices under different network conditions.</span></span> <span data-ttu-id="fac57-111">Att uppnå det här målet genom att göra följande:</span><span class="sxs-lookup"><span data-stu-id="fac57-111">To achieve this goal do the following:</span></span>

* <span data-ttu-id="fac57-112">koda strömmen till flera bithastigheter ([anpassningsbar bithastighet](http://en.wikipedia.org/wiki/Adaptive_bitrate_streaming)) video-ström (Detta tar hand om kvalitet och nätverk) och</span><span class="sxs-lookup"><span data-stu-id="fac57-112">encode your stream to multi-bitrate ([adaptive bitrate](http://en.wikipedia.org/wiki/Adaptive_bitrate_streaming)) video stream (this will take care of quality and network conditions) and</span></span> 
* <span data-ttu-id="fac57-113">Använd Media Services [dynamisk paketering](media-services-dynamic-packaging-overview.md) till dynamiskt Ompaketera din ström till olika protokoll (Detta tar hand om strömning på olika enheter).</span><span class="sxs-lookup"><span data-stu-id="fac57-113">use Media Services [Dynamic Packaging](media-services-dynamic-packaging-overview.md) to dynamically re-package your stream into different protocols (this will take care of streaming on different devices).</span></span> <span data-ttu-id="fac57-114">Media Services stöder leverans av följande anpassningsbar bithastighet tekniker för strömning: HTTP Live Streaming (HLS), Smooth Streaming och MPEG DASH.</span><span class="sxs-lookup"><span data-stu-id="fac57-114">Media Services supports delivery of the following adaptive bitrate streaming technologies: HTTP Live Streaming (HLS), Smooth Streaming, and MPEG DASH.</span></span> 

### <a name="manifest-files"></a><span data-ttu-id="fac57-115">Manifest-filer</span><span class="sxs-lookup"><span data-stu-id="fac57-115">Manifest files</span></span>
<span data-ttu-id="fac57-116">När du koda en tillgång för anpassningsbar bithastighet strömning en **manifest** skapas (spelningslista)-fil (filen är text- eller XML-baserade).</span><span class="sxs-lookup"><span data-stu-id="fac57-116">When you encode an asset for adaptive bitrate streaming, a **manifest** (playlist) file is created (the file is text-based or XML-based).</span></span> <span data-ttu-id="fac57-117">Den **manifest** filen innehåller strömning metadata som: spåra typ (ljud, video eller text), spåra namn, start-och sluttid, bithastighet (Egenskaper), spåra språk, presentationsfönstret (skjutfönster fast varaktighet), video-codec ( FourCC).</span><span class="sxs-lookup"><span data-stu-id="fac57-117">The **manifest** file includes streaming metadata such as: track type (audio, video, or text), track name, start and end time, bitrate (qualities), track languages, presentation window (sliding window of fixed duration), video codec (FourCC).</span></span> <span data-ttu-id="fac57-118">Det gör även player att hämta nästa avsnitt ger information om de nästa spelas upp video fragment tillgängliga och deras plats.</span><span class="sxs-lookup"><span data-stu-id="fac57-118">It also instructs the player to retrieve the next fragment by providing information about the next playable video fragments available and their location.</span></span> <span data-ttu-id="fac57-119">Fragment (eller segment) är de faktiska ”mängder” en videoinnehåll.</span><span class="sxs-lookup"><span data-stu-id="fac57-119">Fragments (or segments) are the actual “chunks” of a video content.</span></span>

<span data-ttu-id="fac57-120">Här är ett exempel på en manifestfil:</span><span class="sxs-lookup"><span data-stu-id="fac57-120">Here is an example of a manifest file:</span></span> 

    <?xml version="1.0" encoding="UTF-8"?>    
    <SmoothStreamingMedia MajorVersion="2" MinorVersion="0" Duration="330187755" TimeScale="10000000">

    <StreamIndex Chunks="17" Type="video" Url="QualityLevels({bitrate})/Fragments(video={start time})" QualityLevels="8">
    <QualityLevel Index="0" Bitrate="5860941" FourCC="H264" MaxWidth="1920" MaxHeight="1080" CodecPrivateData="0000000167640028AC2CA501E0089F97015202020280000003008000001931300016E360000E4E1FF8C7076850A4580000000168E9093525" />
    <QualityLevel Index="1" Bitrate="4602724" FourCC="H264" MaxWidth="1920" MaxHeight="1080" CodecPrivateData="0000000167640028AC2CA501E0089F97015202020280000003008000001931100011EDC00002CD29FF8C7076850A45800000000168E9093525" />
    <QualityLevel Index="2" Bitrate="3319311" FourCC="H264" MaxWidth="1280" MaxHeight="720" CodecPrivateData="000000016764001FAC2CA5014016EC054808080A00000300020000030064C0800067C28000103667F8C7076850A4580000000168E9093525" />
    <QualityLevel Index="3" Bitrate="2195119" FourCC="H264" MaxWidth="960" MaxHeight="540" CodecPrivateData="000000016764001FAC2CA503C045FBC054808080A000000300200000064C1000044AA0000ABA9FE31C1DA14291600000000168E9093525" />
    <QualityLevel Index="4" Bitrate="1469881" FourCC="H264" MaxWidth="960" MaxHeight="540" CodecPrivateData="000000016764001FAC2CA503C045FBC054808080A000000300200000064C04000B71A0000E4E1FF8C7076850A4580000000168E9093525" />
    <QualityLevel Index="5" Bitrate="978815" FourCC="H264" MaxWidth="640" MaxHeight="360" CodecPrivateData="000000016764001EAC2CA50280BFE5C0548303032000000300200000064C08001E8480004C4B7F8C7076850A45800000000168E9093525" />
    <QualityLevel Index="6" Bitrate="638374" FourCC="H264" MaxWidth="640" MaxHeight="360" CodecPrivateData="000000016764001EAC2CA50280BFE5C0548303032000000300200000064C080013D60000C65DFE31C1DA1429160000000168E9093525" />
    <QualityLevel Index="7" Bitrate="388851" FourCC="H264" MaxWidth="320" MaxHeight="180" CodecPrivateData="000000016764000DAC2CA505067E7C054830303200000300020000030064C040030D40003D093F8C7076850A45800000000168E9093525" />

    <c t="0" d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="9600000"/>
    </StreamIndex>


    <StreamIndex Chunks="17" Type="audio" Url="QualityLevels({bitrate})/Fragments(AAC_und_ch2_128kbps={start time})" QualityLevels="1" Name="AAC_und_ch2_128kbps">
    <QualityLevel AudioTag="255" Index="0" BitsPerSample="16" Bitrate="125658" FourCC="AACL" CodecPrivateData="1210" Channels="2" PacketSize="4" SamplingRate="44100" />

    <c t="0" d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="6965987" /></StreamIndex>


    <StreamIndex Chunks="17" Type="audio" Url="QualityLevels({bitrate})/Fragments(AAC_und_ch2_56kbps={start time})" QualityLevels="1" Name="AAC_und_ch2_56kbps">
    <QualityLevel AudioTag="255" Index="0" BitsPerSample="16" Bitrate="53655" FourCC="AACL" CodecPrivateData="1210" Channels="2" PacketSize="4" SamplingRate="44100" />

    <c t="0" d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="6965987" /></StreamIndex>

    </SmoothStreamingMedia>

### <a name="dynamic-manifests"></a><span data-ttu-id="fac57-121">Dynamisk manifest</span><span class="sxs-lookup"><span data-stu-id="fac57-121">Dynamic manifests</span></span>
<span data-ttu-id="fac57-122">Det finns [scenarier](media-services-dynamic-manifest-overview.md#scenarios) när klienten behov bättre flexibilitet än vad som beskrivs i standard tillgången manifestfilen.</span><span class="sxs-lookup"><span data-stu-id="fac57-122">There are [scenarios](media-services-dynamic-manifest-overview.md#scenarios) when your client needs more flexibility than what's described in the default asset's manifest file.</span></span> <span data-ttu-id="fac57-123">Exempel:</span><span class="sxs-lookup"><span data-stu-id="fac57-123">For example:</span></span>

* <span data-ttu-id="fac57-124">Enhetsspecifik: leverera endast den angivna återgivningar och/eller angetts språkspår som stöds av den enhet som är används för att spela upp innehållet (”återgivning filtrering”).</span><span class="sxs-lookup"><span data-stu-id="fac57-124">Device specific: deliver only the specified renditions and\or specified language tracks that are supported by the device that is used to playback the content ("rendition filtering").</span></span> 
* <span data-ttu-id="fac57-125">Minska manifestet för att visa ett underordnade klipp för en direktsänd händelse (”underordnade clip filtrering”).</span><span class="sxs-lookup"><span data-stu-id="fac57-125">Reduce the manifest to show a sub-clip of a live event ("sub-clip filtering").</span></span>
* <span data-ttu-id="fac57-126">Beskär början av en video (”trimning en video”).</span><span class="sxs-lookup"><span data-stu-id="fac57-126">Trim the start of a video ("trimming a video").</span></span>
* <span data-ttu-id="fac57-127">Justera Presentation fönstret (DVR) för att ge en begränsad längd på fönstret DVR i player (”justera presentationsfönster”).</span><span class="sxs-lookup"><span data-stu-id="fac57-127">Adjust Presentation Window (DVR) in order to provide a limited length of the DVR window in the player ("adjusting presentation window") .</span></span>

<span data-ttu-id="fac57-128">För att uppnå den här flexibiliteten Media Services erbjuder **dynamiska visar** baserat på fördefinierade [filter](media-services-dynamic-manifest-overview.md#filters).</span><span class="sxs-lookup"><span data-stu-id="fac57-128">To achieve this flexibility, Media Services offers **Dynamic Manifests** based on pre-defined [filters](media-services-dynamic-manifest-overview.md#filters).</span></span>  <span data-ttu-id="fac57-129">När du har definierat filtren kan klienterna använda dem för att strömma en specifik återgivning eller underordnade klipp av videon.</span><span class="sxs-lookup"><span data-stu-id="fac57-129">Once you define the filters, your clients could use them to stream a specific rendition or sub-clips of your video.</span></span> <span data-ttu-id="fac57-130">De vill ange filter i strömnings-URL.</span><span class="sxs-lookup"><span data-stu-id="fac57-130">They would specify filter(s) in the streaming URL.</span></span> <span data-ttu-id="fac57-131">Filter kan tillämpas på protokoll som stöds av strömning med anpassningsbar bithastighet [dynamisk paketering](media-services-dynamic-packaging-overview.md): HLS MPEG-DASH och Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="fac57-131">Filters could be applied to adaptive bitrate streaming protocols supported by [Dynamic Packaging](media-services-dynamic-packaging-overview.md): HLS, MPEG-DASH, and Smooth Streaming.</span></span> <span data-ttu-id="fac57-132">Exempel:</span><span class="sxs-lookup"><span data-stu-id="fac57-132">For example:</span></span>

<span data-ttu-id="fac57-133">URL för MPEG DASH med filter</span><span class="sxs-lookup"><span data-stu-id="fac57-133">MPEG DASH URL with filter</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=mpd-time-csf,filter=MyLocalFilter)

<span data-ttu-id="fac57-134">Smooth Streaming URL med filtret</span><span class="sxs-lookup"><span data-stu-id="fac57-134">Smooth Streaming URL with filter</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(filter=MyLocalFilter)


<span data-ttu-id="fac57-135">Mer information om hur du kan leverera ditt innehåll och bygga URL: er för strömning finns [leverera Innehållsöversikt](media-services-deliver-content-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fac57-135">For more information about how to deliver your content and build streaming URLs, see [Delivering content overview](media-services-deliver-content-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="fac57-136">Observera att dynamisk visar inte ändrar tillgången och standardmanifestet för tillgången.</span><span class="sxs-lookup"><span data-stu-id="fac57-136">Note that Dynamic Manifests do not change the asset and the default manifest for that asset.</span></span> <span data-ttu-id="fac57-137">Klienten kan du begära en dataström med eller utan filter.</span><span class="sxs-lookup"><span data-stu-id="fac57-137">Your client can choose to request a stream with or without filters.</span></span> 
> 
> 

### <span data-ttu-id="fac57-138"><a id="filters"></a>Filter</span><span class="sxs-lookup"><span data-stu-id="fac57-138"><a id="filters"></a>Filters</span></span>
<span data-ttu-id="fac57-139">Det finns två typer av tillgångsinformation filter:</span><span class="sxs-lookup"><span data-stu-id="fac57-139">There are two types of asset filters:</span></span> 

* <span data-ttu-id="fac57-140">Globala filter (kan tillämpas på alla tillgångar i Azure Media Services-konto, har en livslängd på kontot) och</span><span class="sxs-lookup"><span data-stu-id="fac57-140">Global filters (can be applied to any asset in the Azure Media Services account, have a lifetime of the account) and</span></span> 
* <span data-ttu-id="fac57-141">Lokala filter (kan bara tillämpas på en tillgång som kopplades filtret har skapats, har en livslängd på tillgången).</span><span class="sxs-lookup"><span data-stu-id="fac57-141">Local filters (can only be applied to an asset with which the filter was associated upon creation, have a lifetime of the asset).</span></span> 

<span data-ttu-id="fac57-142">Globala och lokala filtyperna ha exakt samma egenskaper.</span><span class="sxs-lookup"><span data-stu-id="fac57-142">Global and local filter types have exactly the same properties.</span></span> <span data-ttu-id="fac57-143">Den största skillnaden mellan två är vilken typ av arkiverar är lämpligast för vilka scenarier.</span><span class="sxs-lookup"><span data-stu-id="fac57-143">The main difference between the two is for which scenarios what type of a filer is more suitable.</span></span> <span data-ttu-id="fac57-144">Globala filter är normalt lämpliga för profiler för enheter (återgivning filtrering) där lokala filter kan användas för att ta bort en specifik resurs.</span><span class="sxs-lookup"><span data-stu-id="fac57-144">Global filters are generally suitable for device profiles (rendition filtering) where local filters could be used to trim a specific asset.</span></span>

## <span data-ttu-id="fac57-145"><a id="scenarios"></a>Vanliga scenarier</span><span class="sxs-lookup"><span data-stu-id="fac57-145"><a id="scenarios"></a>Common scenarios</span></span>
<span data-ttu-id="fac57-146">Som nämnts innan när du levererar ditt innehåll till kunder som (streaming direktsända händelser eller video-on-demand) målet är att tillhandahålla en video av hög kvalitet till olika enheter under olika nätverksförhållanden.</span><span class="sxs-lookup"><span data-stu-id="fac57-146">As was mentioned before, when delivering your content to customers (streaming live events or video-on-demand) your goal is to deliver a high quality video to various devices under different network conditions.</span></span> <span data-ttu-id="fac57-147">Dessutom din kan ha andra krav som inbegriper filtrering dina tillgångar och om hur du använder **dynamiska Manifest**s.</span><span class="sxs-lookup"><span data-stu-id="fac57-147">In addition, your might have other requirements that involve filtering your assets and using of **Dynamic Manifest**s.</span></span> <span data-ttu-id="fac57-148">Följande avsnitt ger en kort översikt över olika scenarier för filtrering.</span><span class="sxs-lookup"><span data-stu-id="fac57-148">The following sections give a short overview of different filtering scenarios.</span></span>

* <span data-ttu-id="fac57-149">Ange endast en delmängd av ljud och video återgivningar som vissa enheter kan hantera (i stället för alla återgivningar som är associerade med tillgången).</span><span class="sxs-lookup"><span data-stu-id="fac57-149">Specify only a subset of audio and video renditions that certain devices can handle (instead of all the renditions that are associated with the asset).</span></span> 
* <span data-ttu-id="fac57-150">Spela upp endast en del av en video (i stället för hela video).</span><span class="sxs-lookup"><span data-stu-id="fac57-150">Playing back only a section of a video (instead of playing the whole video).</span></span>
* <span data-ttu-id="fac57-151">Justera DVR presentationsfönster.</span><span class="sxs-lookup"><span data-stu-id="fac57-151">Adjust DVR presentation window.</span></span>

## <a name="rendition-filtering"></a><span data-ttu-id="fac57-152">Återgivning filtrering</span><span class="sxs-lookup"><span data-stu-id="fac57-152">Rendition filtering</span></span>
<span data-ttu-id="fac57-153">Du kan välja att koda din tillgång till flera kodning profiler (H.264 baslinje, H.264 hög, AACL, AACH, Dolby Digital Plus) och flera olika bithastigheter kvalitet.</span><span class="sxs-lookup"><span data-stu-id="fac57-153">You may choose to encode your asset to multiple encoding profiles (H.264 Baseline, H.264 High, AACL, AACH, Dolby Digital Plus) and multiple quality bitrates.</span></span> <span data-ttu-id="fac57-154">Dock stöder inte alla klientenheter din tillgångs profiler och bithastighet.</span><span class="sxs-lookup"><span data-stu-id="fac57-154">However, not all client devices will support all your asset's profiles and bitrates.</span></span> <span data-ttu-id="fac57-155">Äldre Android-enheter stöder till exempel bara H.264 baslinjen + AACL.</span><span class="sxs-lookup"><span data-stu-id="fac57-155">For example, older Android devices only supports H.264 Baseline+AACL.</span></span> <span data-ttu-id="fac57-156">Skicka högre bithastighet till en enhet som inte kan hämta fördelarna slösar bandbredd och enheten beräkning.</span><span class="sxs-lookup"><span data-stu-id="fac57-156">Sending higher bitrates to a device which cannot get the benefits, wastes bandwidth and device computation.</span></span> <span data-ttu-id="fac57-157">Dessa enheter måste avkoda alla angivna information bara att skala den för visning.</span><span class="sxs-lookup"><span data-stu-id="fac57-157">Such device must decode all the given information, only to scale it down for display.</span></span>

<span data-ttu-id="fac57-158">Med dynamisk Manifest kan du skapa profiler för enhet, till exempel mobile, konsolen HD/SD, etc. och inkludera spårar och egenskaper som du vill ska vara en del av varje profil.</span><span class="sxs-lookup"><span data-stu-id="fac57-158">With Dynamic Manifest, you can create device profiles such as mobile, console, HD/SD, etc. and include the tracks and qualities which you want to be a part of each profile.</span></span>

![Filtrera återgivning-exempel][renditions2]

<span data-ttu-id="fac57-160">I följande exempel har en kodare för att koda en mezzanine tillgång till sju ISO MP4s video återgivningar (från 180p-1080p).</span><span class="sxs-lookup"><span data-stu-id="fac57-160">In the following example, an encoder was used to encode a mezzanine asset into seven ISO MP4s video renditions (from 180p to 1080p).</span></span> <span data-ttu-id="fac57-161">Den kodade tillgången dynamiskt kan paketeras i något av följande protokoll för dataströmmar: MPEG DASH, HLS och Smooth.</span><span class="sxs-lookup"><span data-stu-id="fac57-161">The encoded asset can be dynamically packaged into any of the following streaming protocols: HLS, Smooth, and MPEG DASH.</span></span>  <span data-ttu-id="fac57-162">Längst upp i diagrammet HLS manifest för tillgångsinformation utan filter visas (den innehåller alla sju återgivningar).</span><span class="sxs-lookup"><span data-stu-id="fac57-162">At the top of the diagram, the HLS manifest for the asset with no filters is shown (it contains all seven renditions).</span></span>  <span data-ttu-id="fac57-163">Manifestet HLS som ett filter med namnet ”ott” användes visas längst ned till vänster.</span><span class="sxs-lookup"><span data-stu-id="fac57-163">In the bottom left, the HLS manifest to which a filter named "ott" was applied is shown.</span></span> <span data-ttu-id="fac57-164">Filtret ”ott” anger att ta bort alla bithastighet nedan 1 Mbit/s, vilket resulterade i de nedre två olika tas bort i svaret.</span><span class="sxs-lookup"><span data-stu-id="fac57-164">The "ott" filter specifies to remove all bitrates below 1Mbps, which resulted in the bottom two quality levels being stripped off in the response.</span></span>  <span data-ttu-id="fac57-165">I nederkant högra visas HLS manifestet som ett filter med namnet ”mobil” användes.</span><span class="sxs-lookup"><span data-stu-id="fac57-165">In the bottom right,   the HLS manifest to which a filter named "mobile" was applied is shown.</span></span> <span data-ttu-id="fac57-166">”Mobil” filter anger för att ta bort återgivningar där upplösningen är större än 720p, vilket resulterade i två 1080p återgivningar tas bort.</span><span class="sxs-lookup"><span data-stu-id="fac57-166">The "mobile" filter specifies to remove renditions where the resolution is larger than 720p, which resulted in the two 1080p renditions being stripped off.</span></span>

![Återgivning filtrering][renditions1]

## <a name="removing-language-tracks"></a><span data-ttu-id="fac57-168">Spårar för att ta bort språk</span><span class="sxs-lookup"><span data-stu-id="fac57-168">Removing language tracks</span></span>
<span data-ttu-id="fac57-169">Dina tillgångar kan innehålla flera ljud språk engelska, spanska, franska, t.ex. Vanligtvis Player SDK chefer standard ljud Spåra markering och tillgängliga ljud spårar per användarens val.</span><span class="sxs-lookup"><span data-stu-id="fac57-169">Your assets might include multiple audio languages such as English, Spanish, French, etc. Usually, the Player SDK managers default audio track selection and available audio tracks per user selection.</span></span> <span data-ttu-id="fac57-170">Det är svårt att utveckla sådana Player-SDK: er, kräver olika implementeringar över enhetsspecifika spelarramverk.</span><span class="sxs-lookup"><span data-stu-id="fac57-170">It is challenging to develop such Player SDKs, it requires different implementations across device-specific player-frameworks.</span></span> <span data-ttu-id="fac57-171">Dessutom begränsas Player-API: er på vissa plattformar och inkluderar inte ljud markeringen funktion där användare inte kan välja eller ändra standard ljud spåra. Du kan styra beteendet genom att skapa filter som bara innehåller önskade ljud språk med tillgångsinformation filter.</span><span class="sxs-lookup"><span data-stu-id="fac57-171">Also, on some platforms, Player APIs are limited and do not include audio selection feature where users cannot select or change the default audio track. With asset filters, you can control the behavior by creating filters that only include desired audio languages.</span></span>

![Språk spårar filtrering][language_filter]

## <a name="trimming-start-of-an-asset"></a><span data-ttu-id="fac57-173">Trimning start för en tillgång</span><span class="sxs-lookup"><span data-stu-id="fac57-173">Trimming start of an asset</span></span>
<span data-ttu-id="fac57-174">I de flesta händelser via strömning live kör ansvariga för några test innan den faktiska händelsen.</span><span class="sxs-lookup"><span data-stu-id="fac57-174">In most live streaming events, operators run some tests before the actual event.</span></span> <span data-ttu-id="fac57-175">De kan till exempel inkludera en mallen så här före händelsen: ”programmet börjar tillfälligt”.</span><span class="sxs-lookup"><span data-stu-id="fac57-175">For example, they might include a slate like this before the start of the event: "Program will begin momentarily".</span></span> <span data-ttu-id="fac57-176">Om programmet arkivering test- och en data också arkiveras och kommer att ingå i presentationen.</span><span class="sxs-lookup"><span data-stu-id="fac57-176">If the program is archiving, the test and slate data are also archived and will be included in the presentation.</span></span> <span data-ttu-id="fac57-177">Den här informationen ska inte visas för klienterna.</span><span class="sxs-lookup"><span data-stu-id="fac57-177">However, this information should not be shown to the clients.</span></span> <span data-ttu-id="fac57-178">Du kan skapa ett tidsfilter för start och ta bort oönskade data från manifestet med dynamiska Manifest.</span><span class="sxs-lookup"><span data-stu-id="fac57-178">With Dynamic Manifest, you can create a start time filter and remove the unwanted data from the manifest.</span></span>

![Trimning start][trim_filter]

## <a name="creating-sub-clips-views-from-a-live-archive"></a><span data-ttu-id="fac57-180">Skapa underordnade klipp (vyer) från en live-Arkiv</span><span class="sxs-lookup"><span data-stu-id="fac57-180">Creating sub-clips (views) from a live archive</span></span>
<span data-ttu-id="fac57-181">Många direktsända händelser är tidskrävande och live Arkiv kan innehålla flera händelser.</span><span class="sxs-lookup"><span data-stu-id="fac57-181">Many live events are long running and live archive might include multiple events.</span></span> <span data-ttu-id="fac57-182">När direktsänd händelse kanske ends programföretag vill dela upp live arkivet till logiska programmet startas och stoppa sekvenser.</span><span class="sxs-lookup"><span data-stu-id="fac57-182">After the live event ends broadcasters may want to break up the live archive into logical program start and stop sequences.</span></span> <span data-ttu-id="fac57-183">Sedan kan publicera separat dessa virtuella program utan efter bearbetning live arkivet och inte skapa separata resurser (som inte kommer kunna utnyttja befintliga cachelagrade fragment i de andra CDN-lösningar).</span><span class="sxs-lookup"><span data-stu-id="fac57-183">Then, publish these virtual programs separately without post processing the live archive and not creating separate assets (which will not get benefit of the existing cached fragments in the CDNs).</span></span> <span data-ttu-id="fac57-184">Exempel på sådana virtuella program (underordnade klipp) är kvartal i en football eller basketmatch, innings i baseball eller enskilda händelser i en här olympiad program.</span><span class="sxs-lookup"><span data-stu-id="fac57-184">Examples of such virtual programs (sub-clips) are the quarters of a football or basketball game, the innings in baseball, or individual events of an afternoon of Olympics program.</span></span>

<span data-ttu-id="fac57-185">Du kan skapa filter med start-och sluttider och skapa virtuella vyer över dina live Arkiv med dynamiska Manifest.</span><span class="sxs-lookup"><span data-stu-id="fac57-185">With Dynamic Manifest, you can create filters using start/end times and create virtual views over the top of your live archive.</span></span> 

![Underklipp filter][subclip_filter]

<span data-ttu-id="fac57-187">Filtrerade tillgångsinformation:</span><span class="sxs-lookup"><span data-stu-id="fac57-187">Filtered Asset:</span></span>

![Skidåkning][skiing]

## <a name="adjusting-presentation-window-dvr"></a><span data-ttu-id="fac57-189">Justera presentationsfönstret (DVR)</span><span class="sxs-lookup"><span data-stu-id="fac57-189">Adjusting Presentation Window (DVR)</span></span>
<span data-ttu-id="fac57-190">För närvarande erbjuder Azure Media Services cirkulär Arkiv där varaktigheten kan konfigureras mellan 5 minuter – 25 timmar.</span><span class="sxs-lookup"><span data-stu-id="fac57-190">Currently, Azure Media Services offers circular archive where the duration can be configured between 5 minutes - 25 hours.</span></span> <span data-ttu-id="fac57-191">Manifestet filtrering kan användas för att skapa en rullande fönster för DVR över arkivet, utan att ta bort mediet.</span><span class="sxs-lookup"><span data-stu-id="fac57-191">Manifest filtering can be used to create a rolling DVR window over the top of the archive, without deleting media.</span></span> <span data-ttu-id="fac57-192">Det finns många scenarier där programföretag vill ge ett begränsat DVR fönster som flyttar med levande kant och samtidigt behålla en större arkivering fönster.</span><span class="sxs-lookup"><span data-stu-id="fac57-192">There are many scenarios where broadcasters want to provide a limited DVR window which moves with the live edge and at the same time keep a bigger archiving window.</span></span> <span data-ttu-id="fac57-193">En broadcast kanske vill använda de data som ligger utanför fönstret DVR om du vill markera klipp eller he\she kanske vill ge olika DVR fönster för olika enheter.</span><span class="sxs-lookup"><span data-stu-id="fac57-193">A broadcaster may want to use the data that is out of the DVR window to highlight clips, or he\she may want to provide different DVR windows for different devices.</span></span> <span data-ttu-id="fac57-194">De flesta av de mobila enheterna hanteras exempelvis inte stort DVR windows (du kan ha ett två minuter DVR fönster för mobila enheter och 1 timme för skrivbordsklienter).</span><span class="sxs-lookup"><span data-stu-id="fac57-194">For example, most of the mobile devices don’t handle big DVR windows (you can have a 2 minute DVR window for mobile devices and 1 hour for desktop clients).</span></span>

![DVR fönster][dvr_filter]

## <a name="adjusting-livebackoff-live-position"></a><span data-ttu-id="fac57-196">Justera LiveBackoff (direktsända positionen)</span><span class="sxs-lookup"><span data-stu-id="fac57-196">Adjusting LiveBackoff (live position)</span></span>
<span data-ttu-id="fac57-197">Manifestet filtrering kan användas för att ta bort några sekunder från en direktsänd program live kant.</span><span class="sxs-lookup"><span data-stu-id="fac57-197">Manifest filtering can be used to remove several seconds from the live edge of a live program.</span></span> <span data-ttu-id="fac57-198">Detta gör att programföretag titta på presentationen preview publikationen pekar på och skapa annonsen infogas punkter innan visningsprogram får den dataström (vanligtvis backas upp av med 30 sekunder).</span><span class="sxs-lookup"><span data-stu-id="fac57-198">This allows broadcasters to watch the presentation on the preview publication point and create advertisement insertion points before the viewers receive the stream (usually backed-off by 30 seconds).</span></span> <span data-ttu-id="fac57-199">-Kan sedan push dessa annonser till deras klient-ramverk i tid för dem att mottagna och processinformation innan annons affärsmöjligheten.</span><span class="sxs-lookup"><span data-stu-id="fac57-199">Broadcasters can then push these advertisements to their client frameworks in time for them to received and process the information before the advertisement opportunity.</span></span>

<span data-ttu-id="fac57-200">LiveBackoff kan användas för att justera klienten live download position så att när klienter driva och träffar live kanten kan de fortfarande få fragment från servern i stället för att hämta HTTP-fel 404 eller 412 förutom annons-stöd.</span><span class="sxs-lookup"><span data-stu-id="fac57-200">In addition to the advertisement support, LiveBackoff can be used for adjusting client live download position so that when clients drift and hit the live edge they can still get fragments from server instead of getting 404 or 412 HTTP errors.</span></span>

![livebackoff_filter][livebackoff_filter]

## <a name="combining-multiple-rules-in-a-single-filter"></a><span data-ttu-id="fac57-202">Kombinera flera regler i ett enda filter</span><span class="sxs-lookup"><span data-stu-id="fac57-202">Combining multiple rules in a single filter</span></span>
<span data-ttu-id="fac57-203">Du kan kombinera flera filtreringsregler i ett enda filter.</span><span class="sxs-lookup"><span data-stu-id="fac57-203">You can combine multiple filtering rules in a single filter.</span></span> <span data-ttu-id="fac57-204">Som exempel kan du definiera en regel för intervallet för att ta bort mallen från en live-Arkiv och även filtrera tillgänglig bithastighet.</span><span class="sxs-lookup"><span data-stu-id="fac57-204">As an example you can define a range rule to remove slate from a live archive and also filter available bitrates.</span></span> <span data-ttu-id="fac57-205">Slutresultatet är sammansättning (skärningspunkten) av reglerna för flera filtreringsregler.</span><span class="sxs-lookup"><span data-stu-id="fac57-205">For multiple filtering rules the end result is the composition (intersection only) of these rules.</span></span>

![flera regler][multiple-rules]

## <a name="create-filters-programmatically"></a><span data-ttu-id="fac57-207">Skapa filter programmässigt</span><span class="sxs-lookup"><span data-stu-id="fac57-207">Create filters programmatically</span></span>
<span data-ttu-id="fac57-208">I följande avsnitt beskrivs Media Services-entiteter som är relaterade till filter.</span><span class="sxs-lookup"><span data-stu-id="fac57-208">The following topic discusses Media Services entities that are related to filters.</span></span> <span data-ttu-id="fac57-209">Avsnittet visar även hur du programmässigt skapa filter.</span><span class="sxs-lookup"><span data-stu-id="fac57-209">The topic also shows how to programmatically create filters.</span></span>  

<span data-ttu-id="fac57-210">[Skapa filter med REST API: er](media-services-rest-dynamic-manifest.md).</span><span class="sxs-lookup"><span data-stu-id="fac57-210">[Create filters with REST APIs](media-services-rest-dynamic-manifest.md).</span></span>

## <a name="combining-multiple-filters-filter-composition"></a><span data-ttu-id="fac57-211">Kombinera flera filter (filter sammansättning)</span><span class="sxs-lookup"><span data-stu-id="fac57-211">Combining multiple filters (filter composition)</span></span>
<span data-ttu-id="fac57-212">Du kan också kombinera flera filter i en enskild URL.</span><span class="sxs-lookup"><span data-stu-id="fac57-212">You can also combine multiple filters in a single URL.</span></span> 

<span data-ttu-id="fac57-213">Följande scenario visar varför du kanske vill kombinera filter:</span><span class="sxs-lookup"><span data-stu-id="fac57-213">The following scenario demonstrates why you might want to combine filters:</span></span>

1. <span data-ttu-id="fac57-214">Du vill filtrera din video egenskaper för mobila enheter, till exempel Android eller iPAD (för att begränsa video egenskaper).</span><span class="sxs-lookup"><span data-stu-id="fac57-214">You need to filter your video qualities for mobile devices such as Android or iPAD (in order to limit video qualities).</span></span> <span data-ttu-id="fac57-215">Om du vill ta bort oönskade egenskaper, skulle du skapa ett globalt filter som är lämplig för profiler för enheter.</span><span class="sxs-lookup"><span data-stu-id="fac57-215">To remove the unwanted qualities, you would create a global filter which is suitable for device profiles.</span></span> <span data-ttu-id="fac57-216">Som nämnts ovan är kan globala filter användas för alla tillgångar under samma media services-konto utan ytterligare association.</span><span class="sxs-lookup"><span data-stu-id="fac57-216">As mentioned above, global filters can be used for all your assets under the same media services account without any further association.</span></span> 
2. <span data-ttu-id="fac57-217">Du bör också trim start- och tiden för en tillgång.</span><span class="sxs-lookup"><span data-stu-id="fac57-217">You also want to trim the start and end time of an asset.</span></span> <span data-ttu-id="fac57-218">För att uppnå detta skulle du skapa ett lokalt filter och ange starttid/sluttid.</span><span class="sxs-lookup"><span data-stu-id="fac57-218">To achieve this, you would create a local filter and set the start/end time.</span></span> 
3. <span data-ttu-id="fac57-219">Du vill kombinera båda dessa filter (utan kombination måste du lägga till kvalitet filtrering trimning-filtret som gör filter användning svårt).</span><span class="sxs-lookup"><span data-stu-id="fac57-219">You want to combine both of these filters (without combination you would need to add quality filtering to the trimming filter which will make filter usage difficult).</span></span>

<span data-ttu-id="fac57-220">Om du vill kombinera filter, måste du ange filternamn till manifest/spelningslista URL: en med semikolonavgränsad.</span><span class="sxs-lookup"><span data-stu-id="fac57-220">To combine filters, you need to set the filter names to the manifest/playlist URL with semicolon delimited.</span></span> <span data-ttu-id="fac57-221">Antar vi att du har ett filter med namnet *MyMobileDevice* som filtrerar egenskaper och du har en annan med namnet *MyStartTime* för att ange en specifik starttid.</span><span class="sxs-lookup"><span data-stu-id="fac57-221">Let’s assume you have a filter named *MyMobileDevice* that filters qualities and you have another named *MyStartTime* to set a specific start time.</span></span> <span data-ttu-id="fac57-222">Du kan kombinera dem så här:</span><span class="sxs-lookup"><span data-stu-id="fac57-222">You can combine them like this:</span></span>

    http://teststreaming.streaming.mediaservices.windows.net/3d56a4d-b71d-489b-854f-1d67c0596966/64ff1f89-b430-43f8-87dd-56c87b7bd9e2.ism/Manifest(filter=MyMobileDevice;MyStartTime)

<span data-ttu-id="fac57-223">Du kan kombinera upp till 3 filter.</span><span class="sxs-lookup"><span data-stu-id="fac57-223">You can combine up to 3 filters.</span></span> 

<span data-ttu-id="fac57-224">Mer information finns i [detta](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/) blogg.</span><span class="sxs-lookup"><span data-stu-id="fac57-224">For more information see [this](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/) blog.</span></span>

## <a name="know-issues-and-limitations"></a><span data-ttu-id="fac57-225">Information om problem och begränsningar</span><span class="sxs-lookup"><span data-stu-id="fac57-225">Know issues and limitations</span></span>
* <span data-ttu-id="fac57-226">Dynamisk manifestet fungerar i GOP gränser (nyckeln ramar) därför trimning har GOP noggrannhet.</span><span class="sxs-lookup"><span data-stu-id="fac57-226">Dynamic manifest operates in GOP boundaries (Key Frames) hence trimming has GOP accuracy.</span></span> 
* <span data-ttu-id="fac57-227">Du kan använda samma filnamn för lokala och globala filter.</span><span class="sxs-lookup"><span data-stu-id="fac57-227">You can use same filter name for local and global filters.</span></span> <span data-ttu-id="fac57-228">Observera den lokala filtret har högre prioritet och åsidosätter globala filter.</span><span class="sxs-lookup"><span data-stu-id="fac57-228">Note that local filter have higher precedence and will override global filters.</span></span>
* <span data-ttu-id="fac57-229">Om du uppdaterar ett filter kan ta det upp till 2 minuter för strömmande slutpunkten att uppdatera reglerna.</span><span class="sxs-lookup"><span data-stu-id="fac57-229">If you update a filter, it can take up to 2 minutes for streaming endpoint to refresh the rules.</span></span> <span data-ttu-id="fac57-230">Om innehållet behandlades använda filter (och cachelagras i proxyservrar och CDN cacheminnen) kan uppdaterar dessa filter resultera i player-fel.</span><span class="sxs-lookup"><span data-stu-id="fac57-230">If the content was served using some filters (and cached in proxies and CDN caches), updating these filters can result in player failures.</span></span> <span data-ttu-id="fac57-231">Det rekommenderas att rensa cachen när du har uppdaterat filtret.</span><span class="sxs-lookup"><span data-stu-id="fac57-231">It is recommend to clear the cache after updating the filter.</span></span> <span data-ttu-id="fac57-232">Om det här alternativet inte är möjligt bör du använda ett annat filter.</span><span class="sxs-lookup"><span data-stu-id="fac57-232">If this option is not possible, consider using a different filter.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="fac57-233">Sökvägar för Media Services-utbildning</span><span class="sxs-lookup"><span data-stu-id="fac57-233">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="fac57-234">Ge feedback</span><span class="sxs-lookup"><span data-stu-id="fac57-234">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="see-also"></a><span data-ttu-id="fac57-235">Se även</span><span class="sxs-lookup"><span data-stu-id="fac57-235">See Also</span></span>
[<span data-ttu-id="fac57-236">Leverera innehåll till kunder översikt</span><span class="sxs-lookup"><span data-stu-id="fac57-236">Delivering Content to Customers Overview</span></span>](media-services-deliver-content-overview.md)

[renditions1]: ./media/media-services-dynamic-manifest-overview/media-services-rendition-filter.png
[renditions2]: ./media/media-services-dynamic-manifest-overview/media-services-rendition-filter2.png

[rendered_subclip]: ./media/media-services-dynamic-manifests/media-services-rendered-subclip.png
[timeline_trim_event]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-event.png
[timeline_trim_subclip]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-subclip.png

[multiple-rules]:./media/media-services-dynamic-manifest-overview/media-services-multiple-rules-filters.png

[subclip_filter]: ./media/media-services-dynamic-manifest-overview/media-services-subclips-filter.png
[trim_event]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-event.png
[trim_subclip]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-subclip.png
[trim_filter]: ./media/media-services-dynamic-manifest-overview/media-services-trim-filter.png
[redered_subclip]: ./media/media-services-dynamic-manifests/media-services-rendered-subclip.png
[livebackoff_filter]: ./media/media-services-dynamic-manifest-overview/media-services-livebackoff-filter.png
[language_filter]: ./media/media-services-dynamic-manifest-overview/media-services-language-filter.png
[dvr_filter]: ./media/media-services-dynamic-manifest-overview/media-services-dvr-filter.png
[skiing]: ./media/media-services-dynamic-manifest-overview/media-services-skiing.png
