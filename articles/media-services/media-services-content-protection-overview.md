---
title: "aaaProtect ditt innehåll med Azure Media Services | Microsoft Docs"
description: "Den här artikeln ger en översikt över innehållsskydd med Media Services."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.assetid: 81bc00e1-dcda-4d69-b9ab-8768b793422b
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/29/2017
ms.author: juliako
ms.openlocfilehash: abab7602d71d7357a692976420ca9a988c0d096f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="protecting-content-overview"></a><span data-ttu-id="df942-103">Skydda innehåll-översikt</span><span class="sxs-lookup"><span data-stu-id="df942-103">Protecting content overview</span></span>
<span data-ttu-id="df942-104">Microsoft Azure Media Services kan du toosecure media från hello tid den lämnar din dator via lagring, bearbetning och leverans.</span><span class="sxs-lookup"><span data-stu-id="df942-104">Microsoft Azure Media Services enables you toosecure your media from hello time it leaves your computer through storage, processing, and delivery.</span></span> <span data-ttu-id="df942-105">Media Services kan du toodeliver innehållet live och på begäran dynamiskt krypterad med Standard AES (Advanced Encryption) (med 128-bitars krypteringsnycklar) eller någon av hello större DRMs: Microsoft PlayReady och Google Widevine Apple FairPlay.</span><span class="sxs-lookup"><span data-stu-id="df942-105">Media Services allows you toodeliver your live and on-demand content encrypted dynamically with Advanced Encryption Standard (AES) (using 128-bit encryption keys) or any of hello major DRMs: Microsoft PlayReady, Google Widevine, and Apple FairPlay.</span></span> <span data-ttu-id="df942-106">Media Services tillhandahåller också en tjänst för att leverera AES-nycklar och DRM (PlayReady Widevine och FairPlay) licensierar tooauthorized klienter.</span><span class="sxs-lookup"><span data-stu-id="df942-106">Media Services also provides a service for delivering AES keys and DRM (PlayReady, Widevine, and FairPlay) licenses tooauthorized clients.</span></span> 

<span data-ttu-id="df942-107">hello följande bild visar hello innehållsskydd arbetsflöden som har stöd för AMS.</span><span class="sxs-lookup"><span data-stu-id="df942-107">hello following image demonstrates hello content protection workflows that AMS supports.</span></span> 

![Skydda med PlayReady](./media/media-services-content-protection-overview/media-services-content-protection-with-multi-drm.png)

>[!NOTE]
><span data-ttu-id="df942-109">När AMS-kontot skapas en **standard** strömningsslutpunkt har lagts till tooyour konto i hello **stoppad** tillstånd.</span><span class="sxs-lookup"><span data-stu-id="df942-109">When your AMS account is created a **default** streaming endpoint is added tooyour account in hello **Stopped** state.</span></span> <span data-ttu-id="df942-110">toostart strömning ditt innehåll och dra nytta av dynamisk paketering och dynamisk kryptering hello strömningsslutpunkt som du vill toostream innehåll har toobe i hello **kör** tillstånd.</span><span class="sxs-lookup"><span data-stu-id="df942-110">toostart streaming your content and take advantage of dynamic packaging and dynamic encryption, hello streaming endpoint from which you want toostream content has toobe in hello **Running** state.</span></span> 

<span data-ttu-id="df942-111">Det här avsnittet beskriver [begrepp och termer](media-services-content-protection-overview.md) relevanta toounderstanding innehållsskydd med AMS.</span><span class="sxs-lookup"><span data-stu-id="df942-111">This topic explains [concepts and terminology](media-services-content-protection-overview.md) relevant toounderstanding content protection with AMS.</span></span> <span data-ttu-id="df942-112">hello avsnittet innehåller också [länkar](media-services-content-protection-overview.md#common-scenarios) tootopics som visar hur tooachieve innehåll skyddsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="df942-112">hello topic also contains [links](media-services-content-protection-overview.md#common-scenarios) tootopics that show how tooachieve content protection tasks.</span></span> 

## <a name="dynamic-encryption"></a><span data-ttu-id="df942-113">Dynamisk kryptering</span><span class="sxs-lookup"><span data-stu-id="df942-113">Dynamic encryption</span></span>
<span data-ttu-id="df942-114">Microsoft Azure Media Services kan toodeliver ditt innehåll dynamiskt krypterad med AES Rensa nyckel eller DRM-kryptering: Microsoft PlayReady och Google Widevine Apple FairPlay.</span><span class="sxs-lookup"><span data-stu-id="df942-114">Microsoft Azure Media Services enables you toodeliver your content encrypted  dynamically with AES clear key or DRM encryption: Microsoft PlayReady, Google Widevine, and Apple FairPlay.</span></span>

<span data-ttu-id="df942-115">För närvarande kan du kryptera hello följande strömningsformat: HLS MPEG DASH och Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="df942-115">Currently, you can encrypt hello following streaming formats: HLS, MPEG DASH, and Smooth Streaming.</span></span> <span data-ttu-id="df942-116">Det går inte att kryptera progressiv hämtning.</span><span class="sxs-lookup"><span data-stu-id="df942-116">You cannot encrypt progressive downloads.</span></span>

<span data-ttu-id="df942-117">Om du vill använda för Media Services tooencrypt en tillgång, behöver tooassociate en krypteringsnyckel (CommonEncryption eller EnvelopeEncryption) med din tillgång och även konfigurera auktoriseringsprinciper för hello nyckeln.</span><span class="sxs-lookup"><span data-stu-id="df942-117">If you want for Media Services tooencrypt an asset, you need tooassociate an encryption key (CommonEncryption or EnvelopeEncryption) with your asset and also configure authorization policies for hello key.</span></span>

<span data-ttu-id="df942-118">Du måste också tooconfigure hello tillgångs leveransprincip.</span><span class="sxs-lookup"><span data-stu-id="df942-118">You also need tooconfigure hello asset's delivery policy.</span></span> <span data-ttu-id="df942-119">Om du vill toostream en krypterad tillgång för lagring ser till att toospecify du hur toodeliver den genom att konfigurera principen för tillgångsleverans.</span><span class="sxs-lookup"><span data-stu-id="df942-119">If you want toostream a storage encrypted asset, make sure toospecify how you want toodeliver it by configuring asset delivery policy.</span></span>

<span data-ttu-id="df942-120">När en dataströmmen har begärts av en spelare, använder Media Services hello angetts viktiga toodynamically kryptera ditt innehåll med hjälp av AES Rensa nyckel eller DRM-kryptering.</span><span class="sxs-lookup"><span data-stu-id="df942-120">When a stream is requested by a player, Media Services uses hello specified key toodynamically encrypt your content using AES clear key or DRM encryption.</span></span> <span data-ttu-id="df942-121">toodecrypt hello dataströmmen hello player begär hello nyckeln från hello viktiga leverans av tjänsten.</span><span class="sxs-lookup"><span data-stu-id="df942-121">toodecrypt hello stream, hello player will request hello key from hello key delivery service.</span></span> <span data-ttu-id="df942-122">toodecide om huruvida användaren hello är godkänd tooget hello nyckel, hello tjänsten utvärderar hello auktoriseringsprinciper som du angav för hello nyckeln.</span><span class="sxs-lookup"><span data-stu-id="df942-122">toodecide whether or not hello user is authorized tooget hello key, hello service evaluates hello authorization policies that you specified for hello key.</span></span>


## <a name="storage-encryption"></a><span data-ttu-id="df942-123">Lagringskryptering</span><span class="sxs-lookup"><span data-stu-id="df942-123">Storage encryption</span></span>
<span data-ttu-id="df942-124">Använd lagring kryptering tooencrypt innehållet lokalt med hjälp av AES 256-bitarskryptering och sedan ladda upp den tooAzure lagring där den lagras krypterat i vila.</span><span class="sxs-lookup"><span data-stu-id="df942-124">Use storage encryption tooencrypt your clear content locally using AES 256 bit encryption and then upload it tooAzure Storage where it is stored encrypted at rest.</span></span> <span data-ttu-id="df942-125">Tillgångar som skyddas med lagringskryptering okrypterad och placeras i en krypterad fil system tidigare tooencoding och eventuellt omkrypterade tidigare toouploading tillbaka som en ny utdatatillgång automatiskt.</span><span class="sxs-lookup"><span data-stu-id="df942-125">Assets protected with storage encryption are automatically unencrypted and placed in an encrypted file system prior tooencoding, and optionally re-encrypted prior toouploading back as a new output asset.</span></span> <span data-ttu-id="df942-126">hello primära användningsfall för lagringskryptering är om du vill toosecure dina indata mediefiler hög kvalitet med stark kryptering i vila på disk.</span><span class="sxs-lookup"><span data-stu-id="df942-126">hello primary use case for storage encryption is when you want toosecure your high quality input media files with strong encryption at rest on disk.</span></span>

<span data-ttu-id="df942-127">I ordning toodeliver en krypterad tillgång för lagring, måste du konfigurera hello tillgångsleveransprincip så Media Services vet du hur toodeliver ditt innehåll.</span><span class="sxs-lookup"><span data-stu-id="df942-127">In order toodeliver a storage encrypted asset, you must configure hello asset’s delivery policy so Media Services knows how you want toodeliver your content.</span></span> <span data-ttu-id="df942-128">Innan din tillgång kan strömmas angetts hello streaming server tar bort hello lagringskryptering och dataströmmar innehåll med hello principen för tillgångsleverans (till exempel AES, vanliga kryptering eller Ingen kryptering).</span><span class="sxs-lookup"><span data-stu-id="df942-128">Before your asset can be streamed, hello streaming server removes hello storage encryption and streams your content using hello specified delivery policy (for example, AES, common encryption, or no encryption).</span></span>

## <a name="common-encryption-cenc"></a><span data-ttu-id="df942-129">Vanliga kryptering (CENC)</span><span class="sxs-lookup"><span data-stu-id="df942-129">Common encryption (CENC)</span></span>
<span data-ttu-id="df942-130">Vanliga kryptering används när du krypterar ditt innehåll med PlayReady eller / och Widewine.</span><span class="sxs-lookup"><span data-stu-id="df942-130">Common encryption is used when encrypting your content with PlayReady or/and Widewine.</span></span>

## <a name="using-cbcs-aapl-encryption"></a><span data-ttu-id="df942-131">Med cbcs aapl kryptering</span><span class="sxs-lookup"><span data-stu-id="df942-131">Using cbcs-aapl encryption</span></span>
<span data-ttu-id="df942-132">Cbcs aapl används för att kryptera innehållet med FairPlay.</span><span class="sxs-lookup"><span data-stu-id="df942-132">Cbcs-aapl is used when encrypting your content with FairPlay.</span></span>

## <a name="envelope-encryption"></a><span data-ttu-id="df942-133">Kuvert kryptering</span><span class="sxs-lookup"><span data-stu-id="df942-133">Envelope encryption</span></span>
<span data-ttu-id="df942-134">Använd det här alternativet om du vill tooprotect ditt innehåll med AES-128 klartextnyckel.</span><span class="sxs-lookup"><span data-stu-id="df942-134">Use this option if you want tooprotect your content with AES-128 clear key.</span></span> <span data-ttu-id="df942-135">Om du vill att ett säkrare alternativ kan du välja en av hello DRMs som anges i det här avsnittet.</span><span class="sxs-lookup"><span data-stu-id="df942-135">If you want a more secure option, choose one of hello DRMs listed in this topic.</span></span> 

## <a name="licenses-and-keys-delivery-service"></a><span data-ttu-id="df942-136">Licenser och nycklar leverans av tjänsten</span><span class="sxs-lookup"><span data-stu-id="df942-136">Licenses and keys delivery service</span></span>
<span data-ttu-id="df942-137">Media Services tillhandahåller en tjänst för att leverera DRM (PlayReady, Widevine, FairPlay) licenser och AES avmarkera nycklar tooauthorized klienter.</span><span class="sxs-lookup"><span data-stu-id="df942-137">Media Services provides a service for delivering DRM (PlayReady, Widevine, FairPlay) licenses and AES clear keys tooauthorized clients.</span></span> <span data-ttu-id="df942-138">Du kan använda [hello Azure-portalen](media-services-portal-protect-content.md), REST-API eller Media Services SDK för .NET tooconfigure autentiseringen och auktoriseringen av principer för dina licenser och nycklar.</span><span class="sxs-lookup"><span data-stu-id="df942-138">You can use [hello Azure portal](media-services-portal-protect-content.md), REST API, or Media Services SDK for .NET tooconfigure authorization and authentication policies for your licenses and keys.</span></span>

## <a name="token-restriction"></a><span data-ttu-id="df942-139">Tokenbegränsningar</span><span class="sxs-lookup"><span data-stu-id="df942-139">Token restriction</span></span>
<span data-ttu-id="df942-140">Hej innehållsnyckelns auktoriseringsprincip kan ha en eller flera auktoriseringsbegränsningar: öppen eller tokenbegränsning.</span><span class="sxs-lookup"><span data-stu-id="df942-140">hello content key authorization policy could have one or more authorization restrictions: open or token restriction.</span></span> <span data-ttu-id="df942-141">Hej tokenbegränsade principen måste åtföljas av en token som utfärdas av en säker säkerhetstokentjänst (STS).</span><span class="sxs-lookup"><span data-stu-id="df942-141">hello token restricted policy must be accompanied by a token issued by a Secure Token Service (STS).</span></span> <span data-ttu-id="df942-142">Media Services stöder token i hello Simple Web Tokens (SWT) format och JSON-Webbtoken (JWT)-format.</span><span class="sxs-lookup"><span data-stu-id="df942-142">Media Services supports tokens in hello Simple Web Tokens (SWT) format and JSON Web Token (JWT) format.</span></span> <span data-ttu-id="df942-143">Media Services tillhandahåller inte Secure Token tjänster.</span><span class="sxs-lookup"><span data-stu-id="df942-143">Media Services does not provide Secure Token Services.</span></span> <span data-ttu-id="df942-144">Du kan skapa en anpassad STS eller använda Microsoft Azure ACS tooissue token.</span><span class="sxs-lookup"><span data-stu-id="df942-144">You can create a custom STS or leverage Microsoft Azure ACS tooissue tokens.</span></span> <span data-ttu-id="df942-145">hello STS måste vara konfigurerade toocreate en token som signerats med hello angetts nyckel och utfärda anspråk som du angav i hello tokenbegränsningar konfiguration.</span><span class="sxs-lookup"><span data-stu-id="df942-145">hello STS must be configured toocreate a token signed with hello specified key and issue claims that you specified in hello token restriction configuration.</span></span> <span data-ttu-id="df942-146">hello Media Services viktiga leveranser returnerar hello begärt (eller licensinformation) toohello klienten om hello token är giltig och hello anspråk i hello token matchar de som konfigurerats för hello (eller licensinformation).</span><span class="sxs-lookup"><span data-stu-id="df942-146">hello Media Services key delivery service will return hello requested key (or license) toohello client if hello token is valid and hello claims in hello token match those configured for hello key (or license).</span></span>

<span data-ttu-id="df942-147">Du måste ange hello primära Verifieringsnyckeln, utfärdaren och målgrupp parametrar när du konfigurerar hello tokenbegränsade principen.</span><span class="sxs-lookup"><span data-stu-id="df942-147">When configuring hello token restricted policy, you must specify hello primary verification key, issuer and audience parameters.</span></span> <span data-ttu-id="df942-148">hello primära Verifieringsnyckeln innehåller hello nyckel att hello token som signerats med är utfärdaren hello säker tokentjänsten som utfärdar hello-token.</span><span class="sxs-lookup"><span data-stu-id="df942-148">hello primary verification key contains hello key that hello token was signed with, issuer is hello secure token service that issues hello token.</span></span> <span data-ttu-id="df942-149">hello målgruppen (kallas ibland för scope) beskrivs hello syftet med hello-token eller hello resurs hello token auktoriserar åtkomst till.</span><span class="sxs-lookup"><span data-stu-id="df942-149">hello audience (sometimes called scope) describes hello intent of hello token or hello resource hello token authorizes access to.</span></span> <span data-ttu-id="df942-150">hello Media Services viktiga delivery service verifierar att dessa värden i hello token matchar hello värden i hello mallen.</span><span class="sxs-lookup"><span data-stu-id="df942-150">hello Media Services key delivery service validates that these values in hello token match hello values in hello template.</span></span>

## <a name="streaming-urls"></a><span data-ttu-id="df942-151">Strömmande URL: er</span><span class="sxs-lookup"><span data-stu-id="df942-151">Streaming URLs</span></span>
<span data-ttu-id="df942-152">Om din tillgång har krypterats med flera DRM, bör du använda en tagg för kryptering i hello strömnings-URL: (format = 'm3u8 aapl', kryptering = ”xxx”).</span><span class="sxs-lookup"><span data-stu-id="df942-152">If your asset was encrypted with more than one DRM, you should use an encryption tag in hello streaming URL: (format='m3u8-aapl', encryption='xxx').</span></span>

<span data-ttu-id="df942-153">det gäller hello följande överväganden:</span><span class="sxs-lookup"><span data-stu-id="df942-153">hello following considerations apply:</span></span>

* <span data-ttu-id="df942-154">Endast noll eller en typ av enhetskryptering kan anges.</span><span class="sxs-lookup"><span data-stu-id="df942-154">Only zero or one encryption type can be specified.</span></span>
* <span data-ttu-id="df942-155">Krypteringstyp saknar toobe som anges i hello url om bara en kryptering har tillämpade toohello tillgången.</span><span class="sxs-lookup"><span data-stu-id="df942-155">Encryption type doesn't have toobe specified in hello url if only one encryption was applied toohello asset.</span></span>
* <span data-ttu-id="df942-156">Krypteringstyp är skiftlägeskänsligt.</span><span class="sxs-lookup"><span data-stu-id="df942-156">Encryption type is case insensitive.</span></span>
* <span data-ttu-id="df942-157">hello följande krypteringstyper kan anges:</span><span class="sxs-lookup"><span data-stu-id="df942-157">hello following encryption types can be specified:</span></span>  
  * <span data-ttu-id="df942-158">**cenc**: Common encryption (Playready eller Widevine)</span><span class="sxs-lookup"><span data-stu-id="df942-158">**cenc**:  Common encryption (Playready or Widevine)</span></span>
  * <span data-ttu-id="df942-159">**cbcs aapl**: Fairplay</span><span class="sxs-lookup"><span data-stu-id="df942-159">**cbcs-aapl**: Fairplay</span></span>
  * <span data-ttu-id="df942-160">**CBC**: AES envelope kryptering.</span><span class="sxs-lookup"><span data-stu-id="df942-160">**cbc**: AES envelope encryption.</span></span>

## <a name="common-scenarios"></a><span data-ttu-id="df942-161">Vanliga scenarier</span><span class="sxs-lookup"><span data-stu-id="df942-161">Common scenarios</span></span>
<span data-ttu-id="df942-162">hello följande avsnitt visar hur tooprotect innehållet i lagring, leverera dynamiskt krypterade strömmande media, använda AMS-nyckel/licensleveranstjänst</span><span class="sxs-lookup"><span data-stu-id="df942-162">hello following topics demonstrate how tooprotect content in storage, deliver dynamically encrypted streaming media, use AMS key/license delivery service</span></span>

* [<span data-ttu-id="df942-163">Skydda med AES</span><span class="sxs-lookup"><span data-stu-id="df942-163">Protect with AES</span></span>](media-services-protect-with-aes128.md) 
* [<span data-ttu-id="df942-164">Skydda med PlayReady och/eller Widevine</span><span class="sxs-lookup"><span data-stu-id="df942-164">Protect with PlayReady and/or Widevine </span></span>](media-services-protect-with-drm.md)
* [<span data-ttu-id="df942-165">Strömma ditt innehåll skyddade HLS med Apple FairPlay/PlayReady eller</span><span class="sxs-lookup"><span data-stu-id="df942-165">Stream your HLS content Protected with Apple FairPlay and/or PlayReady</span></span>](media-services-protect-hls-with-fairplay.md)

### <a name="additional-scenarios"></a><span data-ttu-id="df942-166">Fler scenarier</span><span class="sxs-lookup"><span data-stu-id="df942-166">Additional scenarios</span></span>
* <span data-ttu-id="df942-167">[Hur toointegrate Azure PlayReady licens tjänst med din egen krypterare/streaming server](http://mingfeiy.com/integrate-azure-playready-license-service-encryptorstreaming-server).</span><span class="sxs-lookup"><span data-stu-id="df942-167">[How toointegrate Azure PlayReady License service with your own encryptor/streaming server](http://mingfeiy.com/integrate-azure-playready-license-service-encryptorstreaming-server).</span></span>
* [<span data-ttu-id="df942-168">Med hjälp av castLabs toodeliver DRM-licenser tooAzure Media Services</span><span class="sxs-lookup"><span data-stu-id="df942-168">Using castLabs toodeliver DRM licenses tooAzure Media Services</span></span>](media-services-castlabs-integration.md)

>[!NOTE]
><span data-ttu-id="df942-169">Ett scenario där du använder ett externt DRM server(technology) och ström från AMS stöds inte för närvarande.</span><span class="sxs-lookup"><span data-stu-id="df942-169">A scenario in which you use an external DRM server(technology) and stream from AMS is currently not supported.</span></span>


## <a name="media-services-learning-paths"></a><span data-ttu-id="df942-170">Sökvägar för Media Services-utbildning</span><span class="sxs-lookup"><span data-stu-id="df942-170">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="df942-171">Ge feedback</span><span class="sxs-lookup"><span data-stu-id="df942-171">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="related-links"></a><span data-ttu-id="df942-172">Relaterade länkar</span><span class="sxs-lookup"><span data-stu-id="df942-172">Related Links</span></span>
[<span data-ttu-id="df942-173">Om PlayReady som en tjänst och AES dynamisk kryptering med Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="df942-173">Announcing PlayReady as a service and AES dynamic encryption with Azure Media Services</span></span>](http://mingfeiy.com/playready)

[<span data-ttu-id="df942-174">Azure Media Services PlayReady licens leverans priser förklaras</span><span class="sxs-lookup"><span data-stu-id="df942-174">Azure Media Services PlayReady license delivery pricing explained</span></span>](http://mingfeiy.com/playready-pricing-explained-in-azure-media-services)

[<span data-ttu-id="df942-175">Hur toodebug för AES krypterad dataström i Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="df942-175">How toodebug for AES encrypted stream in Azure Media Services</span></span>](http://mingfeiy.com/debug-aes-encrypted-stream-azure-media-services)

[<span data-ttu-id="df942-176">JWT-token authenitcation</span><span class="sxs-lookup"><span data-stu-id="df942-176">JWT token authenitcation</span></span>](http://www.gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/)

<span data-ttu-id="df942-177">[Integrera Azure Media Services OWIN MVC baserat app med Azure Active Directory och begränsa viktiga innehållsleverans baserat på JWT anspråk](http://www.gtrifonov.com/2015/01/24/mvc-owin-azure-media-services-ad-integration/).</span><span class="sxs-lookup"><span data-stu-id="df942-177">[Integrate Azure Media Services OWIN MVC based app with Azure Active Directory and restrict content key delivery based on JWT claims](http://www.gtrifonov.com/2015/01/24/mvc-owin-azure-media-services-ad-integration/).</span></span>

<span data-ttu-id="df942-178">[Använd Azure ACS tooissue token](http://mingfeiy.com/acs-with-key-services).</span><span class="sxs-lookup"><span data-stu-id="df942-178">[Use Azure ACS tooissue tokens](http://mingfeiy.com/acs-with-key-services).</span></span>

[content-protection]: ./media/media-services-content-protection-overview/media-services-content-protection.png
