---
title: "Live med lokala kodare som skapar dataströmmar i multibithastighet - Azure strömmen | Microsoft Docs"
description: "Det här avsnittet beskriver hur du ställer in en kanal som tar emot en direktsänd dataström med multibithastighet från en lokala kodare. Dataströmmen kan sedan levereras till klienten uppspelning program via en eller flera strömningsslutpunkter, med någon av följande protokoll för anpassningsbar strömning: HLS, Smooth Streaming STRECK."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.assetid: d9f0912d-39ec-4c9c-817b-e5d9fcf1f7ea
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 04/12/2017
ms.author: cenkd;juliako
ms.openlocfilehash: 3f6569d32708c42247e0ffec70389f2e0f07389e
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/29/2017
---
# <a name="live-streaming-with-on-premises-encoders-that-create-multi-bitrate-streams"></a><span data-ttu-id="2d6ca-104">Direktsänd strömning med lokala kodare som skapar dataströmmar i multibithastighet</span><span class="sxs-lookup"><span data-stu-id="2d6ca-104">Live streaming with on-premises encoders that create multi-bitrate streams</span></span>
## <a name="overview"></a><span data-ttu-id="2d6ca-105">Översikt</span><span class="sxs-lookup"><span data-stu-id="2d6ca-105">Overview</span></span>
<span data-ttu-id="2d6ca-106">I Azure Media Services en *kanal* representerar en pipeline för bearbetning av live-streaming innehåll.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-106">In Azure Media Services, a *channel* represents a pipeline for processing live-streaming content.</span></span> <span data-ttu-id="2d6ca-107">En kanal som tar emot live indata i ett av två sätt:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-107">A channel receives live input streams in one of two ways:</span></span>

* <span data-ttu-id="2d6ca-108">En lokal livekodare skickar en multibithastighet RTMP eller Smooth Streaming (fragmenterad MP4) strömma till den kanal som inte är aktiverad för att utföra live encoding med Media Services.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-108">An on-premises live encoder sends a multi-bitrate RTMP or Smooth Streaming (fragmented MP4) stream to the channel that is not enabled to perform live encoding with Media Services.</span></span> <span data-ttu-id="2d6ca-109">De infogade strömmarna passerar genom kanalerna utan vidare bearbetning.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-109">The ingested streams pass through channels without any further processing.</span></span> <span data-ttu-id="2d6ca-110">Den här metoden anropas *direkt*.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-110">This method is called *pass-through*.</span></span> <span data-ttu-id="2d6ca-111">Du kan använda följande livekodare som har flera bithastigheter Smooth Streaming som utdata: Media Excel, Ateme, anta kommunikation, Envivio, Cisco och Elemental.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-111">You can use the following live encoders that have multi-bitrate Smooth Streaming as output: Media Excel, Ateme, Imagine Communications, Envivio, Cisco, and Elemental.</span></span> <span data-ttu-id="2d6ca-112">Följande livekodare har RTMP som utdata: Adobe Flash Live mediekodare, Telestream Wirecast, Haivision, Teradek och TriCaster.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-112">The following live encoders have RTMP as output: Adobe Flash Media Live Encoder, Telestream Wirecast, Haivision, Teradek, and TriCaster.</span></span> <span data-ttu-id="2d6ca-113">En livekodare kan även skicka en dataström med enkel bithastighet till en kanal som inte är aktiverad för live encoding, men vi rekommenderar inte som.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-113">A live encoder can also send a single-bitrate stream to a channel that is not enabled for live encoding, but we don't recommend that.</span></span> <span data-ttu-id="2d6ca-114">Media Services ger strömmen till kunder som begär den.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-114">Media Services delivers the stream to customers who request it.</span></span>

  > [!NOTE]
  > <span data-ttu-id="2d6ca-115">Genomströmningsmetoden är det mest ekonomiska sättet för liveströmning.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-115">Using a pass-through method is the most economical way to do live streaming.</span></span>


* <span data-ttu-id="2d6ca-116">En lokal livekodare skickar en dataström med enkel bithastighet till den kanal som är aktiverad för att utföra live encoding med Media Services i något av följande format: RTP (MPEG-TS) RTMP eller Smooth Streaming (fragmenterad MP4).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-116">An on-premises live encoder sends a single-bitrate stream to the channel that is enabled to perform live encoding with Media Services in one of the following formats: RTP (MPEG-TS), RTMP, or Smooth Streaming (fragmented MP4).</span></span> <span data-ttu-id="2d6ca-117">Kanalen utför sedan live encoding av den inkommande dataströmmen i enkel bithastighet till en flera bithastigheter (anpassningsbar) video-ström.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-117">The channel then performs live encoding of the incoming single-bitrate stream to a multi-bitrate (adaptive) video stream.</span></span> <span data-ttu-id="2d6ca-118">Media Services ger strömmen till kunder som begär den.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-118">Media Services delivers the stream to customers who request it.</span></span>

<span data-ttu-id="2d6ca-119">Från och med Media Services 2.10-versionen när du skapar en kanal kan ange du hur du vill att din kanal tar emot Indataströmmen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-119">Starting with the Media Services 2.10 release, when you create a channel, you can specify how you want your channel to receive the input stream.</span></span> <span data-ttu-id="2d6ca-120">Du kan också ange om du vill att utföra live encoding av strömmen kanalen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-120">You can also specify whether you want the channel to perform live encoding of your stream.</span></span> <span data-ttu-id="2d6ca-121">Du kan välja mellan två alternativ:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-121">You have two options:</span></span>

* <span data-ttu-id="2d6ca-122">**Gå igenom**: Ange det här värdet om du planerar att använda en lokal livekodare som ska ha en dataström med multibithastighet (en direkt dataström) som utdata.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-122">**Pass Through**: Specify this value if you plan to use an on-premises live encoder that will have a multi-bitrate stream (a pass-through stream) as output.</span></span> <span data-ttu-id="2d6ca-123">I det här fallet passerar den inkommande dataströmmen genom att utdata utan kodning.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-123">In this case, the incoming stream passes through to the output without any encoding.</span></span> <span data-ttu-id="2d6ca-124">Det här är beteendet för en kanal innan 2,10.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-124">This is the behavior of a channel before the 2.10 release.</span></span> <span data-ttu-id="2d6ca-125">Det här avsnittet ger information om att arbeta med kanaler av den här typen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-125">This topic gives details about working with channels of this type.</span></span>
* <span data-ttu-id="2d6ca-126">**Live kodning**: Välj det här värdet om du planerar att använda Media Services för att koda en direktsänd dataström med enkel bithastighet till en dataström med multibithastighet.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-126">**Live Encoding**: Choose this value if you plan to use Media Services to encode your single-bitrate live stream to a multi-bitrate stream.</span></span> <span data-ttu-id="2d6ca-127">Tänk som lämnar en direktsänd kodning kanaler i en **kör** tillstånd kommer avgifter faktureringsinformation.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-127">Be aware that leaving a live encoding channel in a **Running** state will incur billing charges.</span></span> <span data-ttu-id="2d6ca-128">Vi rekommenderar att du stoppar du omedelbart dina kanaler som körs när din live-streaming-händelse är klar att undvika extra timvis avgifter.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-128">We recommend that you immediately stop your running channels after your live-streaming event is complete to avoid extra hourly charges.</span></span> <span data-ttu-id="2d6ca-129">Media Services ger strömmen till kunder som begär den.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-129">Media Services delivers the stream to customers who request it.</span></span>

> [!NOTE]
> <span data-ttu-id="2d6ca-130">Det här avsnittet beskrivs attributen för kanaler som inte är aktiverade för att utföra live encoding.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-130">This topic discusses attributes of channels that are not enabled to perform live encoding.</span></span> <span data-ttu-id="2d6ca-131">Information om att arbeta med kanaler som är aktiverade för att utföra live encoding finns [direktsänd strömning med Azure Media Services för att skapa dataströmmar i multibithastighet](media-services-manage-live-encoder-enabled-channels.md).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-131">For information about working with channels that are enabled to perform live encoding, see [Live streaming using Azure Media Services to create multi-bitrate streams](media-services-manage-live-encoder-enabled-channels.md).</span></span>
>
>

<span data-ttu-id="2d6ca-132">Följande diagram representerar en live-streaming-arbetsflöde som använder en lokal livekodare för att ha flera bithastigheter RTMP eller fragmenterad MP4 (Smooth Streaming) dataströmmar som utdata.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-132">The following diagram represents a live-streaming workflow that uses an on-premises live encoder to have multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) streams as output.</span></span>

![Live-arbetsflöde][live-overview]

## <span data-ttu-id="2d6ca-134"><a id="scenario"></a>Vanligt scenario för live-direktuppspelning</span><span class="sxs-lookup"><span data-stu-id="2d6ca-134"><a id="scenario"></a>Common live-streaming scenario</span></span>
<span data-ttu-id="2d6ca-135">Följande steg beskriver uppgifter som ingår i att skapa vanliga live-streaming-program.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-135">The following steps describe tasks involved in creating common live-streaming applications.</span></span>

1. <span data-ttu-id="2d6ca-136">Anslut en videokamera till en dator.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-136">Connect a video camera to a computer.</span></span> <span data-ttu-id="2d6ca-137">Starta och konfigurera en lokal livekodare som har en multibithastighet RTMP eller fragmenterad MP4 (Smooth Streaming) dataströmmen som utdata.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-137">Start and configure an on-premises live encoder that has a multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) stream as output.</span></span> <span data-ttu-id="2d6ca-138">Mer information finns i [Support och livekodare för Azure Media Services RTMP](http://go.microsoft.com/fwlink/?LinkId=532824).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-138">For more information, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

    <span data-ttu-id="2d6ca-139">Du kan också utföra det här steget när du har skapat din kanal.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-139">You can also perform this step after you create your channel.</span></span>
2. <span data-ttu-id="2d6ca-140">Skapa och starta en kanal.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-140">Create and start a channel.</span></span>

3. <span data-ttu-id="2d6ca-141">Hämta kanalens infognings-URL.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-141">Retrieve the channel ingest URL.</span></span>

    <span data-ttu-id="2d6ca-142">Live Encoding använder infognings-URL: en för att skicka dataströmmen till kanalen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-142">The live encoder uses the ingest URL to send the stream to the channel.</span></span>
4. <span data-ttu-id="2d6ca-143">Hämta kanalens förhandsgransknings-URL.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-143">Retrieve the channel preview URL.</span></span>

    <span data-ttu-id="2d6ca-144">Använd denna URL för att kontrollera att din kanal tar emot den direktsända dataströmmen korrekt.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-144">Use this URL to verify that your channel is properly receiving the live stream.</span></span>
5. <span data-ttu-id="2d6ca-145">Skapa ett program.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-145">Create a program.</span></span>

    <span data-ttu-id="2d6ca-146">Det skapas även en tillgång till när du använder Azure-portalen för att skapa ett program.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-146">When you use the Azure portal, creating a program also creates an asset.</span></span>

    <span data-ttu-id="2d6ca-147">När du använder .NET SDK eller REST, måste du skapa en tillgång och ange om du vill använda den här tillgången när du skapar ett program.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-147">When you use the .NET SDK or REST, you need to create an asset and specify to use this asset when creating a program.</span></span>
6. <span data-ttu-id="2d6ca-148">Publicera tillgången som är kopplad till programmet.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-148">Publish the asset that's associated with the program.</span></span>   

    >[!NOTE]
    ><span data-ttu-id="2d6ca-149">När Azure Media Services-konto skapas en **standard** strömningsslutpunkt har lagts till i ditt konto i den **stoppad** tillstånd.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-149">When your Azure Media Services account is created, a **default** streaming endpoint is added to your account in the **Stopped** state.</span></span> <span data-ttu-id="2d6ca-150">Slutpunkten för direktuppspelning som du vill spela upp innehåll från måste ha tillståndet **Körs**.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-150">The streaming endpoint from which you want to stream content has to be in the **Running** state.</span></span>

7. <span data-ttu-id="2d6ca-151">Starta programmet när du är redo att påbörja strömning och arkivering.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-151">Start the program when you're ready to start streaming and archiving.</span></span>

8. <span data-ttu-id="2d6ca-152">Som alternativ kan livekodaren få signal om att starta en annons.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-152">Optionally, the live encoder can be signaled to start an advertisement.</span></span> <span data-ttu-id="2d6ca-153">Annonsen infogas i utdataströmmen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-153">The advertisement is inserted in the output stream.</span></span>

9. <span data-ttu-id="2d6ca-154">Stoppa programmet när du vill stoppa strömningen och arkiveringen av händelsen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-154">Stop the program whenever you want to stop streaming and archiving the event.</span></span>

10. <span data-ttu-id="2d6ca-155">Ta bort programmet (och ta eventuellt bort tillgången).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-155">Delete the program (and optionally delete the asset).</span></span>     

## <span data-ttu-id="2d6ca-156"><a id="channel"></a>Beskrivning av en kanal och dess relaterade komponenter</span><span class="sxs-lookup"><span data-stu-id="2d6ca-156"><a id="channel"></a>Description of a channel and its related components</span></span>
### <span data-ttu-id="2d6ca-157"><a id="channel_input"></a>Kanalen indata (infognings) konfigurationer</span><span class="sxs-lookup"><span data-stu-id="2d6ca-157"><a id="channel_input"></a>Channel input (ingest) configurations</span></span>
#### <span data-ttu-id="2d6ca-158"><a id="ingest_protocols"></a>Strömmande infogningsprotokollet</span><span class="sxs-lookup"><span data-stu-id="2d6ca-158"><a id="ingest_protocols"></a>Ingest streaming protocol</span></span>
<span data-ttu-id="2d6ca-159">Media Services stöder vill föra in levande feeds med flera bithastigheter fragmenterad MP4 och flera bithastigheter RTMP som strömningsprotokoll.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-159">Media Services supports ingesting live feeds by using multi-bitrate fragmented MP4 and multi-bitrate RTMP as streaming protocols.</span></span> <span data-ttu-id="2d6ca-160">När infognings-RTMP strömning protokoll har valts, två infognings-(indata) slutpunkter har skapats för kanalen:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-160">When the RTMP ingest streaming protocol is selected, two ingest (input) endpoints are created for the channel:</span></span>

* <span data-ttu-id="2d6ca-161">**Primär URL**: Anger den fullständiga URL-Adressen för kanalens primära RTMP infognings-slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-161">**Primary URL**: Specifies the fully qualified URL of the channel's primary RTMP ingest endpoint.</span></span>
* <span data-ttu-id="2d6ca-162">**Sekundär URL** (valfritt): Anger den fullständiga URL-Adressen för kanalens sekundära RTMP infognings-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-162">**Secondary URL** (optional): Specifies the fully qualified URL of the channel's secondary RTMP ingest endpoint.</span></span>

<span data-ttu-id="2d6ca-163">Använd sekundära URL Om du vill förbättra hållbarhet och feltolerans för din infognings dataström (samt kodare redundans och feltolerans), särskilt för följande scenarier:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-163">Use the secondary URL if you want to improve the durability and fault tolerance of your ingest stream (as well as encoder failover and fault tolerance), especially for the following scenarios:</span></span>

- <span data-ttu-id="2d6ca-164">Enskild kodare double-push-installation till både primär och sekundär URL: er:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-164">Single encoder double-pushing to both primary and secondary URLs:</span></span>

    <span data-ttu-id="2d6ca-165">Det huvudsakliga syftet med det här scenariot är att ge bättre återhämtning i nätverket variationer och skakningar.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-165">The main purpose of this scenario is to provide more resiliency to network fluctuations and jitters.</span></span> <span data-ttu-id="2d6ca-166">Vissa RTMP kodare inte hantera nätverksavbrott bra.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-166">Some RTMP encoders don't handle network disconnects well.</span></span> <span data-ttu-id="2d6ca-167">När det sker ett kopplas från, kan en kodare stoppa kodning och sedan inte att skicka alla buffrade data när en återanslutning sker.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-167">When a network disconnect happens, an encoder might stop encoding and then not send the buffered data when a reconnect happens.</span></span> <span data-ttu-id="2d6ca-168">Detta leder till avbrott och förlorade data.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-168">This causes discontinuities and data loss.</span></span> <span data-ttu-id="2d6ca-169">Nätverksavbrott kan inträffa på grund av ett felaktigt nätverk eller underhåll på Azure-sidan.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-169">Network disconnects can happen because of a bad network or maintenance on the Azure side.</span></span> <span data-ttu-id="2d6ca-170">Primära och sekundära URL: er minska problem med nätverket och ger en kontrollerad uppgraderingsprocessen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-170">Primary/secondary URLs reduce the network problems and provide a controlled upgrade process.</span></span> <span data-ttu-id="2d6ca-171">Varje gång som sker en schemalagd nätverk koppla från Media Services hanterar primära och sekundära kopplar ifrån och ger en fördröjd koppla bort mellan två.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-171">Each time a scheduled network disconnect happens, Media Services manages the primary and secondary disconnects and provides a delayed disconnect between the two.</span></span> <span data-ttu-id="2d6ca-172">Kodare har sedan tid att behålla skicka data och ansluta igen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-172">Encoders then have time to keep sending data and reconnect again.</span></span> <span data-ttu-id="2d6ca-173">Ordningen på de kopplas från kan vara slumpmässiga, men det kommer alltid att vara en fördröjning mellan primära och sekundära eller sekundär eller den primära URL-adresser.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-173">The order of the disconnects can be random, but there will always be a delay between primary/secondary or secondary/primary URLs.</span></span> <span data-ttu-id="2d6ca-174">I det här scenariot är kodaren fortfarande enskild felpunkt.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-174">In this scenario, the encoder is still the single point of failure.</span></span>

- <span data-ttu-id="2d6ca-175">Flera kodare med varje encoder push-installation till en särskild plats:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-175">Multiple encoders, with each encoder pushing to a dedicated point:</span></span>

    <span data-ttu-id="2d6ca-176">Det här scenariot ger både kodare och infognings-redundans.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-176">This scenario provides both encoder and ingest redundancy.</span></span> <span data-ttu-id="2d6ca-177">I det här scenariot encoder1 push-meddelanden till den primära URL och encoder2 push-meddelanden till den sekundära URL.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-177">In this scenario, encoder1 pushes to the primary URL, and encoder2 pushes to the secondary URL.</span></span> <span data-ttu-id="2d6ca-178">När en kodare misslyckas, kan andra kodaren hålla skickar data.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-178">When an encoder fails, the other encoder can keep sending data.</span></span> <span data-ttu-id="2d6ca-179">Dataredundans kan upprätthållas eftersom Media Services inte kopplar primära och sekundära URL: er på samma gång.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-179">Data redundancy can be maintained because Media Services does not disconnect primary and secondary URLs at the same time.</span></span> <span data-ttu-id="2d6ca-180">Det här scenariot förutsätter att kodare gång synkroniseras och ange exakt samma data.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-180">This scenario assumes that encoders are time synced and provide exactly the same data.</span></span>  

- <span data-ttu-id="2d6ca-181">Flera kodare double-push-installation till både primär och sekundär URL: er:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-181">Multiple encoders double-pushing to both primary and secondary URLs:</span></span>

    <span data-ttu-id="2d6ca-182">I det här scenariot vidarebefordra båda kodare data till både primär och sekundär URL: er.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-182">In this scenario, both encoders push data to both primary and secondary URLs.</span></span> <span data-ttu-id="2d6ca-183">Detta ger den bästa tillförlitlighet och feltolerans, samt dataredundans.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-183">This provides the best reliability and fault tolerance, as well as data redundancy.</span></span> <span data-ttu-id="2d6ca-184">Det här scenariot kan tolerera fel i båda kodaren och kopplar, även om en kodare slutar fungera.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-184">This scenario can tolerate both encoder failures and disconnects, even if one encoder stops working.</span></span> <span data-ttu-id="2d6ca-185">Den förutsätter att kodare gång synkroniseras och ange exakt samma data.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-185">It assumes that encoders are time synced and provide exactly the same data.</span></span>  

<span data-ttu-id="2d6ca-186">Information om RTMP livekodare finns [Azure Media Services RTMP Support och direktsända kodare](http://go.microsoft.com/fwlink/?LinkId=532824).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-186">For information about RTMP live encoders, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

#### <a name="ingest-urls-endpoints"></a><span data-ttu-id="2d6ca-187">Infognings-URL: er (slutpunkter)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-187">Ingest URLs (endpoints)</span></span>
<span data-ttu-id="2d6ca-188">En kanal som tillhandahåller en slutpunkt för indata (infognings-URL) som du anger i livekodaren, så kan push-kodaren dataströmmar till din kanaler.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-188">A channel provides an input endpoint (ingest URL) that you specify in the live encoder, so the encoder can push streams to your channels.</span></span>   

<span data-ttu-id="2d6ca-189">När du skapar kanalen kan du få infognings-URL: er.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-189">You can get the ingest URLs when you create the channel.</span></span> <span data-ttu-id="2d6ca-190">Om du vill hämta dessa URL: er måste kanalen behöver inte finnas i den **kör** tillstånd.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-190">For you to get these URLs, the channel does not have to be in the **Running** state.</span></span> <span data-ttu-id="2d6ca-191">När du är redo att börja skicka data till kanalen kanalen måste finnas i den **kör** tillstånd.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-191">When you're ready to start pushing data to the channel, the channel must be in the **Running** state.</span></span> <span data-ttu-id="2d6ca-192">När kanalen har startat mata in data kan du förhandsgranska dataströmmen via förhandsgransknings-URL.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-192">After the channel starts ingesting data, you can preview your stream through the preview URL.</span></span>

<span data-ttu-id="2d6ca-193">Du har ett alternativ för vill föra in fragmenterad MP4 (Smooth Streaming) direktsänd dataström via en SSL-anslutning.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-193">You have an option of ingesting a fragmented MP4 (Smooth Streaming) live stream over an SSL connection.</span></span> <span data-ttu-id="2d6ca-194">För att mata in via SSL, se till att uppdatera infognings-URL: en till HTTPS.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-194">To ingest over SSL, make sure to update the ingest URL to HTTPS.</span></span> <span data-ttu-id="2d6ca-195">Du kan för närvarande mata in RTMP via SSL.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-195">Currently, you cannot ingest RTMP over SSL.</span></span>

#### <span data-ttu-id="2d6ca-196"><a id="keyframe_interval"></a>Keyframe intervall</span><span class="sxs-lookup"><span data-stu-id="2d6ca-196"><a id="keyframe_interval"></a>Keyframe interval</span></span>
<span data-ttu-id="2d6ca-197">När du använder en lokal livekodare för att generera dataström i multibithastighet varaktighet keyframe intervall för grupp med bilder (GOP) som används av den externa kodaren.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-197">When you're using an on-premises live encoder to generate multi-bitrate stream, the keyframe interval specifies the duration of the group of pictures (GOP) as used by that external encoder.</span></span> <span data-ttu-id="2d6ca-198">När kanalen har tagit emot den här inkommande dataström, du kan leverera din liveströmning för uppspelning av klientprogram i något av följande format: Smooth Streaming, dynamiska anpassningsbar strömning via HTTP-(bindestreck) och HTTP Live Streaming (HLS).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-198">After the channel receives this incoming stream, you can deliver your live stream to client playback applications in any of the following formats: Smooth Streaming, Dynamic Adaptive Streaming over HTTP (DASH), and HTTP Live Streaming (HLS).</span></span> <span data-ttu-id="2d6ca-199">När du utför direktsänd strömning paketeras HLS alltid dynamiskt.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-199">When you're doing live streaming, HLS is always packaged dynamically.</span></span> <span data-ttu-id="2d6ca-200">Som standard beräknas automatiskt Media Services HLS segment paketering förhållandet (fragment per segment) baserat på det keyframe intervall som tas emot från livekodaren.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-200">By default, Media Services automatically calculates the HLS segment packaging ratio (fragments per segment) based on the keyframe interval that's received from the live encoder.</span></span>

<span data-ttu-id="2d6ca-201">Följande tabell visar hur segment varaktighet beräknas:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-201">The following table shows how the segment duration is calculated:</span></span>

| <span data-ttu-id="2d6ca-202">Keyframe intervall</span><span class="sxs-lookup"><span data-stu-id="2d6ca-202">Keyframe interval</span></span> | <span data-ttu-id="2d6ca-203">HLS segment paketering förhållandet (FragmentsPerSegment)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-203">HLS segment packaging ratio (FragmentsPerSegment)</span></span> | <span data-ttu-id="2d6ca-204">Exempel</span><span class="sxs-lookup"><span data-stu-id="2d6ca-204">Example</span></span> |
| --- | --- | --- |
| <span data-ttu-id="2d6ca-205">Mindre än eller lika med 3 sekunder</span><span class="sxs-lookup"><span data-stu-id="2d6ca-205">Less than or equal to 3 seconds</span></span> |<span data-ttu-id="2d6ca-206">3:1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-206">3:1</span></span> |<span data-ttu-id="2d6ca-207">Om KeyFrameInterval (eller GOP) är 2 sekunder, är standard HLS segment paketering kvoten 3 till 1.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-207">If KeyFrameInterval (or GOP) is 2 seconds, the default HLS segment packaging ratio is 3 to 1.</span></span> <span data-ttu-id="2d6ca-208">Detta skapar ett 6 sekund HLS segment.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-208">This creates a 6-second HLS segment.</span></span> |
| <span data-ttu-id="2d6ca-209">3-5 sekunder</span><span class="sxs-lookup"><span data-stu-id="2d6ca-209">3 to 5 seconds</span></span> |<span data-ttu-id="2d6ca-210">2:1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-210">2:1</span></span> |<span data-ttu-id="2d6ca-211">Om KeyFrameInterval (eller GOP) är 4 sekunder är standard HLS segment paketering förhållandet 2 till 1.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-211">If KeyFrameInterval (or GOP) is 4 seconds, the default HLS segment packaging ratio is 2 to 1.</span></span> <span data-ttu-id="2d6ca-212">Detta skapar ett 8-sekund HLS segment.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-212">This creates an 8-second HLS segment.</span></span> |
| <span data-ttu-id="2d6ca-213">Större än 5 sekunder</span><span class="sxs-lookup"><span data-stu-id="2d6ca-213">Greater than 5 seconds</span></span> |<span data-ttu-id="2d6ca-214">1:1</span><span class="sxs-lookup"><span data-stu-id="2d6ca-214">1:1</span></span> |<span data-ttu-id="2d6ca-215">Om KeyFrameInterval (eller GOP) är 6 sekunder, är standard HLS segment paketering kvoten 1 till 1.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-215">If KeyFrameInterval (or GOP) is 6 seconds, the default HLS segment packaging ratio is 1 to 1.</span></span> <span data-ttu-id="2d6ca-216">Detta skapar ett 6 sekund HLS segment.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-216">This creates a 6-second HLS segment.</span></span> |

<span data-ttu-id="2d6ca-217">Du kan ändra fragment per segment förhållandet genom att konfigurera kanalens utdata och inställningen FragmentsPerSegment på ChannelOutputHls.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-217">You can change the fragments-per-segment ratio by configuring the channel’s output and setting FragmentsPerSegment on ChannelOutputHls.</span></span>

<span data-ttu-id="2d6ca-218">Du kan också ändra intervallvärdet keyframe genom att ange egenskapen KeyFrameInterval på ChanneInput.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-218">You can also change the keyframe interval value by setting the KeyFrameInterval property on ChanneInput.</span></span> <span data-ttu-id="2d6ca-219">Om du uttryckligen ställa in KeyFrameInterval segmentera HLS paketering förhållandet FragmentsPerSegment beräknas med hjälp av regler som beskrivs ovan.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-219">If you explicitly set KeyFrameInterval, the HLS segment packaging ratio FragmentsPerSegment is calculated via the rules described previously.</span></span>  

<span data-ttu-id="2d6ca-220">Om du uttryckligen ställa in både KeyFrameInterval och FragmentsPerSegment använder Media Services de värden som du anger.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-220">If you explicitly set both KeyFrameInterval and FragmentsPerSegment, Media Services will use the values that you set.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="2d6ca-221">Tillåtna IP-adresser</span><span class="sxs-lookup"><span data-stu-id="2d6ca-221">Allowed IP addresses</span></span>
<span data-ttu-id="2d6ca-222">Du kan ange IP-adresser som får publicera video i den här kanalen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-222">You can define the IP addresses that are allowed to publish video to this channel.</span></span> <span data-ttu-id="2d6ca-223">Tillåtna IP-adressen kan anges som något av följande:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-223">An allowed IP address can be specified as one of the following:</span></span>

* <span data-ttu-id="2d6ca-224">En IP-adress (t.ex, 10.0.0.1)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-224">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="2d6ca-225">Ett IP-adressintervall som använder en IP-adress och nätmask CIDR (till exempel 10.0.0.1/22)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-225">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="2d6ca-226">Ett IP-adressintervall som använder en IP-adress och en prickad decimal nätmask (till exempel 10.0.0.1(255.255.252.0))</span><span class="sxs-lookup"><span data-stu-id="2d6ca-226">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

<span data-ttu-id="2d6ca-227">Om inga IP-adresser har angetts och det finns inga Regeldefinitionen tillåts ingen IP-adress.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-227">If no IP addresses are specified and there's no rule definition, then no IP address will be allowed.</span></span> <span data-ttu-id="2d6ca-228">Skapa en regel för att tillåta IP-adresser och ange 0.0.0.0/0.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-228">To allow any IP address, create a rule and set 0.0.0.0/0.</span></span>

### <a name="channel-preview"></a><span data-ttu-id="2d6ca-229">Kanal preview</span><span class="sxs-lookup"><span data-stu-id="2d6ca-229">Channel preview</span></span>
#### <a name="preview-urls"></a><span data-ttu-id="2d6ca-230">URL: er för förhandsgranskning</span><span class="sxs-lookup"><span data-stu-id="2d6ca-230">Preview URLs</span></span>
<span data-ttu-id="2d6ca-231">Kanaler ange förhandsgranskningsslutpunkten (förhandsgranskning URL) som används för att förhandsgranska och verifiera strömmen innan ytterligare bearbetning och leverans.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-231">Channels provide a preview endpoint (preview URL) that you use to preview and validate your stream before further processing and delivery.</span></span>

<span data-ttu-id="2d6ca-232">När du skapar kanalen kan du få förhandsgransknings-URL.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-232">You can get the preview URL when you create the channel.</span></span> <span data-ttu-id="2d6ca-233">Om du vill hämta Webbadress måste kanalen behöver inte finnas i den **kör** tillstånd.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-233">For you to get the URL, the channel does not have to be in the **Running** state.</span></span> <span data-ttu-id="2d6ca-234">När kanalen har startat mata in data kan du förhandsgranska dataströmmen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-234">After the channel starts ingesting data, you can preview your stream.</span></span>

<span data-ttu-id="2d6ca-235">För närvarande Förhandsgranska dataströmmen levereras endast i fragmenterad MP4 (Smooth Streaming) format, oavsett angivna Indatatyp.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-235">Currently, the preview stream can be delivered only in fragmented MP4 (Smooth Streaming) format, regardless of the specified input type.</span></span> <span data-ttu-id="2d6ca-236">Du kan använda den [Smooth Streaming hälsoövervakning](http://smf.cloudapp.net/healthmonitor) player att testa smooth stream.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-236">You can use the [Smooth Streaming Health Monitor](http://smf.cloudapp.net/healthmonitor) player to test the smooth stream.</span></span> <span data-ttu-id="2d6ca-237">Du kan också använda en spelare som finns i Azure portal för att visa din dataström.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-237">You can also use a player that's hosted in the Azure portal to view your stream.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="2d6ca-238">Tillåtna IP-adresser</span><span class="sxs-lookup"><span data-stu-id="2d6ca-238">Allowed IP addresses</span></span>
<span data-ttu-id="2d6ca-239">Du kan ange IP-adresser som tillåts att ansluta till förhandsgranskningsslutpunkten.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-239">You can define the IP addresses that are allowed to connect to the preview endpoint.</span></span> <span data-ttu-id="2d6ca-240">Om inga IP-adresser anges, får alla IP-adresser.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-240">If no IP addresses are specified, any IP address will be allowed.</span></span> <span data-ttu-id="2d6ca-241">Tillåtna IP-adressen kan anges som något av följande:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-241">An allowed IP address can be specified as one of the following:</span></span>

* <span data-ttu-id="2d6ca-242">En IP-adress (t.ex, 10.0.0.1)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-242">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="2d6ca-243">Ett IP-adressintervall som använder en IP-adress och nätmask CIDR (till exempel 10.0.0.1/22)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-243">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="2d6ca-244">Ett IP-adressintervall som använder en IP-adress och en prickad decimal nätmask (till exempel 10.0.0.1(255.255.252.0))</span><span class="sxs-lookup"><span data-stu-id="2d6ca-244">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

### <a name="channel-output"></a><span data-ttu-id="2d6ca-245">Kanal-utdata</span><span class="sxs-lookup"><span data-stu-id="2d6ca-245">Channel output</span></span>
<span data-ttu-id="2d6ca-246">Information om kanalen utdata finns i [Keyframe intervall](#keyframe_interval) avsnitt.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-246">For information about channel output, see the [Keyframe interval](#keyframe_interval) section.</span></span>

### <a name="channel-managed-programs"></a><span data-ttu-id="2d6ca-247">Kanal-hanterade program</span><span class="sxs-lookup"><span data-stu-id="2d6ca-247">Channel-managed programs</span></span>
<span data-ttu-id="2d6ca-248">En kanal är associerad till program som du kan använda för att styra publicering och lagring av segment i en direktsänd dataström.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-248">A channel is associated with programs that you can use to control the publishing and storage of segments in a live stream.</span></span> <span data-ttu-id="2d6ca-249">Kanaler hanterar program.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-249">Channels manage programs.</span></span> <span data-ttu-id="2d6ca-250">Relationen mellan kanal och program liknar traditionella media där en kanal har en konstant ström av innehåll och ett program är begränsat till viss tidsinställd händelse på kanalen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-250">The channel and program relationship is very similar to traditional media, where a channel has a constant stream of content and a program is scoped to some timed event on that channel.</span></span>

<span data-ttu-id="2d6ca-251">Du kan ange det antal timmar som du vill behålla inspelat innehåll för programmet genom att ställa in längden för **Arkivfönster**.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-251">You can specify the number of hours you want to retain the recorded content for the program by setting the **Archive Window** length.</span></span> <span data-ttu-id="2d6ca-252">Det här värdet kan anges från minst 5 minuter till högst 25 timmar.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-252">This value can be set from a minimum of 5 minutes to a maximum of 25 hours.</span></span> <span data-ttu-id="2d6ca-253">Även arkivfönstrets längd påverkar den maximala tid som klienter kan söka bakåt i tiden från den aktuella direktsända positionen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-253">Archive window length also dictates the maximum amount of time clients can seek back in time from the current live position.</span></span> <span data-ttu-id="2d6ca-254">Program kan köras under den angivna tidsperioden men innehåll som understiger fönsterlängden ignoreras kontinuerligt.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-254">Programs can run over the specified amount of time, but content that falls behind the window length is continuously discarded.</span></span> <span data-ttu-id="2d6ca-255">Värdet för den här egenskapen avgör också hur länge klientmanifesten kan växa.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-255">This value of this property also determines how long the client manifests can grow.</span></span>

<span data-ttu-id="2d6ca-256">Varje program som är associerad med en tillgång som lagrar direktuppspelat innehåll.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-256">Each program is associated with an asset that stores the streamed content.</span></span> <span data-ttu-id="2d6ca-257">En tillgång som är mappad till en block-blob-behållare i Azure storage-konto och lagras filerna i tillgången som blobbar i behållaren.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-257">An asset is mapped to a block blob container in the Azure storage account, and the files in the asset are stored as blobs in that container.</span></span> <span data-ttu-id="2d6ca-258">Om du vill publicera programmet så att kunderna kan visa dataströmmen, måste du skapa en positionerare för den associerade tillgången.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-258">To publish the program so your customers can view the stream, you must create an OnDemand locator for the associated asset.</span></span> <span data-ttu-id="2d6ca-259">Du kan använda den här lokaliseraren för att skapa en strömnings-URL som du kan tillhandahålla till dina klienter.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-259">You can use this locator to build a streaming URL that you can provide to your clients.</span></span>

<span data-ttu-id="2d6ca-260">En kanal har stöd för upp till tre program som körs samtidigt, så att du kan skapa flera Arkiv för samma inkommande dataström.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-260">A channel supports up to three concurrently running programs, so you can create multiple archives of the same incoming stream.</span></span> <span data-ttu-id="2d6ca-261">Du kan publicera och arkivera olika delar av en händelse efter behov.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-261">You can publish and archive different parts of an event as needed.</span></span> <span data-ttu-id="2d6ca-262">Anta exempelvis att dina affärsbehov är att arkivera 6 timmar av ett program, men att sända endast de senaste 10 minuterna.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-262">For example, imagine that your business requirement is to archive 6 hours of a program, but to broadcast only the last 10 minutes.</span></span> <span data-ttu-id="2d6ca-263">För att åstadkomma detta måste du skapa två program som körs samtidigt.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-263">To accomplish this, you need to create two concurrently running programs.</span></span> <span data-ttu-id="2d6ca-264">Ett program ställs in för att arkivera 6 timmar av händelsen, men programmet publiceras inte.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-264">One program is set to archive 6 hours of the event, but the program is not published.</span></span> <span data-ttu-id="2d6ca-265">Det andra programmet ställs in för att arkivera i 10 minuter och det här programmet har publicerats.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-265">The other program is set to archive for 10 minutes, and this program is published.</span></span>

<span data-ttu-id="2d6ca-266">Du bör inte återanvända befintliga program för nya händelser.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-266">You should not reuse existing programs for new events.</span></span> <span data-ttu-id="2d6ca-267">I stället skapa ett nytt program för varje händelse.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-267">Instead, create a new program for each event.</span></span> <span data-ttu-id="2d6ca-268">Starta programmet när du är redo att påbörja strömning och arkivering.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-268">Start the program when you're ready to start streaming and archiving.</span></span> <span data-ttu-id="2d6ca-269">Stoppa programmet när du vill stoppa strömningen och arkiveringen av händelsen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-269">Stop the program whenever you want to stop streaming and archiving the event.</span></span>

<span data-ttu-id="2d6ca-270">Om du vill ta bort arkiverat innehåll, stoppa och ta bort programmet och ta sedan bort den associerade tillgången.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-270">To delete archived content, stop and delete the program, and then delete the associated asset.</span></span> <span data-ttu-id="2d6ca-271">En tillgång kan inte tas bort om den används av ett program.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-271">An asset cannot be deleted if a program uses it.</span></span> <span data-ttu-id="2d6ca-272">Programmet måste tas bort först.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-272">The program must be deleted first.</span></span>

<span data-ttu-id="2d6ca-273">När du stoppar och ta bort programmet kan användarna strömma ditt arkiverade innehåll som en video på begäran, tills du tar bort tillgången.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-273">Even after you stop and delete the program, users can stream your archived content as a video on demand, until you delete the asset.</span></span> <span data-ttu-id="2d6ca-274">Om du vill behålla det arkiverade innehållet, men inte har det tillgängligt för strömning, tar du bort strömningspositioneraren.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-274">If you want to retain the archived content but not have it available for streaming, delete the streaming locator.</span></span>

## <span data-ttu-id="2d6ca-275"><a id="states"></a>Kanal tillstånd och fakturering</span><span class="sxs-lookup"><span data-stu-id="2d6ca-275"><a id="states"></a>Channel states and billing</span></span>
<span data-ttu-id="2d6ca-276">Möjliga värden för det aktuella tillståndet för en kanal är:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-276">Possible values for the current state of a channel include:</span></span>

* <span data-ttu-id="2d6ca-277">**Stoppats**: Detta är inledningsvis i kanalen när skapandet.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-277">**Stopped**: This is the initial state of the channel after its creation.</span></span> <span data-ttu-id="2d6ca-278">Kanal-egenskaper kan uppdateras men strömning tillåts inte i det här tillståndet.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-278">In this state, the channel properties can be updated but streaming is not allowed.</span></span>
* <span data-ttu-id="2d6ca-279">**Starta**: kanalen startas.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-279">**Starting**: The channel is being started.</span></span> <span data-ttu-id="2d6ca-280">Inga uppdateringar eller strömning tillåts i det här tillståndet.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-280">No updates or streaming is allowed during this state.</span></span> <span data-ttu-id="2d6ca-281">Om ett fel inträffar, kanalen återgår till den **stoppad** tillstånd.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-281">If an error occurs, the channel returns to the **Stopped** state.</span></span>
* <span data-ttu-id="2d6ca-282">**Kör**: kanalen kan bearbeta live dataströmmar.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-282">**Running**: The channel can process live streams.</span></span>
* <span data-ttu-id="2d6ca-283">**Stoppa**: kanalen har stoppats.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-283">**Stopping**: The channel is being stopped.</span></span> <span data-ttu-id="2d6ca-284">Inga uppdateringar eller strömning tillåts i det här tillståndet.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-284">No updates or streaming is allowed during this state.</span></span>
* <span data-ttu-id="2d6ca-285">**Ta bort**: kanalen tas bort.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-285">**Deleting**: The channel is being deleted.</span></span> <span data-ttu-id="2d6ca-286">Inga uppdateringar eller strömning tillåts i det här tillståndet.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-286">No updates or streaming is allowed during this state.</span></span>

<span data-ttu-id="2d6ca-287">Följande tabell visar hur kanal anger mappning till fakturerings-läge.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-287">The following table shows how channel states map to the billing mode.</span></span>

| <span data-ttu-id="2d6ca-288">Kanaltillstånd</span><span class="sxs-lookup"><span data-stu-id="2d6ca-288">Channel state</span></span> | <span data-ttu-id="2d6ca-289">Portalen UI-indikatorer</span><span class="sxs-lookup"><span data-stu-id="2d6ca-289">Portal UI indicators</span></span> | <span data-ttu-id="2d6ca-290">Fakturerad?</span><span class="sxs-lookup"><span data-stu-id="2d6ca-290">Billed?</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="2d6ca-291">**Starta**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-291">**Starting**</span></span> |<span data-ttu-id="2d6ca-292">**Starta**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-292">**Starting**</span></span> |<span data-ttu-id="2d6ca-293">Nej (övergångsläge)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-293">No (transient state)</span></span> |
| <span data-ttu-id="2d6ca-294">**Kör**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-294">**Running**</span></span> |<span data-ttu-id="2d6ca-295">**Redo** (inget program som körs)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-295">**Ready** (no running programs)</span></span><p><p><span data-ttu-id="2d6ca-296">eller</span><span class="sxs-lookup"><span data-stu-id="2d6ca-296">or</span></span><p><span data-ttu-id="2d6ca-297">**Strömning** (minst ett aktivt program)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-297">**Streaming** (at least one running program)</span></span> |<span data-ttu-id="2d6ca-298">Ja</span><span class="sxs-lookup"><span data-stu-id="2d6ca-298">Yes</span></span> |
| <span data-ttu-id="2d6ca-299">**Stoppa**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-299">**Stopping**</span></span> |<span data-ttu-id="2d6ca-300">**Stoppa**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-300">**Stopping**</span></span> |<span data-ttu-id="2d6ca-301">Nej (övergångsläge)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-301">No (transient state)</span></span> |
| <span data-ttu-id="2d6ca-302">**Stoppades**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-302">**Stopped**</span></span> |<span data-ttu-id="2d6ca-303">**Stoppades**</span><span class="sxs-lookup"><span data-stu-id="2d6ca-303">**Stopped**</span></span> |<span data-ttu-id="2d6ca-304">Nej</span><span class="sxs-lookup"><span data-stu-id="2d6ca-304">No</span></span> |

## <span data-ttu-id="2d6ca-305"><a id="cc_and_ads"></a>Stängd textning och ad infogning</span><span class="sxs-lookup"><span data-stu-id="2d6ca-305"><a id="cc_and_ads"></a>Closed captioning and ad insertion</span></span>
<span data-ttu-id="2d6ca-306">Följande tabell visar standarder som stöds för stängd textning och ad infogning.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-306">The following table demonstrates supported standards for closed captioning and ad insertion.</span></span>

| <span data-ttu-id="2d6ca-307">Standard</span><span class="sxs-lookup"><span data-stu-id="2d6ca-307">Standard</span></span> | <span data-ttu-id="2d6ca-308">Anteckningar</span><span class="sxs-lookup"><span data-stu-id="2d6ca-308">Notes</span></span> |
| --- | --- |
| <span data-ttu-id="2d6ca-309">CEA 708 och EIA 608 (708/608)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-309">CEA-708 and EIA-608 (708/608)</span></span> |<span data-ttu-id="2d6ca-310">CEA 708 och EIA 608 är textning standarder för USA och Kanada.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-310">CEA-708 and EIA-608 are closed-captioning standards for the United States and Canada.</span></span><p><p><span data-ttu-id="2d6ca-311">För närvarande stöds textning endast om transporteras i den kodade Indataströmmen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-311">Currently, captioning is supported only if carried in the encoded input stream.</span></span> <span data-ttu-id="2d6ca-312">Du måste använda en aktiva mediekodare som kan infoga 608 eller 708 beskrivningar i kodad strömmen som skickades till Media Services.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-312">You need to use a live media encoder that can insert 608 or 708 captions in the encoded stream that's sent to Media Services.</span></span> <span data-ttu-id="2d6ca-313">Media Services levererar innehåll med infogade etiketter till dina användare.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-313">Media Services delivers the content with inserted captions to your viewers.</span></span> |
| <span data-ttu-id="2d6ca-314">TTML i .ismt (Smooth Streaming textspår)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-314">TTML inside .ismt (Smooth Streaming text tracks)</span></span> |<span data-ttu-id="2d6ca-315">Media Services dynamisk paketering gör det möjligt för dina klienter att strömma innehåll i något av följande format: DASH, HLS eller Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-315">Media Services dynamic packaging enables your clients to stream content in any of the following formats: DASH, HLS, or Smooth Streaming.</span></span> <span data-ttu-id="2d6ca-316">Om du vill mata in fragmenterad MP4 (Smooth Streaming) med etiketter i .ismt (Smooth Streaming textspår) du kan skicka dataströmmen till endast Smooth Streaming-klienter.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-316">However, if you ingest fragmented MP4 (Smooth Streaming) with captions inside .ismt (Smooth Streaming text tracks), you can deliver the stream to only Smooth Streaming clients.</span></span> |
| <span data-ttu-id="2d6ca-317">SCTE 35</span><span class="sxs-lookup"><span data-stu-id="2d6ca-317">SCTE-35</span></span> |<span data-ttu-id="2d6ca-318">SCTE 35 är ett digitalt signaling system som används för att spola reklam infogning.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-318">SCTE-35 is a digital signaling system that's used to cue advertising insertion.</span></span> <span data-ttu-id="2d6ca-319">Underordnade mottagarna att signalen splice reklam i dataströmmen för den angivna tiden.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-319">Downstream receivers use the signal to splice advertising into the stream for the allotted time.</span></span> <span data-ttu-id="2d6ca-320">SCTE 35 måste skickas som ett null-optimerade spår i Indataströmmen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-320">SCTE-35 must be sent as a sparse track in the input stream.</span></span><p><p><span data-ttu-id="2d6ca-321">För närvarande endast stöds Indataströmmen formatera som utför ad signaler fragmenterad MP4 (Smooth Streaming).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-321">Currently, the only supported input stream format that carries ad signals is fragmented MP4 (Smooth Streaming).</span></span> <span data-ttu-id="2d6ca-322">Det går endast att utdata format är också Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-322">The only supported output format is also Smooth Streaming.</span></span> |

## <span data-ttu-id="2d6ca-323"><a id="considerations"></a>Överväganden</span><span class="sxs-lookup"><span data-stu-id="2d6ca-323"><a id="considerations"></a>Considerations</span></span>
<span data-ttu-id="2d6ca-324">När du använder en lokal livekodare för att skicka en dataström med multibithastighet till en kanal, gäller följande begränsningar:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-324">When you're using an on-premises live encoder to send a multi-bitrate stream to a channel, the following constraints apply:</span></span>

* <span data-ttu-id="2d6ca-325">Kontrollera att du har tillräckligt ledigt Internet-anslutning för att skicka data till infognings-punkter.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-325">Make sure you have sufficient free Internet connectivity to send data to the ingest points.</span></span>
* <span data-ttu-id="2d6ca-326">Med hjälp av en sekundär infognings-URL krävs ytterligare bandbredd.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-326">Using a secondary ingest URL requires additional bandwidth.</span></span>
* <span data-ttu-id="2d6ca-327">Den inkommande dataströmmen i flera bithastigheter kan ha högst 10 bildkvaliteten nivåer (lager) och högst 5 ljud spår.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-327">The incoming multi-bitrate stream can have a maximum of 10 video quality levels (layers) and a maximum of 5 audio tracks.</span></span>
* <span data-ttu-id="2d6ca-328">Högsta genomsnittliga bithastighet för någon av nivåerna bildkvaliteten bör vara mindre än 10 Mbit/s.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-328">The highest average bitrate for any of the video quality levels should be below 10 Mbps.</span></span>
* <span data-ttu-id="2d6ca-329">Aggregering av genomsnittlig bithastighet för alla video och ljud dataströmmar måste ha färre än 25 Mbit/s.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-329">The aggregate of the average bitrates for all the video and audio streams should be below 25 Mbps.</span></span>
* <span data-ttu-id="2d6ca-330">Du kan inte ändra indataprotokollet när kanalen eller dess associerade program körs.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-330">You cannot change the input protocol while the channel or its associated programs are running.</span></span> <span data-ttu-id="2d6ca-331">Om du behöver olika protokoll får du skapa separata kanaler för varje indataprotokoll.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-331">If you require different protocols, you should create separate channels for each input protocol.</span></span>
* <span data-ttu-id="2d6ca-332">Du kan mata in en enkel bithastighet i din kanal.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-332">You can ingest a single bitrate in your channel.</span></span> <span data-ttu-id="2d6ca-333">Men eftersom kanalen inte bearbetar dataströmmen, klientprogrammen även ta emot en dataström med enkel bithastighet.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-333">But because the channel does not process the stream, the client applications will also receive a single bitrate stream.</span></span> <span data-ttu-id="2d6ca-334">(Vi rekommenderar inte det här alternativet.)</span><span class="sxs-lookup"><span data-stu-id="2d6ca-334">(We don't recommend this option.)</span></span>

<span data-ttu-id="2d6ca-335">Här följer andra överväganden som rör arbeta med kanaler och relaterade komponenter:</span><span class="sxs-lookup"><span data-stu-id="2d6ca-335">Here are other considerations related to working with channels and related components:</span></span>

* <span data-ttu-id="2d6ca-336">Varje gång du konfigurera om livekodaren anropa den **återställa** metod på kanalen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-336">Every time you reconfigure the live encoder, call the **Reset** method on the channel.</span></span> <span data-ttu-id="2d6ca-337">Du måste stoppa programmet innan du återställer kanalen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-337">Before you reset the channel, you have to stop the program.</span></span> <span data-ttu-id="2d6ca-338">Starta om programmet när du har återställt kanalen.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-338">After you reset the channel, restart the program.</span></span>
* <span data-ttu-id="2d6ca-339">En kanal kan stoppas endast när den är i den **kör** tillstånd och alla program i kanalen har stoppats.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-339">A channel can be stopped only when it's in the **Running** state and all programs on the channel have been stopped.</span></span>
* <span data-ttu-id="2d6ca-340">Som standard kan du lägga till endast 5 kanaler Media Services-kontot.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-340">By default, you can add only 5 channels to your Media Services account.</span></span> <span data-ttu-id="2d6ca-341">Mer information finns i [kvoter och begränsningar](media-services-quotas-and-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="2d6ca-341">For more information, see [Quotas and limitations](media-services-quotas-and-limitations.md).</span></span>
* <span data-ttu-id="2d6ca-342">Du debiteras endast när din kanal är i den **kör** tillstånd.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-342">You are billed only when your channel is in the **Running** state.</span></span> <span data-ttu-id="2d6ca-343">Mer information finns i den [tillstånd och fakturering kanaler](media-services-live-streaming-with-onprem-encoders.md#states) avsnitt.</span><span class="sxs-lookup"><span data-stu-id="2d6ca-343">For more information, refer to the [Channel states and billing](media-services-live-streaming-with-onprem-encoders.md#states) section.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="2d6ca-344">Sökvägar för Media Services-utbildning</span><span class="sxs-lookup"><span data-stu-id="2d6ca-344">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="feedback"></a><span data-ttu-id="2d6ca-345">Feedback</span><span class="sxs-lookup"><span data-stu-id="2d6ca-345">Feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a><span data-ttu-id="2d6ca-346">Relaterade ämnen</span><span class="sxs-lookup"><span data-stu-id="2d6ca-346">Related topics</span></span>
[<span data-ttu-id="2d6ca-347">Azure Media Services fragmenterad MP4 live infognings-specifikationen</span><span class="sxs-lookup"><span data-stu-id="2d6ca-347">Azure Media Services fragmented MP4 live ingest specification</span></span>](media-services-fmp4-live-ingest-overview.md)

[<span data-ttu-id="2d6ca-348">Översikt över Azure Media Services och vanliga scenarier</span><span class="sxs-lookup"><span data-stu-id="2d6ca-348">Azure Media Services overview and common scenarios</span></span>](media-services-overview.md)

[<span data-ttu-id="2d6ca-349">Media Services-koncepten</span><span class="sxs-lookup"><span data-stu-id="2d6ca-349">Media Services concepts</span></span>](media-services-concepts.md)

[live-overview]: ./media/media-services-manage-channels-overview/media-services-live-streaming-current.png
