---
title: aaaAccess Azure Media Services API med Azure Active Directory-autentisering | Microsoft Docs
description: "Läs mer om koncept och steg tootake toouse Azure Active Directory (AD Azure) tooauthenticate åtkomst toohello Azure Media Services API."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/17/2017
ms.author: juliako
ms.openlocfilehash: bb8f75f39100dc37098260c24ab4a199ef689d46
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="access-hello-azure-media-services-api-with-azure-ad-authentication"></a><span data-ttu-id="b0d8b-103">Komma åt hello Azure Media Services API med Azure AD-autentisering</span><span class="sxs-lookup"><span data-stu-id="b0d8b-103">Access hello Azure Media Services API with Azure AD authentication</span></span>
 
<span data-ttu-id="b0d8b-104">hello Azure Media Services API är en RESTful-API.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-104">hello Azure Media Services API is a RESTful API.</span></span> <span data-ttu-id="b0d8b-105">Du kan använda den tooperform åtgärder på media resurser med hjälp av REST-API eller genom att använda tillgängliga klient-SDK.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-105">You can use it tooperform operations on media resources by using a REST API or by using available client SDKs.</span></span> <span data-ttu-id="b0d8b-106">Azure Media Services erbjuder en klient för Media Services SDK för Microsoft .NET.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-106">Azure Media Services offers a Media Services client SDK for Microsoft .NET.</span></span> <span data-ttu-id="b0d8b-107">toobe behörighet tooaccess Media Services-resurser och hello Media Services API, du måste först autentiseras.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-107">toobe authorized tooaccess Media Services resources and hello Media Services API, you must first be authenticated.</span></span> 

<span data-ttu-id="b0d8b-108">Media Services stöder [Azure Active Directory (Azure AD)-baserad autentisering](../active-directory/active-directory-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-108">Media Services supports [Azure Active Directory (Azure AD)-based authentication](../active-directory/active-directory-whatis.md).</span></span> <span data-ttu-id="b0d8b-109">hello Azure Media REST-tjänst kräver att hello användare eller ett program som gör hello REST API-begäranden har antingen hello **deltagare** eller **ägare** rollen tooaccess hello resurser.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-109">hello Azure Media REST service requires that hello user or application that makes hello REST API requests have either hello **Contributor** or **Owner** role tooaccess hello resources.</span></span> <span data-ttu-id="b0d8b-110">Mer information finns i [Kom igång med rollbaserad åtkomstkontroll i hello Azure-portalen](../active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-110">For more information, see [Get started with Role-Based Access Control in hello Azure portal](../active-directory/role-based-access-control-what-is.md).</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="b0d8b-111">Media Services stöder för närvarande hello Azure Access Control service-autentisering.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-111">Currently, Media Services supports hello Azure Access Control service authentication model.</span></span> <span data-ttu-id="b0d8b-112">Access Control tillstånd att bli inaktuell på den 1 juni 2018.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-112">However, Access Control authorization will be deprecated on June 1, 2018.</span></span> <span data-ttu-id="b0d8b-113">Vi rekommenderar att du migrerar toohello Azure AD-autentisering så snart som möjligt.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-113">We recommend that you migrate toohello Azure AD authentication model as soon as possible.</span></span>

<span data-ttu-id="b0d8b-114">Det här dokumentet ger en översikt över hur tooaccess hello Media Services API med hjälp av REST- eller .NET-API: er.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-114">This document gives an overview of how tooaccess hello Media Services API by using REST or .NET APIs.</span></span>

## <a name="access-control"></a><span data-ttu-id="b0d8b-115">Åtkomstkontroll</span><span class="sxs-lookup"><span data-stu-id="b0d8b-115">Access control</span></span>

<span data-ttu-id="b0d8b-116">För hello Azure Media REST begäran toosucceed måste hello anropande användaren ha en medarbetare eller ägare roll för hello försök tooaccess Media Services-konto.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-116">For hello Azure Media REST request toosucceed, hello calling user must have a Contributor or Owner role for hello Media Services account it is trying tooaccess.</span></span>  
<span data-ttu-id="b0d8b-117">Endast en användare med hello ägarrollen kan ge media (konto) åtkomst toonew resursanvändare eller appar.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-117">Only a user with hello Owner role can give media resource (account) access toonew users or apps.</span></span> <span data-ttu-id="b0d8b-118">hello deltagarrollen kan komma åt endast hello mediaresurs.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-118">hello Contributor role can access only hello media resource.</span></span>
<span data-ttu-id="b0d8b-119">Obehöriga begäranden misslyckas med statuskoden 401.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-119">Unauthorized requests fail, with status code of 401.</span></span> <span data-ttu-id="b0d8b-120">Om du ser felet måste du kontrollera om användaren har hello deltagare eller ägarrollen tilldelade för hello Media Services användarkonto.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-120">If you see this error code, check whether your user has hello Contributor or Owner role assigned for hello user's Media Services account.</span></span> <span data-ttu-id="b0d8b-121">Du kan kontrollera detta i hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-121">You can check this in hello Azure portal.</span></span> <span data-ttu-id="b0d8b-122">Sök efter media-konto och klicka sedan på hello **åtkomstkontroll** fliken.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-122">Search for your media account, and then click hello **Access control** tab.</span></span> 

![Access control-fliken](./media/media-services-use-aad-auth-to-access-ams-api/media-services-access-control.png)

## <a name="types-of-authentication"></a><span data-ttu-id="b0d8b-124">Typer av autentisering</span><span class="sxs-lookup"><span data-stu-id="b0d8b-124">Types of authentication</span></span> 
 
<span data-ttu-id="b0d8b-125">När du använder Azure AD-autentisering med Azure Media Services, har du två alternativ för autentisering:</span><span class="sxs-lookup"><span data-stu-id="b0d8b-125">When you use Azure AD authentication with Azure Media Services, you have two authentication options:</span></span>

- <span data-ttu-id="b0d8b-126">**Användarautentisering**.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-126">**User authentication**.</span></span> <span data-ttu-id="b0d8b-127">Autentisera en person som använder hello app toointeract med Media Services-resurser.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-127">Authenticate a person who is using hello app toointeract with Media Services resources.</span></span> <span data-ttu-id="b0d8b-128">hello interaktiva program bör först fråga hello användaren om hello användarens autentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-128">hello interactive application should first prompt hello user for hello user's credentials.</span></span> <span data-ttu-id="b0d8b-129">Ett exempel är en management konsolapp som används av behöriga användare toomonitor kodning jobb eller live strömning.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-129">An example is a management console app used by authorized users toomonitor encoding jobs or live streaming.</span></span> 
- <span data-ttu-id="b0d8b-130">**Huvudnamn autentiseringen av tjänsten**.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-130">**Service principal authentication**.</span></span> <span data-ttu-id="b0d8b-131">Autentisera en tjänst.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-131">Authenticate a service.</span></span> <span data-ttu-id="b0d8b-132">Program som ofta använder den här autentiseringsmetoden är appar som körs daemon tjänster, mellannivå tjänster eller schemalagda jobb.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-132">Applications that commonly use this authentication method are apps that run daemon services, middle-tier services, or scheduled jobs.</span></span> <span data-ttu-id="b0d8b-133">Exempel är webbappar, funktionen appar, logikappar, API och mikrotjänster.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-133">Examples are web apps, function apps, logic apps, API, and microservices.</span></span>

### <a name="user-authentication"></a><span data-ttu-id="b0d8b-134">Användarautentisering</span><span class="sxs-lookup"><span data-stu-id="b0d8b-134">User authentication</span></span> 

<span data-ttu-id="b0d8b-135">Program som ska använda hello användarautentiseringsmetod är övervakning av interna appar eller hantering: mobila appar, Windows-appar och konsolprogram.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-135">Applications that should use hello user authentication method are management or monitoring native apps: mobile apps, Windows apps, and Console applications.</span></span> <span data-ttu-id="b0d8b-136">Den här typen av lösningen är användbart när du vill mänsklig interaktion med hello-tjänsten på något av följande scenarier hello:</span><span class="sxs-lookup"><span data-stu-id="b0d8b-136">This type of solution is useful when you want human interaction with hello service in one of hello following scenarios:</span></span>

- <span data-ttu-id="b0d8b-137">Instrumentpanelen för övervakning för kodning jobb.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-137">Monitoring dashboard for your encoding jobs.</span></span>
- <span data-ttu-id="b0d8b-138">Instrumentpanelen för övervakning för din direktsända dataströmmar.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-138">Monitoring dashboard for your live streams.</span></span>
- <span data-ttu-id="b0d8b-139">Hanteringsprogram för stationära och mobila användare tooadminister resurser i ett Media Services-konto.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-139">Management application for desktop or mobile users tooadminister resources in a Media Services account.</span></span>

> [!NOTE]
> <span data-ttu-id="b0d8b-140">Den här autentiseringsmetoden bör inte användas för konsumentinriktade program.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-140">This authentication method should not be used for consumer-facing applications.</span></span> 

<span data-ttu-id="b0d8b-141">Det ursprungliga programmet måste först skaffa en åtkomst-token från Azure AD och sedan använda den när du gör HTTP-begäranden toohello Media Services REST API.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-141">A native application must first acquire an access token from Azure AD, and then use it when you make HTTP requests toohello Media Services REST API.</span></span> <span data-ttu-id="b0d8b-142">Lägg till hello åtkomst-token toohello huvudet i begäran.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-142">Add hello access token toohello request header.</span></span> 

<span data-ttu-id="b0d8b-143">hello följande diagram visar en typisk interaktiva program autentiseringsflödet:</span><span class="sxs-lookup"><span data-stu-id="b0d8b-143">hello following diagram shows a typical interactive application authentication flow:</span></span> 

![Ursprungliga appar diagram](./media/media-services-use-aad-auth-to-access-ams-api/media-services-native-aad-app1.png)

<span data-ttu-id="b0d8b-145">I föregående diagram hello, representerar hello siffror hello flödet av hello begäranden i kronologisk ordning.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-145">In hello preceding diagram, hello numbers represent hello flow of hello requests in chronological order.</span></span>

> [!NOTE]
> <span data-ttu-id="b0d8b-146">När du använder autentiseringsmetoden för hello användare alla appar dela hello samma (standard) programspecifika klient-ID och det ursprungliga programmet omdirigerings-URI.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-146">When you use hello user authentication method, all apps share hello same (default) native application client ID and native application redirect URI.</span></span> 

1. <span data-ttu-id="b0d8b-147">Uppmana användaren att ange autentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-147">Prompt a user for credentials.</span></span>
2. <span data-ttu-id="b0d8b-148">Begär en åtkomsttoken som Azure AD med hello följande parametrar:</span><span class="sxs-lookup"><span data-stu-id="b0d8b-148">Request an Azure AD access token with hello following parameters:</span></span>  

    * <span data-ttu-id="b0d8b-149">Slutpunkten för Azure AD-klient.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-149">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="b0d8b-150">hello klient information kan hämtas från hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-150">hello tenant information can be retrieved from hello Azure portal.</span></span> <span data-ttu-id="b0d8b-151">Placera markören över hello namnet på hello inloggade användare i hello övre högra hörnet.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-151">Place your cursor over hello name of hello signed-in user in hello top right corner.</span></span>
    * <span data-ttu-id="b0d8b-152">Media Services resurs-URI.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-152">Media Services resource URI.</span></span> 

        <span data-ttu-id="b0d8b-153">Den här URI är hello samma för Media Services-konton som är i hello samma Azure-miljön (till exempel https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-153">This URI is hello same for Media Services accounts that are in hello same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="b0d8b-154">Media Services (ursprunglig) programmet klient-ID.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-154">Media Services (native) application client ID.</span></span>
    * <span data-ttu-id="b0d8b-155">Media Services (intern)-programmet omdirigerings-URI.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-155">Media Services (native) application redirect URI.</span></span>
    * <span data-ttu-id="b0d8b-156">Resurs-URI för REST Media Services.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-156">Resource URI for REST Media Services.</span></span>
        
        <span data-ttu-id="b0d8b-157">hello URI representerar hello REST API-slutpunkt (till exempel https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-157">hello URI represents hello REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    <span data-ttu-id="b0d8b-158">tooget värdena för dessa parametrar finns [använda hello Azure portal tooaccess Azure AD-autentiseringsinställningar](media-services-portal-get-started-with-aad.md) med hello alternativ för autentisering av användare.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-158">tooget values for these parameters, see [Use hello Azure portal tooaccess Azure AD authentication settings](media-services-portal-get-started-with-aad.md) using hello user authentication option.</span></span>

3. <span data-ttu-id="b0d8b-159">hello Azure AD-åtkomsttoken skickas toohello klienten.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-159">hello Azure AD access token is sent toohello client.</span></span>
4. <span data-ttu-id="b0d8b-160">hello klienten skickar en begäran toohello Azure Media REST-API med hello Azure AD-åtkomsttoken.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-160">hello client sends a request toohello Azure Media REST API with hello Azure AD access token.</span></span>
5. <span data-ttu-id="b0d8b-161">hello-klienten hämtar tillbaka hello data från Media Services.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-161">hello client gets back hello data from Media Services.</span></span>

<span data-ttu-id="b0d8b-162">Information om hur toouse Azure AD authentication toocommunicate med övriga begäranden med hjälp av klient-hello Media Services .NET SDK finns [använda Azure AD authentication tooaccess hello Media Services-API med .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-162">For information about how toouse Azure AD authentication toocommunicate with REST requests by using hello Media Services .NET client SDK, see [Use Azure AD authentication tooaccess hello Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="b0d8b-163">Om du inte använder klient-hello Media Services .NET SDK, måste du manuellt skapa en Tokenbegäran för Azure AD-åtkomst med hjälp av hello parametrar som beskrivs i steg 2.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-163">If you are not using hello Media Services .NET client SDK, you must manually create an Azure AD access token request by using hello parameters described in step 2.</span></span> <span data-ttu-id="b0d8b-164">Mer information finns i [hur toouse hello Azure AD Authentication Library tooget hello Azure AD-token](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-164">For more information, see [How toouse hello Azure AD Authentication Library tooget hello Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

### <a name="service-principal-authentication"></a><span data-ttu-id="b0d8b-165">Autentisering av tjänstens huvudnamn</span><span class="sxs-lookup"><span data-stu-id="b0d8b-165">Service principal authentication</span></span>

<span data-ttu-id="b0d8b-166">Program som ofta använder den här autentiseringsmetoden är appar som körs på mellannivå tjänster och schemalagda jobb: web apps, funktionen appar, logikappar, API: er och mikrotjänster.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-166">Applications that commonly use this authentication method are apps that run middle-tier services and scheduled jobs: web apps, function apps, logic apps, APIs, and microservices.</span></span> <span data-ttu-id="b0d8b-167">Den här autentiseringsmetoden är lämplig för interaktiva program som du kanske vill toouse ett konto toomanage resurser.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-167">This authentication method also is suitable for interactive applications in which you might want toouse a service account toomanage resources.</span></span>

<span data-ttu-id="b0d8b-168">När du använder hello service principal autentisering metoden toobuild användarscenarier hanteras autentisering vanligtvis i hello mellannivå (via vissa API) och inte direkt i ett program för mobila eller stationära.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-168">When you use hello service principal authentication method toobuild consumer scenarios, authentication typically is handled in hello middle tier (through some API) and not directly in a mobile or desktop application.</span></span> 

<span data-ttu-id="b0d8b-169">toouse den här metoden skapar ett Azure AD-program och service principal i sin egen klient.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-169">toouse this method, create an Azure AD application and service principal in its own tenant.</span></span> <span data-ttu-id="b0d8b-170">När du har skapat programmet hello ge hello app medarbetare eller ägare roll åtkomst toohello Media Services-konto.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-170">After you create hello application, give hello app Contributor or Owner role access toohello Media Services account.</span></span> <span data-ttu-id="b0d8b-171">Du kan göra detta i hello Azure-portalen med hjälp av Azure CLI eller med ett PowerShell-skript.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-171">You can do this in hello Azure portal, by using Azure CLI, or with a PowerShell script.</span></span> <span data-ttu-id="b0d8b-172">Du kan också använda ett befintligt Azure AD-program.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-172">You also can use an existing Azure AD application.</span></span> <span data-ttu-id="b0d8b-173">Du kan registrera och hantera dina Azure AD-program och tjänstens huvudnamn [i hello Azure-portalen](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-173">You can register and manage your Azure AD app and service principal [in hello Azure portal](media-services-portal-get-started-with-aad.md).</span></span> <span data-ttu-id="b0d8b-174">Du också kan göra detta med hjälp av [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) eller [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-174">You also can do this by using [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) or [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span></span> 

![Mellannivå appar](./media/media-services-use-aad-auth-to-access-ams-api/media-services-principal-service-aad-app1.png)

<span data-ttu-id="b0d8b-176">När du har skapat din Azure AD-program får du värden för hello följande inställningar.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-176">After you create your Azure AD application, you get values for hello following settings.</span></span> <span data-ttu-id="b0d8b-177">Du behöver dessa värden för autentisering:</span><span class="sxs-lookup"><span data-stu-id="b0d8b-177">You need these values for authentication:</span></span>

- <span data-ttu-id="b0d8b-178">Klient-ID</span><span class="sxs-lookup"><span data-stu-id="b0d8b-178">Client ID</span></span> 
- <span data-ttu-id="b0d8b-179">Klienthemlighet</span><span class="sxs-lookup"><span data-stu-id="b0d8b-179">Client secret</span></span> 

<span data-ttu-id="b0d8b-180">I föregående bild hello, representerar hello siffror hello flödet av hello begäranden i kronologisk ordning:</span><span class="sxs-lookup"><span data-stu-id="b0d8b-180">In hello preceding figure, hello numbers represent hello flow of hello requests in chronological order:</span></span>
    
1. <span data-ttu-id="b0d8b-181">En mellannivå app (web API eller webbprogram) begär en Azure AD-åtkomsttoken som har hello följande parametrar:</span><span class="sxs-lookup"><span data-stu-id="b0d8b-181">A middle-tier app (web API or web application) requests an Azure AD access token that has hello following parameters:</span></span>  

    * <span data-ttu-id="b0d8b-182">Slutpunkten för Azure AD-klient.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-182">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="b0d8b-183">hello klient information kan hämtas från hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-183">hello tenant information can be retrieved from hello Azure portal.</span></span> <span data-ttu-id="b0d8b-184">Placera markören över hello namnet på hello inloggade användare i hello övre högra hörnet.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-184">Place your cursor over hello name of hello signed-in user in hello top right corner.</span></span>
    * <span data-ttu-id="b0d8b-185">Media Services resurs-URI.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-185">Media Services resource URI.</span></span> 

        <span data-ttu-id="b0d8b-186">Den här URI är hello samma för Media Services-konton som finns i hello samma Azure-miljön (till exempel https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-186">This URI is hello same for Media Services accounts that are located in hello same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="b0d8b-187">Resurs-URI för REST Media Services.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-187">Resource URI for REST Media Services.</span></span>

        <span data-ttu-id="b0d8b-188">hello URI representerar hello REST API-slutpunkt (till exempel https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-188">hello URI represents hello REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    * <span data-ttu-id="b0d8b-189">Azure AD application värden: hello klient-ID och klienthemlighet.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-189">Azure AD application values: hello client ID and client secret.</span></span>
    
    <span data-ttu-id="b0d8b-190">tooget värdena för dessa parametrar finns [använda hello Azure portal tooaccess Azure AD-autentiseringsinställningar](media-services-portal-get-started-with-aad.md) med hjälp av alternativ för hello service principal autentisering.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-190">tooget values for these parameters, see [Use hello Azure portal tooaccess Azure AD authentication settings](media-services-portal-get-started-with-aad.md) by using hello service principal authentication option.</span></span>

2. <span data-ttu-id="b0d8b-191">hello Azure AD-åtkomsttoken skickas toohello mellannivå.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-191">hello Azure AD access token is sent toohello middle tier.</span></span>
4. <span data-ttu-id="b0d8b-192">hello mellannivå skickar begäran toohello Azure Media REST-API med hello Azure AD-token.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-192">hello middle tier sends request toohello Azure Media REST API with hello Azure AD token.</span></span>
5. <span data-ttu-id="b0d8b-193">hello mellannivå hämtar tillbaka hello data från Media Services.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-193">hello middle tier gets back hello data from Media Services.</span></span>

<span data-ttu-id="b0d8b-194">Mer information om hur toouse Azure AD authentication toocommunicate med övriga begäranden med hjälp av klient-hello Media Services .NET SDK finns [använda Azure AD authentication tooaccess Azure Media Services-API med .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-194">For more information about how toouse Azure AD authentication toocommunicate with REST requests by using hello Media Services .NET client SDK, see [Use Azure AD authentication tooaccess Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="b0d8b-195">Om du inte använder klient-hello Media Services .NET SDK, måste du manuellt skapa en Azure AD-tokenbegäran med parametrar som beskrivs i steg 1.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-195">If you are not using hello Media Services .NET client SDK, you must manually create an Azure AD token request by using parameters described in step 1.</span></span> <span data-ttu-id="b0d8b-196">Mer information finns i [hur toouse hello Azure AD Authentication Library tooget hello Azure AD-token](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-196">For more information, see [How toouse hello Azure AD Authentication Library tooget hello Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="b0d8b-197">Felsökning</span><span class="sxs-lookup"><span data-stu-id="b0d8b-197">Troubleshooting</span></span>

<span data-ttu-id="b0d8b-198">Undantag ”: hello fjärrservern returnerade ett fel: (401) obehörig”.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-198">Exception: "hello remote server returned an error: (401) Unauthorized."</span></span>

<span data-ttu-id="b0d8b-199">Lösning: För hello Media Services REST begäran toosucceed hello anropande användaren måste vara en medarbetare eller ägare roll i hello försök tooaccess Media Services-konto.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-199">Solution: For hello Media Services REST request toosucceed, hello calling user must be a Contributor or Owner role in hello Media Services account it is trying tooaccess.</span></span> <span data-ttu-id="b0d8b-200">Mer information finns i hello [åtkomstkontroll](media-services-use-aad-auth-to-access-ams-api.md#access-control) avsnitt.</span><span class="sxs-lookup"><span data-stu-id="b0d8b-200">For more information, see hello [Access control](media-services-use-aad-auth-to-access-ams-api.md#access-control) section.</span></span>

## <a name="resources"></a><span data-ttu-id="b0d8b-201">Resurser</span><span class="sxs-lookup"><span data-stu-id="b0d8b-201">Resources</span></span>

<span data-ttu-id="b0d8b-202">hello följande artiklar finns översikter över begrepp för Azure AD-autentisering:</span><span class="sxs-lookup"><span data-stu-id="b0d8b-202">hello following articles are overviews of Azure AD authentication concepts:</span></span> 

- [<span data-ttu-id="b0d8b-203">Autentiseringsscenarier åtgärdas av Azure AD</span><span class="sxs-lookup"><span data-stu-id="b0d8b-203">Authentication scenarios addressed by Azure AD</span></span>](../active-directory/develop/active-directory-authentication-scenarios.md#basics-of-authentication-in-azure-ad)
- [<span data-ttu-id="b0d8b-204">Lägga till, uppdatera eller ta bort ett program i Azure AD</span><span class="sxs-lookup"><span data-stu-id="b0d8b-204">Add, update, or remove an application in Azure AD</span></span>](../active-directory/develop/active-directory-integrating-applications.md)
- [<span data-ttu-id="b0d8b-205">Konfigurera och hantera rollbaserad åtkomstkontroll med hjälp av PowerShell</span><span class="sxs-lookup"><span data-stu-id="b0d8b-205">Configure and manage Role-Based Access Control by using PowerShell</span></span>](../active-directory/role-based-access-control-manage-access-powershell.md)

## <a name="next-steps"></a><span data-ttu-id="b0d8b-206">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="b0d8b-206">Next steps</span></span>

* <span data-ttu-id="b0d8b-207">Använd hello Azure-portalen för[åtkomst till Azure AD authentication tooconsume Azure Media Services API](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-207">Use hello Azure portal too[access Azure AD authentication tooconsume Azure Media Services API](media-services-portal-get-started-with-aad.md).</span></span>
* <span data-ttu-id="b0d8b-208">Använda Azure AD-autentisering för[åtkomst till Azure Media Services-API med .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="b0d8b-208">Use Azure AD authentication too[access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span>

