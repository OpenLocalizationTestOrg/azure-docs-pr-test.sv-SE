---
title: aaaService Bus med .NET och AMQP 1.0 | Microsoft Docs
description: "Med hjälp av Azure Service Bus från .NET med AMQP"
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 332bcb13-e287-4715-99ee-3d7d97396487
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 04/19/2017
ms.author: sethm
ms.openlocfilehash: d8b40f92ba29058951556fa3db1adcf9383ee69f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="using-service-bus-from-net-with-amqp-10"></a><span data-ttu-id="73117-103">Använda Service Bus från .NET med AMQP 1.0</span><span class="sxs-lookup"><span data-stu-id="73117-103">Using Service Bus from .NET with AMQP 1.0</span></span>

## <a name="downloading-hello-service-bus-sdk"></a><span data-ttu-id="73117-104">Hämta hello Service Bus SDK</span><span class="sxs-lookup"><span data-stu-id="73117-104">Downloading hello Service Bus SDK</span></span>

<span data-ttu-id="73117-105">AMQP 1.0-support är tillgänglig i hello Service Bus SDK version 2.1 eller senare.</span><span class="sxs-lookup"><span data-stu-id="73117-105">AMQP 1.0 support is available in hello Service Bus SDK version 2.1 or later.</span></span> <span data-ttu-id="73117-106">Du kan kontrollera att du har hello senaste versionen genom att hämta hello Service Bus bits från [NuGet][NuGet].</span><span class="sxs-lookup"><span data-stu-id="73117-106">You can ensure you have hello latest version by downloading hello Service Bus bits from [NuGet][NuGet].</span></span>

## <a name="configuring-net-applications-toouse-amqp-10"></a><span data-ttu-id="73117-107">Konfigurerar .NET-program toouse AMQP 1.0</span><span class="sxs-lookup"><span data-stu-id="73117-107">Configuring .NET applications toouse AMQP 1.0</span></span>

<span data-ttu-id="73117-108">Som standard kommunicerar hello Service Bus .NET-klientbibliotek med hello Service Bus-tjänst som använder en dedikerad SOAP-baserat protokoll.</span><span class="sxs-lookup"><span data-stu-id="73117-108">By default, hello Service Bus .NET client library communicates with hello Service Bus service using a dedicated SOAP-based protocol.</span></span> <span data-ttu-id="73117-109">toouse AMQP 1.0 i stället för hello standardprotokoll kräver explicit konfigurationen på hello Service Bus-anslutningssträng som beskrivs i nästa avsnitt om hello.</span><span class="sxs-lookup"><span data-stu-id="73117-109">toouse AMQP 1.0 instead of hello default protocol requires explicit configuration on hello Service Bus connection string, as described in hello next section.</span></span> <span data-ttu-id="73117-110">Förutom den här ändringen ändras programkod inte när du använder AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="73117-110">Other than this change, application code remains unchanged when using AMQP 1.0.</span></span>

<span data-ttu-id="73117-111">Det finns några API-funktioner som inte stöds när du använder AMQP i hello aktuella versionen.</span><span class="sxs-lookup"><span data-stu-id="73117-111">In hello current release, there are a few API features that are not supported when using AMQP.</span></span> <span data-ttu-id="73117-112">Dessa funktioner som inte stöds nämns senare under hello [stöds inte funktioner, begränsningar och beteendebaserade skillnader](#unsupported-features-restrictions-and-behavioral-differences).</span><span class="sxs-lookup"><span data-stu-id="73117-112">These unsupported features are listed later in hello section [Unsupported features, restrictions, and behavioral differences](#unsupported-features-restrictions-and-behavioral-differences).</span></span> <span data-ttu-id="73117-113">Vissa avancerade konfigurationsinställningar hello har också en annan betydelse när du använder AMQP.</span><span class="sxs-lookup"><span data-stu-id="73117-113">Some of hello advanced configuration settings also have a different meaning when using AMQP.</span></span>

### <a name="configuration-using-appconfig"></a><span data-ttu-id="73117-114">Konfiguration med hjälp av App.config</span><span class="sxs-lookup"><span data-stu-id="73117-114">Configuration using App.config</span></span>

<span data-ttu-id="73117-115">Det är bra för program toouse hello App.config-filen toostore konfigurationsinställningar.</span><span class="sxs-lookup"><span data-stu-id="73117-115">It is good practice for applications toouse hello App.config configuration file toostore settings.</span></span> <span data-ttu-id="73117-116">Du kan använda App.config toostore hello Service Bus-anslutningssträng för Service Bus-program.</span><span class="sxs-lookup"><span data-stu-id="73117-116">For Service Bus applications, you can use App.config toostore hello Service Bus connection string.</span></span> <span data-ttu-id="73117-117">En exempel App.config-fil är följande:</span><span class="sxs-lookup"><span data-stu-id="73117-117">An example App.config file is as follows:</span></span>

```xml
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
    <appSettings>
        <add key="Microsoft.ServiceBus.ConnectionString"
             value="Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[SAS key];TransportType=Amqp" />
    </appSettings>
</configuration>
```

<span data-ttu-id="73117-118">Hej värdet för hello `Microsoft.ServiceBus.ConnectionString` inställningen är hello Service Bus-anslutningssträng som används tooconfigure hello anslutning tooService Bus.</span><span class="sxs-lookup"><span data-stu-id="73117-118">hello value of hello `Microsoft.ServiceBus.ConnectionString` setting is hello Service Bus connection string that is used tooconfigure hello connection tooService Bus.</span></span> <span data-ttu-id="73117-119">hello format är följande:</span><span class="sxs-lookup"><span data-stu-id="73117-119">hello format is as follows:</span></span>

`Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[SAS key];TransportType=Amqp`

<span data-ttu-id="73117-120">Där `[namespace]` och `SharedAccessKey` hämtas från hello [Azure-portalen] [ Azure portal] när du skapar en Service Bus-namnrymd.</span><span class="sxs-lookup"><span data-stu-id="73117-120">Where `[namespace]` and `SharedAccessKey` are obtained from hello [Azure portal][Azure portal] when you create a Service Bus namespace.</span></span> <span data-ttu-id="73117-121">Mer information finns i [skapa ett namnområde för Service Bus använder hello Azure-portalen][Create a Service Bus namespace using hello Azure portal].</span><span class="sxs-lookup"><span data-stu-id="73117-121">For more information, see [Create a Service Bus namespace using hello Azure portal][Create a Service Bus namespace using hello Azure portal].</span></span>

<span data-ttu-id="73117-122">När du använder AMQP, bifoga hello-anslutningssträngen med `;TransportType=Amqp`.</span><span class="sxs-lookup"><span data-stu-id="73117-122">When using AMQP, append hello connection string with `;TransportType=Amqp`.</span></span> <span data-ttu-id="73117-123">Notation instruerar hello klienten biblioteket toomake dess anslutning tooService Bus använder AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="73117-123">This notation instructs hello client library toomake its connection tooService Bus using AMQP 1.0.</span></span>

## <a name="message-serialization"></a><span data-ttu-id="73117-124">Meddelande-serialisering</span><span class="sxs-lookup"><span data-stu-id="73117-124">Message serialization</span></span>

<span data-ttu-id="73117-125">När du använder hello standardprotokoll hello serialisering standardbeteendet för hello klientbiblioteket för .NET är toouse hello [DataContractSerializer] [ DataContractSerializer] skriver tooserialize en [BrokeredMessage ] [ BrokeredMessage] instans för överföring mellan hello klientbiblioteket och hello Service Bus-tjänst.</span><span class="sxs-lookup"><span data-stu-id="73117-125">When using hello default protocol, hello default serialization behavior of hello .NET client library is toouse hello [DataContractSerializer][DataContractSerializer] type tooserialize a [BrokeredMessage][BrokeredMessage] instance for transport between hello client library and hello Service Bus service.</span></span> <span data-ttu-id="73117-126">När du använder hello AMQP transportläge hello klientbiblioteket använder hello AMQP typsystemet för serialisering av hello [asynkrona meddelanden] [ BrokeredMessage] i en AMQP-meddelande.</span><span class="sxs-lookup"><span data-stu-id="73117-126">When using hello AMQP transport mode, hello client library uses hello AMQP type system for serialization of hello [brokered message][BrokeredMessage] into an AMQP message.</span></span> <span data-ttu-id="73117-127">Den här serialisering kan hello meddelandet toobe emot och tolkas av ett mottagande program som körs kan vara på en annan plattform, till exempel ett Java-program som använder hello JMS API tooaccess Service Bus.</span><span class="sxs-lookup"><span data-stu-id="73117-127">This serialization enables hello message toobe received and interpreted by a receiving application that is potentially running on a different platform, for example, a Java application that uses hello JMS API tooaccess Service Bus.</span></span>

<span data-ttu-id="73117-128">När du skapar en [BrokeredMessage] [ BrokeredMessage] instans, du kan tillhandahålla ett .NET-objekt som parameter toohello konstruktorn tooserve som hello del av hello-meddelande.</span><span class="sxs-lookup"><span data-stu-id="73117-128">When you construct a [BrokeredMessage][BrokeredMessage] instance, you can provide a .NET object as a parameter toohello constructor tooserve as hello body of hello message.</span></span> <span data-ttu-id="73117-129">För objekt som kan vara mappade tooAMQP primitiva typer, serialiseras hello brödtext till AMQP-datatyper.</span><span class="sxs-lookup"><span data-stu-id="73117-129">For objects that can be mapped tooAMQP primitive types, hello body is serialized into AMQP data types.</span></span> <span data-ttu-id="73117-130">Om hello-objekt inte kan mappas direkt till en primitiv typ AMQP; det vill säga en anpassad typ som definieras av programmet hello sedan hello objekt serialiseras med hello [DataContractSerializer][DataContractSerializer], och hello serialiseras byte skickas i ett AMQP data visas.</span><span class="sxs-lookup"><span data-stu-id="73117-130">If hello object cannot be directly mapped into an AMQP primitive type; that is, a custom type defined by hello application, then hello object is serialized using hello [DataContractSerializer][DataContractSerializer], and hello serialized bytes are sent in an AMQP data message.</span></span>

<span data-ttu-id="73117-131">toofacilitate samverkan med icke-.NET-klienter använder endast .NET-typer som kan serialiseras direkt till AMQP typer för hello hello-meddelande.</span><span class="sxs-lookup"><span data-stu-id="73117-131">toofacilitate interoperability with non-.NET clients, use only .NET types that can be serialized directly into AMQP types for hello body of hello message.</span></span> <span data-ttu-id="73117-132">hello i den följande tabellen beskrivs de typer och hello motsvarande mappning toohello AMQP typsystemet.</span><span class="sxs-lookup"><span data-stu-id="73117-132">hello following table details those types and hello corresponding mapping toohello AMQP type system.</span></span>

| <span data-ttu-id="73117-133">Objekttyp för .NET brödtext</span><span class="sxs-lookup"><span data-stu-id="73117-133">.NET Body Object Type</span></span> | <span data-ttu-id="73117-134">Mappade AMQP typ</span><span class="sxs-lookup"><span data-stu-id="73117-134">Mapped AMQP Type</span></span> | <span data-ttu-id="73117-135">Typen av AMQP brödtext avsnitt</span><span class="sxs-lookup"><span data-stu-id="73117-135">AMQP Body Section Type</span></span> |
| --- | --- | --- |
| <span data-ttu-id="73117-136">bool</span><span class="sxs-lookup"><span data-stu-id="73117-136">bool</span></span> |<span data-ttu-id="73117-137">Booleskt värde</span><span class="sxs-lookup"><span data-stu-id="73117-137">boolean</span></span> |<span data-ttu-id="73117-138">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-138">AMQP Value</span></span> |
| <span data-ttu-id="73117-139">Mottagna byte</span><span class="sxs-lookup"><span data-stu-id="73117-139">byte</span></span> |<span data-ttu-id="73117-140">ubyte</span><span class="sxs-lookup"><span data-stu-id="73117-140">ubyte</span></span> |<span data-ttu-id="73117-141">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-141">AMQP Value</span></span> |
| <span data-ttu-id="73117-142">ushort</span><span class="sxs-lookup"><span data-stu-id="73117-142">ushort</span></span> |<span data-ttu-id="73117-143">ushort</span><span class="sxs-lookup"><span data-stu-id="73117-143">ushort</span></span> |<span data-ttu-id="73117-144">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-144">AMQP Value</span></span> |
| <span data-ttu-id="73117-145">uint</span><span class="sxs-lookup"><span data-stu-id="73117-145">uint</span></span> |<span data-ttu-id="73117-146">uint</span><span class="sxs-lookup"><span data-stu-id="73117-146">uint</span></span> |<span data-ttu-id="73117-147">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-147">AMQP Value</span></span> |
| <span data-ttu-id="73117-148">ulong</span><span class="sxs-lookup"><span data-stu-id="73117-148">ulong</span></span> |<span data-ttu-id="73117-149">ulong</span><span class="sxs-lookup"><span data-stu-id="73117-149">ulong</span></span> |<span data-ttu-id="73117-150">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-150">AMQP Value</span></span> |
| <span data-ttu-id="73117-151">sbyte</span><span class="sxs-lookup"><span data-stu-id="73117-151">sbyte</span></span> |<span data-ttu-id="73117-152">Mottagna byte</span><span class="sxs-lookup"><span data-stu-id="73117-152">byte</span></span> |<span data-ttu-id="73117-153">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-153">AMQP Value</span></span> |
| <span data-ttu-id="73117-154">kort</span><span class="sxs-lookup"><span data-stu-id="73117-154">short</span></span> |<span data-ttu-id="73117-155">kort</span><span class="sxs-lookup"><span data-stu-id="73117-155">short</span></span> |<span data-ttu-id="73117-156">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-156">AMQP Value</span></span> |
| <span data-ttu-id="73117-157">int</span><span class="sxs-lookup"><span data-stu-id="73117-157">int</span></span> |<span data-ttu-id="73117-158">int</span><span class="sxs-lookup"><span data-stu-id="73117-158">int</span></span> |<span data-ttu-id="73117-159">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-159">AMQP Value</span></span> |
| <span data-ttu-id="73117-160">lång</span><span class="sxs-lookup"><span data-stu-id="73117-160">long</span></span> |<span data-ttu-id="73117-161">lång</span><span class="sxs-lookup"><span data-stu-id="73117-161">long</span></span> |<span data-ttu-id="73117-162">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-162">AMQP Value</span></span> |
| <span data-ttu-id="73117-163">flyttal</span><span class="sxs-lookup"><span data-stu-id="73117-163">float</span></span> |<span data-ttu-id="73117-164">flyttal</span><span class="sxs-lookup"><span data-stu-id="73117-164">float</span></span> |<span data-ttu-id="73117-165">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-165">AMQP Value</span></span> |
| <span data-ttu-id="73117-166">dubbla</span><span class="sxs-lookup"><span data-stu-id="73117-166">double</span></span> |<span data-ttu-id="73117-167">dubbla</span><span class="sxs-lookup"><span data-stu-id="73117-167">double</span></span> |<span data-ttu-id="73117-168">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-168">AMQP Value</span></span> |
| <span data-ttu-id="73117-169">Decimal</span><span class="sxs-lookup"><span data-stu-id="73117-169">decimal</span></span> |<span data-ttu-id="73117-170">decimal128</span><span class="sxs-lookup"><span data-stu-id="73117-170">decimal128</span></span> |<span data-ttu-id="73117-171">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-171">AMQP Value</span></span> |
| <span data-ttu-id="73117-172">Char</span><span class="sxs-lookup"><span data-stu-id="73117-172">char</span></span> |<span data-ttu-id="73117-173">Char</span><span class="sxs-lookup"><span data-stu-id="73117-173">char</span></span> |<span data-ttu-id="73117-174">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-174">AMQP Value</span></span> |
| <span data-ttu-id="73117-175">Datum och tid</span><span class="sxs-lookup"><span data-stu-id="73117-175">DateTime</span></span> |<span data-ttu-id="73117-176">tidsstämpel</span><span class="sxs-lookup"><span data-stu-id="73117-176">timestamp</span></span> |<span data-ttu-id="73117-177">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-177">AMQP Value</span></span> |
| <span data-ttu-id="73117-178">GUID</span><span class="sxs-lookup"><span data-stu-id="73117-178">Guid</span></span> |<span data-ttu-id="73117-179">UUID</span><span class="sxs-lookup"><span data-stu-id="73117-179">uuid</span></span> |<span data-ttu-id="73117-180">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-180">AMQP Value</span></span> |
| <span data-ttu-id="73117-181">byte]</span><span class="sxs-lookup"><span data-stu-id="73117-181">byte[]</span></span> |<span data-ttu-id="73117-182">Binär</span><span class="sxs-lookup"><span data-stu-id="73117-182">binary</span></span> |<span data-ttu-id="73117-183">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-183">AMQP Value</span></span> |
| <span data-ttu-id="73117-184">Sträng</span><span class="sxs-lookup"><span data-stu-id="73117-184">string</span></span> |<span data-ttu-id="73117-185">Sträng</span><span class="sxs-lookup"><span data-stu-id="73117-185">string</span></span> |<span data-ttu-id="73117-186">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-186">AMQP Value</span></span> |
| <span data-ttu-id="73117-187">System.Collections.IList</span><span class="sxs-lookup"><span data-stu-id="73117-187">System.Collections.IList</span></span> |<span data-ttu-id="73117-188">lista</span><span class="sxs-lookup"><span data-stu-id="73117-188">list</span></span> |<span data-ttu-id="73117-189">AMQP värde: objekt i samlingen hello kan bara vara de som definieras i den här tabellen.</span><span class="sxs-lookup"><span data-stu-id="73117-189">AMQP Value: items contained in hello collection can only be those that are defined in this table.</span></span> |
| <span data-ttu-id="73117-190">System.Array</span><span class="sxs-lookup"><span data-stu-id="73117-190">System.Array</span></span> |<span data-ttu-id="73117-191">matris</span><span class="sxs-lookup"><span data-stu-id="73117-191">array</span></span> |<span data-ttu-id="73117-192">AMQP värde: objekt i samlingen hello kan bara vara de som definieras i den här tabellen.</span><span class="sxs-lookup"><span data-stu-id="73117-192">AMQP Value: items contained in hello collection can only be those that are defined in this table.</span></span> |
| <span data-ttu-id="73117-193">System.Collections.IDictionary</span><span class="sxs-lookup"><span data-stu-id="73117-193">System.Collections.IDictionary</span></span> |<span data-ttu-id="73117-194">karta</span><span class="sxs-lookup"><span data-stu-id="73117-194">map</span></span> |<span data-ttu-id="73117-195">AMQP värde: objekt i samlingen hello kan bara vara de som definieras i den här tabellen. Obs: endast strängnycklar stöds.</span><span class="sxs-lookup"><span data-stu-id="73117-195">AMQP Value: items contained in hello collection can only be those that are defined in this table.Note: only String keys are supported.</span></span> |
| <span data-ttu-id="73117-196">URI: N</span><span class="sxs-lookup"><span data-stu-id="73117-196">Uri</span></span> |<span data-ttu-id="73117-197">Beskrivs sträng (se följande tabell hello)</span><span class="sxs-lookup"><span data-stu-id="73117-197">Described string(see hello following table)</span></span> |<span data-ttu-id="73117-198">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-198">AMQP Value</span></span> |
| <span data-ttu-id="73117-199">DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="73117-199">DateTimeOffset</span></span> |<span data-ttu-id="73117-200">Beskrivs långt (se följande tabell hello)</span><span class="sxs-lookup"><span data-stu-id="73117-200">Described long(see hello following table)</span></span> |<span data-ttu-id="73117-201">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-201">AMQP Value</span></span> |
| <span data-ttu-id="73117-202">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="73117-202">TimeSpan</span></span> |<span data-ttu-id="73117-203">Beskrivs långt (se följande hello)</span><span class="sxs-lookup"><span data-stu-id="73117-203">Described long(see hello following)</span></span> |<span data-ttu-id="73117-204">AMQP värde</span><span class="sxs-lookup"><span data-stu-id="73117-204">AMQP Value</span></span> |
| <span data-ttu-id="73117-205">Dataströmmen</span><span class="sxs-lookup"><span data-stu-id="73117-205">Stream</span></span> |<span data-ttu-id="73117-206">Binär</span><span class="sxs-lookup"><span data-stu-id="73117-206">binary</span></span> |<span data-ttu-id="73117-207">AMQP Data (kan vara flera).</span><span class="sxs-lookup"><span data-stu-id="73117-207">AMQP Data (may be multiple).</span></span> <span data-ttu-id="73117-208">hello Data avsnitt innehåller hello rå byte från hello Stream-objektet.</span><span class="sxs-lookup"><span data-stu-id="73117-208">hello Data sections contain hello raw bytes read from hello Stream object.</span></span> |
| <span data-ttu-id="73117-209">Andra objekt</span><span class="sxs-lookup"><span data-stu-id="73117-209">Other Object</span></span> |<span data-ttu-id="73117-210">Binär</span><span class="sxs-lookup"><span data-stu-id="73117-210">binary</span></span> |<span data-ttu-id="73117-211">AMQP Data (kan vara flera).</span><span class="sxs-lookup"><span data-stu-id="73117-211">AMQP Data (may be multiple).</span></span> <span data-ttu-id="73117-212">Innehåller hello serialiseras binärt av hello-objekt som använder hello DataContractSerializer eller en serialiserare som tillhandahålls av programmet hello.</span><span class="sxs-lookup"><span data-stu-id="73117-212">Contains hello serialized binary of hello object that uses hello DataContractSerializer or a serializer supplied by hello application.</span></span> |

| <span data-ttu-id="73117-213">.NET-typ</span><span class="sxs-lookup"><span data-stu-id="73117-213">.NET Type</span></span> | <span data-ttu-id="73117-214">Mappade AMQP beskrivs typen</span><span class="sxs-lookup"><span data-stu-id="73117-214">Mapped AMQP Described Type</span></span> | <span data-ttu-id="73117-215">Anteckningar</span><span class="sxs-lookup"><span data-stu-id="73117-215">Notes</span></span> |
| --- | --- | --- |
| <span data-ttu-id="73117-216">URI: N</span><span class="sxs-lookup"><span data-stu-id="73117-216">Uri</span></span> |`<type name=”uri” class=restricted source=”string”> <descriptor name=”com.microsoft:uri” /></type>` |<span data-ttu-id="73117-217">Uri.AbsoluteUri</span><span class="sxs-lookup"><span data-stu-id="73117-217">Uri.AbsoluteUri</span></span> |
| <span data-ttu-id="73117-218">DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="73117-218">DateTimeOffset</span></span> |`<type name=”datetime-offset” class=restricted source=”long”> <descriptor name=”com.microsoft:datetime-offset” /></type>` |<span data-ttu-id="73117-219">DateTimeOffset.UtcTicks</span><span class="sxs-lookup"><span data-stu-id="73117-219">DateTimeOffset.UtcTicks</span></span> |
| <span data-ttu-id="73117-220">TimeSpan</span><span class="sxs-lookup"><span data-stu-id="73117-220">TimeSpan</span></span> |`<type name=”timespan” class=restricted source=”long”> <descriptor name=”com.microsoft:timespan” /></type> ` |<span data-ttu-id="73117-221">TimeSpan.Ticks</span><span class="sxs-lookup"><span data-stu-id="73117-221">TimeSpan.Ticks</span></span> |

## <a name="unsupported-features-restrictions-and-behavioral-differences"></a><span data-ttu-id="73117-222">Funktioner som inte stöds, begränsningar och beteendebaserade skillnader</span><span class="sxs-lookup"><span data-stu-id="73117-222">Unsupported features, restrictions, and behavioral differences</span></span>

<span data-ttu-id="73117-223">hello följande funktioner i hello Service Bus .NET-API är för närvarande stöds inte när du använder AMQP:</span><span class="sxs-lookup"><span data-stu-id="73117-223">hello following features of hello Service Bus .NET API are not currently supported when using AMQP:</span></span>

* <span data-ttu-id="73117-224">Transaktioner</span><span class="sxs-lookup"><span data-stu-id="73117-224">Transactions</span></span>
* <span data-ttu-id="73117-225">Skicka via överföring mål</span><span class="sxs-lookup"><span data-stu-id="73117-225">Send via transfer destination</span></span>

<span data-ttu-id="73117-226">Det finns också några mindre skillnader vad gäller hello funktionssätt hello Service Bus .NET-API när du använder AMQP, jämfört med toohello standardprotokoll:</span><span class="sxs-lookup"><span data-stu-id="73117-226">There are also some small differences in hello behavior of hello Service Bus .NET API when using AMQP, compared toohello default protocol:</span></span>

* <span data-ttu-id="73117-227">Hej [OperationTimeout] [ OperationTimeout] egenskapen ignoreras.</span><span class="sxs-lookup"><span data-stu-id="73117-227">hello [OperationTimeout][OperationTimeout] property is ignored.</span></span>
* <span data-ttu-id="73117-228">`MessageReceiver.Receive(TimeSpan.Zero)`implementeras som `MessageReceiver.Receive(TimeSpan.FromSeconds(10))`.</span><span class="sxs-lookup"><span data-stu-id="73117-228">`MessageReceiver.Receive(TimeSpan.Zero)` is implemented as `MessageReceiver.Receive(TimeSpan.FromSeconds(10))`.</span></span>
* <span data-ttu-id="73117-229">Slutför meddelanden av Lås token kan endast göras av hello meddelandet mottagare som ursprungligen emot hälsningsmeddelande.</span><span class="sxs-lookup"><span data-stu-id="73117-229">Completing messages by lock tokens can only be done by hello message receivers that initially received hello messages.</span></span>

## <a name="controlling-amqp-protocol-settings"></a><span data-ttu-id="73117-230">Kontrollera inställningarna för AMQP-protokollet</span><span class="sxs-lookup"><span data-stu-id="73117-230">Controlling AMQP protocol settings</span></span>

<span data-ttu-id="73117-231">Hej [.NET API: er](/dotnet/api/) exponera flera inställningar toocontrol hello funktionssätt hello AMQP-protokollet:</span><span class="sxs-lookup"><span data-stu-id="73117-231">hello [.NET APIs](/dotnet/api/) expose several settings toocontrol hello behavior of hello AMQP protocol:</span></span>

* <span data-ttu-id="73117-232">**[MessageReceiver.PrefetchCount](/dotnet/api/microsoft.servicebus.messaging.messagereceiver.prefetchcount?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessageReceiver_PrefetchCount)**: kontroller hello inledande kredit tillämpas tooa länk.</span><span class="sxs-lookup"><span data-stu-id="73117-232">**[MessageReceiver.PrefetchCount](/dotnet/api/microsoft.servicebus.messaging.messagereceiver.prefetchcount?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessageReceiver_PrefetchCount)**: Controls hello initial credit applied tooa link.</span></span> <span data-ttu-id="73117-233">hello standardvärdet är 0.</span><span class="sxs-lookup"><span data-stu-id="73117-233">hello default is 0.</span></span>
* <span data-ttu-id="73117-234">**[MessagingFactorySettings.AmqpTransportSettings.MaxFrameSize](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.maxframesize?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_MaxFrameSize)**: kontroller hello AMQP ram maxstorleken erbjuds under hello förhandling vid anslutningen öppen.</span><span class="sxs-lookup"><span data-stu-id="73117-234">**[MessagingFactorySettings.AmqpTransportSettings.MaxFrameSize](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.maxframesize?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_MaxFrameSize)**: Controls hello maximum AMQP frame size offered during hello negotiation at connection open time.</span></span> <span data-ttu-id="73117-235">hello standardinställningen är 65 536 byte.</span><span class="sxs-lookup"><span data-stu-id="73117-235">hello default is 65,536 bytes.</span></span>
* <span data-ttu-id="73117-236">**[MessagingFactorySettings.AmqpTransportSettings.BatchFlushInterval](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.batchflushinterval?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_BatchFlushInterval)**: om överföringar är batchable det här värdet fastställer hello Maximal fördröjning för att skicka disposition.</span><span class="sxs-lookup"><span data-stu-id="73117-236">**[MessagingFactorySettings.AmqpTransportSettings.BatchFlushInterval](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.batchflushinterval?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_BatchFlushInterval)**: If transfers are batchable, this value determines hello maximum delay for sending dispositions.</span></span> <span data-ttu-id="73117-237">Ärvs av avsändare/mottagare som standard.</span><span class="sxs-lookup"><span data-stu-id="73117-237">Inherited by senders/receivers by default.</span></span> <span data-ttu-id="73117-238">Enskilda avsändare/mottagare kan åsidosätta hello standard, vilket är 20 millisekunder.</span><span class="sxs-lookup"><span data-stu-id="73117-238">Individual sender/receiver can override hello default, which is 20 milliseconds.</span></span>
* <span data-ttu-id="73117-239">**[MessagingFactorySettings.AmqpTransportSettings.UseSslStreamSecurity](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.usesslstreamsecurity?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_UseSslStreamSecurity)**: styr om AMQP anslutningar upprättas via en SSL-anslutning.</span><span class="sxs-lookup"><span data-stu-id="73117-239">**[MessagingFactorySettings.AmqpTransportSettings.UseSslStreamSecurity](/dotnet/api/microsoft.servicebus.messaging.amqp.amqptransportsettings.usesslstreamsecurity?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_Amqp_AmqpTransportSettings_UseSslStreamSecurity)**: Controls whether AMQP connections are established over an SSL connection.</span></span> <span data-ttu-id="73117-240">hello standardvärdet är **SANT**.</span><span class="sxs-lookup"><span data-stu-id="73117-240">hello default is **true**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="73117-241">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="73117-241">Next steps</span></span>

<span data-ttu-id="73117-242">Redo toolearn mer?</span><span class="sxs-lookup"><span data-stu-id="73117-242">Ready toolearn more?</span></span> <span data-ttu-id="73117-243">Besök hello följande länkar:</span><span class="sxs-lookup"><span data-stu-id="73117-243">Visit hello following links:</span></span>

* <span data-ttu-id="73117-244">[Översikt över Service Bus AMQP]</span><span class="sxs-lookup"><span data-stu-id="73117-244">[Service Bus AMQP overview]</span></span>
* <span data-ttu-id="73117-245">[AMQP 1.0-stöd för Service Bus partitionerad köer och ämnen]</span><span class="sxs-lookup"><span data-stu-id="73117-245">[AMQP 1.0 support for Service Bus partitioned queues and topics]</span></span>
* <span data-ttu-id="73117-246">[AMQP i Service Bus för Windows Server]</span><span class="sxs-lookup"><span data-stu-id="73117-246">[AMQP in Service Bus for Windows Server]</span></span>

[Create a Service Bus namespace using hello Azure portal]: service-bus-create-namespace-portal.md
[DataContractSerializer]: https://msdn.microsoft.com/library/system.runtime.serialization.datacontractserializer.aspx
[BrokeredMessage]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage?view=azureservicebus-4.0.0
[Microsoft.ServiceBus.Messaging.MessagingFactory.AcceptMessageSession]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory.acceptmessagesession?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessagingFactory_AcceptMessageSession
[OperationTimeout]: /dotnet/api/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_MessagingFactorySettings_OperationTimeout
[NuGet]: http://nuget.org/packages/WindowsAzure.ServiceBus/
[Azure portal]: https://portal.azure.com
[Översikt över Service Bus AMQP]: service-bus-amqp-overview.md
[AMQP 1.0-stöd för Service Bus partitionerad köer och ämnen]: service-bus-partitioned-queues-and-topics-amqp-overview.md
[AMQP i Service Bus för Windows Server]: https://msdn.microsoft.com/library/dn574799.aspx
