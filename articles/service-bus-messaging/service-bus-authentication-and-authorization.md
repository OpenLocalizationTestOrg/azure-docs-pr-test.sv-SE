---
title: aaaAzure Service Bus autentisering och auktorisering | Microsoft Docs
description: "Autentisera appar tooService Bus med delade signatur åtkomst (SAS)-autentisering."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 18bad0ed-1cee-4a5c-a377-facc4785c8c9
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/09/2017
ms.author: sethm
ms.openlocfilehash: 898a2144c99d8fac074b6d85604f710bf512e71e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="service-bus-authentication-and-authorization"></a><span data-ttu-id="997c8-103">Service Bus, autentisering och auktorisering</span><span class="sxs-lookup"><span data-stu-id="997c8-103">Service Bus authentication and authorization</span></span>

<span data-ttu-id="997c8-104">Program kan autentisera tooAzure Service Bus med hjälp av delade signatur åtkomst (SAS) autentisering.</span><span class="sxs-lookup"><span data-stu-id="997c8-104">Applications can authenticate tooAzure Service Bus using Shared Access Signature (SAS) authentication.</span></span> <span data-ttu-id="997c8-105">Delad Åtkomstsignatur autentisering aktiverar program tooauthenticate tooService Bus med hjälp av en åtkomstnyckel som konfigurerats på hello namnområde eller hello entitet som specifika rättigheter associeras.</span><span class="sxs-lookup"><span data-stu-id="997c8-105">Shared Access Signature authentication enables applications tooauthenticate tooService Bus using an access key configured on hello namespace, or on hello entity with which specific rights are associated.</span></span> <span data-ttu-id="997c8-106">Du kan sedan använda den här nyckeln toogenerate en signatur för delad åtkomst-token som klienter kan använda tooauthenticate tooService Bus.</span><span class="sxs-lookup"><span data-stu-id="997c8-106">You can then use this key toogenerate a Shared Access Signature token that clients can use tooauthenticate tooService Bus.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="997c8-107">Du bör använda SAS i stället för Azure Active Directory-åtkomstkontroll (även kallat åtkomstkontrolltjänsten eller ACS), eftersom ACS är inaktuell.</span><span class="sxs-lookup"><span data-stu-id="997c8-107">You should use SAS instead of Azure Active Directory Access Control (also known as Access Control Service or ACS), as ACS is being deprecated.</span></span> <span data-ttu-id="997c8-108">SAS tillhandahåller en enkel, flexibel och enkla att använda autentiseringsschema för Service Bus.</span><span class="sxs-lookup"><span data-stu-id="997c8-108">SAS provides a simple, flexible, and easy-to-use authentication scheme for Service Bus.</span></span> <span data-ttu-id="997c8-109">Program kan använda SAS i scenarier där de inte behöver toomanage hello begreppet en behörig ”användare”.</span><span class="sxs-lookup"><span data-stu-id="997c8-109">Applications can use SAS in scenarios in which they do not need toomanage hello notion of an authorized "user."</span></span> <span data-ttu-id="997c8-110">Mer information finns i [i det här blogginlägget](https://blogs.msdn.microsoft.com/servicebus/2017/06/01/upcoming-changes-to-acs-enabled-namespaces/).</span><span class="sxs-lookup"><span data-stu-id="997c8-110">For more information, see [this blog post](https://blogs.msdn.microsoft.com/servicebus/2017/06/01/upcoming-changes-to-acs-enabled-namespaces/).</span></span>

## <a name="shared-access-signature-authentication"></a><span data-ttu-id="997c8-111">Autentisering med delad Åtkomstsignatur</span><span class="sxs-lookup"><span data-stu-id="997c8-111">Shared Access Signature authentication</span></span>

<span data-ttu-id="997c8-112">[SAS-autentisering](service-bus-sas.md) aktiverar du toogrant en användare kommer åt tooService Bus resurser med specifika rättigheter.</span><span class="sxs-lookup"><span data-stu-id="997c8-112">[SAS authentication](service-bus-sas.md) enables you toogrant a user access tooService Bus resources with specific rights.</span></span> <span data-ttu-id="997c8-113">SAS-autentisering i Service Bus omfattar hello konfigurationen av en krypteringsnyckel med associerade behörigheter på en Service Bus-resurs.</span><span class="sxs-lookup"><span data-stu-id="997c8-113">SAS authentication in Service Bus involves hello configuration of a cryptographic key with associated rights on a Service Bus resource.</span></span> <span data-ttu-id="997c8-114">Klienter kan få åtkomst toothat resursen genom att presentera en SAS-token som består av hello resurs-URI som används och ett förfallodatum som signerats med hello konfigurerade nyckeln.</span><span class="sxs-lookup"><span data-stu-id="997c8-114">Clients can then gain access toothat resource by presenting a SAS token, which consists of hello resource URI being accessed and an expiry signed with hello configured key.</span></span>

<span data-ttu-id="997c8-115">Du kan konfigurera nycklar för Säkerhetsassociationer för ett Service Bus-namnområde.</span><span class="sxs-lookup"><span data-stu-id="997c8-115">You can configure keys for SAS on a Service Bus namespace.</span></span> <span data-ttu-id="997c8-116">hello nyckeln gäller tooall meddelandeentiteter i detta namnområde.</span><span class="sxs-lookup"><span data-stu-id="997c8-116">hello key applies tooall messaging entities in that namespace.</span></span> <span data-ttu-id="997c8-117">Du kan också konfigurera nycklar på Service Bus-köer och ämnen.</span><span class="sxs-lookup"><span data-stu-id="997c8-117">You can also configure keys on Service Bus queues and topics.</span></span> <span data-ttu-id="997c8-118">SAS stöds även på [Azure Relay](../service-bus-relay/relay-authentication-and-authorization.md).</span><span class="sxs-lookup"><span data-stu-id="997c8-118">SAS is also supported on [Azure Relay](../service-bus-relay/relay-authentication-and-authorization.md).</span></span>

<span data-ttu-id="997c8-119">toouse SAS kan du konfigurera en [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) objekt i ett namnområde, en kö eller ett ämne.</span><span class="sxs-lookup"><span data-stu-id="997c8-119">toouse SAS, you can configure a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object on a namespace, queue, or topic.</span></span> <span data-ttu-id="997c8-120">Den här regeln består av hello följande element:</span><span class="sxs-lookup"><span data-stu-id="997c8-120">This rule consists of hello following elements:</span></span>

* <span data-ttu-id="997c8-121">*KeyName* som identifierar hello regeln.</span><span class="sxs-lookup"><span data-stu-id="997c8-121">*KeyName* that identifies hello rule.</span></span>
* <span data-ttu-id="997c8-122">*PrimaryKey* är en kryptografisk nyckel används toosign/Validera SAS-token.</span><span class="sxs-lookup"><span data-stu-id="997c8-122">*PrimaryKey* is a cryptographic key used toosign/validate SAS tokens.</span></span>
* <span data-ttu-id="997c8-123">*Sekundär nyckel* är en kryptografisk nyckel används toosign/Validera SAS-token.</span><span class="sxs-lookup"><span data-stu-id="997c8-123">*SecondaryKey* is a cryptographic key used toosign/validate SAS tokens.</span></span>
* <span data-ttu-id="997c8-124">*Rättigheter* som representerar hello samling lyssna skicka eller hantera rättigheter.</span><span class="sxs-lookup"><span data-stu-id="997c8-124">*Rights* representing hello collection of Listen, Send, or Manage rights granted.</span></span>

<span data-ttu-id="997c8-125">Auktoriseringsregler som konfigurerats på hello namnområdesnivån kan bevilja åtkomst tooall entiteter i ett namnområde för klienter med token som signerats med hello motsvarande nyckel.</span><span class="sxs-lookup"><span data-stu-id="997c8-125">Authorization rules configured at hello namespace level can grant access tooall entities in a namespace for clients with tokens signed using hello corresponding key.</span></span> <span data-ttu-id="997c8-126">Konfigurera too12 kan sådana auktoriseringsregler konfigureras på Service Bus-namnområde, kö eller i avsnittet.</span><span class="sxs-lookup"><span data-stu-id="997c8-126">Up too12 such authorization rules can be configured on a Service Bus namespace, queue, or topic.</span></span> <span data-ttu-id="997c8-127">Som standard en [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) alla rättigheter som är konfigurerad för varje namnområde när det först har etablerats.</span><span class="sxs-lookup"><span data-stu-id="997c8-127">By default, a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) with all rights is configured for every namespace when it is first provisioned.</span></span>

<span data-ttu-id="997c8-128">tooaccess en entitet hello klienten kräver en SAS-token som skapats med en specifik [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span><span class="sxs-lookup"><span data-stu-id="997c8-128">tooaccess an entity, hello client requires a SAS token generated using a specific [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span></span> <span data-ttu-id="997c8-129">hello SAS-token genereras med en krypteringsnyckel som är associerade med hello auktoriseringsregeln hello HMAC SHA256 av en resurssträng som består av hello resurs URI toowhich åtkomst begärs och en upphör att gälla.</span><span class="sxs-lookup"><span data-stu-id="997c8-129">hello SAS token is generated using hello HMAC-SHA256 of a resource string that consists of hello resource URI toowhich access is claimed, and an expiry with a cryptographic key associated with hello authorization rule.</span></span>

<span data-ttu-id="997c8-130">Stöd för Service Bus SAS-autentisering ingår i hello Azure .NET SDK version 2.0 och senare.</span><span class="sxs-lookup"><span data-stu-id="997c8-130">SAS authentication support for Service Bus is included in hello Azure .NET SDK versions 2.0 and later.</span></span> <span data-ttu-id="997c8-131">SAS har stöd för en [SharedAccessAuthorizationRule](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span><span class="sxs-lookup"><span data-stu-id="997c8-131">SAS includes support for a [SharedAccessAuthorizationRule](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule).</span></span> <span data-ttu-id="997c8-132">API: er som accepterar en anslutningssträng som en parameter har stöd för SAS-anslutningssträngar.</span><span class="sxs-lookup"><span data-stu-id="997c8-132">All APIs that accept a connection string as a parameter include support for SAS connection strings.</span></span>

## <a name="next-steps"></a><span data-ttu-id="997c8-133">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="997c8-133">Next steps</span></span>

- <span data-ttu-id="997c8-134">Läs [Service Bus-autentisering med signaturer för delad åtkomst](service-bus-sas.md) för mer information om SAS.</span><span class="sxs-lookup"><span data-stu-id="997c8-134">Continue reading [Service Bus authentication with Shared Access Signatures](service-bus-sas.md) for more details about SAS.</span></span>
- [<span data-ttu-id="997c8-135">Ändrar tooACS aktiverade namnområden.</span><span class="sxs-lookup"><span data-stu-id="997c8-135">Changes tooACS Enabled namespaces.</span></span>](https://blogs.msdn.microsoft.com/servicebus/2017/06/01/upcoming-changes-to-acs-enabled-namespaces/)
- <span data-ttu-id="997c8-136">Motsvarande information om Azure Relay autentisering och auktorisering finns [Azure Relay autentisering och auktorisering](../service-bus-relay/relay-authentication-and-authorization.md).</span><span class="sxs-lookup"><span data-stu-id="997c8-136">For corresponding information about Azure Relay authentication and authorization, see [Azure Relay authentication and authorization](../service-bus-relay/relay-authentication-and-authorization.md).</span></span> 

