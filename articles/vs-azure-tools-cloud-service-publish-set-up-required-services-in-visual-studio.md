---
title: "Förbereda för att publicera eller distribuera ett Azure-program från Visual Studio | Microsoft Docs"
description: "Läs om procedurerna för att konfigurera moln och storage-Kontotjänster och konfigurera Azure-program."
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 92ee2f9e-ec49-4c7a-900d-620abe5e9d8a
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: cc4fb87e559f554634ae062a59bee31f0831da64
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/29/2017
---
# <a name="prepare-to-publish-or-deploy-an-azure-application-from-visual-studio"></a><span data-ttu-id="4ae3e-103">Förbereda för att publicera eller distribuera ett Azure-program från Visual Studio</span><span class="sxs-lookup"><span data-stu-id="4ae3e-103">Prepare to Publish or Deploy an Azure Application from Visual Studio</span></span>
## <a name="overview"></a><span data-ttu-id="4ae3e-104">Översikt</span><span class="sxs-lookup"><span data-stu-id="4ae3e-104">Overview</span></span>
<span data-ttu-id="4ae3e-105">Innan du kan publicera ett molntjänstprojekt, måste du ställa in följande tjänster:</span><span class="sxs-lookup"><span data-stu-id="4ae3e-105">Before you can publish a cloud service project, you must set up the following services:</span></span>

* <span data-ttu-id="4ae3e-106">En **Molntjänsten** att köra dina roller i Azure-miljön</span><span class="sxs-lookup"><span data-stu-id="4ae3e-106">A **cloud service** to run your roles in the Azure environment</span></span>
* <span data-ttu-id="4ae3e-107">En **lagringskonto** som ger åtkomst till tjänsterna Blob, köer och tabellen.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-107">A **storage account** that provides access to the Blob, Queue, and Table services.</span></span>

<span data-ttu-id="4ae3e-108">Använd följande procedurer för att konfigurera dessa tjänster och konfigurera ditt program</span><span class="sxs-lookup"><span data-stu-id="4ae3e-108">Use the following procedures to set up these services and configure your application</span></span>

## <a name="create-a-cloud-service"></a><span data-ttu-id="4ae3e-109">Skapa en molntjänst</span><span class="sxs-lookup"><span data-stu-id="4ae3e-109">Create a cloud service</span></span>
<span data-ttu-id="4ae3e-110">Om du vill publicera en tjänst i molnet till Azure måste du först skapa en molntjänst som kör dina roller i Azure-miljön.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-110">To publish a cloud service to Azure, you must first create a cloud service, which runs your roles in the Azure environment.</span></span> <span data-ttu-id="4ae3e-111">Du kan skapa en molntjänst i den [klassiska Azure-portalen](http://go.microsoft.com/fwlink/?LinkID=213885), enligt beskrivningen i avsnittet **skapa en tjänst i molnet med hjälp av den klassiska Azure-portalen**senare i det här avsnittet.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-111">You can create a cloud service in the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), as described in the section **To create a cloud service by using the Azure classic portal**, later in this topic.</span></span> <span data-ttu-id="4ae3e-112">Du kan också skapa en molntjänst i Visual Studio med hjälp av guiden.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-112">You can also create a cloud service in Visual Studio by using the publishing wizard.</span></span>

### <a name="to-create-a-cloud-service-by-using-visual-studio"></a><span data-ttu-id="4ae3e-113">Skapa en tjänst i molnet med hjälp av Visual Studio</span><span class="sxs-lookup"><span data-stu-id="4ae3e-113">To create a cloud service by using Visual Studio</span></span>
1. <span data-ttu-id="4ae3e-114">Öppna snabbmenyn för Azure-projekt och välj **publicera**.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-114">Open the shortcut menu for the Azure project, and choose **Publish**.</span></span>

    ![VST_PublishMenu](./media/vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio/vst-publish-menu.png)
2. <span data-ttu-id="4ae3e-116">Om du inte har loggat in, logga in med ditt användarnamn och lösenord för Microsoft-konto eller organisationskonto som är associerad med din Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-116">If you haven't signed in, sign in with your username and password for the Microsoft account or organizational account that's associated with your Azure subscription.</span></span>
3. <span data-ttu-id="4ae3e-117">Välj den **nästa** knappen Fortsätt till den **inställningar** sidan.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-117">Choose the **Next** button to advance to the **Settings** page.</span></span>

    ![Guiden vanliga publiceringsinställningarna](./media/vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio/publish-settings-page.png)
4. <span data-ttu-id="4ae3e-119">I den **molntjänster** Välj **Skapa nytt**.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-119">In the **Cloud Services** list, choose **Create New**.</span></span> <span data-ttu-id="4ae3e-120">Den **skapa Azure-tjänster** visas.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-120">The **Create Azure Services** dialog appears.</span></span>
5. <span data-ttu-id="4ae3e-121">Ange namnet på Molntjänsten.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-121">Enter the name of your cloud service.</span></span> <span data-ttu-id="4ae3e-122">Namnet utgör en del av URL-Adressen för din tjänst och måste därför vara globalt unika.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-122">The name forms part of the URL for your service and therefore must be globally unique.</span></span> <span data-ttu-id="4ae3e-123">Namnet är inte skiftlägeskänsligt.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-123">The name is not case-sensitive.</span></span>

### <a name="to-create-a-cloud-service-by-using-the-azure-classic-portal"></a><span data-ttu-id="4ae3e-124">Skapa en tjänst i molnet med hjälp av den klassiska Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="4ae3e-124">To create a cloud service by using the Azure classic portal</span></span>
1. <span data-ttu-id="4ae3e-125">Logga in på den [klassiska Azure-portalen](http://go.microsoft.com/fwlink/?LinkId=253103) på Microsofts webbplats.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-125">Sign in to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103) on the Microsoft website.</span></span>
2. <span data-ttu-id="4ae3e-126">(valfritt) Om du vill visa en lista över molntjänster som du redan har skapat, välja molntjänster länken till vänster på sidan.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-126">(optional) To display a list of cloud services that you've already created, choose the Cloud Services link on the left side of the page.</span></span>
3. <span data-ttu-id="4ae3e-127">Välj den  **+**  ikonen i det nedre vänstra hörn och välj sedan **Molntjänsten** på menyn som visas.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-127">Choose the **+** icon in the lower-left corner, and then choose **Cloud Service** on the menu that appears.</span></span> <span data-ttu-id="4ae3e-128">En annan skärm med två alternativ **Snabbregistrering** och **skapa anpassade**, visas.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-128">Another screen with two options, **Quick Create** and **Custom Create**, appears.</span></span> <span data-ttu-id="4ae3e-129">Om du väljer **Snabbregistrering**, du kan skapa en tjänst i molnet genom att bara ange Webbadressen och den region där den ska vara fysiskt värd.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-129">If you choose **Quick Create**, you can create a cloud service just by specifying its URL and the region where it will be physically hosted.</span></span> <span data-ttu-id="4ae3e-130">Om du väljer **skapa anpassade**, du kan publicera en tjänst i molnet omedelbart genom att ange ett paket (.cspkg-fil), konfigurationsfilen (.cscfg) och ett certifikat.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-130">If you choose **Custom Create**, you can immediately publish a cloud service by specifying a package (.cspkg file), a configuration (.cscfg) file, and a certificate.</span></span> <span data-ttu-id="4ae3e-131">Skapa anpassade krävs inte om du vill publicera din tjänst i molnet med hjälp av den **publicera** i ett Azure-projekt.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-131">Custom Create isn’t required if you intend to publish your cloud service by using the **Publish** command in an Azure project.</span></span> <span data-ttu-id="4ae3e-132">Den **publicera** kommandot är tillgängligt på snabbmenyn för ett Azure-projekt.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-132">The **Publish** command is available on the shortcut menu for an Azure project.</span></span>
4. <span data-ttu-id="4ae3e-133">Välj **Snabbregistrering** senare publicera din tjänst i molnet med hjälp av Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-133">Choose **Quick Create** to later publish your cloud service by using Visual Studio.</span></span>
5. <span data-ttu-id="4ae3e-134">Ange ett namn för din molntjänst.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-134">Specify a name for your cloud service.</span></span> <span data-ttu-id="4ae3e-135">Fullständig URL visas bredvid namnet.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-135">The complete URL appears next to the name.</span></span>
6. <span data-ttu-id="4ae3e-136">Välj den region där de flesta användare finns i listan.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-136">In the list, choose the region where most of your users are located.</span></span>
7. <span data-ttu-id="4ae3e-137">Längst ned i fönstret Välj den **skapa molntjänst** länk.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-137">At the bottom of the window, choose the **Create Cloud Service** link.</span></span>

## <a name="create-a-storage-account"></a><span data-ttu-id="4ae3e-138">skapar ett lagringskonto</span><span class="sxs-lookup"><span data-stu-id="4ae3e-138">Create a storage account</span></span>
<span data-ttu-id="4ae3e-139">Ett lagringskonto ger åtkomst till tjänsterna Blob, köer och tabellen.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-139">A storage account provides access to the Blob, Queue, and Table services.</span></span> <span data-ttu-id="4ae3e-140">Du kan skapa ett lagringskonto med hjälp av Visual Studio eller [klassiska Azure-portalen](http://go.microsoft.com/fwlink/?LinkId=253103).</span><span class="sxs-lookup"><span data-stu-id="4ae3e-140">You can create a storage account by using Visual Studio or the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103).</span></span>

### <a name="to-create-a-storage-account-by-using-visual-studio"></a><span data-ttu-id="4ae3e-141">Skapa ett lagringskonto med hjälp av Visual Studio</span><span class="sxs-lookup"><span data-stu-id="4ae3e-141">To create a storage account by using Visual Studio</span></span>
1. <span data-ttu-id="4ae3e-142">I **Solution Explorer**, öppna snabbmenyn för den **lagring** nod, och välj sedan **skapa Lagringskonto**.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-142">In **Solution Explorer**, open the shortcut menu for the **Storage** node, and then choose **Create Storage Account**.</span></span>

    ![Skapa ett nytt Azure storage-konto](./media/vs-azure-tools-cloud-service-publish-set-up-required-services-in-visual-studio/IC744166.png)
2. <span data-ttu-id="4ae3e-144">Välj eller ange följande information för det nya lagringskontot i den **skapa Lagringskonto** dialogrutan.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-144">Select or enter the following information for the new storage account in the **Create Storage Account** dialog box.</span></span>

   * <span data-ttu-id="4ae3e-145">Azure-prenumerationen som du vill lägga till lagringskontot.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-145">The Azure subscription to which you want to add the storage account.</span></span>
   * <span data-ttu-id="4ae3e-146">Namnet som du vill använda för det nya lagringskontot.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-146">The name you want to use for the new storage account.</span></span>
   * <span data-ttu-id="4ae3e-147">Region eller affinitetsgrupp (till exempel västra USA eller Östasien).</span><span class="sxs-lookup"><span data-stu-id="4ae3e-147">The region or affinity group (such as West US or East Asia).</span></span>
   * <span data-ttu-id="4ae3e-148">Typ av du vill använda för lagringskontot, till exempel Geo-Redundant replikering.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-148">The type of replication you want to use for the storage account, such as Geo-Redundant.</span></span>
3. <span data-ttu-id="4ae3e-149">När du är klar väljer **skapa**. Det nya lagringskontot som visas i den **lagring** lista i **Server Explorer**.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-149">When you’re done, choose **Create**.The new storage account appears in the **Storage** list in **Server Explorer**.</span></span>

### <a name="to-create-a-storage-account-by-using-the-azure-classic-portal"></a><span data-ttu-id="4ae3e-150">Skapa ett lagringskonto med hjälp av den klassiska Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="4ae3e-150">To create a storage account by using the Azure classic portal</span></span>
1. <span data-ttu-id="4ae3e-151">Logga in på den [klassiska Azure-portalen](http://go.microsoft.com/fwlink/?LinkId=253103) på Microsofts webbplats.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-151">Sign in to the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkId=253103) on the Microsoft website.</span></span>
2. <span data-ttu-id="4ae3e-152">(Valfritt) Om du vill visa dina lagringskonton, Välj den **lagring** länk på panelen till vänster på sidan.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-152">(Optional) To view your storage accounts, choose the **Storage** link in the panel on the left side of the page.</span></span>
3. <span data-ttu-id="4ae3e-153">I det nedre vänstra hörnet på sidan Välj den  **+**  ikon.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-153">In the lower-left corner of the page, choose the **+** icon.</span></span>
4. <span data-ttu-id="4ae3e-154">I menyn som visas väljer du **lagring**, och välj sedan **Snabbregistrering**.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-154">In the menu that appears, choose **Storage**, and then choose **Quick Create**.</span></span>
5. <span data-ttu-id="4ae3e-155">Namnge lagringskontot som leder till en unik url.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-155">Give the storage account a name that will result in a unique url.</span></span>
6. <span data-ttu-id="4ae3e-156">Namnge din tjänst i molnet.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-156">Give your cloud service a name.</span></span> <span data-ttu-id="4ae3e-157">Fullständig URL visas bredvid namnet.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-157">The complete URL appears next to the name.</span></span>
7. <span data-ttu-id="4ae3e-158">Välj en region där de flesta användare finns i listan över regioner.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-158">In the list of regions, choose a region where most of your users are located.</span></span>
8. <span data-ttu-id="4ae3e-159">Ange om du vill aktivera geo-replikering.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-159">Specify whether you want to enable geo-replication.</span></span> <span data-ttu-id="4ae3e-160">Om du aktiverar geo-replikering kan sparas data på flera fysiska platser för att minska risken för dataförlust.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-160">If you enable geo-replication, your data will be saved in multiple physical locations to reduce the chance of loss.</span></span> <span data-ttu-id="4ae3e-161">Lagring som den här funktionen gör dyrare, men du kan minska kostnaderna genom att aktivera geografiska plats när du skapar storage-konto i stället för att lägga till funktionen senare.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-161">This feature makes storage more expensive, but you can reduce the cost by enabling geo-location when you create the storage account instead of adding the feature later.</span></span> <span data-ttu-id="4ae3e-162">Mer information finns i [georeplikering](http://go.microsoft.com/fwlink/?LinkId=253108).</span><span class="sxs-lookup"><span data-stu-id="4ae3e-162">For more information, see [Geo-replication](http://go.microsoft.com/fwlink/?LinkId=253108).</span></span>
9. <span data-ttu-id="4ae3e-163">Längst ned i fönstret Välj den **skapa Lagringskonto** länk.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-163">At the bottom of the window, choose the **Create Storage Account** link.</span></span>

<span data-ttu-id="4ae3e-164">När du har skapat ditt lagringskonto, visas de webbadresser som du kan använda för att komma åt resurser i varje Azure-lagringstjänster och primära och sekundära åtkomstnycklarna för ditt konto.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-164">After you create your storage account, you will see the URLs that you can use to access resources in each of the Azure storage services, and also the primary and secondary access keys for your account.</span></span> <span data-ttu-id="4ae3e-165">Du kan använda dessa nycklar för att autentisera förfrågningar som görs mot storage-tjänster.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-165">You use these keys to authenticate requests made against the storage services.</span></span>

> [!NOTE]
> <span data-ttu-id="4ae3e-166">Den sekundära åtkomstnyckeln ger samma åtkomst till ditt lagringskonto som den primära åtkomstnyckeln och genereras som en säkerhetskopia bör din primärnyckeln äventyras.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-166">The secondary access key provides the same access to your storage account as the primary access key and is generated as a backup should your primary access key be compromised.</span></span> <span data-ttu-id="4ae3e-167">Vi rekommenderar dessutom att du återskapar dina åtkomstnycklar regelbundet.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-167">Additionally, it is recommended that you regenerate your access keys on a regular basis.</span></span> <span data-ttu-id="4ae3e-168">Du kan ändra inställningen för en anslutningssträngen använda den sekundära nyckeln medan du återskapa den primära nyckeln kan du ändra det om du vill använda den återskapade primära nyckeln medan du återskapa den sekundära nyckeln.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-168">You can modify a connection string setting to use the secondary key while you regenerate the primary key, then you can modify it to use the regenerated primary key while you regenerate the secondary key.</span></span>
>
>

## <a name="configure-your-app-to-use-services-provided-by-the-storage-account"></a><span data-ttu-id="4ae3e-169">Konfigurera appen för att använda tjänster som tillhandahålls av storage-konto</span><span class="sxs-lookup"><span data-stu-id="4ae3e-169">Configure your app to use services provided by the storage account</span></span>
<span data-ttu-id="4ae3e-170">Du måste konfigurera en roll som har åtkomst till lagringstjänster för att använda Azure storage-tjänster som du har skapat.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-170">You must configure any role that accesses storage services to use the Azure storage services that you have created.</span></span> <span data-ttu-id="4ae3e-171">Du kan använda flera konfigurationer för din Azure-projekt för att göra detta.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-171">To do this, you can use multiple service configurations for your Azure project.</span></span> <span data-ttu-id="4ae3e-172">Som standard skapas två i Azure-projekt.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-172">By default, two are created in your Azure project.</span></span> <span data-ttu-id="4ae3e-173">Genom att använda flera konfigurationer kan du använda samma anslutningssträng i koden, men har ett annat värde för en anslutningssträng i varje tjänstkonfigurationen.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-173">By using multiple service configurations, you can use the same connection string in your code, but have a different value for a connection string in each service configuration.</span></span> <span data-ttu-id="4ae3e-174">Du kan till exempel använda en tjänstkonfiguration att köra och felsöka programmet lokalt med hjälp av Azure storage-emulatorn och en annan tjänstkonfiguration att publicera programmet till Azure.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-174">For example, you can use one service configuration to run and debug your application locally using the Azure storage emulator and a different service configuration to publish your application to Azure.</span></span> <span data-ttu-id="4ae3e-175">Mer information om konfigurationer finns [konfigurera din Azure-projekt med flera tjänstkonfiguration](vs-azure-tools-multiple-services-project-configurations.md).</span><span class="sxs-lookup"><span data-stu-id="4ae3e-175">For more information about service configurations, see [Configuring Your Azure Project Using Multiple Service Configurations](vs-azure-tools-multiple-services-project-configurations.md).</span></span>

### <a name="to-configure-your-application-to-use-services-that-the-storage-account-provides"></a><span data-ttu-id="4ae3e-176">Konfigurera programmet så att tjänster som tillhandahåller storage-konto</span><span class="sxs-lookup"><span data-stu-id="4ae3e-176">To configure your application to use services that the storage account provides</span></span>
1. <span data-ttu-id="4ae3e-177">Öppna din Azure-lösning i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-177">In Visual Studio open your Azure solution.</span></span> <span data-ttu-id="4ae3e-178">Öppna snabbmenyn för varje roll i din Azure-projekt som har åtkomst till storage-tjänster i Solution Explorer och välj **egenskaper**.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-178">In Solution Explorer, open the shortcut menu for each role in your Azure project that accesses the storage services and choose **Properties**.</span></span> <span data-ttu-id="4ae3e-179">En sida med namnet på rollen som visas i Visual Studio-redigeraren.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-179">A page with the name of the role is displayed in the Visual Studio editor.</span></span> <span data-ttu-id="4ae3e-180">Sidan visas fält för den **Configuration** fliken.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-180">The page displays the fields for the **Configuration** tab.</span></span>
2. <span data-ttu-id="4ae3e-181">Välj i egenskapssidor för rollen, **inställningar**.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-181">In the property pages for the role, choose **Settings**.</span></span>
3. <span data-ttu-id="4ae3e-182">I den **tjänstkonfiguration** väljer du namnet på tjänstkonfigurationen som du vill redigera.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-182">In the **Service Configuration** list, choose the name of the service configuration that you want to edit.</span></span> <span data-ttu-id="4ae3e-183">Om du vill göra ändringar i alla tjänstkonfigurationer för den här rollen kan du välja **alla konfigurationer av**.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-183">If you want to make changes to all of the service configurations for this role, you can choose **All Configurations**.</span></span>  <span data-ttu-id="4ae3e-184">Mer information om hur du uppdaterar konfigurationer finns i avsnittet **hantera anslutningssträngar för Lagringskonton** i avsnittet [Konfigurera roller för en Azure Cloud Service med Visual Studio](vs-azure-tools-configure-roles-for-cloud-service.md).</span><span class="sxs-lookup"><span data-stu-id="4ae3e-184">For more information about how to update service configurations, see the section **Manage Connection Strings for Storage Accounts** in the topic [Configure the Roles for an Azure Cloud Service with Visual Studio](vs-azure-tools-configure-roles-for-cloud-service.md).</span></span>
4. <span data-ttu-id="4ae3e-185">Om du vill ändra inställningarna för alla-anslutningssträngar, Välj den **...**</span><span class="sxs-lookup"><span data-stu-id="4ae3e-185">To modify any connection string settings, choose the **…**</span></span> <span data-ttu-id="4ae3e-186">knappen bredvid inställningen.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-186">button next to the setting.</span></span> <span data-ttu-id="4ae3e-187">Den **skapa Lagringsanslutningssträng** dialogrutan visas.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-187">The **Create Storage Connection String** dialog box appears.</span></span>
5. <span data-ttu-id="4ae3e-188">Under **ansluta med**, Välj den **prenumerationen** alternativet.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-188">Under **Connect using**, choose the **Your subscription** option.</span></span>
6. <span data-ttu-id="4ae3e-189">I den **prenumeration** väljer din prenumeration.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-189">In the **Subscription** list, choose your subscription.</span></span> <span data-ttu-id="4ae3e-190">Om listan över prenumerationer inte innehåller det som du vill kan du välja den **hämta Publiceringsinställningar** länk.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-190">If the list of subscriptions doesn't include the one that you want, choose the **Download Publish Settings** link.</span></span>
7. <span data-ttu-id="4ae3e-191">I den **kontonamn** väljer du namnet på ditt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-191">In the **Account name** list, choose your storage account name.</span></span> <span data-ttu-id="4ae3e-192">Azure-verktyg hämtar lagringskontouppgifter automatiskt med hjälp av .publishsettings-fil.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-192">Azure Tools obtains storage account credentials automatically by using the .publishsettings file.</span></span> <span data-ttu-id="4ae3e-193">Ange autentiseringsuppgifterna för ditt lagringskonto manuellt välja den **autentiseringsuppgifterna anges manuellt** alternativ och sedan fortsätta med den här proceduren.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-193">To specify your storage account credentials manually, choose the **Manually entered credentials** option, and then continue with this procedure.</span></span> <span data-ttu-id="4ae3e-194">Du kan hämta din lagringskontonamn och primärnyckel från den [klassiska Azure-portalen](http://go.microsoft.com/fwlink/p/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="4ae3e-194">You can get your storage account name and primary key from the [Azure classic portal](http://go.microsoft.com/fwlink/p/?LinkID=213885).</span></span> <span data-ttu-id="4ae3e-195">Om du inte vill ange ditt lagringskonto inställningar manuellt, Välj den **OK** för att stänga dialogrutan.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-195">If you don’t want to specify your storage account settings manually, choose the **OK** button to close the dialog box.</span></span>
8. <span data-ttu-id="4ae3e-196">Välj den **ange lagringskonto** autentiseringsuppgifter länk.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-196">Choose the **Enter storage account** credentials link.</span></span>
9. <span data-ttu-id="4ae3e-197">I den **kontonamn** anger du namnet på ditt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-197">In the **Account name** box, enter the name of your storage account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="4ae3e-198">Logga in på den [klassiska Azure-portalen](http://go.microsoft.com/fwlink/?LinkID=213885), och välj sedan den **lagring** knappen.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-198">Log into the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885), and then choose the **Storage** button.</span></span> <span data-ttu-id="4ae3e-199">Portalen visar en lista över storage-konton.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-199">The portal shows a list of storage accounts.</span></span> <span data-ttu-id="4ae3e-200">Om du väljer ett konto öppnar en sida för den.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-200">If you choose an account, a page for it opens.</span></span> <span data-ttu-id="4ae3e-201">Du kan kopiera namnet på lagringskontot från den här sidan.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-201">You can copy the name of the storage account from this page.</span></span> <span data-ttu-id="4ae3e-202">Om du använder en tidigare version av den klassiska portalen, namnet på ditt lagringskonto visas i den **Lagringskonton** vyn.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-202">If you are using a previous version of the classic portal, the name of your storage account appears in the **Storage Accounts** view.</span></span> <span data-ttu-id="4ae3e-203">Om du vill kopiera det här namnet, markera den i den **egenskaper** fönster för detta visa och välj sedan tangenterna Ctrl + C.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-203">To copy this name, highlight it in the **Properties** window of this view, and then choose the Ctrl-C keys.</span></span> <span data-ttu-id="4ae3e-204">Om du vill klistra in namnet i Visual Studio väljer du den **kontonamn** text och välj sedan tangenterna Ctrl + V.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-204">To paste the name into Visual Studio, choose the **Account name** text box, and then choose the Ctrl+V keys.</span></span>
   >
   >
10. <span data-ttu-id="4ae3e-205">I den **kontonyckel** anger primärnyckel, eller kopiera och klistra in den från den [klassiska Azure-portalen](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="4ae3e-205">In the **Account key** box, enter your primary key, or copy and paste it from the [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
     <span data-ttu-id="4ae3e-206">Kopiera den här nyckeln:</span><span class="sxs-lookup"><span data-stu-id="4ae3e-206">To copy this key:</span></span>

    1. <span data-ttu-id="4ae3e-207">Längst ned på sidan för lämplig storage-konto, Välj den **hantera nycklar** knappen.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-207">At the bottom of the page for the appropriate storage account, choose the **Manage Keys** button.</span></span>
    2. <span data-ttu-id="4ae3e-208">På den **hantera nycklar åtkomst** sidan, markera texten på den primära åtkomstnyckeln och välj sedan tangenterna Ctrl + C.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-208">On the **Manage Keys Access** page, select the text of the primary access key, and then choose the Ctrl+C keys.</span></span>
    3. <span data-ttu-id="4ae3e-209">Klistra in nyckeln till i Azure-verktyg, den **kontonyckel** rutan.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-209">In Azure Tools, paste the key into the **Account key** box.</span></span>
    4. <span data-ttu-id="4ae3e-210">Du måste välja ett av följande alternativ för att avgöra hur tjänsten kommer åt storage-konto:</span><span class="sxs-lookup"><span data-stu-id="4ae3e-210">You must select one of the following options to determine how the service will access the storage account:</span></span>

       * <span data-ttu-id="4ae3e-211">**Använd HTTP**.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-211">**Use HTTP**.</span></span> <span data-ttu-id="4ae3e-212">Detta är det standard alternativet.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-212">This is the standard option.</span></span> <span data-ttu-id="4ae3e-213">Till exempel `http://<account name>.blob.core.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-213">For example, `http://<account name>.blob.core.windows.net`.</span></span>
       * <span data-ttu-id="4ae3e-214">**Använda HTTPS** för en säker anslutning.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-214">**Use HTTPS** for a secure connection.</span></span> <span data-ttu-id="4ae3e-215">Till exempel `https://<accountname>.blob.core.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-215">For example, `https://<accountname>.blob.core.windows.net`.</span></span>
       * <span data-ttu-id="4ae3e-216">**Ange anpassade slutpunkter** för var och en av de tre tjänsterna.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-216">**Specify custom endpoints** for each of the three services.</span></span> <span data-ttu-id="4ae3e-217">Du kan sedan ange dessa slutpunkter i fältet för en specifik tjänst.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-217">You can then type these endpoints into the field for the specific service.</span></span>

         > [!NOTE]
         > <span data-ttu-id="4ae3e-218">Om du skapar anpassade slutpunkter, kan du skapa en mer komplex anslutningssträng.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-218">If you create custom endpoints, you can create a more complex connection string.</span></span> <span data-ttu-id="4ae3e-219">Du kan ange slutpunkter lagring som innehåller ett domännamn som du har registrerat för ditt lagringskonto med Blob-tjänsten när du använder den här strängformat.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-219">When you use this string format, you can specify storage service endpoints that include a custom domain name that you have registered for your storage account with the Blob service.</span></span> <span data-ttu-id="4ae3e-220">Du kan också ge endast åtkomst till blob-resurser i en enskild behållare via en signatur för delad åtkomst.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-220">Also you can grant access only to blob resources in a single container through a shared access signature.</span></span> <span data-ttu-id="4ae3e-221">Mer information om hur du skapar anpassade slutpunkter finns [konfigurera Azure Storage-anslutningssträngar](storage/common/storage-configure-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="4ae3e-221">For more information about how to create custom endpoints, see [Configure Azure Storage Connection Strings](storage/common/storage-configure-connection-string.md).</span></span>
         >
         >
11. <span data-ttu-id="4ae3e-222">Om du vill spara ändringarna anslutning sträng, Välj den **OK** knappen och välj sedan den **spara** i verktygsfältet.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-222">To save these connection string changes, choose the **OK** button and then choose the **Save** button on the toolbar.</span></span> <span data-ttu-id="4ae3e-223">När du har sparat ändringarna kan du hämta värdet för den här anslutningssträngen i koden med [GetConfigurationSettingValue](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.serviceruntime.roleenvironment.getconfigurationsettingvalue.aspx).</span><span class="sxs-lookup"><span data-stu-id="4ae3e-223">After you save these changes, you can get the value of this connection string in your code by using [GetConfigurationSettingValue](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.serviceruntime.roleenvironment.getconfigurationsettingvalue.aspx).</span></span> <span data-ttu-id="4ae3e-224">Välj konfigurationen för tjänsten som innehåller Azure storage-konto för anslutningssträngen när du publicerar programmet till Azure.</span><span class="sxs-lookup"><span data-stu-id="4ae3e-224">When you publish your application to Azure, choose the service configuration that contains the Azure storage account for the connection string.</span></span> <span data-ttu-id="4ae3e-225">När programmet publiceras, kontrollerar du att programmet fungerar som förväntat mot Azure storage-tjänster</span><span class="sxs-lookup"><span data-stu-id="4ae3e-225">After your application is published, verify that the application works as expected against the Azure storage services</span></span>

## <a name="next-steps"></a><span data-ttu-id="4ae3e-226">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="4ae3e-226">Next steps</span></span>
<span data-ttu-id="4ae3e-227">Läs mer om hur du publicerar appar till Azure från Visual Studio i [publicering av en tjänst i molnet med hjälp av Azure-verktyg](vs-azure-tools-publishing-a-cloud-service.md).</span><span class="sxs-lookup"><span data-stu-id="4ae3e-227">To learn more about publishing apps to Azure from Visual Studio, see [Publishing a Cloud Service using the Azure Tools](vs-azure-tools-publishing-a-cloud-service.md).</span></span>
