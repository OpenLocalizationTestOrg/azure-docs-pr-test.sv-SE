---
title: "Hur du konfigurerar Geo-replikering för Azure Redis-Cache | Microsoft Docs"
description: "Lär dig mer om Azure Redis-Cache-instanser replikeras geografiska regioner."
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 375643dc-dbac-4bab-8004-d9ae9570440d
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/06/2017
ms.author: sdanie
ms.openlocfilehash: 71b0d4add7e642487f6d67cda692c500ee78b0e6
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-configure-geo-replication-for-azure-redis-cache"></a><span data-ttu-id="a0ed8-103">Hur du konfigurerar Geo-replikering för Azure Redis-Cache</span><span class="sxs-lookup"><span data-stu-id="a0ed8-103">How to configure Geo-replication for Azure Redis Cache</span></span>

<span data-ttu-id="a0ed8-104">GEO-replikering tillhandahåller en mekanism för att länka två instanser i Premium-nivån Azure Redis-Cache.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-104">Geo-replication provides a mechanism for linking two Premium tier Azure Redis Cache instances.</span></span> <span data-ttu-id="a0ed8-105">En cache betecknas som primär länkade cacheminnet och andra som sekundär länkade cache.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-105">One cache is designated as the primary linked cache, and the other as the secondary linked cache.</span></span> <span data-ttu-id="a0ed8-106">Sekundär länkade cachen skrivskyddas och data som skrivs till den primära cachen replikeras till sekundär länkade cachen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-106">The secondary linked cache becomes read-only, and data written to the primary cache is replicated to the secondary linked cache.</span></span> <span data-ttu-id="a0ed8-107">Den här funktionen kan användas för att replikera en cache över Azure-regioner.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-107">This functionality can be used to replicate a cache across Azure regions.</span></span> <span data-ttu-id="a0ed8-108">Den här artikeln beskrivs hur du konfigurerar Geo-replikering för din Premium-nivån Azure Redis-Cache-instanser.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-108">This article provides a guide to configuring Geo-replication for your Premium tier Azure Redis Cache instances.</span></span>

## <a name="geo-replication-prerequisites"></a><span data-ttu-id="a0ed8-109">Krav för GEO-replikering</span><span class="sxs-lookup"><span data-stu-id="a0ed8-109">Geo-replication prerequisites</span></span>

<span data-ttu-id="a0ed8-110">Om du vill konfigurera Geo-replikering mellan två cacheminnen måste följande krav uppfyllas:</span><span class="sxs-lookup"><span data-stu-id="a0ed8-110">To configure Geo-replication between two caches, the following prerequisites must be met:</span></span>

- <span data-ttu-id="a0ed8-111">Båda cacheminnen måste vara [premiumnivån](cache-premium-tier-intro.md) cachelagrar.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-111">Both caches must be [Premium tier](cache-premium-tier-intro.md) caches.</span></span>
- <span data-ttu-id="a0ed8-112">Båda cacheminnen måste finnas i samma Azure-prenumerationen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-112">Both caches must be in the same Azure subscription.</span></span>
- <span data-ttu-id="a0ed8-113">Sekundär länkade cachen måste vara samma prisnivån eller en större prisnivå än den primära länka cachen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-113">The secondary linked cache must be either the same pricing tier or a larger pricing tier than the primary linked cache.</span></span>
- <span data-ttu-id="a0ed8-114">Om den primära länka cachen har aktiverad klustring, måste sekundära länkade cachen ha aktiverad med samma antal delar som primär länkade cachen klustring.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-114">If the primary linked cache has clustering enabled, the secondary linked cache must have clustering enabled with the same number of shards as the primary linked cache.</span></span>
- <span data-ttu-id="a0ed8-115">Båda cache måste skapas och körs.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-115">Both caches must be created and in a running state.</span></span>
- <span data-ttu-id="a0ed8-116">Beständiga måste inte aktiveras på antingen cachen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-116">Persistence must not be enabled on either cache.</span></span>
- <span data-ttu-id="a0ed8-117">GEO-replikering mellan Cacheminnena i samma virtuella nätverk stöds.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-117">Geo-replication between caches in the same VNET is supported.</span></span> <span data-ttu-id="a0ed8-118">GEO-replikering mellan Cacheminnena i olika Vnet stöds också, förutsatt att två virtuella nätverk konfigureras så att resurser i Vnet ska kunna nå varandra via TCP-anslutningar.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-118">Geo-replication between caches in different VNETs is also supported, as long as the two VNETs are configured in such a way that resources in the VNETs are able to reach each other via TCP connections.</span></span>

<span data-ttu-id="a0ed8-119">När Geo-replikering har konfigurerats, gäller följande begränsningar för länkade cache-par:</span><span class="sxs-lookup"><span data-stu-id="a0ed8-119">After Geo-replication is configured, the following restrictions apply to your linked cache pair:</span></span>

- <span data-ttu-id="a0ed8-120">Sekundär länkade cacheminnet är skrivskyddade. Du kan läsa från den, men du kan inte skriva data till den.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-120">The secondary linked cache is read-only; you can read from it, but you can't write any data to it.</span></span> 
- <span data-ttu-id="a0ed8-121">Alla data som var i sekundära länkade cachen innan länken lades till tas bort.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-121">Any data that was in the secondary linked cache before the link was added is removed.</span></span> <span data-ttu-id="a0ed8-122">Om Geo-replikering tas därefter bort men förblir replikerade data i sekundära länkade cachen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-122">If the Geo-replication is subsequently removed however, the replicated data remains in the secondary linked cache.</span></span>
- <span data-ttu-id="a0ed8-123">Du kan inte påbörja en [skalning åtgärden](cache-how-to-scale.md) på antingen cachen eller [ändra antalet shards](cache-how-to-premium-clustering.md) om cacheminnet innehåller aktiverad klustring.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-123">You can't initiate a [scaling operation](cache-how-to-scale.md) on either cache or [change the number of shards](cache-how-to-premium-clustering.md) if the cache has clustering enabled.</span></span>
- <span data-ttu-id="a0ed8-124">Du kan inte aktivera persistence på antingen cachen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-124">You can't enable persistence on either cache.</span></span>
- <span data-ttu-id="a0ed8-125">Du kan använda [exportera](cache-how-to-import-export-data.md#export) med antingen cache, men du kan bara [importera](cache-how-to-import-export-data.md#import) till primära länkade cachen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-125">You can use [Export](cache-how-to-import-export-data.md#export) with either cache, but you can only [Import](cache-how-to-import-export-data.md#import) into the primary linked cache.</span></span>
- <span data-ttu-id="a0ed8-126">Du kan inte ta bort länkade cache eller resursgruppen som innehåller dem, tills du tar bort länken Geo-replikering.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-126">You can't delete either linked cache, or the resource group that contains them, until you remove the Geo-replication link.</span></span> <span data-ttu-id="a0ed8-127">Mer information finns i [varför åtgärden misslyckas när jag försökte ta bort min länkade cache?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span><span class="sxs-lookup"><span data-stu-id="a0ed8-127">For more information, see [Why did the operation fail when I tried to delete my linked cache?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span></span>
- <span data-ttu-id="a0ed8-128">Om två Cacheminnena i olika regioner, gäller kostnader för nätverksegress för data som replikeras över regioner till sekundär länkade cachen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-128">If the two caches are in different regions, network egress costs will apply to the data replicated across regions to the secondary linked cache.</span></span> <span data-ttu-id="a0ed8-129">Mer information finns i [hur mycket kostar det för att replikera data mellan Azure-regioner?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span><span class="sxs-lookup"><span data-stu-id="a0ed8-129">For more information, see [How much does it cost to replicate my data across Azure regions?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span></span>
- <span data-ttu-id="a0ed8-130">Det finns ingen automatisk redundans till sekundär länkade cachen om den primära cachen (och dess replik) kraschar.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-130">There is no automatic failover to the secondary linked cache if the primary cache (and its replica) go down.</span></span> <span data-ttu-id="a0ed8-131">Du skulle behöva manuellt ta bort länken Geo-replikering och peka klientprogram i cacheminnet som tidigare var sekundär länkade cacheminnet i ordning för failover-klientprogram.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-131">In order to failover client applications, you would need to manually remove the Geo-replication link and point the client applications to the cache that was formerly the secondary linked cache.</span></span> <span data-ttu-id="a0ed8-132">Mer information finns i [hur fungerar inte körs i sekundära länkade cacheminne?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span><span class="sxs-lookup"><span data-stu-id="a0ed8-132">For more information, see [How does failing over to the secondary linked cache work?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span></span>

## <a name="add-a-geo-replication-link"></a><span data-ttu-id="a0ed8-133">Lägga till en länk för Geo-replikering</span><span class="sxs-lookup"><span data-stu-id="a0ed8-133">Add a Geo-replication link</span></span>

1. <span data-ttu-id="a0ed8-134">Om du vill länka samman två premium cacheminnen för geo-replikering, klickar du på **Geo-replikering** resurs-menyn i cacheminnet som den primära länkade cachelagra och klicka sedan på **Lägg till cache replikeringslänk** från den **georeplikering** bladet.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-134">To link two premium caches together for geo-replication, click **Geo-replication** from the Resource menu of the cache intended as the primary linked cache, and then click **Add cache replication link** from the **Geo-replication** blade.</span></span>

    ![Lägga till en länk](./media/cache-how-to-geo-replication/cache-geo-location-menu.png)

2. <span data-ttu-id="a0ed8-136">Klicka på namnet på önskat cacheminne om sekundära från den **kompatibel cacheminnen** lista.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-136">Click the name of the desired secondary cache from the **Compatible caches** list.</span></span> <span data-ttu-id="a0ed8-137">Om din önskade cache inte visas i listan, kontrollera att den [Geo-replikering krav](#geo-replication-prerequisites) för önskad sekundära cachen är uppfyllda.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-137">If your desired cache isn't displayed in the list, verify that the [Geo-replication prerequisites](#geo-replication-prerequisites) for the desired secondary cache are met.</span></span> <span data-ttu-id="a0ed8-138">Om du vill filtrera cacheminnen efter region, klickar du på önskad region på kartan för att visa endast dessa cacheminnen i den **kompatibel cacheminnen** lista.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-138">To filter the caches by region, click the desired region in the map to display only those caches in the **Compatible caches** list.</span></span>

    ![GEO-replikering kompatibel cacheminnen](./media/cache-how-to-geo-replication/cache-geo-location-select-link.png)
    
    <span data-ttu-id="a0ed8-140">Du kan också initiera länkningen eller visa information om den sekundära cachen med hjälp av snabbmenyn.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-140">You can also initiate the linking process or view details about the secondary cache by using the context menu.</span></span>

    ![Snabbmenyn för GEO-replikering](./media/cache-how-to-geo-replication/cache-geo-location-select-link-context-menu.png)

3. <span data-ttu-id="a0ed8-142">Klicka på **länk** att länka samman två cacheminnen och börja replikeringen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-142">Click **Link** to link the two caches together and begin the replication process.</span></span>

    ![Länken cachelagrar](./media/cache-how-to-geo-replication/cache-geo-location-confirm-link.png)

4. <span data-ttu-id="a0ed8-144">Du kan visa förloppet för replikeringen på den **georeplikering** bladet.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-144">You can view the progress of the replication process on the **Geo-replication** blade.</span></span>

    ![Länka status](./media/cache-how-to-geo-replication/cache-geo-location-linking.png)

    <span data-ttu-id="a0ed8-146">Du kan också visa länkande status på den **översikt** bladet för både de primära och sekundära cacheminnen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-146">You can also view the linking status on the **Overview** blade for both the primary and secondary caches.</span></span>

    ![Cachestatus](./media/cache-how-to-geo-replication/cache-geo-location-link-status.png)

    <span data-ttu-id="a0ed8-148">När replikeringen är klar, den **länka status** ändras till **lyckades**.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-148">Once the replication process is complete, the **Link status** changes to **Succeeded**.</span></span>

    ![Cachestatus](./media/cache-how-to-geo-replication/cache-geo-location-link-successful.png)

    <span data-ttu-id="a0ed8-150">Primär länkade cachen fortfarande är tillgänglig för användning under länkningen, men sekundära länkade cache är inte tillgängligt förrän länkningen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-150">During the linking process, the primary linked cache remains available for use but the secondary linked cache is not available until the linking process completes.</span></span>

## <a name="remove-a-geo-replication-link"></a><span data-ttu-id="a0ed8-151">Ta bort en länk för Geo-replikering</span><span class="sxs-lookup"><span data-stu-id="a0ed8-151">Remove a Geo-replication link</span></span>

1. <span data-ttu-id="a0ed8-152">Om du vill ta bort länken mellan två cacheminnen och stoppa Geo-replikering, klickar du på **Avlänka cacheminnen** från den **georeplikering** bladet.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-152">To remove the link between two caches and stop Geo-replication, click **Unlink caches** from the **Geo-replication** blade.</span></span>
    
    ![Avlänka cacheminnen](./media/cache-how-to-geo-replication/cache-geo-location-unlink.png)

    <span data-ttu-id="a0ed8-154">När bryta länkar till processen är klar är sekundära cacheminnet tillgängliga för både läsningar och skrivningar.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-154">When the unlinking process completes, the secondary cache is available for both reads and writes.</span></span>

>[!NOTE]
><span data-ttu-id="a0ed8-155">När länken Geo-replikering har tagits bort, förblir replikerade data från den primära länka cachen i sekundära cache.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-155">When the Geo-replication link is removed, the replicated data from the primary linked cache remains in the secondary cache.</span></span>
>
>

## <a name="geo-replication-faq"></a><span data-ttu-id="a0ed8-156">Vanliga frågor om GEO-replikering</span><span class="sxs-lookup"><span data-stu-id="a0ed8-156">Geo-replication FAQ</span></span>

- [<span data-ttu-id="a0ed8-157">Kan jag använda Geo-replikering med en Standard- eller Basic-nivån cache?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-157">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>](#can-i-use-geo-replication-with-a-standard-or-basic-tier-cache)
- [<span data-ttu-id="a0ed8-158">Är Mina cacheminne tillgängliga för användning under länkade eller bryta länkar?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-158">Is my cache available for use during the linking or unlinking process?</span></span>](#is-my-cache-available-for-use-during-the-linking-or-unlinking-process)
- [<span data-ttu-id="a0ed8-159">Kan jag koppla fler än två cacheminnen tillsammans?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-159">Can I link more than two caches together?</span></span>](#can-i-link-more-than-two-caches-together)
- [<span data-ttu-id="a0ed8-160">Kan jag koppla två cacheminnen från andra Azure-prenumerationer?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-160">Can I link two caches from different Azure subscriptions?</span></span>](#can-i-link-two-caches-from-different-azure-subscriptions)
- [<span data-ttu-id="a0ed8-161">Kan jag koppla två cacheminnen med olika storlekar?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-161">Can I link two caches with different sizes?</span></span>](#can-i-link-two-caches-with-different-sizes)
- [<span data-ttu-id="a0ed8-162">Kan jag använda Geo-replikering med aktiverad klustring?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-162">Can I use Geo-replication with clustering enabled?</span></span>](#can-i-use-geo-replication-with-clustering-enabled)
- [<span data-ttu-id="a0ed8-163">Kan jag använda Geo-replikering med min Cacheminnena i ett virtuellt nätverk?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-163">Can I use Geo-replication with my caches in a VNET?</span></span>](#can-i-use-geo-replication-with-my-caches-in-a-vnet)
- [<span data-ttu-id="a0ed8-164">Kan jag använda PowerShell eller Azure CLI för att hantera Geo-replikering?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-164">Can I use PowerShell or Azure CLI to manage Geo-replication?</span></span>](#can-i-use-powershell-or-azure-cli-to-manage-geo-replication)
- [<span data-ttu-id="a0ed8-165">Hur mycket kostar det för att replikera data mellan Azure-regioner?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-165">How much does it cost to replicate my data across Azure regions?</span></span>](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)
- [<span data-ttu-id="a0ed8-166">Varför åtgärden misslyckas när jag försökte ta bort min länkade cache?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-166">Why did the operation fail when I tried to delete my linked cache?</span></span>](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)
- [<span data-ttu-id="a0ed8-167">Vilken region ska använda för min sekundära länkade cache?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-167">What region should I use for my secondary linked cache?</span></span>](#what-region-should-i-use-for-my-secondary-linked-cache)
- [<span data-ttu-id="a0ed8-168">Hur fungerar inte körs i sekundära länkade cacheminne?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-168">How does failing over to the secondary linked cache work?</span></span>](#how-does-failing-over-to-the-secondary-linked-cache-work)

### <a name="can-i-use-geo-replication-with-a-standard-or-basic-tier-cache"></a><span data-ttu-id="a0ed8-169">Kan jag använda Geo-replikering med en Standard- eller Basic-nivån cache?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-169">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>

<span data-ttu-id="a0ed8-170">Nej, Geo-replikering är endast tillgängligt för Premium-nivån.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-170">No, Geo-replication is only available for Premium tier caches.</span></span>

### <a name="is-my-cache-available-for-use-during-the-linking-or-unlinking-process"></a><span data-ttu-id="a0ed8-171">Är Mina cacheminne tillgängliga för användning under länkade eller bryta länkar?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-171">Is my cache available for use during the linking or unlinking process?</span></span>

- <span data-ttu-id="a0ed8-172">När koppla ihop två cacheminnen för Geo-replikering, primära länkade cachen fortfarande är tillgänglig för användning men sekundära länkade cache är inte tillgängligt förrän länkningen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-172">When linking two caches together for Geo-replication, the primary linked cache remains available for use but the secondary linked cache is not available until the linking process completes.</span></span>
- <span data-ttu-id="a0ed8-173">När du tar bort länken mellan två cacheminnen Geo-replikering, är både cacheminnen tillgängliga för användning.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-173">When removing the Geo-replication link between two caches, both caches remain available for use.</span></span>

### <a name="can-i-link-more-than-two-caches-together"></a><span data-ttu-id="a0ed8-174">Kan jag koppla fler än två cacheminnen tillsammans?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-174">Can I link more than two caches together?</span></span>

<span data-ttu-id="a0ed8-175">Nej, när du använder Geo-replikering kan du bara länka två cacheminnen tillsammans.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-175">No, when using Geo-replication you can only link two caches together.</span></span>

### <a name="can-i-link-two-caches-from-different-azure-subscriptions"></a><span data-ttu-id="a0ed8-176">Kan jag koppla två cacheminnen från andra Azure-prenumerationer?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-176">Can I link two caches from different Azure subscriptions?</span></span>

<span data-ttu-id="a0ed8-177">Ingen, både cacheminnen måste finnas i samma Azure-prenumerationen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-177">No, both caches must be in the same Azure subscription.</span></span>

### <a name="can-i-link-two-caches-with-different-sizes"></a><span data-ttu-id="a0ed8-178">Kan jag koppla två cacheminnen med olika storlekar?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-178">Can I link two caches with different sizes?</span></span>

<span data-ttu-id="a0ed8-179">Ja, så länge som sekundärt länkade cache är större än den primära länka cachen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-179">Yes, as long as the secondary linked cache is larger than the primary linked cache.</span></span>

### <a name="can-i-use-geo-replication-with-clustering-enabled"></a><span data-ttu-id="a0ed8-180">Kan jag använda Geo-replikering med aktiverad klustring?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-180">Can I use Geo-replication with clustering enabled?</span></span>

<span data-ttu-id="a0ed8-181">Ja, så länge båda cacheminnen har samma antal delar.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-181">Yes, as long as both caches have the same number of shards.</span></span>

### <a name="can-i-use-geo-replication-with-my-caches-in-a-vnet"></a><span data-ttu-id="a0ed8-182">Kan jag använda Geo-replikering med min Cacheminnena i ett virtuellt nätverk?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-182">Can I use Geo-replication with my caches in a VNET?</span></span>

<span data-ttu-id="a0ed8-183">Ja, Geo-replikering av Cacheminnena i Vnet stöds.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-183">Yes, Geo-replication of caches in VNETs are supported.</span></span> 

- <span data-ttu-id="a0ed8-184">GEO-replikering mellan Cacheminnena i samma virtuella nätverk stöds.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-184">Geo-replication between caches in the same VNET is supported.</span></span>
- <span data-ttu-id="a0ed8-185">GEO-replikering mellan Cacheminnena i olika Vnet stöds också, förutsatt att två virtuella nätverk konfigureras så att resurser i Vnet ska kunna nå varandra via TCP-anslutningar.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-185">Geo-replication between caches in different VNETs is also supported, as long as the two VNETs are configured in such a way that resources in the VNETs are able to reach each other via TCP connections.</span></span>

### <a name="can-i-use-powershell-or-azure-cli-to-manage-geo-replication"></a><span data-ttu-id="a0ed8-186">Kan jag använda PowerShell eller Azure CLI för att hantera Geo-replikering?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-186">Can I use PowerShell or Azure CLI to manage Geo-replication?</span></span>

<span data-ttu-id="a0ed8-187">Du kan endast hantera Geo-replikering med Azure-portalen just nu.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-187">At this time you can only manage Geo-replication using the Azure portal.</span></span>

### <a name="how-much-does-it-cost-to-replicate-my-data-across-azure-regions"></a><span data-ttu-id="a0ed8-188">Hur mycket kostar det för att replikera data mellan Azure-regioner?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-188">How much does it cost to replicate my data across Azure regions?</span></span>

<span data-ttu-id="a0ed8-189">När du använder Geo-replikering replikeras data från primär länkade cachen till sekundär länkade cachen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-189">When using Geo-replication, data from the primary linked cache is replicated to the secondary linked cache.</span></span> <span data-ttu-id="a0ed8-190">Om det finns två länkade Cacheminnena i samma Azure-region är gratis för att överföra data.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-190">If the two linked caches are in the same Azure region, there is no charge for the data transfer.</span></span> <span data-ttu-id="a0ed8-191">Om det finns två länkade Cacheminnena i olika Azure-regioner, är Geo-replikering data transfer tillägget bandbredd kostnaden för att replikera data till andra Azure-regionen.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-191">If the two linked caches are in different Azure regions, the Geo-Replication data transfer charge is the bandwidth cost of replicating that data to the other Azure region.</span></span> <span data-ttu-id="a0ed8-192">Mer information finns i [bandbredd prisinformation](https://azure.microsoft.com/pricing/details/bandwidth/).</span><span class="sxs-lookup"><span data-stu-id="a0ed8-192">For more information, see [Bandwidth Pricing Details](https://azure.microsoft.com/pricing/details/bandwidth/).</span></span>

### <a name="why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache"></a><span data-ttu-id="a0ed8-193">Varför åtgärden misslyckas när jag försökte ta bort min länkade cache?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-193">Why did the operation fail when I tried to delete my linked cache?</span></span>

<span data-ttu-id="a0ed8-194">När två cacheminnen är länkade till varandra, kan du ta bort cache eller resursgruppen som innehåller dem förrän du tar bort länken Geo-replikering.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-194">When two caches are linked together, you can't delete either cache or the resource group that contains them until you remove the Geo-replication link.</span></span> <span data-ttu-id="a0ed8-195">Om du försöker ta bort resursgruppen som innehåller en eller båda av länkade resurserna i resursgruppen tas bort, men resursgruppen förblir i det `deleting` tillstånd och eventuella länkade Cacheminnena i resursgruppen finns kvar i `running`tillstånd.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-195">If you attempt to delete the resource group that contains one or both of the linked caches, the other resources in the resource group are deleted, but the resource group stays in the `deleting` state and any linked caches in the resource group remain in the `running` state.</span></span> <span data-ttu-id="a0ed8-196">För att slutföra borttagningen av resursgruppen och länkade Cacheminnena i den bryta länken Geo-replikering som beskrivs i [ta bort en länk för Geo-replikering](#remove-a-geo-replication-link).</span><span class="sxs-lookup"><span data-stu-id="a0ed8-196">To complete the deletion of the resource group and the linked caches within it, break the Geo-replication link as described in [Remove a Geo-replication link](#remove-a-geo-replication-link).</span></span>

### <a name="what-region-should-i-use-for-my-secondary-linked-cache"></a><span data-ttu-id="a0ed8-197">Vilken region ska använda för min sekundära länkade cache?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-197">What region should I use for my secondary linked cache?</span></span>

<span data-ttu-id="a0ed8-198">I allmänhet rekommenderas för ditt cacheminne ska finnas i samma Azure-region som det program som har åtkomst till den.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-198">In general, it is recommended for your cache to exist in the same Azure region as the application that accesses it.</span></span> <span data-ttu-id="a0ed8-199">Om programmet har en primär och en återställningsplats region, ska din primära och sekundära cacheminnen finnas i samma regioner.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-199">If your application has a primary and fallback region, then your primary and secondary caches should exist in those same regions.</span></span> <span data-ttu-id="a0ed8-200">Mer information om parad regioner finns [metodtips – parad Azure-regioner](../best-practices-availability-paired-regions.md).</span><span class="sxs-lookup"><span data-stu-id="a0ed8-200">For more information about paired regions, see [Best Practices – Azure Paired regions](../best-practices-availability-paired-regions.md).</span></span>

### <a name="how-does-failing-over-to-the-secondary-linked-cache-work"></a><span data-ttu-id="a0ed8-201">Hur fungerar inte körs i sekundära länkade cacheminne?</span><span class="sxs-lookup"><span data-stu-id="a0ed8-201">How does failing over to the secondary linked cache work?</span></span>

<span data-ttu-id="a0ed8-202">I den första versionen av Geo-replikering stöder Azure Redis-Cache inte automatisk redundans över Azure-regioner.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-202">In the initial release of Geo-replication, Azure Redis Cache does not support automatic failover across Azure regions.</span></span> <span data-ttu-id="a0ed8-203">GEO-replikering används framför allt för en katastrofåterställning.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-203">Geo-replication is used primarily in a disaster recovery scenario.</span></span> <span data-ttu-id="a0ed8-204">I en distater återställningsscenario bör kunder visa hel programstack i en säkerhetskopiering region i ett samordnat sätt i stället för att låta enskilda programkomponenter bestämma när du vill växla till deras säkerhetskopior på egen hand.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-204">In a distater recovery scenario, customers should bring up the entire application stack in a backup region in a coordinated manner rather than letting individual application components decide when to switch to their backups on their own.</span></span> <span data-ttu-id="a0ed8-205">Detta är särskilt relevanta till Redis.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-205">This is especially relevant to Redis.</span></span> <span data-ttu-id="a0ed8-206">En av de främsta fördelarna med Redis är att det är en mycket låg latens store.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-206">One of the key benefits of Redis is that it is a very low-latency store.</span></span> <span data-ttu-id="a0ed8-207">Om Redis som används av ett program som växlar över till en annan Azure-region men inte i beräknings-nivån, skulle tillagda tur och RETUR-tid ha en märkbar effekt på prestanda.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-207">If Redis used by an application fails over to a different Azure region but the compute tier does not, the added round trip time would have a noticeable impact on performance.</span></span> <span data-ttu-id="a0ed8-208">Därför vill vi undvika Redis misslyckas över automatiskt på grund av problem med tillfälliga tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-208">For this reason, we would like to avoid Redis failing over automatically due to transient availability issues.</span></span>

<span data-ttu-id="a0ed8-209">För närvarande för att påbörja redundans måste du ta bort länken Geo-replikering i Azure-portalen och sedan ändra anslutning slutpunkt i Redis-klient från primära länkade cachen (tidigare länkade) sekundär cacheminne.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-209">Currently, to initiate the failover, you need to remove the Geo-replication link in the Azure portal, and then change the connection end-point in the Redis client from the primary linked cache to the (formerly linked) secondary cache.</span></span> <span data-ttu-id="a0ed8-210">När två cacheminnen är koppla bort, blir en vanlig skrivskyddad cache igen repliken och accepterar begäranden direkt från Redis-klienter.</span><span class="sxs-lookup"><span data-stu-id="a0ed8-210">When the two caches are disassociated, the replica becomes a regular read-write cache again and accepts requests directly from Redis clients.</span></span>


## <a name="next-steps"></a><span data-ttu-id="a0ed8-211">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="a0ed8-211">Next steps</span></span>

<span data-ttu-id="a0ed8-212">Lär dig mer om den [Azure Redis Cache Premium-nivån](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="a0ed8-212">Learn more about the [Azure Redis Cache Premium tier](cache-premium-tier-intro.md).</span></span>

