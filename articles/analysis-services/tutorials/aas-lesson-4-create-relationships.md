---
<span data-ttu-id="2ab99-101">Rubrik: aaa ”Azure Analysis Services självstudiekursen lektionen 4: skapa relationer | Microsoft Docs ”beskrivning: Beskriver hur toocreate relationer i hello självstudiekursen Azure Analysis Services-projekt.</span><span class="sxs-lookup"><span data-stu-id="2ab99-101">title: aaa"Azure Analysis Services tutorial lesson 4: Create relationships | Microsoft Docs" description: Describes how toocreate relationships in hello Azure Analysis Services tutorial project.</span></span> <span data-ttu-id="2ab99-102">tjänster: analysis services dokumentationcenter: '' författare: minewiskan manager: erikre editor: '' taggar: ''</span><span class="sxs-lookup"><span data-stu-id="2ab99-102">services: analysis-services documentationcenter: '' author: minewiskan manager: erikre editor: '' tags: ''</span></span>

<span data-ttu-id="2ab99-103">MS.AssetID: ms.service: analysis services ms.devlang: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 2017-05/26 ms.author: owend</span><span class="sxs-lookup"><span data-stu-id="2ab99-103">ms.assetid: ms.service: analysis-services ms.devlang: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span></span>
---
# <a name="lesson-4-create-relationships"></a><span data-ttu-id="2ab99-104">Lektion 4: Skapa relationer</span><span class="sxs-lookup"><span data-stu-id="2ab99-104">Lesson 4: Create relationships</span></span>

[!INCLUDE[analysis-services-appliesto-aas-sql2017-later](../../../includes/analysis-services-appliesto-aas-sql2017-later.md)]

<span data-ttu-id="2ab99-105">Nu bör du verifiera hello relationer som har skapats automatiskt när du har importerat data och lägga till nya relationer mellan olika tabeller.</span><span class="sxs-lookup"><span data-stu-id="2ab99-105">In this lesson, you verify hello relationships that were created automatically when you imported data and add new relationships between different tables.</span></span> <span data-ttu-id="2ab99-106">En relation är en anslutning mellan två tabeller som fastställer hur hello data i dessa tabeller bör korreleras.</span><span class="sxs-lookup"><span data-stu-id="2ab99-106">A relationship is a connection between two tables that establishes how hello data in those tables should be correlated.</span></span> <span data-ttu-id="2ab99-107">Till exempel ha hello DimProduct hello DimProductSubcategory tabellerna och en relation utifrån hello faktum att varje produkt tillhör tooa underkategori.</span><span class="sxs-lookup"><span data-stu-id="2ab99-107">For example, hello DimProduct table and hello DimProductSubcategory table have a relationship based on hello fact that each product belongs tooa subcategory.</span></span> <span data-ttu-id="2ab99-108">Det finns fler toolearn [relationer](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span><span class="sxs-lookup"><span data-stu-id="2ab99-108">toolearn more, see [Relationships](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span></span>
  
<span data-ttu-id="2ab99-109">Uppskattad tid toocomplete lektionen: **10 minuter**</span><span class="sxs-lookup"><span data-stu-id="2ab99-109">Estimated time toocomplete this lesson: **10 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="2ab99-110">Krav</span><span class="sxs-lookup"><span data-stu-id="2ab99-110">Prerequisites</span></span>  
<span data-ttu-id="2ab99-111">Det här avsnittet ingår i självstudiekursen för tabellmodellering som bör slutföras i rätt ordning.</span><span class="sxs-lookup"><span data-stu-id="2ab99-111">This topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="2ab99-112">Innan du utför hello uppgifter i den här lektionen bör du slutfört hello föregående lektionen: [lektionen 3: Markera som Datumtabell](../tutorials/aas-lesson-3-mark-as-date-table.md).</span><span class="sxs-lookup"><span data-stu-id="2ab99-112">Before performing hello tasks in this lesson, you should have completed hello previous lesson: [Lesson 3: Mark as Date Table](../tutorials/aas-lesson-3-mark-as-date-table.md).</span></span> 
  
## <a name="review-existing-relationships-and-add-new-relationships"></a><span data-ttu-id="2ab99-113">Granska befintliga relationer och lägga till nya relationer</span><span class="sxs-lookup"><span data-stu-id="2ab99-113">Review existing relationships and add new relationships</span></span>  
<span data-ttu-id="2ab99-114">När du har importerat data med hämta Data du har fått sju tabeller från hello AdventureWorksDW2014 databas.</span><span class="sxs-lookup"><span data-stu-id="2ab99-114">When you imported data by using Get Data, you got seven tables from hello AdventureWorksDW2014 database.</span></span> <span data-ttu-id="2ab99-115">I allmänhet när du importerar data från en relationsdatabas källa importeras befintliga relationer automatiskt tillsammans med hello data.</span><span class="sxs-lookup"><span data-stu-id="2ab99-115">Generally, when you import data from a relational source, existing relationships are automatically imported together with hello data.</span></span> <span data-ttu-id="2ab99-116">Men innan du börjar redigera din modell bör du kontrollera att relationerna mellan tabellerna har skapats på korrekt sätt.</span><span class="sxs-lookup"><span data-stu-id="2ab99-116">However, before you proceed with authoring your model you should verify those relationships between tables were created properly.</span></span> <span data-ttu-id="2ab99-117">I den här självstudiekursen lägger du till tre nya relationer.</span><span class="sxs-lookup"><span data-stu-id="2ab99-117">For this tutorial, you add three new relationships.</span></span>  
  
#### <a name="tooreview-existing-relationships"></a><span data-ttu-id="2ab99-118">tooreview befintliga relationer</span><span class="sxs-lookup"><span data-stu-id="2ab99-118">tooreview existing relationships</span></span>  
  
1.  <span data-ttu-id="2ab99-119">Klicka på hello **modellen** menyn > **Model-View** > **diagramvyn**.</span><span class="sxs-lookup"><span data-stu-id="2ab99-119">Click hello **Model** menu > **Model View** > **Diagram View**.</span></span>  

    <span data-ttu-id="2ab99-120">hello visas modellen designer nu i diagramvyn, ett grafiskt format som visar alla hello-tabeller som du har importerat med linjer mellan dem.</span><span class="sxs-lookup"><span data-stu-id="2ab99-120">hello model designer now appears in Diagram View, a graphical format displaying all hello tables you imported with lines between them.</span></span> <span data-ttu-id="2ab99-121">hello linjer mellan tabellerna visar hello relationer som skapades automatiskt när du har importerat hello data.</span><span class="sxs-lookup"><span data-stu-id="2ab99-121">hello lines between tables indicate hello relationships that were automatically created when you imported hello data.</span></span>
    
    ![aas-lesson4-diagram](../tutorials/media/aas-lesson4-diagram.png)
  
    <span data-ttu-id="2ab99-123">Innehåller så många hello tabeller som möjligt med hjälp av miniatyröversikt kontroller i hello nedre högra hörnet av hello modellen designer.</span><span class="sxs-lookup"><span data-stu-id="2ab99-123">Include as many of hello tables as possible by using minimap controls in hello lower-right corner of hello model designer.</span></span> <span data-ttu-id="2ab99-124">Du kan också klicka och dra tabeller toodifferent platser samman tabeller närmare eller placera dem i en viss ordning.</span><span class="sxs-lookup"><span data-stu-id="2ab99-124">You can also click and drag tables toodifferent locations, bringing tables closer together, or putting them in a particular order.</span></span> <span data-ttu-id="2ab99-125">Hello relationer redan mellan hello tabeller påverkas inte om du flyttar tabeller.</span><span class="sxs-lookup"><span data-stu-id="2ab99-125">Moving tables does not affect hello relationships already between hello tables.</span></span> <span data-ttu-id="2ab99-126">tooview alla hello kolumner i en viss tabell klickar du på och dra i en tabell edge tooexpand eller mindre.</span><span class="sxs-lookup"><span data-stu-id="2ab99-126">tooview all hello columns in a particular table, click and drag on a table edge tooexpand or make it smaller.</span></span>  
  
2.  <span data-ttu-id="2ab99-127">Klicka på hello heldragen linje mellan hello **DimCustomer** tabell och hello **DimGeography** tabell.</span><span class="sxs-lookup"><span data-stu-id="2ab99-127">Click hello solid line between hello **DimCustomer** table and hello **DimGeography** table.</span></span> <span data-ttu-id="2ab99-128">hello heldragen linje mellan de två tabellerna visar den här relationen är aktiv, det vill säga den används som standard vid beräkning av DAX-formler.</span><span class="sxs-lookup"><span data-stu-id="2ab99-128">hello solid line between these two tables shows this relationship is active, that is, it is used by default when calculating DAX formulas.</span></span>  
  
    <span data-ttu-id="2ab99-129">Meddelande hello **GeographyKey** kolumn i hello **DimCustomer** tabell och hello **GeographyKey** kolumn i hello **DimGeography** tabell både visas varje nu i en ruta.</span><span class="sxs-lookup"><span data-stu-id="2ab99-129">Notice hello **GeographyKey** column in hello **DimCustomer** table and hello **GeographyKey** column in hello **DimGeography** table now both each appear within a box.</span></span> <span data-ttu-id="2ab99-130">Dessa kolumner används i hello relationen.</span><span class="sxs-lookup"><span data-stu-id="2ab99-130">These columns are used in hello relationship.</span></span> <span data-ttu-id="2ab99-131">hello relationens egenskaper nu visas också i hello **egenskaper** fönster.</span><span class="sxs-lookup"><span data-stu-id="2ab99-131">hello relationship’s properties now also appear in hello **Properties** window.</span></span>  
  
    > [!TIP]  
    > <span data-ttu-id="2ab99-132">Dessutom toousing hello modellen designer i diagramvyn kan du också använda hello hantera relationer dialogrutan rutan tooshow hello relationer mellan alla tabeller i tabellformat.</span><span class="sxs-lookup"><span data-stu-id="2ab99-132">In addition toousing hello model designer in diagram view, you can also use hello Manage Relationships dialog box tooshow hello relationships between all tables in a table format.</span></span> <span data-ttu-id="2ab99-133">Högerklicka på **Relationer** > **Hantera relationer** i tabellmodellutforskaren.</span><span class="sxs-lookup"><span data-stu-id="2ab99-133">In Tabular Model Explorer, right-click **Relationships** > **Manage Relationships**.</span></span>
  
3.  <span data-ttu-id="2ab99-134">Kontrollera hello efter relationer skapades när hello tabeller har importerats från hello AdventureWorksDW-databasen:</span><span class="sxs-lookup"><span data-stu-id="2ab99-134">Verify hello following relationships were created when each of hello tables were imported from hello AdventureWorksDW database:</span></span>  
  
    |<span data-ttu-id="2ab99-135">Active</span><span class="sxs-lookup"><span data-stu-id="2ab99-135">Active</span></span>|<span data-ttu-id="2ab99-136">Tabell</span><span class="sxs-lookup"><span data-stu-id="2ab99-136">Table</span></span>|<span data-ttu-id="2ab99-137">Relaterad uppslagstabell</span><span class="sxs-lookup"><span data-stu-id="2ab99-137">Related Lookup Table</span></span>|  
    |----------|---------|------------------------|  
    |<span data-ttu-id="2ab99-138">Ja</span><span class="sxs-lookup"><span data-stu-id="2ab99-138">Yes</span></span>|<span data-ttu-id="2ab99-139">**DimCustomer [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="2ab99-139">**DimCustomer [GeographyKey]**</span></span>|<span data-ttu-id="2ab99-140">**DimGeography [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="2ab99-140">**DimGeography [GeographyKey]**</span></span>|  
    |<span data-ttu-id="2ab99-141">Ja</span><span class="sxs-lookup"><span data-stu-id="2ab99-141">Yes</span></span>|<span data-ttu-id="2ab99-142">**DimProduct [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="2ab99-142">**DimProduct [ProductSubcategoryKey]**</span></span>|<span data-ttu-id="2ab99-143">**DimProductSubcategory [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="2ab99-143">**DimProductSubcategory [ProductSubcategoryKey]**</span></span>|  
    |<span data-ttu-id="2ab99-144">Ja</span><span class="sxs-lookup"><span data-stu-id="2ab99-144">Yes</span></span>|<span data-ttu-id="2ab99-145">**DimProductSubcategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="2ab99-145">**DimProductSubcategory [ProductCategoryKey]**</span></span>|<span data-ttu-id="2ab99-146">**DimProductCategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="2ab99-146">**DimProductCategory [ProductCategoryKey]**</span></span>|  
    |<span data-ttu-id="2ab99-147">Ja</span><span class="sxs-lookup"><span data-stu-id="2ab99-147">Yes</span></span>|<span data-ttu-id="2ab99-148">**FactInternetSales [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="2ab99-148">**FactInternetSales [CustomerKey]**</span></span>|<span data-ttu-id="2ab99-149">**DimCustomer [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="2ab99-149">**DimCustomer [CustomerKey]**</span></span>|  
    |<span data-ttu-id="2ab99-150">Ja</span><span class="sxs-lookup"><span data-stu-id="2ab99-150">Yes</span></span>|<span data-ttu-id="2ab99-151">**FactInternetSales [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="2ab99-151">**FactInternetSales [ProductKey]**</span></span>|<span data-ttu-id="2ab99-152">**DimProduct [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="2ab99-152">**DimProduct [ProductKey]**</span></span>|  
  
    <span data-ttu-id="2ab99-153">Om någon av relationerna hello saknas kontrollerar du att modellen innehåller hello följande tabeller: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory och FactInternetSales.</span><span class="sxs-lookup"><span data-stu-id="2ab99-153">If any of hello relationships are missing, verify that your model includes hello following tables: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory, and FactInternetSales.</span></span> <span data-ttu-id="2ab99-154">Om tabeller från hello samma datakällanslutning importeras på separata gånger, skapas inte några relationer mellan tabellerna och måste skapas manuellt.</span><span class="sxs-lookup"><span data-stu-id="2ab99-154">If tables from hello same data source connection are imported at separate times, any relationships between those tables are not be created and must be created manually.</span></span>  

### <a name="take-a-closer-look"></a><span data-ttu-id="2ab99-155">Ta en närmare titt</span><span class="sxs-lookup"><span data-stu-id="2ab99-155">Take a closer look</span></span>
<span data-ttu-id="2ab99-156">Observera en pil, en asterisk och ett nummer på hello linjer som visar hello relation mellan tabeller i diagramvyn.</span><span class="sxs-lookup"><span data-stu-id="2ab99-156">In Diagram View, notice an arrow, an asterisk, and a number on hello lines that show hello relationship between tables.</span></span>

![aas-lesson4-line](../tutorials/media/aas-lesson4-line.png)

<span data-ttu-id="2ab99-158">hello pil visar hello filterriktningen.</span><span class="sxs-lookup"><span data-stu-id="2ab99-158">hello arrow shows hello filter direction.</span></span> <span data-ttu-id="2ab99-159">hello asterisk visar den här tabellen är hello många sida i hello Relationens kardinalitet och hello en visar den här tabellen är hello ena sidan av hello relation.</span><span class="sxs-lookup"><span data-stu-id="2ab99-159">hello asterisk shows this table is hello many side in hello relationship's cardinality, and hello one shows this table is hello one side of hello relationship.</span></span> <span data-ttu-id="2ab99-160">Om du behöver tooedit relationen. till exempel ändra hello relation filterriktningen eller kardinalitet genom att dubbelklicka på hello rad tooopen hello Redigera relation dialogrutan.</span><span class="sxs-lookup"><span data-stu-id="2ab99-160">If you need tooedit a relationship; for example, change hello relationship's filter direction or cardinality, double-click hello relationship line tooopen hello Edit Relationship dialog.</span></span>

![aas-lesson4-edit](../tutorials/media/aas-lesson4-edit.png)

<span data-ttu-id="2ab99-162">Dessa funktioner är avsedda för avancerade datamodeller och är utanför hello omfånget för den här kursen.</span><span class="sxs-lookup"><span data-stu-id="2ab99-162">These features are meant for advanced data modeling and are outside hello scope of this tutorial.</span></span> <span data-ttu-id="2ab99-163">Det finns fler toolearn [dubbelriktad kommunikation mellan filter för tabellmodeller i Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span><span class="sxs-lookup"><span data-stu-id="2ab99-163">toolearn more, see [Bi-directional cross filters for tabular models in Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span></span>

<span data-ttu-id="2ab99-164">I vissa fall kan behöva du toocreate ytterligare relationer mellan tabeller i din modell toosupport vissa affärslogik.</span><span class="sxs-lookup"><span data-stu-id="2ab99-164">In some cases, you may need toocreate additional relationships between tables in your model toosupport certain business logic.</span></span> <span data-ttu-id="2ab99-165">För den här kursen behöver du toocreate tre ytterligare relationer mellan hello FactInternetSales tabellerna och hello DimDate.</span><span class="sxs-lookup"><span data-stu-id="2ab99-165">For this tutorial, you need toocreate three additional relationships between hello FactInternetSales table and hello DimDate table.</span></span>  
  
#### <a name="tooadd-new-relationships-between-tables"></a><span data-ttu-id="2ab99-166">tooadd nya relationer mellan tabeller</span><span class="sxs-lookup"><span data-stu-id="2ab99-166">tooadd new relationships between tables</span></span>  
  
1.  <span data-ttu-id="2ab99-167">I hello modellen designer i hello **FactInternetSales** tabell, klicka och håll på hello **OrderDate** kolumn, och sedan dra hello markören toohello **datum** kolumn i hello  **DimDate** tabell och släpp.</span><span class="sxs-lookup"><span data-stu-id="2ab99-167">In hello model designer, in hello **FactInternetSales** table, click, and hold on hello **OrderDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  

    <span data-ttu-id="2ab99-168">En heldragen linje visas med information om du har skapat en aktiv relation mellan hello **OrderDate** kolumn i hello **Internet försäljning** tabell och hello **datum** kolumn i hello **Datum** tabell.</span><span class="sxs-lookup"><span data-stu-id="2ab99-168">A solid line appears showing you have created an active relationship between hello **OrderDate** column in hello **Internet Sales** table, and hello **Date** column in hello **Date** table.</span></span> 
  
      ![aas-lesson4-new](../tutorials/media/aas-lesson4-new.png) 
  
    > [!NOTE]  
    > <span data-ttu-id="2ab99-170">När du skapar relationer, väljs automatiskt hello kardinalitet och filtrera riktning mellan hello primära tabell och hello relaterad uppslagstabell.</span><span class="sxs-lookup"><span data-stu-id="2ab99-170">When creating relationships, hello cardinality and filter direction between hello primary table and hello related lookup table is automatically selected.</span></span>  
  
2.  <span data-ttu-id="2ab99-171">I hello **FactInternetSales** tabell, klicka och håll på hello **DueDate** kolumn, och sedan dra hello markören toohello **datum** kolumn i hello **DimDate** tabell och släpp.</span><span class="sxs-lookup"><span data-stu-id="2ab99-171">In hello **FactInternetSales** table, click and hold on hello **DueDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
  
    <span data-ttu-id="2ab99-172">En prickad linje visas med information om du har skapat en inaktiv relation mellan hello **DueDate** kolumn i hello **FactInternetSales** tabell och hello **datum** kolumn i Hej **DimDate** tabell.</span><span class="sxs-lookup"><span data-stu-id="2ab99-172">A dotted line appears showing you have created an inactive relationship between hello **DueDate** column in hello **FactInternetSales** table, and hello **Date** column in hello **DimDate** table.</span></span> <span data-ttu-id="2ab99-173">Du kan ha flera relationer mellan tabeller, men endast en relation kan vara aktiv i taget.</span><span class="sxs-lookup"><span data-stu-id="2ab99-173">You can have multiple relationships between tables, but only one relationship can be active at a time.</span></span> <span data-ttu-id="2ab99-174">Inaktiva relationer kan göras active tooperform särskilda aggregeringar i anpassade DAX-uttryck.</span><span class="sxs-lookup"><span data-stu-id="2ab99-174">Inactive relationships can be made active tooperform special aggregations in custom DAX expressions.</span></span>  
  
3.  <span data-ttu-id="2ab99-175">Skapa slutligen en till relation.</span><span class="sxs-lookup"><span data-stu-id="2ab99-175">Finally, create one more relationship.</span></span> <span data-ttu-id="2ab99-176">I hello **FactInternetSales** tabell, klicka och håll på hello **leveransdag** kolumn, och sedan dra hello markören toohello **datum** kolumn i hello **DimDate** tabell och släpp.</span><span class="sxs-lookup"><span data-stu-id="2ab99-176">In hello **FactInternetSales** table, click and hold on hello **ShipDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
    
     ![aas-lesson4-newinactive](../tutorials/media/aas-lesson4-newinactive.png)
  
## <a name="whats-next"></a><span data-ttu-id="2ab99-178">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="2ab99-178">What's next?</span></span>
<span data-ttu-id="2ab99-179">[Lektion 5: Skapa beräknade kolumner](../tutorials/aas-lesson-5-create-calculated-columns.md).</span><span class="sxs-lookup"><span data-stu-id="2ab99-179">[Lesson 5: Create calculated columns](../tutorials/aas-lesson-5-create-calculated-columns.md).</span></span>
  
  
  
