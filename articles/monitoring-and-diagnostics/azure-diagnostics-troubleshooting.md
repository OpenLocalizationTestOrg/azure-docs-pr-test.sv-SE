---
title: aaaTroubleshooting Azure Diagnostics | Microsoft Docs
description: "Felsökning av problem när du använder Azure-diagnostik i Azure Virtual Machines, Service Fabric och Cloud Services."
services: monitoring-and-diagnostics
documentationcenter: .net
author: rboucher
manager: carmonm
editor: 
ms.assetid: 66469bce-d457-4d1e-b550-a08d2be4d28c
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 07/12/2017
ms.author: robb
ms.openlocfilehash: daaf9fa4c40982eb9ba04030d7e8ea1ad9fe085b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-diagnostics-troubleshooting"></a><span data-ttu-id="fb176-103">Azure Diagnostics felsökning</span><span class="sxs-lookup"><span data-stu-id="fb176-103">Azure Diagnostics Troubleshooting</span></span>
<span data-ttu-id="fb176-104">Felsökning av information relevanta toousing Azure-diagnostik.</span><span class="sxs-lookup"><span data-stu-id="fb176-104">Troubleshooting information relevant toousing Azure Diagnostics.</span></span> <span data-ttu-id="fb176-105">Läs mer om Azure diagnostics [översikt över Azure Diagnostics](azure-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="fb176-105">For more information on Azure diagnostics, see [Azure Diagnostics Overview](azure-diagnostics.md).</span></span>

## <a name="logical-components"></a><span data-ttu-id="fb176-106">Logiska komponenter</span><span class="sxs-lookup"><span data-stu-id="fb176-106">Logical Components</span></span>
<span data-ttu-id="fb176-107">**Starta diagnostik-plugin-programmet (DiagnosticsPluginLauncher.exe)**: startar hello Azure Diagnostics tillägg.</span><span class="sxs-lookup"><span data-stu-id="fb176-107">**Diagnostics Plugin Launcher (DiagnosticsPluginLauncher.exe)**: Launches hello Azure Diagnostics extension.</span></span> <span data-ttu-id="fb176-108">Agerar som hello post rapporttjänstplatsen.</span><span class="sxs-lookup"><span data-stu-id="fb176-108">Serves as hello entry point process.</span></span>

<span data-ttu-id="fb176-109">**Diagnostik-plugin-programmet (DiagnosticsPlugin.exe)**: Main process som startas av hello programstart ovan och konfigurerar hello Monitoring Agent, startar den och hanterar dess livslängd.</span><span class="sxs-lookup"><span data-stu-id="fb176-109">**Diagnostics Plugin (DiagnosticsPlugin.exe)**: Main process that is launched by hello launcher above and configures hello Monitoring Agent, launches it and manages its lifetime.</span></span> 

<span data-ttu-id="fb176-110">**Monitoring Agent (MonAgent\*.exe processer)**: dessa processer hello bulk hello arbete, d.v.s. övervakning, samling och överföring av hello diagnostikdata.</span><span class="sxs-lookup"><span data-stu-id="fb176-110">**Monitoring Agent (MonAgent\*.exe processes)**: These processes do hello bulk of hello work; i.e., monitoring, collection and transfer of hello diagnostics data.</span></span>  

## <a name="logartifact-paths"></a><span data-ttu-id="fb176-111">Log-artefakt sökvägar</span><span class="sxs-lookup"><span data-stu-id="fb176-111">Log/Artifact Paths</span></span>
<span data-ttu-id="fb176-112">Här följer hello sökvägar toosome viktiga loggar och artefakter.</span><span class="sxs-lookup"><span data-stu-id="fb176-112">Here are hello paths toosome important logs and artifacts.</span></span> <span data-ttu-id="fb176-113">Vi hålla hänvisar toothese i hela hello resten av dokumentet hello:</span><span class="sxs-lookup"><span data-stu-id="fb176-113">We keep referring toothese throughout hello rest of hello document:</span></span>
### <a name="cloud-services"></a><span data-ttu-id="fb176-114">Molntjänster</span><span class="sxs-lookup"><span data-stu-id="fb176-114">Cloud Services</span></span>
| <span data-ttu-id="fb176-115">Artefakt</span><span class="sxs-lookup"><span data-stu-id="fb176-115">Artifact</span></span> | <span data-ttu-id="fb176-116">Sökväg</span><span class="sxs-lookup"><span data-stu-id="fb176-116">Path</span></span> |
| --- | --- |
| <span data-ttu-id="fb176-117">**Azure Diagnostics-konfigurationsfil**</span><span class="sxs-lookup"><span data-stu-id="fb176-117">**Azure Diagnostics configuration file**</span></span> | <span data-ttu-id="fb176-118">%SystemDrive%\Packages\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\<version > \Config.txt</span><span class="sxs-lookup"><span data-stu-id="fb176-118">%SystemDrive%\Packages\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\<version>\Config.txt</span></span> |
| <span data-ttu-id="fb176-119">**Loggfiler**</span><span class="sxs-lookup"><span data-stu-id="fb176-119">**Log files**</span></span> | <span data-ttu-id="fb176-120">C:\Logs\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\<version > \\</span><span class="sxs-lookup"><span data-stu-id="fb176-120">C:\Logs\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\<version>\\</span></span> |
| <span data-ttu-id="fb176-121">**Lokal lagring för diagnostikdata**</span><span class="sxs-lookup"><span data-stu-id="fb176-121">**Local store for diagnostics data**</span></span> | <span data-ttu-id="fb176-122">C:\Resources\Directory\<CloudServiceDeploymentID >.\< RoleName >. DiagnosticStore\WAD0107\Tables</span><span class="sxs-lookup"><span data-stu-id="fb176-122">C:\Resources\Directory\<CloudServiceDeploymentID>.\<RoleName>.DiagnosticStore\WAD0107\Tables</span></span> |
| <span data-ttu-id="fb176-123">**Monitoring Agent-konfigurationsfil**</span><span class="sxs-lookup"><span data-stu-id="fb176-123">**Monitoring Agent configuration file**</span></span> | <span data-ttu-id="fb176-124">C:\Resources\Directory\<CloudServiceDeploymentID >.\< RoleName >. DiagnosticStore\WAD0107\Configuration\MaConfig.xml</span><span class="sxs-lookup"><span data-stu-id="fb176-124">C:\Resources\Directory\<CloudServiceDeploymentID>.\<RoleName>.DiagnosticStore\WAD0107\Configuration\MaConfig.xml</span></span> |
| <span data-ttu-id="fb176-125">**Azure diagnostics extension-paketet**</span><span class="sxs-lookup"><span data-stu-id="fb176-125">**Azure diagnostics extension package**</span></span> | <span data-ttu-id="fb176-126">%SystemDrive%\Packages\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\<version ></span><span class="sxs-lookup"><span data-stu-id="fb176-126">%SystemDrive%\Packages\Plugins\Microsoft.Azure.Diagnostics.PaaSDiagnostics\<version></span></span> |
| <span data-ttu-id="fb176-127">**Verktyget loggsökvägen-samling**</span><span class="sxs-lookup"><span data-stu-id="fb176-127">**Log collection utility path**</span></span> | <span data-ttu-id="fb176-128">%SystemDrive%\Packages\GuestAgent\\</span><span class="sxs-lookup"><span data-stu-id="fb176-128">%SystemDrive%\Packages\GuestAgent\\</span></span> |
| <span data-ttu-id="fb176-129">**MonAgentHost loggfil**</span><span class="sxs-lookup"><span data-stu-id="fb176-129">**MonAgentHost log file**</span></span> | <span data-ttu-id="fb176-130">C:\Resources\Directory\<CloudServiceDeploymentID >.\< RoleName >. DiagnosticStore\WAD0107\Configuration\MonAgentHost. < seq_num > .log</span><span class="sxs-lookup"><span data-stu-id="fb176-130">C:\Resources\Directory\<CloudServiceDeploymentID>.\<RoleName>.DiagnosticStore\WAD0107\Configuration\MonAgentHost.<seq_num>.log</span></span> |

### <a name="virtual-machines"></a><span data-ttu-id="fb176-131">Virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="fb176-131">Virtual Machines</span></span>
| <span data-ttu-id="fb176-132">Artefakt</span><span class="sxs-lookup"><span data-stu-id="fb176-132">Artifact</span></span> | <span data-ttu-id="fb176-133">Sökväg</span><span class="sxs-lookup"><span data-stu-id="fb176-133">Path</span></span> |
| --- | --- |
| <span data-ttu-id="fb176-134">**Azure Diagnostics-konfigurationsfil**</span><span class="sxs-lookup"><span data-stu-id="fb176-134">**Azure Diagnostics configuration file**</span></span> | <span data-ttu-id="fb176-135">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<version > \RuntimeSettings</span><span class="sxs-lookup"><span data-stu-id="fb176-135">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<version>\RuntimeSettings</span></span> |
| <span data-ttu-id="fb176-136">**Loggfiler**</span><span class="sxs-lookup"><span data-stu-id="fb176-136">**Log files**</span></span> | <span data-ttu-id="fb176-137">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<version > \Logs\\</span><span class="sxs-lookup"><span data-stu-id="fb176-137">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<version>\Logs\\</span></span> |
| <span data-ttu-id="fb176-138">**Lokal lagring för diagnostikdata**</span><span class="sxs-lookup"><span data-stu-id="fb176-138">**Local store for diagnostics data**</span></span> | <span data-ttu-id="fb176-139">C:\WindowsAzure\Logs\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion > \WAD0107\Tables</span><span class="sxs-lookup"><span data-stu-id="fb176-139">C:\WindowsAzure\Logs\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion>\WAD0107\Tables</span></span> |
| <span data-ttu-id="fb176-140">**Monitoring Agent-konfigurationsfil**</span><span class="sxs-lookup"><span data-stu-id="fb176-140">**Monitoring Agent configuration file**</span></span> | <span data-ttu-id="fb176-141">C:\WindowsAzure\Logs\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion > \WAD0107\Configuration\MaConfig.xml</span><span class="sxs-lookup"><span data-stu-id="fb176-141">C:\WindowsAzure\Logs\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion>\WAD0107\Configuration\MaConfig.xml</span></span> |
| <span data-ttu-id="fb176-142">**Statusfil**</span><span class="sxs-lookup"><span data-stu-id="fb176-142">**Status file**</span></span> | <span data-ttu-id="fb176-143">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<version > \Status</span><span class="sxs-lookup"><span data-stu-id="fb176-143">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<version>\Status</span></span> |
| <span data-ttu-id="fb176-144">**Azure diagnostics extension-paketet**</span><span class="sxs-lookup"><span data-stu-id="fb176-144">**Azure diagnostics extension package**</span></span> | <span data-ttu-id="fb176-145">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion ></span><span class="sxs-lookup"><span data-stu-id="fb176-145">C:\Packages\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion></span></span>|
| <span data-ttu-id="fb176-146">**Verktyget loggsökvägen-samling**</span><span class="sxs-lookup"><span data-stu-id="fb176-146">**Log collection utility path**</span></span> | <span data-ttu-id="fb176-147">C:\WindowsAzure\Packages</span><span class="sxs-lookup"><span data-stu-id="fb176-147">C:\WindowsAzure\Packages</span></span> |
| <span data-ttu-id="fb176-148">**MonAgentHost loggfil**</span><span class="sxs-lookup"><span data-stu-id="fb176-148">**MonAgentHost log file**</span></span> | <span data-ttu-id="fb176-149">C:\WindowsAzure\Logs\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion > \WAD0107\Configuration\MonAgentHost. < seq_num > .log</span><span class="sxs-lookup"><span data-stu-id="fb176-149">C:\WindowsAzure\Logs\Plugins\Microsoft.Azure.Diagnostics.IaaSDiagnostics\<DiagnosticsVersion>\WAD0107\Configuration\MonAgentHost.<seq_num>.log</span></span> |

## <a name="metric-data-doesnt-show-in-azure-portal"></a><span data-ttu-id="fb176-150">Mått data visas inte i Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="fb176-150">Metric data doesn't show in Azure portal</span></span>
<span data-ttu-id="fb176-151">Azure-diagnostik innehåller en massa mått data som kan visas i Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="fb176-151">Azure Diagnostics provides a bunch of metric data, which can be displayed in Azure portal.</span></span> <span data-ttu-id="fb176-152">Om du har problem med att visa dessa data i portalen, kontrollera hello diagnostiklagringskonto -> WADMetrics\* tabell toosee om hello motsvarande mått poster förekommer.</span><span class="sxs-lookup"><span data-stu-id="fb176-152">If you have problems with seeing these data in portal, check hello diagnostics storage account -> WADMetrics\* table toosee if hello corresponding metric records are there.</span></span> <span data-ttu-id="fb176-153">Här hello PartitionKey av hello tabell är hello resurs-ID för den virtuella datorn eller virtuella datorn och hello RowKey är hello måttnamnet t.ex. namn på prestandaräknare.</span><span class="sxs-lookup"><span data-stu-id="fb176-153">Here, hello PartitionKey of hello table is hello resource ID of virtual machine or virtual machine scale set, and hello RowKey is hello metric name i.e. performance counter name.</span></span>

<span data-ttu-id="fb176-154">Om hello resurs-ID är fel, kontrollera diagnostik Configuration -> mått -> ResourceId toosee om hello resurs-ID är korrekt.</span><span class="sxs-lookup"><span data-stu-id="fb176-154">If hello resource ID is incorrect, check Diagnostics Configuration -> Metrics -> ResourceId toosee if hello resource ID is set correctly.</span></span>

<span data-ttu-id="fb176-155">Om det finns inga data för hello specifikt mått, kontrollera diagnostik Configuration -> PerformanceCounter toosee om hello mått (prestandaräknaren) ingår.</span><span class="sxs-lookup"><span data-stu-id="fb176-155">If there's no data for hello specific metric, check Diagnostics Configuration -> PerformanceCounter toosee if hello metric(performance counter) is included.</span></span> <span data-ttu-id="fb176-156">Vi aktivera hello följande räknare som standard.</span><span class="sxs-lookup"><span data-stu-id="fb176-156">We enable hello following counters by default.</span></span>
- <span data-ttu-id="fb176-157">\Processor(_Total)\% processortid</span><span class="sxs-lookup"><span data-stu-id="fb176-157">\Processor(_Total)\% Processor Time</span></span>
- <span data-ttu-id="fb176-158">\Memory\Tillgängliga byte</span><span class="sxs-lookup"><span data-stu-id="fb176-158">\Memory\Available Bytes</span></span>
- <span data-ttu-id="fb176-159">\ASP.NET program (__totalt__) \Requests/Sec</span><span class="sxs-lookup"><span data-stu-id="fb176-159">\ASP.NET Applications(__Total__)\Requests/Sec</span></span>
- <span data-ttu-id="fb176-160">\ASP.NET program (__totalt__) \Errors totalt/sek</span><span class="sxs-lookup"><span data-stu-id="fb176-160">\ASP.NET Applications(__Total__)\Errors Total/Sec</span></span>
- <span data-ttu-id="fb176-161">\ASP.NET\Requests i kö</span><span class="sxs-lookup"><span data-stu-id="fb176-161">\ASP.NET\Requests Queued</span></span>
- <span data-ttu-id="fb176-162">\ASP.NET\Requests avvisade</span><span class="sxs-lookup"><span data-stu-id="fb176-162">\ASP.NET\Requests Rejected</span></span>
- <span data-ttu-id="fb176-163">\Processor(W3wp)\% processortid</span><span class="sxs-lookup"><span data-stu-id="fb176-163">\Processor(w3wp)\% Processor Time</span></span>
- <span data-ttu-id="fb176-164">\Process (w3wp) \Private byte</span><span class="sxs-lookup"><span data-stu-id="fb176-164">\Process(w3wp)\Private Bytes</span></span>
- <span data-ttu-id="fb176-165">\Process(WaIISHost)\% processortid</span><span class="sxs-lookup"><span data-stu-id="fb176-165">\Process(WaIISHost)\% Processor Time</span></span>
- <span data-ttu-id="fb176-166">\Process (WaIISHost) \Private byte</span><span class="sxs-lookup"><span data-stu-id="fb176-166">\Process(WaIISHost)\Private Bytes</span></span>
- <span data-ttu-id="fb176-167">\Process(WaWorkerHost)\% processortid</span><span class="sxs-lookup"><span data-stu-id="fb176-167">\Process(WaWorkerHost)\% Processor Time</span></span>
- <span data-ttu-id="fb176-168">\Process (WaWorkerHost) \Private byte</span><span class="sxs-lookup"><span data-stu-id="fb176-168">\Process(WaWorkerHost)\Private Bytes</span></span>
- <span data-ttu-id="fb176-169">\Memory\Page fel per sekund</span><span class="sxs-lookup"><span data-stu-id="fb176-169">\Memory\Page Faults/sec</span></span>
- <span data-ttu-id="fb176-170">\.NET CLR-minne (_globala_)\% tid i GC i</span><span class="sxs-lookup"><span data-stu-id="fb176-170">\.NET CLR Memory(_Global_)\% Time in GC</span></span>
- <span data-ttu-id="fb176-171">\LogicalDisk (C:) \Disk skrivna byte/s</span><span class="sxs-lookup"><span data-stu-id="fb176-171">\LogicalDisk(C:)\Disk Write Bytes/sec</span></span>
- <span data-ttu-id="fb176-172">\LogicalDisk (C:) \Disk-lästa byte/s</span><span class="sxs-lookup"><span data-stu-id="fb176-172">\LogicalDisk(C:)\Disk Read Bytes/sec</span></span>
- <span data-ttu-id="fb176-173">\LogicalDisk (D:) \Disk skrivna byte/s</span><span class="sxs-lookup"><span data-stu-id="fb176-173">\LogicalDisk(D:)\Disk Write Bytes/sec</span></span>
- <span data-ttu-id="fb176-174">\LogicalDisk (D:) \Disk-lästa byte/s</span><span class="sxs-lookup"><span data-stu-id="fb176-174">\LogicalDisk(D:)\Disk Read Bytes/sec</span></span>

<span data-ttu-id="fb176-175">Om hello-konfigurationen är korrekt, men du fortfarande inte kan se hello mätvärden, följer du hello riktlinjerna nedan för hello ytterligare undersökning.</span><span class="sxs-lookup"><span data-stu-id="fb176-175">If hello configuration is set correctly but you still cannot see hello metric data, follow hello guidelines below for hello further investigation.</span></span>


## <a name="azure-diagnostics-is-not-starting"></a><span data-ttu-id="fb176-176">Startar inte Azure-diagnostik</span><span class="sxs-lookup"><span data-stu-id="fb176-176">Azure Diagnostics is not Starting</span></span>
<span data-ttu-id="fb176-177">Titta på **DiagnosticsPluginLauncher.log** och **DiagnosticsPlugin.log** filer från hello platsen för hello loggfiler angivna ovan för information om varför diagnostik misslyckades-toostart.</span><span class="sxs-lookup"><span data-stu-id="fb176-177">Look at **DiagnosticsPluginLauncher.log** and **DiagnosticsPlugin.log** files from hello location of hello log files provided above for information on why diagnostics failed toostart.</span></span> 

<span data-ttu-id="fb176-178">Om de här loggarna visar `Monitoring Agent not reporting success after launch`, betyder det gick inte att starta MonAgentHost.exe.</span><span class="sxs-lookup"><span data-stu-id="fb176-178">If these logs indicate `Monitoring Agent not reporting success after launch`, it means there was a failure launching MonAgentHost.exe.</span></span> <span data-ttu-id="fb176-179">Titta på hello loggar för den i hello-plats som anges för `MonAgentHost log file` i hello ovan.</span><span class="sxs-lookup"><span data-stu-id="fb176-179">Look at hello logs for that in hello location indicated for `MonAgentHost log file` in hello section above.</span></span>

<span data-ttu-id="fb176-180">hello sista raden i hello loggfiler innehåller hello slutkod.</span><span class="sxs-lookup"><span data-stu-id="fb176-180">hello last line of hello log files contains hello exit code.</span></span>  

```
DiagnosticsPluginLauncher.exe Information: 0 : [4/16/2016 6:24:15 AM] DiagnosticPlugin exited with code 0
```
<span data-ttu-id="fb176-181">Om du hittar en **negativa** slutkod finns toohello [avsluta kod tabell](#azure-diagnostics-plugin-exit-codes) i hello [referenser](#references).</span><span class="sxs-lookup"><span data-stu-id="fb176-181">If you find a **negative** exit code, refer toohello [exit code table](#azure-diagnostics-plugin-exit-codes) in hello [References](#references).</span></span>

## <a name="diagnostics-data-is-not-logged-tooazure-storage"></a><span data-ttu-id="fb176-182">Diagnostikdata är inte inloggad tooAzure lagring</span><span class="sxs-lookup"><span data-stu-id="fb176-182">Diagnostics Data is Not Logged tooAzure Storage</span></span>
<span data-ttu-id="fb176-183">Avgör om inga data visas eller bara vissa hello data inte visas.</span><span class="sxs-lookup"><span data-stu-id="fb176-183">Determine if no data is showing up or only some of hello data is not showing up.</span></span>

### <a name="diagnostics-infrastructure-logs"></a><span data-ttu-id="fb176-184">Diagnostik infrastruktur loggar</span><span class="sxs-lookup"><span data-stu-id="fb176-184">Diagnostics Infrastructure Logs</span></span>
<span data-ttu-id="fb176-185">Diagnostik infrastruktur loggar är där azure diagnostics loggar alla fel som körs i.</span><span class="sxs-lookup"><span data-stu-id="fb176-185">Diagnostics Infrastructure Logs is where azure diagnostics logs any errors that it runs into.</span></span> <span data-ttu-id="fb176-186">Kontrollera att du har aktiverat ([så?](#how-to-check-diagnostics-extension-configuration)) samla in diagnostik infrastruktur loggar i konfigurationen och snabbt leta efter eventuella relevanta fel som visas i hello `DiagnosticInfrastructureLogsTable` tabellen i konfigurerade storage-konto.</span><span class="sxs-lookup"><span data-stu-id="fb176-186">Make sure you have enabled ([how to?](#how-to-check-diagnostics-extension-configuration)) capturing of Diagnostics Infrastructure logs in your configuration and quickly look for any relevant errors that show up in hello `DiagnosticInfrastructureLogsTable` table in your configured storage account.</span></span>

### <a name="no-data-is-showing-up"></a><span data-ttu-id="fb176-187">Inga data visas</span><span class="sxs-lookup"><span data-stu-id="fb176-187">No data is showing up</span></span>
<span data-ttu-id="fb176-188">hello vanligaste orsaken till att händelsedata saknas helt är felaktigt angiven lagring kontoinformation.</span><span class="sxs-lookup"><span data-stu-id="fb176-188">hello most common cause of event data entirely missing is incorrectly defined storage account information.</span></span>

<span data-ttu-id="fb176-189">Lösning: Korrigera diagnostik-konfiguration och installera om diagnostik.</span><span class="sxs-lookup"><span data-stu-id="fb176-189">Solution: Correct your Diagnostics configuration and reinstall Diagnostics.</span></span>

<span data-ttu-id="fb176-190">Om hello storage-konto är korrekt konfigurerad, remote skrivbord till hello datorn och kontrollera att DiagnosticsPlugin.exe och MonAgentCore.exe körs.</span><span class="sxs-lookup"><span data-stu-id="fb176-190">If hello storage account is configured correctly, remote desktop into hello machine and make sure DiagnosticsPlugin.exe and MonAgentCore.exe are running.</span></span> <span data-ttu-id="fb176-191">Om de inte körs följer [startar inte Azure-diagnostik](#azure-diagnostics-is-not-starting).</span><span class="sxs-lookup"><span data-stu-id="fb176-191">If they are not running, follow [Azure Diagnostics is not Starting](#azure-diagnostics-is-not-starting).</span></span> <span data-ttu-id="fb176-192">Om hello processer körs, hoppa för[är data som hämtats komma lokalt](#is-data-getting-captured-locally) och följ den här guiden därifrån på.</span><span class="sxs-lookup"><span data-stu-id="fb176-192">If hello processes are running, jump too[Is data getting captured locally](#is-data-getting-captured-locally) and follow this guide from there on.</span></span>

### <a name="part-of-hello-data-is-missing"></a><span data-ttu-id="fb176-193">En del av hello data saknas</span><span class="sxs-lookup"><span data-stu-id="fb176-193">Part of hello data is missing</span></span>
<span data-ttu-id="fb176-194">Om du får vissa data men inte andra.</span><span class="sxs-lookup"><span data-stu-id="fb176-194">If you are getting some data but not other.</span></span> <span data-ttu-id="fb176-195">Detta innebär hello datainsamling / överföring pipeline har angetts korrekt.</span><span class="sxs-lookup"><span data-stu-id="fb176-195">This means hello data collection / transfer pipeline is set correctly.</span></span> <span data-ttu-id="fb176-196">Följ hello underavsnitt här toonarrow ned vilken hello problemet är:</span><span class="sxs-lookup"><span data-stu-id="fb176-196">Follow hello subsections here toonarrow down what hello issue is:</span></span>
#### <a name="is-collection-configured"></a><span data-ttu-id="fb176-197">Samlingen konfigureras:</span><span class="sxs-lookup"><span data-stu-id="fb176-197">Is Collection Configured:</span></span> 
<span data-ttu-id="fb176-198">Diagnostik-konfigurationen innehåller hello del som instruerar för en viss typ av data toobe samlas in.</span><span class="sxs-lookup"><span data-stu-id="fb176-198">Diagnostics Configuration contains hello part that instructs for a particular type of data toobe collected.</span></span> <span data-ttu-id="fb176-199">[Granska konfigurationen](#how-to-check-diagnostics-extension-configuration) toomake säker på att du inte söker efter data du har inte konfigurerats för samlingen.</span><span class="sxs-lookup"><span data-stu-id="fb176-199">[Review your configuration](#how-to-check-diagnostics-extension-configuration) toomake sure you are not looking for data you have not configured for collection.</span></span>
#### <a name="is-hello-host-generating-data"></a><span data-ttu-id="fb176-200">Hello värden genererar data:</span><span class="sxs-lookup"><span data-stu-id="fb176-200">Is hello host generating data:</span></span>
- <span data-ttu-id="fb176-201">**Prestandaräknare**: öppna perfmon och kontrollera hello räknaren.</span><span class="sxs-lookup"><span data-stu-id="fb176-201">**Performance Counters**: open perfmon and check hello counter.</span></span>
- <span data-ttu-id="fb176-202">**Spårningsloggar**: fjärrskrivbord till hello VM och lägga till en TextWriterTraceListener toohello app config-fil.</span><span class="sxs-lookup"><span data-stu-id="fb176-202">**Trace Logs**:  Remote desktop into hello VM and add a TextWriterTraceListener toohello app’s config file.</span></span>  <span data-ttu-id="fb176-203">Se http://msdn.microsoft.com/library/sk36c28t.aspx tooset in hello text lyssnare.</span><span class="sxs-lookup"><span data-stu-id="fb176-203">See http://msdn.microsoft.com/library/sk36c28t.aspx tooset up hello text listener.</span></span>  <span data-ttu-id="fb176-204">Se till att hello `<trace>` element har `<trace autoflush="true">`.</span><span class="sxs-lookup"><span data-stu-id="fb176-204">Make sure hello `<trace>` element has `<trace autoflush="true">`.</span></span><br />
<span data-ttu-id="fb176-205">Om du inte ser spårningsloggar aviseringsstorm generera följer [mer om Trace Logs saknas](#more-about-trace-logs-missing).</span><span class="sxs-lookup"><span data-stu-id="fb176-205">If you don't see trace logs getting generated, follow [More About Trace Logs Missing](#more-about-trace-logs-missing).</span></span>
- <span data-ttu-id="fb176-206">**ETW-spårning**: fjärrskrivbord till hello VM och installera förhandsgranskning.</span><span class="sxs-lookup"><span data-stu-id="fb176-206">**ETW traces**: Remote desktop into hello VM and install PerfView.</span></span>  <span data-ttu-id="fb176-207">I förhandsgranskning kör Arkiv ->-kommandot User > lyssna etwprovder1, etwprovider2 osv.  Observera att hello lyssna-kommandot är skiftlägeskänsligt och det får inte finnas blanksteg mellan hello kommaavgränsad lista över ETW-providers.</span><span class="sxs-lookup"><span data-stu-id="fb176-207">In PerfView run File -> User Command -> Listen etwprovder1, etwprovider2, etc.  Note that hello Listen command is case-sensitive and there cannot be spaces between hello comma-separated list of ETW providers.</span></span>  <span data-ttu-id="fb176-208">Om hello kommandot misslyckas toorun, kan du klicka hello ”loggar” i hello ned till höger i hello förhandsgranskning verktyget toosee försök toorun och vilka hello resultatet var vilken var.</span><span class="sxs-lookup"><span data-stu-id="fb176-208">If hello command fails toorun, you can click hello 'Log' button in hello bottom-right of hello Perfview tool toosee what was attempted toorun and what hello result was.</span></span>  <span data-ttu-id="fb176-209">Under förutsättning att hello indata är rätt sedan ett nytt fönster visas och i några sekunder börjar du se ETW-spårning.</span><span class="sxs-lookup"><span data-stu-id="fb176-209">Assuming hello input is correct then a new window will pop up and in a few seconds you will begin seeing ETW traces.</span></span>
- <span data-ttu-id="fb176-210">**Händelseloggar**: fjärrskrivbord till hello VM.</span><span class="sxs-lookup"><span data-stu-id="fb176-210">**Event Logs**: Remote desktop into hello VM.</span></span> <span data-ttu-id="fb176-211">Öppna `Event Viewer` och kontrollera hello-händelser finns.</span><span class="sxs-lookup"><span data-stu-id="fb176-211">Open `Event Viewer` and ensure hello events exist.</span></span>
#### <a name="is-data-getting-captured-locally"></a><span data-ttu-id="fb176-212">Data komma avbildas lokalt:</span><span class="sxs-lookup"><span data-stu-id="fb176-212">Is data getting captured locally:</span></span>
<span data-ttu-id="fb176-213">Kontrollera nästa hello data komma fångas lokalt.</span><span class="sxs-lookup"><span data-stu-id="fb176-213">Next make sure hello data is getting captured locally.</span></span>
<span data-ttu-id="fb176-214">hello data lagras lokalt i `*.tsf` filer i [hello lokal lagring för diagnostikdata](#log-artifacts-path).</span><span class="sxs-lookup"><span data-stu-id="fb176-214">hello data is locally stored in `*.tsf` files in [hello local store for diagnostics data](#log-artifacts-path).</span></span> <span data-ttu-id="fb176-215">Olika typer av loggar hämta som samlas in i olika `.tsf` filer.</span><span class="sxs-lookup"><span data-stu-id="fb176-215">Different kinds of logs get collected in different `.tsf` files.</span></span> <span data-ttu-id="fb176-216">hello namn är liknande toohello tabellnamn i azure-lagring.</span><span class="sxs-lookup"><span data-stu-id="fb176-216">hello names are similar toohello table names in azure storage.</span></span> <span data-ttu-id="fb176-217">Till exempel `Performance Counters` hämta samlas in i `PerformanceCountersTable.tsf`, händelseloggar hämta som samlas in i `WindowsEventLogsTable.tsf`.</span><span class="sxs-lookup"><span data-stu-id="fb176-217">For example `Performance Counters` get collected in `PerformanceCountersTable.tsf`, Event Logs get collected in `WindowsEventLogsTable.tsf`.</span></span> <span data-ttu-id="fb176-218">Använd hello-instruktioner i [lokala loggen extrahering](#local-log-extraction) avsnittet tooopen hello lokal insamling filer och kontrollera att du kan se dem komma in på disk.</span><span class="sxs-lookup"><span data-stu-id="fb176-218">Use hello instructions in [Local Log Extraction](#local-log-extraction) section tooopen hello local collection files and make sure you see them getting collected on disk.</span></span>

<span data-ttu-id="fb176-219">Om du inte se loggar komma in lokalt och redan har kontrollerat att hello värden genererar data, har troligen konfigurationsproblem.</span><span class="sxs-lookup"><span data-stu-id="fb176-219">If you don't see logs getting collected locally and have already verified that hello host is generating data, you likely have a configuration issue.</span></span> <span data-ttu-id="fb176-220">Granska konfigurationen noggrant för hello relevant avsnitt.</span><span class="sxs-lookup"><span data-stu-id="fb176-220">Review your configuration carefully for hello appropriate section.</span></span> <span data-ttu-id="fb176-221">Granska även hello configuration genereras för MonitoringAgent [MaConfig.xml](#log-artifacts-path) och kontrollera att det finns vissa avsnitt som beskriver hello relevant logg källa och att det inte går förlorad i översättningen mellan azure diagnostics-konfiguration och övervakningskonfigurationen för agenten.</span><span class="sxs-lookup"><span data-stu-id="fb176-221">Also review hello configuration generated for MonitoringAgent [MaConfig.xml](#log-artifacts-path) and make sure there is some section describing hello relevant log source and that it is not lost in translation between azure diagnostics configuration and monitoring agent configuration.</span></span>
#### <a name="is-data-getting-transferred"></a><span data-ttu-id="fb176-222">Data komma överförs:</span><span class="sxs-lookup"><span data-stu-id="fb176-222">Is data getting transferred:</span></span>
<span data-ttu-id="fb176-223">Om du har verifierat hello data komma fångas lokalt men du fortfarande ser inte det i ditt lagringskonto:</span><span class="sxs-lookup"><span data-stu-id="fb176-223">If you have verified hello data is getting captured locally but you still don't see it in your storage account:</span></span> 
- <span data-ttu-id="fb176-224">Först och främst måste du kontrollera att du har angett rätt lagringskontot och att du inte har flyttats över nycklar etc.for hello angivna lagringskontot.</span><span class="sxs-lookup"><span data-stu-id="fb176-224">First and foremost, make sure that you have provided a correct storage account and that you have not rolled over keys etc.for hello given storage account.</span></span> <span data-ttu-id="fb176-225">För molntjänster, ibland vi se att personer som inte uppdaterar sina `useDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="fb176-225">For cloud services, sometimes we see that people don't update their `useDevelopmentStorage=true`.</span></span>
- <span data-ttu-id="fb176-226">Om lagringskontot är korrekt.</span><span class="sxs-lookup"><span data-stu-id="fb176-226">If provided storage account is correct.</span></span> <span data-ttu-id="fb176-227">Kontrollera att du inte har några nätverksbegränsningar som inte tillåter hello komponenter tooreach offentlig lagring slutpunkter.</span><span class="sxs-lookup"><span data-stu-id="fb176-227">Make sure you do not have some network restrictions that do not allow hello components tooreach public storage endpoints.</span></span> <span data-ttu-id="fb176-228">Enkelriktade toodo som är tooremote skrivbordet till hello datorn och försök toowrite något toohello samma lagringsutrymme konto själv.</span><span class="sxs-lookup"><span data-stu-id="fb176-228">One way toodo that is tooremote desktop into hello machine and try toowrite something toohello same storage account yourself.</span></span>
- <span data-ttu-id="fb176-229">Du kan dessutom försök och se vilka fel rapporterats av Monitoring Agent.</span><span class="sxs-lookup"><span data-stu-id="fb176-229">Finally, you can try and see what failure are being reported by Monitoring Agent.</span></span> <span data-ttu-id="fb176-230">Övervakningsagent skriver loggar i `maeventtable.tsf` finns i [hello lokal lagring för diagnostikdata](#log-artifacts-path).</span><span class="sxs-lookup"><span data-stu-id="fb176-230">Monitoring agent writes its logs in `maeventtable.tsf` located in [hello local store for diagnostics data](#log-artifacts-path).</span></span> <span data-ttu-id="fb176-231">Följ instruktionerna i [lokala loggen extrahering](#local-log-extraction) avsnittet tooopen den här filen och försök och ta reda på om det finns `errors` som anger fel tooread lokala filer eller skriva toostorage.</span><span class="sxs-lookup"><span data-stu-id="fb176-231">Follow instructions in [Local Log Extraction](#local-log-extraction) section tooopen this file and try and figure out if there are `errors` indicating failures tooread local files or write toostorage.</span></span>

### <a name="capturing--archiving-logs"></a><span data-ttu-id="fb176-232">Samla in / Arkivera loggar</span><span class="sxs-lookup"><span data-stu-id="fb176-232">Capturing / Archiving logs</span></span>
<span data-ttu-id="fb176-233">Du har gått igenom hello senare steg, men kunde inte ta reda på vad som gick fel och funderar på att kontakta supporten.</span><span class="sxs-lookup"><span data-stu-id="fb176-233">You went through hello above steps but could not figure out what was wrong and are thinking about contacting support.</span></span> <span data-ttu-id="fb176-234">hello första kanske du ombeds är toocollect loggar från din dator.</span><span class="sxs-lookup"><span data-stu-id="fb176-234">hello first thing they might ask you is toocollect logs from your machine.</span></span> <span data-ttu-id="fb176-235">Du kan spara tid genom att göra den själv.</span><span class="sxs-lookup"><span data-stu-id="fb176-235">You can save time by doing that yourself.</span></span> <span data-ttu-id="fb176-236">Kör hello `CollectGuestLogs.exe` utility på [loggen samling verktyget sökväg](#log-artifacts-path) och genererar en zip-fil med alla relevanta azure loggar i hello samma mapp.</span><span class="sxs-lookup"><span data-stu-id="fb176-236">Run hello `CollectGuestLogs.exe` utility at  [Log Collection Utility path](#log-artifacts-path) and it generates a zip file with all relevant azure logs in hello same folder.</span></span>

## <a name="diagnostics-data-tables-not-found"></a><span data-ttu-id="fb176-237">Diagnostikdata tabeller som inte hittades</span><span class="sxs-lookup"><span data-stu-id="fb176-237">Diagnostics data Tables not found</span></span>
<span data-ttu-id="fb176-238">hello tabeller i Azure storage ETW-händelser som är namngivna med hello följande kod:</span><span class="sxs-lookup"><span data-stu-id="fb176-238">hello tables in Azure storage holding ETW events are named using hello following code:</span></span>

```C#
        if (String.IsNullOrEmpty(eventDestination)) {
            if (e == "DefaultEvents")
                tableName = "WADDefault" + MD5(provider);
            else
                tableName = "WADEvent" + MD5(provider) + eventId;
        }
        else
            tableName = "WAD" + eventDestination;
```

<span data-ttu-id="fb176-239">Här är ett exempel:</span><span class="sxs-lookup"><span data-stu-id="fb176-239">Here is an example:</span></span>

```XML
        <EtwEventSourceProviderConfiguration provider="prov1">
          <Event id="1" />
          <Event id="2" eventDestination="dest1" />
          <DefaultEvents />
        </EtwEventSourceProviderConfiguration>
        <EtwEventSourceProviderConfiguration provider="prov2">
          <DefaultEvents eventDestination="dest2" />
        </EtwEventSourceProviderConfiguration>
```
```JSON
"EtwEventSourceProviderConfiguration": [
    {
        "provider": "prov1",
        "Event": [
            {
                "id": 1
            },
            {
                "id": 2,
                "eventDestination": "dest1"
            }
        ],
        "DefaultEvents": {
            "eventDestination": "DefaultEventDestination",
            "sinks": ""
        }
    },
    {
        "provider": "prov2",
        "DefaultEvents": {
            "eventDestination": "dest2"
        }
    }
]
```
<span data-ttu-id="fb176-240">Som genererar 4 tabeller:</span><span class="sxs-lookup"><span data-stu-id="fb176-240">That generates 4 tables:</span></span>

| <span data-ttu-id="fb176-241">Händelse</span><span class="sxs-lookup"><span data-stu-id="fb176-241">Event</span></span> | <span data-ttu-id="fb176-242">Tabellnamnet</span><span class="sxs-lookup"><span data-stu-id="fb176-242">Table Name</span></span> |
| --- | --- |
| <span data-ttu-id="fb176-243">Provider = ”prov1” &lt;händelse-id = ”1” /&gt;</span><span class="sxs-lookup"><span data-stu-id="fb176-243">provider=”prov1” &lt;Event id=”1” /&gt;</span></span> |<span data-ttu-id="fb176-244">WADEvent + MD5("prov1") + ”1”</span><span class="sxs-lookup"><span data-stu-id="fb176-244">WADEvent+MD5(“prov1”)+”1”</span></span> |
| <span data-ttu-id="fb176-245">Provider = ”prov1” &lt;händelse-id = ”2” eventDestination = ”dest1” /&gt;</span><span class="sxs-lookup"><span data-stu-id="fb176-245">provider=”prov1” &lt;Event id=”2” eventDestination=”dest1” /&gt;</span></span> |<span data-ttu-id="fb176-246">WADdest1</span><span class="sxs-lookup"><span data-stu-id="fb176-246">WADdest1</span></span> |
| <span data-ttu-id="fb176-247">Provider = ”prov1” &lt;DefaultEvents /&gt;</span><span class="sxs-lookup"><span data-stu-id="fb176-247">provider=”prov1” &lt;DefaultEvents /&gt;</span></span> |<span data-ttu-id="fb176-248">WADDefault+MD5("prov1")</span><span class="sxs-lookup"><span data-stu-id="fb176-248">WADDefault+MD5(“prov1”)</span></span> |
| <span data-ttu-id="fb176-249">Provider = ”prov2” &lt;DefaultEvents eventDestination = ”dest2” /&gt;</span><span class="sxs-lookup"><span data-stu-id="fb176-249">provider=”prov2” &lt;DefaultEvents eventDestination=”dest2” /&gt;</span></span> |<span data-ttu-id="fb176-250">WADdest2</span><span class="sxs-lookup"><span data-stu-id="fb176-250">WADdest2</span></span> |

## <a name="references"></a><span data-ttu-id="fb176-251">Referenser</span><span class="sxs-lookup"><span data-stu-id="fb176-251">References</span></span>

### <a name="how-toocheck-diagnostics-extension-configuration"></a><span data-ttu-id="fb176-252">Hur toocheck konfiguration för diagnostik</span><span class="sxs-lookup"><span data-stu-id="fb176-252">How toocheck Diagnostics Extension Configuration</span></span>
<span data-ttu-id="fb176-253">Hej enklaste sättet toocheck konfigurationen av tillägget är toonavigate toohttp://resources.azure.com, navigera toohello virtuella datorer eller moln-tjänsten på vilka hello Azure Diagnostics tillägg (IaaSDiagnostics / PaaDiagnostics) i fråga.</span><span class="sxs-lookup"><span data-stu-id="fb176-253">hello easiest way toocheck your extension configuration is toonavigate toohttp://resources.azure.com, navigate toohello virtual machine or cloud service on which hello Azure Diagnostics extension (IaaSDiagnostics / PaaDiagnostics) is in question.</span></span>

<span data-ttu-id="fb176-254">Alternativt fjärrskrivbord till hello datorn och titta på hello Azure Diagnostics konfigurationsfilen beskrivs i hello lämpliga [här](#log-artifacts-path).</span><span class="sxs-lookup"><span data-stu-id="fb176-254">Alternatively, remote desktop into hello machine and look at hello Azure Diagnostics Configuration file described in hello appropriate section [here](#log-artifacts-path).</span></span>

<span data-ttu-id="fb176-255">I antingen case söka efter **Microsoft.Azure.Diagnostics** sedan för hello **xmlCfg** eller **WadCfg** fältet.</span><span class="sxs-lookup"><span data-stu-id="fb176-255">In either case search for **Microsoft.Azure.Diagnostics** then for hello **xmlCfg** or **WadCfg** field.</span></span> 

<span data-ttu-id="fb176-256">Om virtuella datorer om hello WadCfg fältet finns, betyder det hello config är i JSON.</span><span class="sxs-lookup"><span data-stu-id="fb176-256">In case of virtual machines, if hello WadCfg field is present, it means hello config is in JSON.</span></span> <span data-ttu-id="fb176-257">Om hello xmlCfg fältet finns innebär hello config är XML och det är base64-kodad.</span><span class="sxs-lookup"><span data-stu-id="fb176-257">If hello xmlCfg field is present, it means hello config is in XML and is base64 encoded.</span></span> <span data-ttu-id="fb176-258">Du behöver för[avkoda den](http://www.bing.com/search?q=base64+decoder) toosee hello XML som har lästs in av diagnostik.</span><span class="sxs-lookup"><span data-stu-id="fb176-258">You need too[decode it](http://www.bing.com/search?q=base64+decoder) toosee hello XML that was loaded by Diagnostics.</span></span>

<span data-ttu-id="fb176-259">För Molntjänsten roll om du väljer hello konfigurationen från disken, hello data är base64-kodad så du behöver för[avkoda den](http://www.bing.com/search?q=base64+decoder) toosee hello XML som har lästs in av diagnostik.</span><span class="sxs-lookup"><span data-stu-id="fb176-259">For Cloud Service role, if you pick hello configuration from disk, hello data is base64 encoded so you’ll need too[decode it](http://www.bing.com/search?q=base64+decoder) toosee hello XML that was loaded by Diagnostics.</span></span>

### <a name="azure-diagnostics-plugin-exit-codes"></a><span data-ttu-id="fb176-260">Azure Diagnostics slutkoder för plugin-program</span><span class="sxs-lookup"><span data-stu-id="fb176-260">Azure Diagnostics Plugin Exit Codes</span></span>
<span data-ttu-id="fb176-261">hello-plugin-programmet returnerar hello följande koder:</span><span class="sxs-lookup"><span data-stu-id="fb176-261">hello plugin returns hello following exit codes:</span></span>

| <span data-ttu-id="fb176-262">Slutkod</span><span class="sxs-lookup"><span data-stu-id="fb176-262">Exit Code</span></span> | <span data-ttu-id="fb176-263">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="fb176-263">Description</span></span> |
| --- | --- |
| <span data-ttu-id="fb176-264">0</span><span class="sxs-lookup"><span data-stu-id="fb176-264">0</span></span> |<span data-ttu-id="fb176-265">Lyckades.</span><span class="sxs-lookup"><span data-stu-id="fb176-265">Success.</span></span> |
| <span data-ttu-id="fb176-266">-1</span><span class="sxs-lookup"><span data-stu-id="fb176-266">-1</span></span> |<span data-ttu-id="fb176-267">Allmänt fel.</span><span class="sxs-lookup"><span data-stu-id="fb176-267">Generic Error.</span></span> |
| <span data-ttu-id="fb176-268">-2</span><span class="sxs-lookup"><span data-stu-id="fb176-268">-2</span></span> |<span data-ttu-id="fb176-269">Det går inte tooload hello rcf fil.</span><span class="sxs-lookup"><span data-stu-id="fb176-269">Unable tooload hello rcf file.</span></span><p><span data-ttu-id="fb176-270">Den här internt fel ska bara hända om hello gäst Agentstart plugin-program är felaktigt, manuellt startas på hello VM.</span><span class="sxs-lookup"><span data-stu-id="fb176-270">This internal error should only happen if hello guest agent plugin launcher is manually invoked, incorrectly, on hello VM.</span></span> |
| <span data-ttu-id="fb176-271">-3</span><span class="sxs-lookup"><span data-stu-id="fb176-271">-3</span></span> |<span data-ttu-id="fb176-272">Det går inte att läsa in konfigurationsfilen för hello diagnostik.</span><span class="sxs-lookup"><span data-stu-id="fb176-272">Cannot load hello Diagnostics configuration file.</span></span><p><p><span data-ttu-id="fb176-273">Lösning: På grund av en konfigurationsfil som inte skickar schemavalidering.</span><span class="sxs-lookup"><span data-stu-id="fb176-273">Solution: Caused by a configuration file not passing schema validation.</span></span> <span data-ttu-id="fb176-274">hello-lösning är tooprovide en konfigurationsfil som uppfyller hello schemat.</span><span class="sxs-lookup"><span data-stu-id="fb176-274">hello solution is tooprovide a configuration file that complies with hello schema.</span></span> |
| <span data-ttu-id="fb176-275">-4</span><span class="sxs-lookup"><span data-stu-id="fb176-275">-4</span></span> |<span data-ttu-id="fb176-276">En annan instans av hello övervakningsagent diagnostik använder redan hello lokala resursbiblioteket.</span><span class="sxs-lookup"><span data-stu-id="fb176-276">Another instance of hello monitoring agent Diagnostics is already using hello local resource directory.</span></span><p><p><span data-ttu-id="fb176-277">Lösning: Ange ett annat värde för **LocalResourceDirectory**.</span><span class="sxs-lookup"><span data-stu-id="fb176-277">Solution: Specify a different value for **LocalResourceDirectory**.</span></span> |
| <span data-ttu-id="fb176-278">-6</span><span class="sxs-lookup"><span data-stu-id="fb176-278">-6</span></span> |<span data-ttu-id="fb176-279">hello gäst Agentstart plugin-programmet försökte toolaunch diagnostik med en ogiltig kommandorad.</span><span class="sxs-lookup"><span data-stu-id="fb176-279">hello guest agent plugin launcher attempted toolaunch Diagnostics with an invalid command line.</span></span><p><p><span data-ttu-id="fb176-280">Den här internt fel ska bara hända om hello gäst Agentstart plugin-program är felaktigt, manuellt startas på hello VM.</span><span class="sxs-lookup"><span data-stu-id="fb176-280">This internal error should only happen if hello guest agent plugin launcher is manually invoked, incorrectly, on hello VM.</span></span> |
| <span data-ttu-id="fb176-281">-10</span><span class="sxs-lookup"><span data-stu-id="fb176-281">-10</span></span> |<span data-ttu-id="fb176-282">Diagnostik-plugin-programmet hello avslutades med ett ohanterat undantag.</span><span class="sxs-lookup"><span data-stu-id="fb176-282">hello Diagnostics plugin exited with an unhandled exception.</span></span> |
| <span data-ttu-id="fb176-283">-11</span><span class="sxs-lookup"><span data-stu-id="fb176-283">-11</span></span> |<span data-ttu-id="fb176-284">hello gäst-agenten kunde toocreate hello processen som ansvarar för att starta och övervaka hello övervakningsagent.</span><span class="sxs-lookup"><span data-stu-id="fb176-284">hello guest agent was unable toocreate hello process responsible for launching and monitoring hello monitoring agent.</span></span><p><p><span data-ttu-id="fb176-285">Lösning: Kontrollera att tillräckligt med systemresurser för är tillgängliga toolaunch nya processer.</span><span class="sxs-lookup"><span data-stu-id="fb176-285">Solution: Verify that sufficient system resources are available toolaunch new processes.</span></span><p> |
| <span data-ttu-id="fb176-286">-101</span><span class="sxs-lookup"><span data-stu-id="fb176-286">-101</span></span> |<span data-ttu-id="fb176-287">Ogiltiga argument vid anrop av hello diagnostik plugin-programmet.</span><span class="sxs-lookup"><span data-stu-id="fb176-287">Invalid arguments when calling hello Diagnostics plugin.</span></span><p><p><span data-ttu-id="fb176-288">Den här internt fel ska bara hända om hello gäst Agentstart plugin-program är felaktigt, manuellt startas på hello VM.</span><span class="sxs-lookup"><span data-stu-id="fb176-288">This internal error should only happen if hello guest agent plugin launcher is manually invoked, incorrectly, on hello VM.</span></span> |
| <span data-ttu-id="fb176-289">-102</span><span class="sxs-lookup"><span data-stu-id="fb176-289">-102</span></span> |<span data-ttu-id="fb176-290">hello är plugin-programmet tooinitialize sig själv.</span><span class="sxs-lookup"><span data-stu-id="fb176-290">hello plugin process is unable tooinitialize itself.</span></span><p><p><span data-ttu-id="fb176-291">Lösning: Kontrollera att tillräckligt med systemresurser för är tillgängliga toolaunch nya processer.</span><span class="sxs-lookup"><span data-stu-id="fb176-291">Solution: Verify that sufficient system resources are available toolaunch new processes.</span></span> |
| <span data-ttu-id="fb176-292">-103</span><span class="sxs-lookup"><span data-stu-id="fb176-292">-103</span></span> |<span data-ttu-id="fb176-293">hello är plugin-programmet tooinitialize sig själv.</span><span class="sxs-lookup"><span data-stu-id="fb176-293">hello plugin process is unable tooinitialize itself.</span></span> <span data-ttu-id="fb176-294">Det är särskilt toocreate hello loggaren objekt.</span><span class="sxs-lookup"><span data-stu-id="fb176-294">Specifically it is unable toocreate hello logger object.</span></span><p><p><span data-ttu-id="fb176-295">Lösning: Kontrollera att tillräckligt med systemresurser för är tillgängliga toolaunch nya processer.</span><span class="sxs-lookup"><span data-stu-id="fb176-295">Solution: Verify that sufficient system resources are available toolaunch new processes.</span></span> |
| <span data-ttu-id="fb176-296">-104</span><span class="sxs-lookup"><span data-stu-id="fb176-296">-104</span></span> |<span data-ttu-id="fb176-297">Det går inte tooload hello rcf fil från hello gästagenten.</span><span class="sxs-lookup"><span data-stu-id="fb176-297">Unable tooload hello rcf file provided by hello guest agent.</span></span><p><p><span data-ttu-id="fb176-298">Den här internt fel ska bara hända om hello gäst Agentstart plugin-program är felaktigt, manuellt startas på hello VM.</span><span class="sxs-lookup"><span data-stu-id="fb176-298">This internal error should only happen if hello guest agent plugin launcher is manually invoked, incorrectly, on hello VM.</span></span> |
| <span data-ttu-id="fb176-299">-105</span><span class="sxs-lookup"><span data-stu-id="fb176-299">-105</span></span> |<span data-ttu-id="fb176-300">Diagnostik-plugin-programmet hello går inte att öppna konfigurationsfilen för hello diagnostik.</span><span class="sxs-lookup"><span data-stu-id="fb176-300">hello Diagnostics plugin cannot open hello Diagnostics configuration file.</span></span><p><p><span data-ttu-id="fb176-301">Den här internt fel ska bara hända om hello diagnostik plugin-program är felaktigt, manuellt startas på hello VM.</span><span class="sxs-lookup"><span data-stu-id="fb176-301">This internal error should only happen if hello Diagnostics plugin is manually invoked, incorrectly, on hello VM.</span></span> |
| <span data-ttu-id="fb176-302">-106</span><span class="sxs-lookup"><span data-stu-id="fb176-302">-106</span></span> |<span data-ttu-id="fb176-303">Det går inte att läsa konfigurationsfilen för hello diagnostik.</span><span class="sxs-lookup"><span data-stu-id="fb176-303">Cannot read hello Diagnostics configuration file.</span></span><p><p><span data-ttu-id="fb176-304">Lösning: På grund av en konfigurationsfil som inte skickar schemavalidering.</span><span class="sxs-lookup"><span data-stu-id="fb176-304">Solution: Caused by a configuration file not passing schema validation.</span></span> <span data-ttu-id="fb176-305">Hello-lösning är därför tooprovide en konfigurationsfil som uppfyller hello schemat.</span><span class="sxs-lookup"><span data-stu-id="fb176-305">So hello solution is tooprovide a configuration file that complies with hello schema.</span></span> <span data-ttu-id="fb176-306">Se [hur toocheck konfiguration för diagnostik](#how-to-check-diagnostics-extension-configuration).</span><span class="sxs-lookup"><span data-stu-id="fb176-306">See [How toocheck Diagnostics Extension Configuration](#how-to-check-diagnostics-extension-configuration).</span></span> |
| <span data-ttu-id="fb176-307">-107</span><span class="sxs-lookup"><span data-stu-id="fb176-307">-107</span></span> |<span data-ttu-id="fb176-308">hello resurs directory pass toohello övervakningsagent är ogiltig.</span><span class="sxs-lookup"><span data-stu-id="fb176-308">hello resource directory pass toohello monitoring agent is invalid.</span></span><p><p><span data-ttu-id="fb176-309">Den här internt fel ska bara hända om hello övervakningsagent har startats manuellt, felaktigt, på hello VM.</span><span class="sxs-lookup"><span data-stu-id="fb176-309">This internal error should only happen if hello monitoring agent is manually invoked, incorrectly, on hello VM.</span></span></p> |
| <span data-ttu-id="fb176-310">-108</span><span class="sxs-lookup"><span data-stu-id="fb176-310">-108</span></span> |<span data-ttu-id="fb176-311">Tooconvert hello diagnostik konfigurationsfilen till hello monitoring agent-konfigurationsfilen.</span><span class="sxs-lookup"><span data-stu-id="fb176-311">Unable tooconvert hello Diagnostics configuration file into hello monitoring agent configuration file.</span></span><p><p><span data-ttu-id="fb176-312">Den här internt fel ska bara hända om diagnostik-plugin-programmet hello anropas manuellt med en ogiltig konfigurationsfil.</span><span class="sxs-lookup"><span data-stu-id="fb176-312">This internal error should only happen if hello Diagnostics plugin is manually invoked with an invalid configuration file.</span></span> |
| <span data-ttu-id="fb176-313">-110</span><span class="sxs-lookup"><span data-stu-id="fb176-313">-110</span></span> |<span data-ttu-id="fb176-314">Allmänna diagnostik konfigurationsfel.</span><span class="sxs-lookup"><span data-stu-id="fb176-314">General Diagnostics configuration error.</span></span><p><p><span data-ttu-id="fb176-315">Den här internt fel ska bara hända om diagnostik-plugin-programmet hello anropas manuellt med en ogiltig konfigurationsfil.</span><span class="sxs-lookup"><span data-stu-id="fb176-315">This internal error should only happen if hello Diagnostics plugin is manually invoked with an invalid configuration file.</span></span> |
| <span data-ttu-id="fb176-316">-111</span><span class="sxs-lookup"><span data-stu-id="fb176-316">-111</span></span> |<span data-ttu-id="fb176-317">Det går inte toostart hello-övervakningsagenten.</span><span class="sxs-lookup"><span data-stu-id="fb176-317">Unable toostart hello monitoring agent.</span></span><p><p><span data-ttu-id="fb176-318">Lösning: Kontrollera att det finns tillräckligt med systemresurser för.</span><span class="sxs-lookup"><span data-stu-id="fb176-318">Solution: Verify that sufficient system resources are available.</span></span> |
| <span data-ttu-id="fb176-319">-112</span><span class="sxs-lookup"><span data-stu-id="fb176-319">-112</span></span> |<span data-ttu-id="fb176-320">Allmänt fel</span><span class="sxs-lookup"><span data-stu-id="fb176-320">General error</span></span> |

### <a name="local-log-extraction"></a><span data-ttu-id="fb176-321">Lokal logg extrahering</span><span class="sxs-lookup"><span data-stu-id="fb176-321">Local Log Extraction</span></span>
<span data-ttu-id="fb176-322">Hej övervakningsagent samlar in loggar och artefakter som `.tsf` filer.</span><span class="sxs-lookup"><span data-stu-id="fb176-322">hello monitoring agent collects logs and artifacts as `.tsf` files.</span></span> <span data-ttu-id="fb176-323">`.tsf`filen kan inte läsas men du kan konvertera den till en `.csv` på följande sätt:</span><span class="sxs-lookup"><span data-stu-id="fb176-323">`.tsf` file is not readable but you can convert it into a `.csv` as follows:</span></span> 

```
<Azure diagnostics extension package>\Monitor\x64\table2csv.exe <relevantLogFile>.tsf
```
<span data-ttu-id="fb176-324">En ny fil kallas `<relevantLogFile>.csv` kommer att skapas i hello samma sökväg som hello motsvarande `.tsf` fil.</span><span class="sxs-lookup"><span data-stu-id="fb176-324">A new file called `<relevantLogFile>.csv` will be created in hello same path as hello corresponding `.tsf` file.</span></span>

<span data-ttu-id="fb176-325">**Obs**: behöver du bara toorun verktyget mot hello huvudsakliga tsf fil (t.ex. PerformanceCountersTable.tsf).</span><span class="sxs-lookup"><span data-stu-id="fb176-325">**NOTE**: You only need toorun this utility against hello main tsf file (e.g., PerformanceCountersTable.tsf).</span></span> <span data-ttu-id="fb176-326">hello tillhörande filer (t.ex. PerformanceCountersTables_\*\*001.tsf PerformanceCountersTables_\*\*002. tsf etc.) kommer automatiskt att bearbetas.</span><span class="sxs-lookup"><span data-stu-id="fb176-326">hello accompanying files (e.g., PerformanceCountersTables_\*\*001.tsf, PerformanceCountersTables_\*\*002.tsf etc.) will automatically be processed.</span></span>

### <a name="more-about-trace-logs-missing"></a><span data-ttu-id="fb176-327">Mer information om spårningsloggar saknas</span><span class="sxs-lookup"><span data-stu-id="fb176-327">More About Trace Logs Missing</span></span>

<span data-ttu-id="fb176-328">**Obs:** detta gäller främst toocloud services bara om du har konfigurerat hello DiagnosticsMonitorTraceListener på ett program som körs på IaaS-VM.</span><span class="sxs-lookup"><span data-stu-id="fb176-328">**Note:** This mostly applies toocloud services only unless you have configured hello DiagnosticsMonitorTraceListener on an application running on your IaaS VM.</span></span> 

- <span data-ttu-id="fb176-329">Se till att hello DiagnosticMonitorTraceListener konfigureras i hello web.config eller app.config.  Detta är konfigurerat som standard i molntjänstprojekt, men vissa kunder kommentera det out vilket leder till hello trace instruktioner toonot samlas in av diagnostik.</span><span class="sxs-lookup"><span data-stu-id="fb176-329">Make sure hello DiagnosticMonitorTraceListener is configured in hello web.config or app.config.  This is configured by default in cloud service projects, but some customers comment it out which will cause hello trace statements toonot be collected by diagnostics.</span></span> 
- <span data-ttu-id="fb176-330">Om inte komma skrivs från hello OnStart eller kör metoden kontrollerar du att hello DiagnosticMonitorTraceListener är i hello app.config.  Som standard är det i hello web.config, men som endast gäller toocode som körs i w3wp.exe; Du behöver det i app.config toocapture spår som körs i WaIISHost.exe.</span><span class="sxs-lookup"><span data-stu-id="fb176-330">If logs are not getting written from hello OnStart or Run method make sure hello DiagnosticMonitorTraceListener is in hello app.config.  By default it is in hello web.config, but that only applies toocode running within w3wp.exe; so you need it in app.config toocapture traces running in WaIISHost.exe.</span></span>
- <span data-ttu-id="fb176-331">Kontrollera att du använder Diagnostics.Trace.TraceXXX i stället för Diagnostics.Debug.WriteXXX.</span><span class="sxs-lookup"><span data-stu-id="fb176-331">Make sure you are using Diagnostics.Trace.TraceXXX instead of Diagnostics.Debug.WriteXXX.</span></span>  <span data-ttu-id="fb176-332">hello felsökningsuttryck kommer att tas bort från en slutversion.</span><span class="sxs-lookup"><span data-stu-id="fb176-332">hello Debug statements will be removed from a Release build.</span></span>
- <span data-ttu-id="fb176-333">Kontrollera att hello kompileras koden har faktiskt hello Diagnostics.Trace rader (Använd Reflector, ildasm eller ILSpy tooverify).</span><span class="sxs-lookup"><span data-stu-id="fb176-333">Make sure hello compiled code actually has hello Diagnostics.Trace lines (use Reflector, ildasm or ILSpy tooverify).</span></span>  <span data-ttu-id="fb176-334">Diagnostics.Trace kommandon tas bort från hello kompileras binära såvida du inte använder hello TRACE villkorlig kompilering symbolen.</span><span class="sxs-lookup"><span data-stu-id="fb176-334">Diagnostics.Trace commands are removed from hello compiled binary unless you use hello TRACE conditional compilation symbol.</span></span>  <span data-ttu-id="fb176-335">Om du använder msbuild toobuild hello projektet är ett vanligt problem toorun till.</span><span class="sxs-lookup"><span data-stu-id="fb176-335">If using msbuild toobuild hello project then this is a common problem toorun into.</span></span>

## <a name="known-issues-and-mitigations"></a><span data-ttu-id="fb176-336">Kända problem och åtgärder</span><span class="sxs-lookup"><span data-stu-id="fb176-336">Known Issues and Mitigations</span></span>
<span data-ttu-id="fb176-337">Här följer en lista över kända problem med kända åtgärder:</span><span class="sxs-lookup"><span data-stu-id="fb176-337">Here is a list of known issues with known mitigations:</span></span>

<span data-ttu-id="fb176-338">**1. .NET 4.5 beroende:**</span><span class="sxs-lookup"><span data-stu-id="fb176-338">**1. .NET 4.5 dependency:**</span></span>

<span data-ttu-id="fb176-339">BOMULLSTUSS har beroende runtime på framework .NET 4.5 eller senare.</span><span class="sxs-lookup"><span data-stu-id="fb176-339">WAD has a runtime dependency on .NET 4.5 framework or above.</span></span> <span data-ttu-id="fb176-340">För närvarande hello för att skriva detta, alla datorer som har etablerats för molntjänster, samt alla officiella azure grundläggande avbildningar av virtuella datorer .NET 4.5 eller senare installerat.</span><span class="sxs-lookup"><span data-stu-id="fb176-340">At hello time of writing this, all machines provisioned for cloud services as well as all official azure Virtual Machine base images have .NET 4.5 or above installed.</span></span> <span data-ttu-id="fb176-341">Det är dock fortfarande möjligt tooland i en situation där försök toorun BOMULLSTUSS på en dator som inte har .NET 4.5 eller senare.</span><span class="sxs-lookup"><span data-stu-id="fb176-341">It is still however possible tooland in a situation where you try toorun WAD on a machine which does not have .NET 4.5 or above.</span></span> <span data-ttu-id="fb176-342">Detta händer när du skapar din dator från en gamla avbildningen eller ögonblicksbild; eller aktiverar dina egna anpassade disk.</span><span class="sxs-lookup"><span data-stu-id="fb176-342">This happens when you create your machine off of an old image or snapshot; or bring your own custom disk.</span></span>

<span data-ttu-id="fb176-343">Detta visar vanligtvis som en slutkod **255** när du kör DiagnosticsPluginLauncher.exe.</span><span class="sxs-lookup"><span data-stu-id="fb176-343">This generally manifests as an exit code **255** when running DiagnosticsPluginLauncher.exe.</span></span> <span data-ttu-id="fb176-344">Felet inträffar på grund av toohello ohanterat undantag:</span><span class="sxs-lookup"><span data-stu-id="fb176-344">Failure happens due toohello unhandled exception:</span></span> 
```
System.IO.FileLoadException: Could not load file or assembly 'System.Threading.Tasks, Version=1.5.11.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' or one of its dependencies
```

<span data-ttu-id="fb176-345">**Lösning:** installera .NET 4.5 eller senare på datorn.</span><span class="sxs-lookup"><span data-stu-id="fb176-345">**Mitigation:** Install .NET 4.5 or higher on your machine.</span></span>

<span data-ttu-id="fb176-346">**2. Räknare för prestandadata i lagring men visas inte i portalen**</span><span class="sxs-lookup"><span data-stu-id="fb176-346">**2. Performance Counters data available in storage but not showing in portal**</span></span>

<span data-ttu-id="fb176-347">Virtuella datorer portaler visar vissa prestandaräknare som standard.</span><span class="sxs-lookup"><span data-stu-id="fb176-347">Virtual machines portal experience shows certain performance counters by default.</span></span> <span data-ttu-id="fb176-348">Om du inte kan se dem och du vet hello data komma genereras eftersom den är tillgänglig för lagring.</span><span class="sxs-lookup"><span data-stu-id="fb176-348">If you don't see them and you know hello data is getting generated because it is available in storage.</span></span> <span data-ttu-id="fb176-349">Kontrollera:</span><span class="sxs-lookup"><span data-stu-id="fb176-349">Check:</span></span>
- <span data-ttu-id="fb176-350">Om hello data i lagring har räknarnamn på engelska.</span><span class="sxs-lookup"><span data-stu-id="fb176-350">If hello data in storage has counter names in English.</span></span> <span data-ttu-id="fb176-351">Om hello räknarnamn inte är på engelska portal mått diagrammet är inte kan toorecognize den.</span><span class="sxs-lookup"><span data-stu-id="fb176-351">If hello counter names are not in English, portal metric chart will not be able toorecognize it.</span></span>
- <span data-ttu-id="fb176-352">Om du använder jokertecken (\*) i ditt namn på prestandaräknare, hello portal inte kan toocorrelate hello konfigurerad och samlas in räknaren.</span><span class="sxs-lookup"><span data-stu-id="fb176-352">If you are using wild cards (\*) in your performance counter names, hello portal will not be able toocorrelate hello configured and collected counter.</span></span>

<span data-ttu-id="fb176-353">**Minskning**: ändra hello datorns språk tooEnglish för Systemkonton.</span><span class="sxs-lookup"><span data-stu-id="fb176-353">**Mitigation**: Change hello machine's language tooEnglish for system accounts.</span></span> <span data-ttu-id="fb176-354">Region -> Kontrollpanelen -> administrativa inställningar -> -> Avmarkera ”Välkommen och systemkonton” så att hello anpassade språk inte är tillämpas toosystem konto.</span><span class="sxs-lookup"><span data-stu-id="fb176-354">Control Panel -> Region -> Administrative -> Copy Settings -> uncheck "Welcome screen and system accounts" so that hello custom language is not applied toosystem account.</span></span> <span data-ttu-id="fb176-355">Kontrollera också att du inte använda jokertecken om du vill använda portalen toobe din primära förbrukning upplevelse.</span><span class="sxs-lookup"><span data-stu-id="fb176-355">Also make sure you do not use wild cards if you want portal toobe your primary consumption experience.</span></span>
