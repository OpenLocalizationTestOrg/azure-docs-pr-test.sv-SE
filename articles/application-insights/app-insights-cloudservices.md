---
title: "aaaApplication insikter för Azure-molntjänster | Microsoft Docs"
description: "Övervaka webb- och arbetsroller effektivt med Application Insights"
services: application-insights
documentationcenter: 
keywords: WAD2AI, Azure Diagnostics
author: CFreemanwa
manager: carmonm
editor: alancameronwills
ms.assetid: 5c7a5b34-329e-42b7-9330-9dcbb9ff1f88
ms.service: application-insights
ms.devlang: na
ms.tgt_pltfrm: ibiza
ms.topic: get-started-article
ms.workload: tbd
ms.date: 05/05/2017
ms.author: bwren
ms.openlocfilehash: 6956ce423eea1e2cf387bd98250bae32d9501ed0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="application-insights-for-azure-cloud-services"></a><span data-ttu-id="3e2d0-104">Application Insights för Azure Cloud Services</span><span class="sxs-lookup"><span data-stu-id="3e2d0-104">Application Insights for Azure Cloud Services</span></span>
<span data-ttu-id="3e2d0-105">Du kan övervaka [Microsoft Azure Cloud-tjänstapparnas](https://azure.microsoft.com/services/cloud-services/) tillgänglighet, prestanda, fel och användning med [Application Insights][start] genom att kombinera data från Application Insights SDK:er med data från [Azure Diagnotics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) från Cloud Services.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-105">[Microsoft Azure Cloud service apps](https://azure.microsoft.com/services/cloud-services/) can be monitored by [Application Insights][start] for availability, performance, failures, and usage by combining data from Application Insights' SDKs with [Azure Diagnotics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) data from your Cloud Services.</span></span> <span data-ttu-id="3e2d0-106">Du kan göra välgrundade beslut om hello riktning hello design med hello feedback du använda om hello prestanda och effektivitet för din app i hello, i varje utvecklingslivscykeln för.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-106">With hello feedback you get about hello performance and effectiveness of your app in hello wild, you can make informed choices about hello direction of hello design in each development lifecycle.</span></span>

![Exempel](./media/app-insights-cloudservices/sample.png)

## <a name="before-you-start"></a><span data-ttu-id="3e2d0-108">Innan du börjar</span><span class="sxs-lookup"><span data-stu-id="3e2d0-108">Before you start</span></span>
<span data-ttu-id="3e2d0-109">Du behöver:</span><span class="sxs-lookup"><span data-stu-id="3e2d0-109">You'll need:</span></span>

* <span data-ttu-id="3e2d0-110">En prenumeration med [Microsoft Azure](http://azure.com).</span><span class="sxs-lookup"><span data-stu-id="3e2d0-110">A subscription with [Microsoft Azure](http://azure.com).</span></span> <span data-ttu-id="3e2d0-111">Logga in med ett Microsoft-konto som du kanske har för Windows, XBox Live eller andra Microsoft-molntjänster.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-111">Sign in with a Microsoft account, which you might have for Windows, XBox Live, or other Microsoft cloud services.</span></span> 
* <span data-ttu-id="3e2d0-112">Microsoft Azure Tools 2.9 eller senare</span><span class="sxs-lookup"><span data-stu-id="3e2d0-112">Microsoft Azure tools 2.9 or later</span></span>
* <span data-ttu-id="3e2d0-113">Developer Analytics Tools 7.10 eller senare</span><span class="sxs-lookup"><span data-stu-id="3e2d0-113">Developer Analytics Tools 7.10 or later</span></span>

## <a name="quick-start"></a><span data-ttu-id="3e2d0-114">Snabbstart</span><span class="sxs-lookup"><span data-stu-id="3e2d0-114">Quick start</span></span>
<span data-ttu-id="3e2d0-115">Hej snabbaste och enklaste sättet toomonitor Molntjänsten med Application Insights är toochoose när du publicerar service-tooAzure.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-115">hello quickest and easiest way toomonitor your cloud service with Application Insights is toochoose that option when you publish your service tooAzure.</span></span>

![Exempel](./media/app-insights-cloudservices/azure-cloud-application-insights.png)

<span data-ttu-id="3e2d0-117">Det här alternativet instrument appen vid körning, ger alla hello telemetri om du behöver toomonitor begäranden, undantag och beroenden i din webbroll, samt prestanda prestandaräknare från worker-roller.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-117">This option instruments your app at run time, giving you all hello telemetry you need toomonitor requests, exceptions, and dependencies in your web role, as well as performance counters from your worker roles.</span></span> <span data-ttu-id="3e2d0-118">Alla diagnostikspår som genererats av din app skickas även tooApplication insikter.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-118">Any diagnostic traces generated by your app are also sent tooApplication Insights.</span></span>

<span data-ttu-id="3e2d0-119">Om det är allt du behöver så är du klar!</span><span class="sxs-lookup"><span data-stu-id="3e2d0-119">If that's all you need, you're done!</span></span> <span data-ttu-id="3e2d0-120">Nästa steg är [att visa mätvärden från appen](app-insights-metrics-explorer.md), [att köra frågor mot dina data med Analytics](app-insights-analytics.md) och eventuellt att konfigurera en [instrumentpanel](app-insights-dashboards.md).</span><span class="sxs-lookup"><span data-stu-id="3e2d0-120">Next steps are [viewing metrics from your app](app-insights-metrics-explorer.md), [querying your data with Analytics](app-insights-analytics.md), and maybe setting up a [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="3e2d0-121">Du kanske vill att tooset [tillgänglighetstester](app-insights-monitor-web-app-availability.md) och [lägga till kod tooyour webbsidor](app-insights-javascript.md) toomonitor prestanda i hello webbläsare.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-121">You might want tooset up [availability tests](app-insights-monitor-web-app-availability.md) and [add code tooyour web pages](app-insights-javascript.md) toomonitor performance in hello browser.</span></span>

<span data-ttu-id="3e2d0-122">Men du har fler alternativ:</span><span class="sxs-lookup"><span data-stu-id="3e2d0-122">But you can also get more options:</span></span>

* <span data-ttu-id="3e2d0-123">Skicka data från olika komponenter och skapa konfigurationer tooseparate resurser.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-123">Send data from different components and build configurations tooseparate resources.</span></span>
* <span data-ttu-id="3e2d0-124">Lägg till anpassad telemetri från din app.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-124">Add custom telemetry from your app.</span></span>

<span data-ttu-id="3e2d0-125">Om dessa alternativ är av intresse tooyou Läs på.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-125">If those options are of interest tooyou, read on.</span></span>

## <a name="sample-application-instrumented-with-application-insights"></a><span data-ttu-id="3e2d0-126">Exempelprogram som instrumenteras med Application Insights</span><span class="sxs-lookup"><span data-stu-id="3e2d0-126">Sample Application instrumented with Application Insights</span></span>
<span data-ttu-id="3e2d0-127">Ta en titt på den här [exempelprogram](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) som Application Insights läggs tooa Molntjänsten med två arbetsroller i Azure.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-127">Take a look at this [sample application](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) in which Application Insights is added tooa cloud service with two worker roles hosted in Azure.</span></span> 

<span data-ttu-id="3e2d0-128">Följande får du reda på hur tooadapt egna Molntjänsten projektet i hello samma sätt.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-128">What follows tells you how tooadapt your own cloud service project in hello same way.</span></span>

## <a name="plan-resources-and-resource-groups"></a><span data-ttu-id="3e2d0-129">Planera resurser och resursgrupper</span><span class="sxs-lookup"><span data-stu-id="3e2d0-129">Plan resources and resource groups</span></span>
<span data-ttu-id="3e2d0-130">hello telemetri från din app lagras, analyseras och visas i en Azure-resurs av typen Application Insights.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-130">hello telemetry from your app is stored, analyzed and displayed in an Azure resource of type Application Insights.</span></span> 

<span data-ttu-id="3e2d0-131">Varje resurs tillhör tooa resursgruppen.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-131">Each resource belongs tooa resource group.</span></span> <span data-ttu-id="3e2d0-132">Resursgrupper används för att hantera kostnader för att bevilja åtkomst tooteam medlemmar och toodeploy uppdateras i en enda, samordnad transaktion.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-132">Resource groups are used for managing costs, for granting access tooteam members, and toodeploy updates in a single coordinated transaction.</span></span> <span data-ttu-id="3e2d0-133">Du kan till exempel [skriva ett skript toodeploy](../azure-resource-manager/resource-group-template-deploy.md) en Azure-Molntjänsten och dess Application Insights-övervakning resurser i en åtgärd.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-133">For example, you could [write a script toodeploy](../azure-resource-manager/resource-group-template-deploy.md) an Azure Cloud Service and its Application Insights monitoring resources all in one operation.</span></span>

### <a name="resources-for-components"></a><span data-ttu-id="3e2d0-134">Resurser för komponenter</span><span class="sxs-lookup"><span data-stu-id="3e2d0-134">Resources for components</span></span>
<span data-ttu-id="3e2d0-135">hello bör schemat är toocreate en separat resurs för varje komponent i ditt program – det vill säga varje webbroll och en arbetsroll.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-135">hello recommended scheme is toocreate a separate resource for each component of your application - that is, each web role and worker role.</span></span> <span data-ttu-id="3e2d0-136">Du kan analysera varje komponent separat, men du kan skapa en [instrumentpanelen](app-insights-dashboards.md) som sammanför hello viktiga diagram från alla hello-komponenter, så att du kan jämföra och övervaka dem tillsammans.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-136">You can analyze each component separately, but can create a [dashboard](app-insights-dashboards.md) that brings together hello key charts from all hello components, so that you can compare and monitor them together.</span></span> 

<span data-ttu-id="3e2d0-137">Ett alternativ är toosend hello telemetri från mer än en roll toohello samma resurs, men [lägger till en dimension egenskapen tooeach telemetri](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) som identifierar källroll.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-137">An alternative scheme is toosend hello telemetry from more than one role toohello same resource, but [add a dimension property tooeach telemetry item](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) that identifies its source role.</span></span> <span data-ttu-id="3e2d0-138">Mått diagram, till exempel undantag visas normalt en sammanställning av hello antal från hello olika roller i det här schemat, men du kan också segmentera hello diagram av hello Rollidentifierare vid behov.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-138">In this scheme, metric charts such as exceptions normally show an aggregation of hello counts from hello different roles, but you can segment hello chart by hello role identifier when required.</span></span> <span data-ttu-id="3e2d0-139">Du kan även filtrera sökningar av hello samma dimension.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-139">Searches can also be filtered by hello same dimension.</span></span> <span data-ttu-id="3e2d0-140">Detta alternativ gör det lite enklare tooview allt på hello samma tid, men även leda toosome förvirring mellan hello roller.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-140">This alternative makes it a bit easier tooview everything at hello same time, but could also lead toosome confusion between hello roles.</span></span>

<span data-ttu-id="3e2d0-141">Webbläsaren telemetri ingår ofta i hello samma resurs som dess webbroll på serversidan.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-141">Browser telemetry is usually included in hello same resource as its server-side web role.</span></span>

<span data-ttu-id="3e2d0-142">Placera hello Application Insights-resurser för hello olika komponenter i en resursgrupp.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-142">Put hello Application Insights resources for hello different components in one resource group.</span></span> <span data-ttu-id="3e2d0-143">Detta gör det enkelt toomanage dem tillsammans.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-143">This makes it easy toomanage them together.</span></span> 

### <a name="separating-development-test-and-production"></a><span data-ttu-id="3e2d0-144">Avgränsa utveckling, testning och produktion</span><span class="sxs-lookup"><span data-stu-id="3e2d0-144">Separating development, test, and production</span></span>
<span data-ttu-id="3e2d0-145">Om du utvecklar anpassade händelser för din nästa funktionen medan hello tidigare version är live, vill du toosend hello development telemetri tooa separat Application Insights-resurs.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-145">If you are developing custom events for your next feature while hello previous version is live, you want toosend hello development telemetry tooa separate Application Insights resource.</span></span> <span data-ttu-id="3e2d0-146">Annars blir hårda toofind din test telemetri bland alla hello trafik från hello liveplatsen.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-146">Otherwise it will be hard toofind your test telemetry among all hello traffic from hello live site.</span></span>

<span data-ttu-id="3e2d0-147">tooavoid den här situationen kan skapa separata resurser för varje versionskonfiguration eller 'stämpeln' (utveckling, test, produktion,...) på datorn.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-147">tooavoid this situation, create separate resources for each build configuration or 'stamp' (development, test, production, ...) of your system.</span></span> <span data-ttu-id="3e2d0-148">Placera hello resurser för varje build-konfiguration i en separat resursgrupp.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-148">Put hello resources for each build configuration in a separate resource group.</span></span> 

<span data-ttu-id="3e2d0-149">toosend hello telemetri toohello lämpliga resurser, du kan ställa in hello Application Insights SDK så att den hämtar en annan instrumentation nyckel beroende på hello build-konfiguration.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-149">toosend hello telemetry toohello appropriate resources, you can set up hello Application Insights SDK so that it picks up a different instrumentation key depending on hello build configuration.</span></span> 

## <a name="create-an-application-insights-resource-for-each-role"></a><span data-ttu-id="3e2d0-150">Skapa en Application Insights-resurs för varje roll</span><span class="sxs-lookup"><span data-stu-id="3e2d0-150">Create an Application Insights resource for each role</span></span>
<span data-ttu-id="3e2d0-151">Om du har valt toocreate en separat resurs för varje roll - och kanske en separat ange för varje build-konfiguration – så är det enklaste toocreate dem i hello Application Insights-portalen.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-151">If you've decided toocreate a separate resource for each role - and perhaps a separate set for each build configuration - then it's easiest toocreate them all in hello Application Insights portal.</span></span> <span data-ttu-id="3e2d0-152">(Om du skapar mycket resurser, kan du [automatisera hello](app-insights-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="3e2d0-152">(If you create resources a lot, you can [automate hello process](app-insights-powershell.md).</span></span>

1. <span data-ttu-id="3e2d0-153">I hello [Azure-portalen][portal], skapa en ny Application Insights-resurs.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-153">In hello [Azure portal][portal], create a new Application Insights resource.</span></span> <span data-ttu-id="3e2d0-154">Välj ASP.NET-app för programtyp.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-154">For application type, choose ASP.NET app.</span></span> 

    ![Klicka på Nytt, Application Insights](./media/app-insights-cloudservices/01-new.png)
2. <span data-ttu-id="3e2d0-156">Observera att varje resurs identifieras av en instrumenteringsnyckel.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-156">Note that each resource is identified by an Instrumentation Key.</span></span> <span data-ttu-id="3e2d0-157">Du kan behöva det senare om du vill toomanually konfigurera eller kontrollera hello konfigurationen av hello SDK.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-157">You might need this later if you want toomanually configure or verify hello configuration of hello SDK.</span></span>

    ![Klicka på egenskaper, markera hello nyckeln och tryck på ctrl + C](./media/app-insights-cloudservices/02-props.png) 

## <a name="set-up-azure-diagnostics-for-each-role"></a><span data-ttu-id="3e2d0-159">Konfigurera Azure Diagnostics för varje roll</span><span class="sxs-lookup"><span data-stu-id="3e2d0-159">Set up Azure Diagnostics for each role</span></span>
<span data-ttu-id="3e2d0-160">Ange det här alternativet toomonitor din app med Application Insights.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-160">Set this option toomonitor your app with Application Insights.</span></span> <span data-ttu-id="3e2d0-161">För webbroller tillhandahåller det här alternativet prestandaövervakning, aviseringar och diagnostik, samt användningsanalys.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-161">For web roles, this provides performance monitoring, alerts, and diagnostics, as well as usage analysis.</span></span> <span data-ttu-id="3e2d0-162">Du kan söka och övervaka Azure diagnostics, till exempel omstart, prestandaräknare och anrop tooSystem.Diagnostics.Trace för andra roller.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-162">For other roles, you can search and monitor Azure diagnostics such as restart, performance counters, and calls tooSystem.Diagnostics.Trace.</span></span> 

1. <span data-ttu-id="3e2d0-163">I Visual Studio Solution Explorer under &lt;YourCloudService&gt;, roller, öppna hello egenskaper för varje roll.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-163">In Visual Studio Solution Explorer, under &lt;YourCloudService&gt;, Roles, open hello properties of each role.</span></span>
2. <span data-ttu-id="3e2d0-164">I **Configuration**, ange **skicka diagnostik data tooApplication insikter** och välj hello lämplig Application Insights-resurs som du skapade tidigare.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-164">In **Configuration**, set **Send diagnostics data tooApplication Insights** and select hello appropriate Application Insights resource that you created earlier.</span></span>

<span data-ttu-id="3e2d0-165">Om du har valt toouse en separat Application Insights-resurs för varje build-konfiguration, väljer du först hello konfiguration.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-165">If you have decided toouse a separate Application Insights resource for each build configuration, select hello configuration first.</span></span>

![Konfigurera Application Insights i hello-egenskaperna för varje roll för Azure](./media/app-insights-cloudservices/configure-azure-diagnostics.png)

<span data-ttu-id="3e2d0-167">Detta påverkar hello för att lägga till Application Insights instrumentation nycklarna i hello filer med namnet `ServiceConfiguration.*.cscfg`.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-167">This has hello effect of inserting your Application Insights instrumentation keys into hello files named `ServiceConfiguration.*.cscfg`.</span></span> <span data-ttu-id="3e2d0-168">([Exempelkod](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span><span class="sxs-lookup"><span data-stu-id="3e2d0-168">([Sample code](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span></span>

<span data-ttu-id="3e2d0-169">Om du vill toovary hello andelen diagnostisk information skickas tooApplication insikter kan du göra det [genom att redigera hello `.cscfg` filer direkt](app-insights-azure-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="3e2d0-169">If you want toovary hello level of diagnostic information sent tooApplication Insights, you can do so [by editing hello `.cscfg` files directly](app-insights-azure-diagnostics.md).</span></span>

## <span data-ttu-id="3e2d0-170"><a name="sdk"></a>Installera hello SDK i varje projekt</span><span class="sxs-lookup"><span data-stu-id="3e2d0-170"><a name="sdk"></a>Install hello SDK in each project</span></span>
<span data-ttu-id="3e2d0-171">Det här alternativet lägger till hello möjlighet tooadd anpassad telemetri tooany roll, för en närmare analys av hur programmet används och fungerar.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-171">This option adds hello ability tooadd custom business telemetry tooany role, for a closer analysis of how your application is used and performs.</span></span>

<span data-ttu-id="3e2d0-172">Konfigurera hello Application Insights SDK för varje moln app-projekt i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-172">In Visual Studio, configure hello Application Insights SDK for each cloud app project.</span></span>

1. <span data-ttu-id="3e2d0-173">**Web roller**: Högerklicka på hello-projektet och välj **konfigurera Application Insights** eller **Lägg till > Application Insights telemetri**.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-173">**Web roles**: Right-click hello project and choose **Configure Application Insights** or **Add > Application Insights telemetry**.</span></span>

2. <span data-ttu-id="3e2d0-174">**Arbetsroller**:</span><span class="sxs-lookup"><span data-stu-id="3e2d0-174">**Worker roles**:</span></span> 
 * <span data-ttu-id="3e2d0-175">Högerklicka på hello-projektet och välj **hantera Nuget-paket**.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-175">Right-click hello project and select **Manage Nuget Packages**.</span></span>
 * <span data-ttu-id="3e2d0-176">Lägg till [Application Insights för Windows Server](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span><span class="sxs-lookup"><span data-stu-id="3e2d0-176">Add [Application Insights for Windows Servers](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span></span>

    ![Sök efter ”Application Insights”](./media/app-insights-cloudservices/04-ai-nuget.png)

3. <span data-ttu-id="3e2d0-178">Konfigurera hello SDK toosend data toohello Application Insights-resurs.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-178">Configure hello SDK toosend data toohello Application Insights resource.</span></span>

    <span data-ttu-id="3e2d0-179">Ange hello instrumentation nyckel i en lämplig Start-funktion från hello Konfigurationsinställningen i hello .cscfg-filen:</span><span class="sxs-lookup"><span data-stu-id="3e2d0-179">In a suitable startup function, set hello instrumentation key from hello configuration setting in hello .cscfg file:</span></span>
 
    ```C#
   
     TelemetryConfiguration.Active.InstrumentationKey = RoleEnvironment.GetConfigurationSettingValue("APPINSIGHTS_INSTRUMENTATIONKEY");
    ```
   
    <span data-ttu-id="3e2d0-180">Gör detta för varje roll i programmet.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-180">Do this for each role in your application.</span></span> <span data-ttu-id="3e2d0-181">Visa hello exempel:</span><span class="sxs-lookup"><span data-stu-id="3e2d0-181">See hello examples:</span></span>
   
   * [<span data-ttu-id="3e2d0-182">Webbroll</span><span class="sxs-lookup"><span data-stu-id="3e2d0-182">Web role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Global.asax.cs#L27)
   * [<span data-ttu-id="3e2d0-183">Arbetsroll</span><span class="sxs-lookup"><span data-stu-id="3e2d0-183">Worker role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L232)
   * [<span data-ttu-id="3e2d0-184">För webbsidor</span><span class="sxs-lookup"><span data-stu-id="3e2d0-184">For web pages</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Views/Shared/_Layout.cshtml#L13) 
4. <span data-ttu-id="3e2d0-185">Ange hello ApplicationInsights.config-filen toobe kopieras alltid toohello målkatalogen.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-185">Set hello ApplicationInsights.config file toobe copied always toohello output directory.</span></span> 
   
    <span data-ttu-id="3e2d0-186">(I hello .config-fil visas meddelandena ber du tooplace hello instrumentation nyckeln det.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-186">(In hello .config file, you'll see messages asking you tooplace hello instrumentation key there.</span></span> <span data-ttu-id="3e2d0-187">Men för molnprogram är det bättre tooset från hello .cscfg-filen.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-187">However, for cloud applications it's better tooset it from hello .cscfg file.</span></span> <span data-ttu-id="3e2d0-188">Detta säkerställer hello rollen identifieras korrekt i hello-portalen.)</span><span class="sxs-lookup"><span data-stu-id="3e2d0-188">This ensures that hello role is correctly identified in hello portal.)</span></span>

#### <a name="run-and-publish-hello-app"></a><span data-ttu-id="3e2d0-189">Kör och publicera hello app</span><span class="sxs-lookup"><span data-stu-id="3e2d0-189">Run and publish hello app</span></span>
<span data-ttu-id="3e2d0-190">Kör appen och logga in i Azure.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-190">Run your app, and sign into Azure.</span></span> <span data-ttu-id="3e2d0-191">Öppna hello Application Insights-resurser som du har skapat och ser du enskilda datapunkter som visas i [Sök](app-insights-diagnostic-search.md), och aggregerade data i [mått Explorer](app-insights-metrics-explorer.md).</span><span class="sxs-lookup"><span data-stu-id="3e2d0-191">Open hello Application Insights resources you created, and you'll see individual data points appearing in [Search](app-insights-diagnostic-search.md), and aggregated data in [Metric Explorer](app-insights-metrics-explorer.md).</span></span> 

<span data-ttu-id="3e2d0-192">Lägg till mer telemetri - finns hello avsnitten nedan - och sedan publicera din app tooget live diagnostik- och användningsdata feedback.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-192">Add more telemetry - see hello sections below - and then publish your app tooget live diagnostic and usage feedback.</span></span> 

#### <a name="no-data"></a><span data-ttu-id="3e2d0-193">Ser du inga data?</span><span class="sxs-lookup"><span data-stu-id="3e2d0-193">No data?</span></span>
* <span data-ttu-id="3e2d0-194">Öppna hello [Sök] [ diagnostic] panelen toosee enskilda händelser.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-194">Open hello [Search][diagnostic] tile, toosee individual events.</span></span>
* <span data-ttu-id="3e2d0-195">Använda programmet hello, öppna olika sidor så att den genererar vissa telemetri.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-195">Use hello application, opening different pages so that it generates some telemetry.</span></span>
* <span data-ttu-id="3e2d0-196">Vänta några sekunder och klicka på Uppdatera.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-196">Wait a few seconds and click Refresh.</span></span>
* <span data-ttu-id="3e2d0-197">Mer information finns i [Felsökning][qna].</span><span class="sxs-lookup"><span data-stu-id="3e2d0-197">See [Troubleshooting][qna].</span></span>

## <a name="view-azure-diagnostic-events"></a><span data-ttu-id="3e2d0-198">Visa Azure Diagnostics-händelser</span><span class="sxs-lookup"><span data-stu-id="3e2d0-198">View Azure Diagnostic events</span></span>
<span data-ttu-id="3e2d0-199">Där toofind hello [Azure Diagnostics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) information i Application Insights:</span><span class="sxs-lookup"><span data-stu-id="3e2d0-199">Where toofind hello [Azure Diagnostics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) information in Application Insights:</span></span>

* <span data-ttu-id="3e2d0-200">Prestandaräknare visas som anpassade mått.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-200">Performance counters are displayed as custom metrics.</span></span> 
* <span data-ttu-id="3e2d0-201">Windows-händelseloggar visas som spårningar och anpassade händelser.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-201">Windows event logs are shown as traces and custom events.</span></span>
* <span data-ttu-id="3e2d0-202">Programloggar, ETW-loggar och diagnostikinfrastrukturloggar visas som spårningar.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-202">Application logs, ETW logs, and any diagnostics infrastructure logs appear as traces.</span></span>

<span data-ttu-id="3e2d0-203">toosee prestandaräknare och antal händelser, öppna [Metrics Explorer](app-insights-metrics-explorer.md) och Lägg till ett nytt diagram:</span><span class="sxs-lookup"><span data-stu-id="3e2d0-203">toosee performance counters and counts of events, open [Metrics Explorer](app-insights-metrics-explorer.md) and add a new chart:</span></span>

![Azure-diagnostikdata](./media/app-insights-cloudservices/23-wad.png)

<span data-ttu-id="3e2d0-205">Använd [Sök](app-insights-diagnostic-search.md) eller en [Analytics query](app-insights-analytics-tour.md) toosearch över hello olika spårningsloggar som skickas av Azure-diagnostik.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-205">Use [Search](app-insights-diagnostic-search.md) or an [Analytics query](app-insights-analytics-tour.md) toosearch across hello various trace logs sent by Azure Diagnostics.</span></span> <span data-ttu-id="3e2d0-206">Anta att du har ett ohanterat undantag som orsakade en roll toocrash och återvinning.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-206">For example, suppose you have an unhandled exception which caused a Role toocrash and recycle.</span></span> <span data-ttu-id="3e2d0-207">Denna information kan visas i hello kanal i Windows händelselogg.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-207">That information would show up in hello Application channel of Windows Event Log.</span></span> <span data-ttu-id="3e2d0-208">Du kan använda Sök toolook på hello händelseloggen fel och hämta hello fullständig stack-spårning för hello undantag.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-208">You can use Search toolook at hello Windows Event Log error and get hello full stack trace for hello exception.</span></span> <span data-ttu-id="3e2d0-209">Som hjälper dig att hitta hello grundorsaken till problemet hello.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-209">That will help you find hello root cause of hello issue.</span></span>

![Söka i Azure Diagnostics](./media/app-insights-cloudservices/25-wad.png)

## <a name="more-telemetry"></a><span data-ttu-id="3e2d0-211">Mer telemetri</span><span class="sxs-lookup"><span data-stu-id="3e2d0-211">More telemetry</span></span>
<span data-ttu-id="3e2d0-212">Hej avsnitt nedan visar hur tooget ytterligare telemetri från olika aspekter av ditt program.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-212">hello sections below show how tooget additional telemetry from different aspects of your application.</span></span>

## <a name="track-requests-from-worker-roles"></a><span data-ttu-id="3e2d0-213">Spåra begäranden från arbetsroller</span><span class="sxs-lookup"><span data-stu-id="3e2d0-213">Track Requests from Worker roles</span></span>
<span data-ttu-id="3e2d0-214">I webbroller hello begäranden modulen samlar automatiskt in om HTTP-förfrågningar.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-214">In web roles, hello requests module automatically collects data about HTTP requests.</span></span> <span data-ttu-id="3e2d0-215">Se hello [exempel MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) exempel på hur du kan åsidosätta hello standardbeteendet för samlingen.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-215">See hello [sample MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) for examples of how you can override hello default collection behavior.</span></span> 

<span data-ttu-id="3e2d0-216">Du kan avbilda hello prestanda för anrop tooworker roller genom att följa upp dem i hello samma sätt som HTTP-begäranden.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-216">You can capture hello performance of calls tooworker roles by tracking them in hello same way as HTTP requests.</span></span> <span data-ttu-id="3e2d0-217">I Application Insights mäter hello telemetri Begärandetypen en arbetsenhet namngivna serversidan som kan vara tidsgränsen och kan oberoende lyckas eller misslyckas.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-217">In Application Insights, hello Request telemetry type measures a unit of named server-side work that can be timed and can independently succeed or fail.</span></span> <span data-ttu-id="3e2d0-218">När HTTP-begäranden som avbildas automatiskt av hello SDK, kan du infoga en egen kod tootrack begäranden tooworker roller.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-218">While HTTP requests are captured automatically by hello SDK, you can insert your own code tootrack requests tooworker roles.</span></span>

<span data-ttu-id="3e2d0-219">Visa hello två exempel worker roller instrumenterade tooreport begäranden: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) och [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span><span class="sxs-lookup"><span data-stu-id="3e2d0-219">See hello two sample worker roles instrumented tooreport requests: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) and [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span></span>

## <a name="exceptions"></a><span data-ttu-id="3e2d0-220">Undantag</span><span class="sxs-lookup"><span data-stu-id="3e2d0-220">Exceptions</span></span>
<span data-ttu-id="3e2d0-221">Information om hur du kan samla in ohanterade undantag från olika webbprogramtyper finns i [Monitoring Exceptions in Application Insights](app-insights-asp-net-exceptions.md) (Övervaka undantag i Application Insights).</span><span class="sxs-lookup"><span data-stu-id="3e2d0-221">See [Monitoring Exceptions in Application Insights](app-insights-asp-net-exceptions.md) for information on how you can collect unhandled exceptions from different web application types.</span></span>

<span data-ttu-id="3e2d0-222">hello exempel webbroll har MVC5 och Web API 2 styrenheter.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-222">hello sample web role has MVC5 and Web API 2 controllers.</span></span> <span data-ttu-id="3e2d0-223">hello samlas ohanterade undantag från hello två in med följande hanterare hello:</span><span class="sxs-lookup"><span data-stu-id="3e2d0-223">hello unhandled exceptions from hello two are captured with hello following handlers:</span></span>

* <span data-ttu-id="3e2d0-224">[AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs)-konfigurationen finns [här](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) för MVC5-styrenheter</span><span class="sxs-lookup"><span data-stu-id="3e2d0-224">[AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) for MVC5 controllers</span></span>
* <span data-ttu-id="3e2d0-225">[AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs)-konfigurationen finns [här](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) för Web API 2-styrenheter</span><span class="sxs-lookup"><span data-stu-id="3e2d0-225">[AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) for Web API 2 controllers</span></span>

<span data-ttu-id="3e2d0-226">För arbetsroller finns det två sätt tootrack undantag:</span><span class="sxs-lookup"><span data-stu-id="3e2d0-226">For worker roles, there are two ways tootrack exceptions:</span></span>

* <span data-ttu-id="3e2d0-227">TrackException(ex)</span><span class="sxs-lookup"><span data-stu-id="3e2d0-227">TrackException(ex)</span></span>
* <span data-ttu-id="3e2d0-228">Om du har lagt till hello Application Insights trace listener NuGet-paketet, kan du använda **System.Diagnostics.Trace** toolog undantag.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-228">If you have added hello Application Insights trace listener NuGet package, you can use **System.Diagnostics.Trace** toolog exceptions.</span></span> [<span data-ttu-id="3e2d0-229">Kodexempel.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-229">Code example.</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L107)

## <a name="performance-counters"></a><span data-ttu-id="3e2d0-230">Prestandaräknare</span><span class="sxs-lookup"><span data-stu-id="3e2d0-230">Performance Counters</span></span>
<span data-ttu-id="3e2d0-231">hello följande räknare samlas in som standard:</span><span class="sxs-lookup"><span data-stu-id="3e2d0-231">hello following counters are collected by default:</span></span>

    * <span data-ttu-id="3e2d0-232">\Process(??APP_WIN32_PROC??)\% Processortid</span><span class="sxs-lookup"><span data-stu-id="3e2d0-232">\Process(??APP_WIN32_PROC??)\% Processor Time</span></span>
    * <span data-ttu-id="3e2d0-233">\Memory\Tillgängliga byte</span><span class="sxs-lookup"><span data-stu-id="3e2d0-233">\Memory\Available Bytes</span></span>
    * <span data-ttu-id="3e2d0-234">\.NET CLR-undantag(??APP_CLR_PROC??)\# undantag som utlöses/sekund</span><span class="sxs-lookup"><span data-stu-id="3e2d0-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span></span>
    * <span data-ttu-id="3e2d0-235">\Process(??APP_WIN32_PROC??)\Privata byte</span><span class="sxs-lookup"><span data-stu-id="3e2d0-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span></span>
    * <span data-ttu-id="3e2d0-236">\Process(??APP_WIN32_PROC??)\Byte i I/O-data per sekund</span><span class="sxs-lookup"><span data-stu-id="3e2d0-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span></span>
    * <span data-ttu-id="3e2d0-237">\Processor(_Total)\% processortid</span><span class="sxs-lookup"><span data-stu-id="3e2d0-237">\Processor(_Total)\% Processor Time</span></span>

<span data-ttu-id="3e2d0-238">För webbroller samlas även dessa räknare in:</span><span class="sxs-lookup"><span data-stu-id="3e2d0-238">For web roles, these counters are also collected:</span></span>

    * <span data-ttu-id="3e2d0-239">\ASP.NET-program(??APP_W3SVC_PROC??)\Begäranden/sek</span><span class="sxs-lookup"><span data-stu-id="3e2d0-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span></span>
    * <span data-ttu-id="3e2d0-240">\ASP.NET-program(??APP_W3SVC_PROC??)\Körningstid för begäran</span><span class="sxs-lookup"><span data-stu-id="3e2d0-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span></span>
    * <span data-ttu-id="3e2d0-241">\ASP.NET-program(??APP_W3SVC_PROC??)\Begäranden i tillämpningskö</span><span class="sxs-lookup"><span data-stu-id="3e2d0-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span></span>

<span data-ttu-id="3e2d0-242">Du kan ange fler anpassade prestandaräknare eller andra Windows-prestandaräknare genom att redigera ApplicationInsights.config [som i det här exemplet](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span><span class="sxs-lookup"><span data-stu-id="3e2d0-242">You can specify additional custom or other windows performance counters by editing ApplicationInsights.config [as in this example](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span></span>

  ![Prestandaräknare](./media/app-insights-cloudservices/OLfMo2f.png)

## <a name="correlated-telemetry-for-worker-roles"></a><span data-ttu-id="3e2d0-244">Korrelerad telemetri för arbetsroller</span><span class="sxs-lookup"><span data-stu-id="3e2d0-244">Correlated Telemetry for Worker Roles</span></span>
<span data-ttu-id="3e2d0-245">Det är en diagnostiska innehållsrik när du kan se vilka lampa tooa misslyckades eller hög fördröjning begäran.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-245">It is a rich diagnostic experience, when you can see what led tooa failed or high latency request.</span></span> <span data-ttu-id="3e2d0-246">Med web-roller hello SDK ställer automatiskt in sambandet mellan relaterade telemetri.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-246">With web roles, hello SDK automatically sets up correlation between related telemetry.</span></span> <span data-ttu-id="3e2d0-247">För arbetsroller, kan du använda en anpassad telemetri initieraren tooset en gemensam Operation.Id kontextattribut för alla hello telemetri tooachieve den.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-247">For worker roles, you can use a custom telemetry initializer tooset a common Operation.Id context attribute for all hello telemetry tooachieve this.</span></span> <span data-ttu-id="3e2d0-248">Detta kan du toosee om hello latens/felet orsakades på grund av tooa beroende eller din kod i korthet!</span><span class="sxs-lookup"><span data-stu-id="3e2d0-248">This allows you toosee whether hello latency/failure issue was caused due tooa dependency or your code, at a glance!</span></span> 

<span data-ttu-id="3e2d0-249">Så här gör du:</span><span class="sxs-lookup"><span data-stu-id="3e2d0-249">Here's how:</span></span>

* <span data-ttu-id="3e2d0-250">Ange hello korrelation Id till en CallContext enligt [här](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span><span class="sxs-lookup"><span data-stu-id="3e2d0-250">Set hello correlation Id into a CallContext as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span></span> <span data-ttu-id="3e2d0-251">I detta fall använder vi hello ID för begäran som hello Korrelations-id</span><span class="sxs-lookup"><span data-stu-id="3e2d0-251">In this case, we are using hello Request ID as hello correlation id</span></span>
* <span data-ttu-id="3e2d0-252">Lägg till en anpassad TelemetryInitializer implementering tooset hello Operation.Id toohello correlationId som ovan.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-252">Add a custom TelemetryInitializer implementation, tooset hello Operation.Id toohello correlationId set above.</span></span> <span data-ttu-id="3e2d0-253">Ett exempel finns här: [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span><span class="sxs-lookup"><span data-stu-id="3e2d0-253">There's an example here: [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span></span>
* <span data-ttu-id="3e2d0-254">Lägg till hello telemetri om anpassade initieraren.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-254">Add hello custom telemetry initializer.</span></span> <span data-ttu-id="3e2d0-255">Du kan göra det i hello ApplicationInsights.config-filen eller i koden som visas [här](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span><span class="sxs-lookup"><span data-stu-id="3e2d0-255">You could do that in hello ApplicationInsights.config file, or in code as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span></span>

<span data-ttu-id="3e2d0-256">Klart!</span><span class="sxs-lookup"><span data-stu-id="3e2d0-256">That's it!</span></span> <span data-ttu-id="3e2d0-257">hello-portaler har redan kabelanslutet in toohelp du se alla associerade telemetri i korthet:</span><span class="sxs-lookup"><span data-stu-id="3e2d0-257">hello portal experience is already wired up toohelp you see all associated telemetry at a glance:</span></span>

![Korrelerad telemetri](./media/app-insights-cloudservices/bHxuUhd.png)

## <a name="client-telemetry"></a><span data-ttu-id="3e2d0-259">Klienttelemetri</span><span class="sxs-lookup"><span data-stu-id="3e2d0-259">Client telemetry</span></span>
<span data-ttu-id="3e2d0-260">[Lägg till hello JavaScript SDK tooyour webbsidor] [ client] tooget webbläsarbaserad telemetri som sidan Visa antal, sidinläsningstider, skript undantag och toolet som du kan skriva anpassad telemetri i page-skript.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-260">[Add hello JavaScript SDK tooyour web pages][client] tooget browser-based telemetry such as page view counts, page load times, script exceptions, and toolet you write custom telemetry in your page scripts.</span></span>

## <a name="availability-tests"></a><span data-ttu-id="3e2d0-261">Tillgänglighetstester</span><span class="sxs-lookup"><span data-stu-id="3e2d0-261">Availability tests</span></span>
<span data-ttu-id="3e2d0-262">[Ställ in webbtester] [ availability] toomake säker tillämpningsprogrammet är live och svarstid.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-262">[Set up web tests][availability] toomake sure your application stays live and responsive.</span></span>

## <a name="display-everything-together"></a><span data-ttu-id="3e2d0-263">Visa allt tillsammans</span><span class="sxs-lookup"><span data-stu-id="3e2d0-263">Display everything together</span></span>
<span data-ttu-id="3e2d0-264">tooget en övergripande bild av systemet som du kan ta hello key som övervakning diagram tillsammans på en [instrumentpanelen](app-insights-dashboards.md).</span><span class="sxs-lookup"><span data-stu-id="3e2d0-264">tooget an overall picture of your system, you can bring hello key monitoring charts together on one [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="3e2d0-265">Du kan fästa hello begäran t.ex fel räknar för varje roll.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-265">For example, you could pin hello request and failure counts of each role.</span></span> 

<span data-ttu-id="3e2d0-266">Om systemet använder andra Azure-tjänster, till exempel Stream Analytics, kan du även lägga till övervakningsdiagrammen för dem.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-266">If your system uses other Azure services such as Stream Analytics, include their monitoring charts as well.</span></span> 

<span data-ttu-id="3e2d0-267">Om du har en mobil klientapp infoga vissa kod toosend anpassade händelser om viktiga åtgärder och skapa en [HockeyApp bridge](app-insights-hockeyapp-bridge-app.md).</span><span class="sxs-lookup"><span data-stu-id="3e2d0-267">If you have a client mobile app, insert some code toosend custom events on key user operations, and create a [HockeyApp bridge](app-insights-hockeyapp-bridge-app.md).</span></span> <span data-ttu-id="3e2d0-268">Skapa frågor i [Analytics](app-insights-analytics.md) toodisplay hello händelse antal och fästa dem toohello instrumentpanelen.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-268">Create queries in [Analytics](app-insights-analytics.md) toodisplay hello event counts, and pin them toohello dashboard.</span></span>

## <a name="example"></a><span data-ttu-id="3e2d0-269">Exempel</span><span class="sxs-lookup"><span data-stu-id="3e2d0-269">Example</span></span>
<span data-ttu-id="3e2d0-270">[hello exempel](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) övervakar en tjänst som har en webbroll och två arbetsroller.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-270">[hello example](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) monitors a service that has a web role and two worker roles.</span></span>

## <a name="exception-method-not-found-on-running-in-azure-cloud-services"></a><span data-ttu-id="3e2d0-271">Undantaget ”metoden hittades inte” vid körning i Azure Cloud Services</span><span class="sxs-lookup"><span data-stu-id="3e2d0-271">Exception "method not found" on running in Azure Cloud Services</span></span>
<span data-ttu-id="3e2d0-272">Utvecklade du för .NET 4.6?</span><span class="sxs-lookup"><span data-stu-id="3e2d0-272">Did you build for .NET 4.6?</span></span> <span data-ttu-id="3e2d0-273">4.6 stöds inte automatiskt i Azure Cloud Services-roller.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-273">4.6 is not automatically supported in Azure Cloud Services roles.</span></span> <span data-ttu-id="3e2d0-274">[Installera 4.6 för varje roll](../cloud-services/cloud-services-dotnet-install-dotnet.md) innan du kör din app.</span><span class="sxs-lookup"><span data-stu-id="3e2d0-274">[Install 4.6 on each role](../cloud-services/cloud-services-dotnet-install-dotnet.md) before running your app.</span></span>

## <a name="video"></a><span data-ttu-id="3e2d0-275">Video</span><span class="sxs-lookup"><span data-stu-id="3e2d0-275">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/100/player]

## <a name="next-steps"></a><span data-ttu-id="3e2d0-276">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="3e2d0-276">Next steps</span></span>
* [<span data-ttu-id="3e2d0-277">Konfigurera skickar Azure-diagnostik tooApplication insikter</span><span class="sxs-lookup"><span data-stu-id="3e2d0-277">Configure sending Azure Diagnostics tooApplication Insights</span></span>](app-insights-azure-diagnostics.md)
* [<span data-ttu-id="3e2d0-278">Automatisera genereringen av Application Insights-resurser</span><span class="sxs-lookup"><span data-stu-id="3e2d0-278">Automate creation of Application Insights resources</span></span>](app-insights-powershell.md)
* [<span data-ttu-id="3e2d0-279">Automatisera Azure-diagnostik</span><span class="sxs-lookup"><span data-stu-id="3e2d0-279">Automate Azure diagnostics</span></span>](app-insights-powershell-azure-diagnostics.md)
* [<span data-ttu-id="3e2d0-280">Azure Functions</span><span class="sxs-lookup"><span data-stu-id="3e2d0-280">Azure Functions</span></span>](https://github.com/christopheranderson/azure-functions-app-insights-sample)

[api]: app-insights-api-custom-events-metrics.md
[availability]: app-insights-monitor-web-app-availability.md
[azure]: app-insights-azure.md
[client]: app-insights-javascript.md
[diagnostic]: app-insights-diagnostic-search.md
[netlogs]: app-insights-asp-net-trace-logs.md
[portal]: http://portal.azure.com/
[qna]: app-insights-troubleshoot-faq.md
[redfield]: app-insights-monitor-performance-live-website-now.md
[start]: app-insights-overview.md 
