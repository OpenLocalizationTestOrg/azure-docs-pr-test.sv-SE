---
title: "aaaIntegrate en app med ett virtuellt Azure-nätverk"
description: "Visar hur tooconnect en app i Azure App Service tooa ny eller befintlig Azure-nätverk"
services: app-service
documentationcenter: 
author: ccompy
manager: erikre
editor: cephalin
ms.assetid: 90bc6ec6-133d-4d87-a867-fcf77da75f5a
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/23/2017
ms.author: ccompy
ms.openlocfilehash: a93c504481400245b02220b541a008a7c874d10a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="integrate-your-app-with-an-azure-virtual-network"></a><span data-ttu-id="6eaa5-103">Integrera din app med Azure-nätverk</span><span class="sxs-lookup"><span data-stu-id="6eaa5-103">Integrate your app with an Azure Virtual Network</span></span>
<span data-ttu-id="6eaa5-104">Det här dokumentet beskriver hello Azure App Service virtuellt nätverk integrationsfunktionen och visar hur tooset den dig med appar i [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="6eaa5-104">This document describes hello Azure App Service virtual network integration feature and shows how tooset it up with apps in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span> <span data-ttu-id="6eaa5-105">Om du inte känner till virtuella Azure-nätverk (Vnet) är en funktion som gör tooplace många av dina Azure-resurser i ett routeable-internet-nätverk som du styr åtkomst till.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-105">If you are unfamiliar with Azure Virtual Networks (VNets), this is a capability that allows you tooplace many of your Azure resources in a non-internet routeable network that you control access to.</span></span> <span data-ttu-id="6eaa5-106">Dessa nätverk kan sedan vara anslutna tooyour lokalt nätverk med hjälp av en mängd olika tekniker för VPN.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-106">These networks can then be connected tooyour on-premises networks using a variety of VPN technologies.</span></span> <span data-ttu-id="6eaa5-107">toolearn mer om virtuella Azure-nätverk, börja med hello information här: [Azure översikt över virtuella nätverk][VNETOverview].</span><span class="sxs-lookup"><span data-stu-id="6eaa5-107">toolearn more about Azure Virtual Networks, start with hello information here: [Azure Virtual Network Overview][VNETOverview].</span></span> 

<span data-ttu-id="6eaa5-108">hello Azure App Service har två typer.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-108">hello Azure App Service has two forms.</span></span> 

1. <span data-ttu-id="6eaa5-109">hello flera innehavare system som stöder hello fullständig uppsättning prissättning</span><span class="sxs-lookup"><span data-stu-id="6eaa5-109">hello multi-tenant systems that support hello full range of pricing plans</span></span>
2. <span data-ttu-id="6eaa5-110">hello App Service miljö (ASE) premium-funktioner som distribuerar i ditt VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-110">hello App Service Environment (ASE) premium feature, which deploys into your VNet.</span></span> 

<span data-ttu-id="6eaa5-111">Det här dokumentet går igenom VNet-integrering och inte Apptjänstmiljö.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-111">This document goes through VNet Integration and not App Service Environment.</span></span> <span data-ttu-id="6eaa5-112">Om du vill toolearn mer om hello ASE funktionen måste börja med hello information här: [Apptjänstmiljö introduktion][ASEintro].</span><span class="sxs-lookup"><span data-stu-id="6eaa5-112">If you want toolearn more about hello ASE feature, start with hello information here: [App Service Environment introduction][ASEintro].</span></span>

<span data-ttu-id="6eaa5-113">VNet-integrering ger din web app åtkomst tooresources i ditt virtuella nätverk, men ger inte privat åtkomst tooyour webbprogrammet från hello virtuella nätverket.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-113">VNet Integration gives your web app access tooresources in your virtual network but does not grant private access tooyour web app from hello virtual network.</span></span> <span data-ttu-id="6eaa5-114">Åtkomst till privata webbplatsen refererar toomaking appen endast tillgänglig från ett privat nätverk som från Azure-nätverk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-114">Private site access refers toomaking your app only accessible from a private network such as from within an Azure virtual network.</span></span> <span data-ttu-id="6eaa5-115">Åtkomst till privata webbplatsen är bara tillgängligt med en ASE som konfigurerats med en intern belastning belastningsutjämnare (ILB).</span><span class="sxs-lookup"><span data-stu-id="6eaa5-115">Private site access is only available with an ASE configured with an Internal Load Balancer (ILB).</span></span> <span data-ttu-id="6eaa5-116">Börja med hello här artikeln för information om hur du använder en ILB ASE: [skapa och använda en ILB ASE][ILBASE].</span><span class="sxs-lookup"><span data-stu-id="6eaa5-116">For details on using an ILB ASE, start with hello article here: [Creating and using an ILB ASE][ILBASE].</span></span> 

<span data-ttu-id="6eaa5-117">Ett vanligt scenario där du vill använda för VNet-integrering är att aktivera åtkomst från din web app tooa databas eller en webbtjänst som körs på en virtuell dator i ditt virtuella Azure-nätverket.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-117">A common scenario where you would use VNet Integration is enabling access from your web app tooa database or a web service running on a virtual machine in your Azure virtual network.</span></span> <span data-ttu-id="6eaa5-118">VNet-integration behöver inte tooexpose en offentlig slutpunkt för program på den virtuella datorn men kan använda hello privata icke internet dirigerbara adresser i stället.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-118">With VNet Integration, you don't need tooexpose a public endpoint for applications on your VM but can use hello private non-internet routable addresses instead.</span></span> 

<span data-ttu-id="6eaa5-119">Hej VNet integrationsfunktionen:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-119">hello VNet Integration feature:</span></span>

* <span data-ttu-id="6eaa5-120">kräver en Standard, Premium eller isolerad priser plan</span><span class="sxs-lookup"><span data-stu-id="6eaa5-120">requires a Standard, Premium, or Isolated pricing plan</span></span> 
* <span data-ttu-id="6eaa5-121">fungerar med klassiska eller Resource Manager VNet</span><span class="sxs-lookup"><span data-stu-id="6eaa5-121">works with Classic or Resource Manager VNet</span></span> 
* <span data-ttu-id="6eaa5-122">stöder TCP och UDP</span><span class="sxs-lookup"><span data-stu-id="6eaa5-122">supports TCP and UDP</span></span>
* <span data-ttu-id="6eaa5-123">fungerar med webb-, mobil- och API apps</span><span class="sxs-lookup"><span data-stu-id="6eaa5-123">works with Web, Mobile, and API apps</span></span>
* <span data-ttu-id="6eaa5-124">gör att en app tooconnect tooonly 1 VNet i taget</span><span class="sxs-lookup"><span data-stu-id="6eaa5-124">enables an app tooconnect tooonly 1 VNet at a time</span></span>
* <span data-ttu-id="6eaa5-125">Gör upp toofive Vnet toobe integrerad med i en Apptjänstplan</span><span class="sxs-lookup"><span data-stu-id="6eaa5-125">enables up toofive VNets toobe integrated with in an App Service Plan</span></span> 
* <span data-ttu-id="6eaa5-126">tillåter hello toobe för samma virtuella nätverk som används av flera appar i en Apptjänstplan</span><span class="sxs-lookup"><span data-stu-id="6eaa5-126">allows hello same VNet toobe used by multiple apps in an App Service Plan</span></span>
* <span data-ttu-id="6eaa5-127">stöder ett SLA för 99,9% på grund av toohello SLA på hello Gateway för virtuellt nätverk</span><span class="sxs-lookup"><span data-stu-id="6eaa5-127">supports a 99.9% SLA due toohello SLA on hello VNet Gateway</span></span>

<span data-ttu-id="6eaa5-128">Det finns vissa saker som VNet-Integration inte stöder inklusive:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-128">There are some things that VNet Integration does not support including:</span></span>

* <span data-ttu-id="6eaa5-129">montera en enhet</span><span class="sxs-lookup"><span data-stu-id="6eaa5-129">mounting a drive</span></span>
* <span data-ttu-id="6eaa5-130">AD-integrering</span><span class="sxs-lookup"><span data-stu-id="6eaa5-130">AD integration</span></span> 
* <span data-ttu-id="6eaa5-131">NetBios</span><span class="sxs-lookup"><span data-stu-id="6eaa5-131">NetBios</span></span>
* <span data-ttu-id="6eaa5-132">åtkomst till privata webbplatsen</span><span class="sxs-lookup"><span data-stu-id="6eaa5-132">private site access</span></span>

### <a name="getting-started"></a><span data-ttu-id="6eaa5-133">Komma igång</span><span class="sxs-lookup"><span data-stu-id="6eaa5-133">Getting started</span></span>
<span data-ttu-id="6eaa5-134">Här följer några saker tookeep i åtanke innan du ansluter web app tooa virtuella nätverket:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-134">Here are some things tookeep in mind before connecting your web app tooa virtual network:</span></span>

* <span data-ttu-id="6eaa5-135">VNet-Integration fungerar endast med appar i en **Standard**, **Premium**, eller **isolerad** priser plan.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-135">VNet Integration only works with apps in a **Standard**, **Premium**, or **Isolated** pricing plan.</span></span> <span data-ttu-id="6eaa5-136">Om du aktiverar hello och skala din Apptjänstplan tooan stöds inte förlora priser planera dina appar sina anslutningar toohello Vnet som de använder.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-136">If you enable hello feature, and then scale your App Service Plan tooan unsupported pricing plan your apps lose their connections toohello VNets they are using.</span></span> 
* <span data-ttu-id="6eaa5-137">Om det virtuella nätverket målet redan finns måste den ha punkt-till-plats VPN aktiverad med en dynamisk routning gateway innan den kan vara anslutna tooan app.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-137">If your target virtual network already exists, it must have point-to-site VPN enabled with a Dynamic routing gateway before it can be connected tooan app.</span></span> <span data-ttu-id="6eaa5-138">Om din gateway har konfigurerats med statisk routning, kan du inte aktivera punkt-till-plats virtuella privata nätverk (VPN).</span><span class="sxs-lookup"><span data-stu-id="6eaa5-138">If your gateway is configured with Static routing, you cannot enable point-to-site Virtual Private Network (VPN).</span></span>
* <span data-ttu-id="6eaa5-139">Hej VNet måste vara i hello samma prenumeration som din App Service Plan(ASP).</span><span class="sxs-lookup"><span data-stu-id="6eaa5-139">hello VNet must be in hello same subscription as your App Service Plan(ASP).</span></span> 
* <span data-ttu-id="6eaa5-140">hello-appar som integreras med ett virtuellt nätverk använder hello DNS som har angetts för det virtuella nätverket.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-140">hello apps that integrate with a VNet use hello DNS that is specified for that VNet.</span></span>
* <span data-ttu-id="6eaa5-141">Som standard dirigerar apparna integrerande endast trafik i ditt VNet baserat på hello vägar som definieras i ditt VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-141">By default your integrating apps only route traffic into your VNet based on hello routes that are defined in your VNet.</span></span> 

## <a name="enabling-vnet-integration"></a><span data-ttu-id="6eaa5-142">Aktivera integrering av virtuellt nätverk</span><span class="sxs-lookup"><span data-stu-id="6eaa5-142">Enabling VNet Integration</span></span>
<span data-ttu-id="6eaa5-143">Det här dokumentet fokuserar huvudsakligen på med hello Azure-portalen för VNet-integrering.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-143">This document is focused primarily on using hello Azure portal for VNet Integration.</span></span> <span data-ttu-id="6eaa5-144">tooenable VNet-integrering med din app med hjälp av PowerShell, följer du anvisningarna för hello här: [ansluta din app tooyour virtuellt nätverk med hjälp av PowerShell][IntPowershell].</span><span class="sxs-lookup"><span data-stu-id="6eaa5-144">tooenable VNet Integration with your app using PowerShell, follow hello directions here: [Connect your app tooyour virtual network by using PowerShell][IntPowershell].</span></span>

<span data-ttu-id="6eaa5-145">Du har hello alternativet tooconnect din app tooa nytt eller befintligt virtuellt nätverk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-145">You have hello option tooconnect your app tooa new or existing virtual network.</span></span> <span data-ttu-id="6eaa5-146">Om du skapar ett nytt nätverk som en del av din integrering sedan dessutom toojust skapar hello VNet, en dynamisk routning gateway är förkonfigurerad för dig och punkt tooSite VPN är aktiverad.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-146">If you create a new network as a part of your integration, then in addition toojust creating hello VNet, a dynamic routing gateway is pre-configured for you and Point tooSite VPN is enabled.</span></span> 

> [!NOTE]
> <span data-ttu-id="6eaa5-147">Konfigurera en ny virtuell nätverksintegration kan ta flera minuter.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-147">Configuring a new virtual network integration can take several minutes.</span></span> 
> 
> 

<span data-ttu-id="6eaa5-148">tooenable VNet-Integration, öppna appen inställningar och välj sedan nätverk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-148">tooenable VNet Integration, open your app Settings and then select Networking.</span></span> <span data-ttu-id="6eaa5-149">hello-användargränssnitt som öppnas erbjuder tre alternativ för nätverksfunktioner.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-149">hello UI that opens up offers three networking choices.</span></span> <span data-ttu-id="6eaa5-150">Den här guiden är bara i VNet integrering men Hybridanslutningar och Apptjänstmiljöer beskrivs senare i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-150">This guide is only going into VNet Integration though Hybrid Connections and App Service Environments are discussed later in this document.</span></span> 

<span data-ttu-id="6eaa5-151">Om din app inte är i rätt priser plan hello kan hello Användargränssnittet du tooscale din plan tooa högre prisnivå planen för ditt val.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-151">If your app is not in hello correct pricing plan, hello UI enables you tooscale your plan tooa higher pricing plan of your choice.</span></span>

![][1]

### <a name="enabling-vnet-integration-with-a-pre-existing-vnet"></a><span data-ttu-id="6eaa5-152">Aktivera VNet-integrering med ett befintligt virtuellt nätverk</span><span class="sxs-lookup"><span data-stu-id="6eaa5-152">Enabling VNet Integration with a pre-existing VNet</span></span>
<span data-ttu-id="6eaa5-153">Hej VNet integrering Användargränssnittet kan du tooselect från en lista över ditt Vnet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-153">hello VNet Integration UI allows you tooselect from a list of your VNets.</span></span> <span data-ttu-id="6eaa5-154">hello klassiska Vnet indikera att de är exempel med hello ordet ”klassisk” i parenteser nästa toohello VNet namn.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-154">hello Classic VNets indicate that they are such with hello word "Classic" in parentheses next toohello VNet name.</span></span> <span data-ttu-id="6eaa5-155">hello sorteras listan så att hello Resource Manager VNets visas först.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-155">hello list is sorted such that hello Resource Manager VNets are listed first.</span></span> <span data-ttu-id="6eaa5-156">I hello ser bilden nedan om du att endast en VNet kan väljas.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-156">In hello image shown below you can see that only one VNet can be selected.</span></span> <span data-ttu-id="6eaa5-157">Det finns flera orsaker till att ett virtuellt nätverk kan vara nedtonad inklusive:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-157">There are multiple reasons that a VNet can be grayed out including:</span></span>

* <span data-ttu-id="6eaa5-158">hello virtuella nätverk finns i en annan prenumeration som ditt konto har åtkomst till</span><span class="sxs-lookup"><span data-stu-id="6eaa5-158">hello VNet is in another subscription that your account has access to</span></span>
* <span data-ttu-id="6eaa5-159">Hej VNet har inte punkt tooSite aktiverad</span><span class="sxs-lookup"><span data-stu-id="6eaa5-159">hello VNet does not have Point tooSite enabled</span></span>
* <span data-ttu-id="6eaa5-160">Hej VNet har inte en dynamisk routning gateway</span><span class="sxs-lookup"><span data-stu-id="6eaa5-160">hello VNet does not have a dynamic routing gateway</span></span>

![][2]

<span data-ttu-id="6eaa5-161">tooenable integrering Klicka på hello VNet som du vill toointegrate med.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-161">tooenable integration simply click on hello VNet you wish toointegrate with.</span></span> <span data-ttu-id="6eaa5-162">När du har valt hello VNet startas automatiskt din app för hello ändringar tootake effekt.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-162">After you select hello VNet, your app is automatically restarted for hello changes tootake effect.</span></span> 

##### <a name="enable-point-toosite-in-a-classic-vnet"></a><span data-ttu-id="6eaa5-163">Aktivera punkt tooSite i ett klassiskt virtuellt nätverk</span><span class="sxs-lookup"><span data-stu-id="6eaa5-163">Enable Point tooSite in a Classic VNet</span></span>
<span data-ttu-id="6eaa5-164">Om ditt VNet har punkt tooSite eller inte har en gateway, har du tooset dig börjar.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-164">If your VNet does not have a gateway nor has Point tooSite, then you have tooset that up first.</span></span> <span data-ttu-id="6eaa5-165">toodo för klassiska VNet, gå toohello [Azure-portalen] [ AzurePortal] och öppna hello lista över virtuella Networks(classic).</span><span class="sxs-lookup"><span data-stu-id="6eaa5-165">toodo this for a Classic VNet, go toohello [Azure portal][AzurePortal] and bring up hello list of Virtual Networks(classic).</span></span> <span data-ttu-id="6eaa5-166">Härifrån kan du klicka på hello nätverk toointegrate med och klicka på hello stort rutan under Essentials kallas VPN-anslutningar.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-166">From here, click on hello network you want toointegrate with and click on hello big box under Essentials called VPN Connections.</span></span> <span data-ttu-id="6eaa5-167">Här kan du skapa toosite för plats-VPN och har även den skapa en gateway.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-167">From here, you can create your point toosite VPN and even have it create a gateway.</span></span> <span data-ttu-id="6eaa5-168">När du går igenom hello punkt toosite gateway skapa upplevelse är ungefär 30 minuter innan den är klar.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-168">After you go through hello point toosite with gateway creation experience it is about 30 minutes before it is ready.</span></span> 

![][8]

##### <a name="enabling-point-toosite-in-a-resource-manager-vnet"></a><span data-ttu-id="6eaa5-169">Aktivera punkt tooSite i en Resource Manager-VNet</span><span class="sxs-lookup"><span data-stu-id="6eaa5-169">Enabling Point tooSite in a Resource Manager VNet</span></span>
<span data-ttu-id="6eaa5-170">tooconfigure en Resource Manager-VNet med en gateway och punkt tooSite du kan använda antingen PowerShell enligt beskrivningen här [konfigurerar en punkt-till-plats-anslutning tooa virtuellt nätverk med PowerShell] [ V2VNETP2S] eller använda hello Azure-portalen enligt beskrivningen här [konfigurera punkt-till-plats anslutning tooa VNet med hjälp av hello Azure-portalen][V2VNETPortal].</span><span class="sxs-lookup"><span data-stu-id="6eaa5-170">tooconfigure a Resource Manager VNet with a gateway and Point tooSite, you can use either PowerShell as documented here, [Configure a Point-to-Site connection tooa virtual network using PowerShell][V2VNETP2S] or use hello Azure portal as documented here, [Configure a Point-to-Site connection tooa VNet using hello Azure portal][V2VNETPortal].</span></span> <span data-ttu-id="6eaa5-171">hello UI tooperform den här funktionen finns inte ännu.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-171">hello UI tooperform this capability is not yet available.</span></span> <span data-ttu-id="6eaa5-172">Observera att du måste toocreate certifikat för hello punkt tooSite konfiguration.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-172">Note that you need toocreate certificates for hello Point tooSite configuration.</span></span> <span data-ttu-id="6eaa5-173">Detta konfigureras automatiskt när du ansluter din WebApp toohello VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-173">This is automatically configured when you connect your WebApp toohello VNet.</span></span> 

### <a name="creating-a-pre-configured-vnet"></a><span data-ttu-id="6eaa5-174">Skapa ett förkonfigurerade virtuellt nätverk</span><span class="sxs-lookup"><span data-stu-id="6eaa5-174">Creating a pre-configured VNet</span></span>
<span data-ttu-id="6eaa5-175">Om du vill toocreate ett nytt virtuellt nätverk som har konfigurerats med en gateway och punkt-till-plats, och sedan hello nätverk UI apptjänsten hello kapaciteten toodo men endast för en Resource Manager VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-175">If you want toocreate a new VNet that is configured with a gateway and Point-to-Site, then hello App Service networking UI has hello capability toodo that but only for a Resource Manager VNet.</span></span> <span data-ttu-id="6eaa5-176">Om du vill toocreate ett klassiskt virtuellt nätverk med en gateway och punkt-till-plats måste toodo detta manuellt via användargränssnittet för hello nätverk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-176">If you wish toocreate a Classic VNet with a gateway and Point-to-Site, then you need toodo this manually through hello Networking user interface.</span></span> 

<span data-ttu-id="6eaa5-177">toocreate en Resource Manager VNet via hello VNet integrering UI, välja **Skapa nytt virtuellt nätverk** och ange den:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-177">toocreate a Resource Manager VNet through hello VNet Integration UI, simply select **Create New Virtual Network** and provide the:</span></span>

* <span data-ttu-id="6eaa5-178">Namn för virtuellt nätverk</span><span class="sxs-lookup"><span data-stu-id="6eaa5-178">Virtual Network Name</span></span>
* <span data-ttu-id="6eaa5-179">Virtuellt Nätverksadressblock</span><span class="sxs-lookup"><span data-stu-id="6eaa5-179">Virtual Network Address Block</span></span>
* <span data-ttu-id="6eaa5-180">Undernätsnamn</span><span class="sxs-lookup"><span data-stu-id="6eaa5-180">Subnet Name</span></span>
* <span data-ttu-id="6eaa5-181">Adressblock för undernätet</span><span class="sxs-lookup"><span data-stu-id="6eaa5-181">Subnet Address Block</span></span>
* <span data-ttu-id="6eaa5-182">Adressblock för gateway</span><span class="sxs-lookup"><span data-stu-id="6eaa5-182">Gateway Address Block</span></span>
* <span data-ttu-id="6eaa5-183">Punkt-till-plats-Adressblock</span><span class="sxs-lookup"><span data-stu-id="6eaa5-183">Point-to-Site Address Block</span></span>

<span data-ttu-id="6eaa5-184">Om du vill att den här VNet tooconnect tooany andra nätverk, bör du inte välja IP-adressutrymmen som överlappar med dessa nätverk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-184">If you want this VNet tooconnect tooany other networks, then you should avoid picking IP address space that overlaps with those networks.</span></span> 

> [!NOTE]
> <span data-ttu-id="6eaa5-185">Hanteraren för filserverresurser VNet har skapats med en gateway tar cirka 30 minuter och för närvarande är inte integrerat hello VNet med din app.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-185">Resource Manager VNet creation with a gateway takes about 30 minutes and currently does not integrate hello VNet with your app.</span></span> <span data-ttu-id="6eaa5-186">När ditt VNet har skapats med hello gateway behöver toocome tillbaka tooyour appen VNet integrering UI och välj ditt nya VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-186">After your VNet is created with hello gateway you need toocome back tooyour app VNet Integration UI and select your new VNet.</span></span>
> 
> 

![][3]

<span data-ttu-id="6eaa5-187">Azure Vnet skapas normalt i privata nätverksadresser.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-187">Azure VNets normally are created within private network addresses.</span></span> <span data-ttu-id="6eaa5-188">Funktionen dirigerar som standard hello VNet integrering alla trafiken för de IP-adressintervall i ditt VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-188">By default hello VNet Integration feature routes any traffic destined for those IP address ranges into your VNet.</span></span> <span data-ttu-id="6eaa5-189">hello privata IP-adressintervall är:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-189">hello private IP address ranges are:</span></span>

* <span data-ttu-id="6eaa5-190">-Detta är hello samma som 10.0.0.0 - 10.0.0.0/8 10.255.255.255</span><span class="sxs-lookup"><span data-stu-id="6eaa5-190">10.0.0.0/8 - this is hello same as 10.0.0.0 - 10.255.255.255</span></span>
* <span data-ttu-id="6eaa5-191">-Detta är hello samma som 172.16.0.0 - 172.16.0.0/12 172.31.255.255</span><span class="sxs-lookup"><span data-stu-id="6eaa5-191">172.16.0.0/12 - this is hello same as 172.16.0.0 - 172.31.255.255</span></span> 
* <span data-ttu-id="6eaa5-192">-Detta är hello samma som 192.168.0.0 - 192.168.0.0/16 192.168.255.255</span><span class="sxs-lookup"><span data-stu-id="6eaa5-192">192.168.0.0/16 - this is hello same as 192.168.0.0 - 192.168.255.255</span></span>

<span data-ttu-id="6eaa5-193">Hej VNet-adressutrymmet måste toobe som anges i CIDR-notering.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-193">hello VNet address space needs toobe specified in CIDR notation.</span></span> <span data-ttu-id="6eaa5-194">Om du är bekant med CIDR-notering, är en metod för att ange Adressblock med en IP-adress och ett heltal som representerar hello nätverksmasken.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-194">If you are unfamiliar with CIDR notation, it is a method for specifying address blocks using an IP address and an integer that represents hello network mask.</span></span> <span data-ttu-id="6eaa5-195">Överväg att 10.1.0.0/24 är 256 adresser och 10.1.0.0/25 skulle vara 128 adresser som en snabbreferens.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-195">As a quick reference, consider that 10.1.0.0/24 would be 256 addresses and 10.1.0.0/25 would be 128 addresses.</span></span> <span data-ttu-id="6eaa5-196">En IPv4-adress med en /32 är bara 1 adress.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-196">An IPv4 address with a /32 would be just 1 address.</span></span> 

<span data-ttu-id="6eaa5-197">Om du anger här hello DNS-serverinformation, har som angetts för din VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-197">If you set hello DNS server information here, then that is set for your VNet.</span></span> <span data-ttu-id="6eaa5-198">Du kan redigera den här informationen från hello VNet användarupplevelser efter att VNet har skapats.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-198">After VNet creation you can edit this information from hello VNet user experiences.</span></span> <span data-ttu-id="6eaa5-199">Om du ändrar hello DNS hello VNet, måste tooperform en åtgärd för synkronisering av nätverket.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-199">If you change hello DNS of hello VNet, then you need tooperform a Sync Network operation.</span></span>

<span data-ttu-id="6eaa5-200">När du skapar ett klassiska VNet med hello VNet integrering Användargränssnittet skapas ett VNet i hello samma resursgrupp som din app.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-200">When you create a Classic VNet using hello VNet Integration UI, it creates a VNet in hello same resource group as your app.</span></span> 

## <a name="how-hello-system-works"></a><span data-ttu-id="6eaa5-201">Så här fungerar hello system</span><span class="sxs-lookup"><span data-stu-id="6eaa5-201">How hello system works</span></span>
<span data-ttu-id="6eaa5-202">Under hello omfattar den här funktionen bygger vidare på punkt-till-plats VPN-teknik tooconnect din app tooyour VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-202">Under hello covers this feature builds on top of Point-to-Site VPN technology tooconnect your app tooyour VNet.</span></span> <span data-ttu-id="6eaa5-203">Appar i Azure App Service har en flera innehavare systemarkitektur, vilket utesluter etablerar en app direkt i ett VNet som görs med virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-203">Apps in Azure App Service have a multi-tenant system architecture, which precludes provisioning an app directly in a VNet as is done with virtual machines.</span></span> <span data-ttu-id="6eaa5-204">Vi begränsa network access toojust hello virtuella dator som är värd hello appen genom att bygga på punkt-till-plats-teknik.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-204">By building on point-to-site technology we limit network access toojust hello virtual machine hosting hello app.</span></span> <span data-ttu-id="6eaa5-205">Åtkomst toohello nätverk är också begränsad på värdarna app så att dina appar kan endast komma åt hello nätverk som du konfigurerar dem tooaccess.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-205">Access toohello network is further restricted on those app hosts so that your apps can only access hello networks that you configure them tooaccess.</span></span> 

![][4]

<span data-ttu-id="6eaa5-206">Om du inte har konfigurerat en DNS-server med ditt virtuella nätverk, behöver din app toouse IP-adresser tooreach resurs i hello virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-206">If you haven’t configured a DNS server with your virtual network, your app will need toouse IP addresses tooreach resource in hello VNet.</span></span> <span data-ttu-id="6eaa5-207">Kom ihåg att hello större fördelen med den här funktionen är att du kan använda toouse hello privata adresser i ditt privata nätverk när du använder IP-adresser.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-207">While using IP addresses, remember that hello major benefit of this feature is that it enables you toouse hello private addresses within your private network.</span></span> <span data-ttu-id="6eaa5-208">Om du ställer in din app in toouse offentliga IP-adresser för en av dina virtuella datorer kan du inte använder hello VNet integrationsfunktionen och kommunicerar via hello internet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-208">If you set your app up toouse public IP addresses for one of your VMs, then you aren't using hello VNet Integration feature and are communicating over hello internet.</span></span>

## <a name="managing-hello-vnet-integrations"></a><span data-ttu-id="6eaa5-209">Hantera hello VNet integreringar</span><span class="sxs-lookup"><span data-stu-id="6eaa5-209">Managing hello VNet Integrations</span></span>
<span data-ttu-id="6eaa5-210">Hej möjlighet tooconnect och koppla bort tooa VNet är på en appnivå.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-210">hello ability tooconnect and disconnect tooa VNet is at an app level.</span></span> <span data-ttu-id="6eaa5-211">Åtgärder som kan påverka hello VNet Integration över flera appar är på en ASP-nivå.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-211">Operations that can affect hello VNet Integration across multiple apps are at an ASP level.</span></span> <span data-ttu-id="6eaa5-212">Du kan visa information för ditt virtuella nätverk från hello-användargränssnitt som visas på hello app-nivå.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-212">From hello UI that is shown at hello app level, you can get details on your VNet.</span></span> <span data-ttu-id="6eaa5-213">De flesta hello samma information visas också på hello ASP nivå.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-213">Most of hello same information is also shown at hello ASP level.</span></span> 

![][5]

<span data-ttu-id="6eaa5-214">Du kan se om din app är anslutna tooyour VNet hello funktionen nätverksstatus sidan.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-214">From hello Network Feature Status page, you can see if your app is connected tooyour VNet.</span></span> <span data-ttu-id="6eaa5-215">Om din gateway för virtuellt nätverk avser oavsett orsak, skulle det här visas som inte ansluten.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-215">If your VNet gateway is down for whatever reason, then this would show as not-connected.</span></span> 

<span data-ttu-id="6eaa5-216">hello information som du har nu tillgängliga tooyou i hello app nivå VNet integrering Användargränssnittet är hello samma som hello detaljerad information som du får från hello ASP.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-216">hello information you now have available tooyou in hello app level VNet Integration UI is hello same as hello detail information you get from hello ASP.</span></span> <span data-ttu-id="6eaa5-217">Här följer dessa objekt:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-217">Here are those items:</span></span>

* <span data-ttu-id="6eaa5-218">VNet - namn i den här länken öppnar hello virtuella Azure-nätverket UI</span><span class="sxs-lookup"><span data-stu-id="6eaa5-218">VNet Name - This link opens hello Azure virtual network UI</span></span>
* <span data-ttu-id="6eaa5-219">Plats – detta återspeglar hello platsen för ditt VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-219">Location - This reflects hello location of your VNet.</span></span> <span data-ttu-id="6eaa5-220">Det är möjligt toointegrate med ett VNet i en annan plats.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-220">It is possible toointegrate with a VNet in another location.</span></span>
* <span data-ttu-id="6eaa5-221">Det finns certifikatstatus - certifikat som används toosecure hello VPN-anslutning mellan hello appen och hello virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-221">Certificate Status - There are certificates used toosecure hello VPN connection between hello app and hello VNet.</span></span> <span data-ttu-id="6eaa5-222">Detta visar en test-tooensure som de är synkroniserade.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-222">This reflects a test tooensure they are in sync.</span></span>
* <span data-ttu-id="6eaa5-223">Status för gateway - bör din gateway inte är tillgänglig oavsett orsak sedan din app kan inte komma åt resurser i hello virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-223">Gateway Status - Should your gateways be down for whatever reason then your app cannot access resources in hello VNet.</span></span> 
* <span data-ttu-id="6eaa5-224">VNet-adressutrymmet - detta är hello IP-adressutrymme för din VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-224">VNet address space - This is hello IP address space for your VNet.</span></span> 
* <span data-ttu-id="6eaa5-225">Punkt tooSite adressutrymme - detta är hello punkt toosite IP-adressutrymme för din VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-225">Point tooSite address space - This is hello point toosite IP address space for your VNet.</span></span> <span data-ttu-id="6eaa5-226">Din app visar kommunikation som kommer från en av hello IP-adresser i det här adressutrymmet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-226">Your app shows communication as coming from one of hello IPs in this address space.</span></span> 
* <span data-ttu-id="6eaa5-227">Platsen toosite adressutrymme - du kan använda plats tooSite VPN tooconnect VNet-tooyour lokala resurser eller tooother VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-227">Site toosite address space - You can use Site tooSite VPNs tooconnect your VNet tooyour on-premises resources or tooother VNet.</span></span> <span data-ttu-id="6eaa5-228">Du om har som konfigurerats sedan hello IP-adressintervall som definierats med att VPN-anslutning visas här.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-228">Should you have that configured then hello IP ranges defined with that VPN connection shows here.</span></span>
* <span data-ttu-id="6eaa5-229">DNS-servrar – om du har DNS-servrar som konfigurerats med ditt VNet anges här.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-229">DNS Servers - If you have DNS Servers configured with your VNet, then they are listed here.</span></span>
* <span data-ttu-id="6eaa5-230">IP-adresser dirigeras toohello VNet - det finns en lista över IP-adresser som ditt VNet har definierats för och de adresserna som visas här.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-230">IPs routed toohello VNet - There are a list of IP addresses that your VNet has routing defined for, and those addresses show here.</span></span> 

<span data-ttu-id="6eaa5-231">hello endast åtgärden som du kan vidta i hello app vyn för din VNet-integrering är toodisconnect appen från hello virtuella nätverk som den är ansluten till.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-231">hello only operation you can take in hello app view of your VNet Integration is toodisconnect your app from hello VNet it is currently connected to.</span></span> <span data-ttu-id="6eaa5-232">den här helt enkelt klicka på Koppla från överst hello toodo.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-232">toodo this simply click Disconnect at hello top.</span></span> <span data-ttu-id="6eaa5-233">Den här åtgärden ändras inte ditt VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-233">This action does not change your VNet.</span></span> <span data-ttu-id="6eaa5-234">Hej VNet och dess konfiguration inklusive hello gateways ändras inte.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-234">hello VNet and its configuration including hello gateways remains unchanged.</span></span> <span data-ttu-id="6eaa5-235">Om du vill sedan toodelete ditt VNet, måste toofirst delete hello resurser i den inklusive hello gateways.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-235">If you then want toodelete your VNet, you need toofirst delete hello resources in it including hello gateways.</span></span> 

<span data-ttu-id="6eaa5-236">hello App Service-Plan vy har ett antal ytterligare åtgärder.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-236">hello App Service Plan view has a number of additional operations.</span></span> <span data-ttu-id="6eaa5-237">Det är också komma åt annorlunda än från hello app.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-237">It is also accessed differently than from hello app.</span></span> <span data-ttu-id="6eaa5-238">tooreach hello ASP nätverk UI helt enkelt öppna din ASP UI och rulla ned.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-238">tooreach hello ASP Networking UI simply open your ASP UI and scroll down.</span></span> <span data-ttu-id="6eaa5-239">Det finns ett UI-element som kallas funktionen nätverksstatus.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-239">There is a UI element called Network Feature Status.</span></span> <span data-ttu-id="6eaa5-240">Den ger vissa mindre information kring VNet-Integration.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-240">It gives some minor details around your VNet Integration.</span></span> <span data-ttu-id="6eaa5-241">Klicka på det här Gränssnittet öppnas hello nätverket funktionen Status Användargränssnittet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-241">Clicking on this UI opens hello Network Feature Status UI.</span></span> <span data-ttu-id="6eaa5-242">Om du klickar hello på ”Klicka här toomanage”,-användargränssnitt som visar hello VNet integreringar i den här ASP öppnas.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-242">If you then click on "Click here toomanage", hello UI that lists hello VNet Integrations in this ASP opens.</span></span>

![][6]

<span data-ttu-id="6eaa5-243">hello är hello ASP bra tooremember när du tittar på hello platserna för hello Vnet som du integrerar med.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-243">hello location of hello ASP is good tooremember when looking at hello locations of hello VNets you are integrating with.</span></span> <span data-ttu-id="6eaa5-244">När hello VNet är i en annan plats är det mycket troligt toosee svarstid problem.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-244">When hello VNet is in another location you are far more likely toosee latency issues.</span></span> 

<span data-ttu-id="6eaa5-245">Hej Vnet som är integrerad med är en påminnelse på hur många Vnet dina appar är integrerade med i den här ASP och hur många du kan ha.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-245">hello VNets integrated with is a reminder on how many VNets your apps are integrated with in this ASP and how many you can have.</span></span> 

<span data-ttu-id="6eaa5-246">toosee lägga till information för varje virtuella nätverk, klicka på hello VNet som du är intresserad av.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-246">toosee added details on each VNet, just click on hello VNet you are interested in.</span></span> <span data-ttu-id="6eaa5-247">Dessutom toohello information som har beskrivits tidigare, du kan också se en lista över hello appar i den här ASP som använder det virtuella nätverket.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-247">In addition toohello details that were noted earlier, you can also see a list of hello apps in this ASP that are using that VNet.</span></span> 

<span data-ttu-id="6eaa5-248">Sekretessprinciper finns tooactions det två primära åtgärder.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-248">With respect tooactions there are two primary actions.</span></span> <span data-ttu-id="6eaa5-249">hello är först hello möjlighet tooadd vägar som enheten trafik som lämnar din app i ditt VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-249">hello first is hello ability tooadd routes that drive traffic leaving your app into your VNet.</span></span> <span data-ttu-id="6eaa5-250">andra hello-åtgärd är hello möjlighet toosync certifikat och nätverksinformation.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-250">hello second action is hello ability toosync certificates and network information.</span></span>

![][7]

<span data-ttu-id="6eaa5-251">**Routning** som tidigare nämnts är hello vägar som definieras i ditt virtuella nätverk som används för att dirigera trafik i ditt virtuella nätverk från din app.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-251">**Routing** As noted earlier hello routes that are defined in your VNet are what is used for directing traffic into your VNet from your app.</span></span> <span data-ttu-id="6eaa5-252">Det finns några användningsområden men där kunder vill toosend ytterligare utgående trafik från en app i hello VNet och att de har angetts för den här funktionen.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-252">There are some uses though where customers want toosend additional outbound traffic from an app into hello VNet and for them this capability is provided.</span></span> <span data-ttu-id="6eaa5-253">Vad händer toohello trafik är in toohow hello kund konfigurerar sina virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-253">What happens toohello traffic after that is up toohow hello customer configures their VNet.</span></span> 

<span data-ttu-id="6eaa5-254">**Certifikat** hello certifikatstatus visar en kontroll som utförs av hello Apptjänst toovalidate att hello-certifikat som vi använder för hello VPN-anslutningen är fortfarande bra.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-254">**Certificates** hello Certificate Status reflects a check being performed by hello App Service toovalidate that hello certificates that we are using for hello VPN connection are still good.</span></span> <span data-ttu-id="6eaa5-255">När VNet-Integration aktiverad sedan finns om det här är hello första integration toothat VNet från alla appar i den här ASP en obligatorisk utbyte av certifikat tooensure hello säkerheten för hello-anslutning.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-255">When VNet Integration enabled, then if this is hello first integration toothat VNet from any apps in this ASP, there is a required exchange of certificates tooensure hello security of hello connection.</span></span> <span data-ttu-id="6eaa5-256">Tillsammans med hello certifikat får vi hello DNS-konfiguration, vägar och andra liknande saker som beskriver hello nätverk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-256">Along with hello certificates we get hello DNS configuration, routes and other similar things that describe hello network.</span></span>
<span data-ttu-id="6eaa5-257">Om dessa certifikat eller nätverksinformation ändras, måste tooclick ”Sync nätverk”.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-257">If those certificates or network information is changed, then you need tooclick "Sync Network".</span></span> <span data-ttu-id="6eaa5-258">**Obs**: när du klickar på ”Sync nätverk” och sedan du orsaka ett kort avbrott i anslutningen mellan din app och ditt VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-258">**NOTE**: When you click "Sync Network" then you cause a brief outage in connectivity between your app and your VNet.</span></span> <span data-ttu-id="6eaa5-259">När appen inte startas leda hello förlust av anslutning till din plats toonot funktion korrekt.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-259">While your app is not restarted, hello loss of connectivity could cause your site toonot function properly.</span></span> 

## <a name="accessing-on-premises-resources"></a><span data-ttu-id="6eaa5-260">Åtkomst till lokala resurser</span><span class="sxs-lookup"><span data-stu-id="6eaa5-260">Accessing on-premises resources</span></span>
<span data-ttu-id="6eaa5-261">En av hello fördelarna med hello VNet integrationsfunktionen är att om ditt VNet är ansluten tooyour lokalt nätverk med en plats tooSite VPN dina appar kan ha åtkomst tooyour lokala resurser från din app.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-261">One of hello benefits of hello VNet Integration feature is that if your VNet is connected tooyour on-premises network with a Site tooSite VPN then your apps can have access tooyour on-premises resources from your app.</span></span> <span data-ttu-id="6eaa5-262">Även om du kan behöva tooupdate för den här toowork dirigerar din lokala VPN-gateway med hello för din plats tooSite IP-adressintervall.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-262">For this toowork though you may need tooupdate your on-premises VPN gateway with hello routes for your Point tooSite IP range.</span></span> <span data-ttu-id="6eaa5-263">När hello plats tooSite VPN först ställa in hello skript används tooconfigure ska det konfigureras vägar inklusive tooSite för plats-VPN.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-263">When hello Site tooSite VPN is first set up then hello scripts used tooconfigure it should set up routes including your Point tooSite VPN.</span></span> <span data-ttu-id="6eaa5-264">Om du lägger till hello VPN för punkt tooSite när du har skapat din webbplats tooSite VPN måste tooupdate hello vägar manuellt.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-264">If you add hello Point tooSite VPN after you create your Site tooSite VPN, then you need tooupdate hello routes manually.</span></span> <span data-ttu-id="6eaa5-265">Information om hur toodo som varierar per gateway och som inte beskrivs här.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-265">Details on how toodo that vary per gateway and are not described here.</span></span> 

> [!NOTE]
> <span data-ttu-id="6eaa5-266">Hej VNet integrationsfunktionen integrerar inte en app med ett virtuellt nätverk som har en ExpressRoute-Gateway.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-266">hello VNet Integration feature does not integrate an app with a VNet that has an ExpressRoute Gateway.</span></span> <span data-ttu-id="6eaa5-267">Även om hello ExpressRoute-Gateway har konfigurerats i [samexistens läge] [ VPNERCoex] hello VNet integrering inte fungerar.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-267">Even if hello ExpressRoute Gateway is configured in [coexistence mode][VPNERCoex] hello VNet Integration does not work.</span></span> <span data-ttu-id="6eaa5-268">Om du behöver tooaccess resurser via en ExpressRoute-anslutning så att du kan använda en [Apptjänstmiljö][ASE], som körs i ditt VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-268">If you need tooaccess resources through an ExpressRoute connection, then you can use an [App Service Environment][ASE], which runs in your VNet.</span></span>
> 
> 

## <a name="pricing-details"></a><span data-ttu-id="6eaa5-269">Prisinformation</span><span class="sxs-lookup"><span data-stu-id="6eaa5-269">Pricing details</span></span>
<span data-ttu-id="6eaa5-270">Det finns några olika delarna som du bör vara medveten om när du använder hello VNet integrationsfunktionen priser.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-270">There are a few pricing nuances that you should be aware of when using hello VNet Integration feature.</span></span> <span data-ttu-id="6eaa5-271">Det finns 3 relaterade kostnader toohello användningen av funktionen:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-271">There are 3 related charges toohello use of this feature:</span></span>

* <span data-ttu-id="6eaa5-272">ASP priser nivå krav</span><span class="sxs-lookup"><span data-stu-id="6eaa5-272">ASP pricing tier requirements</span></span>
* <span data-ttu-id="6eaa5-273">Kostnader för överföring av data</span><span class="sxs-lookup"><span data-stu-id="6eaa5-273">Data transfer costs</span></span>
* <span data-ttu-id="6eaa5-274">VPN-Gateway kostnader.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-274">VPN Gateway costs.</span></span>

<span data-ttu-id="6eaa5-275">För att dina appar toobe kan toouse funktionen, behöver de toobe i en Standard eller Premium App Service-Plan.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-275">For your apps toobe able toouse this feature, they need toobe in a Standard or Premium App Service Plan.</span></span> <span data-ttu-id="6eaa5-276">Du kan visa mer information om de här kostnaderna: [priser för Apptjänst][ASPricing].</span><span class="sxs-lookup"><span data-stu-id="6eaa5-276">You can see more details on those costs here: [App Service Pricing][ASPricing].</span></span> 

<span data-ttu-id="6eaa5-277">På grund av toohello sätt punkt tooSite VPN hanteras kan du alltid har en avgift för utgående data via VNet integrering anslutningen även om hello VNet i hello samma datacenter.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-277">Due toohello way Point tooSite VPNs are handled, you always have a charge for outbound data through your VNet Integration connection even if hello VNet is in hello same data center.</span></span> <span data-ttu-id="6eaa5-278">toosee vilka dessa tillägg är, ta en titt här: [Data Transfer prisinformation][DataPricing].</span><span class="sxs-lookup"><span data-stu-id="6eaa5-278">toosee what those charges are, take a look here: [Data Transfer Pricing Details][DataPricing].</span></span> 

<span data-ttu-id="6eaa5-279">hello sista objektet är hello kostnaden för hello VNet gateways.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-279">hello last item is hello cost of hello VNet gateways.</span></span> <span data-ttu-id="6eaa5-280">Om du inte behöver hello gateways för något annat, till exempel plats tooSite VPN, sedan betalar du för integrationsfunktionen för gateways toosupport hello virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-280">If you don't need hello gateways for something else such as Site tooSite VPNs, then you are paying for gateways toosupport hello VNet Integration feature.</span></span> <span data-ttu-id="6eaa5-281">Det finns information om de här kostnaderna: [priser för VPN-Gateway][VNETPricing].</span><span class="sxs-lookup"><span data-stu-id="6eaa5-281">There are details on those costs here: [VPN Gateway Pricing][VNETPricing].</span></span> 

## <a name="troubleshooting"></a><span data-ttu-id="6eaa5-282">Felsökning</span><span class="sxs-lookup"><span data-stu-id="6eaa5-282">Troubleshooting</span></span>
<span data-ttu-id="6eaa5-283">Medan hello-funktionen är enkel tooset upp det betyder inte din upplevelse att problem som är ledigt.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-283">While hello feature is easy tooset up, that doesn't mean that your experience will be problem free.</span></span> <span data-ttu-id="6eaa5-284">Bör du stöter på är problem med åtkomst till det önskade slutpunkten vissa verktyg som du kan använda tootest anslutning från hello app-konsolen.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-284">Should you encounter problems accessing your desired endpoint there are some utilities you can use tootest connectivity from hello app console.</span></span> <span data-ttu-id="6eaa5-285">Det finns två konsolen upplevelser som du kan använda.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-285">There are two console experiences you can use.</span></span> <span data-ttu-id="6eaa5-286">En från hello Kudu-konsolen och hello andra är hello-konsol som du kan nå i hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-286">One is from hello Kudu console and hello other is hello console that you can reach in hello Azure portal.</span></span> <span data-ttu-id="6eaa5-287">tooget toohello Kudu-konsolen från din app går tooTools Kudu ->.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-287">tooget toohello Kudu console from your app go tooTools -> Kudu.</span></span> <span data-ttu-id="6eaa5-288">Detta är hello samma som för [sitename]. scm.azurewebsites.net.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-288">This is hello same as going too[sitename].scm.azurewebsites.net.</span></span> <span data-ttu-id="6eaa5-289">När öppnas bara gå toohello Debug konsolen fliken tooget toohello Azure portal värdbaserade konsolen sedan från din app går > tooTools-konsol.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-289">Once that opens simply go toohello Debug console tab. tooget toohello Azure portal hosted console then from your app go tooTools -> Console.</span></span> 

#### <a name="tools"></a><span data-ttu-id="6eaa5-290">Verktyg</span><span class="sxs-lookup"><span data-stu-id="6eaa5-290">Tools</span></span>
<span data-ttu-id="6eaa5-291">hello verktyg ping, nslookup och tracert fungerar inte via hello-konsolen på grund av toosecurity begränsningar.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-291">hello tools ping, nslookup and tracert won’t work through hello console due toosecurity constraints.</span></span> <span data-ttu-id="6eaa5-292">Det toofill hello void har två separata verktyg som lagts till.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-292">toofill hello void there have been two separate tools added.</span></span> <span data-ttu-id="6eaa5-293">Vi lagt till ett verktyg som heter nameresolver.exe i ordning tootest DNS-funktioner.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-293">In order tootest DNS functionality we added a tool named nameresolver.exe.</span></span> <span data-ttu-id="6eaa5-294">hello-syntaxen är:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-294">hello syntax is:</span></span>

    nameresolver.exe hostname [optional: DNS Server]

<span data-ttu-id="6eaa5-295">Du kan använda nameresolver toocheck hello värdnamn som din app är beroende av.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-295">You can use nameresolver toocheck hello hostnames that your app depends on.</span></span> <span data-ttu-id="6eaa5-296">Det här sättet kan du testa om du har något felaktigt konfigurerad med din DNS eller kanske inte har åtkomst till tooyour DNS-servern.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-296">This way you can test if you have anything mis-configured with your DNS or perhaps don't have access tooyour DNS server.</span></span>

<span data-ttu-id="6eaa5-297">hello nästa verktyget kan du tootest för TCP anslutningen tooa värd och port kombination.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-297">hello next tool allows you tootest for TCP connectivity tooa host and port combination.</span></span> <span data-ttu-id="6eaa5-298">Det här verktyget kallas tcpping.exe och hello syntaxen är:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-298">This tool is called tcpping.exe and hello syntax is:</span></span>

    tcpping.exe hostname [optional: port]

<span data-ttu-id="6eaa5-299">Hej tcpping verktyget får du om du till en specifik värd och port.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-299">hello tcpping utility tells you if you can reach a specific host and port.</span></span> <span data-ttu-id="6eaa5-300">Det kan bara visa lyckas om: det finns ett program som lyssnar på hello-värd och port-kombination och det finns nätverksåtkomst från din app toohello angivna värd och port.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-300">It only can show success if: there is an application listening at hello host and port combination, and there is network access from your app toohello specified host and port.</span></span>

#### <a name="debugging-access-toovnet-hosted-resources"></a><span data-ttu-id="6eaa5-301">Felsökning åtkomst tooVNet värdbaserade resurser</span><span class="sxs-lookup"><span data-stu-id="6eaa5-301">Debugging access tooVNet hosted resources</span></span>
<span data-ttu-id="6eaa5-302">Det finns ett antal saker som kan förhindra att din app når en viss värd och port.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-302">There are a number of things that can prevent your app from reaching a specific host and port.</span></span> <span data-ttu-id="6eaa5-303">För hello mesta är det en av tre saker:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-303">Most of hello time it is one of three things:</span></span>

* <span data-ttu-id="6eaa5-304">**Det finns en brandvägg i hello sätt** om du har en brandvägg på hello sätt, träffar du hello TCP-timeout.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-304">**There is a firewall in hello way** If you have a firewall in hello way, you will hit hello TCP timeout.</span></span> <span data-ttu-id="6eaa5-305">Som är i det här fallet 21 sekunder.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-305">That is 21 seconds in this case.</span></span> <span data-ttu-id="6eaa5-306">Använd hello tcpping verktyget tootest anslutning.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-306">Use hello tcpping tool tootest connectivity.</span></span> <span data-ttu-id="6eaa5-307">TCP-tidsgränser kan bero på att toomany saker utanför brandväggar men det startas.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-307">TCP timeouts can be due toomany things beyond firewalls but start there.</span></span> 
* <span data-ttu-id="6eaa5-308">**DNS är inte tillgänglig** hello DNS-timeout är tre sekunder per DNS-server.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-308">**DNS is not accessible** hello DNS timeout is three seconds per DNS server.</span></span> <span data-ttu-id="6eaa5-309">Om du har två DNS-servrar är hello timeout 6 sekunder.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-309">If you have two DNS servers, hello timeout is 6 seconds.</span></span> <span data-ttu-id="6eaa5-310">Använd nameresolver toosee att DNS fungerar.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-310">Use nameresolver toosee if DNS is working.</span></span> <span data-ttu-id="6eaa5-311">Kom ihåg att du inte kan använda nslookup som som inte använder hello ditt virtuella nätverk är konfigurerat med DNS.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-311">Remember you can't use nslookup as that does not use hello DNS your VNet is configured with.</span></span>
* <span data-ttu-id="6eaa5-312">**Ogiltig P2S IP-adressintervall** hello punkt toosite IP-intervallet måste toobe i hello RFC 1918 privata IP-adressintervall (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255).</span><span class="sxs-lookup"><span data-stu-id="6eaa5-312">**Invalid P2S IP range** hello point toosite IP range needs toobe in hello RFC 1918 private IP ranges (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255).</span></span> <span data-ttu-id="6eaa5-313">Om hello intervall använder IP-adresser utanför som, sedan fungerar saker inte.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-313">If hello range uses IPs outside of that, then things won't work.</span></span> 

<span data-ttu-id="6eaa5-314">Om ditt problem inte svara på dessa objekt, leta efter hello enkla t.ex.:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-314">If those items don't answer your problem, look first for hello simple things like:</span></span> 

* <span data-ttu-id="6eaa5-315">Visar hello Gateway som upp hello portal?</span><span class="sxs-lookup"><span data-stu-id="6eaa5-315">Does hello Gateway show as being up in hello portal?</span></span>
* <span data-ttu-id="6eaa5-316">Visa certifikat som synkroniserade?</span><span class="sxs-lookup"><span data-stu-id="6eaa5-316">Do certificates show as being in sync?</span></span>
* <span data-ttu-id="6eaa5-317">Ändrades vem som helst hello nätverkskonfigurationen utan att göra en ”Sync nätverk” i hello påverkas ASP?</span><span class="sxs-lookup"><span data-stu-id="6eaa5-317">Did anybody change hello network configuration without doing a "Sync Network" in hello affected ASPs?</span></span> 

<span data-ttu-id="6eaa5-318">Om din gateway är igång kan sedan ta den säkerhetskopiera.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-318">If your gateway is down, then bring it back up.</span></span> <span data-ttu-id="6eaa5-319">Om ditt certifikat är inte synkroniserade går toohello ASP vy över din VNet-integrering och träffar ”Sync nätverk”.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-319">If your certificates are out of sync, then go toohello ASP view of your VNet Integration and hit "Sync Network".</span></span> <span data-ttu-id="6eaa5-320">Om du misstänker att det har en ändring som gjorts tooyour konfiguration av virtuellt nätverk och det inte att synkronisera skulle med din ASP går toohello ASP vy över din VNet-integrering och tryck på ”Sync nätverk” precis som en påminnelse, detta orsakar ett kort avbrott med din VNet-anslutning och dina appar .</span><span class="sxs-lookup"><span data-stu-id="6eaa5-320">If you suspect that there has been a change made tooyour VNet configuration and it wasn't sync'd with your ASPs, then go toohello ASP view of your VNet Integration and hit "Sync Network" Just as a reminder, this causes a brief outage with your VNet connection and your apps.</span></span> 

<span data-ttu-id="6eaa5-321">Om alla som är bra, behöver du toodig i en djupare bitars:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-321">If all of that is fine, then you need toodig in a bit deeper:</span></span>

* <span data-ttu-id="6eaa5-322">Finns det några andra appar som använder VNet integrering tooreach resurser i hello samma virtuella nätverk?</span><span class="sxs-lookup"><span data-stu-id="6eaa5-322">Are there any other apps using VNet Integration tooreach resources in hello same VNet?</span></span> 
* <span data-ttu-id="6eaa5-323">Kan du gå toohello app-konsolen och använda tcpping tooreach andra resurser i ditt VNet?</span><span class="sxs-lookup"><span data-stu-id="6eaa5-323">Can you go toohello app console and use tcpping tooreach any other resources in your VNet?</span></span> 

<span data-ttu-id="6eaa5-324">Om någon av hello ovan är uppfyllda, sedan VNet-integrering är bra och hello problemet är någon annanstans.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-324">If either of hello above are true, then your VNet Integration is fine and hello problem is somewhere else.</span></span> <span data-ttu-id="6eaa5-325">Detta är där hämtar toobe av en utmaning eftersom det finns inget enkelt sätt toosee varför du inte kan nå värdnamn: port.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-325">This is where it gets toobe more of a challenge because there is no simple way toosee why you can't reach a host:port.</span></span> <span data-ttu-id="6eaa5-326">Några av hello orsaker är:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-326">Some of hello causes include:</span></span>

* <span data-ttu-id="6eaa5-327">du har en brandvägg på värddatorn hindrar åtkomstport toohello program från ditt punkt toosite IP-adressintervall.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-327">you have a firewall up on your host preventing access toohello application port from your point toosite IP range.</span></span> <span data-ttu-id="6eaa5-328">Ofta passerande undernät kräver offentlig åtkomst.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-328">Crossing subnets often requires Public access.</span></span>
* <span data-ttu-id="6eaa5-329">mål-värden är inte tillgänglig</span><span class="sxs-lookup"><span data-stu-id="6eaa5-329">your target host is down</span></span>
* <span data-ttu-id="6eaa5-330">programmet är inte tillgänglig</span><span class="sxs-lookup"><span data-stu-id="6eaa5-330">your application is down</span></span>
* <span data-ttu-id="6eaa5-331">du hade hello fel IP-Adressen eller värdnamnet</span><span class="sxs-lookup"><span data-stu-id="6eaa5-331">you had hello wrong IP or hostname</span></span>
* <span data-ttu-id="6eaa5-332">ditt program lyssnar på en annan port än vad du förväntade dig.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-332">your application is listening on a different port than what you expected.</span></span> <span data-ttu-id="6eaa5-333">Du kan kontrollera detta genom att gå till värden och använder ”netstat – aon” från hello-kommandotolk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-333">You can check this by going onto that host and using "netstat -aon" from hello cmd prompt.</span></span> <span data-ttu-id="6eaa5-334">Detta visar vilken process som ID lyssnar på vad port.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-334">This shows you what process ID is listening on what port.</span></span> 
* <span data-ttu-id="6eaa5-335">din nätverkssäkerhetsgrupper har konfigurerats på ett sådant sätt att åtkomst tooyour programvärd och port från din plats toosite IP-adressintervall</span><span class="sxs-lookup"><span data-stu-id="6eaa5-335">your network security groups are configured in such a manner that they prevent access tooyour application host and port from your point toosite IP range</span></span>

<span data-ttu-id="6eaa5-336">Kom ihåg att du inte vet vilken IP i ditt punkt tooSite IP-adressintervall som din app ska använda så du behöver tooallow åtkomst från hela hello-intervall.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-336">Remember that you don't know what IP in your Point tooSite IP range that your app will use so you need tooallow access from hello entire range.</span></span> 

<span data-ttu-id="6eaa5-337">Ytterligare stegen innefattar:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-337">Additional debug steps include:</span></span>

* <span data-ttu-id="6eaa5-338">logga in på en annan virtuell dator i ditt virtuella nätverk och försök tooreach din resurs värdnamn: port därifrån.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-338">log onto another VM in your VNet and attempt tooreach your resource host:port from there.</span></span> <span data-ttu-id="6eaa5-339">Det finns vissa TCP ping verktyg du kan använda för detta ändamål eller kan även använda telnet om behöver vara.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-339">There are some TCP ping utilities that you can use for this purpose or can even use telnet if need be.</span></span> <span data-ttu-id="6eaa5-340">hello är syftet här bara toodetermine om anslutningen är det från den här andra VM.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-340">hello purpose here is just toodetermine if connectivity is there from this other VM.</span></span> 
* <span data-ttu-id="6eaa5-341">Öppna ett program på en annan virtuell dator och testa åtkomst toothat värd och port från hello-konsolen från din app</span><span class="sxs-lookup"><span data-stu-id="6eaa5-341">bring up an application on another VM and test access toothat host and port from hello console from your app</span></span>

#### <a name="on-premises-resources"></a><span data-ttu-id="6eaa5-342">Lokala resurser</span><span class="sxs-lookup"><span data-stu-id="6eaa5-342">On-premises resources</span></span> ####
<span data-ttu-id="6eaa5-343">Om din app inte kan nå resurser på lokalt, sedan hello första bör du kontrollera är om du kan nå en resurs i ditt VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-343">If your app cannot reach resources on-premises, then hello first thing you should check is if you can reach a resource in your VNet.</span></span> <span data-ttu-id="6eaa5-344">Om det fungerar försök tooreach hello lokalt program från en virtuell dator i hello virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-344">If that works, try tooreach hello on-premises application from a VM in hello VNet.</span></span> <span data-ttu-id="6eaa5-345">Du kan använda telnet eller en TCP ping-verktyget.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-345">You can use telnet or a TCP ping utility.</span></span> <span data-ttu-id="6eaa5-346">Om den virtuella datorn inte kan nå din lokal resurs, kontrollera din plats tooSite VPN-anslutning fungerar.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-346">If your VM can't reach your on-premises resource, then make sure your Site tooSite VPN connection is working.</span></span> <span data-ttu-id="6eaa5-347">Om den fungerar kontrollerar du hello samma saker antecknade tidigare samt hello lokala gateway-konfiguration och status.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-347">If it is working, then check hello same things noted earlier as well as hello on-premises gateway configuration and status.</span></span> 

<span data-ttu-id="6eaa5-348">Nu ditt VNet finns VM kan nå datorn lokalt men appen kan sedan hello orsak är förmodligen en av hello följande:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-348">Now if your VNet hosted VM can reach your on-premises system but your app can't then hello reason is likely one of hello following:</span></span>

* <span data-ttu-id="6eaa5-349">din vägar har inte konfigurerats med din punkt toosite IP-adressintervall i din lokala gateway</span><span class="sxs-lookup"><span data-stu-id="6eaa5-349">your routes are not configured with your point toosite IP ranges in your on-premises gateway</span></span>
* <span data-ttu-id="6eaa5-350">din nätverkssäkerhetsgrupper blockerar åtkomst för ditt punkt tooSite IP-adressintervall</span><span class="sxs-lookup"><span data-stu-id="6eaa5-350">your network security groups are blocking access for your Point tooSite IP range</span></span>
* <span data-ttu-id="6eaa5-351">din lokala brandväggar blockerar trafik från din plats tooSite IP-adressintervall</span><span class="sxs-lookup"><span data-stu-id="6eaa5-351">your on-premises firewalls are blocking traffic from your Point tooSite IP range</span></span>
* <span data-ttu-id="6eaa5-352">du har definierat Route(UDR) en användare i ditt VNet som förhindrar punkt tooSite baserat trafiken från att nå lokala nätverk</span><span class="sxs-lookup"><span data-stu-id="6eaa5-352">you have a User Defined Route(UDR) in your VNet that prevents your Point tooSite based traffic from reaching your on-premises network</span></span>

## <a name="hybrid-connections-and-app-service-environments"></a><span data-ttu-id="6eaa5-353">Hybridanslutningar och Apptjänstmiljöer</span><span class="sxs-lookup"><span data-stu-id="6eaa5-353">Hybrid Connections and App Service Environments</span></span>
<span data-ttu-id="6eaa5-354">Det finns tre funktioner som gör att komma åt tooVNet värdbaserade resurser.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-354">There are three features that enable access tooVNet hosted resources.</span></span> <span data-ttu-id="6eaa5-355">De är:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-355">They are:</span></span>

* <span data-ttu-id="6eaa5-356">VNet-integrering</span><span class="sxs-lookup"><span data-stu-id="6eaa5-356">VNet Integration</span></span>
* <span data-ttu-id="6eaa5-357">Hybridanslutningar</span><span class="sxs-lookup"><span data-stu-id="6eaa5-357">Hybrid Connections</span></span>
* <span data-ttu-id="6eaa5-358">Apptjänstmiljöer</span><span class="sxs-lookup"><span data-stu-id="6eaa5-358">App Service Environments</span></span>

<span data-ttu-id="6eaa5-359">Hybridanslutningar kräver tooinstall en relay agent kallas hello Hybrid anslutning Manager(HCM) i nätverket.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-359">Hybrid Connections requires you tooinstall a relay agent called hello Hybrid Connection Manager(HCM) in your network.</span></span> <span data-ttu-id="6eaa5-360">hello HCM måste toobe kan tooconnect tooAzure och tooyour program.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-360">hello HCM needs toobe able tooconnect tooAzure and also tooyour application.</span></span> <span data-ttu-id="6eaa5-361">Den här lösningen är särskilt stor från nätverket, till exempel ditt lokala nätverk eller även ett annat moln värdbaserad nätverk eftersom det inte kräver en tillgänglig internet-slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-361">This solution is especially great from a remote network such as your on-premises network or even another cloud hosted network because it does not require an internet accessible endpoint.</span></span> <span data-ttu-id="6eaa5-362">hello HCM körs bara på Windows och du kan ha upp toofive instanser tooprovide hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-362">hello HCM only runs on Windows and you can have up toofive instances running tooprovide high availability.</span></span> <span data-ttu-id="6eaa5-363">Hybridanslutningar stöder endast TCP men och varje HC slutpunkt har toomatch tooa specifika värdnamn: port-kombination.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-363">Hybrid Connections only supports TCP though and each HC endpoint has toomatch tooa specific host:port combination.</span></span> 

<span data-ttu-id="6eaa5-364">Hej kan Apptjänst-miljö du toorun en instans av hello Azure App Service i ditt VNet.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-364">hello App Service Environment feature allows you toorun an instance of hello Azure App Service in your VNet.</span></span> <span data-ttu-id="6eaa5-365">Detta gör att dina appar komma åt resurser i ditt virtuella nätverk utan extra steg.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-365">This lets your apps access resources in your VNet without any extra steps.</span></span> <span data-ttu-id="6eaa5-366">Vissa hello andra fördelar med en Apptjänst-miljö är att du kan använda Dv2 baserat anställda med upp too14 GB RAM.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-366">Some of hello other benefits of an App Service Environment are that you can use Dv2 based workers with up too14 GB of RAM.</span></span> <span data-ttu-id="6eaa5-367">En annan fördel är att du kan skala hello system toomeet dina behov.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-367">Another benefit is that you can scale hello system toomeet your needs.</span></span> <span data-ttu-id="6eaa5-368">Till skillnad från hello flera innehavare miljöer där ASP är begränsad too20 instanser, i en ASE kan du skala upp too100 ASP instanser.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-368">Unlike hello multi-tenant environments where your ASP is limited too20 instances, in an ASE you can scale up too100 ASP instances.</span></span> <span data-ttu-id="6eaa5-369">Hello saker som du får med en ASE som du inte med VNet-integrering är att en Apptjänst-miljö kan arbeta med en ExpressRoute-VPN.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-369">One of hello things you get with an ASE that you don't with VNet Integration is that an App Service Environment can work with an ExpressRoute VPN.</span></span> 

<span data-ttu-id="6eaa5-370">När det inte finns några använder case överlappar varandra kan kan ingen av de här funktionerna ersätta någon hello andra.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-370">While there is some use case overlap, none of these feature can replace any of hello others.</span></span> <span data-ttu-id="6eaa5-371">Att veta vilka funktionen toouse är bundet tooyour behov.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-371">Knowing what feature toouse is tied tooyour needs.</span></span> <span data-ttu-id="6eaa5-372">Exempel:</span><span class="sxs-lookup"><span data-stu-id="6eaa5-372">For example:</span></span>

* <span data-ttu-id="6eaa5-373">Om du utvecklar och bara vill toorun en plats i Azure och har åtkomst hello databasen hello arbetsstation under skrivbordet, sedan hello enklaste sak toouse Hybridanslutningar.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-373">If you are a developer and simply want toorun a site in Azure and have it access hello database on hello workstation under your desk, then hello easiest thing toouse is Hybrid Connections.</span></span> 
* <span data-ttu-id="6eaa5-374">Om du har en stor organisation som vill tooput ett stort antal webbegenskaper i hello offentligt moln och hantera dem i ditt eget nätverk vill du toogo med hello Apptjänst-miljö.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-374">If you are a large organization that wants tooput a large number of web properties in hello public cloud and manage them in your own network, then you want toogo with hello App Service Environment.</span></span> 
* <span data-ttu-id="6eaa5-375">Om du har ett antal Apptjänst finns appar och bara vill tooaccess resurser i ditt VNet, sedan VNet-integrering är hello sätt toogo.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-375">If you have a number of App Service hosted apps and simply want tooaccess resources in your VNet, then VNet Integration is hello way toogo.</span></span> 

<span data-ttu-id="6eaa5-376">Det finns vissa enkelhet utöver hello användningsområden relaterade aspekter.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-376">Beyond hello use cases, there are some simplicity related aspects.</span></span> <span data-ttu-id="6eaa5-377">Om ditt VNet är redan ansluten tooyour lokalt nätverk genom integrering av virtuellt nätverk eller en Apptjänst-miljö är ett enkelt sätt tooconsume lokala resurser.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-377">If your VNet is already connected tooyour on-premises network, then using VNet Integration or an App Service Environment is an easy way tooconsume on-premises resources.</span></span> <span data-ttu-id="6eaa5-378">På hello ansluten däremot om ditt VNet inte är tooyour lokalt nätverk är det mycket mer övergripande tooset upp en plats toosite VPN med ditt VNet jämfört med att installera hello HCM.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-378">On hello other hand, if your VNet is not connected tooyour on-premises network then it's a lot more overhead tooset up a site toosite VPN with your VNet compared with installing hello HCM.</span></span> 

<span data-ttu-id="6eaa5-379">Därutöver Hej funktionella skillnader, också priser skillnader.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-379">Beyond hello functional differences, there are also pricing differences.</span></span> <span data-ttu-id="6eaa5-380">Hej Apptjänstmiljö funktionen är en Premium tjänsterbjudande men erbjudanden hello möjligheter för de flesta nätverk configuration dessutom tooother bra funktioner.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-380">hello App Service Environment feature is a Premium service offering but offers hello most network configuration possibilities in addition tooother great features.</span></span> <span data-ttu-id="6eaa5-381">VNet-integrering kan användas med Standard eller Premium ASP och är perfekt för förbrukning av resurser i ditt virtuella nätverk från hello flera innehavare Apptjänst på ett säkert sätt.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-381">VNet Integration can be used with Standard or Premium ASPs and is perfect for securely consuming resources in your VNet from hello multi-tenant App Service.</span></span> <span data-ttu-id="6eaa5-382">Hybridanslutningar för närvarande beror på ett konto som har prissättning nivåer som startar ledigt och sedan hämta progressivt dyrare baserat på hello beloppet måste BizTalk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-382">Hybrid Connections currently depends on a BizTalk account, which has pricing levels that start free and then get progressively more expensive based on hello amount you need.</span></span> <span data-ttu-id="6eaa5-383">När det gäller tooworking över flera nätverk men finns det ingen annan funktion som Hybridanslutningar som gör att du tooaccess resurser i väl över 100 separata nätverk.</span><span class="sxs-lookup"><span data-stu-id="6eaa5-383">When it comes tooworking across many networks though, there is no other feature like Hybrid Connections, which can enable you tooaccess resources in well over 100 separate networks.</span></span> 

<!--Image references-->
[1]: ./media/web-sites-integrate-with-vnet/vnetint-upgradeplan.png
[2]: ./media/web-sites-integrate-with-vnet/vnetint-existingvnet.png
[3]: ./media/web-sites-integrate-with-vnet/vnetint-createvnet.png
[4]: ./media/web-sites-integrate-with-vnet/vnetint-howitworks.png
[5]: ./media/web-sites-integrate-with-vnet/vnetint-appmanage.png
[6]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanage.png
[7]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanagedetail.png
[8]: ./media/web-sites-integrate-with-vnet/vnetint-vnetp2s.png

<!--Links-->
[VNETOverview]: http://azure.microsoft.com/documentation/articles/virtual-networks-overview/ 
[AzurePortal]: http://portal.azure.com/
[ASPricing]: http://azure.microsoft.com/pricing/details/app-service/
[VNETPricing]: http://azure.microsoft.com/pricing/details/vpn-gateway/
[DataPricing]: http://azure.microsoft.com/pricing/details/data-transfers/
[V2VNETP2S]: http://azure.microsoft.com/documentation/articles/vpn-gateway-howto-point-to-site-rm-ps/
[IntPowershell]: http://azure.microsoft.com/documentation/articles/app-service-vnet-integration-powershell/
[ASEintro]: http://docs.microsoft.com/azure/app-service/app-service-environment/intro
[ILBASE]: http://docs.microsoft.com/azure/app-service/app-service-environment/create-ilb-ase
[V2VNETPortal]: https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal
[VPNERCoex]: http://docs.microsoft.com/en-us/azure/expressroute/expressroute-howto-coexist-resource-manager
[ASE]: http://docs.microsoft.com/azure/app-service/app-service-environment/intro
