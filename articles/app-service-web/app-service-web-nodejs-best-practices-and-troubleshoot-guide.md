---
title: "aaaBest metoder och felsökningsguiden för noden program på Azure-Webbappar"
description: "Lär dig hello metodtips och felsökningssteg för noden program på Azure Web Apps."
services: app-service\web
documentationcenter: nodejs
author: ranjithr
manager: wadeh
editor: 
ms.assetid: 387ea217-7910-4468-8987-9a1022a99bef
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 06/06/2016
ms.author: ranjithr
ms.openlocfilehash: 975898142a224f14df1091a46d16e9074d9e2831
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-and-troubleshooting-guide-for-node-applications-on-azure-web-apps"></a><span data-ttu-id="9f821-103">Bästa praxis och felsökningsguiden för noden program på Azure-Webbappar</span><span class="sxs-lookup"><span data-stu-id="9f821-103">Best practices and troubleshooting guide for node applications on Azure Web Apps</span></span>
[!INCLUDE [tabs](../../includes/app-service-web-get-started-nav-tabs.md)]

<span data-ttu-id="9f821-104">I den här artikeln får du lära dig hello metodtips och felsökningssteg för [noden program](app-service-web-get-started-nodejs.md) körs på Azure-Webbappar (med [iisnode](https://github.com/azure/iisnode)).</span><span class="sxs-lookup"><span data-stu-id="9f821-104">In this article, you will learn hello best practices and troubleshooting steps for [node applications](app-service-web-get-started-nodejs.md) running on Azure Webapps (with [iisnode](https://github.com/azure/iisnode)).</span></span>

> [!WARNING]
> <span data-ttu-id="9f821-105">Var försiktig när du använder för felsökning på webbplatsen produktion.</span><span class="sxs-lookup"><span data-stu-id="9f821-105">Use caution when using troubleshooting steps on your production site.</span></span> <span data-ttu-id="9f821-106">Rekommendation är tootroubleshoot din app på en produktion till exempel konfigurera din mellanlagringsplatsen och när hello problemet har åtgärdats, byta din mellanlagringsplatsen med din produktionsplatsen.</span><span class="sxs-lookup"><span data-stu-id="9f821-106">Recommendation is tootroubleshoot your app on a non-production setup for example your staging slot and when hello issue is fixed, swap your staging slot with your production slot.</span></span>
> 
> 

## <a name="iisnode-configuration"></a><span data-ttu-id="9f821-107">IISNODE-konfiguration</span><span class="sxs-lookup"><span data-stu-id="9f821-107">IISNODE configuration</span></span>
<span data-ttu-id="9f821-108">Detta [schemafilen](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) visar alla hello-inställningar som kan konfigureras för iisnode.</span><span class="sxs-lookup"><span data-stu-id="9f821-108">This [schema file](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) shows all hello settings that can be configured for iisnode.</span></span> <span data-ttu-id="9f821-109">Vissa hello-inställningar som kan användas för ditt program är:</span><span class="sxs-lookup"><span data-stu-id="9f821-109">Some of hello settings that will be useful for your application are:</span></span>

* <span data-ttu-id="9f821-110">nodeProcessCountPerApplication</span><span class="sxs-lookup"><span data-stu-id="9f821-110">nodeProcessCountPerApplication</span></span>
  
    <span data-ttu-id="9f821-111">Den här inställningen styr hello antalet noden processer som startas per IIS-program.</span><span class="sxs-lookup"><span data-stu-id="9f821-111">This setting controls hello number of node processes that are launched per IIS application.</span></span> <span data-ttu-id="9f821-112">Standardvärdet är 1.</span><span class="sxs-lookup"><span data-stu-id="9f821-112">Default value is 1.</span></span> <span data-ttu-id="9f821-113">Du kan starta så många node.exe som din Virtuella core antal genom att ange den här too0.</span><span class="sxs-lookup"><span data-stu-id="9f821-113">You can launch as many node.exe’s as your VM core count by setting this too0.</span></span> <span data-ttu-id="9f821-114">Rekommenderat värde är 0 för de flesta program så att du kan använda alla hello kärnor på datorn.</span><span class="sxs-lookup"><span data-stu-id="9f821-114">Recommended value is 0 for most application so you can utilize all of hello cores on your machine.</span></span> <span data-ttu-id="9f821-115">Node.exe är en enskild threaded så att en node.exe kommer att använda högst 1 core och tooget maximala prestanda utanför tillämpningsprogrammet nod du vill ha tooutilize alla kärnor.</span><span class="sxs-lookup"><span data-stu-id="9f821-115">Node.exe is single threaded so one node.exe will consume a maximum of 1 core and tooget maximum performance out of your node application you would want tooutilize all cores.</span></span>
* <span data-ttu-id="9f821-116">nodeProcessCommandLine</span><span class="sxs-lookup"><span data-stu-id="9f821-116">nodeProcessCommandLine</span></span>
  
    <span data-ttu-id="9f821-117">Den här inställningen styr hello sökvägen toohello node.exe.</span><span class="sxs-lookup"><span data-stu-id="9f821-117">This setting controls hello path toohello node.exe.</span></span> <span data-ttu-id="9f821-118">Du kan ange det här värdet toopoint tooyour node.exe version.</span><span class="sxs-lookup"><span data-stu-id="9f821-118">You can set this value toopoint tooyour node.exe version.</span></span>
* <span data-ttu-id="9f821-119">maxConcurrentRequestsPerProcess</span><span class="sxs-lookup"><span data-stu-id="9f821-119">maxConcurrentRequestsPerProcess</span></span>
  
    <span data-ttu-id="9f821-120">Den här inställningen styr hello maximalt antal samtidiga förfrågningar som skickas av iisnode tooeach node.exe.</span><span class="sxs-lookup"><span data-stu-id="9f821-120">This setting controls hello maximum number of concurrent requests sent by iisnode tooeach node.exe.</span></span> <span data-ttu-id="9f821-121">På azure webbappar är hello standardvärdet för det här oändligt.</span><span class="sxs-lookup"><span data-stu-id="9f821-121">On azure webapps, hello default value for this is Infinite.</span></span> <span data-ttu-id="9f821-122">Du har inte tooworry om den här inställningen.</span><span class="sxs-lookup"><span data-stu-id="9f821-122">You will not have tooworry about this setting.</span></span> <span data-ttu-id="9f821-123">Utanför azure webbappar är hello standardvärdet 1024.</span><span class="sxs-lookup"><span data-stu-id="9f821-123">Outside azure webapps, hello default value is 1024.</span></span> <span data-ttu-id="9f821-124">Du kanske vill tooconfigure detta beroende på hur många begär programmet hämtar och hur snabbt programmet bearbetar varje begäran.</span><span class="sxs-lookup"><span data-stu-id="9f821-124">You might want tooconfigure this depending on how many requests your application gets and how fast your application processes each request.</span></span>
* <span data-ttu-id="9f821-125">maxNamedPipeConnectionRetry</span><span class="sxs-lookup"><span data-stu-id="9f821-125">maxNamedPipeConnectionRetry</span></span>
  
    <span data-ttu-id="9f821-126">Den här inställningen styr hello maximalt antal gånger som iisnode kommer att försöka att anslutningen på hello namngivna pipe toosend hello begäran via toonode.exe.</span><span class="sxs-lookup"><span data-stu-id="9f821-126">This setting controls hello maximum number of times iisnode will retry making connection on hello named pipe toosend hello request over toonode.exe.</span></span> <span data-ttu-id="9f821-127">Den här inställningen i kombination med namedPipeConnectionRetryDelay avgör hello totala tidsgränsen för varje begäran inom iisnode.</span><span class="sxs-lookup"><span data-stu-id="9f821-127">This setting in combination with namedPipeConnectionRetryDelay determines hello total timeout of each request within iisnode.</span></span> <span data-ttu-id="9f821-128">Standardvärdet är 200 på Azure-Webbappar.</span><span class="sxs-lookup"><span data-stu-id="9f821-128">Default value is 200 on Azure Webapps.</span></span> <span data-ttu-id="9f821-129">Totalt antal tidsgräns i sekunder = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="9f821-129">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
* <span data-ttu-id="9f821-130">namedPipeConnectionRetryDelay</span><span class="sxs-lookup"><span data-stu-id="9f821-130">namedPipeConnectionRetryDelay</span></span>
  
    <span data-ttu-id="9f821-131">Den här inställningen kontrollerar hello mängden tid (i ms) iisnode ska vänta mellan varje försök toosend begäran toonode.exe över hello namngiven pipe.</span><span class="sxs-lookup"><span data-stu-id="9f821-131">This setting controls hello amount of time (in ms) iisnode will wait for between each retry toosend request toonode.exe over hello named pipe.</span></span> <span data-ttu-id="9f821-132">Standardvärdet är 250ms.</span><span class="sxs-lookup"><span data-stu-id="9f821-132">Default value is 250ms.</span></span>
    <span data-ttu-id="9f821-133">Totalt antal tidsgräns i sekunder = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="9f821-133">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
  
    <span data-ttu-id="9f821-134">Som standard är hello totala timeout i iisnode på azure webbappar 200 \* 250ms = 50 sekunder.</span><span class="sxs-lookup"><span data-stu-id="9f821-134">By default hello total timeout in iisnode on azure webapps is 200 \* 250ms = 50 seconds.</span></span>
* <span data-ttu-id="9f821-135">logDirectory</span><span class="sxs-lookup"><span data-stu-id="9f821-135">logDirectory</span></span>
  
    <span data-ttu-id="9f821-136">Den här inställningen styr hello katalogen där iisnode loggas stdout/stderr.</span><span class="sxs-lookup"><span data-stu-id="9f821-136">This setting controls hello directory where iisnode will log stdout/stderr.</span></span> <span data-ttu-id="9f821-137">Standardvärdet är iisnode som är relativa toohello huvudskriptet katalogen (directory där huvudsakliga server.js finns)</span><span class="sxs-lookup"><span data-stu-id="9f821-137">Default value is iisnode which is relative toohello main script directory (directory where main server.js is present)</span></span>
* <span data-ttu-id="9f821-138">debuggerExtensionDll</span><span class="sxs-lookup"><span data-stu-id="9f821-138">debuggerExtensionDll</span></span>
  
    <span data-ttu-id="9f821-139">Den här inställningen styr vilken version av node-inspector iisnode ska använda vid felsökning av tillämpningsprogrammet nod.</span><span class="sxs-lookup"><span data-stu-id="9f821-139">This setting controls what version of node-inspector iisnode will use when debugging your node application.</span></span> <span data-ttu-id="9f821-140">Iisnode-inspector-0.7.3.dll och iisnode inspector.dll för närvarande hello 2 endast giltiga värden för den här inställningen.</span><span class="sxs-lookup"><span data-stu-id="9f821-140">Currently iisnode-inspector-0.7.3.dll and iisnode-inspector.dll are hello only 2 valid values for this setting.</span></span> <span data-ttu-id="9f821-141">Standardvärdet är iisnode-inspector-0.7.3.dll.</span><span class="sxs-lookup"><span data-stu-id="9f821-141">Default value is iisnode-inspector-0.7.3.dll.</span></span> <span data-ttu-id="9f821-142">iisnode-inspector-0.7.3.dll version använder node-inspector-0.7.3 och använder websockets, så du måste tooenable websockets på azure webapp-toouse den här versionen.</span><span class="sxs-lookup"><span data-stu-id="9f821-142">iisnode-inspector-0.7.3.dll version uses node-inspector-0.7.3 and uses websockets, so you will need tooenable websockets on your azure webapp toouse this version.</span></span> <span data-ttu-id="9f821-143">Se <http://www.ranjithr.com/?p=98> för mer information om hur tooconfigure iisnode toouse hello nya node-inspector.</span><span class="sxs-lookup"><span data-stu-id="9f821-143">See <http://www.ranjithr.com/?p=98> for more details on how tooconfigure iisnode toouse hello new node-inspector.</span></span>
* <span data-ttu-id="9f821-144">flushResponse</span><span class="sxs-lookup"><span data-stu-id="9f821-144">flushResponse</span></span>
  
    <span data-ttu-id="9f821-145">hello standardbeteendet för IIS är att den buffrar svarsdata upp too4MB innan eller tills hello slutet av hello svar, beroende på vilket som kommer först.</span><span class="sxs-lookup"><span data-stu-id="9f821-145">hello default behavior of IIS is that it buffers response data up too4MB before flushing, or until hello end of hello response, whichever comes first.</span></span> <span data-ttu-id="9f821-146">iisnode erbjuder en konfigurationsinställning toooverride problemet: tooflush fragment av hello svarstexten entiteten så snart som iisnode tar emot det från node.exe måste du tooset hello iisnode/@flushResponse attribut i web.config too'true':</span><span class="sxs-lookup"><span data-stu-id="9f821-146">iisnode offers a configuration setting toooverride this behavior: tooflush a fragment of hello response entity body as soon as iisnode receives it from node.exe, you need tooset hello iisnode/@flushResponse attribute in web.config too'true':</span></span>
  
    ```
    <configuration>    
        <system.webServer>    
            <!-- ... -->    
            <iisnode flushResponse="true" />    
        </system.webServer>    
    </configuration>
    ```
  
    <span data-ttu-id="9f821-147">Genom att aktivera bokföring för varje fragment av hello svarstexten entitet läggs prestanda försämras som minskar hello genomflödet i hello system med ~ 5% (från och med v0.1.13), så det är bästa tooscope den här inställningen bara tooendpoints som kräver svar strömning (t.ex. med hello <location> -elementet i web.config hello)</span><span class="sxs-lookup"><span data-stu-id="9f821-147">Enabling flushing of every fragment of hello response entity body adds performance overhead that reduces hello throughput of hello system by ~5% (as of v0.1.13), so it is best tooscope this setting only tooendpoints that require response streaming (e.g. using hello <location> element in hello web.config)</span></span>
  
    <span data-ttu-id="9f821-148">I tillägg toothis behöver för direktuppspelning av program, du tooalso set responseBufferLimit av din iisnode hanterare too0.</span><span class="sxs-lookup"><span data-stu-id="9f821-148">In addition toothis, for streaming applications, you will need tooalso set responseBufferLimit of your iisnode handler too0.</span></span>
  
    ```
    <handlers>    
        <add name="iisnode" path="app.js" verb="\*" modules="iisnode" responseBufferLimit="0"/>    
    </handlers>
    ```
* <span data-ttu-id="9f821-149">watchedFiles</span><span class="sxs-lookup"><span data-stu-id="9f821-149">watchedFiles</span></span>
  
    <span data-ttu-id="9f821-150">Detta är en lista över filer som ska övervakas för ändringar som gäller avgränsas med semikolon.</span><span class="sxs-lookup"><span data-stu-id="9f821-150">This is a semi-colon separated list of files that will be watched for changes.</span></span> <span data-ttu-id="9f821-151">En ändring tooa fil gör hello programmet toorecycle.</span><span class="sxs-lookup"><span data-stu-id="9f821-151">A change tooa file causes hello application toorecycle.</span></span> <span data-ttu-id="9f821-152">Varje post består av ett valfritt katalognamnet samt nödvändiga filnamn som är relativa toohello katalogen där hello programmets startpunkt finns.</span><span class="sxs-lookup"><span data-stu-id="9f821-152">Each entry consists of an optional directory name plus required file name which are relative toohello directory where hello main application entry point is located.</span></span> <span data-ttu-id="9f821-153">Jokertecken är tillåtna i hello filen namnet delen.</span><span class="sxs-lookup"><span data-stu-id="9f821-153">Wild cards are allowed in hello file name portion only.</span></span> <span data-ttu-id="9f821-154">Standardvärdet är ”\*. js;web.config”</span><span class="sxs-lookup"><span data-stu-id="9f821-154">Default value is “\*.js;web.config”</span></span>
* <span data-ttu-id="9f821-155">recycleSignalEnabled</span><span class="sxs-lookup"><span data-stu-id="9f821-155">recycleSignalEnabled</span></span>
  
    <span data-ttu-id="9f821-156">Standardvärdet är false.</span><span class="sxs-lookup"><span data-stu-id="9f821-156">Default value is false.</span></span> <span data-ttu-id="9f821-157">Om aktiverad, node-App kan ansluta tooa namngiven pipe (miljövariabeln IISNODE\_kontrollen\_PIPE) och skicka ett meddelande om ”återvinning”.</span><span class="sxs-lookup"><span data-stu-id="9f821-157">If enabled, your node application can connect tooa named pipe (environment variable IISNODE\_CONTROL\_PIPE) and send a “recycle” message.</span></span> <span data-ttu-id="9f821-158">Detta innebär att hello w3wp toorecycle avslutas.</span><span class="sxs-lookup"><span data-stu-id="9f821-158">This will cause hello w3wp toorecycle gracefully.</span></span>
* <span data-ttu-id="9f821-159">idlePageOutTimePeriod</span><span class="sxs-lookup"><span data-stu-id="9f821-159">idlePageOutTimePeriod</span></span>
  
    <span data-ttu-id="9f821-160">Standardvärdet är 0 vilket betyder att den här funktionen är inaktiverad.</span><span class="sxs-lookup"><span data-stu-id="9f821-160">Default value is 0 which means this feature is disabled.</span></span> <span data-ttu-id="9f821-161">När set toosome-värde som är större än 0, iisnode kommer sidan ut alla dess underordnade bearbetar alla 'idlePageOutTimePeriod' millisekunder.</span><span class="sxs-lookup"><span data-stu-id="9f821-161">When set toosome value greater than 0, iisnode will page out all its child processes every ‘idlePageOutTimePeriod’ milliseconds.</span></span> <span data-ttu-id="9f821-162">toounderstand vad sidan ut medel, se toothis [dokumentationen](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span><span class="sxs-lookup"><span data-stu-id="9f821-162">toounderstand what page out means, please refer toothis [documentation](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span></span> <span data-ttu-id="9f821-163">Den här inställningen kan vara användbart för program som använder mycket minne och vill toopageout minne toodisk ibland toofree upp vissa RAM-minne.</span><span class="sxs-lookup"><span data-stu-id="9f821-163">This setting will be useful for applications that consume a lot of memory and want toopageout memory toodisk occasionally toofree up some RAM.</span></span>

> [!WARNING]
> <span data-ttu-id="9f821-164">Var försiktig när du aktiverar hello följande inställningar på program i produktion.</span><span class="sxs-lookup"><span data-stu-id="9f821-164">Use caution when enabling hello following configuration settings on production applications.</span></span> <span data-ttu-id="9f821-165">Rekommendation är toonot aktivera dem på live produktionsprogram.</span><span class="sxs-lookup"><span data-stu-id="9f821-165">Recommendation is toonot enable them on live production applications.</span></span>
> 
> 

* <span data-ttu-id="9f821-166">debugHeaderEnabled</span><span class="sxs-lookup"><span data-stu-id="9f821-166">debugHeaderEnabled</span></span>
  
    <span data-ttu-id="9f821-167">hello standardvärdet är false.</span><span class="sxs-lookup"><span data-stu-id="9f821-167">hello default value is false.</span></span> <span data-ttu-id="9f821-168">Om ange tootrue, iisnode lägger till ett HTTP-svar huvud iisnode-debug tooevery HTTP svar skickas hello iisnode-debug-huvud är en URL.</span><span class="sxs-lookup"><span data-stu-id="9f821-168">If set tootrue, iisnode will add an HTTP response header iisnode-debug tooevery HTTP response it sends hello iisnode-debug header value is a URL.</span></span> <span data-ttu-id="9f821-169">Enskilda delar diagnostisk information kan vara uppnår genom att titta på hello URL-fragment, men en mycket bättre visualisering uppnås genom att öppna hello URL i hello webbläsare.</span><span class="sxs-lookup"><span data-stu-id="9f821-169">Individual pieces of diagnostic information can be gleaned by looking at hello URL fragment, but a much better visualization is achieved by opening hello URL in hello browser.</span></span>
* <span data-ttu-id="9f821-170">loggingEnabled</span><span class="sxs-lookup"><span data-stu-id="9f821-170">loggingEnabled</span></span>
  
    <span data-ttu-id="9f821-171">Den här inställningen styr hello loggning av stdout och stderr av iisnode.</span><span class="sxs-lookup"><span data-stu-id="9f821-171">This setting controls hello logging of stdout and stderr by iisnode.</span></span> <span data-ttu-id="9f821-172">Iisnode ska avbilda stdout/stderr från noden processer som startas och skriva toohello katalogen som anges i inställningen för hello 'logDirectory'.</span><span class="sxs-lookup"><span data-stu-id="9f821-172">Iisnode will capture stdout/stderr from node processes it launches and write toohello directory specified in hello ‘logDirectory’ setting.</span></span> <span data-ttu-id="9f821-173">När detta är att aktivera programmet skriver loggar toohello filsystemet och beroende på hello mängden loggning som utförs av programmet hello, kan det finnas prestanda.</span><span class="sxs-lookup"><span data-stu-id="9f821-173">Once this is enable, your application will be writing logs toohello file system and depending on hello amount of logging done by hello application, there could be performance implications.</span></span>
* <span data-ttu-id="9f821-174">devErrorsEnabled</span><span class="sxs-lookup"><span data-stu-id="9f821-174">devErrorsEnabled</span></span>
  
    <span data-ttu-id="9f821-175">Standardvärdet är false.</span><span class="sxs-lookup"><span data-stu-id="9f821-175">Default value is false.</span></span> <span data-ttu-id="9f821-176">Om värdet är tootrue, iisnode visar hello HTTP-statuskoden och Win32-felkod i webbläsaren.</span><span class="sxs-lookup"><span data-stu-id="9f821-176">When set tootrue, iisnode will display hello HTTP status code and Win32 error code on your browser.</span></span> <span data-ttu-id="9f821-177">hello win32-kod är användbar vid felsökning av vissa typer av problem.</span><span class="sxs-lookup"><span data-stu-id="9f821-177">hello win32 code will be helpful in debugging certain types of issues.</span></span>
* <span data-ttu-id="9f821-178">debuggingEnabled (aktivera inte på live produktionsplatsen)</span><span class="sxs-lookup"><span data-stu-id="9f821-178">debuggingEnabled (do not enable on live production site)</span></span>
  
    <span data-ttu-id="9f821-179">Den här inställningen styr felsökningsfunktionen.</span><span class="sxs-lookup"><span data-stu-id="9f821-179">This setting controls debugging feature.</span></span> <span data-ttu-id="9f821-180">Iisnode är integrerad med node-inspector.</span><span class="sxs-lookup"><span data-stu-id="9f821-180">Iisnode is integrated with node-inspector.</span></span> <span data-ttu-id="9f821-181">Genom att aktivera den här inställningen kan aktivera du felsökning av tillämpningsprogrammet nod.</span><span class="sxs-lookup"><span data-stu-id="9f821-181">By enabling this setting, you enable debugging of your node application.</span></span> <span data-ttu-id="9f821-182">När den här inställningen är aktiverad kommer iisnode layout hello nödvändiga node-inspector filer i 'debuggerVirtualDir'-katalogen för hello första debug-begäran tooyour nod.</span><span class="sxs-lookup"><span data-stu-id="9f821-182">Once this setting is enabled, iisnode will layout hello necessary node-inspector files in ‘debuggerVirtualDir’ directory on hello first debug request tooyour node application.</span></span> <span data-ttu-id="9f821-183">Du kan läsa in hello node-inspector genom att skicka en begäran toohttp://yoursite/server.js/debug.</span><span class="sxs-lookup"><span data-stu-id="9f821-183">You can load hello node-inspector by sending a request toohttp://yoursite/server.js/debug.</span></span> <span data-ttu-id="9f821-184">Du kan styra hello debug URL-segment med inställningen 'debuggerPathSegment'.</span><span class="sxs-lookup"><span data-stu-id="9f821-184">You can control hello debug URL segment with ‘debuggerPathSegment’ setting.</span></span> <span data-ttu-id="9f821-185">Som standard debuggerPathSegment = 'debug ”.</span><span class="sxs-lookup"><span data-stu-id="9f821-185">By default debuggerPathSegment=’debug’.</span></span> <span data-ttu-id="9f821-186">Du kan ange den här tooa GUID, till exempel så att det är svårare toobe som identifieras av andra.</span><span class="sxs-lookup"><span data-stu-id="9f821-186">You can set this tooa GUID for example so that it is more difficult toobe discovered by others.</span></span>
  
    <span data-ttu-id="9f821-187">Kontrollera detta [länken](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) för mer information om hur du felsöker.</span><span class="sxs-lookup"><span data-stu-id="9f821-187">Check this [link](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) for more details on debugging.</span></span>

## <a name="scenarios-and-recommendationstroubleshooting"></a><span data-ttu-id="9f821-188">Scenarier och rekommendationer/felsökning</span><span class="sxs-lookup"><span data-stu-id="9f821-188">Scenarios and recommendations/troubleshooting</span></span>
### <a name="my-node-application-is-making-too-many-outbound-calls"></a><span data-ttu-id="9f821-189">Node-App är att för många utgående anrop.</span><span class="sxs-lookup"><span data-stu-id="9f821-189">My node application is making too many outbound calls.</span></span>
<span data-ttu-id="9f821-190">Många program kan toomake utgående anslutningar som en del av deras regelbunden drift.</span><span class="sxs-lookup"><span data-stu-id="9f821-190">Many applications would want toomake outbound connections as part of their regular operation.</span></span> <span data-ttu-id="9f821-191">Till exempel när en begäran kommer, skulle appen nod vill toocontact REST API någon annanstans och hämta viss information tooprocess hello-begäran.</span><span class="sxs-lookup"><span data-stu-id="9f821-191">For example, when a request comes in, your node app would want toocontact a REST API elsewhere and get some information tooprocess hello request.</span></span> <span data-ttu-id="9f821-192">Du kan toouse en keep-alive agent när du anropar http eller https.</span><span class="sxs-lookup"><span data-stu-id="9f821-192">You would want toouse a keep alive agent when making http or https calls.</span></span> <span data-ttu-id="9f821-193">Exempelvis kan också använda hello agentkeepalive modul som agent keep-alive när du gör dessa utgående anrop.</span><span class="sxs-lookup"><span data-stu-id="9f821-193">For example, you could use hello agentkeepalive module as your keep alive agent when making these outbound calls.</span></span> <span data-ttu-id="9f821-194">Detta säkerställer att hello sockets återanvänds på azure webapp VM och minska hello arbetet med att skapa nya sockets för varje utgående begäran.</span><span class="sxs-lookup"><span data-stu-id="9f821-194">This makes sure that hello sockets are reused on your azure webapp VM and reducing hello overhead of creating new sockets for every outbound request.</span></span> <span data-ttu-id="9f821-195">Detta ser också till att du använder mindre antal sockets toomake många utgående förfrågningar och därför du inte överstiga hello maxsocket som allokeras per VM.</span><span class="sxs-lookup"><span data-stu-id="9f821-195">Also, this makes sure that you are using less number of sockets toomake many outbound requests and therefore you don’t exceed hello maxSockets that are allocated per VM.</span></span> <span data-ttu-id="9f821-196">Rekommendation om Azure-Webbappar skulle vara tooset hello agentKeepAlive maxsocket värdet tooa totalt 160 sockets per virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="9f821-196">Recommendation on Azure Webapps would be tooset hello agentKeepAlive maxSockets value tooa total of 160 sockets per VM.</span></span> <span data-ttu-id="9f821-197">Det innebär att om du har 4 node.exe körs på hello VM du bör tooset hello agentKeepAlive maxsocket too40 per node.exe som är 160 Totalt per virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="9f821-197">This means that if you have 4 node.exe running on hello VM, you would want tooset hello agentKeepAlive maxSockets too40 per node.exe which is 160 total per VM.</span></span>

<span data-ttu-id="9f821-198">Exempel [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) konfiguration:</span><span class="sxs-lookup"><span data-stu-id="9f821-198">Example [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) configuration:</span></span>

```
var keepaliveAgent = new Agent({    
    maxSockets: 40,    
    maxFreeSockets: 10,    
    timeout: 60000,    
    keepAliveTimeout: 300000    
});
```

<span data-ttu-id="9f821-199">Det här exemplet förutsätter att du har 4 node.exe körs på den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="9f821-199">This example assumes you have 4 node.exe running on your VM.</span></span> <span data-ttu-id="9f821-200">Om du har ett annat antal node.exe körs på hello VM har du toomodify hello maxsocket ange därefter.</span><span class="sxs-lookup"><span data-stu-id="9f821-200">If you have a different number of node.exe running on hello VM, you will have toomodify hello maxSockets setting accordingly.</span></span>

### <a name="my-node-application-is-consuming-too-much-cpu"></a><span data-ttu-id="9f821-201">Min noden program förbrukar för mycket CPU.</span><span class="sxs-lookup"><span data-stu-id="9f821-201">My node application is consuming too much CPU.</span></span>
<span data-ttu-id="9f821-202">Förmodligen visas en rekommendation från Azure-Webbappar på portalen om hög cpu-förbrukning.</span><span class="sxs-lookup"><span data-stu-id="9f821-202">You will probably get a recommendation from Azure Webapps on your portal about high cpu consumption.</span></span> <span data-ttu-id="9f821-203">Du kan också installationsprogrammet Övervakare toowatch för vissa [mått](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="9f821-203">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="9f821-204">När du kontrollerar hello CPU-användning på hello [Azure Portal instrumentpanelen](../application-insights/app-insights-web-monitor-performance.md), kontrollera hello maxvärde för CPU så att du inte missar ut hello högsta värden.</span><span class="sxs-lookup"><span data-stu-id="9f821-204">When checking hello CPU usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for CPU so you don’t miss out hello peak values.</span></span>
<span data-ttu-id="9f821-205">I fall där du tror att ditt program förbrukar för mycket CPU och du kan förklara varför behöver du tooprofile node-App.</span><span class="sxs-lookup"><span data-stu-id="9f821-205">In cases where you think your application is consuming too much CPU and you cannot explain why, you will need tooprofile your node application.</span></span>

### 
#### <a name="profiling-your-node-application-on-azure-webapps-with-v8-profiler"></a><span data-ttu-id="9f821-206">Profilering av noden programmet på azure webbappar med V8-Profiler</span><span class="sxs-lookup"><span data-stu-id="9f821-206">Profiling your node application on azure webapps with V8-Profiler</span></span>
<span data-ttu-id="9f821-207">Exempelvis kan säga du har en hello world-app som du vill tooprofile enligt nedan:</span><span class="sxs-lookup"><span data-stu-id="9f821-207">For example, lets say you have a hello world app that you want tooprofile as shown below:</span></span>

```
var http = require('http');    
function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    WriteConsoleLog();    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="9f821-208">Gå tooyour scm plats https://yoursite.scm.azurewebsites.net/DebugConsole</span><span class="sxs-lookup"><span data-stu-id="9f821-208">Go tooyour scm site https://yoursite.scm.azurewebsites.net/DebugConsole</span></span>

<span data-ttu-id="9f821-209">Kommandotolken visas enligt nedan.</span><span class="sxs-lookup"><span data-stu-id="9f821-209">You will see a command prompt as shown below.</span></span> <span data-ttu-id="9f821-210">Gå till din plats/wwwroot-katalog</span><span class="sxs-lookup"><span data-stu-id="9f821-210">Go into your site/wwwroot directory</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_install_v8.png)

<span data-ttu-id="9f821-211">Kör kommandot hello ”npm installera v8 profiler”</span><span class="sxs-lookup"><span data-stu-id="9f821-211">Run hello command “npm install v8-profiler”</span></span>

<span data-ttu-id="9f821-212">Detta ska installera v8 profileraren under noden\_moduler katalogen och alla dess beroenden.</span><span class="sxs-lookup"><span data-stu-id="9f821-212">This should install v8-profiler under node\_modules directory and all of its dependencies.</span></span>
<span data-ttu-id="9f821-213">Nu kan redigera din server.js tooprofile ditt program.</span><span class="sxs-lookup"><span data-stu-id="9f821-213">Now, edit your server.js tooprofile your application.</span></span>

```
var http = require('http');    
var profiler = require('v8-profiler');    
var fs = require('fs');

function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    profiler.startProfiling('HandleRequest');    
    WriteConsoleLog();    
    fs.writeFileSync('profile.cpuprofile', JSON.stringify(profiler.stopProfiling('HandleRequest')));    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="9f821-214">hello ovan ändringar kommer profilen hello WriteConsoleLog funktionen och sedan skriva hello profil utdata too'profile.cpuprofile-filen under din plats wwwroot.</span><span class="sxs-lookup"><span data-stu-id="9f821-214">hello above changes will profile hello WriteConsoleLog function and then write hello profile output too‘profile.cpuprofile’ file under your site wwwroot.</span></span> <span data-ttu-id="9f821-215">Skicka en begäran tooyour program.</span><span class="sxs-lookup"><span data-stu-id="9f821-215">Send a request tooyour application.</span></span> <span data-ttu-id="9f821-216">Du ser en 'profile.cpuprofile'-fil som skapats under din plats wwwroot.</span><span class="sxs-lookup"><span data-stu-id="9f821-216">You will see a ‘profile.cpuprofile’ file created under your site wwwroot.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_profile.cpuprofile.png)

<span data-ttu-id="9f821-217">Hämta den här filen och du behöver tooopen filen med Chrome F12 verktyg.</span><span class="sxs-lookup"><span data-stu-id="9f821-217">Download this file and you will need tooopen this file with Chrome F12 Tools.</span></span> <span data-ttu-id="9f821-218">Tryck på F12 på chrome, och klicka sedan på hello ”fliken profiler”.</span><span class="sxs-lookup"><span data-stu-id="9f821-218">Hit F12 on chrome, then click on hello “Profiles Tab”.</span></span> <span data-ttu-id="9f821-219">Klicka på ”belastningen”.</span><span class="sxs-lookup"><span data-stu-id="9f821-219">Click on “Load” Button.</span></span> <span data-ttu-id="9f821-220">Välj din profile.cpuprofile-fil som du precis har laddat ned.</span><span class="sxs-lookup"><span data-stu-id="9f821-220">Select your profile.cpuprofile file that you just downloaded.</span></span> <span data-ttu-id="9f821-221">Klicka på hello-profil som du just läste in.</span><span class="sxs-lookup"><span data-stu-id="9f821-221">Click on hello profile you just loaded.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/chrome_tools_view.png)

<span data-ttu-id="9f821-222">Du ser att 95% hello tid har förbrukats av WriteConsoleLog funktionen enligt nedan.</span><span class="sxs-lookup"><span data-stu-id="9f821-222">You will see that 95% of hello time was consumed by WriteConsoleLog function as shown below.</span></span> <span data-ttu-id="9f821-223">Detta visar också hello exakt radnummer och källfiler som orsakar hello problemet.</span><span class="sxs-lookup"><span data-stu-id="9f821-223">This also shows you hello exact line numbers and source files that cause hello issue.</span></span>

### <a name="my-node-application-is-consuming-too-much-memory"></a><span data-ttu-id="9f821-224">Min noden program förbrukar för mycket minne.</span><span class="sxs-lookup"><span data-stu-id="9f821-224">My node application is consuming too much memory.</span></span>
<span data-ttu-id="9f821-225">Du kommer förmodligen en rekommendation från Azure-Webbappar på portalen om hög minnesförbrukning.</span><span class="sxs-lookup"><span data-stu-id="9f821-225">You will probably get a recommendation from Azure Webapps on your portal about high memory consumption.</span></span> <span data-ttu-id="9f821-226">Du kan också installationsprogrammet Övervakare toowatch för vissa [mått](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="9f821-226">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="9f821-227">När du kontrollerar hello minnesanvändningen för hello [Azure Portal instrumentpanelen](../application-insights/app-insights-web-monitor-performance.md), kontrollera hello maxvärde för minne så att du inte missar ut hello högsta värden.</span><span class="sxs-lookup"><span data-stu-id="9f821-227">When checking hello memory usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for memory so you don’t miss out hello peak values.</span></span>

#### <a name="leak-detection-and-heap-diffing-for-nodejs"></a><span data-ttu-id="9f821-228">Identifiering av läcka och Heap Diffing för node.js</span><span class="sxs-lookup"><span data-stu-id="9f821-228">Leak detection and Heap Diffing for node.js</span></span>
<span data-ttu-id="9f821-229">Du kan använda [nod memwatch](https://github.com/lloyd/node-memwatch) toohelp du identifiera minne läcker.</span><span class="sxs-lookup"><span data-stu-id="9f821-229">You could use [node-memwatch](https://github.com/lloyd/node-memwatch) toohelp you identify memory leaks.</span></span>
<span data-ttu-id="9f821-230">Du kan installera memwatch precis som v8 profiler och redigera din kod toocapture och diff heapar tooidentify hello minnesläckor i ditt program.</span><span class="sxs-lookup"><span data-stu-id="9f821-230">You can install memwatch just like v8-profiler and edit your code toocapture and diff heaps tooidentify hello memory leaks in your application.</span></span>

### <a name="my-nodeexes-are-getting-killed-randomly"></a><span data-ttu-id="9f821-231">Min node.exe är komma avslutats slumpmässigt</span><span class="sxs-lookup"><span data-stu-id="9f821-231">My node.exe’s are getting killed randomly</span></span>
<span data-ttu-id="9f821-232">Det finns ett par skäl till varför detta skulle kunna förekomma:</span><span class="sxs-lookup"><span data-stu-id="9f821-232">There are a few reasons why this could be happening:</span></span>

1. <span data-ttu-id="9f821-233">Programmet som utlöste undantagsfel utan felhantering – ta kontroll d:\\hem\\loggfiler\\programmet\\loggning errors.txt fil hello information på hello undantag uppstod.</span><span class="sxs-lookup"><span data-stu-id="9f821-233">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="9f821-234">Den här filen har hello stack-spårning så att du kan åtgärda baserat på det här programmet.</span><span class="sxs-lookup"><span data-stu-id="9f821-234">This file has hello stack trace so you can fix your application based on this.</span></span>
2. <span data-ttu-id="9f821-235">Programmet förbrukar för mycket minne som påverkar andra processer från att komma igång.</span><span class="sxs-lookup"><span data-stu-id="9f821-235">Your application is consuming too much memory which is affecting other processes from getting started.</span></span> <span data-ttu-id="9f821-236">Om hello totalt Virtuellt minne Stäng too100%, din node.exe kunde avslutas av hello process manager toolet andra processer arbetar en chansen toodo.</span><span class="sxs-lookup"><span data-stu-id="9f821-236">If hello total VM memory is close too100%, your node.exe’s could be killed by hello process manager toolet other processes get a chance toodo some work.</span></span> <span data-ttu-id="9f821-237">toofix, se till att programmet inte läcker minne eller om du program verkligen behöver toouse mycket minne skala upp tooa större virtuell dator med mycket mer RAM-minne.</span><span class="sxs-lookup"><span data-stu-id="9f821-237">toofix this, either make sure your application is not leaking memory OR if you application really needs toouse a lot of memory, please scale up tooa larger VM with a lot more RAM.</span></span>

### <a name="my-node-application-does-not-start"></a><span data-ttu-id="9f821-238">Node-App startar inte</span><span class="sxs-lookup"><span data-stu-id="9f821-238">My node application does not start</span></span>
<span data-ttu-id="9f821-239">Om programmet returnerar 500 fel vid start, kan det finnas flera skäl:</span><span class="sxs-lookup"><span data-stu-id="9f821-239">If your application is returning 500 Errors at startup, there could be a few reasons:</span></span>

1. <span data-ttu-id="9f821-240">Node.exe finns inte på hello rätt plats.</span><span class="sxs-lookup"><span data-stu-id="9f821-240">Node.exe is not present at hello correct location.</span></span> <span data-ttu-id="9f821-241">Kontrollera nodeProcessCommandLine inställningen.</span><span class="sxs-lookup"><span data-stu-id="9f821-241">Check nodeProcessCommandLine setting.</span></span>
2. <span data-ttu-id="9f821-242">Huvudsakliga skriptfilen finns inte på hello rätt plats.</span><span class="sxs-lookup"><span data-stu-id="9f821-242">Main script file is not present at hello correct location.</span></span> <span data-ttu-id="9f821-243">Kontrollera web.config och att hello namnet på hello huvudsakliga skriptfilen i hello hanterare avsnittet matchar hello huvudsakliga skriptfilen.</span><span class="sxs-lookup"><span data-stu-id="9f821-243">Check web.config and make sure hello name of hello main script file in hello handlers section matches hello main script file.</span></span>
3. <span data-ttu-id="9f821-244">Web.config konfigurationen är inte korrekt – Kontrollera hello namn/värden.</span><span class="sxs-lookup"><span data-stu-id="9f821-244">Web.config configuration is not correct – check hello settings names/values.</span></span>
4. <span data-ttu-id="9f821-245">Kallstart – ditt program tar för lång toostartup.</span><span class="sxs-lookup"><span data-stu-id="9f821-245">Cold Start – Your application is taking too long toostartup.</span></span> <span data-ttu-id="9f821-246">Om ditt program tar längre än (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1 000 sekunder iisnode returnerar fel 500.</span><span class="sxs-lookup"><span data-stu-id="9f821-246">If your application takes longer than (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000 seconds, iisnode will return 500 error.</span></span> <span data-ttu-id="9f821-247">Öka hello värdena för dessa inställningar toomatch programmet starta tid tooprevent iisnode från timeout och returnerar hello 500-fel.</span><span class="sxs-lookup"><span data-stu-id="9f821-247">Increase hello values of these settings toomatch your application start time tooprevent iisnode from timing out and returning hello 500 error.</span></span>

### <a name="my-node-application-crashed"></a><span data-ttu-id="9f821-248">Min nod programmet kraschade</span><span class="sxs-lookup"><span data-stu-id="9f821-248">My node application crashed</span></span>
<span data-ttu-id="9f821-249">Programmet som utlöste undantagsfel utan felhantering – ta kontroll d:\\hem\\loggfiler\\programmet\\loggning errors.txt fil hello information på hello undantag uppstod.</span><span class="sxs-lookup"><span data-stu-id="9f821-249">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="9f821-250">Den här filen har hello stack-spårning så att du kan åtgärda baserat på det här programmet.</span><span class="sxs-lookup"><span data-stu-id="9f821-250">This file has hello stack trace so you can fix your application based on this.</span></span>

### <a name="my-node-application-takes-too-much-time-toostartup-cold-start"></a><span data-ttu-id="9f821-251">Min noden tar för lång tid toostartup (kalla Start)</span><span class="sxs-lookup"><span data-stu-id="9f821-251">My node application takes too much time toostartup (Cold Start)</span></span>
<span data-ttu-id="9f821-252">De vanligaste anledningen är att hello program har många filer i hello noden\_moduler och hello program försöker tooload de flesta av dessa filer vid start.</span><span class="sxs-lookup"><span data-stu-id="9f821-252">Most common reason for this is that hello application has a lot of files in hello node\_modules and hello application tries tooload most of these files during startup.</span></span> <span data-ttu-id="9f821-253">Som standard eftersom filerna finnas på hello nätverksresurs på Azure-Webbappar kan inläsning av så många filer ta lite tid.</span><span class="sxs-lookup"><span data-stu-id="9f821-253">By default, since your files reside on hello network share on Azure Webapps, loading so many files can take some time.</span></span>
<span data-ttu-id="9f821-254">Vissa lösningar toomake detta snabbare är:</span><span class="sxs-lookup"><span data-stu-id="9f821-254">Some solutions toomake this faster are:</span></span>

1. <span data-ttu-id="9f821-255">Kontrollera att du har en platt beroende struktur och inga dubbla beroenden genom att använda npm3 tooinstall modulerna.</span><span class="sxs-lookup"><span data-stu-id="9f821-255">Make sure you have a flat dependency structure and no duplicate dependencies by using npm3 tooinstall your modules.</span></span>
2. <span data-ttu-id="9f821-256">Försök toolazy belastningen noden\_moduler och inte att läsa in alla hello moduler vid start.</span><span class="sxs-lookup"><span data-stu-id="9f821-256">Try toolazy load your node\_modules and not load all of hello modules at startup.</span></span> <span data-ttu-id="9f821-257">Det innebär att hello anropet toorequire('module') bör utföras när du verkligen behöver det i hello funktion försök toouse hello modulen.</span><span class="sxs-lookup"><span data-stu-id="9f821-257">This means that hello call toorequire(‘module’) should be done when you actually need it within hello function you try toouse hello module.</span></span>
3. <span data-ttu-id="9f821-258">Azure Webbappar innehåller en funktion som kallas lokala cache.</span><span class="sxs-lookup"><span data-stu-id="9f821-258">Azure Webapps offers a feature called local cache.</span></span> <span data-ttu-id="9f821-259">Den här funktionen kopierar innehållet från hello nätverk resursen toohello lokal disk på hello VM.</span><span class="sxs-lookup"><span data-stu-id="9f821-259">This feature copies your content from hello network share toohello local disk on hello VM.</span></span> <span data-ttu-id="9f821-260">Eftersom hello filer är lokala hello hämtningstid för nod\_moduler är mycket snabbare.</span><span class="sxs-lookup"><span data-stu-id="9f821-260">Since hello files are local, hello load time of node\_modules is much faster.</span></span> <span data-ttu-id="9f821-261">-Det här [dokumentationen](../app-service/app-service-local-cache.md) förklarar hur toouse lokalt cacheminne i mer detalj.</span><span class="sxs-lookup"><span data-stu-id="9f821-261">- This [documentation](../app-service/app-service-local-cache.md) explains how toouse Local Cache in more detail.</span></span>

## <a name="iisnode-http-status-and-substatus"></a><span data-ttu-id="9f821-262">IISNODE HTTP-status och understatus</span><span class="sxs-lookup"><span data-stu-id="9f821-262">IISNODE http status and substatus</span></span>
<span data-ttu-id="9f821-263">Detta [källfilen](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) visar alla hello möjliga status/understatus kombination iisnode kan returnera vid fel.</span><span class="sxs-lookup"><span data-stu-id="9f821-263">This [source file](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) lists all hello possible status/substatus combination iisnode can return in case of error.</span></span>

<span data-ttu-id="9f821-264">Aktivera FREB för ditt program toosee hello win32-felkod (se till att du aktiverar FREB bara på icke-produktionsmiljöer av prestandaskäl).</span><span class="sxs-lookup"><span data-stu-id="9f821-264">Enable FREB for your application toosee hello win32 error code (please make sure you enable FREB only on non-production sites for performance reasons).</span></span>

| <span data-ttu-id="9f821-265">HTTP-Status</span><span class="sxs-lookup"><span data-stu-id="9f821-265">Http Status</span></span> | <span data-ttu-id="9f821-266">HTTP-status</span><span class="sxs-lookup"><span data-stu-id="9f821-266">Http SubStatus</span></span> | <span data-ttu-id="9f821-267">Möjlig orsak?</span><span class="sxs-lookup"><span data-stu-id="9f821-267">Possible Reason?</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9f821-268">500</span><span class="sxs-lookup"><span data-stu-id="9f821-268">500</span></span> |<span data-ttu-id="9f821-269">1000</span><span class="sxs-lookup"><span data-stu-id="9f821-269">1000</span></span> |<span data-ttu-id="9f821-270">Det fanns vissa problem sändning hello begäran tooIISNODE – kontrollera om node.exe har startats.</span><span class="sxs-lookup"><span data-stu-id="9f821-270">There was some issue dispatching hello request tooIISNODE – check if node.exe was started up.</span></span> <span data-ttu-id="9f821-271">Node.exe kunde har kraschat vid start.</span><span class="sxs-lookup"><span data-stu-id="9f821-271">Node.exe could have crashed on startup.</span></span> <span data-ttu-id="9f821-272">Kontrollera konfigurationen av web.config innehåller fel.</span><span class="sxs-lookup"><span data-stu-id="9f821-272">Check your web.config configuration for errors.</span></span> |
| <span data-ttu-id="9f821-273">500</span><span class="sxs-lookup"><span data-stu-id="9f821-273">500</span></span> |<span data-ttu-id="9f821-274">1001</span><span class="sxs-lookup"><span data-stu-id="9f821-274">1001</span></span> |<span data-ttu-id="9f821-275">-Win32Error 0x2 - App svarar inte toohello URL.</span><span class="sxs-lookup"><span data-stu-id="9f821-275">- Win32Error 0x2 - App is not responding toohello URL.</span></span> <span data-ttu-id="9f821-276">Kontrollera URL-omskrivning om regler eller om en uttrycklig app har rätt hello vägar som definierats.</span><span class="sxs-lookup"><span data-stu-id="9f821-276">Check URL rewrite rules or if your express app has hello correct routes defined.</span></span> <span data-ttu-id="9f821-277">-Win32Error 0x6d – namngiven pipe är upptagen – Node.exe kan ta emot inte begäranden eftersom hello pipe är upptaget.</span><span class="sxs-lookup"><span data-stu-id="9f821-277">- Win32Error 0x6d – named pipe is busy – Node.exe is not accepting requests because hello pipe is busy.</span></span> <span data-ttu-id="9f821-278">Kontrollera hög cpu-användning.</span><span class="sxs-lookup"><span data-stu-id="9f821-278">Check high cpu usage.</span></span> <span data-ttu-id="9f821-279">-Andra fel – kontrollera om node.exe kraschade.</span><span class="sxs-lookup"><span data-stu-id="9f821-279">- Other errors – check if node.exe crashed.</span></span> |
| <span data-ttu-id="9f821-280">500</span><span class="sxs-lookup"><span data-stu-id="9f821-280">500</span></span> |<span data-ttu-id="9f821-281">1002</span><span class="sxs-lookup"><span data-stu-id="9f821-281">1002</span></span> |<span data-ttu-id="9f821-282">Node.exe kraschat – Kontrollera d:\\hem\\loggfiler\\loggning errors.txt för stack-spårning.</span><span class="sxs-lookup"><span data-stu-id="9f821-282">Node.exe crashed – check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="9f821-283">500</span><span class="sxs-lookup"><span data-stu-id="9f821-283">500</span></span> |<span data-ttu-id="9f821-284">1003</span><span class="sxs-lookup"><span data-stu-id="9f821-284">1003</span></span> |<span data-ttu-id="9f821-285">Pipe-konfiguration problemet – bör aldrig visas men om du gör hello namngivna pipe-konfigurationen är felaktig.</span><span class="sxs-lookup"><span data-stu-id="9f821-285">Pipe configuration Issue – You should never see this but if you do, hello named pipe configuration is incorrect.</span></span> |
| <span data-ttu-id="9f821-286">500</span><span class="sxs-lookup"><span data-stu-id="9f821-286">500</span></span> |<span data-ttu-id="9f821-287">1004-1018</span><span class="sxs-lookup"><span data-stu-id="9f821-287">1004-1018</span></span> |<span data-ttu-id="9f821-288">Det uppstod ett fel när hello begäran eller bearbetning hello svar skickas till eller från node.exe.</span><span class="sxs-lookup"><span data-stu-id="9f821-288">There was some error while sending hello request or processing hello response to/from node.exe.</span></span> <span data-ttu-id="9f821-289">Kontrollera om node.exe kraschade.</span><span class="sxs-lookup"><span data-stu-id="9f821-289">Check if node.exe crashed.</span></span> <span data-ttu-id="9f821-290">Kontrollera d:\\hem\\loggfiler\\loggning errors.txt för stack-spårning.</span><span class="sxs-lookup"><span data-stu-id="9f821-290">check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="9f821-291">503</span><span class="sxs-lookup"><span data-stu-id="9f821-291">503</span></span> |<span data-ttu-id="9f821-292">1000</span><span class="sxs-lookup"><span data-stu-id="9f821-292">1000</span></span> |<span data-ttu-id="9f821-293">Det finns inte tillräckligt med minne tooallocate mer namngivna pipe-anslutningar.</span><span class="sxs-lookup"><span data-stu-id="9f821-293">Not enough memory tooallocate more named pipe connections.</span></span> <span data-ttu-id="9f821-294">Kontrollera varför appen förbrukar för mycket minne.</span><span class="sxs-lookup"><span data-stu-id="9f821-294">Check why your app is consuming so much memory.</span></span> <span data-ttu-id="9f821-295">Kontrollera maxConcurrentRequestsPerProcess värdet.</span><span class="sxs-lookup"><span data-stu-id="9f821-295">Check maxConcurrentRequestsPerProcess setting value.</span></span> <span data-ttu-id="9f821-296">Om det är inte oändligt och du har många begäranden, öka det här värdet tooprevent det här felet.</span><span class="sxs-lookup"><span data-stu-id="9f821-296">If its not infinite and you have a lot of requests, increase this value tooprevent this error.</span></span> |
| <span data-ttu-id="9f821-297">503</span><span class="sxs-lookup"><span data-stu-id="9f821-297">503</span></span> |<span data-ttu-id="9f821-298">1001</span><span class="sxs-lookup"><span data-stu-id="9f821-298">1001</span></span> |<span data-ttu-id="9f821-299">Begäran kunde inte skickade toonode.exe eftersom hello programåtervinning.</span><span class="sxs-lookup"><span data-stu-id="9f821-299">Request could not be dispatched toonode.exe because hello application is recycling.</span></span> <span data-ttu-id="9f821-300">När programmet hello har återvunnits ska begäranden omdirigeras normalt.</span><span class="sxs-lookup"><span data-stu-id="9f821-300">After hello application has recycled, requests should be served normally.</span></span> |
| <span data-ttu-id="9f821-301">503</span><span class="sxs-lookup"><span data-stu-id="9f821-301">503</span></span> |<span data-ttu-id="9f821-302">1002</span><span class="sxs-lookup"><span data-stu-id="9f821-302">1002</span></span> |<span data-ttu-id="9f821-303">Kontrollera win32-felkod faktiska orsak – begäran gick inte att skickade tooa node.exe.</span><span class="sxs-lookup"><span data-stu-id="9f821-303">Check win32 error code for actual reason – Request could not be dispatched tooa node.exe.</span></span> |
| <span data-ttu-id="9f821-304">503</span><span class="sxs-lookup"><span data-stu-id="9f821-304">503</span></span> |<span data-ttu-id="9f821-305">1003</span><span class="sxs-lookup"><span data-stu-id="9f821-305">1003</span></span> |<span data-ttu-id="9f821-306">Namngiven pipe är upptagen – kontrollera om noden förbrukar för mycket processortid</span><span class="sxs-lookup"><span data-stu-id="9f821-306">Named pipe is too Busy – Check if node is consuming a lot of CPU</span></span> |

<span data-ttu-id="9f821-307">Det finns en inställning i NODE.exe kallas nod\_väntar\_PIPE\_INSTANSER.</span><span class="sxs-lookup"><span data-stu-id="9f821-307">There is a setting within NODE.exe called NODE\_PENDING\_PIPE\_INSTANCES.</span></span> <span data-ttu-id="9f821-308">Det här värdet är 4 som standard utanför azure webbappar.</span><span class="sxs-lookup"><span data-stu-id="9f821-308">By default outside of azure webapps this value is 4.</span></span> <span data-ttu-id="9f821-309">Det innebär att node.exe kan endast accepterar begäranden som 4 samtidigt på hello namngiven pipe.</span><span class="sxs-lookup"><span data-stu-id="9f821-309">This means that node.exe can only accept 4 requests at a time on hello named pipe.</span></span> <span data-ttu-id="9f821-310">Det här värdet anges too5000 och värdet ska vara bra att de flesta noden program som körs på azure-webbappar på Azure-Webbappar.</span><span class="sxs-lookup"><span data-stu-id="9f821-310">On Azure Webapps, this value is set too5000 and this value should be good enough for most node applications running on azure webapps.</span></span> <span data-ttu-id="9f821-311">Du bör inte se 503.1003 på azure webbappar eftersom vi har ett högt värde för hello nod\_väntar\_PIPE\_INSTANSER.</span><span class="sxs-lookup"><span data-stu-id="9f821-311">You should not see 503.1003 on azure webapps because we have a high value for hello NODE\_PENDING\_PIPE\_INSTANCES.</span></span>  |

## <a name="more-resources"></a><span data-ttu-id="9f821-312">Fler resurser</span><span class="sxs-lookup"><span data-stu-id="9f821-312">More resources</span></span>
<span data-ttu-id="9f821-313">Följ dessa länkar toolearn mer om node.js-program på Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="9f821-313">Follow these links toolearn more about node.js applications on Azure App Service.</span></span>

* [<span data-ttu-id="9f821-314">Kom igång med Node.js-webbappar i Azure App Service</span><span class="sxs-lookup"><span data-stu-id="9f821-314">Get started with Node.js web apps in Azure App Service</span></span>](app-service-web-get-started-nodejs.md)
* [<span data-ttu-id="9f821-315">Hur toodebug en Node.js webbapp i Azure App Service</span><span class="sxs-lookup"><span data-stu-id="9f821-315">How toodebug a Node.js web app in Azure App Service</span></span>](web-sites-nodejs-debug.md)
* [<span data-ttu-id="9f821-316">Använda Node.js-moduler med Azure-program</span><span class="sxs-lookup"><span data-stu-id="9f821-316">Using Node.js Modules with Azure applications</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="9f821-317">Azure App Service Web Apps: Node.js</span><span class="sxs-lookup"><span data-stu-id="9f821-317">Azure App Service Web Apps: Node.js</span></span>](https://blogs.msdn.microsoft.com/silverlining/2012/06/14/windows-azure-websites-node-js/)
* [<span data-ttu-id="9f821-318">Node.js Developer Center</span><span class="sxs-lookup"><span data-stu-id="9f821-318">Node.js Developer Center</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="9f821-319">Utforska hello Super hemlighet Kudu-Felsökningskonsolen</span><span class="sxs-lookup"><span data-stu-id="9f821-319">Exploring hello Super Secret Kudu Debug Console</span></span>](https://azure.microsoft.com/documentation/videos/super-secret-kudu-debug-console-for-azure-web-sites/)

