---
title: "aaaBest praxis för Azure App Service"
description: "Läs om bästa praxis och felsöka problem med Azure App Service."
services: app-service
documentationcenter: 
author: dariagrigoriu
manager: erikre
editor: mollybos
ms.assetid: f3359464-fa44-4f4a-9ea6-7821060e8d0d
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/30/2016
ms.author: dariagrigoriu
ms.openlocfilehash: a1d3127f5a746aa43f7b56b45f17c45df9087bee
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-for-azure-app-service"></a><span data-ttu-id="07c1e-103">Metodtips för Azure App Service</span><span class="sxs-lookup"><span data-stu-id="07c1e-103">Best Practices for Azure App Service</span></span>
<span data-ttu-id="07c1e-104">Den här artikeln sammanfattar Metodtips för [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="07c1e-104">This article summarizes best practices for using [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span> 

## <span data-ttu-id="07c1e-105"><a name="colocation"></a>Samordning</span><span class="sxs-lookup"><span data-stu-id="07c1e-105"><a name="colocation"></a>Colocation</span></span>
<span data-ttu-id="07c1e-106">När Azure-resurser genom att skriva en lösning, till exempel ett webbprogram och en databas finns i olika regioner hello effekter kan inkludera hello följande:</span><span class="sxs-lookup"><span data-stu-id="07c1e-106">When Azure resources composing a solution such as a web app and a database are located in different regions hello effects can include hello following:</span></span>

* <span data-ttu-id="07c1e-107">Ökad latens kommunikationen mellan resurser</span><span class="sxs-lookup"><span data-stu-id="07c1e-107">Increased latency in communication between resources</span></span>
* <span data-ttu-id="07c1e-108">Monetära kostnader för utgående data transfer cross-region som anges på hello [Azure sida med priser](https://azure.microsoft.com/pricing/details/data-transfers).</span><span class="sxs-lookup"><span data-stu-id="07c1e-108">Monetary charges for outbound data transfer cross-region as noted on hello [Azure pricing page](https://azure.microsoft.com/pricing/details/data-transfers).</span></span>

<span data-ttu-id="07c1e-109">Samordning i hello samma region som är bäst för Azure-resurser genom att skriva en lösning, till exempel ett webbprogram och en databas eller storage-konto används toohold innehåll eller.</span><span class="sxs-lookup"><span data-stu-id="07c1e-109">Colocation in hello same region is best for Azure resources composing a solution such as a web app and a database or storage account used toohold content or data.</span></span> <span data-ttu-id="07c1e-110">När hello skapar resurser bör du kontrollera de finns i samma Azure-region om du inte har särskilda business eller utforma orsaken till dem inte toobe.</span><span class="sxs-lookup"><span data-stu-id="07c1e-110">When creating resources you should make sure they are in hello same Azure region unless you have specific business or design reason for them not toobe.</span></span> <span data-ttu-id="07c1e-111">Du kan flytta en Apptjänst-app toohello samma region som din databas genom att utnyttja hello [Apptjänst funktionen kloning](app-service-web-app-cloning-portal.md) tillgängliga för Premium Apptjänstplan appar.</span><span class="sxs-lookup"><span data-stu-id="07c1e-111">You can move an App Service app toohello same region as your database by leveraging hello [App Service cloning feature](app-service-web-app-cloning-portal.md) currently available for Premium App Service Plan apps.</span></span>   

## <span data-ttu-id="07c1e-112"><a name="memoryresources"></a>När appar förbruka mer minne än väntat</span><span class="sxs-lookup"><span data-stu-id="07c1e-112"><a name="memoryresources"></a>When apps consume more memory than expected</span></span>
<span data-ttu-id="07c1e-113">När du ser en app förbrukar mer minne än förväntat som anges via övervakning eller tjänsterekommendationer Tänk hello [App Service automatisk återställning funktionen](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites).</span><span class="sxs-lookup"><span data-stu-id="07c1e-113">When you notice an app consumes more memory than expected as indicated via monitoring or service recommendations consider hello [App Service Auto-Healing feature](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites).</span></span> <span data-ttu-id="07c1e-114">Ett av hello alternativ för automatisk återställning hello-funktionen tar anpassade åtgärder baserat på ett tröskelvärde för minne.</span><span class="sxs-lookup"><span data-stu-id="07c1e-114">One of hello options for hello Auto-Healing feature is taking custom actions based on a memory threshold.</span></span> <span data-ttu-id="07c1e-115">Åtgärder span hello spektrumet från e-postaviseringar tooinvestigation via minne dump tooon plats minskning av återvinning hello arbetsprocessen.</span><span class="sxs-lookup"><span data-stu-id="07c1e-115">Actions span hello spectrum from email notifications tooinvestigation via memory dump tooon-the-spot mitigation by recycling hello worker process.</span></span> <span data-ttu-id="07c1e-116">Automatisk återställning kan konfigureras via web.config och via ett eget användargränssnitt enligt beskrivningen i i det här blogginlägget för hello [App webbtjänsttillägget Support webbplats](https://azure.microsoft.com/blog/additional-updates-to-support-site-extension-for-azure-app-service-web-apps).</span><span class="sxs-lookup"><span data-stu-id="07c1e-116">Auto-healing can be configured via web.config and via a friendly user interface as described at in this blog post for hello [App Service Support Site Extension](https://azure.microsoft.com/blog/additional-updates-to-support-site-extension-for-azure-app-service-web-apps).</span></span>   

## <span data-ttu-id="07c1e-117"><a name="CPUresources"></a>När appar konsumera mycket mer Processorkraft än väntat</span><span class="sxs-lookup"><span data-stu-id="07c1e-117"><a name="CPUresources"></a>When apps consume more CPU than expected</span></span>
<span data-ttu-id="07c1e-118">När du upptäcker att en app förbrukar mer CPU än förväntat eller inträffar upprepas processoranvändning som anges via övervakning eller tjänsterekommendationer Överväg att skala upp eller skala ut hello App Service-plan.</span><span class="sxs-lookup"><span data-stu-id="07c1e-118">When you notice an app consumes more CPU than expected or experiences repeated CPU spikes as indicated via monitoring or service recommendations consider scaling up or scaling out hello App Service plan.</span></span> <span data-ttu-id="07c1e-119">Om ditt program är statefull, är skala upp hello endast alternativet, även om ditt program är tillståndslös, skala ut får du större flexibilitet och högre risk för skalan.</span><span class="sxs-lookup"><span data-stu-id="07c1e-119">If your application is statefull, scaling up is hello only option, while if your application is stateless, scaling out will give you more flexibility and higher scale potential.</span></span> 

<span data-ttu-id="07c1e-120">Mer information om ”statefull” eller ”tillståndslösa” program kan du titta på den här videon: [planera en skalbar slutpunkt till slutpunkt Flernivåapp på Microsoft Azure Web App](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/DEV-B414#fbid=?hashlink=fbid).</span><span class="sxs-lookup"><span data-stu-id="07c1e-120">For more information about “statefull” vs “stateless” applications you can watch this video: [Planning a Scalable End-to-End Multi-Tier Application on Microsoft Azure Web App](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/DEV-B414#fbid=?hashlink=fbid).</span></span> <span data-ttu-id="07c1e-121">Mer information om alternativ för skalning och autoskalning i Apptjänst: [skala en Webbapp i Azure App Service](web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="07c1e-121">For more information about App Service scaling and autoscaling options read: [Scale a Web App in Azure App Service](web-sites-scale.md).</span></span>  

## <span data-ttu-id="07c1e-122"><a name="socketresources"></a>När socketen resurserna är uttömda</span><span class="sxs-lookup"><span data-stu-id="07c1e-122"><a name="socketresources"></a>When socket resources are exhausted</span></span>
<span data-ttu-id="07c1e-123">En vanlig orsak till lång körningstid förbrukar utgående TCP-anslutningar är hello användningen av klientbibliotek som inte är implementerade tooreuse TCP-anslutningar eller i hello fallet protokoll på en högre nivå, till exempel HTTP - Keep-Alive inte utnyttjas.</span><span class="sxs-lookup"><span data-stu-id="07c1e-123">A common reason for exhausting outbound TCP connections is hello use of client libraries which are not implemented tooreuse TCP connections, or in hello case of a higher level protocol such as HTTP - Keep-Alive not being leveraged.</span></span> <span data-ttu-id="07c1e-124">Granska hello dokumentationen för varje hello bibliotek som refereras av hello appar i din App Service-Plan tooensure konfigureras eller komma åt i koden för effektiv användning av utgående anslutningar.</span><span class="sxs-lookup"><span data-stu-id="07c1e-124">Please review hello documentation for each of hello libraries referenced by hello apps in your App Service Plan tooensure they are configured or accessed in your code for efficient reuse of outbound connections.</span></span> <span data-ttu-id="07c1e-125">Du kan även följa hello biblioteket dokumentationen vägledning för rätt skapandet och versionen eller rensa tooavoid läcka anslutningar.</span><span class="sxs-lookup"><span data-stu-id="07c1e-125">Also follow hello library documentation guidance for proper creation and release or cleanup tooavoid leaking connections.</span></span> <span data-ttu-id="07c1e-126">Medan sådana klienten bibliotek utredningar kan förlopp påverkan undvikas genom att skala ut toomultiple instanser.</span><span class="sxs-lookup"><span data-stu-id="07c1e-126">While such client libraries investigations are in progress impact may be mitigated by scaling out toomultiple instances.</span></span>  

## <span data-ttu-id="07c1e-127"><a name="appbackup"></a>När en app Säkerhetskopiera startar misslyckas</span><span class="sxs-lookup"><span data-stu-id="07c1e-127"><a name="appbackup"></a>When your app backup starts failing</span></span>
<span data-ttu-id="07c1e-128">Hej två vanligaste orsakerna till varför app säkerhetskopieringen misslyckas är: Ogiltig lagringsinställningarna och konfiguration av ogiltig databas.</span><span class="sxs-lookup"><span data-stu-id="07c1e-128">hello two most common reasons why app backup fails are: invalid storage settings and invalid database configuration.</span></span> <span data-ttu-id="07c1e-129">Dessa fel inträffa vanligtvis när det finns ändringar toostorage eller databasresurser eller ändringar i hur tooaccess dessa resurser (t.ex. autentiseringsuppgifter som uppdateras för markerade i hello säkerhetskopieringsinställningar hello-databasen).</span><span class="sxs-lookup"><span data-stu-id="07c1e-129">These failures typically happen when there are changes toostorage or database resources, or changes for how tooaccess these resources (e.g. credentials updated for hello database selected in hello backup settings).</span></span> <span data-ttu-id="07c1e-130">Säkerhetskopieringar normalt körs enligt ett schema och kräver åtkomst toostorage (för att mata ut hello säkerhetskopierade filer) och databaser (för kopiera och läsa innehållet toobe ingår i hello säkerhetskopiering).</span><span class="sxs-lookup"><span data-stu-id="07c1e-130">Backups typically run on a schedule and require access toostorage (for outputting hello backed up files) and databases (for copying and reading contents toobe included in hello backup).</span></span> <span data-ttu-id="07c1e-131">Hej resultatet inte tooaccess någon av dessa resurser skulle vara konsekvent säkerhetskopieringen har misslyckats.</span><span class="sxs-lookup"><span data-stu-id="07c1e-131">hello result of failing tooaccess either of these resources would be consistent backup failure.</span></span> 

<span data-ttu-id="07c1e-132">Granska den senaste resultat toounderstand vilken typ av fel som händer när Säkerhetskopieringsfel uppstår.</span><span class="sxs-lookup"><span data-stu-id="07c1e-132">When backup failures happen, please review most recent results toounderstand which type of failure is happening.</span></span> <span data-ttu-id="07c1e-133">Hello gäller lagringsfel åtkomst, granska och uppdatera hello Lagringsinställningar som används i konfigurationen för säkerhetskopiering av hello.</span><span class="sxs-lookup"><span data-stu-id="07c1e-133">In hello case of storage access failures, please review and update hello storage settings used in hello backup configuration.</span></span> <span data-ttu-id="07c1e-134">Hello gäller databasfel åtkomst, granska och uppdatera din anslutningar strängar som en del av appinställningar. Gå sedan vidare tooupdate konfigurationen för säkerhetskopiering-tooproperly inkluderar hello krävs databaser.</span><span class="sxs-lookup"><span data-stu-id="07c1e-134">In hello case of database access failures, please review and update your connections strings as part of app settings; then proceed tooupdate your backup configuration tooproperly include hello required databases.</span></span> <span data-ttu-id="07c1e-135">Mer information om app-säkerhetskopiering finns hello [säkerhetskopiera en webbapp i Azure App Service](web-sites-backup.md) dokumentation.</span><span class="sxs-lookup"><span data-stu-id="07c1e-135">For more information on app backup please see hello [Back up a web app in Azure App Service](web-sites-backup.md) documentation.</span></span>

## <span data-ttu-id="07c1e-136"><a name="nodejs"></a>När nya Node.js-appar är distribuerade tooAzure Apptjänst</span><span class="sxs-lookup"><span data-stu-id="07c1e-136"><a name="nodejs"></a>When new Node.js apps are deployed tooAzure App Service</span></span>
<span data-ttu-id="07c1e-137">Azure Apptjänst standardkonfigurationen för Node.js-appar är avsedda toobest färg hello behoven hos de vanligaste appar.</span><span class="sxs-lookup"><span data-stu-id="07c1e-137">Azure App Service default configuration for Node.js apps is intended toobest suit hello needs of most common apps.</span></span> <span data-ttu-id="07c1e-138">Om konfigurationen för Node.js-appen skulle dra nytta av anpassade prestandajustering tooimprove prestanda eller Optimera resursanvändningen för CPU/minne/nätverksresurser, kan du granska våra metodtips och felsökning.</span><span class="sxs-lookup"><span data-stu-id="07c1e-138">If configuration for your Node.js app would benefit from personalized tuning tooimprove performance or optimize resource usage for CPU/memory/network resources, you could review our best practices and troubleshooting steps.</span></span> <span data-ttu-id="07c1e-139">Dokumentationen beskrivs hello iisnode-inställningar som du kan behöva tooconfigure för din Node.js-app beskriver hello olika scenarier eller problem som kan hantera din app och visar hur tooaddress problemen: [bästa praxis och felsökningsguide för noden program för Azure App Service](app-service-web-nodejs-best-practices-and-troubleshoot-guide.md).</span><span class="sxs-lookup"><span data-stu-id="07c1e-139">This documentation article describes hello iisnode settings you may need tooconfigure for your Node.js app, describes hello various scenarios or issues that your app may be facing, and shows how tooaddress these issues: [Best practices and troubleshooting guide for Node applications on Azure App Service](app-service-web-nodejs-best-practices-and-troubleshoot-guide.md).</span></span>   

