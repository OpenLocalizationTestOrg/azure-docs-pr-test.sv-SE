---
title: "Felsöka en webbapp i Azure App Service med Visual Studio"
description: "Lär dig hur du felsöker ett Azure-webbapp med hjälp av fjärrfelsökning, spårning och loggningsverktyg som är inbyggda Visual Studio 2013."
services: app-service
documentationcenter: .net
author: tdykstra
manager: erikre
editor: 
ms.assetid: def8e481-7803-4371-aa55-64025d116c97
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 08/29/2016
ms.author: rachelap
ms.openlocfilehash: abfd9a4c1b346377d7f1fc30455a1487b113537d
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/29/2017
---
# <a name="troubleshoot-a-web-app-in-azure-app-service-using-visual-studio"></a><span data-ttu-id="fd535-103">Felsöka en webbapp i Azure App Service med Visual Studio</span><span class="sxs-lookup"><span data-stu-id="fd535-103">Troubleshoot a web app in Azure App Service using Visual Studio</span></span>
## <a name="overview"></a><span data-ttu-id="fd535-104">Översikt</span><span class="sxs-lookup"><span data-stu-id="fd535-104">Overview</span></span>
<span data-ttu-id="fd535-105">Den här kursen visar hur du använder Visual Studio verktyg för att felsöka en webbapp i [Apptjänst](http://go.microsoft.com/fwlink/?LinkId=529714), genom att köra i [felsökningsläge](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) via fjärranslutning eller genom att visa programloggarna samt webbserverloggar.</span><span class="sxs-lookup"><span data-stu-id="fd535-105">This tutorial shows how to use Visual Studio tools that help debug a web app in [App Service](http://go.microsoft.com/fwlink/?LinkId=529714), by running in [debug mode](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) remotely or by viewing application logs and web server logs.</span></span>

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

<span data-ttu-id="fd535-106">Du får lära dig:</span><span class="sxs-lookup"><span data-stu-id="fd535-106">You'll learn:</span></span>

* <span data-ttu-id="fd535-107">Vilka Azure web app-hanteringsfunktioner är tillgängliga i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fd535-107">Which Azure web app management functions are available in Visual Studio.</span></span>
* <span data-ttu-id="fd535-108">Hur du använder Visual Studio Fjärrvisning för att göra ändringar i en fjärransluten webbapp.</span><span class="sxs-lookup"><span data-stu-id="fd535-108">How to use Visual Studio remote view to make quick changes in a remote web app.</span></span>
* <span data-ttu-id="fd535-109">Så här kör du felsökningsläget via fjärranslutning när ett projekt körs i Azure, både för en webbapp och ett Webbjobb.</span><span class="sxs-lookup"><span data-stu-id="fd535-109">How to run debug mode remotely while a project is running in Azure, both for a web app and for a WebJob.</span></span>
* <span data-ttu-id="fd535-110">Hur du skapar programloggar och visa dem när programmet skapar dem.</span><span class="sxs-lookup"><span data-stu-id="fd535-110">How to create application trace logs and view them while the application is creating them.</span></span>
* <span data-ttu-id="fd535-111">Så här visar du webbserverloggar, inklusive detaljerade felmeddelanden och spårning av misslyckade begäranden.</span><span class="sxs-lookup"><span data-stu-id="fd535-111">How to view web server logs, including detailed error messages and failed request tracing.</span></span>
* <span data-ttu-id="fd535-112">Så att skicka diagnostikloggar till ett Azure Storage-konto och visa dem det.</span><span class="sxs-lookup"><span data-stu-id="fd535-112">How to send diagnostic logs to an Azure Storage account and view them there.</span></span>

<span data-ttu-id="fd535-113">Om du har Visual Studio Ultimate kan du också använda [IntelliTrace](http://msdn.microsoft.com/library/vstudio/dd264915.aspx) för felsökning.</span><span class="sxs-lookup"><span data-stu-id="fd535-113">If you have Visual Studio Ultimate, you can also use [IntelliTrace](http://msdn.microsoft.com/library/vstudio/dd264915.aspx) for debugging.</span></span> <span data-ttu-id="fd535-114">IntelliTrace ingår inte i den här självstudiekursen.</span><span class="sxs-lookup"><span data-stu-id="fd535-114">IntelliTrace is not covered in this tutorial.</span></span>

## <span data-ttu-id="fd535-115"><a name="prerequisites"></a>Förhandskrav</span><span class="sxs-lookup"><span data-stu-id="fd535-115"><a name="prerequisites"></a>Prerequisites</span></span>
<span data-ttu-id="fd535-116">Den här kursen fungerar med utvecklingsmiljö, webbprojektet och Azure-webbapp som du ställer in i [Kom igång med Azure och ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="fd535-116">This tutorial works with the development environment, web project, and Azure web app that you set up in [Get started with Azure and ASP.NET][GetStarted].</span></span> <span data-ttu-id="fd535-117">För avsnitten WebJobs behöver du det program som du skapar i [Kom igång med Azure WebJobs SDK][GetStartedWJ].</span><span class="sxs-lookup"><span data-stu-id="fd535-117">For the WebJobs sections, you'll need the application that you create in [Get Started with the Azure WebJobs SDK][GetStartedWJ].</span></span>

<span data-ttu-id="fd535-118">Kodexempel som visas i den här kursen är för ett webbprogram i C# MVC, men felsökning procedurerna är samma för Visual Basic och Web Forms-program.</span><span class="sxs-lookup"><span data-stu-id="fd535-118">The code samples shown in this tutorial are for a C# MVC web application, but the troubleshooting procedures are the same for Visual Basic and Web Forms applications.</span></span>

<span data-ttu-id="fd535-119">Kursen förutsätter att du använder Visual Studio 2015 eller 2013.</span><span class="sxs-lookup"><span data-stu-id="fd535-119">The tutorial assumes you're using Visual Studio 2015 or 2013.</span></span> <span data-ttu-id="fd535-120">Om du använder Visual Studio 2013 WebJobs-funktioner kräver [uppdatering 4](http://go.microsoft.com/fwlink/?LinkID=510314) eller senare.</span><span class="sxs-lookup"><span data-stu-id="fd535-120">If you're using Visual Studio 2013, the WebJobs features require [Update 4](http://go.microsoft.com/fwlink/?LinkID=510314) or later.</span></span>

<span data-ttu-id="fd535-121">Direktuppspelningsloggar funktionen fungerar bara för program som är riktade till .NET Framework 4 eller senare.</span><span class="sxs-lookup"><span data-stu-id="fd535-121">The streaming logs feature only works for applications that target .NET Framework 4 or later.</span></span>

## <span data-ttu-id="fd535-122"><a name="sitemanagement"></a>Hantering och konfiguration av Web app</span><span class="sxs-lookup"><span data-stu-id="fd535-122"><a name="sitemanagement"></a>Web app configuration and management</span></span>
<span data-ttu-id="fd535-123">Visual Studio har åtkomst till en delmängd av web app-hanteringsfunktioner och konfigurationsinställningar som är tillgängliga i den [Azure Portal](http://go.microsoft.com/fwlink/?LinkId=529715).</span><span class="sxs-lookup"><span data-stu-id="fd535-123">Visual Studio provides access to a subset of the web app management functions and configuration settings available in the [Azure Portal](http://go.microsoft.com/fwlink/?LinkId=529715).</span></span> <span data-ttu-id="fd535-124">I det här avsnittet får du se vad som är tillgängligt med hjälp av **Server Explorer**.</span><span class="sxs-lookup"><span data-stu-id="fd535-124">In this section you'll see what's available by using **Server Explorer**.</span></span> <span data-ttu-id="fd535-125">Om du vill se de senaste funktionerna i Azure-integrering testa **Cloud Explorer** också.</span><span class="sxs-lookup"><span data-stu-id="fd535-125">To see the latest Azure integration features, try out **Cloud Explorer** also.</span></span> <span data-ttu-id="fd535-126">Du kan öppna både windows från den **visa** menyn.</span><span class="sxs-lookup"><span data-stu-id="fd535-126">You can open both windows from the **View** menu.</span></span>

1. <span data-ttu-id="fd535-127">Om du inte redan är inloggad till Azure i Visual Studio klickar du på den **Anslut till Azure** knappen i **Server Explorer**.</span><span class="sxs-lookup"><span data-stu-id="fd535-127">If you aren't already signed in to Azure in Visual Studio, click the **Connect to Azure** button in **Server Explorer**.</span></span>

    <span data-ttu-id="fd535-128">Ett alternativ är att installera ett certifikat som ger åtkomst till ditt konto.</span><span class="sxs-lookup"><span data-stu-id="fd535-128">An alternative is to install a management certificate that enables access to your account.</span></span> <span data-ttu-id="fd535-129">Om du väljer att installera ett certifikat, högerklickar du på den **Azure** nod i **Server Explorer**, och klicka sedan på **hantera och Filter prenumerationer** på snabbmenyn.</span><span class="sxs-lookup"><span data-stu-id="fd535-129">If you choose to install a certificate, right-click the **Azure** node in **Server Explorer**, and then click **Manage and Filter Subscriptions** in the context menu.</span></span> <span data-ttu-id="fd535-130">I den **hantera Azure-prenumerationer** dialogrutan klickar du på den **certifikat** fliken och klicka sedan på **importera**.</span><span class="sxs-lookup"><span data-stu-id="fd535-130">In the **Manage Azure Subscriptions** dialog box, click the **Certificates** tab, and then click **Import**.</span></span> <span data-ttu-id="fd535-131">Följ instruktionerna för att hämta och sedan importera en prenumeration-fil (kallas även en *.publishsettings* fil) för din Azure-konto.</span><span class="sxs-lookup"><span data-stu-id="fd535-131">Follow the directions to download and then import a subscription file (also called a *.publishsettings* file) for your Azure account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="fd535-132">Om du hämtar en prenumerations-fil, spara den till en mapp utanför katalogerna källa kod (till exempel i mappen hämtade filer) och tar bort den när importen är klar.</span><span class="sxs-lookup"><span data-stu-id="fd535-132">If you download a subscription file, save it to a folder outside your source code directories (for example, in the Downloads folder), and then delete it once the import has completed.</span></span> <span data-ttu-id="fd535-133">En obehörig användare som får åtkomst till prenumerationsfilen kan du redigera, skapa och ta bort Azure-tjänster.</span><span class="sxs-lookup"><span data-stu-id="fd535-133">A malicious user who gains access to the subscription file can edit, create, and delete your Azure services.</span></span>
   >
   >

    <span data-ttu-id="fd535-134">Mer information om hur du ansluter till Azure-resurser från Visual Studio finns [hantera konton, prenumerationer och administrativa roller](http://go.microsoft.com/fwlink/?LinkId=324796#BKMK_AccountVCert).</span><span class="sxs-lookup"><span data-stu-id="fd535-134">For more information about connecting to Azure resources from Visual Studio, see [Manage Accounts, Subscriptions, and Administrative Roles](http://go.microsoft.com/fwlink/?LinkId=324796#BKMK_AccountVCert).</span></span>
2. <span data-ttu-id="fd535-135">I **Server Explorer**, expandera **Azure** och expandera **Apptjänst**.</span><span class="sxs-lookup"><span data-stu-id="fd535-135">In **Server Explorer**, expand **Azure** and expand **App Service**.</span></span>
3. <span data-ttu-id="fd535-136">Expandera resursgruppen som innehåller den webbapp som du skapade i [komma igång med Azure och ASP.NET][GetStarted], högerklicka på noden web app och klickar på **visningsinställningarna**.</span><span class="sxs-lookup"><span data-stu-id="fd535-136">Expand the resource group that includes the web app that you created in [Getting started with Azure and ASP.NET][GetStarted], and then right-click the web app node and click **View Settings**.</span></span>

    ![Visa inställningar i Server Explorer](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-viewsettings.png)

    <span data-ttu-id="fd535-138">Den **Azure Web App** visas och du kan se det web app hantering och konfiguration uppgifter som är tillgängliga i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fd535-138">The **Azure Web App** tab appears, and you can see there the web app management and configuration tasks that are available in Visual Studio.</span></span>

    ![Azure Web App-fönster](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-configtab.png)

    <span data-ttu-id="fd535-140">I den här självstudiekursen kommer du att använda loggning och spårning i listrutorna.</span><span class="sxs-lookup"><span data-stu-id="fd535-140">In this tutorial you'll be using the logging and tracing drop-downs.</span></span> <span data-ttu-id="fd535-141">Du använder också fjärrfelsökning men du använder en annan metod för att aktivera den.</span><span class="sxs-lookup"><span data-stu-id="fd535-141">You'll also use remote debugging but you'll use a different method to enable it.</span></span>

    <span data-ttu-id="fd535-142">Information om rutorna App-inställningar och anslutningssträngar i det här fönstret finns [Azure Web Apps: hur programmet strängar och anslutningen strängar arbete](http://blogs.msdn.com/b/windowsazure/archive/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work.aspx).</span><span class="sxs-lookup"><span data-stu-id="fd535-142">For information about the App Settings and Connection Strings boxes in this window, see [Azure Web Apps: How Application Strings and Connection Strings Work](http://blogs.msdn.com/b/windowsazure/archive/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work.aspx).</span></span>

    <span data-ttu-id="fd535-143">Om du vill utföra en hanteringsaktivitet för webb-app som inte kan göras i det här fönstret klickar du på **öppna i hanteringsportalen** att öppna ett webbläsarfönster på Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="fd535-143">If you want to perform a web app management task that can't be done in this window, click **Open in Management Portal** to open a browser window to the Azure portal.</span></span>

## <span data-ttu-id="fd535-144"><a name="remoteview"></a>Komma åt web app filer i Server Explorer</span><span class="sxs-lookup"><span data-stu-id="fd535-144"><a name="remoteview"></a>Access web app files in Server Explorer</span></span>
<span data-ttu-id="fd535-145">Normalt distribuerar ett webbprojekt med den `customErrors` flaggan i Web.config-filen som har angetts till `On` eller `RemoteOnly`, vilket betyder att du inte får en bra felmeddelande vid något går fel.</span><span class="sxs-lookup"><span data-stu-id="fd535-145">You typically deploy a web project with the `customErrors` flag in the Web.config file set to `On` or `RemoteOnly`, which means you don't get a helpful error message when something goes wrong.</span></span> <span data-ttu-id="fd535-146">För många fel är alla du får en sida som något av de följande.</span><span class="sxs-lookup"><span data-stu-id="fd535-146">For many errors all you get is a page like one of the following ones.</span></span>

<span data-ttu-id="fd535-147">**Serverfel i programmet '/':**</span><span class="sxs-lookup"><span data-stu-id="fd535-147">**Server Error in '/' Application:**</span></span>

![Unhelpful felsida](./media/web-sites-dotnet-troubleshoot-visual-studio/genericerror.png)

<span data-ttu-id="fd535-149">**Ett fel uppstod:**</span><span class="sxs-lookup"><span data-stu-id="fd535-149">**An error occurred:**</span></span>

![Unhelpful felsida](./media/web-sites-dotnet-troubleshoot-visual-studio/genericerror1.png)

<span data-ttu-id="fd535-151">**Webbplatsen kan inte visa sidan**</span><span class="sxs-lookup"><span data-stu-id="fd535-151">**The website cannot display the page**</span></span>

![Unhelpful felsida](./media/web-sites-dotnet-troubleshoot-visual-studio/genericerror2.png)

<span data-ttu-id="fd535-153">Det enklaste sättet att ta reda på orsaken till felet är ofta att aktivera detaljerade felmeddelanden som först av föregående skärmbilderna beskriver hur du gör.</span><span class="sxs-lookup"><span data-stu-id="fd535-153">Frequently the easiest way to find the cause of the error is to enable detailed error messages, which the first of the preceding screenshots explains how to do.</span></span> <span data-ttu-id="fd535-154">Som kräver en ändring i distribuerade Web.config-filen.</span><span class="sxs-lookup"><span data-stu-id="fd535-154">That requires a change in the deployed Web.config file.</span></span> <span data-ttu-id="fd535-155">Du kan redigera den *Web.config* filen i projektet och distribuera projektet eller skapa en [Web.config-transformering](http://www.asp.net/mvc/tutorials/deployment/visual-studio-web-deployment/web-config-transformations) och distribuera en felsökningsversion, men det finns ett snabbare sätt: i **Solution Explorer** du direkt kan visa och redigera filer i remote webbapp med hjälp av den *fjärrvy* funktion.</span><span class="sxs-lookup"><span data-stu-id="fd535-155">You could edit the *Web.config* file in the project and redeploy the project, or create a [Web.config transform](http://www.asp.net/mvc/tutorials/deployment/visual-studio-web-deployment/web-config-transformations) and deploy a debug build, but there's a quicker way: in **Solution Explorer** you can directly view and edit files in the remote web app by using the *remote view* feature.</span></span>

1. <span data-ttu-id="fd535-156">I **Server Explorer**, expandera **Azure**, expandera **Apptjänst**, expandera den resursgrupp som ditt webbprogram finns i och expandera sedan noden för din webbapp.</span><span class="sxs-lookup"><span data-stu-id="fd535-156">In **Server Explorer**, expand **Azure**, expand **App Service**, expand the resource group that your web app is located in, and then expand the node for your web app.</span></span>

    <span data-ttu-id="fd535-157">Du ser noder som ger dig tillgång till webbappens innehållsfiler och loggfiler.</span><span class="sxs-lookup"><span data-stu-id="fd535-157">You see nodes that give you access to the web app's content files and log files.</span></span>
2. <span data-ttu-id="fd535-158">Expandera den **filer** nod och dubbelklicka på den *Web.config* fil.</span><span class="sxs-lookup"><span data-stu-id="fd535-158">Expand the **Files** node, and double-click the *Web.config* file.</span></span>

    ![Öppna Web.config](./media/web-sites-dotnet-troubleshoot-visual-studio/webconfig.png)

    <span data-ttu-id="fd535-160">Visual Studio öppnas Web.config-filen från remote webbapp och visar [Remote] bredvid filnamnet i namnlisten.</span><span class="sxs-lookup"><span data-stu-id="fd535-160">Visual Studio opens the Web.config file from the remote web app and shows [Remote] next to the file name in the title bar.</span></span>
3. <span data-ttu-id="fd535-161">Lägg till följande rad i den `system.web` element:</span><span class="sxs-lookup"><span data-stu-id="fd535-161">Add the following line to the `system.web` element:</span></span>

    `<customErrors mode="Off"></customErrors>`

    ![Redigera Web.config](./media/web-sites-dotnet-troubleshoot-visual-studio/webconfigedit.png)
4. <span data-ttu-id="fd535-163">Uppdatera webbläsaren som visas i unhelpful felmeddelandet och nu du få ett detaljerat felmeddelande, till exempel i följande exempel:</span><span class="sxs-lookup"><span data-stu-id="fd535-163">Refresh the browser that is showing the unhelpful error message, and now you get a detailed error message, such as the following example:</span></span>

    ![Detaljerat felmeddelande](./media/web-sites-dotnet-troubleshoot-visual-studio/detailederror.png)

    <span data-ttu-id="fd535-165">(Fel visas har skapats genom att lägga till den rad som visas i rött till *Views\Home\Index.cshtml*.)</span><span class="sxs-lookup"><span data-stu-id="fd535-165">(The error shown was created by adding the line shown in red to *Views\Home\Index.cshtml*.)</span></span>

<span data-ttu-id="fd535-166">Redigera filen Web.config är bara ett exempel på scenarier där möjligheten att läsa och redigera filer på Azure-webbapp gör felsökningen lättare.</span><span class="sxs-lookup"><span data-stu-id="fd535-166">Editing the Web.config file is only one example of scenarios in which the ability to read and edit files on your Azure web app make troubleshooting easier.</span></span>

## <span data-ttu-id="fd535-167"><a name="remotedebug"></a>Fjärråtkomst felsökning webbprogram</span><span class="sxs-lookup"><span data-stu-id="fd535-167"><a name="remotedebug"></a>Remote debugging web apps</span></span>
<span data-ttu-id="fd535-168">Om det detaljerade felmeddelandet inte ger tillräcklig information, och du kan inte återskapa felet lokalt, är ett annat sätt att felsöka fjärrköras i felsökningsläge.</span><span class="sxs-lookup"><span data-stu-id="fd535-168">If the detailed error message doesn't provide enough information, and you can't re-create the error locally, another way to troubleshoot is to run in debug mode remotely.</span></span> <span data-ttu-id="fd535-169">Du kan ange brytpunkter, ändra minne direkt, stega igenom koden och även ändra koden sökvägen.</span><span class="sxs-lookup"><span data-stu-id="fd535-169">You can set breakpoints, manipulate memory directly, step through code, and even change the code path.</span></span>

<span data-ttu-id="fd535-170">Fjärrfelsökning fungerar inte i Express-versioner av Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fd535-170">Remote debugging does not work in Express editions of Visual Studio.</span></span>

<span data-ttu-id="fd535-171">Det här avsnittet visar hur du felsöka med projektet som du skapar i [komma igång med Azure och ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="fd535-171">This section shows how to debug remotely using the project you create in [Getting started with Azure and ASP.NET][GetStarted].</span></span>

1. <span data-ttu-id="fd535-172">Öppna webbprojekt som du skapade i [komma igång med Azure och ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="fd535-172">Open the web project that you created in [Getting started with Azure and ASP.NET][GetStarted].</span></span>
2. <span data-ttu-id="fd535-173">Öppna *Controllers\HomeController.cs*.</span><span class="sxs-lookup"><span data-stu-id="fd535-173">Open *Controllers\HomeController.cs*.</span></span>
3. <span data-ttu-id="fd535-174">Ta bort den `About()` metoden och infoga följande kod i dess ställe.</span><span class="sxs-lookup"><span data-stu-id="fd535-174">Delete the `About()` method and insert the following code in its place.</span></span>

        public ActionResult About()
        {
            string currentTime = DateTime.Now.ToLongTimeString();
            ViewBag.Message = "The current time is " + currentTime;
            return View();
        }
4. <span data-ttu-id="fd535-175">[Ange en brytpunkt](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) på den `ViewBag.Message` rad.</span><span class="sxs-lookup"><span data-stu-id="fd535-175">[Set a breakpoint](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) on the `ViewBag.Message` line.</span></span>
5. <span data-ttu-id="fd535-176">I **Solution Explorer**, högerklicka på projektet och klicka på **publicera**.</span><span class="sxs-lookup"><span data-stu-id="fd535-176">In **Solution Explorer**, right-click the project, and click **Publish**.</span></span>
6. <span data-ttu-id="fd535-177">I den **profil** listrutan, Välj den profil som du använde i [komma igång med Azure och ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="fd535-177">In the **Profile** drop-down list, select the same profile that you used in [Getting started with Azure and ASP.NET][GetStarted].</span></span>
7. <span data-ttu-id="fd535-178">Klicka på den **inställningar** fliken och ändra **Configuration** till **felsöka**, och klicka sedan på **publicera**.</span><span class="sxs-lookup"><span data-stu-id="fd535-178">Click the **Settings** tab, and change **Configuration** to **Debug**, and then click **Publish**.</span></span>

    ![Publicera i felsökningsläge](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-publishdebug.png)
8. <span data-ttu-id="fd535-180">Efter distributionen är klar och webbläsaren öppnar Azure-URL för ditt webbprogram, Stäng webbläsaren.</span><span class="sxs-lookup"><span data-stu-id="fd535-180">After deployment finishes and your browser opens to the Azure URL of your web app, close the browser.</span></span>
9. <span data-ttu-id="fd535-181">I **Server Explorer**, högerklicka på ditt webbprogram och klicka sedan på **koppla felsökare**.</span><span class="sxs-lookup"><span data-stu-id="fd535-181">In **Server Explorer**, right-click your web app, and then click **Attach Debugger**.</span></span>

    ![Koppla felsökare](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-attachdebugger.png)

    <span data-ttu-id="fd535-183">Webbläsaren öppnas automatiskt till din startsida som körs i Azure.</span><span class="sxs-lookup"><span data-stu-id="fd535-183">The browser automatically opens to your home page running in Azure.</span></span> <span data-ttu-id="fd535-184">Du kan behöva vänta 20 sekunder eller liknande medan Azure konfigurerar servern för felsökning.</span><span class="sxs-lookup"><span data-stu-id="fd535-184">You might have to wait 20 seconds or so while Azure sets up the server for debugging.</span></span> <span data-ttu-id="fd535-185">Den här fördröjningen sker bara första gången du kör i felsökningsläge på ett webbprogram.</span><span class="sxs-lookup"><span data-stu-id="fd535-185">This delay only happens the first time you run in debug mode on a web app.</span></span> <span data-ttu-id="fd535-186">Efterföljande gånger inom de närmaste 48 timmarna när du startar felsökningen igen det kommer inte att en fördröjning.</span><span class="sxs-lookup"><span data-stu-id="fd535-186">Subsequent times within the next 48 hours when you start debugging again there won't be a delay.</span></span>

    <span data-ttu-id="fd535-187">**Obs:** om du har några problem med att starta felsökningsprogrammet försök att göra det med hjälp av **Cloud Explorer** i stället för **Server Explorer**.</span><span class="sxs-lookup"><span data-stu-id="fd535-187">**Note:** If you have any trouble starting the debugger, try to do it by using **Cloud Explorer** instead of **Server Explorer**.</span></span>
10. <span data-ttu-id="fd535-188">Klicka på **om** på menyn.</span><span class="sxs-lookup"><span data-stu-id="fd535-188">Click **About** in the menu.</span></span>

     <span data-ttu-id="fd535-189">Visual Studio stoppar på brytpunkten och koden körs i Azure, inte på den lokala datorn.</span><span class="sxs-lookup"><span data-stu-id="fd535-189">Visual Studio stops on the breakpoint, and the code is running in Azure, not on your local computer.</span></span>
11. <span data-ttu-id="fd535-190">Hovra över den `currentTime` variabeln för att se time-värdet.</span><span class="sxs-lookup"><span data-stu-id="fd535-190">Hover over the `currentTime` variable to see the time value.</span></span>

     ![Visa variabeln i felsökningsläge som körs i Azure](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-debugviewinwa.png)

     <span data-ttu-id="fd535-192">Den tid som du ser är tiden i Azure-server som kan vara i en annan tidszon än den lokala datorn.</span><span class="sxs-lookup"><span data-stu-id="fd535-192">The time you see is the Azure server time, which may be in a different time zone than your local computer.</span></span>
12. <span data-ttu-id="fd535-193">Ange ett nytt värde för den `currentTime` variabel, till exempel ”nu körs i Azure”.</span><span class="sxs-lookup"><span data-stu-id="fd535-193">Enter a new value for the `currentTime` variable, such as "Now running in Azure".</span></span>
13. <span data-ttu-id="fd535-194">Tryck på F5 för att fortsätta att köras.</span><span class="sxs-lookup"><span data-stu-id="fd535-194">Press F5 to continue running.</span></span>

     <span data-ttu-id="fd535-195">Om sidan som körs i Azure visar det nya värdet som du angett i variabeln currentTime.</span><span class="sxs-lookup"><span data-stu-id="fd535-195">The About page running in Azure displays the new value that you entered into the currentTime variable.</span></span>

     ![Om sidan med nytt värde](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-debugchangeinwa.png)

## <span data-ttu-id="fd535-197"><a name="remotedebugwj"></a>Fjärråtkomst felsökning WebJobs</span><span class="sxs-lookup"><span data-stu-id="fd535-197"><a name="remotedebugwj"></a> Remote debugging WebJobs</span></span>
<span data-ttu-id="fd535-198">Det här avsnittet visar hur du felsöka med hjälp av projektet och webb-app som du skapar i [Kom igång med Azure WebJobs SDK](websites-dotnet-webjobs-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="fd535-198">This section shows how to debug remotely using the project and web app you create in [Get Started with the Azure WebJobs SDK](websites-dotnet-webjobs-sdk.md).</span></span>

<span data-ttu-id="fd535-199">Funktioner som visas i det här avsnittet är endast tillgänglig i Visual Studio 2013 med Update 4 eller senare.</span><span class="sxs-lookup"><span data-stu-id="fd535-199">The features shown in this section are available only in Visual Studio 2013 with Update 4 or later.</span></span>

<span data-ttu-id="fd535-200">Fjärrfelsökning fungerar bara med kontinuerliga Webbjobb.</span><span class="sxs-lookup"><span data-stu-id="fd535-200">Remote debugging only works with continuous WebJobs.</span></span> <span data-ttu-id="fd535-201">Schemalagda och på begäran WebJobs saknar stöd för felsökning.</span><span class="sxs-lookup"><span data-stu-id="fd535-201">Scheduled and on-demand WebJobs don't support debugging.</span></span>

1. <span data-ttu-id="fd535-202">Öppna webbprojekt som du skapade i [Kom igång med Azure WebJobs SDK][GetStartedWJ].</span><span class="sxs-lookup"><span data-stu-id="fd535-202">Open the web project that you created in [Get Started with the Azure WebJobs SDK][GetStartedWJ].</span></span>
2. <span data-ttu-id="fd535-203">Öppna i projektet ContosoAdsWebJob *Functions.cs*.</span><span class="sxs-lookup"><span data-stu-id="fd535-203">In the ContosoAdsWebJob project, open *Functions.cs*.</span></span>
3. <span data-ttu-id="fd535-204">[Ange en brytpunkt](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) på den första satsen i den `GnerateThumbnail` metoden.</span><span class="sxs-lookup"><span data-stu-id="fd535-204">[Set a breakpoint](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) on the first statement in the `GnerateThumbnail` method.</span></span>

    ![Ange brytpunkt](./media/web-sites-dotnet-troubleshoot-visual-studio/wjbreakpoint.png)
4. <span data-ttu-id="fd535-206">I **Solution Explorer**, högerklicka webbprojektet (inte projektet Webbjobb) och på **publicera**.</span><span class="sxs-lookup"><span data-stu-id="fd535-206">In **Solution Explorer**, right-click the web project (not the WebJob project), and click **Publish**.</span></span>
5. <span data-ttu-id="fd535-207">I den **profil** listrutan, Välj den profil som du använde i [Kom igång med Azure WebJobs SDK](websites-dotnet-webjobs-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="fd535-207">In the **Profile** drop-down list, select the same profile that you used in [Get Started with the Azure WebJobs SDK](websites-dotnet-webjobs-sdk.md).</span></span>
6. <span data-ttu-id="fd535-208">Klicka på den **inställningar** fliken och ändra **Configuration** till **felsöka**, och klicka sedan på **publicera**.</span><span class="sxs-lookup"><span data-stu-id="fd535-208">Click the **Settings** tab, and change **Configuration** to **Debug**, and then click **Publish**.</span></span>

    <span data-ttu-id="fd535-209">Visual Studio distribuerar webb- och Webbjobb projekt och webbläsaren öppnar Azure-URL för ditt webbprogram.</span><span class="sxs-lookup"><span data-stu-id="fd535-209">Visual Studio deploys the web and WebJob projects, and your browser opens to the Azure URL of your web app.</span></span>
7. <span data-ttu-id="fd535-210">I **Server Explorer** Expandera **Azure > Apptjänst > resursgruppen > ditt webbprogram > WebJobs > kontinuerlig**, högerklicka på **ContosoAdsWebJob**.</span><span class="sxs-lookup"><span data-stu-id="fd535-210">In **Server Explorer** expand **Azure > App Service > your resource group > your web app > WebJobs > Continuous**, and then right-click **ContosoAdsWebJob**.</span></span>
8. <span data-ttu-id="fd535-211">Klicka på **koppla felsökare**.</span><span class="sxs-lookup"><span data-stu-id="fd535-211">Click **Attach Debugger**.</span></span>

    ![Koppla felsökare](./media/web-sites-dotnet-troubleshoot-visual-studio/wjattach.png)

    <span data-ttu-id="fd535-213">Webbläsaren öppnas automatiskt till din startsida som körs i Azure.</span><span class="sxs-lookup"><span data-stu-id="fd535-213">The browser automatically opens to your home page running in Azure.</span></span> <span data-ttu-id="fd535-214">Du kan behöva vänta 20 sekunder eller liknande medan Azure konfigurerar servern för felsökning.</span><span class="sxs-lookup"><span data-stu-id="fd535-214">You might have to wait 20 seconds or so while Azure sets up the server for debugging.</span></span> <span data-ttu-id="fd535-215">Den här fördröjningen sker bara första gången du kör i felsökningsläge på ett webbprogram.</span><span class="sxs-lookup"><span data-stu-id="fd535-215">This delay only happens the first time you run in debug mode on a web app.</span></span> <span data-ttu-id="fd535-216">Nästa gång du kopplar det felsökning inte en fördröjning om du gör det inom 48 timmar.</span><span class="sxs-lookup"><span data-stu-id="fd535-216">The next time you attach the debugger there won't be a delay, if you do it within 48 hours.</span></span>
9. <span data-ttu-id="fd535-217">Skapa en ny annons i webbläsare som öppnas till Contoso Ads-startsidan.</span><span class="sxs-lookup"><span data-stu-id="fd535-217">In the web browser that is opened to the Contoso Ads home page, create a new ad.</span></span>

    <span data-ttu-id="fd535-218">Skapa en ad gör ett kömeddelande skapas som tas upp av Webbjobbet och behandlas.</span><span class="sxs-lookup"><span data-stu-id="fd535-218">Creating an ad causes a queue message to be created, which will be picked up by the WebJob and processed.</span></span> <span data-ttu-id="fd535-219">När WebJobs SDK anropar funktionen för att bearbeta meddelandet kön, kommer koden till din brytpunkt.</span><span class="sxs-lookup"><span data-stu-id="fd535-219">When the WebJobs SDK calls the function to process the queue message, the code will hit your breakpoint.</span></span>
10. <span data-ttu-id="fd535-220">När Felsökaren bryter vid din brytpunkt, kan du granska och ändra variabelvärden medan programmet körs i molnet.</span><span class="sxs-lookup"><span data-stu-id="fd535-220">When the debugger breaks at your breakpoint, you can examine and change variable values while the program is running the cloud.</span></span> <span data-ttu-id="fd535-221">I följande bild visar innehållet i blobInfo-objektet som skickades till metoden GenerateThumbnail i felsökaren.</span><span class="sxs-lookup"><span data-stu-id="fd535-221">In the following illustration the debugger shows the contents of the blobInfo object that was passed to the GenerateThumbnail method.</span></span>

     ![blobInfo objekt i Felsökning](./media/web-sites-dotnet-troubleshoot-visual-studio/blobinfo.png)
11. <span data-ttu-id="fd535-223">Tryck på F5 för att fortsätta att köras.</span><span class="sxs-lookup"><span data-stu-id="fd535-223">Press F5 to continue running.</span></span>

     <span data-ttu-id="fd535-224">Metoden GenerateThumbnail har skapat miniatyrbilden.</span><span class="sxs-lookup"><span data-stu-id="fd535-224">The GenerateThumbnail method finishes creating the thumbnail.</span></span>
12. <span data-ttu-id="fd535-225">Uppdatera indexsidan och du ser miniatyren i webbläsaren.</span><span class="sxs-lookup"><span data-stu-id="fd535-225">In the browser, refresh the Index page and you see the thumbnail.</span></span>
13. <span data-ttu-id="fd535-226">Tryck på SKIFT + F5 för att stoppa felsökning i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fd535-226">In Visual Studio, press SHIFT+F5 to stop debugging.</span></span>
14. <span data-ttu-id="fd535-227">I **Server Explorer**, högerklicka på noden ContosoAdsWebJob och klickar på **visa instrumentpanelen**.</span><span class="sxs-lookup"><span data-stu-id="fd535-227">In **Server Explorer**, right-click the ContosoAdsWebJob node and click **View Dashboard**.</span></span>
15. <span data-ttu-id="fd535-228">Logga in med dina autentiseringsuppgifter för Azure och klicka på webbjobbsnamnet att gå till sidan för din Webbjobb.</span><span class="sxs-lookup"><span data-stu-id="fd535-228">Sign in with your Azure credentials, and then click the WebJob name to go to the page for your WebJob.</span></span>

     ![Klicka på ContosoAdsWebJob](./media/web-sites-dotnet-troubleshoot-visual-studio/clickcaw.png)

     <span data-ttu-id="fd535-230">Instrumentpanelen visar att funktionen GenerateThumbnail utförs nyligen.</span><span class="sxs-lookup"><span data-stu-id="fd535-230">The Dashboard shows that the GenerateThumbnail function executed recently.</span></span>

     <span data-ttu-id="fd535-231">(Nästa gång du klickar på **visa instrumentpanelen**du inte behöver logga in och webbläsaren går direkt till sidan för din Webbjobb.)</span><span class="sxs-lookup"><span data-stu-id="fd535-231">(The next time you click **View Dashboard**, you don't have to sign in, and the browser goes directly to the page for your WebJob.)</span></span>
16. <span data-ttu-id="fd535-232">Klicka på namnet på funktionen för att se information om funktionen körningen.</span><span class="sxs-lookup"><span data-stu-id="fd535-232">Click the function name to see details about the function execution.</span></span>

     ![Funktionsinformation](./media/web-sites-dotnet-troubleshoot-visual-studio/funcdetails.png)

<span data-ttu-id="fd535-234">Om din funktion [skrev loggar](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs), du kan klicka på **ToggleOutput** se dem.</span><span class="sxs-lookup"><span data-stu-id="fd535-234">If your function [wrote logs](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs), you could click **ToggleOutput** to see them.</span></span>

## <a name="notes-about-remote-debugging"></a><span data-ttu-id="fd535-235">Information om fjärrfelsökning</span><span class="sxs-lookup"><span data-stu-id="fd535-235">Notes about remote debugging</span></span>
* <span data-ttu-id="fd535-236">Du bör inte köra i felsökningsläge i produktion.</span><span class="sxs-lookup"><span data-stu-id="fd535-236">Running in debug mode in production is not recommended.</span></span> <span data-ttu-id="fd535-237">Om ditt webbprogram för produktion inte skalas ut att flera serverinstanser förhindrar felsökning webbservern svarar på andra begäranden.</span><span class="sxs-lookup"><span data-stu-id="fd535-237">If your production web app is not scaled out to multiple server instances, debugging will prevent the web server from responding to other requests.</span></span> <span data-ttu-id="fd535-238">Om du har flera web server-instanser, när du kopplar till felsökningsprogrammet får du en slumpmässig instans och det finns inget sätt att säkerställa att webbläsaren efterföljande begäranden skickas till den instansen.</span><span class="sxs-lookup"><span data-stu-id="fd535-238">If you do have multiple web server instances, when you attach to the debugger you'll get a random instance, and you have no way to ensure that subsequent browser requests will go to that instance.</span></span> <span data-ttu-id="fd535-239">Dessutom du normalt distribuerar inte en felsökningsversion för produktion och kompileraren optimeringar för versionen versioner kan göra det omöjligt att visa vad som händer rad för rad i källkoden.</span><span class="sxs-lookup"><span data-stu-id="fd535-239">Also, you typically don't deploy a debug build to production, and compiler optimizations for release builds might make it impossible to show what is happening line by line in your source code.</span></span> <span data-ttu-id="fd535-240">För att felsöka problem i produktionen bästa resurs är program spårning och web server-loggar.</span><span class="sxs-lookup"><span data-stu-id="fd535-240">For troubleshooting production problems, your best resource is application tracing and web server logs.</span></span>
* <span data-ttu-id="fd535-241">Undvika lång stopp vid brytpunkter när remote felsökning.</span><span class="sxs-lookup"><span data-stu-id="fd535-241">Avoid long stops at breakpoints when remote debugging.</span></span> <span data-ttu-id="fd535-242">Azure behandlar en process som har stoppats för längre än några minuter som en process för svarar inte och stängs av.</span><span class="sxs-lookup"><span data-stu-id="fd535-242">Azure treats a process that is stopped for longer than a few minutes as an unresponsive process, and shuts it down.</span></span>
* <span data-ttu-id="fd535-243">När du felsöker skickar servern data till Visual Studio som kan påverka kostnader för bandbredd.</span><span class="sxs-lookup"><span data-stu-id="fd535-243">While you're debugging, the server is sending data to Visual Studio, which could affect bandwidth charges.</span></span> <span data-ttu-id="fd535-244">Information om bandbredd priser finns [priser för Azure](https://azure.microsoft.com/pricing/calculator/).</span><span class="sxs-lookup"><span data-stu-id="fd535-244">For information about bandwidth rates, see [Azure Pricing](https://azure.microsoft.com/pricing/calculator/).</span></span>
* <span data-ttu-id="fd535-245">Se till att den `debug` attribut för den `compilation` element i den *Web.config* fil har angetts till true.</span><span class="sxs-lookup"><span data-stu-id="fd535-245">Make sure that the `debug` attribute of the `compilation` element in the *Web.config* file is set to true.</span></span> <span data-ttu-id="fd535-246">Den är inställd på true som standard när du publicerar en debug build-konfiguration.</span><span class="sxs-lookup"><span data-stu-id="fd535-246">It is set to true by default when you publish a debug build configuration.</span></span>

        <system.web>
          <compilation debug="true" targetFramework="4.5" />
          <httpRuntime targetFramework="4.5" />
        </system.web>
* <span data-ttu-id="fd535-247">Om du upptäcker att felsökaren inte steg till kod som du vill felsöka kan behöva du ändra inställningen bara min kod.</span><span class="sxs-lookup"><span data-stu-id="fd535-247">If you find that the debugger won't step into code that you want to debug, you might have to change the Just My Code setting.</span></span>  <span data-ttu-id="fd535-248">Mer information finns i [begränsa gå till bara min kod](http://msdn.microsoft.com/library/vstudio/y740d9d3.aspx#BKMK_Restrict_stepping_to_Just_My_Code).</span><span class="sxs-lookup"><span data-stu-id="fd535-248">For more information, see [Restrict stepping to Just My Code](http://msdn.microsoft.com/library/vstudio/y740d9d3.aspx#BKMK_Restrict_stepping_to_Just_My_Code).</span></span>
* <span data-ttu-id="fd535-249">En timer startar på servern när du aktiverar funktionen felsökning och efter 48 timmar funktionen inaktiveras automatiskt.</span><span class="sxs-lookup"><span data-stu-id="fd535-249">A timer starts on the server when you enable the remote debugging feature, and after 48 hours the feature is automatically turned off.</span></span> <span data-ttu-id="fd535-250">Den här gränsen 48 timmar görs grund för säkerhet och prestanda.</span><span class="sxs-lookup"><span data-stu-id="fd535-250">This 48 hour limit is done for security and performance reasons.</span></span> <span data-ttu-id="fd535-251">Du kan enkelt aktivera funktionen igen så många gånger.</span><span class="sxs-lookup"><span data-stu-id="fd535-251">You can easily turn the feature back on as many times as you like.</span></span> <span data-ttu-id="fd535-252">Vi rekommenderar att du lämnar inaktiverad när du inte aktivt felsökning.</span><span class="sxs-lookup"><span data-stu-id="fd535-252">We recommend leaving it disabled when you are not actively debugging.</span></span>
* <span data-ttu-id="fd535-253">Du kan manuellt koppla felsökaren till en process, inte bara web app processen (w3wp.exe).</span><span class="sxs-lookup"><span data-stu-id="fd535-253">You can manually attach the debugger to any process, not only the web app process (w3wp.exe).</span></span> <span data-ttu-id="fd535-254">Mer information om hur du använder felsökningsläge i Visual Studio finns [felsökning i Visual Studio](http://msdn.microsoft.com/library/vstudio/sc65sadd.aspx).</span><span class="sxs-lookup"><span data-stu-id="fd535-254">For more information about how to use debug mode in Visual Studio, see [Debugging in Visual Studio](http://msdn.microsoft.com/library/vstudio/sc65sadd.aspx).</span></span>

## <span data-ttu-id="fd535-255"><a name="logsoverview"></a>Översikt över diagnostikloggar</span><span class="sxs-lookup"><span data-stu-id="fd535-255"><a name="logsoverview"></a>Diagnostic logs overview</span></span>
<span data-ttu-id="fd535-256">Ett ASP.NET-program som körs i en Azure-app kan skapa följande typer av loggar:</span><span class="sxs-lookup"><span data-stu-id="fd535-256">An ASP.NET application that runs in an Azure web app can create the following kinds of logs:</span></span>

* <span data-ttu-id="fd535-257">**Programmet spårningsloggar**</span><span class="sxs-lookup"><span data-stu-id="fd535-257">**Application tracing logs**</span></span><br/>
  <span data-ttu-id="fd535-258">Programmet skapar de här loggarna genom att anropa metoder i den [System.Diagnostics.Trace](http://msdn.microsoft.com/library/system.diagnostics.trace.aspx) klass.</span><span class="sxs-lookup"><span data-stu-id="fd535-258">The application creates these logs by calling methods of the [System.Diagnostics.Trace](http://msdn.microsoft.com/library/system.diagnostics.trace.aspx) class.</span></span>
* <span data-ttu-id="fd535-259">**Webbserverloggarna**</span><span class="sxs-lookup"><span data-stu-id="fd535-259">**Web server logs**</span></span><br/>
  <span data-ttu-id="fd535-260">Webbservern skapar en loggpost för varje HTTP-begäran till webbprogrammet.</span><span class="sxs-lookup"><span data-stu-id="fd535-260">The web server creates a log entry for every HTTP request to the web app.</span></span>
* <span data-ttu-id="fd535-261">**Detaljerade felloggar för meddelandet**</span><span class="sxs-lookup"><span data-stu-id="fd535-261">**Detailed error message logs**</span></span><br/>
  <span data-ttu-id="fd535-262">Webbservern skapar en HTML-sida med ytterligare information för misslyckade HTTP-begäranden (de som resulterar i statuskod: 400 eller högre).</span><span class="sxs-lookup"><span data-stu-id="fd535-262">The web server creates an HTML page with some additional information for failed HTTP requests (those that result in status code 400 or greater).</span></span>
* <span data-ttu-id="fd535-263">**Det gick inte begäran spårningsloggar**</span><span class="sxs-lookup"><span data-stu-id="fd535-263">**Failed request tracing logs**</span></span><br/>
  <span data-ttu-id="fd535-264">Webbservern skapar en XML-fil med detaljerad spårningsinformation för misslyckade begäranden för HTTP.</span><span class="sxs-lookup"><span data-stu-id="fd535-264">The web server creates an XML file with detailed tracing information for failed HTTP requests.</span></span> <span data-ttu-id="fd535-265">Webbservern innehåller också en XSL-fil om du vill formatera XML-filen i en webbläsare.</span><span class="sxs-lookup"><span data-stu-id="fd535-265">The web server also provides an XSL file to format the XML in a browser.</span></span>

<span data-ttu-id="fd535-266">Loggning påverkar prestandan för web app, så Azure ger dig möjlighet att aktivera eller inaktivera varje typ av loggen vid behov.</span><span class="sxs-lookup"><span data-stu-id="fd535-266">Logging affects web app performance, so Azure gives you the ability to enable or disable each type of log as needed.</span></span> <span data-ttu-id="fd535-267">Du kan ange att endast loggar över en viss nivå för allvarlighetsgrad ska skrivas för programloggar.</span><span class="sxs-lookup"><span data-stu-id="fd535-267">For application logs, you can specify that only logs above a certain severity level should be written.</span></span> <span data-ttu-id="fd535-268">När du skapar ett nytt webbprogram som standard alla loggning har inaktiverats.</span><span class="sxs-lookup"><span data-stu-id="fd535-268">When you create a new web app, by default all logging is disabled.</span></span>

<span data-ttu-id="fd535-269">Loggarna skrivs till filer i en *loggfiler* mapp i filsystemet för din webbapp och är tillgänglig via FTP.</span><span class="sxs-lookup"><span data-stu-id="fd535-269">Logs are written to files in a *LogFiles* folder in the file system of your web app and are accessible via FTP.</span></span> <span data-ttu-id="fd535-270">Webbserverloggarna- och programloggarna kan också vara skriven till ett Azure Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="fd535-270">Web server logs and application logs can also be written to an Azure Storage account.</span></span> <span data-ttu-id="fd535-271">Du kan behålla en större volym loggar i ett lagringskonto än vad som är möjligt i filsystemet.</span><span class="sxs-lookup"><span data-stu-id="fd535-271">You can retain a greater volume of logs in a storage account than is possible in the file system.</span></span> <span data-ttu-id="fd535-272">Du är begränsad till högst 100 megabyte loggar när du använder filsystemet.</span><span class="sxs-lookup"><span data-stu-id="fd535-272">You're limited to a maximum of 100 megabytes of logs when you use the file system.</span></span> <span data-ttu-id="fd535-273">(Filen systemloggar är endast för kortsiktig kvarhållning.</span><span class="sxs-lookup"><span data-stu-id="fd535-273">(File system logs are only for short-term retention.</span></span> <span data-ttu-id="fd535-274">Azure tar bort gamla loggfiler för att göra plats för nya när gränsen har nåtts.)</span><span class="sxs-lookup"><span data-stu-id="fd535-274">Azure deletes old log files to make room for new ones after the limit is reached.)</span></span>  

## <span data-ttu-id="fd535-275"><a name="apptracelogs"></a>Skapa och visa spårningsloggar för programmet</span><span class="sxs-lookup"><span data-stu-id="fd535-275"><a name="apptracelogs"></a>Create and view application trace logs</span></span>
<span data-ttu-id="fd535-276">I det här avsnittet ska du utföra följande uppgifter:</span><span class="sxs-lookup"><span data-stu-id="fd535-276">In this section you'll do the following tasks:</span></span>

* <span data-ttu-id="fd535-277">Lägg till spårning instruktioner i webbprojektet som du skapade i [Kom igång med Azure och ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="fd535-277">Add tracing statements to the web project that you created in [Get started with Azure and ASP.NET][GetStarted].</span></span>
* <span data-ttu-id="fd535-278">Visa loggarna när du kör projektet lokalt.</span><span class="sxs-lookup"><span data-stu-id="fd535-278">View the logs when you run the project locally.</span></span>
* <span data-ttu-id="fd535-279">Visa loggar som de genereras av det program som körs i Azure.</span><span class="sxs-lookup"><span data-stu-id="fd535-279">View the logs as they are generated by the application running in Azure.</span></span>

<span data-ttu-id="fd535-280">För information om hur du skapar program som loggar in WebJobs, se [hur du arbetar med Azure queue storage med WebJobs-SDK - hur du skriver loggar](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs).</span><span class="sxs-lookup"><span data-stu-id="fd535-280">For information about how to create application logs in WebJobs, see [How to work with Azure queue storage using the WebJobs SDK - How to write logs](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs).</span></span> <span data-ttu-id="fd535-281">Följande instruktioner för att visa loggar och kontrollera hur de lagras i Azure gäller även för programloggarna som skapats av WebJobs.</span><span class="sxs-lookup"><span data-stu-id="fd535-281">The following instructions for viewing logs and controlling how they're stored in Azure apply also to application logs created by WebJobs.</span></span>

### <a name="add-tracing-statements-to-the-application"></a><span data-ttu-id="fd535-282">Lägga till spårning instruktioner för programmet</span><span class="sxs-lookup"><span data-stu-id="fd535-282">Add tracing statements to the application</span></span>
1. <span data-ttu-id="fd535-283">Öppna *Controllers\HomeController.cs*, och Ersätt den `Index`, `About`, och `Contact` metoder med följande kod för att lägga till `Trace` instruktioner och en `using` -instruktion för `System.Diagnostics`:</span><span class="sxs-lookup"><span data-stu-id="fd535-283">Open *Controllers\HomeController.cs*, and replace the `Index`, `About`, and `Contact` methods with the following code in order to add `Trace` statements and a `using` statement for `System.Diagnostics`:</span></span>

        public ActionResult Index()
        {
            Trace.WriteLine("Entering Index method");
            ViewBag.Message = "Modify this template to jump-start your ASP.NET MVC application.";
            Trace.TraceInformation("Displaying the Index page at " + DateTime.Now.ToLongTimeString());
            Trace.WriteLine("Leaving Index method");
            return View();
        }

        public ActionResult About()
        {
            Trace.WriteLine("Entering About method");
            ViewBag.Message = "Your app description page.";
            Trace.TraceWarning("Transient error on the About page at " + DateTime.Now.ToShortTimeString());
            Trace.WriteLine("Leaving About method");
            return View();
        }

        public ActionResult Contact()
        {
            Trace.WriteLine("Entering Contact method");
            ViewBag.Message = "Your contact page.";
            Trace.TraceError("Fatal error on the Contact page at " + DateTime.Now.ToLongTimeString());
            Trace.WriteLine("Leaving Contact method");
            return View();
        }        
2. <span data-ttu-id="fd535-284">Lägg till en `using System.Diagnostics;` uttryck överst i filen.</span><span class="sxs-lookup"><span data-stu-id="fd535-284">Add a `using System.Diagnostics;` statement to the top of the file.</span></span>

### <a name="view-the-tracing-output-locally"></a><span data-ttu-id="fd535-285">Visa spårning utdata lokalt</span><span class="sxs-lookup"><span data-stu-id="fd535-285">View the tracing output locally</span></span>
1. <span data-ttu-id="fd535-286">Tryck på F5 för att köra programmet i felsökningsläge.</span><span class="sxs-lookup"><span data-stu-id="fd535-286">Press F5 to run the application in debug mode.</span></span>

    <span data-ttu-id="fd535-287">Standard spårningslyssnaren skriver alla spårningsutdata till den **utdata** fönster, tillsammans med andra felsökningsresultat.</span><span class="sxs-lookup"><span data-stu-id="fd535-287">The default trace listener writes all trace output to the **Output** window, along with other Debug output.</span></span> <span data-ttu-id="fd535-288">Följande bild visar utdata från trace-satser som du lade till den `Index` metoden.</span><span class="sxs-lookup"><span data-stu-id="fd535-288">The following illustration shows the output from the trace statements that you added to the `Index` method.</span></span>

    ![Spårning i felsökningsfönstret](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-debugtracing.png)

    <span data-ttu-id="fd535-290">Följande steg visar hur du kan visa spårningsinformationen i en webbsida, utan att kompilera i felsökningsläge.</span><span class="sxs-lookup"><span data-stu-id="fd535-290">The following steps show how to view trace output in a web page, without compiling in debug mode.</span></span>
2. <span data-ttu-id="fd535-291">Öppna filen Web.config för programmet (det finns i projektmappen) och Lägg till en `<system.diagnostics>` element i slutet av filen precis före avslutande `</configuration>` element:</span><span class="sxs-lookup"><span data-stu-id="fd535-291">Open the application Web.config file (the one located in the project folder) and add a `<system.diagnostics>` element at the end of the file just before the closing `</configuration>` element:</span></span>

          <system.diagnostics>
            <trace>
              <listeners>
                <add name="WebPageTraceListener"
                    type="System.Web.WebPageTraceListener,
                    System.Web,
                    Version=4.0.0.0,
                    Culture=neutral,
                    PublicKeyToken=b03f5f7f11d50a3a" />
              </listeners>
            </trace>
          </system.diagnostics>

    <span data-ttu-id="fd535-292">Den `WebPageTraceListener` kan du visa spårningsutdata genom att bläddra till `/trace.axd`.</span><span class="sxs-lookup"><span data-stu-id="fd535-292">The `WebPageTraceListener` lets you view trace output by browsing to `/trace.axd`.</span></span>
3. <span data-ttu-id="fd535-293">Lägg till en <a href="http://msdn.microsoft.com/library/vstudio/6915t83k(v=vs.100).aspx">elementet trace</a> under `<system.web>` i filen Web.config, som i följande exempel:</span><span class="sxs-lookup"><span data-stu-id="fd535-293">Add a <a href="http://msdn.microsoft.com/library/vstudio/6915t83k(v=vs.100).aspx">trace element</a> under `<system.web>` in the Web.config file, such as the following example:</span></span>

        <trace enabled="true" writeToDiagnosticsTrace="true" mostRecent="true" pageOutput="false" />
4. <span data-ttu-id="fd535-294">Tryck på CTRL+F5 för att köra programmet.</span><span class="sxs-lookup"><span data-stu-id="fd535-294">Press CTRL+F5 to run the application.</span></span>
5. <span data-ttu-id="fd535-295">Lägg till i adressfältet i webbläsarfönstret *trace.axd* till URL och tryck på RETUR (URL: en kommer att likna http://localhost:53370/trace.axd).</span><span class="sxs-lookup"><span data-stu-id="fd535-295">In the address bar of the browser window, add *trace.axd* to the URL, and then press Enter (the URL will be similar to http://localhost:53370/trace.axd).</span></span>
6. <span data-ttu-id="fd535-296">På den **programmet Trace** klickar du på **visa information om** på den första raden (inte BrowserLink rad).</span><span class="sxs-lookup"><span data-stu-id="fd535-296">On the **Application Trace** page, click **View Details** on the first line (not the BrowserLink line).</span></span>

    ![Trace.Axd](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-traceaxd1.png)

    <span data-ttu-id="fd535-298">Den **begär information** visas, och i den **spårningsinformation** avsnitt visas utdata från trace-satser som du lade till den `Index` metoden.</span><span class="sxs-lookup"><span data-stu-id="fd535-298">The **Request Details** page appears, and in the **Trace Information** section you see the output from the trace statements that you added to the `Index` method.</span></span>

    ![Trace.Axd](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-traceaxd2.png)

    <span data-ttu-id="fd535-300">Som standard `trace.axd` endast är tillgängligt lokalt.</span><span class="sxs-lookup"><span data-stu-id="fd535-300">By default, `trace.axd` is only available locally.</span></span> <span data-ttu-id="fd535-301">Om du vill göra den tillgänglig från en fjärransluten webbprogram, kan du lägga till `localOnly="false"` till den `trace` element i den *Web.config* -fil, som visas i följande exempel:</span><span class="sxs-lookup"><span data-stu-id="fd535-301">If you wanted to make it available from a remote web app, you could add `localOnly="false"` to the `trace` element in the *Web.config* file, as shown in the following example:</span></span>

        <trace enabled="true" writeToDiagnosticsTrace="true" localOnly="false" mostRecent="true" pageOutput="false" />

    <span data-ttu-id="fd535-302">Men att aktivera `trace.axd` i en webbapp i allmänhet rekommenderas inte av säkerhetsskäl och i följande avsnitt ser du ett enklare sätt att läsa spårningsloggar i en Azure webbapp.</span><span class="sxs-lookup"><span data-stu-id="fd535-302">However, enabling `trace.axd` in a production web app is generally not recommended for security reasons, and in the following sections you'll see an easier way to read tracing logs in an Azure web app.</span></span>

### <a name="view-the-tracing-output-in-azure"></a><span data-ttu-id="fd535-303">Visa spårning utdata i Azure</span><span class="sxs-lookup"><span data-stu-id="fd535-303">View the tracing output in Azure</span></span>
1. <span data-ttu-id="fd535-304">I **Solution Explorer**, högerklicka webbprojektet och på **publicera**.</span><span class="sxs-lookup"><span data-stu-id="fd535-304">In **Solution Explorer**, right-click the web project and click **Publish**.</span></span>
2. <span data-ttu-id="fd535-305">I den **Publicera webbplats** dialogrutan klickar du på **publicera**.</span><span class="sxs-lookup"><span data-stu-id="fd535-305">In the **Publish Web** dialog box, click **Publish**.</span></span>

    <span data-ttu-id="fd535-306">När Visual Studio publicerar uppdateringen, öppnas ett webbläsarfönster på hemsidan (förutsatt att du inte avmarkera **Måladress** på den **anslutning** fliken).</span><span class="sxs-lookup"><span data-stu-id="fd535-306">After Visual Studio publishes your update, it opens a browser window to your home page (assuming you didn't clear **Destination URL** on the **Connection** tab).</span></span>
3. <span data-ttu-id="fd535-307">I **Server Explorer**, högerklicka på ditt webbprogram och välj **visa strömning loggfiler**.</span><span class="sxs-lookup"><span data-stu-id="fd535-307">In **Server Explorer**, right-click your web app and select **View Streaming Logs**.</span></span>

    ![Visa strömning loggfiler i snabbmenyn](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-viewlogsmenu.png)

    <span data-ttu-id="fd535-309">Den **utdata** fönster visar att du är ansluten till tjänsten log-direktuppspelning och lägger till en Meddelanderad varje minut som går utan en logg för att visa.</span><span class="sxs-lookup"><span data-stu-id="fd535-309">The **Output** window shows that you are connected to the log-streaming service, and adds a notification line each minute that goes by without a log to display.</span></span>

    ![Visa strömning loggfiler i snabbmenyn](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-nologsyet.png)
4. <span data-ttu-id="fd535-311">I webbläsarfönstret som visar startsidan program klickar du på **Kontakta**.</span><span class="sxs-lookup"><span data-stu-id="fd535-311">In the browser window that shows your application home page, click **Contact**.</span></span>

    <span data-ttu-id="fd535-312">Inom några sekunder Spåra utdata från Felnivån du lägga till den `Contact` metoden visas i den **utdata** fönster.</span><span class="sxs-lookup"><span data-stu-id="fd535-312">Within a few seconds the output from the error-level trace you added to the `Contact` method appears in the **Output** window.</span></span>

    ![Felspårning i utdatafönstret](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-errortrace.png)

    <span data-ttu-id="fd535-314">Visual Studio bara visar Felnivån spårningar eftersom det är standardinställningen när du aktiverar loggen övervakningstjänsten.</span><span class="sxs-lookup"><span data-stu-id="fd535-314">Visual Studio is only showing error-level traces because that is the default setting when you enable the log monitoring service.</span></span> <span data-ttu-id="fd535-315">När du skapar en ny Azure webbapp är all loggning inaktiverat som standard, som du såg när du har öppnat inställningssidan tidigare:</span><span class="sxs-lookup"><span data-stu-id="fd535-315">When you create a new Azure web app, all logging is disabled by default, as you saw when you opened the settings page earlier:</span></span>

    ![Programmet logga ut](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-apploggingoff.png)

    <span data-ttu-id="fd535-317">Men om du har valt **visa strömning loggfiler**, Visual Studio automatiskt ändras **programmet Logging(File System)** till **fel**, vilket innebär att Felnivån loggar Hämta rapporterade.</span><span class="sxs-lookup"><span data-stu-id="fd535-317">However, when you selected **View Streaming Logs**, Visual Studio automatically changed **Application Logging(File System)** to **Error**, which means error-level logs get reported.</span></span> <span data-ttu-id="fd535-318">För att se alla dina spårningsloggar, du kan ändra inställningen till **utförlig**.</span><span class="sxs-lookup"><span data-stu-id="fd535-318">In order to see all of your tracing logs, you can change this setting to **Verbose**.</span></span> <span data-ttu-id="fd535-319">När du väljer en allvarlighetsgrad som är lägre än fel rapporteras också alla loggar för högre nivåer av allvarlighetsgrad.</span><span class="sxs-lookup"><span data-stu-id="fd535-319">When you select a severity level lower than error, all logs for higher severity levels are also reported.</span></span> <span data-ttu-id="fd535-320">Så när du väljer utförlig kan se du också information, varning och fel.</span><span class="sxs-lookup"><span data-stu-id="fd535-320">So when you select verbose, you also see information, warning, and error logs.</span></span>  

1. <span data-ttu-id="fd535-321">I **Server Explorer**, högerklickar du på webbprogrammet och klickar sedan på **visningsinställningarna** som du gjorde tidigare.</span><span class="sxs-lookup"><span data-stu-id="fd535-321">In **Server Explorer**, right-click the web app, and then click **View Settings** as you did earlier.</span></span>
2. <span data-ttu-id="fd535-322">Ändra **programloggning (filsystem)** till **utförlig**, och klicka sedan på **spara**.</span><span class="sxs-lookup"><span data-stu-id="fd535-322">Change **Application Logging (File System)** to **Verbose**, and then click **Save**.</span></span>

    ![Anger spårningsnivå utförlig](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-applogverbose.png)
3. <span data-ttu-id="fd535-324">I webbläsarfönstret som nu visas ditt **Kontakta** klickar du på **Start**, klicka på **om**, och klicka sedan på **Kontakta**.</span><span class="sxs-lookup"><span data-stu-id="fd535-324">In the browser window that is now showing your **Contact** page, click **Home**, then click **About**, and then click **Contact**.</span></span>

    <span data-ttu-id="fd535-325">Inom några sekunder den **utdata** fönster visas alla spårning-utdata.</span><span class="sxs-lookup"><span data-stu-id="fd535-325">Within a few seconds, the **Output** window shows all of your tracing output.</span></span>

    ![Utförlig spårningsutdata](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-verbosetraces.png)

    <span data-ttu-id="fd535-327">I det här avsnittet aktiverat och inaktiverat loggning genom att använda Azure web app-inställningar.</span><span class="sxs-lookup"><span data-stu-id="fd535-327">In this section you enabled and disabled logging by using Azure web app settings.</span></span> <span data-ttu-id="fd535-328">Du kan också aktivera och inaktivera Samlingsspårlyssnarna genom att ändra filen Web.config.</span><span class="sxs-lookup"><span data-stu-id="fd535-328">You can also enable and disable trace listeners by modifying the Web.config file.</span></span> <span data-ttu-id="fd535-329">Dock gör ändra filen Web.config tillämpningsdomän att återvinna, när du aktiverar loggning via webbappkonfigurationen inte göra det.</span><span class="sxs-lookup"><span data-stu-id="fd535-329">However, modifying the Web.config file causes the app domain to recycle, while enabling logging via the web app configuration doesn't do that.</span></span> <span data-ttu-id="fd535-330">Om problemet tar lång tid att återskapa, eller är tillfälligt, återvinning tillämpningsdomänen kan ”åtgärdas” och göra så att vänta tills det sker igen.</span><span class="sxs-lookup"><span data-stu-id="fd535-330">If the problem takes a long time to reproduce, or is intermittent, recycling the app domain might "fix" it and force you to wait until it happens again.</span></span> <span data-ttu-id="fd535-331">Aktivera diagnostik i Azure göra inte detta, så att du kan börja samla in information om fel omedelbart.</span><span class="sxs-lookup"><span data-stu-id="fd535-331">Enabling diagnostics in Azure doesn't do this, so you can start capturing error information immediately.</span></span>

### <a name="output-window-features"></a><span data-ttu-id="fd535-332">Utdata fönstret funktioner</span><span class="sxs-lookup"><span data-stu-id="fd535-332">Output window features</span></span>
<span data-ttu-id="fd535-333">Den **Azure loggar** för den **utdata** fönstret har flera knappar och en textruta:</span><span class="sxs-lookup"><span data-stu-id="fd535-333">The **Azure Logs** tab of the **Output** Window has several buttons and a text box:</span></span>

![Loggar fliken knappar](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-icons.png)

<span data-ttu-id="fd535-335">Dessa utför följande funktioner:</span><span class="sxs-lookup"><span data-stu-id="fd535-335">These perform the following functions:</span></span>

* <span data-ttu-id="fd535-336">Avmarkera den **utdata** fönster.</span><span class="sxs-lookup"><span data-stu-id="fd535-336">Clear the **Output** window.</span></span>
* <span data-ttu-id="fd535-337">Aktivera eller inaktivera automatisk radbyte.</span><span class="sxs-lookup"><span data-stu-id="fd535-337">Enable or disable word wrap.</span></span>
* <span data-ttu-id="fd535-338">Starta eller stoppa övervakningen av loggar.</span><span class="sxs-lookup"><span data-stu-id="fd535-338">Start or stop monitoring logs.</span></span>
* <span data-ttu-id="fd535-339">Ange vilket loggar för att övervaka.</span><span class="sxs-lookup"><span data-stu-id="fd535-339">Specify which logs to monitor.</span></span>
* <span data-ttu-id="fd535-340">Hämta loggarna.</span><span class="sxs-lookup"><span data-stu-id="fd535-340">Download logs.</span></span>
* <span data-ttu-id="fd535-341">Filtrera loggarna baserat på en söksträng eller ett reguljärt uttryck.</span><span class="sxs-lookup"><span data-stu-id="fd535-341">Filter logs based on a search string or a regular expression.</span></span>
* <span data-ttu-id="fd535-342">Stäng den **utdata** fönster.</span><span class="sxs-lookup"><span data-stu-id="fd535-342">Close the **Output** window.</span></span>

<span data-ttu-id="fd535-343">Om du anger en söksträng eller det reguljära uttrycket filtrerar logginformation på klienten i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fd535-343">If you enter a search string or regular expression, Visual Studio filters logging information at the client.</span></span> <span data-ttu-id="fd535-344">Det innebär att du kan ange kriterier när loggarna visas i den **utdata** fönstret och du kan ändra filtervillkoren utan att behöva återskapa loggarna.</span><span class="sxs-lookup"><span data-stu-id="fd535-344">That means you can enter the criteria after the logs are displayed in the **Output** window and you can change filtering criteria without having to regenerate the logs.</span></span>

## <span data-ttu-id="fd535-345"><a name="webserverlogs"></a>Visa webbserverloggar</span><span class="sxs-lookup"><span data-stu-id="fd535-345"><a name="webserverlogs"></a>View web server logs</span></span>
<span data-ttu-id="fd535-346">Webbserverloggarna registrera alla HTTP-aktivitet för webbprogrammet.</span><span class="sxs-lookup"><span data-stu-id="fd535-346">Web server logs record all HTTP activity for the web app.</span></span> <span data-ttu-id="fd535-347">För att kunna se dem i den **utdata** fönster som du måste aktivera dem för webbappen och berätta att du vill övervaka dem för Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fd535-347">In order to see them in the **Output** window you have to enable them for the web app and tell Visual Studio that you want to monitor them.</span></span>

1. <span data-ttu-id="fd535-348">I den **Azure Web App Configuration** fliken som du har öppnat från **Server Explorer**, ändra Web Server-loggning till **på**, och klicka sedan på **spara**.</span><span class="sxs-lookup"><span data-stu-id="fd535-348">In the **Azure Web App Configuration** tab that you opened from **Server Explorer**, change Web Server Logging to **On**, and then click **Save**.</span></span>

    ![Aktivera web server-loggning](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-webserverloggingon.png)
2. <span data-ttu-id="fd535-350">I den **utdata** -fönstret klickar du på den **ange vilka Azure loggar för att övervaka** knappen.</span><span class="sxs-lookup"><span data-stu-id="fd535-350">In the **Output** Window, click the **Specify which Azure logs to monitor** button.</span></span>

    ![Ange vilka Azure loggar för att övervaka](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-specifylogs.png)
3. <span data-ttu-id="fd535-352">I den **Azure loggningsalternativ** dialogrutan **Web server-loggar**, och klicka sedan på **OK**.</span><span class="sxs-lookup"><span data-stu-id="fd535-352">In the **Azure Logging Options** dialog box, select **Web server logs**, and then click **OK**.</span></span>

    ![Övervaka webbserverloggar](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-monitorwslogson.png)
4. <span data-ttu-id="fd535-354">I webbläsarfönstret som visar webbappen klickar du på **Start**, klicka på **om**, och klicka sedan på **Kontakta**.</span><span class="sxs-lookup"><span data-stu-id="fd535-354">In the browser window that shows the web app, click **Home**, then click **About**, and then click **Contact**.</span></span>

    <span data-ttu-id="fd535-355">Programloggarna vanligtvis visas först, följt av web server-loggar.</span><span class="sxs-lookup"><span data-stu-id="fd535-355">The application logs generally appear first, followed by the web server logs.</span></span> <span data-ttu-id="fd535-356">Du måste kanske vänta en stund innan loggarna visas.</span><span class="sxs-lookup"><span data-stu-id="fd535-356">You might have to wait a while for the logs to appear.</span></span>

    ![Webbservern loggar i utdatafönstret](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-wslogs.png)

<span data-ttu-id="fd535-358">När du aktiverar webbserverloggar med hjälp av Visual Studio som standard skriver loggarna till filsystemet Azure.</span><span class="sxs-lookup"><span data-stu-id="fd535-358">By default, when you first enable web server logs by using Visual Studio, Azure writes the logs to the file system.</span></span> <span data-ttu-id="fd535-359">Alternativt kan använda du Azure-portalen för att ange webbservern loggar ska skrivas till en blob-behållare i ett lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="fd535-359">As an alternative, you can use the Azure portal to specify that web server logs should be written to a blob container in a storage account.</span></span>

<span data-ttu-id="fd535-360">Om du använder portalen till webbservern loggar till ett Azure storage-konto och sedan inaktivera har loggning i Visual Studio när du återaktivera loggning i Visual Studio kontoinställningarna lagring återställts.</span><span class="sxs-lookup"><span data-stu-id="fd535-360">If you use the portal to enable web server logging to an Azure storage account, and then disable logging in Visual Studio, when you re-enable logging in Visual Studio your storage account settings are restored.</span></span>

## <span data-ttu-id="fd535-361"><a name="detailederrorlogs"></a>Visa detaljerade felloggar för meddelandet</span><span class="sxs-lookup"><span data-stu-id="fd535-361"><a name="detailederrorlogs"></a>View detailed error message logs</span></span>
<span data-ttu-id="fd535-362">Detaljerade felloggar ger ytterligare information om HTTP-förfrågningar som resulterar i svaret felkoder (400 eller senare).</span><span class="sxs-lookup"><span data-stu-id="fd535-362">Detailed error logs provide some additional information about HTTP requests that result in error response codes (400 or above).</span></span> <span data-ttu-id="fd535-363">För att kunna se dem i den **utdata** och du måste aktivera dem för webbappen och berätta att du vill övervaka dem för Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fd535-363">In order to see them in the **Output** window, you have to enable them for the web app and tell Visual Studio that you want to monitor them.</span></span>

1. <span data-ttu-id="fd535-364">I den **Azure Web App Configuration** fliken som du har öppnat från **Server Explorer**, ändra **detaljerade felmeddelanden** till **på**, och sedan Klicka på **spara**.</span><span class="sxs-lookup"><span data-stu-id="fd535-364">In the **Azure Web App Configuration** tab that you opened from **Server Explorer**, change **Detailed Error Messages** to **On**, and then click **Save**.</span></span>

    ![Aktivera detaljerade felmeddelanden](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-detailedlogson.png)
2. <span data-ttu-id="fd535-366">I den **utdata** -fönstret klickar du på den **ange vilka Azure loggar för att övervaka** knappen.</span><span class="sxs-lookup"><span data-stu-id="fd535-366">In the **Output** Window, click the **Specify which Azure logs to monitor** button.</span></span>
3. <span data-ttu-id="fd535-367">I den **Azure loggningsalternativ** dialogrutan klickar du på **alla loggar**, och klicka sedan på **OK**.</span><span class="sxs-lookup"><span data-stu-id="fd535-367">In the **Azure Logging Options** dialog box, click **All logs**, and then click **OK**.</span></span>

    ![Övervaka alla loggar](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-monitorall.png)
4. <span data-ttu-id="fd535-369">I adressfältet i webbläsarfönstret, lägga till ett extra tecken i URL: en kan orsaka ett 404-fel (till exempel `http://localhost:53370/Home/Contactx`), och tryck på RETUR.</span><span class="sxs-lookup"><span data-stu-id="fd535-369">In the address bar of the browser window, add an extra character to the URL to cause a 404 error (for example, `http://localhost:53370/Home/Contactx`), and press Enter.</span></span>

    <span data-ttu-id="fd535-370">När flera sekunder detaljerad fellogg visas i Visual Studio **utdata** fönster.</span><span class="sxs-lookup"><span data-stu-id="fd535-370">After several seconds the detailed error log appears in the Visual Studio **Output** window.</span></span>

    ![Detaljerad fellogg i utdatafönstret](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-detailederrorlog.png)

    <span data-ttu-id="fd535-372">CTRL + klicka på länken om du vill se loggutdata formaterad i en webbläsare:</span><span class="sxs-lookup"><span data-stu-id="fd535-372">Control+click the link to see the log output formatted in a browser:</span></span>

    ![Detaljerad fellogg i webbläsarfönster](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-detailederrorloginbrowser.png)

## <span data-ttu-id="fd535-374"><a name="downloadlogs"></a>Hämta filen systemloggar</span><span class="sxs-lookup"><span data-stu-id="fd535-374"><a name="downloadlogs"></a>Download file system logs</span></span>
<span data-ttu-id="fd535-375">Loggar som du kan övervaka i den **utdata** fönster kan också hämtas som en *.zip* fil.</span><span class="sxs-lookup"><span data-stu-id="fd535-375">Any logs that you can monitor in the **Output** window can also be downloaded as a *.zip* file.</span></span>

1. <span data-ttu-id="fd535-376">I den **utdata** -fönstret klickar du på **hämta strömning loggar**.</span><span class="sxs-lookup"><span data-stu-id="fd535-376">In the **Output** window, click **Download Streaming Logs**.</span></span>

    ![Loggar fliken knappar](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-downloadicon.png)

    <span data-ttu-id="fd535-378">Utforskaren öppnar din *hämtar* mappen med den hämta filen som valts.</span><span class="sxs-lookup"><span data-stu-id="fd535-378">File Explorer opens to your *Downloads* folder with the downloaded file selected.</span></span>

    ![Hämtade filen](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-downloadedfile.png)
2. <span data-ttu-id="fd535-380">Extrahera den *.zip* fil och du ser följande mappstrukturen:</span><span class="sxs-lookup"><span data-stu-id="fd535-380">Extract the *.zip* file, and you see the following folder structure:</span></span>

    ![Hämtade filen](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-logfilefolders.png)

   * <span data-ttu-id="fd535-382">Programmet spårningsloggar finns i *.txt* filer i den *LogFiles\Application* mapp.</span><span class="sxs-lookup"><span data-stu-id="fd535-382">Application tracing logs are in *.txt* files in the *LogFiles\Application* folder.</span></span>
   * <span data-ttu-id="fd535-383">Webbserverloggarna är i *.log* filer i den *LogFiles\http\RawLogs* mapp.</span><span class="sxs-lookup"><span data-stu-id="fd535-383">Web server logs are in *.log* files in the *LogFiles\http\RawLogs* folder.</span></span> <span data-ttu-id="fd535-384">Du kan använda ett verktyg som [Loggparser](http://www.microsoft.com/download/details.aspx?displaylang=en&id=24659) visa och manipulera filerna.</span><span class="sxs-lookup"><span data-stu-id="fd535-384">You can use a tool such as [Log Parser](http://www.microsoft.com/download/details.aspx?displaylang=en&id=24659) to view and manipulate these files.</span></span>
   * <span data-ttu-id="fd535-385">Meddelande för detaljerade felloggar finns i *.html* filer i den *LogFiles\DetailedErrors* mapp.</span><span class="sxs-lookup"><span data-stu-id="fd535-385">Detailed error message logs are in *.html* files in the *LogFiles\DetailedErrors* folder.</span></span>

     <span data-ttu-id="fd535-386">(Den *distributioner* mappen är för filer som skapas av källkontrollen publicering; den inte har något rör publicering med Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fd535-386">(The *deployments* folder is for files created by source control publishing; it doesn't have anything related to Visual Studio publishing.</span></span> <span data-ttu-id="fd535-387">Den *Git* mappen är för spår som rör källkontrollen publicering och loggen filen tjänst för liveströmning.)</span><span class="sxs-lookup"><span data-stu-id="fd535-387">The *Git* folder is for traces related to source control publishing and the log file streaming service.)</span></span>  

## <span data-ttu-id="fd535-388"><a name="storagelogs"></a>Visa loggfiler för lagring</span><span class="sxs-lookup"><span data-stu-id="fd535-388"><a name="storagelogs"></a>View storage logs</span></span>
<span data-ttu-id="fd535-389">Spårningsloggar för program kan också skickas till ett Azure storage-konto och du kan visa dem i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fd535-389">Application tracing logs can also be sent to an Azure storage account, and you can view them in Visual Studio.</span></span> <span data-ttu-id="fd535-390">Gör att du skapar ett lagringskonto, aktivera lagring loggar i den klassiska portalen och visa dem i den **loggar** för den **Azure Web App** fönster.</span><span class="sxs-lookup"><span data-stu-id="fd535-390">To do that you'll create a storage account, enable storage logs in the classic portal, and view them in the **Logs** tab of the **Azure Web App** window.</span></span>

<span data-ttu-id="fd535-391">Du kan skicka loggar till någon eller samtliga av tre mål:</span><span class="sxs-lookup"><span data-stu-id="fd535-391">You can send logs to any or all of three destinations:</span></span>

* <span data-ttu-id="fd535-392">Filsystem.</span><span class="sxs-lookup"><span data-stu-id="fd535-392">The file system.</span></span>
* <span data-ttu-id="fd535-393">Storage-konto-tabeller.</span><span class="sxs-lookup"><span data-stu-id="fd535-393">Storage account tables.</span></span>
* <span data-ttu-id="fd535-394">Storage-konto-blobbar.</span><span class="sxs-lookup"><span data-stu-id="fd535-394">Storage account blobs.</span></span>

<span data-ttu-id="fd535-395">Du kan ange en annan allvarlighetsgrad för varje mål.</span><span class="sxs-lookup"><span data-stu-id="fd535-395">You can specify a different severity level for each destination.</span></span>

<span data-ttu-id="fd535-396">Tabeller är det enkelt att visa information online loggar och stöd för direktuppspelning; Du kan fråga loggar i tabeller och se nya loggar som de skapas.</span><span class="sxs-lookup"><span data-stu-id="fd535-396">Tables make it easy to view details of logs online, and they support streaming; you can query logs in tables and see new logs as they are being created.</span></span> <span data-ttu-id="fd535-397">Blobbar gör det lättare att hämta loggarna i filer och analysera dem med HDInsight, eftersom HDInsight vet hur du arbetar med blob storage.</span><span class="sxs-lookup"><span data-stu-id="fd535-397">Blobs make it easy to download logs in files and to analyze them using HDInsight, because HDInsight knows how to work with blob storage.</span></span> <span data-ttu-id="fd535-398">Mer information finns i **Hadoop och MapReduce** i [alternativen för datalagring (skapa verkliga Molnappar med Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-storage-options).</span><span class="sxs-lookup"><span data-stu-id="fd535-398">For more information, see **Hadoop and MapReduce** in [Data Storage Options (Building Real-World Cloud Apps with Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-storage-options).</span></span>

<span data-ttu-id="fd535-399">Du har för närvarande filen systemloggar inställd på utförlig nivå. följande steg beskriver hur du konfigurerar information nivån loggar att gå till storage-konto-tabeller.</span><span class="sxs-lookup"><span data-stu-id="fd535-399">You currently have file system logs set to verbose level; the following steps walk you through setting up information level logs to go to storage account tables.</span></span> <span data-ttu-id="fd535-400">Informationsnivå innebär alla loggar som skapats genom att anropa `Trace.TraceInformation`, `Trace.TraceWarning`, och `Trace.TraceError` visas, men inte loggarna som skapas genom att anropa `Trace.WriteLine`.</span><span class="sxs-lookup"><span data-stu-id="fd535-400">Information level means all logs created by calling `Trace.TraceInformation`, `Trace.TraceWarning`, and `Trace.TraceError` will be displayed, but not logs created by calling `Trace.WriteLine`.</span></span>

<span data-ttu-id="fd535-401">Storage-konton erbjuder mer lagringsutrymme och längre kvarhållning för loggar jämfört med filsystemet.</span><span class="sxs-lookup"><span data-stu-id="fd535-401">Storage accounts offer more storage and longer-lasting retention for logs compared to the file system.</span></span> <span data-ttu-id="fd535-402">En annan fördel med att skicka spårning programloggar till lagring är att du får ytterligare information med varje logg som du inte får från filen systemloggar.</span><span class="sxs-lookup"><span data-stu-id="fd535-402">Another advantage of sending application tracing logs to storage is that you get some additional information with each log that you don't get from file system logs.</span></span>

1. <span data-ttu-id="fd535-403">Högerklicka på **lagring** under Azure noden och klicka sedan på **skapa Lagringskonto**.</span><span class="sxs-lookup"><span data-stu-id="fd535-403">Right-click **Storage** under the Azure node, and then click **Create Storage Account**.</span></span>

![Skapa Lagringskonto](./media/web-sites-dotnet-troubleshoot-visual-studio/createstor.png)

1. <span data-ttu-id="fd535-405">I den **skapa Lagringskonto** dialogrutan, ange ett namn för lagringskontot.</span><span class="sxs-lookup"><span data-stu-id="fd535-405">In the **Create Storage Account** dialog, enter a name for the storage account.</span></span>

    <span data-ttu-id="fd535-406">Namnet måste vara unika (ingen Azure storage-konto kan ha samma namn).</span><span class="sxs-lookup"><span data-stu-id="fd535-406">The name must be must be unique (no other Azure storage account can have the same name).</span></span> <span data-ttu-id="fd535-407">Om namnet redan används får du möjlighet att ändra den.</span><span class="sxs-lookup"><span data-stu-id="fd535-407">If the name you enter is already in use you'll get a chance to change it.</span></span>

    <span data-ttu-id="fd535-408">URL: en för ditt lagringskonto kommer att *{name}*. core.windows.net.</span><span class="sxs-lookup"><span data-stu-id="fd535-408">The URL to access your storage account will be *{name}*.core.windows.net.</span></span>
2. <span data-ttu-id="fd535-409">Ange den **Region eller Affinitetsgrupp** listrutan till regionen som är närmast dig.</span><span class="sxs-lookup"><span data-stu-id="fd535-409">Set the **Region or Affinity Group** drop-down list to the region closest to you.</span></span>

    <span data-ttu-id="fd535-410">Den här inställningen anger vilket Azure-datacenter ska vara värd för ditt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="fd535-410">This setting specifies which Azure datacenter will host your storage account.</span></span> <span data-ttu-id="fd535-411">Ditt val för den här självstudiekursen gör inte någon märkbar skillnad, men för en webbapp i produktion du vill webbservern och ditt lagringskonto i samma region för att minimera fördröjning och data utgång avgifter.</span><span class="sxs-lookup"><span data-stu-id="fd535-411">For this tutorial your choice won't make a noticeable difference, but for a production web app you want your web server and your storage account to be in the same region to minimize latency and data egress charges.</span></span> <span data-ttu-id="fd535-412">Webbprogrammet (som du skapar senare) ska köras i en region så nära som möjligt till webbläsare som ansluter till ditt webbprogram för att minimera fördröjning.</span><span class="sxs-lookup"><span data-stu-id="fd535-412">The web app (which you'll create later) should run in a region as close as possible to the browsers accessing your web app in order to minimize latency.</span></span>
3. <span data-ttu-id="fd535-413">Välj **Locally redundant** (Lokalt redundant) i listrutan **Replication** (Replikering).</span><span class="sxs-lookup"><span data-stu-id="fd535-413">Set the **Replication** drop-down list to **Locally redundant**.</span></span>
   
    <span data-ttu-id="fd535-414">När geo-replikering har aktiverats för ett lagringskonto, replikeras det lagrade innehållet till ett sekundärt datacenter för att aktivera redundans till den platsen om det skulle inträffa en större katastrof på den primära platsen.</span><span class="sxs-lookup"><span data-stu-id="fd535-414">When geo-replication is enabled for a storage account, the stored content is replicated to a secondary datacenter to enable failover to that location in case of a major disaster in the primary location.</span></span> <span data-ttu-id="fd535-415">Geo-replikering kan medföra ytterligare kostnader.</span><span class="sxs-lookup"><span data-stu-id="fd535-415">Geo-replication can incur additional costs.</span></span> <span data-ttu-id="fd535-416">När det gäller test- och utvecklingskonton ska du vanligtvis inte betala för geo-replikering.</span><span class="sxs-lookup"><span data-stu-id="fd535-416">For test and development accounts, you generally don't want to pay for geo-replication.</span></span> <span data-ttu-id="fd535-417">Mer information finns i [Skapa, hantera eller ta bort ett lagringskonto](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="fd535-417">For more information, see [Create, manage, or delete a storage account](../storage/common/storage-create-storage-account.md).</span></span>
4. <span data-ttu-id="fd535-418">Klicka på **Skapa**.</span><span class="sxs-lookup"><span data-stu-id="fd535-418">Click **Create**.</span></span>

    ![Nytt lagringskonto](./media/web-sites-dotnet-troubleshoot-visual-studio/newstorage.png)    
5. <span data-ttu-id="fd535-420">I Visual Studio **Azure Web App** -fönstret klickar du på den **loggar** fliken och klicka sedan på **konfigurera loggning i hanteringsportalen**.</span><span class="sxs-lookup"><span data-stu-id="fd535-420">In the Visual Studio **Azure Web App** window, click the **Logs** tab, and then click **Configure Logging in Management Portal**.</span></span>

    <!-- todo:screenshot of new portal if the VS page link goes to new portal -->
    ![Konfigurera loggning](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-configlogging.png)

    <span data-ttu-id="fd535-422">Då öppnas den **konfigurera** fliken i den klassiska portalen för ditt webbprogram.</span><span class="sxs-lookup"><span data-stu-id="fd535-422">This opens the **Configure** tab in the classic portal for your web app.</span></span>
6. <span data-ttu-id="fd535-423">I den klassiska portalen **konfigurera** fliken, rulla ned till avsnittet application diagnostics och ändra **programloggning (Table Storage)** till **på**.</span><span class="sxs-lookup"><span data-stu-id="fd535-423">In the classic portal's **Configure** tab, scroll down to the application diagnostics section, and then change **Application Logging (Table Storage)** to **On**.</span></span>
7. <span data-ttu-id="fd535-424">Ändra **loggningsnivån** till **Information**.</span><span class="sxs-lookup"><span data-stu-id="fd535-424">Change **Logging Level** to **Information**.</span></span>
8. <span data-ttu-id="fd535-425">Klicka på **hantera tabellagring**.</span><span class="sxs-lookup"><span data-stu-id="fd535-425">Click **Manage Table Storage**.</span></span>

    ![Klicka på Hantera TableStorage](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-stgsettingsmgmtportal.png)

    <span data-ttu-id="fd535-427">I den **hantera tabellagring för application diagnostics** rutan du storage-konto om du har mer än ett.</span><span class="sxs-lookup"><span data-stu-id="fd535-427">In the **Manage table storage for application diagnostics** box, you can choose your storage account if you have more than one.</span></span> <span data-ttu-id="fd535-428">Du kan skapa en ny tabell eller använda en befintlig.</span><span class="sxs-lookup"><span data-stu-id="fd535-428">You can create a new table or use an existing one.</span></span>

    ![Hantera tabellagring](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-choosestorageacct.png)
9. <span data-ttu-id="fd535-430">I den **hantera tabellagring för application diagnostics** Klicka på bockmarkeringen för att stänga dialogrutan.</span><span class="sxs-lookup"><span data-stu-id="fd535-430">In the **Manage table storage for application diagnostics** box click the check mark to close the box.</span></span>
10. <span data-ttu-id="fd535-431">I den klassiska portalen **konfigurera** klickar du på **spara**.</span><span class="sxs-lookup"><span data-stu-id="fd535-431">In the classic portal's **Configure** tab, click **Save**.</span></span>
11. <span data-ttu-id="fd535-432">I webbläsarfönstret som visar webbprogrammet för programmet, klickar du på **Start**, klicka på **om**, och klicka sedan på **Kontakta**.</span><span class="sxs-lookup"><span data-stu-id="fd535-432">In the browser window that displays the application web app, click **Home**, then click **About**, and then click **Contact**.</span></span>

     <span data-ttu-id="fd535-433">Loggningsinformation genereras genom att bläddra bland dessa webbsidor kommer att skrivas till lagringskontot.</span><span class="sxs-lookup"><span data-stu-id="fd535-433">The logging information produced by browsing these web pages will be written to the storage account.</span></span>
12. <span data-ttu-id="fd535-434">I den **loggar** för den **Azure Web App** fönstret i Visual Studio klickar du på **uppdatera** under **diagnostiska sammanfattning**.</span><span class="sxs-lookup"><span data-stu-id="fd535-434">In the **Logs** tab of the **Azure Web App** window in Visual Studio, click **Refresh** under **Diagnostic Summary**.</span></span>

     ![Klicka på Uppdatera](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-refreshstorage.png)

     <span data-ttu-id="fd535-436">Den **diagnostiska sammanfattning** avsnitt visar loggar för de senaste 15 minuterna som standard.</span><span class="sxs-lookup"><span data-stu-id="fd535-436">The **Diagnostic Summary** section shows logs for the last 15 minutes by default.</span></span> <span data-ttu-id="fd535-437">Du kan ändra perioden om du vill se fler loggar.</span><span class="sxs-lookup"><span data-stu-id="fd535-437">You can change the period to see more logs.</span></span>

     <span data-ttu-id="fd535-438">(Om du får felet ”Det gick inte att hitta tabellen” Kontrollera att du har bläddrat till de sidor som gör spårning när du aktiverat **programloggning (lagring)** och när du klickat på **spara**.)</span><span class="sxs-lookup"><span data-stu-id="fd535-438">(If you get a "table not found" error, verify that you browsed to the pages that do the tracing after you enabled **Application Logging (Storage)** and after you clicked **Save**.)</span></span>

     ![Storage-loggar](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-storagelogs.png)

     <span data-ttu-id="fd535-440">Observera att i den här vyn du se **Process-ID** och **tråd-ID** för varje logg som du inte får i filen systemloggarna.</span><span class="sxs-lookup"><span data-stu-id="fd535-440">Notice that in this view you see **Process ID** and **Thread ID** for each log, which you don't get in the file system logs.</span></span> <span data-ttu-id="fd535-441">Du kan se ytterligare fält genom att visa tabellen Azure storage direkt.</span><span class="sxs-lookup"><span data-stu-id="fd535-441">You can see additional fields by viewing the Azure storage table directly.</span></span>
13. <span data-ttu-id="fd535-442">Klicka på **visa alla programloggarna**.</span><span class="sxs-lookup"><span data-stu-id="fd535-442">Click **View all application logs**.</span></span>

     <span data-ttu-id="fd535-443">Tabellen trace log visas i visningsprogrammet för Azure storage-tabellen.</span><span class="sxs-lookup"><span data-stu-id="fd535-443">The trace log table appears in the Azure storage table viewer.</span></span>

     <span data-ttu-id="fd535-444">(Om du får felet ”sekvensen innehåller inga element” öppna **Server Explorer**, expanderar du noden för ditt lagringskonto under den **Azure** nod och högerklicka sedan **tabeller**och klicka på **uppdatera**.)</span><span class="sxs-lookup"><span data-stu-id="fd535-444">(If you get a "sequence contains no elements" error, open **Server Explorer**, expand the node for your storage account under the **Azure** node, and then right-click **Tables** and click **Refresh**.)</span></span>

     ![Lagring loggar i tabellvy](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-tracelogtableview.png)

     <span data-ttu-id="fd535-446">Den här vyn visar ytterligare fält som inte visas i andra vyer.</span><span class="sxs-lookup"><span data-stu-id="fd535-446">This view shows additional fields you don't see in any other views.</span></span> <span data-ttu-id="fd535-447">Den här vyn kan du filtrera loggar med hjälp av särskilda fråga Builder-Gränssnittet för att konstruera en fråga.</span><span class="sxs-lookup"><span data-stu-id="fd535-447">This view also enables you to filter logs by using special Query Builder UI for constructing a query.</span></span> <span data-ttu-id="fd535-448">Mer information finns i Arbeta med resurser för tabell - filtrering entiteter i [surfning lagringsresurser med Server Explorer](http://msdn.microsoft.com/library/ff683677.aspx).</span><span class="sxs-lookup"><span data-stu-id="fd535-448">For more information, see Working with Table Resources - Filtering Entities in [Browsing Storage Resources with Server Explorer](http://msdn.microsoft.com/library/ff683677.aspx).</span></span>
14. <span data-ttu-id="fd535-449">Om du vill visa information för en enda rad, dubbelklicka på en av raderna.</span><span class="sxs-lookup"><span data-stu-id="fd535-449">To look at the details for a single row, double-click one of the rows.</span></span>

     ![Spåra tabellen i Server Explorer](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-tracetablerow.png)

## <span data-ttu-id="fd535-451"><a name="failedrequestlogs"></a>Visa spårningsloggar för misslyckade begäranden</span><span class="sxs-lookup"><span data-stu-id="fd535-451"><a name="failedrequestlogs"></a>View failed request tracing logs</span></span>
<span data-ttu-id="fd535-452">Loggar för spårning av misslyckade begäranden är användbara när du behöver förstå information om hur IIS hanterar en HTTP-begäran i scenarier, till exempel skriva om eller autentisering problem med URL: en.</span><span class="sxs-lookup"><span data-stu-id="fd535-452">Failed request tracing logs are useful when you need to understand the details of how IIS is handling an HTTP request, in scenarios such as URL rewriting or authentication problems.</span></span>

<span data-ttu-id="fd535-453">Azure webbappar som använder samma misslyckade begäranden spårning-funktioner som har varit tillgänglig med IIS 7.0 och senare.</span><span class="sxs-lookup"><span data-stu-id="fd535-453">Azure web apps use the same failed request tracing functionality that has been available with IIS 7.0 and later.</span></span> <span data-ttu-id="fd535-454">Du har inte åtkomst till IIS-inställningar som konfigurerar vilka fel får loggas men.</span><span class="sxs-lookup"><span data-stu-id="fd535-454">You don't have access to the IIS settings that configure which errors get logged, however.</span></span> <span data-ttu-id="fd535-455">När du aktiverar spårning av misslyckade begäranden fångas alla fel.</span><span class="sxs-lookup"><span data-stu-id="fd535-455">When you enable failed request tracing, all errors are captured.</span></span>

<span data-ttu-id="fd535-456">Du kan aktivera spårning av misslyckade begäranden med hjälp av Visual Studio, men du kan inte visa dem i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fd535-456">You can enable failed request tracing by using Visual Studio, but you can't view them in Visual Studio.</span></span> <span data-ttu-id="fd535-457">Dessa loggar är XML-filer.</span><span class="sxs-lookup"><span data-stu-id="fd535-457">These logs are XML files.</span></span> <span data-ttu-id="fd535-458">Strömmande Loggtjänsten övervakar endast filer som bedöms vara läsbar i läget oformaterad text: *.txt*, *.html*, och *.log* filer.</span><span class="sxs-lookup"><span data-stu-id="fd535-458">The streaming log service only monitors files that are deemed readable in plain text mode:  *.txt*, *.html*, and *.log* files.</span></span>

<span data-ttu-id="fd535-459">Du kan visa spårningsloggar för misslyckade begäranden i en webbläsare direkt via FTP- eller lokalt efter att använda en FTP-verktyget för att ladda ned dem till den lokala datorn.</span><span class="sxs-lookup"><span data-stu-id="fd535-459">You can view failed request tracing logs in a browser directly via FTP or locally after using an FTP tool to download them to your local computer.</span></span> <span data-ttu-id="fd535-460">I det här avsnittet ska du visa dem i en webbläsare direkt.</span><span class="sxs-lookup"><span data-stu-id="fd535-460">In this section you'll view them in a browser directly.</span></span>

1. <span data-ttu-id="fd535-461">I den **Configuration** för den **Azure Web App** fönster som du öppnade från **Server Explorer**, ändra **spårning av misslyckade begäranden** till **På**, och klicka sedan på **spara**.</span><span class="sxs-lookup"><span data-stu-id="fd535-461">In the **Configuration** tab of the **Azure Web App** window that you opened from **Server Explorer**, change **Failed Request Tracing** to **On**, and then click **Save**.</span></span>

    ![Aktivera spårning av misslyckade begäranden](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-failedrequeston.png)
2. <span data-ttu-id="fd535-463">Lägg till ett extra tecken i URL: en i adressfältet i webbläsarfönstret som visar webbprogrammet, och klicka på RETUR om du vill få ett 404-fel.</span><span class="sxs-lookup"><span data-stu-id="fd535-463">In the address bar of the browser window that shows the web app, add an extra character to the URL and click Enter to cause a 404 error.</span></span>

    <span data-ttu-id="fd535-464">Detta leder till en misslyckad begäran spårningsloggen skapas och följande steg visar hur du visar eller hämta loggen.</span><span class="sxs-lookup"><span data-stu-id="fd535-464">This causes a failed request tracing log to be created, and the following steps show how to view or download the log.</span></span>
3. <span data-ttu-id="fd535-465">I Visual Studio, i den **Configuration** för den **Azure Web App** fönstret klickar du på **öppna i hanteringsportalen**.</span><span class="sxs-lookup"><span data-stu-id="fd535-465">In Visual Studio, in the **Configuration** tab of the **Azure Web App** window, click **Open in Management Portal**.</span></span>
4. <span data-ttu-id="fd535-466">I den [Azure Portal](https://portal.azure.com) **inställningar** bladet för din webbapp klickar du på **distributionsbehörigheterna**, och ange sedan ett nytt användarnamn och lösenord.</span><span class="sxs-lookup"><span data-stu-id="fd535-466">In the [Azure Portal](https://portal.azure.com) **Settings** blade for your web app, click **Deployment credentials**, and then enter a new user name and password.</span></span>

    ![Ny FTP-användarnamn och lösenord](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-enterftpcredentials.png)

    <span data-ttu-id="fd535-468">** Du måste använda det fullständiga användarnamnet med webbprogramnamnet som prefix till den när du loggar in.</span><span class="sxs-lookup"><span data-stu-id="fd535-468">**When you log in, you have to use the full user name with the web app name prefixed to it.</span></span> <span data-ttu-id="fd535-469">Till exempel om du anger ”myid” som ett användarnamn och platsen är ”mittexempel” kan logga du in som ”myexample\myid”.</span><span class="sxs-lookup"><span data-stu-id="fd535-469">For example, if you enter "myid" as a user name and the site is "myexample", you log in as "myexample\myid".</span></span>
5. <span data-ttu-id="fd535-470">Gå till den URL som visas under i ett nytt webbläsarfönster **FTP-värdnamn** eller **FTPS hostname** i den **Web App** bladet för ditt webbprogram.</span><span class="sxs-lookup"><span data-stu-id="fd535-470">In a new browser window, go to the URL that is shown under **FTP hostname** or **FTPS hostname** in the **Web App** blade for your web app.</span></span>
6. <span data-ttu-id="fd535-471">Logga in med hjälp av FTP-autentiseringsuppgifter som du skapade tidigare (inklusive web app namnprefixet för användarnamnet).</span><span class="sxs-lookup"><span data-stu-id="fd535-471">Log in using the FTP credentials that you created earlier (including the web app name prefix for the user name).</span></span>

    <span data-ttu-id="fd535-472">Webbläsaren visar rotmappen på webbprogrammet.</span><span class="sxs-lookup"><span data-stu-id="fd535-472">The browser shows the root folder of the web app.</span></span>
7. <span data-ttu-id="fd535-473">Öppna den *loggfiler* mapp.</span><span class="sxs-lookup"><span data-stu-id="fd535-473">Open the *LogFiles* folder.</span></span>

    ![Öppna loggfiler mapp](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-logfilesfolder.png)
8. <span data-ttu-id="fd535-475">Öppna mappen som heter W3SVC plus ett numeriskt värde.</span><span class="sxs-lookup"><span data-stu-id="fd535-475">Open the folder that is named W3SVC plus a numeric value.</span></span>

    ![Öppna W3SVC-mappen](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-w3svcfolder.png)

    <span data-ttu-id="fd535-477">Mappen innehåller XML-filer för eventuella fel som loggas när du har aktiverat spårning av misslyckade begäranden och en XSL-fil som en webbläsare kan använda för att formatera XML.</span><span class="sxs-lookup"><span data-stu-id="fd535-477">The folder contains XML files for any errors that have been logged after you enabled failed request tracing, and an XSL file that a browser can use to format the XML.</span></span>

    ![W3SVC-mappen](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-w3svcfoldercontents.png)
9. <span data-ttu-id="fd535-479">Klicka på XML-filen för den misslyckade begäran som du vill visa spårningsinformation för.</span><span class="sxs-lookup"><span data-stu-id="fd535-479">Click the XML file for the failed request that you want to see tracing information for.</span></span>

    <span data-ttu-id="fd535-480">Följande bild visar en del av spårningsinformation för ett prov-fel.</span><span class="sxs-lookup"><span data-stu-id="fd535-480">The following illustration shows part of the tracing information for a sample error.</span></span>

    ![Spårning av misslyckade begäranden i webbläsare](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-failedrequestinbrowser.png)

## <span data-ttu-id="fd535-482"><a name="nextsteps"></a>Nästa steg</span><span class="sxs-lookup"><span data-stu-id="fd535-482"><a name="nextsteps"></a>Next Steps</span></span>
<span data-ttu-id="fd535-483">Du har sett hur Visual Studio gör det enkelt att visa loggar som skapats av en Azure-webbapp.</span><span class="sxs-lookup"><span data-stu-id="fd535-483">You've seen how Visual Studio makes it easy to view logs created by an Azure web app.</span></span> <span data-ttu-id="fd535-484">Följande avsnitt innehåller länkar till fler resurser i Närliggande ämnen:</span><span class="sxs-lookup"><span data-stu-id="fd535-484">The following sections provide links to more resources on related topics:</span></span>

* <span data-ttu-id="fd535-485">Felsökning av Azure web app</span><span class="sxs-lookup"><span data-stu-id="fd535-485">Azure web app troubleshooting</span></span>
* <span data-ttu-id="fd535-486">Felsökning i Visual Studio</span><span class="sxs-lookup"><span data-stu-id="fd535-486">Debugging in Visual Studio</span></span>
* <span data-ttu-id="fd535-487">Fjärr-felsökning i Azure</span><span class="sxs-lookup"><span data-stu-id="fd535-487">Remote debugging in Azure</span></span>
* <span data-ttu-id="fd535-488">Spårning i ASP.NET-program</span><span class="sxs-lookup"><span data-stu-id="fd535-488">Tracing in ASP.NET applications</span></span>
* <span data-ttu-id="fd535-489">När webbserverloggar</span><span class="sxs-lookup"><span data-stu-id="fd535-489">Analyzing web server logs</span></span>
* <span data-ttu-id="fd535-490">Det gick inte att analysera spårningsloggar för begäran</span><span class="sxs-lookup"><span data-stu-id="fd535-490">Analyzing failed request tracing logs</span></span>
* <span data-ttu-id="fd535-491">Felsökning av molntjänster</span><span class="sxs-lookup"><span data-stu-id="fd535-491">Debugging Cloud Services</span></span>

### <a name="azure-web-app-troubleshooting"></a><span data-ttu-id="fd535-492">Felsökning av Azure web app</span><span class="sxs-lookup"><span data-stu-id="fd535-492">Azure web app troubleshooting</span></span>
<span data-ttu-id="fd535-493">Mer information om hur du felsöker web apps i Azure App Service finns i följande resurser:</span><span class="sxs-lookup"><span data-stu-id="fd535-493">For more information about troubleshooting web apps in Azure App Service, see the following resources:</span></span>

* [<span data-ttu-id="fd535-494">Så här övervakar du webbprogram</span><span class="sxs-lookup"><span data-stu-id="fd535-494">How to monitor web apps</span></span>](/manage/services/web-sites/how-to-monitor-websites/)
* <span data-ttu-id="fd535-495">[Undersöka minnesläckor i Azure Webbappar med Visual Studio 2013](http://blogs.msdn.com/b/visualstudioalm/archive/2013/12/20/investigating-memory-leaks-in-azure-web-sites-with-visual-studio-2013.aspx).</span><span class="sxs-lookup"><span data-stu-id="fd535-495">[Investigating Memory Leaks in Azure Web Apps with Visual Studio 2013](http://blogs.msdn.com/b/visualstudioalm/archive/2013/12/20/investigating-memory-leaks-in-azure-web-sites-with-visual-studio-2013.aspx).</span></span> <span data-ttu-id="fd535-496">Microsoft ALM blogginlägget om Visual Studio-funktioner för att analysera hanterade minnesproblem.</span><span class="sxs-lookup"><span data-stu-id="fd535-496">Microsoft ALM blog post about Visual Studio features for analyzing managed memory issues.</span></span>
* <span data-ttu-id="fd535-497">[Azure web apps online verktyg du bör känna till om](https://azure.microsoft.com/blog/2014/03/28/windows-azure-websites-online-tools-you-should-know-about-2/).</span><span class="sxs-lookup"><span data-stu-id="fd535-497">[Azure web apps online tools you should know about](https://azure.microsoft.com/blog/2014/03/28/windows-azure-websites-online-tools-you-should-know-about-2/).</span></span> <span data-ttu-id="fd535-498">Blogginlägget Amit Apple.</span><span class="sxs-lookup"><span data-stu-id="fd535-498">Blog post by Amit Apple.</span></span>

<span data-ttu-id="fd535-499">Starta en tråd i något av följande forum för hjälp med en specifik felsökning fråga:</span><span class="sxs-lookup"><span data-stu-id="fd535-499">For help with a specific troubleshooting question, start a thread in one of the following forums:</span></span>

* <span data-ttu-id="fd535-500">[Azure-forum på webbplatsen ASP.NET](http://forums.asp.net/1247.aspx/1?Azure+and+ASP+NET).</span><span class="sxs-lookup"><span data-stu-id="fd535-500">[The Azure forum on the ASP.NET site](http://forums.asp.net/1247.aspx/1?Azure+and+ASP+NET).</span></span>
* <span data-ttu-id="fd535-501">[Azure-forum på MSDN](http://social.msdn.microsoft.com/Forums/windowsazure/).</span><span class="sxs-lookup"><span data-stu-id="fd535-501">[The Azure forum on MSDN](http://social.msdn.microsoft.com/Forums/windowsazure/).</span></span>
* <span data-ttu-id="fd535-502">[StackOverflow.com](http://www.stackoverflow.com).</span><span class="sxs-lookup"><span data-stu-id="fd535-502">[StackOverflow.com](http://www.stackoverflow.com).</span></span>

### <a name="debugging-in-visual-studio"></a><span data-ttu-id="fd535-503">Felsökning i Visual Studio</span><span class="sxs-lookup"><span data-stu-id="fd535-503">Debugging in Visual Studio</span></span>
<span data-ttu-id="fd535-504">Mer information om hur du använder felsökningsläge i Visual Studio finns i [felsökning i Visual Studio](http://msdn.microsoft.com/library/vstudio/sc65sadd.aspx) MSDN-avsnitt och [felsökning Tips med Visual Studio 2010](http://weblogs.asp.net/scottgu/archive/2010/08/18/debugging-tips-with-visual-studio-2010.aspx).</span><span class="sxs-lookup"><span data-stu-id="fd535-504">For more information about how to use debug mode in Visual Studio, see the [Debugging in Visual Studio](http://msdn.microsoft.com/library/vstudio/sc65sadd.aspx) MSDN topic and [Debugging Tips with Visual Studio 2010](http://weblogs.asp.net/scottgu/archive/2010/08/18/debugging-tips-with-visual-studio-2010.aspx).</span></span>

### <a name="remote-debugging-in-azure"></a><span data-ttu-id="fd535-505">Fjärr-felsökning i Azure</span><span class="sxs-lookup"><span data-stu-id="fd535-505">Remote debugging in Azure</span></span>
<span data-ttu-id="fd535-506">Mer information om fjärrfelsökning för Azure-webbappar och WebJobs finns i följande resurser:</span><span class="sxs-lookup"><span data-stu-id="fd535-506">For more information about remote debugging for Azure web apps and WebJobs, see the following resources:</span></span>

* <span data-ttu-id="fd535-507">[Introduktion till felsökning Azure App Service Web Apps Remote](https://azure.microsoft.com/blog/2014/05/06/introduction-to-remote-debugging-on-azure-web-sites/).</span><span class="sxs-lookup"><span data-stu-id="fd535-507">[Introduction to Remote Debugging Azure App Service Web Apps](https://azure.microsoft.com/blog/2014/05/06/introduction-to-remote-debugging-on-azure-web-sites/).</span></span>
* [<span data-ttu-id="fd535-508">Introduktion till fjärranslutna felsökning Azure App Service Web Apps del 2 - inuti fjärrfelsökning</span><span class="sxs-lookup"><span data-stu-id="fd535-508">Introduction to Remote Debugging Azure App Service Web Apps part 2 - Inside Remote debugging</span></span>](https://azure.microsoft.com/blog/2014/05/07/introduction-to-remote-debugging-azure-web-sites-part-2-inside-remote-debugging/)
* [<span data-ttu-id="fd535-509">Introduktion till fjärrfelsökning i Azure App Service Web Apps del 3 - miljö med flera instanser och GIT</span><span class="sxs-lookup"><span data-stu-id="fd535-509">Introduction to Remote Debugging on Azure App Service Web Apps part 3 - Multi-Instance environment and GIT</span></span>](https://azure.microsoft.com/blog/2014/05/08/introduction-to-remote-debugging-on-azure-web-sites-part-3-multi-instance-environment-and-git/)
* [<span data-ttu-id="fd535-510">WebJobs felsökning (video)</span><span class="sxs-lookup"><span data-stu-id="fd535-510">WebJobs Debugging (video)</span></span>](https://www.youtube.com/watch?v=ncQm9q5ZFZs&list=UU_SjTh-ZltPmTYzAybypB-g&index=1)

<span data-ttu-id="fd535-511">Om ditt program använder ett Azure Web API eller Mobile Services backend- och du behöver felsöka som finns [felsökning .NET-serverdel i Visual Studio](http://blogs.msdn.com/b/azuremobile/archive/2014/03/14/debugging-net-backend-in-visual-studio.aspx).</span><span class="sxs-lookup"><span data-stu-id="fd535-511">If your web app uses an Azure Web API or Mobile Services back-end and you need to debug that, see [Debugging .NET Backend in Visual Studio](http://blogs.msdn.com/b/azuremobile/archive/2014/03/14/debugging-net-backend-in-visual-studio.aspx).</span></span>

### <a name="tracing-in-aspnet-applications"></a><span data-ttu-id="fd535-512">Spårning i ASP.NET-program</span><span class="sxs-lookup"><span data-stu-id="fd535-512">Tracing in ASP.NET applications</span></span>
<span data-ttu-id="fd535-513">Det finns inga omfattande och uppdaterad introduktioner för ASP.NET-spårning på Internet.</span><span class="sxs-lookup"><span data-stu-id="fd535-513">There are no thorough and up-to-date introductions to ASP.NET tracing available on the Internet.</span></span> <span data-ttu-id="fd535-514">Det bästa som du kan göra är Kom igång med gamla inledande material som skrivits för Web Forms eftersom MVC inte finns ännu och tillägg som med nyare blogg Överför till överföringswebbadressen som fokuserar på specifika problem.</span><span class="sxs-lookup"><span data-stu-id="fd535-514">The best you can do is get started with old introductory materials written for Web Forms because MVC didn't exist yet, and supplement that with newer blog posts that focus on specific issues.</span></span> <span data-ttu-id="fd535-515">Vissa bra sätt att börja finns i följande resurser:</span><span class="sxs-lookup"><span data-stu-id="fd535-515">Some good places to start are the following resources:</span></span>

* <span data-ttu-id="fd535-516">[Övervakning och telemetri (skapa verkliga Molnappar med Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/monitoring-and-telemetry).</span><span class="sxs-lookup"><span data-stu-id="fd535-516">[Monitoring and Telemetry (Building Real-World Cloud Apps with Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/monitoring-and-telemetry).</span></span><br>
  <span data-ttu-id="fd535-517">E-bok kapitel med rekommendationer för spårning i Azure-molnprogram.</span><span class="sxs-lookup"><span data-stu-id="fd535-517">E-book chapter with recommendations for tracing in Azure cloud applications.</span></span>
* [<span data-ttu-id="fd535-518">ASP.NET-spårning</span><span class="sxs-lookup"><span data-stu-id="fd535-518">ASP.NET Tracing</span></span>](http://msdn.microsoft.com/library/ms972204.aspx)<br/>
  <span data-ttu-id="fd535-519">Gamla men fortfarande en bra resurs för en grundläggande introduktion till ämnet.</span><span class="sxs-lookup"><span data-stu-id="fd535-519">Old but still a good resource for a basic introduction to the subject.</span></span>
* [<span data-ttu-id="fd535-520">Samlingsspårlyssnarna</span><span class="sxs-lookup"><span data-stu-id="fd535-520">Trace Listeners</span></span>](http://msdn.microsoft.com/library/4y5y10s7.aspx)<br/>
  <span data-ttu-id="fd535-521">Information om Samlingsspårlyssnarna men inte nämna de [WebPageTraceListener](http://msdn.microsoft.com/library/system.web.webpagetracelistener.aspx).</span><span class="sxs-lookup"><span data-stu-id="fd535-521">Information about trace listeners but doesn't mention the [WebPageTraceListener](http://msdn.microsoft.com/library/system.web.webpagetracelistener.aspx).</span></span>
* [<span data-ttu-id="fd535-522">Genomgång: Integrera ASP.NET-spårning med System.Diagnostics spårning</span><span class="sxs-lookup"><span data-stu-id="fd535-522">Walkthrough: Integrating ASP.NET Tracing with System.Diagnostics Tracing</span></span>](http://msdn.microsoft.com/library/b0ectfxd.aspx)<br/>
  <span data-ttu-id="fd535-523">Detta för är gammal, men innehåller ytterligare information som inledande artikeln inte täcker.</span><span class="sxs-lookup"><span data-stu-id="fd535-523">This too is old, but includes some additional information that the introductory article doesn't cover.</span></span>
* [<span data-ttu-id="fd535-524">Spårning i ASP.NET MVC Razor vyer</span><span class="sxs-lookup"><span data-stu-id="fd535-524">Tracing in ASP.NET MVC Razor Views</span></span>](http://blogs.msdn.com/b/webdev/archive/2013/07/16/tracing-in-asp-net-mvc-razor-views.aspx)<br/>
  <span data-ttu-id="fd535-525">Utöver spårning i Razor vyer Lär efter dig också att skapa ett filter för fel för att logga alla ohanterat undantag i ett MVC-program.</span><span class="sxs-lookup"><span data-stu-id="fd535-525">Besides tracing in Razor views, the post also explains how to create an error filter in order to log all unhandled exceptions in an MVC application.</span></span> <span data-ttu-id="fd535-526">Information om hur du loggar alla ohanterade undantag i ett Web Forms-program finns i Global.asax exemplet i [komplett exempel felhanterare](http://msdn.microsoft.com/library/bb397417.aspx) på MSDN.</span><span class="sxs-lookup"><span data-stu-id="fd535-526">For information about how to log all unhandled exceptions in a Web Forms application, see the Global.asax example in [Complete Example for Error Handlers](http://msdn.microsoft.com/library/bb397417.aspx) on MSDN.</span></span> <span data-ttu-id="fd535-527">I MVC eller Web Forms om du vill logga vissa undantag, men låt standardvärdet ramen som hanterar börja gälla för dem, att fånga och skicka tillbaka som i följande exempel:</span><span class="sxs-lookup"><span data-stu-id="fd535-527">In either MVC or Web Forms, if you want to log certain exceptions but let the default framework handling take effect for them, you can catch and rethrow as in the following example:</span></span>

        try
        {
           // Your code that might cause an exception to be thrown.
        }
        catch (Exception ex)
        {
            Trace.TraceError("Exception: " + ex.ToString());
            throw;
        }
* [<span data-ttu-id="fd535-528">Strömmande diagnostik spårningsloggning från Azure Command Line (plus uppfattning!)</span><span class="sxs-lookup"><span data-stu-id="fd535-528">Streaming Diagnostics Trace Logging from the Azure Command Line (plus Glimpse!)</span></span>](http://www.hanselman.com/blog/StreamingDiagnosticsTraceLoggingFromTheAzureCommandLinePlusGlimpse.aspx)<br/>
  <span data-ttu-id="fd535-529">Använda kommandoraden för att göra vad den här kursen visar hur du gör i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fd535-529">How to use the command line to do what this tutorial shows how to do in Visual Studio.</span></span> <span data-ttu-id="fd535-530">[Uppfattning](http://www.hanselman.com/blog/IfYoureNotUsingGlimpseWithASPNETForDebuggingAndProfilingYoureMissingOut.aspx) är ett verktyg för felsökning av ASP.NET-program.</span><span class="sxs-lookup"><span data-stu-id="fd535-530">[Glimpse](http://www.hanselman.com/blog/IfYoureNotUsingGlimpseWithASPNETForDebuggingAndProfilingYoureMissingOut.aspx) is a tool for debugging ASP.NET applications.</span></span>
* <span data-ttu-id="fd535-531">[Med Web Apps-loggning och diagnostik - med David Ebbo](/documentation/videos/azure-web-site-logging-and-diagnostics/) och [Direktuppspelningsloggar från Web Apps - med David Ebbo](/documentation/videos/log-streaming-with-azure-web-sites/)</span><span class="sxs-lookup"><span data-stu-id="fd535-531">[Using Web Apps Logging and Diagnostics - with David Ebbo](/documentation/videos/azure-web-site-logging-and-diagnostics/) and [Streaming Logs from Web Apps - with David Ebbo](/documentation/videos/log-streaming-with-azure-web-sites/)</span></span><br>
  <span data-ttu-id="fd535-532">Videor av Scott hanselman, så får och David Ebbo.</span><span class="sxs-lookup"><span data-stu-id="fd535-532">Videos by Scott Hanselman and David Ebbo.</span></span>

<span data-ttu-id="fd535-533">För felloggning, i stället för att skriva egen kod spårning är att använda ett loggningsramverk med öppen källkod som [ELMAH](http://nuget.org/packages/elmah/).</span><span class="sxs-lookup"><span data-stu-id="fd535-533">For error logging, an alternative to writing your own tracing code is to use an open-source logging framework such as [ELMAH](http://nuget.org/packages/elmah/).</span></span> <span data-ttu-id="fd535-534">Mer information finns i [Scott Hanselman blogginlägg om ELMAH](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx).</span><span class="sxs-lookup"><span data-stu-id="fd535-534">For more information, see [Scott Hanselman's blog posts about ELMAH](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx).</span></span>

<span data-ttu-id="fd535-535">Observera också att du inte behöver använda ASP.NET eller System.Diagnostics spårning om du vill hämta direktuppspelningsloggar från Azure.</span><span class="sxs-lookup"><span data-stu-id="fd535-535">Also, note that you don't have to use ASP.NET or System.Diagnostics tracing if you want to get streaming logs from Azure.</span></span> <span data-ttu-id="fd535-536">Azure-webbappen strömning Loggtjänsten direktuppspelas någon *.txt*, *.html*, eller *.log* filen som hittas i den *loggfiler* mapp.</span><span class="sxs-lookup"><span data-stu-id="fd535-536">The Azure web app streaming log service will stream any *.txt*, *.html*, or *.log* file that it finds in the *LogFiles* folder.</span></span> <span data-ttu-id="fd535-537">Därför kan du skapa egna loggning system som skriver till filsystemet för webbappen och filen automatiskt strömmas och hämtas.</span><span class="sxs-lookup"><span data-stu-id="fd535-537">Therefore, you could create your own logging system that writes to the file system of the web app, and your file will be automatically streamed and downloaded.</span></span> <span data-ttu-id="fd535-538">Allt du behöver göra är att skriva programkod som skapar filer i den *d:\home\logfiles* mapp.</span><span class="sxs-lookup"><span data-stu-id="fd535-538">All you have to do is write application code that creates files in the *d:\home\logfiles* folder.</span></span>

### <a name="analyzing-web-server-logs"></a><span data-ttu-id="fd535-539">När webbserverloggar</span><span class="sxs-lookup"><span data-stu-id="fd535-539">Analyzing web server logs</span></span>
<span data-ttu-id="fd535-540">Mer information om hur du analyserar webbserverloggar finns i följande resurser:</span><span class="sxs-lookup"><span data-stu-id="fd535-540">For more information about analyzing web server logs, see the following resources:</span></span>

* [<span data-ttu-id="fd535-541">LogParser</span><span class="sxs-lookup"><span data-stu-id="fd535-541">LogParser</span></span>](http://www.microsoft.com/download/details.aspx?id=24659)<br/>
  <span data-ttu-id="fd535-542">Ett verktyg för att visa data i webbserverloggar (*.log* filer).</span><span class="sxs-lookup"><span data-stu-id="fd535-542">A tool for viewing data in web server logs (*.log* files).</span></span>
* [<span data-ttu-id="fd535-543">Felsöka IIS prestandaproblem och programfel med LogParser</span><span class="sxs-lookup"><span data-stu-id="fd535-543">Troubleshooting IIS Performance Issues or Application Errors using LogParser </span></span>](http://www.iis.net/learn/troubleshoot/performance-issues/troubleshooting-iis-performance-issues-or-application-errors-using-logparser)<br/>
  <span data-ttu-id="fd535-544">En introduktion till verktyget Loggparser som du kan använda för att analysera webbloggar för servern.</span><span class="sxs-lookup"><span data-stu-id="fd535-544">An introduction to the Log Parser tool that you can use to analyze web server logs.</span></span>
* [<span data-ttu-id="fd535-545">Blogginlägg av Robert McMurray med hjälp av LogParser</span><span class="sxs-lookup"><span data-stu-id="fd535-545">Blog posts by Robert McMurray on using LogParser</span></span>](http://blogs.msdn.com/b/robert_mcmurray/archive/tags/logparser/)<br/>
* [<span data-ttu-id="fd535-546">HTTP-statuskod i IIS 7.0, IIS 7.5 och IIS 8.0</span><span class="sxs-lookup"><span data-stu-id="fd535-546">The HTTP status code in IIS 7.0, IIS 7.5, and IIS 8.0</span></span>](http://support.microsoft.com/kb/943891)

### <a name="analyzing-failed-request-tracing-logs"></a><span data-ttu-id="fd535-547">Det gick inte att analysera spårningsloggar för begäran</span><span class="sxs-lookup"><span data-stu-id="fd535-547">Analyzing failed request tracing logs</span></span>
<span data-ttu-id="fd535-548">Webbplatsen Microsoft TechNet innehåller en [med hjälp av spårning av misslyckade begäranden](http://www.iis.net/learn/troubleshoot/using-failed-request-tracing) avsnitt som kan vara till hjälp för att förstå hur du använder dessa loggar.</span><span class="sxs-lookup"><span data-stu-id="fd535-548">The Microsoft TechNet website includes a [Using Failed Request Tracing](http://www.iis.net/learn/troubleshoot/using-failed-request-tracing) section which may be helpful for understanding how to use these logs.</span></span> <span data-ttu-id="fd535-549">Men fokuserar den här dokumentationen huvudsakligen om att konfigurera spårning av misslyckade begäranden i IIS, som inte är möjligt i Azure Web Apps.</span><span class="sxs-lookup"><span data-stu-id="fd535-549">However, this documentation focuses mainly on configuring failed request tracing in IIS, which you can't do in Azure Web Apps.</span></span>

[GetStarted]: app-service-web-get-started-dotnet.md
[GetStartedWJ]: websites-dotnet-webjobs-sdk.md
