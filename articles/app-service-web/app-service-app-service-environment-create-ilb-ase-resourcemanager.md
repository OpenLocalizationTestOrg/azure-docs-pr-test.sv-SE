---
title: "Så här skapar du en ILB ASE med hjälp av Azure Resource Manager-mallar | Microsoft Docs"
description: "Lär dig hur du skapar en intern belastningsutjämnare ASE med hjälp av Azure Resource Manager-mallar."
services: app-service
documentationcenter: 
author: stefsch
manager: nirma
editor: 
ms.assetid: 091decb6-b0de-42a1-9f2f-c18d9b2e67df
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/11/2017
ms.author: stefsch
ms.openlocfilehash: 147ab76d38c8bbbf34d35ed6c2a194d97fe711ab
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/03/2017
---
# <a name="how-to-create-an-ilb-ase-using-azure-resource-manager-templates"></a><span data-ttu-id="ec31b-103">Skapa en ILB ASE med hjälp av Azure Resource Manager-mallar</span><span class="sxs-lookup"><span data-stu-id="ec31b-103">How To Create an ILB ASE Using Azure Resource Manager Templates</span></span>

> [!NOTE] 
> <span data-ttu-id="ec31b-104">Den här artikeln handlar om Apptjänstmiljö v1.</span><span class="sxs-lookup"><span data-stu-id="ec31b-104">This article is about the App Service Environment v1.</span></span> <span data-ttu-id="ec31b-105">Det finns en nyare version av Apptjänst-miljön som är enklare att använda och körs på mer kraftfulla infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="ec31b-105">There is a newer version of the App Service Environment that is easier to use and runs on more powerful infrastructure.</span></span> <span data-ttu-id="ec31b-106">Mer information om den nya versionen start med den [introduktion till Apptjänst-miljön](../app-service/app-service-environment/intro.md).</span><span class="sxs-lookup"><span data-stu-id="ec31b-106">To learn more about the new version start with the [Introduction to the App  Service Environment](../app-service/app-service-environment/intro.md).</span></span>
>

## <a name="overview"></a><span data-ttu-id="ec31b-107">Översikt</span><span class="sxs-lookup"><span data-stu-id="ec31b-107">Overview</span></span>
<span data-ttu-id="ec31b-108">Apptjänstmiljöer kan skapas med ett internt virtuellt nätverk-adress i stället för en offentlig VIP.</span><span class="sxs-lookup"><span data-stu-id="ec31b-108">App Service Environments can be created with a virtual network internal address instead of a public VIP.</span></span>  <span data-ttu-id="ec31b-109">Den här interna adressen tillhandahålls av en Azure komponent som kallas intern belastningsutjämnare (ILB).</span><span class="sxs-lookup"><span data-stu-id="ec31b-109">This internal address is provided by an Azure component called the internal load balancer (ILB).</span></span>  <span data-ttu-id="ec31b-110">En ILB ASE kan skapas med hjälp av Azure portal.</span><span class="sxs-lookup"><span data-stu-id="ec31b-110">An ILB ASE can be created using the Azure portal.</span></span>  <span data-ttu-id="ec31b-111">Det kan även skapas med hjälp av automation via Azure Resource Manager-mallar.</span><span class="sxs-lookup"><span data-stu-id="ec31b-111">It can also be created using automation by way of Azure Resource Manager templates.</span></span>  <span data-ttu-id="ec31b-112">Den här artikeln innehåller stegvisa anvisningar och syntax som behövs för att skapa en ILB ASE med Azure Resource Manager-mallar.</span><span class="sxs-lookup"><span data-stu-id="ec31b-112">This article walks through the steps and syntax needed to create an ILB ASE with Azure Resource Manager templates.</span></span>

<span data-ttu-id="ec31b-113">Det finns tre steg ingår i automatisera skapandet av en ILB ASE:</span><span class="sxs-lookup"><span data-stu-id="ec31b-113">There are three steps involved in automating creation of an ILB ASE:</span></span>

1. <span data-ttu-id="ec31b-114">Grundläggande ASE skapas först i ett virtuellt nätverk med ett internt belastningsutjämnaradress i stället för en offentlig VIP.</span><span class="sxs-lookup"><span data-stu-id="ec31b-114">First the base ASE is created in a virtual network using an internal load balancer address instead of a public VIP.</span></span>  <span data-ttu-id="ec31b-115">Som en del av det här steget måste tilldelas ett namn för skogsrotsdomänen ILB ASE.</span><span class="sxs-lookup"><span data-stu-id="ec31b-115">As part of this step, a root domain name is assigned to the ILB ASE.</span></span>
2. <span data-ttu-id="ec31b-116">När ILB ASE skapas har ett SSL-certifikat överförts.</span><span class="sxs-lookup"><span data-stu-id="ec31b-116">Once the ILB ASE is created, an SSL certificate is uploaded.</span></span>  
3. <span data-ttu-id="ec31b-117">Överförda SSL-certifikatet tilldelas uttryckligen ILB ASE som dess ”default” SSL-certifikat.</span><span class="sxs-lookup"><span data-stu-id="ec31b-117">The uploaded SSL certificate is explicitly assigned to the ILB ASE as its "default" SSL certificate.</span></span>  <span data-ttu-id="ec31b-118">SSL-certifikatet som ska användas för SSL-trafik för appar på ILB ASE när apparna adresseras med vanliga rotdomänen som tilldelats ASE (t.ex. https://someapp.mycustomrootcomain.com)</span><span class="sxs-lookup"><span data-stu-id="ec31b-118">This SSL certificate will be used for SSL traffic to apps on the ILB ASE when the apps are addressed using the common root domain assigned to the ASE (e.g. https://someapp.mycustomrootcomain.com)</span></span>

## <a name="creating-the-base-ilb-ase"></a><span data-ttu-id="ec31b-119">Skapa Base ILB ASE</span><span class="sxs-lookup"><span data-stu-id="ec31b-119">Creating the Base ILB ASE</span></span>
<span data-ttu-id="ec31b-120">Ett exempel Azure Resource Manager-mall och dess associerade parametrar-fil finns på GitHub [här][quickstartilbasecreate].</span><span class="sxs-lookup"><span data-stu-id="ec31b-120">An example Azure Resource Manager template, and its associated parameters file, are available on GitHub [here][quickstartilbasecreate].</span></span>

<span data-ttu-id="ec31b-121">De flesta av parametrarna i den *azuredeploy.parameters.json* fil som är gemensamma för att skapa både ILB ASEs, samt ASEs bunden till en offentlig VIP.</span><span class="sxs-lookup"><span data-stu-id="ec31b-121">Most of the parameters in the *azuredeploy.parameters.json* file are common to creating both ILB ASEs, as well as ASEs bound to a public VIP.</span></span>  <span data-ttu-id="ec31b-122">I listan nedan anrop out-parametrar för särskilda anteckning eller som är unika, när du skapar en ILB ASE:</span><span class="sxs-lookup"><span data-stu-id="ec31b-122">The list below calls out parameters of special note, or that are unique, when creating an ILB ASE:</span></span>

* <span data-ttu-id="ec31b-123">*interalLoadBalancingMode*: I de flesta fall ange detta till 3, vilket innebär att både HTTP/HTTPS-trafik på port 80/443 och kontrolldata channel-portar har lyssnat på FTP-tjänsten på ASE, kommer att bindas till en ILB allokerade virtuella nätverk som interna adress.</span><span class="sxs-lookup"><span data-stu-id="ec31b-123">*interalLoadBalancingMode*:  In most cases set this to 3, which means both HTTP/HTTPS traffic on ports 80/443, and the control/data channel ports listened to by the FTP service on the ASE, will be bound to an ILB allocated virtual network internal address.</span></span>  <span data-ttu-id="ec31b-124">Om den här egenskapen anges i stället för 2, relaterade FTP-tjänsten för portar (både kontroll- och kanaler) kommer att bindas till en ILB-adress, medan HTTP/HTTPS-trafiken ska finnas kvar på den offentliga VIP.</span><span class="sxs-lookup"><span data-stu-id="ec31b-124">If this property is instead set to 2, then only the FTP service related ports (both control and data channels) will be bound to an ILB address, while the HTTP/HTTPS traffic will remain on the public VIP.</span></span>
* <span data-ttu-id="ec31b-125">*dnsSuffix*: den här parametern anger standard-rotdomän som ska tilldelas ASE.</span><span class="sxs-lookup"><span data-stu-id="ec31b-125">*dnsSuffix*:  This parameter defines the default root domain that will be assigned to the ASE.</span></span>  <span data-ttu-id="ec31b-126">I offentliga variationen i Azure App Service rotdomänen standard för alla webbappar är *azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="ec31b-126">In the public variation of Azure App Service, the default root domain for all web apps is *azurewebsites.net*.</span></span>  <span data-ttu-id="ec31b-127">Eftersom en ILB ASE är interna för kundens virtuella nätverk, men inte det vara klokt att använda tjänsten offentliga standard rotdomänen.</span><span class="sxs-lookup"><span data-stu-id="ec31b-127">However since an ILB ASE is internal to a customer's virtual network, it doesn't make sense to use the public service's default root domain.</span></span>  <span data-ttu-id="ec31b-128">I stället ska en ILB ASE ha en standard-rotdomän som passar för användning i ett företags interna virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="ec31b-128">Instead, an ILB ASE should have a default root domain that makes sense for use within a company's internal virtual network.</span></span>  <span data-ttu-id="ec31b-129">En hypotetiska Contoso Corporation kan till exempel använda en standard rotdomän *intern contoso.com* för appar som är avsedda att endast matchas och tillgänglig Contosos virtuellt nätverk.</span><span class="sxs-lookup"><span data-stu-id="ec31b-129">For example, a hypothetical Contoso Corporation might use a default root domain of *internal-contoso.com* for apps that are intended to only be resolvable and accessible within Contoso's virtual network.</span></span> 
* <span data-ttu-id="ec31b-130">*ipSslAddressCount*: den här parametern är som standard automatiskt till ett värde av 0 i den *azuredeploy.json* filen eftersom ILB ASEs bara ha en enda ILB-adress.</span><span class="sxs-lookup"><span data-stu-id="ec31b-130">*ipSslAddressCount*:  This parameter is automatically defaulted to a value of 0 in the *azuredeploy.json* file because ILB ASEs only have a single ILB address.</span></span>  <span data-ttu-id="ec31b-131">Inga explicit SSL-IP-adresser för en ILB ASE och därför SSL-IP-adresspool för ett ILB ASE måste anges till noll, annars uppstår ett etablering fel.</span><span class="sxs-lookup"><span data-stu-id="ec31b-131">There are no explicit IP-SSL addresses for an ILB ASE, and hence the IP-SSL address pool for an ILB ASE must be set to zero, otherwise a provisioning error will occur.</span></span> 

<span data-ttu-id="ec31b-132">En gång i *azuredeploy.parameters.json* filen har fyllts i för en ILB ASE, ILB ASE kan skapas med hjälp av följande kodavsnitt i Powershell.</span><span class="sxs-lookup"><span data-stu-id="ec31b-132">Once the *azuredeploy.parameters.json* file has been filled in for an ILB ASE, the ILB ASE can then be created using the following Powershell code snippet.</span></span>  <span data-ttu-id="ec31b-133">Ändra filen sökvägar till matchar där mallfilerna Azure Resource Manager finns på din dator.</span><span class="sxs-lookup"><span data-stu-id="ec31b-133">Change the file PATHs to match where the Azure Resource Manager template files are located on your machine.</span></span>  <span data-ttu-id="ec31b-134">Kom ihåg att ange egna värden för Azure Resource Manager distributionsnamnet och resursgruppens namn.</span><span class="sxs-lookup"><span data-stu-id="ec31b-134">Also remember to supply your own values for the Azure Resource Manager deployment name, and resource group name.</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="ec31b-135">När Azure Resource Manager mallen har skickats in tar några timmar för ILB ASE ska skapas.</span><span class="sxs-lookup"><span data-stu-id="ec31b-135">After the Azure Resource Manager template is submitted it will take a few hours for the ILB ASE to be created.</span></span>  <span data-ttu-id="ec31b-136">När du är klar att skapa ILB ASE kommer att visas i portalen UX i listan över Apptjänstmiljöer för prenumerationen som utlöste distributionen.</span><span class="sxs-lookup"><span data-stu-id="ec31b-136">Once the creation completes, the ILB ASE will show up in the portal UX in the list of App Service Environments for the subscription that triggered the deployment.</span></span>

## <a name="uploading-and-configuring-the-default-ssl-certificate"></a><span data-ttu-id="ec31b-137">Överför och konfigurera SSL-certifikatet för ”Default”</span><span class="sxs-lookup"><span data-stu-id="ec31b-137">Uploading and Configuring the "Default" SSL Certificate</span></span>
<span data-ttu-id="ec31b-138">När ILB ASE skapas ska ett SSL-certifikat associeras med ASE som SSL-certifikatet för ”default” Använd för att upprätta en SSL-anslutningar till appar.</span><span class="sxs-lookup"><span data-stu-id="ec31b-138">Once the ILB ASE is created, an SSL certificate should be associated with the ASE as the "default" SSL certificate use for establishing SSL connections to apps.</span></span>  <span data-ttu-id="ec31b-139">Fortsätter med det hypotetiska Contoso Corporation-exemplet, om ASE standard DNS-suffix är *intern contoso.com*, sedan en anslutning till *https://some-random-app.internal-contoso.com* kräver ett SSL-certifikat som gäller för **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="ec31b-139">Continuing with the hypothetical Contoso Corporation example, if the ASE's default DNS suffix is *internal-contoso.com*, then a connection to *https://some-random-app.internal-contoso.com* requires an SSL certificate that is valid for **.internal-contoso.com*.</span></span> 

<span data-ttu-id="ec31b-140">Det finns flera olika sätt att skaffa ett giltigt SSL-certifikat inklusive interna CA: er, köpa ett certifikat från en extern utfärdare och använda ett självsignerat certifikat.</span><span class="sxs-lookup"><span data-stu-id="ec31b-140">There are a variety of ways to obtain a valid SSL certificate including internal CAs, purchasing a certificate from an external issuer, and using a self-signed certificate.</span></span>  <span data-ttu-id="ec31b-141">Följande certifikat-attribut måste konfigureras korrekt oavsett källan för SSL-certifikat:</span><span class="sxs-lookup"><span data-stu-id="ec31b-141">Regardless of the source of the SSL certificate, the following certificate attributes need to be configured properly:</span></span>

* <span data-ttu-id="ec31b-142">*Ämne*: det här attributet måste anges till **.your-rot-domain-here.com*</span><span class="sxs-lookup"><span data-stu-id="ec31b-142">*Subject*:  This attribute must be set to **.your-root-domain-here.com*</span></span>
* <span data-ttu-id="ec31b-143">*Alternativt ämnesnamn*: det här attributet måste innehålla både **.your-rot-domain-here.com*, och **.scm.your-rot-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="ec31b-143">*Subject Alternative Name*:  This attribute must include both **.your-root-domain-here.com*, and **.scm.your-root-domain-here.com*.</span></span>  <span data-ttu-id="ec31b-144">Orsaken till den andra posten är att SSL-anslutningar till webbplatsen SCM/Kudu som är associerade med varje app kommer att göras med en adress i formatet *your-app-name.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="ec31b-144">The reason for the second entry is that SSL connections to the SCM/Kudu site associated with each app will be made using an address of the form *your-app-name.scm.your-root-domain-here.com*.</span></span>

<span data-ttu-id="ec31b-145">Med ett giltigt SSL-certifikat i hand krävs två ytterligare förberedande åtgärder.</span><span class="sxs-lookup"><span data-stu-id="ec31b-145">With a valid SSL certificate in hand, two additional preparatory steps are needed.</span></span>  <span data-ttu-id="ec31b-146">SSL-certifikatet måste vara konverteras/sparas som en .pfx-fil.</span><span class="sxs-lookup"><span data-stu-id="ec31b-146">The SSL certificate needs to be converted/saved as a .pfx file.</span></span>  <span data-ttu-id="ec31b-147">Kom ihåg att .pfx-filen måste innehålla alla mellanliggande och root certifikat och måste också skyddas med ett lösenord.</span><span class="sxs-lookup"><span data-stu-id="ec31b-147">Remember that the .pfx file needs to include all intermediate and root certificates, and also needs to be secured with a password.</span></span>

<span data-ttu-id="ec31b-148">Den resulterande .pfx-fil måste konverteras till en base64-sträng eftersom SSL-certifikatet kommer att överföras med en Azure Resource Manager-mall.</span><span class="sxs-lookup"><span data-stu-id="ec31b-148">Then the resultant .pfx file needs to be converted into a base64 string because the SSL certificate will be uploaded using an Azure Resource Manager template.</span></span>  <span data-ttu-id="ec31b-149">Eftersom Azure Resource Manager-mallar är textfiler, måste den .pfx-fil som ska konverteras till en base64-sträng, så den kan inkluderas som en parameter för mallen.</span><span class="sxs-lookup"><span data-stu-id="ec31b-149">Since Azure Resource Manager templates are text files, the .pfx file needs to be converted into a base64 string so it can be included as a parameter of the template.</span></span>

<span data-ttu-id="ec31b-150">Powershell kodfragmentet nedan visar ett exempel på Generera ett självsignerat certifikat, exportera certifikatet som en .pfx-fil, konvertera .pfx-filen till en base64-kodad sträng och sedan spara base64-kodad sträng till en separat fil.</span><span class="sxs-lookup"><span data-stu-id="ec31b-150">The Powershell code snippet below shows an example of generating a self-signed certificate, exporting the certificate as a .pfx file, converting the .pfx file into a base64 encoded string, and then saving the base64 encoded string to a separate file.</span></span>  <span data-ttu-id="ec31b-151">Powershell-koden för base64-kodning bygger på den [Powershell-skript blogg][examplebase64encoding].</span><span class="sxs-lookup"><span data-stu-id="ec31b-151">The Powershell code for base64 encoding was adapted from the [Powershell Scripts Blog][examplebase64encoding].</span></span>

    $certificate = New-SelfSignedCertificate -certstorelocation cert:\localmachine\my -dnsname "*.internal-contoso.com","*.scm.internal-contoso.com"

    $certThumbprint = "cert:\localMachine\my\" + $certificate.Thumbprint
    $password = ConvertTo-SecureString -String "CHANGETHISPASSWORD" -Force -AsPlainText

    $fileName = "exportedcert.pfx"
    Export-PfxCertificate -cert $certThumbprint -FilePath $fileName -Password $password     

    $fileContentBytes = get-content -encoding byte $fileName
    $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)
    $fileContentEncoded | set-content ($fileName + ".b64")

<span data-ttu-id="ec31b-152">När SSL-certifikatet har har genererats och konverteras till en base64-kodad sträng, exempel Azure Resource Manager-mallen på GitHub för [Konfigurera SSL-standardcertifikat] [ configuringDefaultSSLCertificate] kan användas.</span><span class="sxs-lookup"><span data-stu-id="ec31b-152">Once the SSL certificate has been successfully generated and converted to a base64 encoded string, the example Azure Resource Manager template on GitHub for [configuring the default SSL certificate][configuringDefaultSSLCertificate] can be used.</span></span>

<span data-ttu-id="ec31b-153">Parametrarna i den *azuredeploy.parameters.json* filen visas nedan:</span><span class="sxs-lookup"><span data-stu-id="ec31b-153">The parameters in the *azuredeploy.parameters.json* file are listed below:</span></span>

* <span data-ttu-id="ec31b-154">*appServiceEnvironmentName*: namnet på den ILB ASE som konfigureras.</span><span class="sxs-lookup"><span data-stu-id="ec31b-154">*appServiceEnvironmentName*:  The name of the ILB ASE being configured.</span></span>
* <span data-ttu-id="ec31b-155">*existingAseLocation*: textsträng som innehåller Azure-regionen där ILB ASE har distribuerats.</span><span class="sxs-lookup"><span data-stu-id="ec31b-155">*existingAseLocation*:  Text string containing the Azure region where the ILB ASE was deployed.</span></span>  <span data-ttu-id="ec31b-156">Till exempel: ”södra centrala USA”.</span><span class="sxs-lookup"><span data-stu-id="ec31b-156">For example:  "South Central US".</span></span>
* <span data-ttu-id="ec31b-157">*pfxBlobString*: based64 kodad sträng som innehåller PFX-filen.</span><span class="sxs-lookup"><span data-stu-id="ec31b-157">*pfxBlobString*:  The based64 encoded string representation of the .pfx file.</span></span>  <span data-ttu-id="ec31b-158">Med kodfragmentet som visades tidigare kan du kopiera den sträng som finns i ”exportedcert.pfx.b64” och klistra in den i som värde för den *pfxBlobString* attribut.</span><span class="sxs-lookup"><span data-stu-id="ec31b-158">Using the code snippet shown earlier, you would copy the string contained in "exportedcert.pfx.b64" and paste it in as the value of the *pfxBlobString* attribute.</span></span>
* <span data-ttu-id="ec31b-159">*lösenordet*: lösenordet som används för att skydda den .pfx-fil.</span><span class="sxs-lookup"><span data-stu-id="ec31b-159">*password*:  The password used to secure the .pfx file.</span></span>
* <span data-ttu-id="ec31b-160">*certificateThumbprint*: certifikatets tumavtryck.</span><span class="sxs-lookup"><span data-stu-id="ec31b-160">*certificateThumbprint*:  The certificate's thumbprint.</span></span>  <span data-ttu-id="ec31b-161">Om du hämtar värdet från Powershell (t.ex. *$certificate. Tumavtryck för* från kodutdrag tidigare), kan du använda värdet som-är.</span><span class="sxs-lookup"><span data-stu-id="ec31b-161">If you retrieve this value from Powershell (e.g. *$certificate.Thumbprint* from the earlier code snippet), you can use the value as-is.</span></span>  <span data-ttu-id="ec31b-162">Men om du kopierar värdet i dialogrutan Windows-certifikat, Kom ihåg att ta bort extra blanksteg.</span><span class="sxs-lookup"><span data-stu-id="ec31b-162">However if you copy the value from the Windows certificate dialog, remember to strip out the extraneous spaces.</span></span>  <span data-ttu-id="ec31b-163">Den *certificateThumbprint* ska se ut ungefär: AF3143EB61D43F6727842115BB7F17BBCECAECAE</span><span class="sxs-lookup"><span data-stu-id="ec31b-163">The *certificateThumbprint* should look something like:  AF3143EB61D43F6727842115BB7F17BBCECAECAE</span></span>
* <span data-ttu-id="ec31b-164">*certificateName*: ett eget strängidentifierare väljer själv används för att identitet certifikatet.</span><span class="sxs-lookup"><span data-stu-id="ec31b-164">*certificateName*:  A friendly string identifier of your own choosing used to identity the certificate.</span></span>  <span data-ttu-id="ec31b-165">Namnet används som en del av den unika identifieraren för Azure Resource Manager för den *Microsoft.Web/certificates* entitet som representerar SSL-certifikatet.</span><span class="sxs-lookup"><span data-stu-id="ec31b-165">The name is used as part of the unique Azure Resource Manager identifier for the *Microsoft.Web/certificates* entity representing the SSL certificate.</span></span>  <span data-ttu-id="ec31b-166">Namnet **måste** avslutas med följande suffix: \_yourASENameHere_InternalLoadBalancingASE.</span><span class="sxs-lookup"><span data-stu-id="ec31b-166">The name **must** end with the following suffix:  \_yourASENameHere_InternalLoadBalancingASE.</span></span>  <span data-ttu-id="ec31b-167">Det här suffixet används av portalen som en indikator att certifikatet används för att skydda en ASE ILB-aktiverade.</span><span class="sxs-lookup"><span data-stu-id="ec31b-167">This suffix is used by the portal as an indicator that the certificate is used for securing an ILB-enabled ASE.</span></span>

<span data-ttu-id="ec31b-168">Ett förkortat exempel på *azuredeploy.parameters.json* visas nedan:</span><span class="sxs-lookup"><span data-stu-id="ec31b-168">An abbreviated example of *azuredeploy.parameters.json* is shown below:</span></span>

    {
         "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json",
         "contentVersion": "1.0.0.0",
         "parameters": {
              "appServiceEnvironmentName": {
                   "value": "yourASENameHere"
              },
              "existingAseLocation": {
                   "value": "East US 2"
              },
              "pfxBlobString": {
                   "value": "MIIKcAIBAz...snip...snip...pkCAgfQ"
              },
              "password": {
                   "value": "PASSWORDGOESHERE"
              },
              "certificateThumbprint": {
                   "value": "AF3143EB61D43F6727842115BB7F17BBCECAECAE"
              },
              "certificateName": {
                   "value": "DefaultCertificateFor_yourASENameHere_InternalLoadBalancingASE"
              }
         }
    }

<span data-ttu-id="ec31b-169">En gång i *azuredeploy.parameters.json* filen har fyllts i, standard-SSL-certifikat kan konfigureras med följande kodavsnitt i Powershell.</span><span class="sxs-lookup"><span data-stu-id="ec31b-169">Once the *azuredeploy.parameters.json* file has been filled in, the default SSL certificate can be configured using the following Powershell code snippet.</span></span>  <span data-ttu-id="ec31b-170">Ändra filen sökvägar till matchar där mallfilerna Azure Resource Manager finns på din dator.</span><span class="sxs-lookup"><span data-stu-id="ec31b-170">Change the file PATHs to match where the Azure Resource Manager template files are located on your machine.</span></span>  <span data-ttu-id="ec31b-171">Kom ihåg att ange egna värden för Azure Resource Manager distributionsnamnet och resursgruppens namn.</span><span class="sxs-lookup"><span data-stu-id="ec31b-171">Also remember to supply your own values for the Azure Resource Manager deployment name, and resource group name.</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="ec31b-172">När Azure Resource Manager-mall har skickats tar ungefär 40 minuter minuter per ASE frontend att tillämpa ändringen.</span><span class="sxs-lookup"><span data-stu-id="ec31b-172">After the Azure Resource Manager template is submitted it will take roughly forty minutes minutes per ASE front-end to apply the change.</span></span>  <span data-ttu-id="ec31b-173">Till exempel med en standard storlek ASE som använder två framför ends tar mallen ungefär en timme och 20 minuter för att slutföra.</span><span class="sxs-lookup"><span data-stu-id="ec31b-173">For example, with a default sized ASE using two front-ends, the template will take around one hour and twenty minutes to complete.</span></span>  <span data-ttu-id="ec31b-174">När mallen körs ASE inte skalas.</span><span class="sxs-lookup"><span data-stu-id="ec31b-174">While the template is running the ASE will not be able to scaled.</span></span>  

<span data-ttu-id="ec31b-175">När mallen är klar appar på ILB ASE kan nås över HTTPS och anslutningar ska skyddas med SSL-certifikat som standard.</span><span class="sxs-lookup"><span data-stu-id="ec31b-175">Once the template completes, apps on the ILB ASE can be accessed over HTTPS and the connections will be secured using the default SSL certificate.</span></span>  <span data-ttu-id="ec31b-176">Standard-SSL-certifikat används när apparna på ILB ASE behandlas med en kombination av programnamnet plus värdnamnet som standard.</span><span class="sxs-lookup"><span data-stu-id="ec31b-176">The default SSL certificate will be used when apps on the ILB ASE are addressed using a combination of the application name plus the default hostname.</span></span>  <span data-ttu-id="ec31b-177">Till exempel *https://mycustomapp.internal-contoso.com* använder standard-SSL-certifikat för **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="ec31b-177">For example *https://mycustomapp.internal-contoso.com* would use the default SSL certificate for **.internal-contoso.com*.</span></span>

<span data-ttu-id="ec31b-178">Dock precis som appar körs på tjänsten offentliga flera innehavare, kan utvecklare också konfigurera anpassade värdnamn för enskilda appar och sedan konfigurera unika SNI SSL-certifikatbindningar för enskilda appar.</span><span class="sxs-lookup"><span data-stu-id="ec31b-178">However, just like apps running on the public multi-tenant service, developers can also configure custom host names for individual apps, and then configure unique SNI SSL certificate bindings for individual apps.</span></span>  

## <a name="getting-started"></a><span data-ttu-id="ec31b-179">Komma igång</span><span class="sxs-lookup"><span data-stu-id="ec31b-179">Getting started</span></span>
<span data-ttu-id="ec31b-180">Kom igång med Apptjänstmiljöer finns [introduktion till Apptjänst-miljö](app-service-app-service-environment-intro.md)</span><span class="sxs-lookup"><span data-stu-id="ec31b-180">To get started with App Service Environments, see [Introduction to App Service Environment](app-service-app-service-environment-intro.md)</span></span>

<span data-ttu-id="ec31b-181">Alla artiklar och hur-att datorns för Apptjänstmiljöer finns tillgängliga i den [viktigt för Programtjänstmiljöer](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="ec31b-181">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[quickstartilbasecreate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-create/
[examplebase64encoding]: http://powershellscripts.blogspot.com/2007/02/base64-encode-file.html 
[configuringDefaultSSLCertificate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl/ 

