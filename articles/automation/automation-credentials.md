---
title: "aaaCredential tillgångar i Azure Automation | Microsoft Docs"
description: "Inloggningstillgångar i Azure Automation innehålla säkerhetsreferenser som kan vara används tooauthenticate tooresources nås av hello runbook eller DSC-konfigurationen. Den här artikeln beskrivs hur toocreate autentiseringsuppgifter tillgångar och använda dem i en runbook eller DSC-konfigurationen."
services: automation
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 3209bf73-c208-425e-82b6-df49860546dd
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/14/2017
ms.author: bwren
ms.openlocfilehash: 46f23a8f79d5863265af9cf84f6003e30f8e7d39
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="credential-assets-in-azure-automation"></a><span data-ttu-id="783fd-104">Inloggningstillgångar i Azure Automation</span><span class="sxs-lookup"><span data-stu-id="783fd-104">Credential assets in Azure Automation</span></span>
<span data-ttu-id="783fd-105">Ett Automation-autentiseringsuppgiftstillgång innehåller en [PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) objekt som innehåller säkerhetsreferenser, till exempel användarnamn och lösenord.</span><span class="sxs-lookup"><span data-stu-id="783fd-105">An Automation credential asset holds a [PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential)  object which contains security credentials such as a username and password.</span></span> <span data-ttu-id="783fd-106">Runbooks och DSC-konfigurationer kan använda cmdlet: ar som accepterar ett PSCredential-objekt för autentisering eller de kan extrahera hello användarnamn och lösenord för hello PSCredential-objekt tooprovide toosome program eller tjänster som kräver autentisering.</span><span class="sxs-lookup"><span data-stu-id="783fd-106">Runbooks and DSC configurations may use cmdlets that accept a PSCredential object for authentication, or they may extract hello username and password of hello PSCredential object tooprovide toosome application or service requiring authentication.</span></span> <span data-ttu-id="783fd-107">hello egenskaperna för en autentiseringsuppgift lagras säkert i Azure Automation och kan nås i hello runbook eller DSC-konfigurationen med hello [Get-AutomationPSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) aktivitet.</span><span class="sxs-lookup"><span data-stu-id="783fd-107">hello properties for a credential are stored securely in Azure Automation and can be accessed in hello runbook or DSC configuration with hello [Get-AutomationPSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) activity.</span></span>

> [!NOTE]
> <span data-ttu-id="783fd-108">Säkra tillgångar i Azure Automation inkluderar autentiseringsuppgifter, certifikat, anslutningar och krypterade variabler.</span><span class="sxs-lookup"><span data-stu-id="783fd-108">Secure assets in Azure Automation include credentials, certificates, connections, and encrypted variables.</span></span> <span data-ttu-id="783fd-109">Dessa tillgångar krypteras och lagras i hello Azure Automation med en unik nyckel som skapas för varje automation-konto.</span><span class="sxs-lookup"><span data-stu-id="783fd-109">These assets are encrypted and stored in hello Azure Automation using a unique key that is generated for each automation account.</span></span> <span data-ttu-id="783fd-110">Den här nyckeln är krypterad med ett certifikat för master och lagras i Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="783fd-110">This key is encrypted by a master certificate and stored in Azure Automation.</span></span> <span data-ttu-id="783fd-111">Innan de lagras en säker tillgång hello nyckel för hello automation-konto dekrypteras med hello master certifikatet och sedan används tooencrypt hello tillgången.</span><span class="sxs-lookup"><span data-stu-id="783fd-111">Before storing a secure asset, hello key for hello automation account is decrypted using hello master certificate and then used tooencrypt hello asset.</span></span>  

## <a name="windows-powershell-cmdlets"></a><span data-ttu-id="783fd-112">Windows PowerShell-cmdlets</span><span class="sxs-lookup"><span data-stu-id="783fd-112">Windows PowerShell cmdlets</span></span>
<span data-ttu-id="783fd-113">hello-cmdlets i följande tabell hello är används toocreate och hantera automatisering inloggningstillgångar med Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="783fd-113">hello cmdlets in hello following table are used toocreate and manage automation credential assets with Windows PowerShell.</span></span>  <span data-ttu-id="783fd-114">De levereras som en del av hello [Azure PowerShell-modulen](/powershell/azure/overview) som är tillgänglig för användning i Automation-runbooks och DSC-konfigurationer.</span><span class="sxs-lookup"><span data-stu-id="783fd-114">They ship as part of hello [Azure PowerShell module](/powershell/azure/overview) which is available for use in Automation runbooks and DSC configurations.</span></span>

| <span data-ttu-id="783fd-115">Cmdlet: ar</span><span class="sxs-lookup"><span data-stu-id="783fd-115">Cmdlets</span></span> | <span data-ttu-id="783fd-116">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="783fd-116">Description</span></span> |
|:--- |:--- |
| [<span data-ttu-id="783fd-117">Get-AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="783fd-117">Get-AzureAutomationCredential</span></span>](/powershell/module/azure/get-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="783fd-118">Hämtar information om en autentiseringstillgång.</span><span class="sxs-lookup"><span data-stu-id="783fd-118">Retrieves information about a credential asset.</span></span> <span data-ttu-id="783fd-119">Du kan bara hämta hello autentiseringsuppgifter sig själv från **Get-AutomationPSCredential** aktivitet.</span><span class="sxs-lookup"><span data-stu-id="783fd-119">You can only retrieve hello credential itself from **Get-AutomationPSCredential** activity.</span></span> |
| [<span data-ttu-id="783fd-120">Ny AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="783fd-120">New-AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="783fd-121">Skapar en ny Automation-autentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="783fd-121">Creates a new Automation credential.</span></span> |
| [<span data-ttu-id="783fd-122">Ta bort - AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="783fd-122">Remove- AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="783fd-123">Tar bort autentiseringsuppgifter för Automation.</span><span class="sxs-lookup"><span data-stu-id="783fd-123">Removes an Automation credential.</span></span> |
| [<span data-ttu-id="783fd-124">Set - AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="783fd-124">Set- AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="783fd-125">Anger hello egenskaper för ett befintligt Automation-autentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="783fd-125">Sets hello properties for an existing Automation credential.</span></span> |

## <a name="runbook-activities"></a><span data-ttu-id="783fd-126">Runbook-aktiviteter</span><span class="sxs-lookup"><span data-stu-id="783fd-126">Runbook activities</span></span>
<span data-ttu-id="783fd-127">hello aktiviteter i den följande tabellen hello är används tooaccess autentiseringsuppgifter i en runbook och DSC-konfigurationer.</span><span class="sxs-lookup"><span data-stu-id="783fd-127">hello activities in hello following table are used tooaccess credentials in a runbook and DSC configurations.</span></span>

| <span data-ttu-id="783fd-128">Aktiviteter</span><span class="sxs-lookup"><span data-stu-id="783fd-128">Activities</span></span> | <span data-ttu-id="783fd-129">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="783fd-129">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="783fd-130">Get-AutomationPSCredential</span><span class="sxs-lookup"><span data-stu-id="783fd-130">Get-AutomationPSCredential</span></span> |<span data-ttu-id="783fd-131">Hämtar en autentiseringsuppgift toouse i en runbook eller DSC-konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="783fd-131">Gets a credential toouse in a runbook or DSC configuration.</span></span> <span data-ttu-id="783fd-132">Returnerar en [System.Management.Automation.PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) objekt.</span><span class="sxs-lookup"><span data-stu-id="783fd-132">Returns a [System.Management.Automation.PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) object.</span></span> |

> [!NOTE]
> <span data-ttu-id="783fd-133">Du bör undvika att använda variabler i hello – Name-parametern i Get-AutomationPSCredential eftersom detta kan göra det svårare att hitta beroenden mellan runbooks eller DSC-konfigurationer och autentiseringsuppgifter tillgångar i designläge.</span><span class="sxs-lookup"><span data-stu-id="783fd-133">You should avoid using variables in hello –Name parameter of Get-AutomationPSCredential since this can complicate discovering dependencies between runbooks or DSC configurations, and credential assets at design time.</span></span>
> 
> 

## <a name="creating-a-new-credential-asset"></a><span data-ttu-id="783fd-134">Skapa en ny autentiseringstillgång</span><span class="sxs-lookup"><span data-stu-id="783fd-134">Creating a new credential asset</span></span>

### <a name="toocreate-a-new-credential-asset-with-hello-azure-portal"></a><span data-ttu-id="783fd-135">toocreate en ny autentiseringstillgång med hello Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="783fd-135">toocreate a new credential asset with hello Azure portal</span></span>
1. <span data-ttu-id="783fd-136">Från ditt automation-konto klickar du på hello **tillgångar** del tooopen hello **tillgångar** bladet.</span><span class="sxs-lookup"><span data-stu-id="783fd-136">From your automation account, click hello **Assets** part tooopen hello **Assets** blade.</span></span>
2. <span data-ttu-id="783fd-137">Klicka på hello **autentiseringsuppgifter** del tooopen hello **autentiseringsuppgifter** bladet.</span><span class="sxs-lookup"><span data-stu-id="783fd-137">Click hello **Credentials** part tooopen hello **Credentials** blade.</span></span>
3. <span data-ttu-id="783fd-138">Klicka på **lägga till en autentiseringsuppgift** hello överst i hello-bladet.</span><span class="sxs-lookup"><span data-stu-id="783fd-138">Click **Add a credential** at hello top of hello blade.</span></span>
4. <span data-ttu-id="783fd-139">Slutför hello formuläret och klickar på **skapa** toosave hello nya autentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="783fd-139">Complete hello form and click **Create** toosave hello new credential.</span></span>

### <a name="toocreate-a-new-credential-asset-with-windows-powershell"></a><span data-ttu-id="783fd-140">toocreate en ny autentiseringstillgång med Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="783fd-140">toocreate a new credential asset with Windows PowerShell</span></span>
<span data-ttu-id="783fd-141">hello följande exempelkommandon visar hur toocreate en ny automation-autentiseringen.</span><span class="sxs-lookup"><span data-stu-id="783fd-141">hello following sample commands show how toocreate a new automation credential.</span></span> <span data-ttu-id="783fd-142">Ett PSCredential-objekt skapas med hello namn och lösenord och sedan används toocreate hello autentiseringsuppgiftstillgång.</span><span class="sxs-lookup"><span data-stu-id="783fd-142">A PSCredential object is first created with hello name and password and then used toocreate hello credential asset.</span></span> <span data-ttu-id="783fd-143">Du kan också använda hello **Get-Credential** cmdlet toobe uppmanas tootype i ett namn och lösenord.</span><span class="sxs-lookup"><span data-stu-id="783fd-143">Alternatively, you could use hello **Get-Credential** cmdlet toobe prompted tootype in a name and password.</span></span>

    $user = "MyDomain\MyUser"
    $pw = ConvertTo-SecureString "PassWord!" -AsPlainText -Force
    $cred = New-Object –TypeName System.Management.Automation.PSCredential –ArgumentList $user, $pw
    New-AzureAutomationCredential -AutomationAccountName "MyAutomationAccount" -Name "MyCredential" -Value $cred

### <a name="toocreate-a-new-credential-asset-with-hello-azure-classic-portal"></a><span data-ttu-id="783fd-144">toocreate en ny autentiseringstillgång med hello klassiska Azure-portalen</span><span class="sxs-lookup"><span data-stu-id="783fd-144">toocreate a new credential asset with hello Azure classic portal</span></span>
1. <span data-ttu-id="783fd-145">Från ditt automation-konto klickar du på **tillgångar** hello överst i fönstret hello.</span><span class="sxs-lookup"><span data-stu-id="783fd-145">From your automation account, click **Assets** at hello top of hello window.</span></span>
2. <span data-ttu-id="783fd-146">Hello längst ned i hello-fönstret klickar du på **Lägg till inställning**.</span><span class="sxs-lookup"><span data-stu-id="783fd-146">At hello bottom of hello window, click **Add Setting**.</span></span>
3. <span data-ttu-id="783fd-147">Klicka på **Lägg till autentiseringsuppgift**.</span><span class="sxs-lookup"><span data-stu-id="783fd-147">Click **Add Credential**.</span></span>
4. <span data-ttu-id="783fd-148">I hello **autentiseringstypen** listrutan **PowerShell-autentiseringsuppgift**.</span><span class="sxs-lookup"><span data-stu-id="783fd-148">In hello **Credential Type** dropdown, select **PowerShell Credential**.</span></span>
5. <span data-ttu-id="783fd-149">Slutför guiden hello och klicka på hello kryssrutan toosave hello nya autentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="783fd-149">Complete hello wizard and click hello checkbox toosave hello new credential.</span></span>

## <a name="using-a-powershell-credential"></a><span data-ttu-id="783fd-150">Med hjälp av en PowerShell-autentiseringsuppgift</span><span class="sxs-lookup"><span data-stu-id="783fd-150">Using a PowerShell credential</span></span>
<span data-ttu-id="783fd-151">Du kan hämta en autentiseringstillgång i en runbook eller DSC-konfigurationen med hello **Get-AutomationPSCredential** aktivitet.</span><span class="sxs-lookup"><span data-stu-id="783fd-151">You retrieve a credential asset in a runbook or DSC configuration with hello **Get-AutomationPSCredential** activity.</span></span> <span data-ttu-id="783fd-152">Detta returnerar en [PSCredential-objekt](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) som du kan använda med en aktivitet eller cmdlet som kräver en PSCredential-parameter.</span><span class="sxs-lookup"><span data-stu-id="783fd-152">This returns a [PSCredential object](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) that you can use with an activity or cmdlet that requires a PSCredential parameter.</span></span> <span data-ttu-id="783fd-153">Du kan också hämta hello egenskaper för hello autentiseringsuppgifter objektet toouse individuellt.</span><span class="sxs-lookup"><span data-stu-id="783fd-153">You can also retrieve hello properties of hello credential object toouse individually.</span></span> <span data-ttu-id="783fd-154">hello objekt har en egenskap för hello användarnamn och hello säkert lösenord eller använda hello **GetNetworkCredential** metoden tooreturn en [NetworkCredential](http://msdn.microsoft.com/library/system.net.networkcredential.aspx) objekt som kommer att ge ett oskyddat version av hello lösenord.</span><span class="sxs-lookup"><span data-stu-id="783fd-154">hello object has a property for hello username and hello secure password, or you can use hello **GetNetworkCredential** method tooreturn a [NetworkCredential](http://msdn.microsoft.com/library/system.net.networkcredential.aspx) object that will provide an unsecured version of hello password.</span></span>

### <a name="textual-runbook-sample"></a><span data-ttu-id="783fd-155">Text-runbook-exempel</span><span class="sxs-lookup"><span data-stu-id="783fd-155">Textual runbook sample</span></span>
<span data-ttu-id="783fd-156">hello följande exempelkommandon visar hur toouse en PowerShell autentiseringsuppgifter i en runbook.</span><span class="sxs-lookup"><span data-stu-id="783fd-156">hello following sample commands show how toouse a PowerShell credential in a runbook.</span></span> <span data-ttu-id="783fd-157">I det här exemplet hello autentiseringsuppgifter hämtas och tilldelade toovariables sitt användarnamn och lösenord.</span><span class="sxs-lookup"><span data-stu-id="783fd-157">In this example, hello credential is retrieved and its username and password assigned toovariables.</span></span>

    $myCredential = Get-AutomationPSCredential -Name 'MyCredential'
    $userName = $myCredential.UserName
    $securePassword = $myCredential.Password
    $password = $myCredential.GetNetworkCredential().Password


### <a name="graphical-runbook-sample"></a><span data-ttu-id="783fd-158">Grafisk runbook-exempel</span><span class="sxs-lookup"><span data-stu-id="783fd-158">Graphical runbook sample</span></span>
<span data-ttu-id="783fd-159">Du lägger till en **Get-AutomationPSCredential** aktiviteten tooa grafisk runbook genom att högerklicka på hello autentiseringsuppgifter i hello biblioteket rutan hello grafiska redigerare och välja **lägga till toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="783fd-159">You add a **Get-AutomationPSCredential** activity tooa graphical runbook by right-clicking on hello credential in hello Library pane of hello graphical editor and selecting **Add toocanvas**.</span></span>

![Lägg till autentiseringsuppgifter toocanvas](media/automation-credentials/credential-add-canvas.png)

<span data-ttu-id="783fd-161">hello visar följande bild ett exempel på hur du använder en autentiseringsuppgift i en grafisk runbook.</span><span class="sxs-lookup"><span data-stu-id="783fd-161">hello following image shows an example of using a credential in a graphical runbook.</span></span>  <span data-ttu-id="783fd-162">I det här fallet den håller på att använda tooprovide autentisering för en runbook tooAzure resurser som beskrivs i [autentisera Runbooks med Azure AD-användarkonto](automation-create-aduser-account.md).</span><span class="sxs-lookup"><span data-stu-id="783fd-162">In this case, it is being used tooprovide authentication for a runbook tooAzure resources as described in [Authenticate Runbooks with Azure AD User account](automation-create-aduser-account.md).</span></span>  <span data-ttu-id="783fd-163">hello första aktiviteten hämtar hello autentiseringsuppgift som inte har åtkomst toohello Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="783fd-163">hello first activity retrieves hello credential that has access toohello Azure subscription.</span></span>  <span data-ttu-id="783fd-164">Hej **Add-AzureAccount** aktiviteten använder sedan den här tooprovide behörighetsautentisering för alla aktiviteter som kommer efter den.</span><span class="sxs-lookup"><span data-stu-id="783fd-164">hello **Add-AzureAccount** activity then uses this credential tooprovide authentication for any activities that come after it.</span></span>  <span data-ttu-id="783fd-165">En [pipelinelänk](automation-graphical-authoring-intro.md#links-and-workflow) är här sedan **Get-AutomationPSCredential** förväntar sig ett enskilt objekt.</span><span class="sxs-lookup"><span data-stu-id="783fd-165">A [pipeline link](automation-graphical-authoring-intro.md#links-and-workflow) is here since **Get-AutomationPSCredential** is expecting a single object.</span></span>  

![Lägg till autentiseringsuppgifter toocanvas](media/automation-credentials/get-credential.png)

## <a name="using-a-powershell-credential-in-dsc"></a><span data-ttu-id="783fd-167">Med hjälp av en PowerShell-autentiseringsuppgift i DSC</span><span class="sxs-lookup"><span data-stu-id="783fd-167">Using a PowerShell credential in DSC</span></span>
<span data-ttu-id="783fd-168">När DSC-konfigurationer i Azure Automation kan referera till inloggningstillgångar med **Get-AutomationPSCredential**, inloggningstillgångar kan också överföras via parametrar, om så önskas.</span><span class="sxs-lookup"><span data-stu-id="783fd-168">While DSC configurations in Azure Automation can reference credential assets using **Get-AutomationPSCredential**, credential assets can also be passed in via parameters, if desired.</span></span> <span data-ttu-id="783fd-169">Mer information finns i [kompilering konfigurationer i Azure Automation DSC](automation-dsc-compile.md#credential-assets).</span><span class="sxs-lookup"><span data-stu-id="783fd-169">For more information, see [Compiling configurations in Azure Automation DSC](automation-dsc-compile.md#credential-assets).</span></span>

## <a name="next-steps"></a><span data-ttu-id="783fd-170">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="783fd-170">Next Steps</span></span>
* <span data-ttu-id="783fd-171">toolearn mer om länkar i grafiska redigering finns [länkar i grafiska redigering](automation-graphical-authoring-intro.md#links-and-workflow)</span><span class="sxs-lookup"><span data-stu-id="783fd-171">toolearn more about links in graphical authoring, see [Links in graphical authoring](automation-graphical-authoring-intro.md#links-and-workflow)</span></span>
* <span data-ttu-id="783fd-172">toounderstand hello olika autentiseringsmetoder med automatisering finns [Azure Automation-säkerhet](automation-security-overview.md)</span><span class="sxs-lookup"><span data-stu-id="783fd-172">toounderstand hello different authentication methods with Automation, see [Azure Automation Security](automation-security-overview.md)</span></span>
* <span data-ttu-id="783fd-173">tooget igång med grafiska runbooks finns [min första grafisk runbook](automation-first-runbook-graphical.md)</span><span class="sxs-lookup"><span data-stu-id="783fd-173">tooget started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="783fd-174">tooget igång med PowerShell arbetsflöde runbooks finns [min första PowerShell-arbetsflödesrunbook](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="783fd-174">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span> 

