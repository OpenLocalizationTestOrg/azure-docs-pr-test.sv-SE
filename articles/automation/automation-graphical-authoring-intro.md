---
title: aaaGraphical redigering i Azure Automation | Microsoft Docs
description: "Grafisk redigering kan du toocreate runbooks för Azure Automation utan arbetar med kod. Den här artikeln innehåller en introduktion toographical redigering och alla hello information behövs toostart skapar en grafisk runbook."
services: automation
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 4b6f840c-e941-4293-a728-b33407317943
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/14/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 6ddf18b992d5e5f7f4af95f344007a63ac498549
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="graphical-authoring-in-azure-automation"></a><span data-ttu-id="23b15-104">Grafisk redigering i Azure Automation</span><span class="sxs-lookup"><span data-stu-id="23b15-104">Graphical authoring in Azure Automation</span></span>
## <a name="introduction"></a><span data-ttu-id="23b15-105">Introduktion</span><span class="sxs-lookup"><span data-stu-id="23b15-105">Introduction</span></span>
<span data-ttu-id="23b15-106">Grafisk redigering kan du toocreate runbooks för Azure Automation utan hello svårigheter hello underliggande Windows PowerShell eller PowerShell-arbetsflöde kod.</span><span class="sxs-lookup"><span data-stu-id="23b15-106">Graphical Authoring allows you toocreate runbooks for Azure Automation without hello complexities of hello underlying Windows PowerShell or PowerShell Workflow code.</span></span> <span data-ttu-id="23b15-107">Du lägger till aktiviteter toohello arbetsytan från ett bibliotek med cmdlets och runbooks, kopplar ihop dem och konfigurera tooform ett arbetsflöde.</span><span class="sxs-lookup"><span data-stu-id="23b15-107">You add activities toohello canvas from a library of cmdlets and runbooks, link them together and configure tooform a workflow.</span></span>  <span data-ttu-id="23b15-108">Om du någon gång har arbetat med System Center Orchestrator eller Service Management Automation (SMA) bör det se ut bekant tooyou.</span><span class="sxs-lookup"><span data-stu-id="23b15-108">If you have ever worked with System Center Orchestrator or Service Management Automation (SMA), then this should look familiar tooyou.</span></span>   

<span data-ttu-id="23b15-109">Den här artikeln innehåller en introduktion toographical redigering och hello begrepp som du behöver tooget igång för att skapa en grafisk runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-109">This article provides an introduction toographical authoring and hello concepts you need tooget started in creating a graphical runbook.</span></span>

## <a name="graphical-runbooks"></a><span data-ttu-id="23b15-110">Grafiska runbook-flöden</span><span class="sxs-lookup"><span data-stu-id="23b15-110">Graphical runbooks</span></span>
<span data-ttu-id="23b15-111">Alla runbooks i Azure Automation är Windows PowerShell-arbetsflöden.</span><span class="sxs-lookup"><span data-stu-id="23b15-111">All runbooks in Azure Automation are Windows PowerShell Workflows.</span></span>  <span data-ttu-id="23b15-112">Grafisk och grafisk PowerShell-arbetsflöde runbooks generera PowerShell-kod som körs av hello Automation arbetare, men du inte kan tooview den eller ändra den direkt.</span><span class="sxs-lookup"><span data-stu-id="23b15-112">Graphical and Graphical PowerShell Workflow runbooks generate PowerShell code that is run by hello Automation workers, but you are not able tooview it or directly modify it.</span></span>  <span data-ttu-id="23b15-113">En grafisk runbook kan vara konverterade tooa grafisk PowerShell-arbetsflödesrunbook och vice versa, men de kan inte vara konverterade tooa text-runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-113">A Graphical runbook can be converted tooa Graphical PowerShell Workflow runbook and vice-versa, but they cannot be converted tooa textual runbook.</span></span> <span data-ttu-id="23b15-114">En befintlig textrepresentation runbook kan inte importeras till hello grafiska redigerare.</span><span class="sxs-lookup"><span data-stu-id="23b15-114">An existing textual runbook cannot be imported into hello graphical editor.</span></span>  

## <a name="overview-of-graphical-editor"></a><span data-ttu-id="23b15-115">Översikt över grafiska redigerare</span><span class="sxs-lookup"><span data-stu-id="23b15-115">Overview of graphical editor</span></span>
<span data-ttu-id="23b15-116">Du kan öppna hello grafiska redigerare i hello Azure-portalen genom att skapa eller redigera en grafisk runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-116">You can open hello graphical editor in hello Azure portal by creating or editing a graphical runbook.</span></span>

![Grafisk arbetsytan](media/automation-graphical-authoring-intro/runbook-graphical-editor.png)

<span data-ttu-id="23b15-118">hello beskrivs följande avsnitt hello kontroller i hello grafiska redigerare.</span><span class="sxs-lookup"><span data-stu-id="23b15-118">hello following sections describe hello controls in hello graphical editor.</span></span>

### <a name="canvas"></a><span data-ttu-id="23b15-119">Arbetsytan</span><span class="sxs-lookup"><span data-stu-id="23b15-119">Canvas</span></span>
<span data-ttu-id="23b15-120">hello arbetsytan är där du utformar din runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-120">hello Canvas is where you design your runbook.</span></span>  <span data-ttu-id="23b15-121">Du lägger till aktiviteter från hello noderna i hello biblioteket kontrollen toohello runbook och Anslut dem med länkar toodefine hello logik för hello runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-121">You add activities from hello nodes in hello Library control toohello runbook and connect them with links toodefine hello logic of hello runbook.</span></span>

<span data-ttu-id="23b15-122">Du kan använda hello kontroller längst hello hello arbetsytan toozoom in och ut.</span><span class="sxs-lookup"><span data-stu-id="23b15-122">You can use hello controls at hello bottom of hello canvas toozoom in and out.</span></span>

![Grafisk arbetsytan](media/automation-graphical-authoring-intro/runbook-canvas-controls.png)

### <a name="library-control"></a><span data-ttu-id="23b15-124">Biblioteket kontroll</span><span class="sxs-lookup"><span data-stu-id="23b15-124">Library control</span></span>
<span data-ttu-id="23b15-125">hello biblioteket kontroll är där du väljer [aktiviteter](#activities) tooadd tooyour runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-125">hello Library control is where you select [activities](#activities) tooadd tooyour runbook.</span></span>  <span data-ttu-id="23b15-126">Du lägger till dem toohello arbetsyta där du ansluter dem tooother aktiviteter.</span><span class="sxs-lookup"><span data-stu-id="23b15-126">You add them toohello canvas where you connect them tooother activities.</span></span>  <span data-ttu-id="23b15-127">Den innehåller fyra avsnitt som beskrivs i följande tabell hello.</span><span class="sxs-lookup"><span data-stu-id="23b15-127">It includes four sections described in hello following table.</span></span>

| <span data-ttu-id="23b15-128">Avsnittet</span><span class="sxs-lookup"><span data-stu-id="23b15-128">Section</span></span> | <span data-ttu-id="23b15-129">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="23b15-129">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="23b15-130">Cmdlet: ar</span><span class="sxs-lookup"><span data-stu-id="23b15-130">Cmdlets</span></span> |<span data-ttu-id="23b15-131">Innehåller alla hello-cmdletar som kan användas i din runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-131">Includes all hello cmdlets that can be used in your runbook.</span></span>  <span data-ttu-id="23b15-132">Cmdlets ordnas efter modulen.</span><span class="sxs-lookup"><span data-stu-id="23b15-132">Cmdlets are organized by module.</span></span>  <span data-ttu-id="23b15-133">Alla hello-moduler som du har installerat i ditt automation-konto blir tillgängliga.</span><span class="sxs-lookup"><span data-stu-id="23b15-133">All of hello modules that you have installed in your automation account will be available.</span></span> |
| <span data-ttu-id="23b15-134">Runbooks</span><span class="sxs-lookup"><span data-stu-id="23b15-134">Runbooks</span></span> |<span data-ttu-id="23b15-135">Innehåller hello runbooks i ditt automation-konto.</span><span class="sxs-lookup"><span data-stu-id="23b15-135">Includes hello runbooks in your automation account.</span></span> <span data-ttu-id="23b15-136">Dessa runbooks kan läggas till toohello arbetsytan toobe används som underordnade runbooks.</span><span class="sxs-lookup"><span data-stu-id="23b15-136">These runbooks can be added toohello canvas toobe used as child runbooks.</span></span> <span data-ttu-id="23b15-137">Endast runbooks av hello samma core typ som hello runbook redigeras visas; för grafisk som runbooks endast PowerShell-baserade runbooks visas, medan för grafisk PowerShell-arbetsflöde runbooks endast PowerShell--Arbetsflödesbaserade runbooks visas.</span><span class="sxs-lookup"><span data-stu-id="23b15-137">Only runbooks of hello same core type as hello runbook being edited are shown; for Graphical runbooks only PowerShell-based runbooks are shown, while for Graphical PowerShell Workflow runbooks only PowerShell-Workflow-based runbooks are shown.</span></span> |
| <span data-ttu-id="23b15-138">Tillgångar</span><span class="sxs-lookup"><span data-stu-id="23b15-138">Assets</span></span> |<span data-ttu-id="23b15-139">Innehåller hello [automation tillgångar](http://msdn.microsoft.com/library/dn939988.aspx) i ditt automation-konto som kan användas i din runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-139">Includes hello [automation assets](http://msdn.microsoft.com/library/dn939988.aspx) in your automation account that can be used in your runbook.</span></span>  <span data-ttu-id="23b15-140">När du lägger till en tillgång tooa runbook läggs en arbetsflödesaktivitet som hämtar hello markerade tillgången.</span><span class="sxs-lookup"><span data-stu-id="23b15-140">When you add an asset tooa runbook, it will add a workflow activity that gets hello selected asset.</span></span>  <span data-ttu-id="23b15-141">Hello gäller variabeln tillgångar, du kan välja om tooadd en aktivitet tooget hello variabel eller ange hello-variabeln.</span><span class="sxs-lookup"><span data-stu-id="23b15-141">In hello case of variable assets, you can select whether tooadd an activity tooget hello variable or set hello variable.</span></span> |
| <span data-ttu-id="23b15-142">Runbook-kontroll</span><span class="sxs-lookup"><span data-stu-id="23b15-142">Runbook Control</span></span> |<span data-ttu-id="23b15-143">Innehåller runbook kontroll aktiviteter som kan användas i din aktuella runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-143">Includes runbook control activities that can be used in your current runbook.</span></span> <span data-ttu-id="23b15-144">En *knutpunkt* tar flera inmatningar och väntar tills alla har slutförts innan du fortsätter hello-arbetsflöde.</span><span class="sxs-lookup"><span data-stu-id="23b15-144">A *Junction* takes multiple inputs and waits until all have completed before continuing hello workflow.</span></span> <span data-ttu-id="23b15-145">En *kod* aktiviteten körs en eller flera rader med PowerShell eller PowerShell-arbetsflöde kod beroende på typ av hello grafisk runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-145">A *Code* activity runs one or more lines of PowerShell or PowerShell Workflow code depending on hello graphical runbook type.</span></span>  <span data-ttu-id="23b15-146">Du kan använda den här aktiviteten för anpassad kod eller funktioner som är svår tooachieve med andra aktiviteter.</span><span class="sxs-lookup"><span data-stu-id="23b15-146">You can use this activity for custom code or for functionality that is difficult tooachieve with other activities.</span></span> |

### <a name="configuration-control"></a><span data-ttu-id="23b15-147">Konfigurationskontroll</span><span class="sxs-lookup"><span data-stu-id="23b15-147">Configuration control</span></span>
<span data-ttu-id="23b15-148">Hej Konfigurationskontroll kan du ge information för ett objekt som valts på hello arbetsytan.</span><span class="sxs-lookup"><span data-stu-id="23b15-148">hello Configuration control is where you provide details for an object selected on hello canvas.</span></span> <span data-ttu-id="23b15-149">hello-egenskaper som är tillgängliga i den här kontrollen beror på hello typ av objekt som valts.</span><span class="sxs-lookup"><span data-stu-id="23b15-149">hello properties available in this control will depend on hello type of object selected.</span></span>  <span data-ttu-id="23b15-150">När du väljer ett alternativ i hello Konfigurationskontroll öppnas ytterligare blad i ordning tooprovide ytterligare information.</span><span class="sxs-lookup"><span data-stu-id="23b15-150">When you select an option in hello Configuration control, it will open additional blades in order tooprovide additional information.</span></span>

### <a name="test-control"></a><span data-ttu-id="23b15-151">Testa kontrollen</span><span class="sxs-lookup"><span data-stu-id="23b15-151">Test control</span></span>
<span data-ttu-id="23b15-152">hello Test kontrollen visas inte när hello grafiska redigerare först startas.</span><span class="sxs-lookup"><span data-stu-id="23b15-152">hello Test control is not displayed when hello graphical editor is first started.</span></span> <span data-ttu-id="23b15-153">Det öppnas när du interaktivt [testa en grafisk runbook](#graphical-runbook-procedures).</span><span class="sxs-lookup"><span data-stu-id="23b15-153">It is opened when you interactively [test a graphical runbook](#graphical-runbook-procedures).</span></span>  

## <a name="graphical-runbook-procedures"></a><span data-ttu-id="23b15-154">Grafisk runbook procedurer</span><span class="sxs-lookup"><span data-stu-id="23b15-154">Graphical runbook procedures</span></span>
### <a name="exporting-and-importing-a-graphical-runbook"></a><span data-ttu-id="23b15-155">Exportera och importera en grafisk runbook</span><span class="sxs-lookup"><span data-stu-id="23b15-155">Exporting and importing a graphical runbook</span></span>
<span data-ttu-id="23b15-156">Du kan bara exportera hello publicerade versionen av en grafisk runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-156">You can only export hello published version of a graphical runbook.</span></span>  <span data-ttu-id="23b15-157">Om hello runbook inte har ännu publicerats, sedan hello **Export publicerade** knappen inaktiveras.</span><span class="sxs-lookup"><span data-stu-id="23b15-157">If hello runbook has not yet been published, then hello **Export published** button will be disabled.</span></span>  <span data-ttu-id="23b15-158">När du klickar på hello **Export publicerade** knappen, hello runbook är hämtade tooyour lokala dator.</span><span class="sxs-lookup"><span data-stu-id="23b15-158">When you click hello **Export published** button, hello runbook is downloaded tooyour local computer.</span></span>  <span data-ttu-id="23b15-159">hello filen hello namn matchar hello namnet på hello runbook med en *graphrunbook* tillägg.</span><span class="sxs-lookup"><span data-stu-id="23b15-159">hello name of hello file matches hello name of hello runbook with a *graphrunbook* extension.</span></span>

![Exportera publicerade](media/automation-graphical-authoring-intro/runbook-export.png)

<span data-ttu-id="23b15-161">Du kan importera en grafisk eller grafisk PowerShell-arbetsflöde runbook-filen genom att välja hello **importera** alternativ när du lägger till en runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-161">You can import a Graphical or Graphical PowerShell Workflow runbook file by selecting hello **Import** option when adding a runbook.</span></span>   <span data-ttu-id="23b15-162">När du väljer hello filen tooimport, kan du behålla hello samma **namn** eller ange en ny.</span><span class="sxs-lookup"><span data-stu-id="23b15-162">When you select hello file tooimport, you can keep hello same **Name** or provide a new one.</span></span>  <span data-ttu-id="23b15-163">Hej Runbooktyp fältet visar hello typ av runbook när den utvärderar hello-filen som valts och om du försöker tooselect en annan typ som inte är korrekt, ett meddelande visas om det finns möjliga konflikter och under konverteringen, kan det finnas syntaxfel.</span><span class="sxs-lookup"><span data-stu-id="23b15-163">hello Runbook Type field will display hello type of runbook after it assesses hello file selected and if you attempt tooselect a different type that is not correct, a message will be presented noting there are potential conflicts and during conversion, there could be syntax errors.</span></span>  

![Importera runbook](media/automation-graphical-authoring-intro/runbook-import-revised20165.png)

### <a name="testing-a-graphical-runbook"></a><span data-ttu-id="23b15-165">Testa en grafisk runbook</span><span class="sxs-lookup"><span data-stu-id="23b15-165">Testing a graphical runbook</span></span>
<span data-ttu-id="23b15-166">Du kan testa hello utkastversionen för en runbook i hello Azure-portalen medan lämnar hello publicerade versionen av hello runbook oförändrade, eller en ny runbook kan du testa innan den har publicerats.</span><span class="sxs-lookup"><span data-stu-id="23b15-166">You can test hello Draft version of a runbook in hello Azure portal while leaving hello published version of hello runbook unchanged, or you can test a new runbook before it has been published.</span></span> <span data-ttu-id="23b15-167">Detta gör att du tooverify som hello runbook fungerar korrekt innan du ersätter hello publicerad version.</span><span class="sxs-lookup"><span data-stu-id="23b15-167">This allows you tooverify that hello runbook is working correctly before replacing hello published version.</span></span> <span data-ttu-id="23b15-168">När du testar en runbook körs hello utkast-runbooken och alla åtgärder som den utför slutförs.</span><span class="sxs-lookup"><span data-stu-id="23b15-168">When you test a runbook, hello Draft runbook is executed and any actions that it performs are completed.</span></span> <span data-ttu-id="23b15-169">Ingen jobbhistorik skapas, men visas utdata i hello rutan Testutdata.</span><span class="sxs-lookup"><span data-stu-id="23b15-169">No job history is created, but output is displayed in hello Test Output Pane.</span></span> 

<span data-ttu-id="23b15-170">Öppna hello Test-kontroll för en runbook genom att öppna hello runbook för redigering och klicka sedan på hello **Test rutan** knappen.</span><span class="sxs-lookup"><span data-stu-id="23b15-170">Open hello Test control for a runbook by opening hello runbook for edit and then click on hello **Test pane** button.</span></span>

![Fönstret testknappen](media/automation-graphical-authoring-intro/runbook-edit-test-pane.png)

<span data-ttu-id="23b15-172">hello Test kontrollen uppmanas för någon indataparametrar och du kan starta hello runbook genom att klicka på hello **starta** knappen.</span><span class="sxs-lookup"><span data-stu-id="23b15-172">hello Test control will prompt for any input parameters, and you can start hello runbook by clicking on hello **Start** button.</span></span>

![Testa kontrollknappar](media/automation-graphical-authoring-intro/runbook-test-start.png)

### <a name="publishing-a-graphical-runbook"></a><span data-ttu-id="23b15-174">Publicera en grafisk runbook</span><span class="sxs-lookup"><span data-stu-id="23b15-174">Publishing a graphical runbook</span></span>
<span data-ttu-id="23b15-175">Varje runbook i Azure Automation har ett utkast och en publicerad version.</span><span class="sxs-lookup"><span data-stu-id="23b15-175">Each runbook in Azure Automation has a Draft and a Published version.</span></span> <span data-ttu-id="23b15-176">Endast hello publicerade versionen är tillgänglig toobe kör och bara utkastet hello kan redigeras.</span><span class="sxs-lookup"><span data-stu-id="23b15-176">Only hello Published version is available toobe run, and only hello Draft version can be edited.</span></span> <span data-ttu-id="23b15-177">hello publicerade versionen påverkas inte av några ändringar toohello utkastet.</span><span class="sxs-lookup"><span data-stu-id="23b15-177">hello Published version is unaffected by any changes toohello Draft version.</span></span> <span data-ttu-id="23b15-178">När hello utkastversionen är klar toobe som är tillgängliga, sedan publicerar du den som skriver över hello publicerade versionen med hello utkastet.</span><span class="sxs-lookup"><span data-stu-id="23b15-178">When hello Draft version is ready toobe available, then you publish it which overwrites hello Published version with hello Draft version.</span></span>

<span data-ttu-id="23b15-179">Du kan publicera en grafisk runbook genom att öppna hello runbook för redigering och sedan klicka på hello **publicera** knappen.</span><span class="sxs-lookup"><span data-stu-id="23b15-179">You can publish a graphical runbook by opening hello runbook for editing and then clicking on hello **Publish** button.</span></span>

![Knappen Publicera](media/automation-graphical-authoring-intro/runbook-edit-publish.png)

<span data-ttu-id="23b15-181">När en runbook inte har ännu publicerats, har den statusen **ny**.</span><span class="sxs-lookup"><span data-stu-id="23b15-181">When a runbook has not yet been published, it has a status of **New**.</span></span>  <span data-ttu-id="23b15-182">När den publiceras, har den statusen **publicerade**.</span><span class="sxs-lookup"><span data-stu-id="23b15-182">When it is published, it has a status of **Published**.</span></span>  <span data-ttu-id="23b15-183">Om du redigerar hello runbook när den har publicerats och hello utkast och publicerad versioner är olika, hello runbook har statusen **i Redigera**.</span><span class="sxs-lookup"><span data-stu-id="23b15-183">If you edit hello runbook after it has been published, and hello Draft and Published versions are different, hello runbook has a status of **In edit**.</span></span>

![Runbook-status](media/automation-graphical-authoring-intro/runbook-statuses-revised20165.png) 

<span data-ttu-id="23b15-185">Du kan också ha hello alternativet toorevert toohello publicerade versionen av en runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-185">You also have hello option toorevert toohello Published version of a runbook.</span></span>  <span data-ttu-id="23b15-186">Detta raderas alla ändringar som gjorts sedan hello senast publicerades och ersätter hello utkastversionen för hello runbook med hello publicerade versionen.</span><span class="sxs-lookup"><span data-stu-id="23b15-186">This throws away any changes made since hello runbook was last published and replaces hello Draft version of hello runbook with hello Published version.</span></span>

![Återställa toopublished knappen](media/automation-graphical-authoring-intro/runbook-edit-revert-published.png)

## <a name="activities"></a><span data-ttu-id="23b15-188">Aktiviteter</span><span class="sxs-lookup"><span data-stu-id="23b15-188">Activities</span></span>
<span data-ttu-id="23b15-189">Aktiviteter är hello byggblocken i en runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-189">Activities are hello building blocks of a runbook.</span></span>  <span data-ttu-id="23b15-190">En aktivitet kan vara en PowerShell-cmdlet, en underordnad runbook eller en arbetsflödesaktivitet.</span><span class="sxs-lookup"><span data-stu-id="23b15-190">An activity can be a PowerShell cmdlet, a child runbook, or a workflow activity.</span></span>  <span data-ttu-id="23b15-191">Du lägger till en aktivitet toohello runbook genom att högerklicka på den i hello biblioteket kontroll och välja **lägga till toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="23b15-191">You add an activity toohello runbook by right clicking it in hello Library control and selecting **Add toocanvas**.</span></span>  <span data-ttu-id="23b15-192">Sedan kan du klicka och dra hello aktiviteten tooplace den någonstans på hello arbetsytan som du.</span><span class="sxs-lookup"><span data-stu-id="23b15-192">You can then click and drag hello activity tooplace it anywhere on hello canvas that you like.</span></span>  <span data-ttu-id="23b15-193">hello påverkas platsen för hello hello aktivitet på hello arbetsytan inte hello driften av hello runbook på något sätt.</span><span class="sxs-lookup"><span data-stu-id="23b15-193">hello location of hello of hello activity on hello canvas does not effect hello operation of hello runbook in any way.</span></span>  <span data-ttu-id="23b15-194">Du kan layout din runbook men du tycker att det lämpligaste toovisualize dess drift.</span><span class="sxs-lookup"><span data-stu-id="23b15-194">You can layout your runbook however you find it most suitable toovisualize its operation.</span></span> 

![Lägg till toocanvas](media/automation-graphical-authoring-intro/add-to-canvas-revised20165.png)

<span data-ttu-id="23b15-196">Välj hello aktivitet på hello arbetsytan tooconfigure dess egenskaper och parametrar i hello Configuration bladet.</span><span class="sxs-lookup"><span data-stu-id="23b15-196">Select hello activity on hello canvas tooconfigure its properties and parameters in hello Configuration blade.</span></span>  <span data-ttu-id="23b15-197">Du kan ändra hello **etikett** av hello aktiviteten toosomething som är beskrivande tooyou.</span><span class="sxs-lookup"><span data-stu-id="23b15-197">You can change hello **Label** of hello activity toosomething that is descriptive tooyou.</span></span>  <span data-ttu-id="23b15-198">hello ursprungliga cmdlet körs fortfarande kan du bara ändrar dess namn som ska användas i hello grafiska redigerare.</span><span class="sxs-lookup"><span data-stu-id="23b15-198">hello original cmdlet is still being run, you are simply changing its display name that will be used in hello graphical editor.</span></span>  <span data-ttu-id="23b15-199">hello etikett måste vara unika inom hello runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-199">hello label must be unique within hello runbook.</span></span> 

### <a name="parameter-sets"></a><span data-ttu-id="23b15-200">Parameteruppsättningarna</span><span class="sxs-lookup"><span data-stu-id="23b15-200">Parameter sets</span></span>
<span data-ttu-id="23b15-201">En parameteruppsättning definierar hello obligatoriska och valfria parametrar som tar emot värden för en viss cmdlet.</span><span class="sxs-lookup"><span data-stu-id="23b15-201">A parameter set defines hello mandatory and optional parameters that will accept values for a particular cmdlet.</span></span>  <span data-ttu-id="23b15-202">Alla cmdletar har minst en parameter har angetts och vissa har flera.</span><span class="sxs-lookup"><span data-stu-id="23b15-202">All cmdlets have at least one parameter set, and some have multiple.</span></span>  <span data-ttu-id="23b15-203">Om en cmdlet har flera parameteruppsättningar, måste du välja vilket som du ska använda innan du kan konfigurera parametrar.</span><span class="sxs-lookup"><span data-stu-id="23b15-203">If a cmdlet has multiple parameter sets, then you must select which one you will use before you can configure parameters.</span></span>  <span data-ttu-id="23b15-204">hello-parametrar som du kan konfigurera beror på hello parameteruppsättning som du väljer.</span><span class="sxs-lookup"><span data-stu-id="23b15-204">hello parameters that you can configure will depend on hello parameter set that you choose.</span></span>  <span data-ttu-id="23b15-205">Du kan ändra hello parameteruppsättning som används av en aktivitet genom att välja **parameterinställning** och välja en annan uppsättning.</span><span class="sxs-lookup"><span data-stu-id="23b15-205">You can change hello parameter set used by an activity by selecting **Parameter Set** and selecting another set.</span></span>  <span data-ttu-id="23b15-206">I det här fallet går ett parametervärde som du har konfigurerat förlorade.</span><span class="sxs-lookup"><span data-stu-id="23b15-206">In this case, any parameter values that you configured are lost.</span></span>

<span data-ttu-id="23b15-207">I följande exempel hello, har hello Get-AzureRmVM cmdlet tre parameteruppsättningar.</span><span class="sxs-lookup"><span data-stu-id="23b15-207">In hello following example, hello Get-AzureRmVM cmdlet has three parameter sets.</span></span>  <span data-ttu-id="23b15-208">Du kan konfigurera parametervärden förrän du väljer ett av hello parameteruppsättningar.</span><span class="sxs-lookup"><span data-stu-id="23b15-208">You cannot configure parameter values until you select one of hello parameter sets.</span></span>  <span data-ttu-id="23b15-209">Hej ListVirtualMachineInResourceGroupParamSet parameteruppsättning finns för att returnera alla virtuella datorer i en resursgrupp och en valfri parameter.</span><span class="sxs-lookup"><span data-stu-id="23b15-209">hello ListVirtualMachineInResourceGroupParamSet parameter set is for returning all virtual machines in a resource group and has a single optional parameter.</span></span>  <span data-ttu-id="23b15-210">Hej GetVirtualMachineInResourceGroupParamSet är för att ange hello virtuell dator och du vill tooreturn har två obligatoriska och en valfri parameter.</span><span class="sxs-lookup"><span data-stu-id="23b15-210">hello GetVirtualMachineInResourceGroupParamSet is for specifying hello virtual machine you want tooreturn and has two mandatory and one optional parameter.</span></span>

![Parameteruppsättningen](media/automation-graphical-authoring-intro/get-azurermvm-parameter-sets.png)

#### <a name="parameter-values"></a><span data-ttu-id="23b15-212">Parametervärden</span><span class="sxs-lookup"><span data-stu-id="23b15-212">Parameter values</span></span>
<span data-ttu-id="23b15-213">När du anger ett värde för en parameter kan du välja en datakälla toodetermine hur hello värde ska anges.</span><span class="sxs-lookup"><span data-stu-id="23b15-213">When you specify a value for a parameter, you select a data source toodetermine how hello value will be specified.</span></span>  <span data-ttu-id="23b15-214">hello-datakällor som är tillgängliga för en viss parameter beror på hello giltiga värden för parametern.</span><span class="sxs-lookup"><span data-stu-id="23b15-214">hello data sources that are available for a particular parameter will depend on hello valid values for that parameter.</span></span>  <span data-ttu-id="23b15-215">Till exempel blir inte Null ett tillgängligt alternativ för en parameter som inte tillåter null-värden.</span><span class="sxs-lookup"><span data-stu-id="23b15-215">For example, Null will not be an available option for a parameter that does not allow null values.</span></span>

| <span data-ttu-id="23b15-216">Datakälla</span><span class="sxs-lookup"><span data-stu-id="23b15-216">Data Source</span></span> | <span data-ttu-id="23b15-217">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="23b15-217">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="23b15-218">Konstant värde</span><span class="sxs-lookup"><span data-stu-id="23b15-218">Constant Value</span></span> |<span data-ttu-id="23b15-219">Ange ett värde för parametern hello.</span><span class="sxs-lookup"><span data-stu-id="23b15-219">Type in a value for hello parameter.</span></span>  <span data-ttu-id="23b15-220">Detta är endast tillgängligt för hello följande datatyper: Int32, Int64, String, Boolean, DateTime, växel.</span><span class="sxs-lookup"><span data-stu-id="23b15-220">This is only available for hello following data types: Int32,Int64,String,Boolean,DateTime,Switch.</span></span> |
| <span data-ttu-id="23b15-221">Aktivitetsutdata</span><span class="sxs-lookup"><span data-stu-id="23b15-221">Activity Output</span></span> |<span data-ttu-id="23b15-222">Utdata från en aktivitet som föregår hello aktuell aktivitet i hello arbetsflöde.</span><span class="sxs-lookup"><span data-stu-id="23b15-222">Output from an activity that precedes hello current activity in hello workflow.</span></span>  <span data-ttu-id="23b15-223">Alla giltiga aktiviteter visas.</span><span class="sxs-lookup"><span data-stu-id="23b15-223">All valid activities will be listed.</span></span>  <span data-ttu-id="23b15-224">Välj bara hello aktiviteten toouse utdata för hello parametervärde.</span><span class="sxs-lookup"><span data-stu-id="23b15-224">Select just hello activity toouse its output for hello parameter value.</span></span>  <span data-ttu-id="23b15-225">Om aktiviteten hello matar ut ett objekt med flera egenskaper, kan du ange i hello namn för hello egenskapen när du har valt hello-aktivitet.</span><span class="sxs-lookup"><span data-stu-id="23b15-225">If hello activity outputs an object with multiple properties, then you can type in hello name of hello property after selecting hello activity.</span></span> |
| <span data-ttu-id="23b15-226">Runbook-indata</span><span class="sxs-lookup"><span data-stu-id="23b15-226">Runbook Input</span></span> |<span data-ttu-id="23b15-227">Välj en runbookinmatningsparameter som inkommande toohello Aktivitetsparametern.</span><span class="sxs-lookup"><span data-stu-id="23b15-227">Select a runbook input parameter as input toohello activity parameter.</span></span> |
| <span data-ttu-id="23b15-228">Variabeltillgång</span><span class="sxs-lookup"><span data-stu-id="23b15-228">Variable Asset</span></span> |<span data-ttu-id="23b15-229">Välj ett Automation-variabel som indata.</span><span class="sxs-lookup"><span data-stu-id="23b15-229">Select an Automation Variable as input.</span></span> |
| <span data-ttu-id="23b15-230">Autentiseringsuppgiftstillgång</span><span class="sxs-lookup"><span data-stu-id="23b15-230">Credential Asset</span></span> |<span data-ttu-id="23b15-231">Välj autentiseringsuppgifter för Automation som indata.</span><span class="sxs-lookup"><span data-stu-id="23b15-231">Select an Automation Credential as input.</span></span> |
| <span data-ttu-id="23b15-232">Certifikattillgång</span><span class="sxs-lookup"><span data-stu-id="23b15-232">Certificate Asset</span></span> |<span data-ttu-id="23b15-233">Välj ett Automation-certifikat som indata.</span><span class="sxs-lookup"><span data-stu-id="23b15-233">Select an Automation Certificate as input.</span></span> |
| <span data-ttu-id="23b15-234">Anslutningstillgång</span><span class="sxs-lookup"><span data-stu-id="23b15-234">Connection Asset</span></span> |<span data-ttu-id="23b15-235">Välj en Automationsanslutning som indata.</span><span class="sxs-lookup"><span data-stu-id="23b15-235">Select an Automation Connection as input.</span></span> |
| <span data-ttu-id="23b15-236">PowerShell-uttryck</span><span class="sxs-lookup"><span data-stu-id="23b15-236">PowerShell Expression</span></span> |<span data-ttu-id="23b15-237">Ange enkla [PowerShell-uttryck](#powershell-expressions).</span><span class="sxs-lookup"><span data-stu-id="23b15-237">Specify simple [PowerShell expression](#powershell-expressions).</span></span>  <span data-ttu-id="23b15-238">hello uttrycket ska utvärderas innan hello aktivitet och hello resultatet som används för hello parametervärde.</span><span class="sxs-lookup"><span data-stu-id="23b15-238">hello expression will be evaluated before hello activity and hello result used for hello parameter value.</span></span>  <span data-ttu-id="23b15-239">Du kan använda variabler toorefer toohello utdata från en aktivitet eller en runbookinmatningsparameter.</span><span class="sxs-lookup"><span data-stu-id="23b15-239">You can use variables toorefer toohello output of an activity or a runbook input parameter.</span></span> |
| <span data-ttu-id="23b15-240">Inte konfigurerat</span><span class="sxs-lookup"><span data-stu-id="23b15-240">Not configured</span></span> |<span data-ttu-id="23b15-241">Rensar alla värden som tidigare har konfigurerats.</span><span class="sxs-lookup"><span data-stu-id="23b15-241">Clears any value that was previously configured.</span></span> |

#### <a name="optional-additional-parameters"></a><span data-ttu-id="23b15-242">Valfri ytterligare parametrar</span><span class="sxs-lookup"><span data-stu-id="23b15-242">Optional additional parameters</span></span>
<span data-ttu-id="23b15-243">Alla cmdletar har hello alternativet tooprovide ytterligare parametrar.</span><span class="sxs-lookup"><span data-stu-id="23b15-243">All cmdlets will have hello option tooprovide additional parameters.</span></span>  <span data-ttu-id="23b15-244">Dessa är vanliga PowerShell-parametrar eller andra anpassade parametrar.</span><span class="sxs-lookup"><span data-stu-id="23b15-244">These are PowerShell common parameters or other custom parameters.</span></span>  <span data-ttu-id="23b15-245">Visas med en textruta där du kan ange parametrar med PowerShell-syntax.</span><span class="sxs-lookup"><span data-stu-id="23b15-245">You are presented with a text box where you can provide parameters using PowerShell syntax.</span></span>  <span data-ttu-id="23b15-246">Till exempel toouse hello **utförlig** gemensamma parametern anger du **”-Verbose: $True”**.</span><span class="sxs-lookup"><span data-stu-id="23b15-246">For example, toouse hello **Verbose** common parameter, you would specify **"-Verbose:$True"**.</span></span>

### <a name="retry-activity"></a><span data-ttu-id="23b15-247">Gör om aktivitet</span><span class="sxs-lookup"><span data-stu-id="23b15-247">Retry activity</span></span>
<span data-ttu-id="23b15-248">**Omförsök** kan en aktivitet toobe köras flera gånger tills ett visst villkor är uppfyllt, ungefär som en loop.</span><span class="sxs-lookup"><span data-stu-id="23b15-248">**Retry Behavior** allows an activity toobe run multiple times until a particular condition is met, much like a loop.</span></span>  <span data-ttu-id="23b15-249">Du kan använda den här funktionen för aktiviteter som ska köras flera gånger, är tillförlitligt och kanske behöver fler än en försöka för lyckad eller testa hello Utdatainformationen hello aktivitet för giltiga data.</span><span class="sxs-lookup"><span data-stu-id="23b15-249">You can use this feature for activities that should run multiple times, are error prone and may need more than one attempt for success, or test hello output information of hello activity for valid data.</span></span>    

<span data-ttu-id="23b15-250">När du aktiverar retry för en aktivitet kan ange du en fördröjning och ett villkor.</span><span class="sxs-lookup"><span data-stu-id="23b15-250">When you enable retry for an activity, you can set a delay and a condition.</span></span>  <span data-ttu-id="23b15-251">hello fördröjningen är hello tid (i sekunder eller minuter) som hello runbook ska vänta innan den kör hello aktiviteten igen.</span><span class="sxs-lookup"><span data-stu-id="23b15-251">hello delay is hello time (measured in seconds or minutes) that hello runbook will wait before it runs hello activity again.</span></span>  <span data-ttu-id="23b15-252">Om ingen fördröjning anges körs aktiviteten hello igen omedelbart när den är klar.</span><span class="sxs-lookup"><span data-stu-id="23b15-252">If no delay is specified, then hello activity will run again immediately after it completes.</span></span> 

![Fördröjning av försök igen om en aktivitet](media/automation-graphical-authoring-intro/retry-delay.png)

<span data-ttu-id="23b15-254">hello försök villkor är ett PowerShell-uttryck som utvärderas när varje gång hello aktivitet har körts.</span><span class="sxs-lookup"><span data-stu-id="23b15-254">hello retry condition is a PowerShell expression that is evaluated after each time hello activity runs.</span></span>  <span data-ttu-id="23b15-255">Om hello-uttrycket matchar tooTrue, sedan körs hello aktiviteten igen.</span><span class="sxs-lookup"><span data-stu-id="23b15-255">If hello expression resolves tooTrue, then hello activity runs again.</span></span>  <span data-ttu-id="23b15-256">Om hello-uttrycket matchar tooFalse sedan hello aktiviteten körs inte igen och hello runbook flyttar toohello nästa aktivitet.</span><span class="sxs-lookup"><span data-stu-id="23b15-256">If hello expression resolves tooFalse then hello activity does not run again, and hello runbook moves on toohello next activity.</span></span> 

![Fördröjning av försök igen om en aktivitet](media/automation-graphical-authoring-intro/retry-condition.png)

<span data-ttu-id="23b15-258">hello försök villkor kan använda en variabel med namnet $RetryData som ger åtkomst tooinformation om hello återförsök för aktiviteten.</span><span class="sxs-lookup"><span data-stu-id="23b15-258">hello retry condition can use a variable called $RetryData that provides access tooinformation about hello activity retries.</span></span>  <span data-ttu-id="23b15-259">Den här variabeln har hello egenskaper i hello i den följande tabellen.</span><span class="sxs-lookup"><span data-stu-id="23b15-259">This variable has hello properties in hello following table.</span></span>

| <span data-ttu-id="23b15-260">Egenskap</span><span class="sxs-lookup"><span data-stu-id="23b15-260">Property</span></span> | <span data-ttu-id="23b15-261">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="23b15-261">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="23b15-262">NumberOfAttempts</span><span class="sxs-lookup"><span data-stu-id="23b15-262">NumberOfAttempts</span></span> |<span data-ttu-id="23b15-263">Antalet gånger som hello aktiviteten har körts.</span><span class="sxs-lookup"><span data-stu-id="23b15-263">Number of times that hello activity has been run.</span></span> |
| <span data-ttu-id="23b15-264">Resultat</span><span class="sxs-lookup"><span data-stu-id="23b15-264">Output</span></span> |<span data-ttu-id="23b15-265">Utdata från hello senast kördes på hello-aktivitet.</span><span class="sxs-lookup"><span data-stu-id="23b15-265">Output from hello last run of hello activity.</span></span> |
| <span data-ttu-id="23b15-266">TotalDuration</span><span class="sxs-lookup"><span data-stu-id="23b15-266">TotalDuration</span></span> |<span data-ttu-id="23b15-267">Tidsgränsen gått sedan hello aktiviteten startades hello första gången.</span><span class="sxs-lookup"><span data-stu-id="23b15-267">Timed elapsed since hello activity was started hello first time.</span></span> |
| <span data-ttu-id="23b15-268">StartedAt</span><span class="sxs-lookup"><span data-stu-id="23b15-268">StartedAt</span></span> |<span data-ttu-id="23b15-269">Tid i UTC-format hello aktiviteten startades först.</span><span class="sxs-lookup"><span data-stu-id="23b15-269">Time in UTC format hello activity was first started.</span></span> |

<span data-ttu-id="23b15-270">Följande är exempel på aktiviteten försök villkor.</span><span class="sxs-lookup"><span data-stu-id="23b15-270">Following are examples of activity retry conditions.</span></span>

    # Run hello activity exactly 10 times.
    $RetryData.NumberOfAttempts -ge 10 

    # Run hello activity repeatedly until it produces any output.
    $RetryData.Output.Count -ge 1 

    # Run hello activity repeatedly until 2 minutes has elapsed. 
    $RetryData.TotalDuration.TotalMinutes -ge 2

<span data-ttu-id="23b15-271">När du har konfigurerat ett villkor för återförsök för aktiviteten hello omfattar två visuella tips tooremind du.</span><span class="sxs-lookup"><span data-stu-id="23b15-271">After you configure a retry condition for an activity, hello activity includes two visual cues tooremind you.</span></span>  <span data-ttu-id="23b15-272">En presenteras i hello aktivitet och hello andra är när du granskar hello konfigurationen av hello-aktivitet.</span><span class="sxs-lookup"><span data-stu-id="23b15-272">One is presented in hello activity and hello other is when you review hello configuration of hello activity.</span></span>

![Visuella indikatorer för återförsök för aktivitet](media/automation-graphical-authoring-intro/runbook-activity-retry-visual-cue.png)

### <a name="workflow-script-control"></a><span data-ttu-id="23b15-274">Arbetsflödeskontroll för skript</span><span class="sxs-lookup"><span data-stu-id="23b15-274">Workflow Script control</span></span>
<span data-ttu-id="23b15-275">En kod kontroll är en särskild aktivitet som accepterar PowerShell eller PowerShell-arbetsflöde skript beroende på hello typ av grafisk runbook som skapats i ordning tooprovide funktioner som annars inte kanske tillgänglig.</span><span class="sxs-lookup"><span data-stu-id="23b15-275">A Code control is a special activity that accepts PowerShell or PowerShell Workflow script depending on hello type of graphical runbook being authored in order tooprovide functionality that may otherwise not be available.</span></span>  <span data-ttu-id="23b15-276">Den kan inte acceptera parametrar, men den kan använda variabler för aktivitetens utdata och runbook-indataparametrar.</span><span class="sxs-lookup"><span data-stu-id="23b15-276">It cannot accept parameters, but it can use variables for activity output and runbook input parameters.</span></span>  <span data-ttu-id="23b15-277">Alla utdata för hello aktiviteten läggs toohello databussen om den inte har ingen utgående länk i vilket fall det läggs toohello utdata från hello runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-277">Any output of hello activity is added toohello databus unless it has no outgoing link in which case it is added toohello output of hello runbook.</span></span>

<span data-ttu-id="23b15-278">Till exempel beräkningar hello följande kod datum med hjälp av en runbook inkommande variabel med namnet $NumberOfDays.</span><span class="sxs-lookup"><span data-stu-id="23b15-278">For example hello following code performs date calculations using a runbook input variable called $NumberOfDays.</span></span>  <span data-ttu-id="23b15-279">Sedan skickar den ett beräknat datum tid som utdata toobe som används av efterföljande aktiviteter i hello runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-279">It then sends a calculated date time as output toobe used by subsequent activities in hello runbook.</span></span>

    $DateTimeNow = (Get-Date).ToUniversalTime()
    $DateTimeStart = ($DateTimeNow).AddDays(-$NumberOfDays)}
    $DateTimeStart


## <a name="links-and-workflow"></a><span data-ttu-id="23b15-280">Länkar och arbetsflöde</span><span class="sxs-lookup"><span data-stu-id="23b15-280">Links and workflow</span></span>
<span data-ttu-id="23b15-281">En **länk** ansluter två aktiviteter i en grafisk runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-281">A **link** in a graphical runbook connects two activities.</span></span>  <span data-ttu-id="23b15-282">Den visas på arbetsytan hello som en pil som pekar från hello källa aktiviteten toohello målaktiviteten.</span><span class="sxs-lookup"><span data-stu-id="23b15-282">It is displayed on hello canvas as an arrow pointing from hello source activity toohello destination activity.</span></span>  <span data-ttu-id="23b15-283">hello aktiviteter körs i hello riktning hello pilen med hello målaktiviteten startar när hello källaktiviteten har slutförts.</span><span class="sxs-lookup"><span data-stu-id="23b15-283">hello activities run in hello direction of hello arrow with hello destination activity starting after hello source activity completes.</span></span>  

### <a name="create-a-link"></a><span data-ttu-id="23b15-284">Skapa en länk</span><span class="sxs-lookup"><span data-stu-id="23b15-284">Create a link</span></span>
<span data-ttu-id="23b15-285">Skapa en länk mellan två aktiviteter genom att välja hello källaktiviteten och klicka på hello cirkel längst hello hello form.</span><span class="sxs-lookup"><span data-stu-id="23b15-285">Create a link between two activities by selecting hello source activity and clicking hello circle at hello bottom of hello shape.</span></span>  <span data-ttu-id="23b15-286">Dra hello pilen toohello målaktiviteten och version.</span><span class="sxs-lookup"><span data-stu-id="23b15-286">Drag hello arrow toohello destination activity and release.</span></span>

![Skapa en länk](media/automation-graphical-authoring-intro/create-link-revised20165.png)

<span data-ttu-id="23b15-288">Välj hello länken tooconfigure dess egenskaper i hello Configuration bladet.</span><span class="sxs-lookup"><span data-stu-id="23b15-288">Select hello link tooconfigure its properties in hello Configuration blade.</span></span>  <span data-ttu-id="23b15-289">Detta inkluderar hello länktypen som beskrivs i följande tabell hello.</span><span class="sxs-lookup"><span data-stu-id="23b15-289">This will include hello link type which is described in hello following table.</span></span>

| <span data-ttu-id="23b15-290">Länktypen</span><span class="sxs-lookup"><span data-stu-id="23b15-290">Link Type</span></span> | <span data-ttu-id="23b15-291">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="23b15-291">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="23b15-292">Pipeline</span><span class="sxs-lookup"><span data-stu-id="23b15-292">Pipeline</span></span> |<span data-ttu-id="23b15-293">hello-målaktiviteten körs en gång för varje objektutdata från hello källaktiviteten.</span><span class="sxs-lookup"><span data-stu-id="23b15-293">hello destination activity is run once for each object output from hello source activity.</span></span>  <span data-ttu-id="23b15-294">hello-målaktiviteten körs inte om hello källaktiviteten ger inga utdata.</span><span class="sxs-lookup"><span data-stu-id="23b15-294">hello destination activity does not run if hello source activity results in no output.</span></span>  <span data-ttu-id="23b15-295">Utdata från källaktiviteten hello är tillgänglig som ett objekt.</span><span class="sxs-lookup"><span data-stu-id="23b15-295">Output from hello source activity is available as an object.</span></span> |
| <span data-ttu-id="23b15-296">Sekvens</span><span class="sxs-lookup"><span data-stu-id="23b15-296">Sequence</span></span> |<span data-ttu-id="23b15-297">hello-målaktiviteten körs en gång.</span><span class="sxs-lookup"><span data-stu-id="23b15-297">hello destination activity runs only once.</span></span>  <span data-ttu-id="23b15-298">Den tar emot en matris med objekt från hello källaktiviteten.</span><span class="sxs-lookup"><span data-stu-id="23b15-298">It receives an array of objects from hello source activity.</span></span>  <span data-ttu-id="23b15-299">Utdata från hello källa aktivitet är tillgänglig som en matris med objekt.</span><span class="sxs-lookup"><span data-stu-id="23b15-299">Output from hello source activity is available as an array of objects.</span></span> |

### <a name="starting-activity"></a><span data-ttu-id="23b15-300">Startar aktivitet</span><span class="sxs-lookup"><span data-stu-id="23b15-300">Starting activity</span></span>
<span data-ttu-id="23b15-301">En grafisk runbook startar med aktiviteter som inte har en inkommande anslutning.</span><span class="sxs-lookup"><span data-stu-id="23b15-301">A graphical runbook will start with any activities that do not have an incoming link.</span></span>  <span data-ttu-id="23b15-302">Det här är ofta bara en aktivitet som skulle fungera som hello startar aktivitet för hello runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-302">This will often be only one activity which would act as hello starting activity for hello runbook.</span></span>  <span data-ttu-id="23b15-303">Om flera aktiviteter inte har en inkommande anslutning, startar hello runbook genom att köra dem parallellt.</span><span class="sxs-lookup"><span data-stu-id="23b15-303">If multiple activities do not have an incoming link, then hello runbook will start by running them in parallel.</span></span>  <span data-ttu-id="23b15-304">Den sedan följer hello länkar toorun andra aktiviteter som varje är klar.</span><span class="sxs-lookup"><span data-stu-id="23b15-304">It will then follow hello links toorun other activities as each completes.</span></span>

### <a name="conditions"></a><span data-ttu-id="23b15-305">Villkor</span><span class="sxs-lookup"><span data-stu-id="23b15-305">Conditions</span></span>
<span data-ttu-id="23b15-306">När du anger ett villkor på en länk körs bara hello målaktiviteten om hello villkoret löser tootrue.</span><span class="sxs-lookup"><span data-stu-id="23b15-306">When you specify a condition on a link, hello destination activity is only run if hello condition resolves tootrue.</span></span>  <span data-ttu-id="23b15-307">Normalt använder du en $ActivityOutput variabel i ett villkor tooretrieve hello utdata från hello källaktiviteten.</span><span class="sxs-lookup"><span data-stu-id="23b15-307">You will typically use an $ActivityOutput variable in a condition tooretrieve hello output from hello source activity.</span></span>  

<span data-ttu-id="23b15-308">Du anger ett villkor för ett enskilt objekt för en pipelinelänk och hello villkoret har utvärderats för varje objektutdata i hello källaktiviteten.</span><span class="sxs-lookup"><span data-stu-id="23b15-308">For a pipeline link, you specify a condition for a single object, and hello condition is evaluated for each object output by hello source activity.</span></span>  <span data-ttu-id="23b15-309">hello-målaktiviteten körs sedan för varje objekt som uppfyller hello villkor.</span><span class="sxs-lookup"><span data-stu-id="23b15-309">hello destination activity is then run for each object that satisfies hello condition.</span></span>  <span data-ttu-id="23b15-310">Till exempel med en Källaktivitet för Get-AzureRmVm hello följande syntax kan användas för en villkorlig pipeline länken tooretrieve endast virtuella datorer i hello resursgrupp med namnet *Group1*.</span><span class="sxs-lookup"><span data-stu-id="23b15-310">For example, with a source activity of Get-AzureRmVm, hello following syntax could be used for a conditional pipeline link tooretrieve only virtual machines in hello resource group named *Group1*.</span></span>  

    $ActivityOutput['Get Azure VMs'].Name -match "Group1"

<span data-ttu-id="23b15-311">För en sekvens-länk, är bara hello villkoret utvärderas som det en gång eftersom returneras en matris som innehåller alla objekt utdata från hello källaktiviteten.</span><span class="sxs-lookup"><span data-stu-id="23b15-311">For a sequence link, hello condition is only evaluated once since a single array is returned containing all objects output from hello source activity.</span></span>  <span data-ttu-id="23b15-312">Därför en länk i aktivitetssekvensen kan inte användas för att filtrera som en pipelinelänk, men bara avgör huruvida hello nästa aktivitet körs.</span><span class="sxs-lookup"><span data-stu-id="23b15-312">Because of this, a sequence link cannot be used for filtering like a pipeline link but will simply determine whether or not hello next activity is run.</span></span> <span data-ttu-id="23b15-313">Ta till exempel hello följande uppsättning aktiviteter i vår starta VM-runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-313">Take for example hello following set of activities in our Start VM runbook.</span></span><br> <span data-ttu-id="23b15-314">![Villkorlig länk med sekvenser](media/automation-graphical-authoring-intro/runbook-conditional-links-sequence.png)</span><span class="sxs-lookup"><span data-stu-id="23b15-314">![Conditional Link with Sequences](media/automation-graphical-authoring-intro/runbook-conditional-links-sequence.png)</span></span><br>
<span data-ttu-id="23b15-315">Det finns tre olika sekvens länkar som verifierar värden angavs tootwo runbook indataparametrar som representerar namn på virtuell dator och resursgruppens namn i ordning toodetermine som är hello lämplig åtgärd tootake - startar en enskild virtuell dator, starta alla virtuella datorer i hello resurs-grupp, eller alla virtuella datorer i en prenumeration.</span><span class="sxs-lookup"><span data-stu-id="23b15-315">There are three different sequence links that are verifying values were provided tootwo runbook input parameters representing VM name and Resource Group name in order toodetermine which is hello appropriate action tootake - start a single VM, start all VMs in hello resouce group, or all VMs in a subscription.</span></span>  <span data-ttu-id="23b15-316">Här är hello sekvens länken mellan Anslut tooAzure och Get enskild VM, hello villkoret logik:</span><span class="sxs-lookup"><span data-stu-id="23b15-316">For hello sequence link between Connect tooAzure and Get single VM, here is hello condition logic:</span></span>

    <# 
    Both VMName and ResourceGroupName runbook input parameters have values 
    #>
    (
    (($VMName -ne $null) -and ($VMName.Length -gt 0))
    ) -and (
    (($ResourceGroupName -ne $null) -and ($ResourceGroupName.Length -gt 0))
    )

<span data-ttu-id="23b15-317">När du använder en villkorlig länk filtreras hello data är tillgängliga från hello källa aktivitet tooother aktiviteter i den grenen av hello villkoret.</span><span class="sxs-lookup"><span data-stu-id="23b15-317">When you use a conditional link, hello data available from hello source activity tooother activities in that branch will be filtered by hello condition.</span></span>  <span data-ttu-id="23b15-318">Om en aktivitet är hello källa toomultiple länkar, sedan hello data tillgängliga tooactivities i varje gren beror på hello villkor i hello länken ansluter toothat grenen.</span><span class="sxs-lookup"><span data-stu-id="23b15-318">If an activity is hello source toomultiple links, then hello data available tooactivities in each branch will depend on hello condition in hello link connecting toothat branch.</span></span>

<span data-ttu-id="23b15-319">Till exempel hello **Start AzureRmVm** i hello runbook nedan startar alla virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="23b15-319">For example, hello **Start-AzureRmVm** activity in hello runbook below starts all virtual machines.</span></span>  <span data-ttu-id="23b15-320">Den har två villkorliga länkar.</span><span class="sxs-lookup"><span data-stu-id="23b15-320">It has two conditional links.</span></span>  <span data-ttu-id="23b15-321">hello första villkorlig länken använder hello uttryck *$ActivityOutput ['Start-AzureRmVM']. IsSuccessStatusCode - eq $true* toofilter om hello Start AzureRmVm aktivitet har slutförts.</span><span class="sxs-lookup"><span data-stu-id="23b15-321">hello first conditional link uses hello expression *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true* toofilter if hello Start-AzureRmVm activity completed successfully.</span></span>  <span data-ttu-id="23b15-322">hello använder andra hello uttryck *$ActivityOutput ['Start-AzureRmVM']. IsSuccessStatusCode - ne $true* toofilter om hello Start AzureRmVm aktiviteten misslyckades toostart hello virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="23b15-322">hello second uses hello expression *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true* toofilter if hello Start-AzureRmVm activity failed toostart hello virtual machine.</span></span>  

![Exempel på villkorlig länk](media/automation-graphical-authoring-intro/runbook-conditional-links.png)

<span data-ttu-id="23b15-324">Alla aktiviteter som följer hello första länken och använder hello aktivitetsutdata från Get-AzureVM får endast hello virtuella datorer som startades vid hello tidpunkt som Get-AzureVM kördes.</span><span class="sxs-lookup"><span data-stu-id="23b15-324">Any activity that follows hello first link and uses hello activity output from Get-AzureVM will only get hello virtual machines that were started at hello time that Get-AzureVM was run.</span></span>  <span data-ttu-id="23b15-325">Alla aktiviteter som följer hello andra länken får endast hello hello virtuella datorer som har stoppats för närvarande hello som Get-AzureVM kördes.</span><span class="sxs-lookup"><span data-stu-id="23b15-325">Any activity that follows hello second link will only get hello hello virtual machines that were stopped at hello time that Get-AzureVM was run.</span></span>  <span data-ttu-id="23b15-326">Alla aktiviteter efter hello tredje länken kommer alla virtuella datorer oavsett deras körtillstånd.</span><span class="sxs-lookup"><span data-stu-id="23b15-326">Any activity following hello third link will get all virtual machines regardless of their running state.</span></span>

### <a name="junctions"></a><span data-ttu-id="23b15-327">Vägkorsningar</span><span class="sxs-lookup"><span data-stu-id="23b15-327">Junctions</span></span>
<span data-ttu-id="23b15-328">Knutpunkt är en särskild aktivitet som ska vänta tills inkommande grenar har slutförts.</span><span class="sxs-lookup"><span data-stu-id="23b15-328">A junction is a special activity that will wait until all incoming branches have completed.</span></span>  <span data-ttu-id="23b15-329">Detta gör att du toorun flera aktiviteter parallellt och se till att alla har slutförts innan du fortsätter.</span><span class="sxs-lookup"><span data-stu-id="23b15-329">This allows you toorun multiple activities in parallel and ensure that all have completed before moving on.</span></span>

<span data-ttu-id="23b15-330">När en förgrening kan ha ett obegränsat antal inkommande länkar, kan inte mer än en av dessa länkar vara en pipeline.</span><span class="sxs-lookup"><span data-stu-id="23b15-330">While a junction can have an unlimited number of incoming links, not more than one of those links can be a pipeline.</span></span>  <span data-ttu-id="23b15-331">hello antalet inkommande sekvens länkar är inte begränsad.</span><span class="sxs-lookup"><span data-stu-id="23b15-331">hello number of incoming sequence links is not constrained.</span></span>  <span data-ttu-id="23b15-332">Du får toocreate hello knutpunkt med flera inkommande pipeline-länkar och sparar hello runbook, men misslyckas när den körs.</span><span class="sxs-lookup"><span data-stu-id="23b15-332">You will be allowed toocreate hello junction with multiple incoming pipeline links and save hello runbook, but it will fail when it is run.</span></span>

<span data-ttu-id="23b15-333">hello exemplet nedan är en del av en runbook som startar en uppsättning virtuella datorer när samtidigt hämta korrigeringsfiler toobe tillämpas toothose datorer.</span><span class="sxs-lookup"><span data-stu-id="23b15-333">hello example below is part of a runbook that starts a set of virtual machines while simultaneously downloading patches toobe applied toothose machines.</span></span>  <span data-ttu-id="23b15-334">Knutpunkt är används tooensure att båda dessa förfaranden måste slutföras innan hello runbook fortsätter.</span><span class="sxs-lookup"><span data-stu-id="23b15-334">A junction is used tooensure that both processes are completed before hello runbook continues.</span></span>

![Knutpunkt](media/automation-graphical-authoring-intro/runbook-junction.png)

### <a name="cycles"></a><span data-ttu-id="23b15-336">Cykler</span><span class="sxs-lookup"><span data-stu-id="23b15-336">Cycles</span></span>
<span data-ttu-id="23b15-337">En cykel är när en målaktiviteten länkar tillbaka tooits datakällan aktivitet eller tooanother aktiviteten att så småningom länkar tillbaka tooits källa.</span><span class="sxs-lookup"><span data-stu-id="23b15-337">A cycle is when a destination activity links back tooits source activity or tooanother activity that eventually links back tooits source.</span></span>  <span data-ttu-id="23b15-338">Cykler tillåts inte för närvarande i grafiska redigering.</span><span class="sxs-lookup"><span data-stu-id="23b15-338">Cycles are currently not allowed in graphical authoring.</span></span>  <span data-ttu-id="23b15-339">Om din runbook har en cykel, kommer att sparas korrekt men får ett felmeddelande när den körs.</span><span class="sxs-lookup"><span data-stu-id="23b15-339">If your runbook has a cycle, it will save properly but will receive an error when it runs.</span></span>

![Cykel](media/automation-graphical-authoring-intro/runbook-cycle.png)

### <a name="sharing-data-between-activities"></a><span data-ttu-id="23b15-341">Dela data mellan aktiviteter</span><span class="sxs-lookup"><span data-stu-id="23b15-341">Sharing data between activities</span></span>
<span data-ttu-id="23b15-342">Alla data som är resultatet av en aktivitet med en utgående anslutning av skrivs toohello *databussen* för hello runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-342">Any data that is output by an activity with an outgoing link is written toohello *databus* for hello runbook.</span></span>  <span data-ttu-id="23b15-343">Alla aktiviteter i hello runbook kan använda data på hello databussen toopopulate parametervärden eller inkludera i skriptkod.</span><span class="sxs-lookup"><span data-stu-id="23b15-343">Any activity in hello runbook can use data on hello databus toopopulate parameter values or include in script code.</span></span>  <span data-ttu-id="23b15-344">En aktivitet kan komma åt hello utdata från alla föregående aktiviteter i hello arbetsflöde.</span><span class="sxs-lookup"><span data-stu-id="23b15-344">An activity can access hello output of any previous activity in hello workflow.</span></span>     

<span data-ttu-id="23b15-345">Hur hello data skrivs toohello databussen beror på hello typ av länk på hello-aktivitet.</span><span class="sxs-lookup"><span data-stu-id="23b15-345">How hello data is written toohello databus depends on hello type of link on hello activity.</span></span>  <span data-ttu-id="23b15-346">För en **pipeline**, hello data visas som multiplar objekt.</span><span class="sxs-lookup"><span data-stu-id="23b15-346">For a **pipeline**, hello data is output as multiples objects.</span></span>  <span data-ttu-id="23b15-347">För en **sekvens** länka, hello data visas som en matris.</span><span class="sxs-lookup"><span data-stu-id="23b15-347">For a **sequence** link, hello data is output as an array.</span></span>  <span data-ttu-id="23b15-348">Om det finns bara ett värde, blir resultatet som ett enstaka element-matris.</span><span class="sxs-lookup"><span data-stu-id="23b15-348">If there is only one value, it will be output as a single element array.</span></span>

<span data-ttu-id="23b15-349">Du kan komma åt data på hello databussen på något av två sätt.</span><span class="sxs-lookup"><span data-stu-id="23b15-349">You can access data on hello databus using one of two methods.</span></span>  <span data-ttu-id="23b15-350">Först använder en **Aktivitetsutdata** datakällan toopopulate en parameter av en annan aktivitet.</span><span class="sxs-lookup"><span data-stu-id="23b15-350">First is using an **Activity Output** data source toopopulate a parameter of another activity.</span></span>  <span data-ttu-id="23b15-351">Om hello utdata är ett objekt, kan du ange en enskild egenskap.</span><span class="sxs-lookup"><span data-stu-id="23b15-351">If hello output is an object, you can specify a single property.</span></span>

![Aktivitetsutdata](media/automation-graphical-authoring-intro/activity-output-datasource-revised20165.png)

<span data-ttu-id="23b15-353">Du kan också hämta hello utdata för en aktivitet i en **PowerShell-uttryck** datakällan eller från en **Arbetsflödesskriptet** aktivitet med en ActivityOutput-variabel.</span><span class="sxs-lookup"><span data-stu-id="23b15-353">You can also retrieve hello output of an activity in a **PowerShell Expression** data source or from a **Workflow Script** activity with an ActivityOutput variable.</span></span>  <span data-ttu-id="23b15-354">Om hello utdata är ett objekt, kan du ange en enskild egenskap.</span><span class="sxs-lookup"><span data-stu-id="23b15-354">If hello output is an object, you can specify a single property.</span></span>  <span data-ttu-id="23b15-355">ActivityOutput variabler använda hello följande syntax.</span><span class="sxs-lookup"><span data-stu-id="23b15-355">ActivityOutput variables use hello following syntax.</span></span>

    $ActivityOutput['Activity Label']
    $ActivityOutput['Activity Label'].PropertyName 

### <a name="checkpoints"></a><span data-ttu-id="23b15-356">Kontrollpunkter</span><span class="sxs-lookup"><span data-stu-id="23b15-356">Checkpoints</span></span>
<span data-ttu-id="23b15-357">Du kan ange [kontrollpunkter](automation-powershell-workflow.md#checkpoints) i en grafisk PowerShell-arbetsflödesrunbook genom att välja *kontrollpunkt runbook* på alla aktiviteter.</span><span class="sxs-lookup"><span data-stu-id="23b15-357">You can set [checkpoints](automation-powershell-workflow.md#checkpoints) in a Graphical PowerShell Workflow runbook by selecting *Checkpoint runbook* on any activity.</span></span>  <span data-ttu-id="23b15-358">Detta leder till en kontrollpunkt toobe efter hello aktiviteten körs.</span><span class="sxs-lookup"><span data-stu-id="23b15-358">This causes a checkpoint toobe set after hello activity runs.</span></span>

![Kontrollpunkt](media/automation-graphical-authoring-intro/set-checkpoint.png)

<span data-ttu-id="23b15-360">Kontrollpunkter är endast aktiverad i grafisk PowerShell-arbetsflöde runbooks, den är inte tillgänglig i grafiska runbook-flöden.</span><span class="sxs-lookup"><span data-stu-id="23b15-360">Checkpoints are only enabled in Graphical PowerShell Workflow runbooks, it is not available in Graphical runbooks.</span></span>  <span data-ttu-id="23b15-361">Om hello runbook använder Azure-cmdlets, ska du följa eventuella kontrollpunkt aktivitet med en Add-AzureRMAccount om hello runbook stoppas och startas om från den här kontrollpunkten på en annan worker.</span><span class="sxs-lookup"><span data-stu-id="23b15-361">If hello runbook uses Azure cmdlets, you should follow any checkpointed activity with an Add-AzureRMAccount in case hello runbook is suspended and restarts from this checkpoint on a different worker.</span></span> 

## <a name="authenticating-tooazure-resources"></a><span data-ttu-id="23b15-362">Autentisera tooAzure resurser</span><span class="sxs-lookup"><span data-stu-id="23b15-362">Authenticating tooAzure resources</span></span>
<span data-ttu-id="23b15-363">Runbooks som hanterar Azure-resurser i Azure Automation kräver autentisering tooAzure.</span><span class="sxs-lookup"><span data-stu-id="23b15-363">Runbooks in Azure Automation that manage Azure resources will require authentication tooAzure.</span></span>  <span data-ttu-id="23b15-364">Hej [kör som-konto](automation-offering-get-started.md#creating-an-automation-account) (även hänvisade tooas ett huvudnamn för tjänsten) är hello standard metoden tooaccess Azure Resource Manager-resurser i din prenumeration med Automation-runbooks.</span><span class="sxs-lookup"><span data-stu-id="23b15-364">hello [Run As account](automation-offering-get-started.md#creating-an-automation-account) (also referred tooas a service principal) is hello default method tooaccess Azure Resource Manager resources in your subscription with Automation runbooks.</span></span>  <span data-ttu-id="23b15-365">Du kan lägga till den här funktionen tooa grafisk runbook genom att lägga till hello **AzureRunAsConnection** anslutningstillgång som använder hello PowerShell [Get-AutomationConnection](https://technet.microsoft.com/library/dn919922%28v=sc.16%29.aspx) cmdlet, och [Add-AzureRmAccount](https://msdn.microsoft.com/library/mt619267.aspx) cmdlet toohello arbetsytan.</span><span class="sxs-lookup"><span data-stu-id="23b15-365">You can add this functionality tooa graphical runbook by adding hello **AzureRunAsConnection** Connection asset, which is using hello PowerShell [Get-AutomationConnection](https://technet.microsoft.com/library/dn919922%28v=sc.16%29.aspx) cmdlet, and [Add-AzureRmAccount](https://msdn.microsoft.com/library/mt619267.aspx) cmdlet toohello canvas.</span></span> <span data-ttu-id="23b15-366">Detta illustreras i följande exempel hello.</span><span class="sxs-lookup"><span data-stu-id="23b15-366">This is illustrated in hello following example.</span></span><br><span data-ttu-id="23b15-367">![Kör som-aktiviteter för autentisering](media/automation-graphical-authoring-intro/authenticate-run-as-account.png)</span><span class="sxs-lookup"><span data-stu-id="23b15-367">![Run As Authentication Activities](media/automation-graphical-authoring-intro/authenticate-run-as-account.png)</span></span><br>
<span data-ttu-id="23b15-368">hello aktiviteten hämta kör som-anslutning (d.v.s. Get-AutomationConnection), har konfigurerats med ett konstant värde-datakälla med namnet AzureRunAsConnection.</span><span class="sxs-lookup"><span data-stu-id="23b15-368">hello Get Run As Connection activity (i.e. Get-AutomationConnection), is configured with a constant value data source named AzureRunAsConnection.</span></span><br><span data-ttu-id="23b15-369">![Kör som-anslutningskonfiguration](media/automation-graphical-authoring-intro/authenticate-runas-parameterset.png)</span><span class="sxs-lookup"><span data-stu-id="23b15-369">![Run As Connection Configuration](media/automation-graphical-authoring-intro/authenticate-runas-parameterset.png)</span></span><br>
<span data-ttu-id="23b15-370">hello nästa aktivitet, Add-AzureRmAccount lägger till hello autentiserad kör som-konto för användning i hello runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-370">hello next activity, Add-AzureRmAccount, adds hello authenticated Run As account for use in hello runbook.</span></span><br><span data-ttu-id="23b15-371">
![Lägg till AzureRmAccount parameteruppsättning](media/automation-graphical-authoring-intro/authenticate-conn-to-azure-parameter-set.png)</span><span class="sxs-lookup"><span data-stu-id="23b15-371">
![Add-AzureRmAccount Parameter Set](media/automation-graphical-authoring-intro/authenticate-conn-to-azure-parameter-set.png)</span></span><br>
<span data-ttu-id="23b15-372">För hello parametrar **APPLICATIONID**, **CERTIFICATETHUMBPRINT**, och **TENANTID** behöver du toospecify hello namnet på hello egenskap för hello fältet sökvägen eftersom hello aktivitet matar ut ett objekt med flera egenskaper.</span><span class="sxs-lookup"><span data-stu-id="23b15-372">For hello parameters **APPLICATIONID**, **CERTIFICATETHUMBPRINT**, and **TENANTID** you will need toospecify hello name of hello property for hello Field path because hello activity outputs an object with multiple properties.</span></span>  <span data-ttu-id="23b15-373">När du kör hello runbook misslyckas det annars när tooauthenticate.</span><span class="sxs-lookup"><span data-stu-id="23b15-373">Otherwise when you execute hello runbook, it will fail attempting tooauthenticate.</span></span>  <span data-ttu-id="23b15-374">Det här är vad du behöver en minsta tooauthenticate din runbook med hello kör som-konto.</span><span class="sxs-lookup"><span data-stu-id="23b15-374">This is what you need at a minimum tooauthenticate your runbook with hello Run As account.</span></span>

<span data-ttu-id="23b15-375">toomaintain bakåtkompatibilitet kompatibilitetsnivån för prenumeranter som har skapat ett Automation-konto med hjälp av en [Azure AD-användarkontot](automation-create-aduser-account.md) toomanage Azure klassisk distribution eller hello metoden tooauthenticate för Azure Resource Manager-resurser är hello Add-AzureAccount cmdlet med ett [autentiseringsuppgiftstillgång](automation-credentials.md) som representerar en Active Directory-användare med åtkomst toohello Azure-konto.</span><span class="sxs-lookup"><span data-stu-id="23b15-375">toomaintain backwards compatibility for subscribers who have created an Automation account using an [Azure AD User account](automation-create-aduser-account.md) toomanage Azure classic deployment or for Azure Resource Manager resources, hello method tooauthenticate is hello Add-AzureAccount cmdlet with a [credential asset](automation-credentials.md) that represents an Active Directory user with access toohello Azure account.</span></span>

<span data-ttu-id="23b15-376">Du kan lägga till den här funktionen tooa grafisk runbook genom att lägga till autentiseringsuppgifter tillgången toohello arbetsytan följt av en Add-AzureAccount aktivitet.</span><span class="sxs-lookup"><span data-stu-id="23b15-376">You can add this functionality tooa graphical runbook by adding a credential asset toohello canvas followed by an Add-AzureAccount activity.</span></span>  <span data-ttu-id="23b15-377">Lägg till AzureAccount använder hello autentiseringsuppgifter aktivitet för indata.</span><span class="sxs-lookup"><span data-stu-id="23b15-377">Add-AzureAccount uses hello credential activity for its input.</span></span>  <span data-ttu-id="23b15-378">Detta illustreras i följande exempel hello.</span><span class="sxs-lookup"><span data-stu-id="23b15-378">This is illustrated in hello following example.</span></span>

![Autentisering aktiviteter](media/automation-graphical-authoring-intro/authentication-activities.png)

<span data-ttu-id="23b15-380">Du har tooauthenticate hello början hello runbook och efter varje kontrollpunkt.</span><span class="sxs-lookup"><span data-stu-id="23b15-380">You have tooauthenticate at hello start of hello runbook and after each checkpoint.</span></span>  <span data-ttu-id="23b15-381">Det innebär att lägga till en tillägg Add-AzureAccount aktivitet efter alla Checkpoint-Workflow aktivitet.</span><span class="sxs-lookup"><span data-stu-id="23b15-381">This means adding an addition Add-AzureAccount activity after any Checkpoint-Workflow activity.</span></span> <span data-ttu-id="23b15-382">Du behöver inte lägga autentiseringsuppgifter aktivitet eftersom du kan använda hello samma</span><span class="sxs-lookup"><span data-stu-id="23b15-382">You do not need an addition credential activity since you can use hello same</span></span> 

![Aktivitetsutdata](media/automation-graphical-authoring-intro/authentication-activity-output.png)

## <a name="runbook-input-and-output"></a><span data-ttu-id="23b15-384">Runbook indata och utdata</span><span class="sxs-lookup"><span data-stu-id="23b15-384">Runbook input and output</span></span>
### <a name="runbook-input"></a><span data-ttu-id="23b15-385">Runbook-indata</span><span class="sxs-lookup"><span data-stu-id="23b15-385">Runbook input</span></span>
<span data-ttu-id="23b15-386">En runbook kan kräva indata antingen från en användare när de startar hello runbook via hello Azure-portalen eller från en annan runbook om hello aktuella används som en underordnad.</span><span class="sxs-lookup"><span data-stu-id="23b15-386">A runbook may require input either from a user when they start hello runbook through hello Azure portal or from another runbook if hello current one is used as a child.</span></span>
<span data-ttu-id="23b15-387">Till exempel om du har en runbook som skapar en virtuell dator kan behöva du tooprovide information, till exempel hello namn för hello virtuell dator och andra egenskaper varje gång du startar hello runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-387">For example, if you have a runbook that creates a virtual machine, you may need tooprovide information such as hello name of hello virtual machine and other properties each time you start hello runbook.</span></span>  

<span data-ttu-id="23b15-388">Du accepterar indata för en runbook genom att definiera en eller flera indataparametrar.</span><span class="sxs-lookup"><span data-stu-id="23b15-388">You accept input for a runbook by defining one or more input parameters.</span></span>  <span data-ttu-id="23b15-389">Du kan ange värden för parametrarna varje gång hello runbook startas.</span><span class="sxs-lookup"><span data-stu-id="23b15-389">You provide values for these parameters each time hello runbook is started.</span></span>  <span data-ttu-id="23b15-390">När du startar en runbook med hello Azure-portalen, blir du ombedd tooprovide värden för hello av hello runbook indataparametrar.</span><span class="sxs-lookup"><span data-stu-id="23b15-390">When you start a runbook with hello Azure portal, it will prompt you tooprovide values for hello each of hello runbook's input parameters.</span></span>

<span data-ttu-id="23b15-391">Du kan komma åt indataparametrar för en runbook genom att klicka på hello **ingående och utgående** i verktygsfältet hello runbook.</span><span class="sxs-lookup"><span data-stu-id="23b15-391">You can access input parameters for a runbook by clicking hello **Input and output** button on hello runbook toolbar.</span></span>  

![Runbook-o](media/automation-graphical-authoring-intro/runbook-edit-input-output.png) 

<span data-ttu-id="23b15-393">Då öppnas hello **indata och utdata** kontroll där du kan redigera en befintlig indataparameter eller skapa en ny genom att klicka på **lägga till indata**.</span><span class="sxs-lookup"><span data-stu-id="23b15-393">This opens hello **Input and Output** control where you can edit an existing input parameter or create a new one by clicking **Add input**.</span></span> 

![Lägga till indata](media/automation-graphical-authoring-intro/runbook-edit-add-input.png)

<span data-ttu-id="23b15-395">Varje Indataparametern definieras av hello egenskaper i hello i den följande tabellen.</span><span class="sxs-lookup"><span data-stu-id="23b15-395">Each input parameter is defined by hello properties in hello following table.</span></span>

| <span data-ttu-id="23b15-396">Egenskap</span><span class="sxs-lookup"><span data-stu-id="23b15-396">Property</span></span> | <span data-ttu-id="23b15-397">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="23b15-397">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="23b15-398">Namn</span><span class="sxs-lookup"><span data-stu-id="23b15-398">Name</span></span> |<span data-ttu-id="23b15-399">hello unikt namn för hello-parametern.</span><span class="sxs-lookup"><span data-stu-id="23b15-399">hello unique name of hello parameter.</span></span>  <span data-ttu-id="23b15-400">Detta kan bara innehålla alfanumeriska tecken och får inte innehålla blanksteg.</span><span class="sxs-lookup"><span data-stu-id="23b15-400">This can only contain alpha numeric characters and cannot contain a space.</span></span> |
| <span data-ttu-id="23b15-401">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="23b15-401">Description</span></span> |<span data-ttu-id="23b15-402">En valfri beskrivning för hello indataparameter.</span><span class="sxs-lookup"><span data-stu-id="23b15-402">An optional description for hello input parameter.</span></span> |
| <span data-ttu-id="23b15-403">Typ</span><span class="sxs-lookup"><span data-stu-id="23b15-403">Type</span></span> |<span data-ttu-id="23b15-404">Datatypen för hello parametervärdet.</span><span class="sxs-lookup"><span data-stu-id="23b15-404">Data type expected for hello parameter value.</span></span>  <span data-ttu-id="23b15-405">hello Azure-portalen anger en lämplig kontroll för hello-datatypen för varje parameter vid fråga om indata.</span><span class="sxs-lookup"><span data-stu-id="23b15-405">hello Azure portal will provide an appropriate control for hello data type for each parameter when prompting for input.</span></span> |
| <span data-ttu-id="23b15-406">Obligatorisk</span><span class="sxs-lookup"><span data-stu-id="23b15-406">Mandatory</span></span> |<span data-ttu-id="23b15-407">Anger om ett värde måste anges för hello-parametern.</span><span class="sxs-lookup"><span data-stu-id="23b15-407">Specifies whether a value must be provided for hello parameter.</span></span>  <span data-ttu-id="23b15-408">Hej runbook kan inte startas om du inte anger ett värde för varje obligatorisk parameter som inte har något definierat standardvärde.</span><span class="sxs-lookup"><span data-stu-id="23b15-408">hello runbook cannot be started if you do not provide a value for each mandatory parameter that does not have a default value defined.</span></span> |
| <span data-ttu-id="23b15-409">Standardvärde</span><span class="sxs-lookup"><span data-stu-id="23b15-409">Default Value</span></span> |<span data-ttu-id="23b15-410">Anger vilket värde som ska användas för hello-parameter om inget anges.</span><span class="sxs-lookup"><span data-stu-id="23b15-410">Specifies what value is used for hello parameter if one is not provided.</span></span>  <span data-ttu-id="23b15-411">Detta kan antingen vara Null eller ett specifikt värde.</span><span class="sxs-lookup"><span data-stu-id="23b15-411">This can either be Null or a specific value.</span></span> |

### <a name="runbook-output"></a><span data-ttu-id="23b15-412">Utdata från Runbooks</span><span class="sxs-lookup"><span data-stu-id="23b15-412">Runbook output</span></span>
<span data-ttu-id="23b15-413">Data som skapats av alla aktiviteter som inte har en utgående anslutning läggs toohello [utdata från hello runbook](http://msdn.microsoft.com/library/azure/dn879148.aspx).</span><span class="sxs-lookup"><span data-stu-id="23b15-413">Data created by any activity that does not have an outgoing link will be added toohello [output of hello runbook](http://msdn.microsoft.com/library/azure/dn879148.aspx).</span></span>  <span data-ttu-id="23b15-414">hello utdata sparas med hello runbook-jobb och är tillgängliga tooa överordnad runbook när hello runbook används som en underordnad.</span><span class="sxs-lookup"><span data-stu-id="23b15-414">hello output is saved with hello runbook job and is available tooa parent runbook when hello runbook is used as a child.</span></span>  

## <a name="powershell-expressions"></a><span data-ttu-id="23b15-415">PowerShell-uttryck</span><span class="sxs-lookup"><span data-stu-id="23b15-415">PowerShell expressions</span></span>
<span data-ttu-id="23b15-416">En av hello fördelarna med grafiska redigering är att ge dig hello möjlighet toobuild en runbook med minimal kunskap om PowerShell.</span><span class="sxs-lookup"><span data-stu-id="23b15-416">One of hello advantages of graphical authoring is providing you with hello ability toobuild a runbook with minimal knowledge of PowerShell.</span></span>  <span data-ttu-id="23b15-417">För närvarande behöver tooknow lite PowerShell även om för att fylla vissa [parametervärden](#activities) och för inställningen [länka villkor](#links-and-workflow).</span><span class="sxs-lookup"><span data-stu-id="23b15-417">Currently, you do need tooknow a bit of PowerShell though for populating certain [parameter values](#activities) and for setting [link conditions](#links-and-workflow).</span></span>  <span data-ttu-id="23b15-418">Det här avsnittet ger en snabb introduktion tooPowerShell uttryck för de användare som inte kanske är bekant med den.</span><span class="sxs-lookup"><span data-stu-id="23b15-418">This section provides a quick introduction tooPowerShell expressions for those users who may not be familiar with it.</span></span>  <span data-ttu-id="23b15-419">Fullständig information om PowerShell finns på [med Windows PowerShell-skript](http://technet.microsoft.com/library/bb978526.aspx).</span><span class="sxs-lookup"><span data-stu-id="23b15-419">Full details of PowerShell are available at [Scripting with Windows PowerShell](http://technet.microsoft.com/library/bb978526.aspx).</span></span> 

### <a name="powershell-expression-data-source"></a><span data-ttu-id="23b15-420">Datakälla för PowerShell-uttryck</span><span class="sxs-lookup"><span data-stu-id="23b15-420">PowerShell expression data source</span></span>
<span data-ttu-id="23b15-421">Du kan använda ett PowerShell-uttryck som källa toopopulate hello värdet ett [Aktivitetsparametern](#activities) med PowerShell kod hello resultat.</span><span class="sxs-lookup"><span data-stu-id="23b15-421">You can use a PowerShell expression as a data source toopopulate hello value of an [activity parameter](#activities) with hello results of some PowerShell code.</span></span>  <span data-ttu-id="23b15-422">Detta kan vara en rad med kod som utför en enkel funktion eller flera rader som utför vissa komplex logik.</span><span class="sxs-lookup"><span data-stu-id="23b15-422">This could be a single line of code that performs some simple function or multiple lines that perform some complex logic.</span></span>  <span data-ttu-id="23b15-423">Alla utdata från ett kommando som inte är tilldelade tooa variabeln är utdata toohello parametervärdet.</span><span class="sxs-lookup"><span data-stu-id="23b15-423">Any output from a command that is not assigned tooa variable is output toohello parameter value.</span></span> 

<span data-ttu-id="23b15-424">Hello följande kommando skulle till exempel spara hello aktuellt datum.</span><span class="sxs-lookup"><span data-stu-id="23b15-424">For example, hello following command would output hello current date.</span></span> 

    Get-Date

<span data-ttu-id="23b15-425">hello följande kommandon och skapa en sträng från hello aktuellt datum och tilldela den tooa variabeln.</span><span class="sxs-lookup"><span data-stu-id="23b15-425">hello following commands build a string from hello current date and assign it tooa variable.</span></span>  <span data-ttu-id="23b15-426">hello innehållet i hello variabeln skickas sedan toohello utdata</span><span class="sxs-lookup"><span data-stu-id="23b15-426">hello contents of hello variable are then sent toohello output</span></span> 

    $string = "hello current date is " + (Get-Date)
    $string

<span data-ttu-id="23b15-427">hello följande kommandon och utvärdera hello aktuellt datum och returnerar en sträng som anger om hello aktuell dag är en helg eller veckodag.</span><span class="sxs-lookup"><span data-stu-id="23b15-427">hello following commands evaluate hello current date and return a string indicating whether hello current day is a weekend or weekday.</span></span> 

    $date = Get-Date
    if (($date.DayOfWeek = "Saturday") -or ($date.DayOfWeek = "Sunday")) { "Weekend" }
    else { "Weekday" }


### <a name="activity-output"></a><span data-ttu-id="23b15-428">Aktivitetsutdata</span><span class="sxs-lookup"><span data-stu-id="23b15-428">Activity output</span></span>
<span data-ttu-id="23b15-429">toouse hello utdata från en tidigare aktivitet i hello runbook, Använd hello $ActivityOutput variabel med hello följande syntax.</span><span class="sxs-lookup"><span data-stu-id="23b15-429">toouse hello output from a previous activity in hello runbook, use hello $ActivityOutput variable with hello following syntax.</span></span>

    $ActivityOutput['Activity Label'].PropertyName

<span data-ttu-id="23b15-430">Du kan till exempel ha en aktivitet med en egenskap som kräver hello namnet på en virtuell dator i så fall kan du använda hello efter uttryck.</span><span class="sxs-lookup"><span data-stu-id="23b15-430">For example, you may have an activity with a property that requires hello name of a virtual machine in which case you could use hello following expression.</span></span>

    $ActivityOutput['Get-AzureVm'].Name

<span data-ttu-id="23b15-431">Om hello-egenskap som krävs för hello virtuella datorobjekt i stället för bara en egenskap och du vill returnera hello hello hela objektet med hjälp av följande syntax.</span><span class="sxs-lookup"><span data-stu-id="23b15-431">If hello property that required hello virtual machine object instead of just a property, then you would return hello entire object using hello following syntax.</span></span>

    $ActivityOutput['Get-AzureVm']

<span data-ttu-id="23b15-432">Du kan också använda hello utdata för en aktivitet i ett mer komplext uttryck, till exempel hello följande som sammanfogar text toohello virtuellt datornamn.</span><span class="sxs-lookup"><span data-stu-id="23b15-432">You can also use hello output of an activity in a more complex expression such as hello following that concatenates text toohello virtual machine name.</span></span>

    "hello computer name is " + $ActivityOutput['Get-AzureVm'].Name


### <a name="conditions"></a><span data-ttu-id="23b15-433">Villkor</span><span class="sxs-lookup"><span data-stu-id="23b15-433">Conditions</span></span>
<span data-ttu-id="23b15-434">Använd [jämförelseoperatorer](https://technet.microsoft.com/library/hh847759.aspx) toocompare värden eller ta reda på om ett värde som matchar ett specifikt mönster.</span><span class="sxs-lookup"><span data-stu-id="23b15-434">Use [comparison operators](https://technet.microsoft.com/library/hh847759.aspx) toocompare values or determine if a value matches a specified pattern.</span></span>  <span data-ttu-id="23b15-435">En jämförelse returnerar värdet $true eller $false.</span><span class="sxs-lookup"><span data-stu-id="23b15-435">A comparison returns a value of either $true or $false.</span></span>

<span data-ttu-id="23b15-436">Till exempel följande villkor hello avgör om hello virtuell dator från en aktivitet med namnet *Get-AzureVM* är för närvarande *stoppats*.</span><span class="sxs-lookup"><span data-stu-id="23b15-436">For example, hello following condition determines whether hello virtual machine from an activity named *Get-AzureVM* is currently *stopped*.</span></span> 

    $ActivityOutput["Get-AzureVM"].PowerState –eq "Stopped"

<span data-ttu-id="23b15-437">hello följande villkor kontrollerar om hello samma virtuella dator finns i några tillstånd än *stoppats*.</span><span class="sxs-lookup"><span data-stu-id="23b15-437">hello following condition checks whether hello same virtual machine is in any state other than *stopped*.</span></span>

    $ActivityOutput["Get-AzureVM"].PowerState –ne "Stopped"

<span data-ttu-id="23b15-438">Du kan ansluta till flera villkor med hjälp av en [logisk operator](https://technet.microsoft.com/library/hh847789.aspx) som **- och** eller **- eller**.</span><span class="sxs-lookup"><span data-stu-id="23b15-438">You can join multiple conditions using a [logical operator](https://technet.microsoft.com/library/hh847789.aspx) such as **-and** or **-or**.</span></span>  <span data-ttu-id="23b15-439">Till exempel hello följande villkor kontrollerar om hello samma virtuella dator i hello föregående exempel är i tillståndet *stoppats* eller *stoppar*.</span><span class="sxs-lookup"><span data-stu-id="23b15-439">For example, hello following condition checks whether hello same virtual machine in hello previous example is in a state of *stopped* or *stopping*.</span></span>

    ($ActivityOutput["Get-AzureVM"].PowerState –eq "Stopped") -or ($ActivityOutput["Get-AzureVM"].PowerState –eq "Stopping") 


### <a name="hashtables"></a><span data-ttu-id="23b15-440">Hashtabeller</span><span class="sxs-lookup"><span data-stu-id="23b15-440">Hashtables</span></span>
<span data-ttu-id="23b15-441">[Hashtabeller](http://technet.microsoft.com/library/hh847780.aspx) är namn/värde-par som är användbara för att returnera en uppsättning värden.</span><span class="sxs-lookup"><span data-stu-id="23b15-441">[Hashtables](http://technet.microsoft.com/library/hh847780.aspx) are name/value pairs that are useful for returning a set of values.</span></span>  <span data-ttu-id="23b15-442">Egenskaper för vissa aktiviteter kan förvänta dig en hash-tabell i stället för ett enkelt värde.</span><span class="sxs-lookup"><span data-stu-id="23b15-442">Properties for certain activities may expect a hashtable instead of a simple value.</span></span>  <span data-ttu-id="23b15-443">Du kan också se enligt hashtable tooas en ordlista.</span><span class="sxs-lookup"><span data-stu-id="23b15-443">You may also see as hashtable referred tooas a dictionary.</span></span> 

<span data-ttu-id="23b15-444">Du kan skapa en hash-tabell med följande syntax hello.</span><span class="sxs-lookup"><span data-stu-id="23b15-444">You create a hashtable with hello following syntax.</span></span>  <span data-ttu-id="23b15-445">En hash-tabell kan innehålla valfritt antal poster men varje definieras av namn och värde.</span><span class="sxs-lookup"><span data-stu-id="23b15-445">A hashtable can contain any number of entries but each is defined by a name and value.</span></span>

    @{ <name> = <value>; [<name> = <value> ] ...}

<span data-ttu-id="23b15-446">Till exempel skapar hello följande uttryck en hash-tabell toobe som används i hello datakälla för en aktivitetsparameter som förväntas en hash-tabell med värden för en Internetsökning.</span><span class="sxs-lookup"><span data-stu-id="23b15-446">For example, hello following expression creates a hashtable toobe used in hello data source for an activity parameter that expected a hashtable with values for an internet search.</span></span>

    $query = "Azure Automation"
    $count = 10
    $h = @{'q'=$query; 'lr'='lang_ja';  'count'=$Count}
    $h

<span data-ttu-id="23b15-447">hello följande exempel används utdata från en aktivitet som kallas *hämta Twitter-anslutningen* toopopulate en hash-tabell.</span><span class="sxs-lookup"><span data-stu-id="23b15-447">hello following example uses output from an activity called *Get Twitter Connection* toopopulate a hashtable.</span></span>

    @{'ApiKey'=$ActivityOutput['Get Twitter Connection'].ConsumerAPIKey;
      'ApiSecret'=$ActivityOutput['Get Twitter Connection'].ConsumerAPISecret;
      'AccessToken'=$ActivityOutput['Get Twitter Connection'].AccessToken;
      'AccessTokenSecret'=$ActivityOutput['Get Twitter Connection'].AccessTokenSecret}



## <a name="next-steps"></a><span data-ttu-id="23b15-448">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="23b15-448">Next Steps</span></span>
* <span data-ttu-id="23b15-449">tooget igång med PowerShell arbetsflöde runbooks finns [min första PowerShell-arbetsflödesrunbook](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="23b15-449">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span> 
* <span data-ttu-id="23b15-450">tooget igång med grafiska runbooks finns [min första grafisk runbook](automation-first-runbook-graphical.md)</span><span class="sxs-lookup"><span data-stu-id="23b15-450">tooget started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="23b15-451">tooknow mer om runbook-typer, fördelar och begränsningar finns [typer för Azure Automation-runbook](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="23b15-451">tooknow more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
* <span data-ttu-id="23b15-452">toounderstand hur tooauthenticate med hello Automation kör som-konto finns [konfigurera Azure kör som-konto](automation-sec-configure-azure-runas-account.md)</span><span class="sxs-lookup"><span data-stu-id="23b15-452">toounderstand how tooauthenticate using hello Automation Run As account, see [Configure Azure Run As Account](automation-sec-configure-azure-runas-account.md)</span></span>

