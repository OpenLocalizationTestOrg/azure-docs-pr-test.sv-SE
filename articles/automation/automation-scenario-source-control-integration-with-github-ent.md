---
title: "aaaAzure Automation Källkontrollintegrering med GitHub Enterprise | Microsoft Docs"
description: "Beskriver hello information om hur tooconfigure integrering med GitHub Enterprise för källkontroll Automation-runbooks."
services: automation
documentationCenter: 
authors: mgoedtel
manager: jwhit
editor: 
ms.assetid: e01d817c-7d38-421c-adf5-647a4b526eb4
ms.service: automation
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: magoedte
ms.openlocfilehash: 915d36ccabb72fdee1dba663049a0b331249cd73
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-automation-scenario---automation-source-control-integration-with-github-enterprise"></a><span data-ttu-id="1e540-103">Azure Automation-scenario – Automation källkontrollintegrering med GitHub-Enterprise</span><span class="sxs-lookup"><span data-stu-id="1e540-103">Azure Automation scenario - Automation source control integration with GitHub Enterprise</span></span>

<span data-ttu-id="1e540-104">Automation stöder för närvarande källkontrollintegrering, vilket gör att du tooassociate runbooks i ditt Automation-konto tooa GitHub för källkontroll.</span><span class="sxs-lookup"><span data-stu-id="1e540-104">Automation currently supports source control integration, which allows you tooassociate runbooks in your Automation account tooa GitHub source control repository.</span></span>  <span data-ttu-id="1e540-105">Dock kunder som har distribuerat [GitHub Enterprise](https://enterprise.github.com/home) toosupport sina DevOps-metoder, även vill toouse den toomanage hello livscykeln för runbooks som utvecklats tooautomate affärsprocesser och servicehantering åtgärder.</span><span class="sxs-lookup"><span data-stu-id="1e540-105">However, customers who have deployed [GitHub Enterprise](https://enterprise.github.com/home) toosupport their DevOps practices, also want toouse it toomanage hello lifecycle of runbooks that are developed tooautomate business processes and service management operations.</span></span>  

<span data-ttu-id="1e540-106">I det här scenariot har du en Windows-dator i ditt datacenter som konfigurerats som en Hybrid Runbook Worker med hello Azure Resource Manager-moduler och Git-verktygen som installeras.</span><span class="sxs-lookup"><span data-stu-id="1e540-106">In this scenario, you have a Windows computer in your data center configured as a Hybrid Runbook Worker with hello Azure Resource Manager modules and Git tools installed.</span></span>  <span data-ttu-id="1e540-107">hello Hybrid worker datorn har en klon av hello lokal Git-lagringsplats.</span><span class="sxs-lookup"><span data-stu-id="1e540-107">hello Hybrid worker machine has a clone of hello local Git repository.</span></span>  <span data-ttu-id="1e540-108">När hello runbook körs på hello hybrid worker hello Git directory synkroniseras och hello runbook-filens innehåll som har importerats till hello Automation-konto.</span><span class="sxs-lookup"><span data-stu-id="1e540-108">When hello runbook is run on hello hybrid worker, hello Git directory is synchronized and hello runbook file contents are imported into hello Automation account.</span></span>

<span data-ttu-id="1e540-109">Den här artikeln beskriver hur tooset in den här konfigurationen i Azure Automation-miljö.</span><span class="sxs-lookup"><span data-stu-id="1e540-109">This article describes how tooset up this configuration in your Azure Automation environment.</span></span> <span data-ttu-id="1e540-110">Vi börjar med att konfigurera Automation med hello säkerhetsreferenser runbooks krävs toosupport för det här scenariot och distribution av en Hybrid Runbook Worker i dina data center toorun hello runbooks och få åtkomst till dina GitHub Enterprise databasen toosynchronize runbooks med ditt Automation-konto.</span><span class="sxs-lookup"><span data-stu-id="1e540-110">We start by configuring Automation with hello security credentials, runbooks required toosupport this scenario, and deployment of a Hybrid Runbook Worker in your data center toorun hello runbooks and access your GitHub Enterprise repository toosynchronize runbooks with your Automation account.</span></span>  


## <a name="getting-hello-scenario"></a><span data-ttu-id="1e540-111">Hämta hello scenario</span><span class="sxs-lookup"><span data-stu-id="1e540-111">Getting hello scenario</span></span>

<span data-ttu-id="1e540-112">Det här scenariot består av två PowerShell-runbooks som kan importeras direkt från hello [Runbook-galleriet](automation-runbook-gallery.md) hello Azure-portalen eller ladda ned från hello [PowerShell-galleriet](https://www.powershellgallery.com).</span><span class="sxs-lookup"><span data-stu-id="1e540-112">This scenario consists of two PowerShell runbooks that you can import directly from hello [Runbook Gallery](automation-runbook-gallery.md) in hello Azure portal or download from hello [PowerShell Gallery](https://www.powershellgallery.com).</span></span>

### <a name="runbooks"></a><span data-ttu-id="1e540-113">Runbooks</span><span class="sxs-lookup"><span data-stu-id="1e540-113">Runbooks</span></span>

<span data-ttu-id="1e540-114">Runbook</span><span class="sxs-lookup"><span data-stu-id="1e540-114">Runbook</span></span> | <span data-ttu-id="1e540-115">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="1e540-115">Description</span></span>| 
--------|------------|
<span data-ttu-id="1e540-116">Export-RunAsCertificateToHybridWorker</span><span class="sxs-lookup"><span data-stu-id="1e540-116">Export-RunAsCertificateToHybridWorker</span></span> | <span data-ttu-id="1e540-117">Runbook exporterar ett RunAs-certifikat från en Automation-konto tooa hybrid worker så att runbooks på hello worker kan autentisera med Azure i ordning tooimport runbooks i hello Automation-konto.</span><span class="sxs-lookup"><span data-stu-id="1e540-117">Runbook exports a RunAs certificate from an Automation account tooa hybrid worker so that runbooks on hello worker can authenticate with Azure in order tooimport runbooks into hello Automation account.</span></span>| 
<span data-ttu-id="1e540-118">Synkronisera LocalGitFolderToAutomationAccount</span><span class="sxs-lookup"><span data-stu-id="1e540-118">Sync-LocalGitFolderToAutomationAccount</span></span> | <span data-ttu-id="1e540-119">Runbook synkroniseringar hello lokal Git-mapp på hello hybrid datorn och sedan importera hello runbook-filer (*.ps1) till hello Automation-konto.</span><span class="sxs-lookup"><span data-stu-id="1e540-119">Runbook syncs hello local Git folder on hello hybrid machine and then import hello runbook files (*.ps1) into hello Automation account.</span></span>|

### <a name="credentials"></a><span data-ttu-id="1e540-120">Autentiseringsuppgifter</span><span class="sxs-lookup"><span data-stu-id="1e540-120">Credentials</span></span>

<span data-ttu-id="1e540-121">Autentiseringsuppgift</span><span class="sxs-lookup"><span data-stu-id="1e540-121">Credential</span></span> | <span data-ttu-id="1e540-122">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="1e540-122">Description</span></span>|
-----------|------------|
<span data-ttu-id="1e540-123">GitHRWCredential</span><span class="sxs-lookup"><span data-stu-id="1e540-123">GitHRWCredential</span></span> | <span data-ttu-id="1e540-124">Autentiseringsuppgiftstillgång skapar du toocontain hello användarnamn och lösenord för en användare med behörighet toohello hybrid worker.</span><span class="sxs-lookup"><span data-stu-id="1e540-124">Credential asset you create toocontain hello username and password for a user with permissions toohello hybrid worker.</span></span>|

## <a name="installing-and-configuring-this-scenario"></a><span data-ttu-id="1e540-125">Installera och konfigurera det här scenariot</span><span class="sxs-lookup"><span data-stu-id="1e540-125">Installing and configuring this scenario</span></span>

### <a name="prerequisites"></a><span data-ttu-id="1e540-126">Krav</span><span class="sxs-lookup"><span data-stu-id="1e540-126">Prerequisites</span></span>

1. <span data-ttu-id="1e540-127">hello Sync LocalGitFolderToAutomationAccount runbook autentiserar med hjälp av hello [Azure kör som-konto](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="1e540-127">hello Sync-LocalGitFolderToAutomationAccount runbook authenticates using hello [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span> 

2. <span data-ttu-id="1e540-128">Microsoft Operations Management Suite (OMS) arbetsytan med hello Azure Automation-lösningen aktiverad och konfigurerad krävs också.</span><span class="sxs-lookup"><span data-stu-id="1e540-128">A Microsoft Operations Management Suite (OMS) workspace with hello Azure Automation solution enabled and configured is also required.</span></span>  <span data-ttu-id="1e540-129">Om du inte har någon som är associerad med hello Automation-konto som används för tooinstall och konfigurera det här scenariot, det har skapats och konfigurerats för dig när du kör hello **ny OnPremiseHybridWorker.ps1** skriptet från hello hybrid runbook worker.</span><span class="sxs-lookup"><span data-stu-id="1e540-129">If you do not have one that is associated with hello Automation account used tooinstall and configure this scenario, it is created and configured for you when you execute hello **New-OnPremiseHybridWorker.ps1** script from hello hybrid runbook worker.</span></span>        

    > [!NOTE]
    > <span data-ttu-id="1e540-130">För närvarande hello följande regioner endast stöd för Automation integrering med OMS - **Australien sydost**, **östra USA 2**, **Sydostasien**, och **Väst Europa**.</span><span class="sxs-lookup"><span data-stu-id="1e540-130">Currently hello following regions only support Automation integration with OMS - **Australia Southeast**, **East US 2**, **Southeast Asia**, and **West Europe**.</span></span> 

3. <span data-ttu-id="1e540-131">En dator som kan fungera som en dedikerad Hybrid Runbook Worker där också hello GitHub programvara och underhåll hello runbook-filer (*runbook*.ps1) i en katalog på hello filen system toosynchronize mellan GitHub och Automation-konto.</span><span class="sxs-lookup"><span data-stu-id="1e540-131">A computer that can serve as a dedicated Hybrid Runbook Worker that will also host hello GitHub software and maintain hello runbook files (*runbook*.ps1) in a source directory on hello file system toosynchronize between GitHub and your Automation account.</span></span>

### <a name="import-and-publish-hello-runbooks"></a><span data-ttu-id="1e540-132">Importera och publicera hello runbooks</span><span class="sxs-lookup"><span data-stu-id="1e540-132">Import and publish hello runbooks</span></span>

<span data-ttu-id="1e540-133">tooimport hello *Export RunAsCertificateToHybridWorker* och *Sync LocalGitFolderToAutomationAccount* runbooks från hello Runbook-galleriet från ditt Automation-konto i hello Azure-portalen Följ procedurerna hello i [importera Runbook från hello Runbook-galleriet](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span><span class="sxs-lookup"><span data-stu-id="1e540-133">tooimport hello *Export-RunAsCertificateToHybridWorker* and *Sync-LocalGitFolderToAutomationAccount* runbooks from hello Runbook Gallery from your Automation account in hello Azure portal, follow hello procedures in [Import Runbook from hello Runbook Gallery](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span></span> <span data-ttu-id="1e540-134">Publicera hello runbooks när de har importerats till ditt Automation-konto.</span><span class="sxs-lookup"><span data-stu-id="1e540-134">Publish hello runbooks after they have been successfully imported into your Automation account.</span></span>

### <a name="deploy-and-configure-hybrid-runbook-worker"></a><span data-ttu-id="1e540-135">Distribuera och konfigurera Hybrid Runbook Worker</span><span class="sxs-lookup"><span data-stu-id="1e540-135">Deploy and Configure Hybrid Runbook Worker</span></span>

<span data-ttu-id="1e540-136">Om du inte har en Hybrid Runbook Worker som redan har distribuerats i ditt datacenter du bör granska hello krav och gör hello automatiserad installation med hjälp av hello proceduren i [Azure Automation Hybrid Runbook Worker - automatisera installera Konfiguration och](automation-hybrid-runbook-worker.md#automated-deployment).</span><span class="sxs-lookup"><span data-stu-id="1e540-136">If you do not have a Hybrid Runbook Worker already deployed in your data center, you should review hello requirements and follow hello automated installation steps using hello procedure in [Azure Automation Hybrid Runbook Workers - Automate Install and Configuration](automation-hybrid-runbook-worker.md#automated-deployment).</span></span>  <span data-ttu-id="1e540-137">När du har installerat hello worker-hybrid på en dator, utföra hello följande steg toocomplete dess konfiguration toosupport det här scenariot.</span><span class="sxs-lookup"><span data-stu-id="1e540-137">Once you have successfully installed hello hybrid worker on a computer, perform hello following steps toocomplete its configuration toosupport this scenario.</span></span>

1. <span data-ttu-id="1e540-138">Inloggning toohello datorn värd hello Hybrid Runbook Worker-rollen med ett konto som har lokala administrativa rättigheter och skapa en katalog toohold hello Git runbook filer.</span><span class="sxs-lookup"><span data-stu-id="1e540-138">Sign on toohello computer hosting hello Hybrid Runbook Worker role with an account that has local administrative rights and create a directory toohold hello Git runbook files.</span></span>  <span data-ttu-id="1e540-139">Klona hello internt Git-lagringsplatsen toohello directory.</span><span class="sxs-lookup"><span data-stu-id="1e540-139">Clone  hello internal Git repository toohello directory.</span></span>
2. <span data-ttu-id="1e540-140">Om du inte redan har ett konto skapas eller om du vill toocreate en ny avsedd för detta ändamål, hello Azure-portalen navigera tooAutomation konton, Välj ditt Automation-konto och skapa en [autentiseringsuppgiftstillgång](automation-credentials.md) som innehåller hello användarnamn och lösenord för en användare med behörighet toohello hybrid worker.</span><span class="sxs-lookup"><span data-stu-id="1e540-140">If you do not already have a RunAs account created or you want toocreate a new one dedicated for this purpose, from hello Azure portal navigate tooAutomation accounts, select your Automation account and create a [credential asset](automation-credentials.md) that contains hello username and password for a user with permissions toohello hybrid worker.</span></span>  
3. <span data-ttu-id="1e540-141">Från ditt Automation-konto [redigera hello runbook](automation-edit-textual-runbook.md)**Export RunAsCertificateToHybridWorker** och ändra hello hello variabels värde *$Password* med ett starkt lösenordet.  </span><span class="sxs-lookup"><span data-stu-id="1e540-141">From your Automation account, [edit hello runbook](automation-edit-textual-runbook.md)  **Export-RunAsCertificateToHybridWorker** and modify hello value for hello variable *$Password* with a strong password.</span></span>  <span data-ttu-id="1e540-142">När du har ändrat hello värde klickar du på **publicera** toohave hello utkastversionen för hello runbook publiceras.</span><span class="sxs-lookup"><span data-stu-id="1e540-142">After you modify hello value, click **Publish** toohave hello draft version of hello runbook published.</span></span> 
5. <span data-ttu-id="1e540-143">Starta hello runbook **Export RunAsCertificateToHybridWorker**, och i hello **starta Runbook** bladet under hello alternativet **körningsinställningar** alternativet hello **Hybrid Worker** och i hello listrutan väljer hello Hybrid worker-grupp du skapade tidigare i det här scenariot.</span><span class="sxs-lookup"><span data-stu-id="1e540-143">Start hello runbook **Export-RunAsCertificateToHybridWorker**, and in hello **Start Runbook** blade, under hello option **Run settings** select hello option **Hybrid Worker** and in hello drop-down list select hello Hybrid worker group you created earlier for this scenario.</span></span>  

    <span data-ttu-id="1e540-144">Detta exporterar en certifikatet toohello hybrid worker så att runbooks på hello worker kan autentisera med Azure med hjälp av hello-kör som-anslutning i ordning toomanage Azure-resurser (särskilt för det här scenariot - importera runbooks toohello Automation-konto).</span><span class="sxs-lookup"><span data-stu-id="1e540-144">This exports a certificate toohello hybrid worker so that runbooks on hello worker can authenticate with Azure using hello Run As connection in order toomanage Azure resources (in particular for this scenario - import runbooks toohello Automation account).</span></span>

4. <span data-ttu-id="1e540-145">Från ditt Automation-konto, Välj hello Hybrid worker-gruppen som skapades tidigare och [ange ett RunAs-konto](automation-hrw-run-runbooks.md#runas-account) för hello Hybrid worker-gruppen och valt hello autentiseringsuppgiftstillgång du bara eller redan har skapat.</span><span class="sxs-lookup"><span data-stu-id="1e540-145">From your Automation account, select hello Hybrid worker group created earlier and [specify a RunAs account](automation-hrw-run-runbooks.md#runas-account) for hello Hybrid worker group, and chose hello credential asset you just or already have created.</span></span>  <span data-ttu-id="1e540-146">Detta säkerställer att hello Sync runbook kan köra Git-kommandon.</span><span class="sxs-lookup"><span data-stu-id="1e540-146">This assures that hello Sync runbook can run Git commands.</span></span> 
5. <span data-ttu-id="1e540-147">Starta hello runbook **Sync LocalGitFolderToAutomationAccount**, ange hello Indataparametern värden för obligatoriska och i hello **starta Runbook** bladet under hello alternativet **kör inställningar för** alternativet hello **Hybrid Worker** och i hello listrutan väljer hello Hybrid worker-grupp du skapade tidigare i det här scenariot:</span><span class="sxs-lookup"><span data-stu-id="1e540-147">Start hello runbook **Sync-LocalGitFolderToAutomationAccount**, provide hello following required input parameter values and in hello **Start Runbook** blade, under hello option **Run settings** select hello option **Hybrid Worker** and in hello drop-down list select hello Hybrid worker group you created earlier for this scenario:</span></span>
    * <span data-ttu-id="1e540-148">*ResourceGroup* - hello namnet på resursgruppen som är associerade med ditt Automation-konto</span><span class="sxs-lookup"><span data-stu-id="1e540-148">*ResourceGroup* - hello name of your resource group associated with your Automation account</span></span>
    * <span data-ttu-id="1e540-149">*AutomationAccountName* - hello namnet på ditt Automation-konto</span><span class="sxs-lookup"><span data-stu-id="1e540-149">*AutomationAccountName* - hello name of your Automation account</span></span>
    * <span data-ttu-id="1e540-150">*GitPath* - hello lokal mapp eller fil på hello Hybrid Runbook Worker där Git ställs in toopull senaste ändringarna i</span><span class="sxs-lookup"><span data-stu-id="1e540-150">*GitPath* - hello local folder or file on hello Hybrid Runbook Worker where Git is set up toopull latest changes into</span></span>

    <span data-ttu-id="1e540-151">Detta synkronisera hello lokal Git-mapp på hello hybrid worker-dator och importera sedan hello .ps1-filer från hello källan directory toohello Automation-konto.</span><span class="sxs-lookup"><span data-stu-id="1e540-151">This will sync hello local Git folder on hello hybrid worker computer and then import hello .ps1 files from hello source directory toohello Automation account.</span></span>

    ![Starta Sync LocalGitFolderToAutomationAccount Runbook](media/automation-scenario-source-control-integration-with-github-ent/start-runbook-synclocalgitfoldertoautoacct.png)<br>

7. <span data-ttu-id="1e540-153">Visa jobb sammanfattningsinformation för hello runbook genom att välja den hello **Runbooks** bladet i Automation-konto och välj sedan hello **jobb** panelen.</span><span class="sxs-lookup"><span data-stu-id="1e540-153">View job summary details for hello runbook by selecting it from hello **Runbooks** blade in your Automation account, and then select hello **Jobs** tile.</span></span>  <span data-ttu-id="1e540-154">Bekräfta att den har slutförts genom att välja hello **alla loggar** panelen och granska hello detaljerad loggström.</span><span class="sxs-lookup"><span data-stu-id="1e540-154">Confirm it completed successfully by selecting hello **All logs** tile and reviewing hello detailed log stream.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="1e540-155">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="1e540-155">Next steps</span></span>

-  <span data-ttu-id="1e540-156">tooknow mer om runbook-typer, fördelar och begränsningar finns [typer för Azure Automation-runbook](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="1e540-156">tooknow more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
-  <span data-ttu-id="1e540-157">Mer information om PowerShell-skriptstöd finns i [Inbyggt PowerShell-skriptstöd i Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span><span class="sxs-lookup"><span data-stu-id="1e540-157">For more information on PowerShell script support feature, see [Native PowerShell script support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span></span>
