---
title: "Felsökning av vanliga problem med Azure Automation | Microsoft Docs"
description: "Den här artikeln innehåller information för att felsöka och lösa vanliga problem i Azure Automation."
services: automation
documentationcenter: 
author: mgoedtel
manager: stevenka
editor: tysonn
tags: top-support-issue
keywords: "fel när Automation, felsökning, problemet"
ms.assetid: 5f3cfe61-70b0-4e9c-b892-d02daaeee07d
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/26/2017
ms.author: sngun; v-reagie
ms.openlocfilehash: 64548d91e98754210cc5185d9d759141cc0621d3
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="troubleshooting-common-issues-in-azure-automation"></a><span data-ttu-id="8f2d5-104">Felsökning av vanliga problem i Azure Automation</span><span class="sxs-lookup"><span data-stu-id="8f2d5-104">Troubleshooting common issues in Azure Automation</span></span> 
<span data-ttu-id="8f2d5-105">Du får hjälp med att felsöka vanliga fel som du kan uppleva i Azure Automation och ger förslag på lösningar för att lösa problemen.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-105">This article provides help troubleshooting common errors you might experience in Azure Automation and suggests possible solutions to resolve them.</span></span>

## <a name="authentication-errors-when-working-with-azure-automation-runbooks"></a><span data-ttu-id="8f2d5-106">När du arbetar med Azure Automation runbook-autentiseringsfel</span><span class="sxs-lookup"><span data-stu-id="8f2d5-106">Authentication errors when working with Azure Automation runbooks</span></span>
### <a name="scenario-sign-in-to-azure-account-failed"></a><span data-ttu-id="8f2d5-107">Scenario: Logga in på Azure-konto misslyckades</span><span class="sxs-lookup"><span data-stu-id="8f2d5-107">Scenario: Sign in to Azure Account failed</span></span>
<span data-ttu-id="8f2d5-108">**Fel:** felmeddelandet ”Unknown_user_type: Okänd typ” när du arbetar med cmdlets Add-AzureAccount eller Login-AzureRmAccount.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-108">**Error:** You receive the error "Unknown_user_type: Unknown User Type" when working with the Add-AzureAccount or Login-AzureRmAccount cmdlets.</span></span>

<span data-ttu-id="8f2d5-109">**Orsaken till felet:** det här felet uppstår om namn på autentiseringsuppgift tillgångsinformation inte är giltig eller om användarnamnet och lösenordet som du använde för att konfigurera Automation-autentiseringsuppgiftstillgång inte är giltiga.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-109">**Reason for the error:** This error occurs if the credential asset name is not valid or if the username and password that you used to setup the Automation credential asset are not valid.</span></span>

<span data-ttu-id="8f2d5-110">**Felsökningstips:** för att avgöra vad som är fel gör du följande:</span><span class="sxs-lookup"><span data-stu-id="8f2d5-110">**Troubleshooting tips:** In order to determine what's wrong, take the following steps:</span></span>  

1. <span data-ttu-id="8f2d5-111">Kontrollera att du inte har några specialtecken, inklusive den  **@**  tecken i Automation namn på autentiseringsuppgift tillgång som du använder för att ansluta till Azure.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-111">Make sure that you don’t have any special characters, including the **@** character in the Automation credential asset name that you are using to connect to Azure.</span></span>  
2. <span data-ttu-id="8f2d5-112">Kontrollera att du kan använda användarnamn och lösenord som lagras i Azure Automation-autentiseringsuppgifter i din lokala PowerShell ISE-redigeraren.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-112">Check that you can use the username and password that are stored in the Azure Automation credential in your local PowerShell ISE editor.</span></span> <span data-ttu-id="8f2d5-113">Du kan göra detta genom att köra följande cmdlets i PowerShell ISE:</span><span class="sxs-lookup"><span data-stu-id="8f2d5-113">You can do this by running the following cmdlets in the PowerShell ISE:</span></span>  

        $Cred = Get-Credential  
        #Using Azure Service Management   
        Add-AzureAccount –Credential $Cred  
        #Using Azure Resource Manager  
        Login-AzureRmAccount –Credential $Cred
3. <span data-ttu-id="8f2d5-114">Det innebär att du inte har konfigurerat dina Azure Active Directory-autentiseringsuppgifter korrekt om autentiseringen misslyckas lokalt.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-114">If your authentication fails locally, this means that you haven’t set up your Azure Active Directory credentials properly.</span></span> <span data-ttu-id="8f2d5-115">Referera till [autentiserar till Azure med Azure Active Directory](https://azure.microsoft.com/blog/azure-automation-authenticating-to-azure-using-azure-active-directory/) blogginlägget att hämta Azure Active Directory-kontot som har ställts in korrekt.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-115">Refer to [Authenticating to Azure using Azure Active Directory](https://azure.microsoft.com/blog/azure-automation-authenticating-to-azure-using-azure-active-directory/) blog post to get the Azure Active Directory account set up correctly.</span></span>  

### <a name="scenario-unable-to-find-the-azure-subscription"></a><span data-ttu-id="8f2d5-116">Scenario: Det gick inte att hitta Azure-prenumeration</span><span class="sxs-lookup"><span data-stu-id="8f2d5-116">Scenario: Unable to find the Azure subscription</span></span>
<span data-ttu-id="8f2d5-117">**Fel:** felmeddelandet ”prenumeration med namnet ``<subscription name>`` går inte att hitta” när du arbetar med cmdlets väljer AzureSubscription eller Select-AzureRmSubscription.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-117">**Error:** You receive the error "The subscription named ``<subscription name>`` cannot be found" when working with the Select-AzureSubscription or Select-AzureRmSubscription cmdlets.</span></span>

<span data-ttu-id="8f2d5-118">**Orsaken till felet:** det här felet uppstår om prenumerationsnamn inte är giltig eller om Azure Active Directory-användare som försöker hämta prenumerationsinformation om inte är konfigurerad som en administratör för prenumerationen.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-118">**Reason for the error:** This error occurs if the subscription name is not valid or if the Azure Active Directory user who is trying to get the subscription details is not configured as an admin of the subscription.</span></span>

<span data-ttu-id="8f2d5-119">**Felsökningstips:** för att avgöra om du har autentiserats korrekt till Azure och har åtkomst till den prenumeration som du försöker markera gör du följande:</span><span class="sxs-lookup"><span data-stu-id="8f2d5-119">**Troubleshooting tips:** In order to determine if you have properly authenticated to Azure and have access to the subscription you are trying to select, take the following steps:</span></span>  

1. <span data-ttu-id="8f2d5-120">Se till att du kör den **Add-AzureAccount** innan du kör den **Välj AzureSubscription** cmdlet.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-120">Make sure that you run the **Add-AzureAccount** before running the **Select-AzureSubscription** cmdlet.</span></span>  
2. <span data-ttu-id="8f2d5-121">Om du fortfarande ser det här felmeddelandet ändra din kod genom att lägga till den **Get-AzureSubscription** följande cmdlet i **Add-AzureAccount** cmdlet och sedan köra koden.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-121">If you still see this error message, modify your code by adding the **Get-AzureSubscription** cmdlet following the **Add-AzureAccount** cmdlet and then execute the code.</span></span>  <span data-ttu-id="8f2d5-122">Nu ska du kontrollera om utdata från Get-AzureSubscription innehåller information om din prenumeration.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-122">Now verify if the output of Get-AzureSubscription contains your subscription details.</span></span>  

   * <span data-ttu-id="8f2d5-123">Om du inte ser någon prenumerationsinformation i utdata, innebär detta att prenumerationen inte är initierats ännu.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-123">If you don't see any subscription details in the output, this means that the subscription isn’t initialized yet.</span></span>  
   * <span data-ttu-id="8f2d5-124">Om du ser prenumerationsinformation i utdata, kontrollerar du att du använder rätt namn eller ID med den **Välj AzureSubscription** cmdlet.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-124">If you do see the subscription details in the output, confirm that you are using the correct subscription name or ID with the **Select-AzureSubscription** cmdlet.</span></span>   

### <a name="scenario-authentication-to-azure-failed-because-multi-factor-authentication-is-enabled"></a><span data-ttu-id="8f2d5-125">Scenario: Till Azure-autentiseringen misslyckades eftersom multifaktorautentisering har aktiverats</span><span class="sxs-lookup"><span data-stu-id="8f2d5-125">Scenario: Authentication to Azure failed because multi-factor authentication is enabled</span></span>
<span data-ttu-id="8f2d5-126">**Fel:** felmeddelandet ”Lägg till-AzureAccount: AADSTS50079: registrering av stark autentisering (bevis upp) krävs” när du autentiserar till Azure med Azure användarnamn och lösenord.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-126">**Error:** You receive the error “Add-AzureAccount: AADSTS50079: Strong authentication enrollment (proof-up) is required” when authenticating to Azure with your Azure username and password.</span></span>

<span data-ttu-id="8f2d5-127">**Orsaken till felet:** om du har multifaktorautentisering på ditt Azure-konto kan du inte använda en Azure Active Directory-användare för att autentisera till Azure.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-127">**Reason for the error:** If you have multi-factor authentication on your Azure account, you can't use an Azure Active Directory user to authenticate to Azure.</span></span>  <span data-ttu-id="8f2d5-128">Du måste i stället använda ett certifikat eller en tjänstens huvudnamn för att autentisera till Azure.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-128">Instead, you need to use a certificate or a service principal to authenticate to Azure.</span></span>

<span data-ttu-id="8f2d5-129">**Felsökningstips:** för att använda ett certifikat med Azure Service Management-cmdlets måste referera till [skapa och lägga till ett certifikat för att hantera Azure-tjänster.](http://blogs.technet.com/b/orchestrator/archive/2014/04/11/managing-azure-services-with-the-microsoft-azure-automation-preview-service.aspx)</span><span class="sxs-lookup"><span data-stu-id="8f2d5-129">**Troubleshooting tips:** To use a certificate with the Azure Service Management cmdlets, refer to [creating and adding a certificate to manage Azure services.](http://blogs.technet.com/b/orchestrator/archive/2014/04/11/managing-azure-services-with-the-microsoft-azure-automation-preview-service.aspx)</span></span> <span data-ttu-id="8f2d5-130">Om du vill använda ett huvudnamn för tjänsten med Azure Resource Manager-cmdlets, referera till [att skapa tjänstens huvudnamn med hjälp av Azure portal](../azure-resource-manager/resource-group-create-service-principal-portal.md) och [autentiserar ett huvudnamn för tjänsten med Azure Resource Manager.](../azure-resource-manager/resource-group-authenticate-service-principal.md)</span><span class="sxs-lookup"><span data-stu-id="8f2d5-130">To use a service principal with Azure Resource Manager cmdlets, refer to [creating service principal using Azure portal](../azure-resource-manager/resource-group-create-service-principal-portal.md) and [authenticating a service principal with Azure Resource Manager.](../azure-resource-manager/resource-group-authenticate-service-principal.md)</span></span>

## <a name="common-errors-when-working-with-runbooks"></a><span data-ttu-id="8f2d5-131">Vanliga fel när du arbetar med runbooks</span><span class="sxs-lookup"><span data-stu-id="8f2d5-131">Common errors when working with runbooks</span></span>
### <a name="scenario-the-runbook-job-start-was-attempted-three-times-but-it-failed-to-start-each-time"></a><span data-ttu-id="8f2d5-132">Scenario: Jobbstart runbook gjordes tre gånger, men det gick inte att starta varje gång</span><span class="sxs-lookup"><span data-stu-id="8f2d5-132">Scenario: The runbook job start was attempted three times, but it failed to start each time</span></span>
<span data-ttu-id="8f2d5-133">**Fel:** din runbook misslyckas med felmeddelandet ”” jobbet har försökt tre gånger, men misslyckades ”.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-133">**Error:** Your runbook fails with the error "“The job was tried three times but it failed."</span></span>

<span data-ttu-id="8f2d5-134">**Orsaken till felet:** det här felet kan orsakas av följande skäl:</span><span class="sxs-lookup"><span data-stu-id="8f2d5-134">**Reason for the error:** This error can be caused by the following reasons:</span></span>  

1. <span data-ttu-id="8f2d5-135">Gränsen för minne.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-135">Memory Limit.</span></span>  <span data-ttu-id="8f2d5-136">Vi har dokumenterats gränser för hur mycket minne som allokerats till en Sandbox [Automation tjänstbegränsningarna](../azure-subscription-service-limits.md#automation-limits) så att ett jobb kan misslyckas den om du använder mer än 400 MB minne.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-136">We have documented limits on how much memory allocated to a Sandbox  [Automation service limits](../azure-subscription-service-limits.md#automation-limits) so a job may fail it if is using more than 400 MB of memory.</span></span> 

2. <span data-ttu-id="8f2d5-137">Inkompatibel modul.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-137">Module Incompatible.</span></span>  <span data-ttu-id="8f2d5-138">Detta kan inträffa om modulen beroenden inte är rätt och om inte din runbook vanligtvis returnerar ”kommandot gick inte att hitta” eller ”det går inte att binda parametern” visas.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-138">This can occur if module dependencies are not correct and if they are not, your runbook will typically return a “Command not found” or "Cannot bind parameter" message.</span></span> 

<span data-ttu-id="8f2d5-139">**Felsökningstips:** någon av följande lösningar kommer att åtgärda problemet:</span><span class="sxs-lookup"><span data-stu-id="8f2d5-139">**Troubleshooting tips:** Any of the following solutions will fix the problem:</span></span>  

* <span data-ttu-id="8f2d5-140">Föreslagna metoder för att fungera inom gränsen för minne är att dela arbetsbelastningen mellan flera runbooks, inte bearbeta så mycket data i minnet, inte att skriva onödiga utdata från dina runbooks, eller överväga hur många kontrollpunkter som du skriver i PowerShell-arbetsflöde runbooks.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-140">Suggested methods to work within the memory limit are to split the workload between multiple runbooks, not process as much data in memory, not to write unnecessary output from your runbooks, or consider how many checkpoints you write into your PowerShell workflow runbooks.</span></span>  

* <span data-ttu-id="8f2d5-141">Du behöver uppdatera din Azure moduler genom att följa stegen [så här uppdaterar du Azure PowerShell-moduler i Azure Automation](automation-update-azure-modules.md).</span><span class="sxs-lookup"><span data-stu-id="8f2d5-141">You need to update your Azure modules by following the steps [How to update Azure PowerShell modules in Azure Automation](automation-update-azure-modules.md).</span></span>  


### <a name="scenario-runbook-fails-because-of-deserialized-object"></a><span data-ttu-id="8f2d5-142">Scenario: Runbook misslyckas på grund av avserialiserat objekt</span><span class="sxs-lookup"><span data-stu-id="8f2d5-142">Scenario: Runbook fails because of deserialized object</span></span>
<span data-ttu-id="8f2d5-143">**Fel:** din runbook misslyckas med felmeddelandet ”Det går inte att binda parametern ``<ParameterName>``.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-143">**Error:** Your runbook fails with the error "Cannot bind parameter ``<ParameterName>``.</span></span> <span data-ttu-id="8f2d5-144">Det går inte att konvertera den ``<ParameterType>`` värde av typen Deserialized ``<ParameterType>`` till typen ``<ParameterType>``”.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-144">Cannot convert the ``<ParameterType>`` value of type Deserialized ``<ParameterType>`` to type ``<ParameterType>``".</span></span>

<span data-ttu-id="8f2d5-145">**Orsaken till felet:** om din runbook är ett PowerShell-arbetsflöde, lagrar komplexa objekt i ett avserialiserat format för att spara runbook-tillstånd om arbetsflödet pausas.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-145">**Reason for the error:** If your runbook is a PowerShell Workflow, it stores complex objects in a deserialized format in order to persist your runbook state if the workflow is suspended.</span></span>  

<span data-ttu-id="8f2d5-146">**Felsökningstips:**</span><span class="sxs-lookup"><span data-stu-id="8f2d5-146">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="8f2d5-147">Något av följande tre sätt att åtgärda problemet:</span><span class="sxs-lookup"><span data-stu-id="8f2d5-147">Any of the following three solutions will fix this problem:</span></span>

1. <span data-ttu-id="8f2d5-148">Om du skicka komplexa objekt från en cmdlet till en annan, omsluta dessa cmdlets i ett InlineScript.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-148">If you are piping complex objects from one cmdlet to another, wrap these cmdlets in an InlineScript.</span></span>  
2. <span data-ttu-id="8f2d5-149">Skicka namn eller värde som du behöver från till komplexa objekt i stället för att skicka hela objektet.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-149">Pass the name or value that you need from the complex object instead of passing the entire object.</span></span>  
3. <span data-ttu-id="8f2d5-150">Använda en PowerShell-runbook i stället för en PowerShell-arbetsflödesrunbook.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-150">Use a PowerShell runbook instead of a PowerShell Workflow runbook.</span></span>  

### <a name="scenario-runbook-job-failed-because-the-allocated-quota-exceeded"></a><span data-ttu-id="8f2d5-151">Scenario: Runbook-jobbet misslyckades eftersom den tilldelade kvoten överskreds</span><span class="sxs-lookup"><span data-stu-id="8f2d5-151">Scenario: Runbook job failed because the allocated quota exceeded</span></span>
<span data-ttu-id="8f2d5-152">**Fel:** runbook-jobb misslyckas med felmeddelandet ”kvoten för den månatliga total jobbkörningstid har nåtts för den här prenumerationen”.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-152">**Error:** Your runbook job fails with the error "The quota for the monthly total job run time has been reached for this subscription".</span></span>

<span data-ttu-id="8f2d5-153">**Orsaken till felet:** detta fel uppstår när jobbkörningen överskrider 500 minut ledigt kvoten för ditt konto.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-153">**Reason for the error:** This error occurs when the job execution exceeds the 500-minute free quota for your account.</span></span> <span data-ttu-id="8f2d5-154">Den här kvoten gäller för alla typer av jobb körning av uppgifter som testar ett jobb, starta ett jobb från portalen, köra ett jobb med hjälp av webhooks och schemalägga ett jobb ska köras med hjälp av Azure portal eller i ditt datacenter.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-154">This quota applies to all types of job execution tasks such as testing a job, starting a job from the portal, executing a job by using webhooks and scheduling a job to execute by using either the Azure portal or in your datacenter.</span></span> <span data-ttu-id="8f2d5-155">Mer information om priser finns i Automation [Automation priser](https://azure.microsoft.com/pricing/details/automation/).</span><span class="sxs-lookup"><span data-stu-id="8f2d5-155">To learn more about pricing for Automation see [Automation pricing](https://azure.microsoft.com/pricing/details/automation/).</span></span>

<span data-ttu-id="8f2d5-156">**Felsökningstips:** om du vill använda mer än 500 minuter bearbetning per månad och du behöver ändra prenumerationen från kostnadsfria nivån till den grundläggande nivån.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-156">**Troubleshooting tips:** If you want to use more than 500 minutes of processing per month you will need to change your subscription from the Free tier to the Basic tier.</span></span> <span data-ttu-id="8f2d5-157">Du kan uppgradera till den grundläggande nivån genom att utföra följande steg:</span><span class="sxs-lookup"><span data-stu-id="8f2d5-157">You can upgrade to the Basic tier by taking the following steps:</span></span>  

1. <span data-ttu-id="8f2d5-158">Logga in till din Azure-prenumeration</span><span class="sxs-lookup"><span data-stu-id="8f2d5-158">Sign in to your Azure subscription</span></span>  
2. <span data-ttu-id="8f2d5-159">Välj det Automation-konto som du vill uppgradera</span><span class="sxs-lookup"><span data-stu-id="8f2d5-159">Select the Automation account you wish to upgrade</span></span>  
3. <span data-ttu-id="8f2d5-160">Klicka på **inställningar** > **prisnivå och användning** > **prisnivå**</span><span class="sxs-lookup"><span data-stu-id="8f2d5-160">Click on **Settings** > **Pricing tier and Usage** > **Pricing tier**</span></span>  
4. <span data-ttu-id="8f2d5-161">På den **Välj din prisnivå** bladet väljer **grundläggande**</span><span class="sxs-lookup"><span data-stu-id="8f2d5-161">On the **Choose your pricing tier** blade, select **Basic**</span></span>    

### <a name="scenario-cmdlet-not-recognized-when-executing-a-runbook"></a><span data-ttu-id="8f2d5-162">Scenario: Cmdlet som inte känns igen när du kör en runbook</span><span class="sxs-lookup"><span data-stu-id="8f2d5-162">Scenario: Cmdlet not recognized when executing a runbook</span></span>
<span data-ttu-id="8f2d5-163">**Fel:** runbook-jobb misslyckas med felmeddelandet ”``<cmdlet name>``: termen ``<cmdlet name>`` identifieras inte som namnet på en cmdlet, funktion, skriptfilen eller körbart program”.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-163">**Error:** Your runbook job fails with the error "``<cmdlet name>``: The term ``<cmdlet name>`` is not recognized as the name of a cmdlet, function, script file, or operable program."</span></span>

<span data-ttu-id="8f2d5-164">**Orsaken till felet:** felet orsakas när PowerShell-motorn inte kan hitta den cmdlet som du använder i din runbook.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-164">**Reason for the error:** This error is caused when the PowerShell engine cannot find the cmdlet you are using in your runbook.</span></span>  <span data-ttu-id="8f2d5-165">Detta kan bero på att den modul som innehåller cmdlet saknas från kontot, det finns en konflikt med ett namn på runbook, eller cmdleten finns också i en annan modul och Automation kan inte matcha namnet.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-165">This could be because the module containing the cmdlet is missing from the account, there is a name conflict with a runbook name, or the cmdlet also exists in another module and Automation cannot resolve the name.</span></span>

<span data-ttu-id="8f2d5-166">**Felsökningstips:** någon av följande lösningar kommer att åtgärda problemet:</span><span class="sxs-lookup"><span data-stu-id="8f2d5-166">**Troubleshooting tips:** Any of the following solutions will fix the problem:</span></span>  

* <span data-ttu-id="8f2d5-167">Kontrollera att du har angett rätt namn.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-167">Check that you have entered the cmdlet name correctly.</span></span>  
* <span data-ttu-id="8f2d5-168">Kontrollera att cmdleten finns i ditt Automation-konto och att det inte finns några konflikter.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-168">Make sure the cmdlet exists in your Automation account and that there are no conflicts.</span></span> <span data-ttu-id="8f2d5-169">Om du vill kontrollera om cmdleten finns, öppnar du en runbook i redigeringsläge och Sök efter den cmdlet som du vill söka efter i biblioteket eller kör **Get-Command ``<CommandName>``** .</span><span class="sxs-lookup"><span data-stu-id="8f2d5-169">To verify if the cmdlet is present, open a runbook in edit mode and search for the cmdlet you want to find in the library or run **Get-Command ``<CommandName>``**.</span></span>  <span data-ttu-id="8f2d5-170">När du har validerat som cmdleten är tillgänglig för kontot, och att det inte finns några namnet står i konflikt med andra cmdlets eller runbooks, lägga till på arbetsytan och se till att du använder en giltig parameter som angetts i din runbook.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-170">Once you have validated that the cmdlet is available to the account, and that there are no name conflicts with other cmdlets or runbooks, add it to the canvas and ensure that you are using a valid parameter set in your runbook.</span></span>  
* <span data-ttu-id="8f2d5-171">Om du har en namnkonflikt och cmdleten finns i två olika moduler, kan du lösa detta genom att använda det fullständiga namnet för cmdleten.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-171">If you do have a name conflict and the cmdlet is available in two different modules, you can resolve this by using the fully qualified name for the cmdlet.</span></span> <span data-ttu-id="8f2d5-172">Du kan till exempel använda **ModuleName\CmdletName**.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-172">For example, you can use **ModuleName\CmdletName**.</span></span>  
* <span data-ttu-id="8f2d5-173">Om du kör den runbook lokalt i en hybrid worker-gruppen, se till att följande cmdlet /-modulen är installerad på datorn som är värd för worker-hybriden.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-173">If you are executing the runbook on-premises in a hybrid worker group, then make sure that the module/cmdlet is installed on the machine that hosts the hybrid worker.</span></span>

### <a name="scenario-a-long-running-runbook-consistently-fails-with-the-exception-the-job-cannot-continue-running-because-it-was-repeatedly-evicted-from-the-same-checkpoint"></a><span data-ttu-id="8f2d5-174">Scenario: En tidskrävande runbook misslyckas konsekvent med undantaget: ”jobbet kan inte fortsätta eftersom det upprepade gånger har avlägsnats från samma kontrollpunkten”.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-174">Scenario: A long running runbook consistently fails with the exception: "The job cannot continue running because it was repeatedly evicted from the same checkpoint".</span></span>
<span data-ttu-id="8f2d5-175">**Orsaken till felet:** genom design beteende på grund av ”fördelning” övervakning av processer i Azure Automation, som automatiskt inaktiverar en runbook om den körs längre än tre timmar.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-175">**Reason for the error:** This is by design behavior due to the "Fair Share" monitoring of processes within Azure Automation, which automatically suspends a runbook if it executes longer than 3 hours.</span></span> <span data-ttu-id="8f2d5-176">Returneras följande felmeddelande ger dock inte ”härnäst” alternativ.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-176">However, the error message returned does not provide "what next" options.</span></span> <span data-ttu-id="8f2d5-177">En runbook kan avbrytas för ett antal orsaker.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-177">A runbook can be suspended for a number of reasons.</span></span> <span data-ttu-id="8f2d5-178">Pausar hända oftast på grund av fel.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-178">Suspends happen mostly due to errors.</span></span> <span data-ttu-id="8f2d5-179">Till exempel ett undantagsfel i en runbook, ett nätverksfel eller en krasch på Runbook Worker köra runbook alla kommer runbook att pausa och starta från den senaste kontrollpunkten när återupptas.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-179">For example, an uncaught exception in a runbook, a network failure, or a crash on the Runbook Worker running the runbook, will all cause the runbook to be suspended and start from its last checkpoint when resumed.</span></span>

<span data-ttu-id="8f2d5-180">**Felsökningstips:** dokumenterade lösning för att undvika det här problemet är att använda kontrollpunkter i ett arbetsflöde.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-180">**Troubleshooting tips:** The documented solution to avoid this issue is to use Checkpoints in a workflow.</span></span>  <span data-ttu-id="8f2d5-181">Mer information finns i [Learning PowerShell-arbetsflöden](automation-powershell-workflow.md#checkpoints).</span><span class="sxs-lookup"><span data-stu-id="8f2d5-181">To learn more refer to [Learning PowerShell Workflows](automation-powershell-workflow.md#checkpoints).</span></span>  <span data-ttu-id="8f2d5-182">En mer utförlig förklaring av ”fördelning” och kontrollpunkt kan hittas i den här bloggen artikeln [med kontrollpunkter i Runbooks](https://azure.microsoft.com/en-us/blog/azure-automation-reliable-fault-tolerant-runbook-execution-using-checkpoints/).</span><span class="sxs-lookup"><span data-stu-id="8f2d5-182">A more thorough explanation of "Fair Share" and Checkpoint can be found in this blog article [Using Checkpoints in Runbooks](https://azure.microsoft.com/en-us/blog/azure-automation-reliable-fault-tolerant-runbook-execution-using-checkpoints/).</span></span>

## <a name="common-errors-when-importing-modules"></a><span data-ttu-id="8f2d5-183">Vanliga fel när du importerar moduler</span><span class="sxs-lookup"><span data-stu-id="8f2d5-183">Common errors when importing modules</span></span>
### <a name="scenario-module-fails-to-import-or-cmdlets-cant-be-executed-after-importing"></a><span data-ttu-id="8f2d5-184">Scenario: Modulen inte att importera eller cmdlets kan inte utföras efter import</span><span class="sxs-lookup"><span data-stu-id="8f2d5-184">Scenario: Module fails to import or cmdlets can't be executed after importing</span></span>
<span data-ttu-id="8f2d5-185">**Fel:** en modul som inte går att importera eller importeras korrekt, men inga cmdletar extraheras.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-185">**Error:** A module fails to import or imports successfully, but no cmdlets are extracted.</span></span>

<span data-ttu-id="8f2d5-186">**Orsaken till felet:** är några vanliga orsaker som en modul inte kan importera har till Azure Automation:</span><span class="sxs-lookup"><span data-stu-id="8f2d5-186">**Reason for the error:** Some common reasons that a module might not successfully import to Azure Automation are:</span></span>  

* <span data-ttu-id="8f2d5-187">Strukturen matchar inte strukturen Automation måste den vara i.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-187">The structure does not match the structure that Automation needs it to be in.</span></span>  
* <span data-ttu-id="8f2d5-188">Modulen är beroende av en annan modul som inte har distribuerats till ditt Automation-konto.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-188">The module is dependent on another module that has not been deployed to your Automation account.</span></span>  
* <span data-ttu-id="8f2d5-189">Modulen saknar dess beroenden i mappen.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-189">The module is missing its dependencies in the folder.</span></span>  
* <span data-ttu-id="8f2d5-190">Den **ny AzureRmAutomationModule** cmdlet som används för att ladda upp modulen, och du inte har gett fullständig lagringssökvägen eller har inte att läsa in modulen med hjälp av en offentligt tillgänglig URL.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-190">The **New-AzureRmAutomationModule** cmdlet is being used to upload the module, and you have not given the full storage path or have not loaded the module by using a publicly accessible URL.</span></span>  

<span data-ttu-id="8f2d5-191">**Felsökningstips:**</span><span class="sxs-lookup"><span data-stu-id="8f2d5-191">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="8f2d5-192">Något av följande lösningar kommer att åtgärda problemet:</span><span class="sxs-lookup"><span data-stu-id="8f2d5-192">Any of the following solutions will fix the problem:</span></span>  

* <span data-ttu-id="8f2d5-193">Kontrollera att modulen följer följande format:</span><span class="sxs-lookup"><span data-stu-id="8f2d5-193">Make sure that the module follows the following format:</span></span>  
  <span data-ttu-id="8f2d5-194">ModuleName.Zip  **->**  ModuleName eller versionsnummer  **->**  (ModuleName.psm1, ModuleName.psd1)</span><span class="sxs-lookup"><span data-stu-id="8f2d5-194">ModuleName.Zip **->** ModuleName or Version Number **->** (ModuleName.psm1, ModuleName.psd1)</span></span>
* <span data-ttu-id="8f2d5-195">Öppna filen .psd1 och se om modulen har några beroenden.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-195">Open the .psd1 file and see if the module has any dependencies.</span></span>  <span data-ttu-id="8f2d5-196">Om du överför dessa moduler till Automation-kontot.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-196">If it does, upload these modules to the Automation account.</span></span>  
* <span data-ttu-id="8f2d5-197">Kontrollera att alla refererade DLL-filer finns i mappen modulen.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-197">Make sure that any referenced .dlls are present in the module folder.</span></span>  

## <a name="common-errors-when-working-with-desired-state-configuration-dsc"></a><span data-ttu-id="8f2d5-198">Vanliga fel när du arbetar med önskad tillstånd Configuration DSC)</span><span class="sxs-lookup"><span data-stu-id="8f2d5-198">Common errors when working with Desired State Configuration (DSC)</span></span>
### <a name="scenario-node-is-in-failed-status-with-a-not-found-error"></a><span data-ttu-id="8f2d5-199">Scenario: Noden är statusen misslyckades med felet ”kunde inte hittas”</span><span class="sxs-lookup"><span data-stu-id="8f2d5-199">Scenario: Node is in failed status with a “Not found” error</span></span>
<span data-ttu-id="8f2d5-200">**Fel:** noden har en rapport med **misslyckades** status och med felet ”försöket att hämta åtgärden från servern https://``<url>``//accounts/ ``<account-id>`` /Nodes(AgentId=``<agent-id>``) / GetDscAction misslyckades på grund av en giltig konfiguration ``<guid>`` kan inte hittas ”.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-200">**Error:** The node has a report with **Failed** status and containing the error "The attempt to get the action from server https://``<url>``//accounts/``<account-id>``/Nodes(AgentId=``<agent-id>``)/GetDscAction failed because a valid configuration ``<guid>`` cannot be found.”</span></span>

<span data-ttu-id="8f2d5-201">**Orsaken till felet:** det här felet uppstår vanligen när noden har tilldelats en Konfigurationsnamnet (t.ex. ABC) i stället för ett namn på konfigurationsnod (t.ex. ABC. Webbserver).</span><span class="sxs-lookup"><span data-stu-id="8f2d5-201">**Reason for the error:** This error typically occurs when the node is assigned to a configuration name (e.g. ABC) instead of a node configuration name (e.g. ABC.WebServer).</span></span>  

<span data-ttu-id="8f2d5-202">**Felsökningstips:**</span><span class="sxs-lookup"><span data-stu-id="8f2d5-202">**Troubleshooting tips:**</span></span>  

* <span data-ttu-id="8f2d5-203">Kontrollera att du tilldelar noden med ”nodkonfigurationsnamnet” och inte ”Konfigurationsnamnet”.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-203">Make sure that you are assigning the node with "node configuration name" and not the "configuration name".</span></span>  
* <span data-ttu-id="8f2d5-204">Du kan tilldela en konfiguration av noden till en nod med hjälp av Azure-portalen eller med en PowerShell-cmdlet.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-204">You can assign a node configuration to a node using Azure portal or with a PowerShell cmdlet.</span></span>

  * <span data-ttu-id="8f2d5-205">För att tilldela en konfiguration av noden till en nod med hjälp av Azure portal, öppna den **DSC-noder** bladet Välj en nod och klicka på **tilldela nodkonfiguration** knappen.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-205">In order to assign a node configuration to a node using Azure portal, open the **DSC Nodes** blade, then select a node and click on **Assign node configuration** button.</span></span>  
  * <span data-ttu-id="8f2d5-206">Använd om du vill tilldela en nod med hjälp av PowerShell-cmdlet för konfiguration av noden **Set AzureRmAutomationDscNode** cmdlet</span><span class="sxs-lookup"><span data-stu-id="8f2d5-206">In order to assign a node configuration to a node using PowerShell cmdlet, use **Set-AzureRmAutomationDscNode** cmdlet</span></span>

### <a name="scenario--no-node-configurations-mof-files-were-produced-when-a-configuration-is-compiled"></a><span data-ttu-id="8f2d5-207">Scenario: Inga nodkonfigurationer (MOF-filer) skapas när en konfiguration kompileras</span><span class="sxs-lookup"><span data-stu-id="8f2d5-207">Scenario:  No node configurations (MOF files) were produced when a configuration is compiled</span></span>
<span data-ttu-id="8f2d5-208">**Fel:** DSC-Kompileringsjobb pausar med fel: ”kompilering slutfördes, men ingen nod configuration .mofs genererades”.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-208">**Error:** Your DSC compilation job suspends with the error: “Compilation completed successfully, but no node configuration .mofs were generated”.</span></span>

<span data-ttu-id="8f2d5-209">**Orsaken till felet:** när följande uttryck i **nod** nyckelord i DSC-konfigurationen utvärderas till $null sedan inga nodkonfigurationer skapas.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-209">**Reason for the error:** When the expression following the **Node** keyword in the DSC configuration evaluates to $null then no node configurations will be produced.</span></span>    

<span data-ttu-id="8f2d5-210">**Felsökningstips:**</span><span class="sxs-lookup"><span data-stu-id="8f2d5-210">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="8f2d5-211">Något av följande lösningar kommer att åtgärda problemet:</span><span class="sxs-lookup"><span data-stu-id="8f2d5-211">Any of the following solutions will fix the problem:</span></span>  

* <span data-ttu-id="8f2d5-212">Se till att uttrycket bredvid den **nod** nyckelord i konfigurationsdefinition utvärderas inte till $null.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-212">Make sure that the expression next to the **Node** keyword in the configuration definition is not evaluating to $null.</span></span>  
* <span data-ttu-id="8f2d5-213">Om du skickar ConfigurationData vid kompilering av konfigurationen, kontrollera att du skickar de förväntade värdena konfigurationen kräver från [ConfigurationData](automation-dsc-compile.md#configurationdata).</span><span class="sxs-lookup"><span data-stu-id="8f2d5-213">If you are passing ConfigurationData when compiling the configuration, make sure that you are passing the expected values that the configuration requires from [ConfigurationData](automation-dsc-compile.md#configurationdata).</span></span>

### <a name="scenario--the-dsc-node-report-becomes-stuck-in-progress-state"></a><span data-ttu-id="8f2d5-214">Scenario: Rapporten DSC-nod blir fastnat ”pågående”-tillstånd</span><span class="sxs-lookup"><span data-stu-id="8f2d5-214">Scenario:  The DSC node report becomes stuck “in progress” state</span></span>
<span data-ttu-id="8f2d5-215">**Fel:** DSC-agenten matar ut ”ingen instans hittades med den angivna egenskapsvärden”.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-215">**Error:** DSC Agent outputs “No instance found with given property values.”</span></span>

<span data-ttu-id="8f2d5-216">**Orsaken till felet:** du har uppgraderat WMF-version och ha skadad WMI.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-216">**Reason for the error:** You have upgraded your WMF version and have corrupted WMI.</span></span>  

<span data-ttu-id="8f2d5-217">**Felsökningstips:** följer du anvisningarna i den [DSC kända problem och begränsningar](https://msdn.microsoft.com/powershell/wmf/5.0/limitation_dsc) att åtgärda problemet.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-217">**Troubleshooting tips:** Follow the instructions in the [DSC known issues and limitations](https://msdn.microsoft.com/powershell/wmf/5.0/limitation_dsc) to fix the issue.</span></span>

### <a name="scenario--unable-to-use-a-credential-in-a-dsc-configuration"></a><span data-ttu-id="8f2d5-218">Scenario: Det går inte att använda en autentiseringsuppgift i en DSC-konfiguration</span><span class="sxs-lookup"><span data-stu-id="8f2d5-218">Scenario:  Unable to use a credential in a DSC configuration</span></span>
<span data-ttu-id="8f2d5-219">**Fel:** DSC-Kompileringsjobb pausades med fel ”: System.InvalidOperationException fel vid bearbetning av egenskapen Credential om du av typen ``<some resource name>``: konvertera och lagra ett krypterat lösenord som klartext tillåts endast om PSDscAllowPlainTextPassword har angetts till true ”.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-219">**Error:** Your DSC compilation job was suspended with the error: “System.InvalidOperationException error processing property 'Credential' of type ``<some resource name>``: Converting and storing an encrypted password as plaintext is allowed only if PSDscAllowPlainTextPassword is set to true”.</span></span>

<span data-ttu-id="8f2d5-220">**Orsaken till felet:** du har använt en autentiseringsuppgift i en konfiguration, men inte anger rätt **ConfigurationData** ange **PSDscAllowPlainTextPassword** till true för varje nod konfiguration.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-220">**Reason for the error:** You have used a credential in a configuration but didn’t provide proper **ConfigurationData** to set **PSDscAllowPlainTextPassword** to true for each node configuration.</span></span>  

<span data-ttu-id="8f2d5-221">**Felsökningstips:**</span><span class="sxs-lookup"><span data-stu-id="8f2d5-221">**Troubleshooting tips:**</span></span>  

* <span data-ttu-id="8f2d5-222">Se till att skicka in rätt **ConfigurationData** ange **PSDscAllowPlainTextPassword** till true för varje nodkonfiguration som nämns i konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-222">Make sure to pass in the proper **ConfigurationData** to set **PSDscAllowPlainTextPassword** to true for each node configuration mentioned in the configuration.</span></span> <span data-ttu-id="8f2d5-223">Mer information finns i [tillgångar i Azure Automation DSC](automation-dsc-compile.md#assets).</span><span class="sxs-lookup"><span data-stu-id="8f2d5-223">For more information, refer to [assets in Azure Automation DSC](automation-dsc-compile.md#assets).</span></span>

## <a name="next-steps"></a><span data-ttu-id="8f2d5-224">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="8f2d5-224">Next steps</span></span>
<span data-ttu-id="8f2d5-225">Du kan granska supportalternativen nedan om du har följt felsökningsstegen ovan och det går inte att hitta svaret.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-225">If you have followed the troubleshooting steps above and can't find the answer, you can review the additional support options below.</span></span>

* <span data-ttu-id="8f2d5-226">Få hjälp från Azure-experter.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-226">Get help from Azure experts.</span></span> <span data-ttu-id="8f2d5-227">Skicka din förfrågan till den [MSDN Azure eller Stack Overflow-forum.](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="8f2d5-227">Submit your issue to the [MSDN Azure or Stack Overflow forums.](https://azure.microsoft.com/support/forums/).</span></span>
* <span data-ttu-id="8f2d5-228">En Azure-supportincident-filen.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-228">File an Azure support incident.</span></span> <span data-ttu-id="8f2d5-229">Gå till den [Azure stöder site](https://azure.microsoft.com/support/options/) och på **få support** under **Technical och fakturering support**.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-229">Go to the [Azure Support site](https://azure.microsoft.com/support/options/) and click **Get support** under **Technical and billing support**.</span></span>
* <span data-ttu-id="8f2d5-230">Skicka en begäran om skriptet på [Script Center](https://azure.microsoft.com/documentation/scripts/) om du söker efter en Azure Automation runbook-lösning eller en modul för integrering.</span><span class="sxs-lookup"><span data-stu-id="8f2d5-230">Post a Script Request on [Script Center](https://azure.microsoft.com/documentation/scripts/) if you are looking for an Azure Automation runbook solution or an integration module.</span></span>
* <span data-ttu-id="8f2d5-231">Skicka feedback eller funktionen begäranden för Azure Automation på [User Voice](https://feedback.azure.com/forums/34192--general-feedback).</span><span class="sxs-lookup"><span data-stu-id="8f2d5-231">Post feedback or feature requests for Azure Automation on [User Voice](https://feedback.azure.com/forums/34192--general-feedback).</span></span>
