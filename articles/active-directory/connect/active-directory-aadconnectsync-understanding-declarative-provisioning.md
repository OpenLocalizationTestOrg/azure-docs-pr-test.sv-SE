---
title: "Azure AD Connect: Förstå deklarativ etablering | Microsoft Docs"
description: "Förklarar hello deklarativ etablering Konfigurationsmodell i Azure AD Connect."
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: cfbb870d-be7d-47b3-ba01-9e78121f0067
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: billmath
ms.openlocfilehash: f11e078f0aafacf94d69f0726ae41629a8470336
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-connect-sync-understanding-declarative-provisioning"></a><span data-ttu-id="68c2d-103">Azure AD Connect-synkronisering: Förstå deklarativ etablering</span><span class="sxs-lookup"><span data-stu-id="68c2d-103">Azure AD Connect sync: Understanding Declarative Provisioning</span></span>
<span data-ttu-id="68c2d-104">Det här avsnittet beskriver hello Konfigurationsmodell i Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="68c2d-104">This topic explains hello configuration model in Azure AD Connect.</span></span> <span data-ttu-id="68c2d-105">hello modellen kallas deklarativ etablering och du toomake en konfigurationsändring utan problem.</span><span class="sxs-lookup"><span data-stu-id="68c2d-105">hello model is called Declarative Provisioning and it allows you toomake a configuration change with ease.</span></span> <span data-ttu-id="68c2d-106">Många saker som beskrivs i det här avsnittet avancerade och krävs inte för de flesta kundscenarier.</span><span class="sxs-lookup"><span data-stu-id="68c2d-106">Many things described in this topic are advanced and not required for most customer scenarios.</span></span>

## <a name="overview"></a><span data-ttu-id="68c2d-107">Översikt</span><span class="sxs-lookup"><span data-stu-id="68c2d-107">Overview</span></span>
<span data-ttu-id="68c2d-108">Deklarativ etablering bearbetning av objekt som kommer från en ansluten källkatalog och avgör hur hello objekt och attribut ska omvandlas från en källa tooa mål.</span><span class="sxs-lookup"><span data-stu-id="68c2d-108">Declarative provisioning is processing objects coming in from a source connected directory and determines how hello object and attributes should be transformed from a source tooa target.</span></span> <span data-ttu-id="68c2d-109">Ett objekt ska bearbetas i en pipeline för synkronisering och hello pipeline är hello samma för inkommande och utgående regler.</span><span class="sxs-lookup"><span data-stu-id="68c2d-109">An object is processed in a sync pipeline and hello pipeline is hello same for inbound and outbound rules.</span></span> <span data-ttu-id="68c2d-110">En inkommande regel är från en koppling utrymme toohello metaversum och en utgående regel är från hello metaversum tooa anslutningsplatsen.</span><span class="sxs-lookup"><span data-stu-id="68c2d-110">An inbound rule is from a connector space toohello metaverse and an outbound rule is from hello metaverse tooa connector space.</span></span>

![Synkronisera pipeline](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/sync1.png)  

<span data-ttu-id="68c2d-112">hello pipeline har flera olika moduler.</span><span class="sxs-lookup"><span data-stu-id="68c2d-112">hello pipeline has several different modules.</span></span> <span data-ttu-id="68c2d-113">Var och en ansvarar för ett begrepp i objektet synkroniseringen.</span><span class="sxs-lookup"><span data-stu-id="68c2d-113">Each one is responsible for one concept in object synchronization.</span></span>

![Synkronisera pipeline](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/pipeline.png)  

* <span data-ttu-id="68c2d-115">Källa, hello källobjektet</span><span class="sxs-lookup"><span data-stu-id="68c2d-115">Source, hello source object</span></span>
* <span data-ttu-id="68c2d-116">[Scope](#scope), hittar alla sync-regler som ingår i omfattningen</span><span class="sxs-lookup"><span data-stu-id="68c2d-116">[Scope](#scope), Finds all sync rules that are in scope</span></span>
* <span data-ttu-id="68c2d-117">[Anslut](#join), anger förhållandet mellan anslutningsutrymme och metaversum</span><span class="sxs-lookup"><span data-stu-id="68c2d-117">[Join](#join), Determines relationship between connector space and metaverse</span></span>
* <span data-ttu-id="68c2d-118">[Transformera](#transform), beräknar hur attribut ska transformeras och flöde</span><span class="sxs-lookup"><span data-stu-id="68c2d-118">[Transform](#transform), Calculates how attributes should be transformed and flow</span></span>
* <span data-ttu-id="68c2d-119">[Prioritet](#precedence), matchar motstridiga attributet bidrag</span><span class="sxs-lookup"><span data-stu-id="68c2d-119">[Precedence](#precedence), Resolves conflicting attribute contributions</span></span>
* <span data-ttu-id="68c2d-120">Mål, hello målobjekt</span><span class="sxs-lookup"><span data-stu-id="68c2d-120">Target, hello target object</span></span>

## <a name="scope"></a><span data-ttu-id="68c2d-121">Omfång</span><span class="sxs-lookup"><span data-stu-id="68c2d-121">Scope</span></span>
<span data-ttu-id="68c2d-122">hello scope modulen utvärderar ett objekt och anger hello regler som ingår i omfattningen och ska tas med i hello bearbetning.</span><span class="sxs-lookup"><span data-stu-id="68c2d-122">hello scope module is evaluating an object and determines hello rules that are in scope and should be included in hello processing.</span></span> <span data-ttu-id="68c2d-123">Beroende på hello attribut värden på hello objekt är olika sync utvärderade toobe i sitt omfång.</span><span class="sxs-lookup"><span data-stu-id="68c2d-123">Depending on hello attributes values on hello object, different sync rules are evaluated toobe in scope.</span></span> <span data-ttu-id="68c2d-124">Till exempel har en inaktiverad användare med någon Exchange-postlåda olika regler än en aktiverad användare med en postlåda.</span><span class="sxs-lookup"><span data-stu-id="68c2d-124">For example, a disabled user with no Exchange mailbox does have different rules than an enabled user with a mailbox.</span></span>  
![Omfång](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/scope1.png)  

<span data-ttu-id="68c2d-126">hello omfång definieras som grupper och -satser.</span><span class="sxs-lookup"><span data-stu-id="68c2d-126">hello scope is defined as groups and clauses.</span></span> <span data-ttu-id="68c2d-127">hello-satser är inuti en grupp.</span><span class="sxs-lookup"><span data-stu-id="68c2d-127">hello clauses are inside a group.</span></span> <span data-ttu-id="68c2d-128">En logisk AND används mellan alla satser i en grupp.</span><span class="sxs-lookup"><span data-stu-id="68c2d-128">A logical AND is used between all clauses in a group.</span></span> <span data-ttu-id="68c2d-129">Till exempel (avdelning = IT och land = Danmark).</span><span class="sxs-lookup"><span data-stu-id="68c2d-129">For example, (department =IT AND country = Denmark).</span></span> <span data-ttu-id="68c2d-130">Ett logiskt OR används mellan grupper.</span><span class="sxs-lookup"><span data-stu-id="68c2d-130">A logical OR is used between groups.</span></span>

![Omfång](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/scope2.png)  
<span data-ttu-id="68c2d-132">hello scope i den här bilden ska läsas som (avdelning = IT och land = Danmark) eller (land = Sverige).</span><span class="sxs-lookup"><span data-stu-id="68c2d-132">hello scope in this picture should be read as (department = IT AND country = Denmark) OR (country=Sweden).</span></span> <span data-ttu-id="68c2d-133">Om grupp 1 eller grupp 2 är värdera tootrue är hello regeln i sitt omfång.</span><span class="sxs-lookup"><span data-stu-id="68c2d-133">If either group 1 or group 2 is evaluated tootrue, then hello rule is in scope.</span></span>

<span data-ttu-id="68c2d-134">hello scope modulen stöder hello följande åtgärder.</span><span class="sxs-lookup"><span data-stu-id="68c2d-134">hello scope module supports hello following operations.</span></span>

| <span data-ttu-id="68c2d-135">Åtgärd</span><span class="sxs-lookup"><span data-stu-id="68c2d-135">Operation</span></span> | <span data-ttu-id="68c2d-136">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="68c2d-136">Description</span></span> |
| --- | --- |
| <span data-ttu-id="68c2d-137">LIKA, NOTEQUAL</span><span class="sxs-lookup"><span data-stu-id="68c2d-137">EQUAL, NOTEQUAL</span></span> |<span data-ttu-id="68c2d-138">En sträng jämför som utvärderar om värdet är lika toohello värde i hello-attributet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-138">A string compare that evaluates if value is equal toohello value in hello attribute.</span></span> <span data-ttu-id="68c2d-139">Flera värden attribut finns i ISIN och ISNOTIN.</span><span class="sxs-lookup"><span data-stu-id="68c2d-139">For multi-valued attributes, see ISIN and ISNOTIN.</span></span> |
| <span data-ttu-id="68c2d-140">LESSTHAN LESSTHAN_OR_EQUAL</span><span class="sxs-lookup"><span data-stu-id="68c2d-140">LESSTHAN, LESSTHAN_OR_EQUAL</span></span> |<span data-ttu-id="68c2d-141">Jämför en sträng som utvärderar om värdet är mindre än av hello värde i hello-attributet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-141">A string compare that evaluates if value is less than of hello value in hello attribute.</span></span> |
| <span data-ttu-id="68c2d-142">INNEHÅLLER, NOTCONTAINS</span><span class="sxs-lookup"><span data-stu-id="68c2d-142">CONTAINS, NOTCONTAINS</span></span> |<span data-ttu-id="68c2d-143">En sträng jämför som utvärderar om värde finns någonstans i värdet i hello-attributet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-143">A string compare that evaluates if value can be found somewhere inside value in hello attribute.</span></span> |
| <span data-ttu-id="68c2d-144">STARTSWITH, NOTSTARTSWITH</span><span class="sxs-lookup"><span data-stu-id="68c2d-144">STARTSWITH, NOTSTARTSWITH</span></span> |<span data-ttu-id="68c2d-145">En sträng jämför som utvärderar om värdet är i hello början av hello värde i hello-attributet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-145">A string compare that evaluates if value is in hello beginning of hello value in hello attribute.</span></span> |
| <span data-ttu-id="68c2d-146">ENDSWITH NOTENDSWITH</span><span class="sxs-lookup"><span data-stu-id="68c2d-146">ENDSWITH, NOTENDSWITH</span></span> |<span data-ttu-id="68c2d-147">En sträng jämför som utvärderar om värdet är i hello slutet av hello värde i hello-attributet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-147">A string compare that evaluates if value is in hello end of hello value in hello attribute.</span></span> |
| <span data-ttu-id="68c2d-148">GREATERTHAN GREATERTHAN_OR_EQUAL</span><span class="sxs-lookup"><span data-stu-id="68c2d-148">GREATERTHAN, GREATERTHAN_OR_EQUAL</span></span> |<span data-ttu-id="68c2d-149">En sträng jämför som utvärderar om värdet är större än hello värde i hello-attributet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-149">A string compare that evaluates if value is greater than of hello value in hello attribute.</span></span> |
| <span data-ttu-id="68c2d-150">ISNULL ISNOTNULL</span><span class="sxs-lookup"><span data-stu-id="68c2d-150">ISNULL, ISNOTNULL</span></span> |<span data-ttu-id="68c2d-151">Utvärderar om hello-attributet saknas från hello-objekt.</span><span class="sxs-lookup"><span data-stu-id="68c2d-151">Evaluates if hello attribute is absent from hello object.</span></span> <span data-ttu-id="68c2d-152">Om hello attributet finns inte och därför null, är hello regeln i sitt omfång.</span><span class="sxs-lookup"><span data-stu-id="68c2d-152">If hello attribute is not present and therefore null, then hello rule is in scope.</span></span> |
| <span data-ttu-id="68c2d-153">ISIN ISNOTIN</span><span class="sxs-lookup"><span data-stu-id="68c2d-153">ISIN, ISNOTIN</span></span> |<span data-ttu-id="68c2d-154">Utvärderar om hello värdet finns i hello definierade attribut.</span><span class="sxs-lookup"><span data-stu-id="68c2d-154">Evaluates if hello value is present in hello defined attribute.</span></span> <span data-ttu-id="68c2d-155">Den här åtgärden är hello med flera värden variant av LIKVÄRDIGT och NOTEQUAL.</span><span class="sxs-lookup"><span data-stu-id="68c2d-155">This operation is hello multi-valued variation of EQUAL and NOTEQUAL.</span></span> <span data-ttu-id="68c2d-156">hello-attributet måste toobe ett flervärdesattribut och om hello värdet hittar du i något av hello attributvärden hello regeln är i omfång.</span><span class="sxs-lookup"><span data-stu-id="68c2d-156">hello attribute is supposed toobe a multi-valued attribute and if hello value can be found in any of hello attribute values, then hello rule is in scope.</span></span> |
| <span data-ttu-id="68c2d-157">ISBITSET ISNOTBITSET</span><span class="sxs-lookup"><span data-stu-id="68c2d-157">ISBITSET, ISNOTBITSET</span></span> |<span data-ttu-id="68c2d-158">Utvärderar om en viss biten är aktiverad.</span><span class="sxs-lookup"><span data-stu-id="68c2d-158">Evaluates if a particular bit is set.</span></span> <span data-ttu-id="68c2d-159">Till exempel kan vara används tooevaluate hello bitar i userAccountControl toosee om en användare är aktiverat eller inaktiverat.</span><span class="sxs-lookup"><span data-stu-id="68c2d-159">For example, can be used tooevaluate hello bits in userAccountControl toosee if a user is enabled or disabled.</span></span> |
| <span data-ttu-id="68c2d-160">ISMEMBEROF ISNOTMEMBEROF</span><span class="sxs-lookup"><span data-stu-id="68c2d-160">ISMEMBEROF, ISNOTMEMBEROF</span></span> |<span data-ttu-id="68c2d-161">hello värde ska innehålla en DN tooa grupp i hello anslutningsplatsen.</span><span class="sxs-lookup"><span data-stu-id="68c2d-161">hello value should contain a DN tooa group in hello connector space.</span></span> <span data-ttu-id="68c2d-162">Om hello-objektet är medlem i hello grupp har angetts, är hello regeln i sitt omfång.</span><span class="sxs-lookup"><span data-stu-id="68c2d-162">If hello object is a member of hello group specified, hello rule is in scope.</span></span> |

## <a name="join"></a><span data-ttu-id="68c2d-163">Slå ihop</span><span class="sxs-lookup"><span data-stu-id="68c2d-163">Join</span></span>
<span data-ttu-id="68c2d-164">hello koppling modul i pipeline för synkronisering av hello ansvarar för att hitta hello relationen mellan hello objektet i hello källan och ett objekt i hello mål.</span><span class="sxs-lookup"><span data-stu-id="68c2d-164">hello join module in hello sync pipeline is responsible for finding hello relationship between hello object in hello source and an object in hello target.</span></span> <span data-ttu-id="68c2d-165">Den här relationen skulle vara ett objekt i kopplingen kan söka efter en tooan relationsobjektet i hello metaversum på en inkommande regel.</span><span class="sxs-lookup"><span data-stu-id="68c2d-165">On an inbound rule, this relationship would be an object in a connector space finding a relationship tooan object in hello metaverse.</span></span>  
![Anslut mellan cs och mv](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/join1.png)  
<span data-ttu-id="68c2d-167">hello målet toosee om det finns redan ett objekt i hello-metaversum som skapats av en annan koppling, det ska kopplas till.</span><span class="sxs-lookup"><span data-stu-id="68c2d-167">hello goal is toosee if there is an object already in hello metaverse, created by another Connector, it should be associated with.</span></span> <span data-ttu-id="68c2d-168">Till exempel ska skog hello användaren från hello kontoskog en konto-resurs kopplas till hello användaren från hello resursskogen.</span><span class="sxs-lookup"><span data-stu-id="68c2d-168">For example, in an account-resource forest hello user from hello account forest should be joined with hello user from hello resource forest.</span></span>

<span data-ttu-id="68c2d-169">Kopplingar används främst på regler för inkommande trafik toojoin connector utrymme objekt tillsammans toohello samma metaversumobjekt.</span><span class="sxs-lookup"><span data-stu-id="68c2d-169">Joins are used mostly on inbound rules toojoin connector space objects together toohello same metaverse object.</span></span>

<span data-ttu-id="68c2d-170">hello kopplingar definieras som en eller flera grupper.</span><span class="sxs-lookup"><span data-stu-id="68c2d-170">hello joins are defined as one or more groups.</span></span> <span data-ttu-id="68c2d-171">Du har satser i en grupp.</span><span class="sxs-lookup"><span data-stu-id="68c2d-171">Inside a group, you have clauses.</span></span> <span data-ttu-id="68c2d-172">En logisk AND används mellan alla satser i en grupp.</span><span class="sxs-lookup"><span data-stu-id="68c2d-172">A logical AND is used between all clauses in a group.</span></span> <span data-ttu-id="68c2d-173">Ett logiskt OR används mellan grupper.</span><span class="sxs-lookup"><span data-stu-id="68c2d-173">A logical OR is used between groups.</span></span> <span data-ttu-id="68c2d-174">hello grupper bearbetas i ordning från översta toobottom.</span><span class="sxs-lookup"><span data-stu-id="68c2d-174">hello groups are processed in order from top toobottom.</span></span> <span data-ttu-id="68c2d-175">När en grupp har hittat en matchning med ett objekt i hello mål, utvärderas inga andra join-regler.</span><span class="sxs-lookup"><span data-stu-id="68c2d-175">When one group has found exactly one match with an object in hello target, then no other join rules are evaluated.</span></span> <span data-ttu-id="68c2d-176">Om noll eller fler än ett objekt hittades, fortsätter bearbetningen toohello nästa grupp av regler.</span><span class="sxs-lookup"><span data-stu-id="68c2d-176">If zero or more than one object is found, processing continues toohello next group of rules.</span></span> <span data-ttu-id="68c2d-177">Därför bör hello regler skapas hello efter mest explicit första och mer fuzzy hello slutet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-177">For this reason, hello rules should be created in hello order of most explicit first and more fuzzy at hello end.</span></span>  
![Ansluta till definition](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/join2.png)  
<span data-ttu-id="68c2d-179">hello kopplingar i den här bilden bearbetas från översta toobottom.</span><span class="sxs-lookup"><span data-stu-id="68c2d-179">hello joins in this picture are processed from top toobottom.</span></span> <span data-ttu-id="68c2d-180">Första hello sync pipeline ser om det finns en matchning på employeeID.</span><span class="sxs-lookup"><span data-stu-id="68c2d-180">First hello sync pipeline sees if there is a match on employeeID.</span></span> <span data-ttu-id="68c2d-181">Om inte, hello andra regeln ser om hello kontonamn kan använda toojoin hello objekt tillsammans.</span><span class="sxs-lookup"><span data-stu-id="68c2d-181">If not, hello second rule sees if hello account name can be used toojoin hello objects together.</span></span> <span data-ttu-id="68c2d-182">Om det inte matchar antingen, är hello tredje och sista regeln en mer fuzzy matchning med hello namn för användaren.</span><span class="sxs-lookup"><span data-stu-id="68c2d-182">If that is not a match either, hello third and final rule is a more fuzzy match by using hello name of user.</span></span>

<span data-ttu-id="68c2d-183">Om alla join-regler har utvärderats och det är inte exakt en matchning, hello **länktypen** på hello **beskrivning** sidan används.</span><span class="sxs-lookup"><span data-stu-id="68c2d-183">If all join rules have been evaluated and there is not exactly one match, hello **Link Type** on hello **Description** page is used.</span></span> <span data-ttu-id="68c2d-184">Om det här alternativet har angetts för**etablera**, skapas ett nytt objekt i hello mål.</span><span class="sxs-lookup"><span data-stu-id="68c2d-184">If this option is set too**Provision**, then a new object in hello target is created.</span></span>  
<span data-ttu-id="68c2d-185">![Etablera eller koppling](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/join3.png)</span><span class="sxs-lookup"><span data-stu-id="68c2d-185">![Provision or join](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/join3.png)</span></span>  

<span data-ttu-id="68c2d-186">Ett objekt ska bara ha en enda synkroniseringsregel med anslutning till regler i sitt omfång.</span><span class="sxs-lookup"><span data-stu-id="68c2d-186">An object should only have one single sync rule with join rules in scope.</span></span> <span data-ttu-id="68c2d-187">Om det finns flera regler för synkronisering där koppling definieras, uppstår ett fel.</span><span class="sxs-lookup"><span data-stu-id="68c2d-187">If there are multiple sync rules where join is defined, an error occurs.</span></span> <span data-ttu-id="68c2d-188">Prioritet är inte använda tooresolve koppling konflikter.</span><span class="sxs-lookup"><span data-stu-id="68c2d-188">Precedence is not used tooresolve join conflicts.</span></span> <span data-ttu-id="68c2d-189">Ett objekt måste ha en join-regel i omfånget för attribut tooflow med hello samma inkommande/utgående riktning.</span><span class="sxs-lookup"><span data-stu-id="68c2d-189">An object must have a join rule in scope for attributes tooflow with hello same inbound/outbound direction.</span></span> <span data-ttu-id="68c2d-190">Om du behöver tooflow attribut både inkommande och utgående toohello samma objekt måste du ha en inkommande och en utgående synkroniseringsregel med koppling.</span><span class="sxs-lookup"><span data-stu-id="68c2d-190">If you need tooflow attributes both inbound and outbound toohello same object, you must have both an inbound and an outbound sync rule with join.</span></span>

<span data-ttu-id="68c2d-191">Utgående koppling har särskilda beteenden när den försöker tooprovision ett objekt tooa mål anslutningsplatsen.</span><span class="sxs-lookup"><span data-stu-id="68c2d-191">Outbound join has a special behavior when it tries tooprovision an object tooa target connector space.</span></span> <span data-ttu-id="68c2d-192">hello DN-attributet är används toofirst försök en omvänd-koppling.</span><span class="sxs-lookup"><span data-stu-id="68c2d-192">hello DN attribute is used toofirst try a reverse-join.</span></span> <span data-ttu-id="68c2d-193">Om det finns redan ett objekt i hello mål anslutningsplatsen med hello samma DN, hello objekt är anslutna.</span><span class="sxs-lookup"><span data-stu-id="68c2d-193">If there is already an object in hello target connector space with hello same DN, hello objects are joined.</span></span>

<span data-ttu-id="68c2d-194">hello koppling modulen utvärderas bara när när en ny synkroniseringsregel kommer in scope.</span><span class="sxs-lookup"><span data-stu-id="68c2d-194">hello join module is only evaluated once when a new sync rule comes into scope.</span></span> <span data-ttu-id="68c2d-195">När du har anslutit till ett objekt, det inte koppla från även om hello kopplingsvillkor är inte längre uppfyllt.</span><span class="sxs-lookup"><span data-stu-id="68c2d-195">When an object has joined, it is not disjoining even if hello join criteria is no longer satisfied.</span></span> <span data-ttu-id="68c2d-196">Om du vill toodisjoin ett objekt måste gå hello synkroniseringsregel som ansluten hello objekt utanför omfånget.</span><span class="sxs-lookup"><span data-stu-id="68c2d-196">If you want toodisjoin an object, hello sync rule that joined hello objects must go out of scope.</span></span>

### <a name="metaverse-delete"></a><span data-ttu-id="68c2d-197">Ta bort metaversum</span><span class="sxs-lookup"><span data-stu-id="68c2d-197">Metaverse delete</span></span>
<span data-ttu-id="68c2d-198">En metaversumobjekt förblir så länge det finns en synkroniseringsregel i omfång med **länktypen** ställa in också**etablera** eller **StickyJoin**.</span><span class="sxs-lookup"><span data-stu-id="68c2d-198">A metaverse object remains as long as there is one sync rule in scope with **Link Type** set too**Provision** or **StickyJoin**.</span></span> <span data-ttu-id="68c2d-199">En StickyJoin används när en koppling inte är tillåten tooprovision ett nytt objekt toohello metaversum, men när den har ansluten, det måste tas bort i hello källan innan hello metaversumobjekt tas bort.</span><span class="sxs-lookup"><span data-stu-id="68c2d-199">A StickyJoin is used when a Connector is not allowed tooprovision a new object toohello metaverse, but when it has joined, it must be deleted in hello source before hello metaverse object is deleted.</span></span>

<span data-ttu-id="68c2d-200">När en metaversumobjekt tas bort, alla objekt som är associerade med ett utgående synkroniseringsregel som markerats för **etablera** markeras för en borttagning.</span><span class="sxs-lookup"><span data-stu-id="68c2d-200">When a metaverse object is deleted, all objects associated with an outbound sync rule marked for **provision** are marked for a delete.</span></span>

## <a name="transformations"></a><span data-ttu-id="68c2d-201">Omvandlingar</span><span class="sxs-lookup"><span data-stu-id="68c2d-201">Transformations</span></span>
<span data-ttu-id="68c2d-202">hello transformationer är används toodefine hur attribut ska flödas från hello källa toohello målet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-202">hello transformations are used toodefine how attributes should flow from hello source toohello target.</span></span> <span data-ttu-id="68c2d-203">hello flöden kan ha en av följande hello **flöda typer**: direkta eller konstant uttryck.</span><span class="sxs-lookup"><span data-stu-id="68c2d-203">hello flows can have one of hello following **flow types**: Direct, Constant, or Expression.</span></span> <span data-ttu-id="68c2d-204">Ett direkt flöde flödar ett attributvärde som-är utan ytterligare omvandlingar.</span><span class="sxs-lookup"><span data-stu-id="68c2d-204">A direct flow, flows an attribute value as-is with no additional transformations.</span></span> <span data-ttu-id="68c2d-205">Ett konstant värde anger hello angivet värde.</span><span class="sxs-lookup"><span data-stu-id="68c2d-205">A constant value sets hello specified value.</span></span> <span data-ttu-id="68c2d-206">Ett uttryck som använder hello deklarativ etablering uttryck språk tooexpress hur hello omvandling ska vara.</span><span class="sxs-lookup"><span data-stu-id="68c2d-206">An expression uses hello declarative provisioning expression language tooexpress how hello transformation should be.</span></span> <span data-ttu-id="68c2d-207">Hej information för hello Uttrycksspråk kan hittas i hello [förstå deklarativ etablering Uttrycksspråk](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md) avsnittet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-207">hello details for hello expression language can be found in hello [understanding declarative provisioning expression language](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md) topic.</span></span>

![Etablera eller koppling](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/transformations1.png)  

<span data-ttu-id="68c2d-209">Hej **gäller en gång** kryssrutan definierar den hello attributet ska endast anges när hello-objektet skapas.</span><span class="sxs-lookup"><span data-stu-id="68c2d-209">hello **Apply once** checkbox defines that hello attribute should only be set when hello object is initially created.</span></span> <span data-ttu-id="68c2d-210">Den här konfigurationen kan till exempel vara används tooset ett initialt lösenord för nytt användarobjekt.</span><span class="sxs-lookup"><span data-stu-id="68c2d-210">For example, this configuration can be used tooset an initial password for a new user object.</span></span>

### <a name="merging-attribute-values"></a><span data-ttu-id="68c2d-211">Koppla samman attributvärden</span><span class="sxs-lookup"><span data-stu-id="68c2d-211">Merging attribute values</span></span>
<span data-ttu-id="68c2d-212">Är en inställningen toodetermine i hello attributflöden om flera värden attribut ska sammanfogas från flera olika kopplingar.</span><span class="sxs-lookup"><span data-stu-id="68c2d-212">In hello attribute flows there is a setting toodetermine if multi-valued attributes should be merged from several different Connectors.</span></span> <span data-ttu-id="68c2d-213">hello standardvärdet är **uppdatering**, vilket anger hello sync regeln med högst prioritet bör win.</span><span class="sxs-lookup"><span data-stu-id="68c2d-213">hello default value is **Update**, which indicates that hello sync rule with highest precedence should win.</span></span>

![Sammanfoga typer](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/mergetype.png)  

<span data-ttu-id="68c2d-215">Det finns också **sammanfoga** och **MergeCaseInsensitive**.</span><span class="sxs-lookup"><span data-stu-id="68c2d-215">There is also **Merge** and **MergeCaseInsensitive**.</span></span> <span data-ttu-id="68c2d-216">Dessa alternativ kan du toomerge värden från olika källor.</span><span class="sxs-lookup"><span data-stu-id="68c2d-216">These options allow you toomerge values from different sources.</span></span> <span data-ttu-id="68c2d-217">Det kan till exempel vara används toomerge hello medlem eller proxyAddresses attribut från flera olika skogar.</span><span class="sxs-lookup"><span data-stu-id="68c2d-217">For example, it can be used toomerge hello member or proxyAddresses attribute from several different forests.</span></span> <span data-ttu-id="68c2d-218">När du använder det här alternativet, alla synkronisera regler i omfånget för ett objekt måste använda hello samma kopplingstyp.</span><span class="sxs-lookup"><span data-stu-id="68c2d-218">When you use this option, all sync rules in scope for an object must use hello same merge type.</span></span> <span data-ttu-id="68c2d-219">Du kan inte definiera **uppdatering** från en koppling och **sammanfoga** från en annan.</span><span class="sxs-lookup"><span data-stu-id="68c2d-219">You cannot define **Update** from one Connector and **Merge** from another.</span></span> <span data-ttu-id="68c2d-220">Om du försöker får felmeddelande du ett.</span><span class="sxs-lookup"><span data-stu-id="68c2d-220">If you try, you receive an error.</span></span>

<span data-ttu-id="68c2d-221">Hej skillnaden mellan **sammanfoga** och **MergeCaseInsensitive** är hur tooprocess duplicera attributvärden.</span><span class="sxs-lookup"><span data-stu-id="68c2d-221">hello difference between **Merge** and **MergeCaseInsensitive** is how tooprocess duplicate attribute values.</span></span> <span data-ttu-id="68c2d-222">Hej Synkroniseringsmotorn säkerställer dubblettvärden inte infogas i hello Målattributet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-222">hello sync engine makes sure duplicate values are not inserted into hello target attribute.</span></span> <span data-ttu-id="68c2d-223">Med **MergeCaseInsensitive**, dubblettvärden med bara en skillnad om inte kommer toobe finns.</span><span class="sxs-lookup"><span data-stu-id="68c2d-223">With **MergeCaseInsensitive**, duplicate values with only a difference in case are not going toobe present.</span></span> <span data-ttu-id="68c2d-224">Till exempel du ska inte visas både ”SMTP:bob@contoso.com” och ”smtp:bob@contoso.com” i hello Målattributet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-224">For example, you should not see both "SMTP:bob@contoso.com" and "smtp:bob@contoso.com" in hello target attribute.</span></span> <span data-ttu-id="68c2d-225">**Sammanfoga** bara titta på hello exakta värden och flera värden där det endast finns en skillnad i fall kan vara tillgänglig.</span><span class="sxs-lookup"><span data-stu-id="68c2d-225">**Merge** is only looking at hello exact values and multiple values where there only is a difference in case might be present.</span></span>

<span data-ttu-id="68c2d-226">Hej alternativet **ersätta** är hello samma som **uppdatering**, men används inte.</span><span class="sxs-lookup"><span data-stu-id="68c2d-226">hello option **Replace** is hello same as **Update**, but it is not used.</span></span>

### <a name="control-hello-attribute-flow-process"></a><span data-ttu-id="68c2d-227">Process för kontroll av flödet hello attribut</span><span class="sxs-lookup"><span data-stu-id="68c2d-227">Control hello attribute flow process</span></span>
<span data-ttu-id="68c2d-228">När flera regler för inkommande synkronisering är konfigurerade toocontribute toohello samma metaversum-attribut och sedan prioritet är används toodetermine hello vinnaren.</span><span class="sxs-lookup"><span data-stu-id="68c2d-228">When multiple inbound sync rules are configured toocontribute toohello same metaverse attribute, then precedence is used toodetermine hello winner.</span></span> <span data-ttu-id="68c2d-229">Hej synkroniseringsregel med högsta prioriteten (lägsta numeriska värde) kommer toocontribute hello värde.</span><span class="sxs-lookup"><span data-stu-id="68c2d-229">hello sync rule with highest precedence (lowest numeric value) is going toocontribute hello value.</span></span> <span data-ttu-id="68c2d-230">hello samma händer regler för utgående trafik.</span><span class="sxs-lookup"><span data-stu-id="68c2d-230">hello same happens for outbound rules.</span></span> <span data-ttu-id="68c2d-231">Hej synkroniseringsregel med högsta prioritet wins och bidra hello värdet toohello ansluten katalog.</span><span class="sxs-lookup"><span data-stu-id="68c2d-231">hello sync rule with highest precedence wins and contribute hello value toohello connected directory.</span></span>

<span data-ttu-id="68c2d-232">I vissa fall kan i stället för att bidra med ett värde, bestämmer hello synkroniseringsregel hur andra regler ska uppträda.</span><span class="sxs-lookup"><span data-stu-id="68c2d-232">In some cases, rather than contribute a value, hello sync rule should determine how other rules should behave.</span></span> <span data-ttu-id="68c2d-233">Det finns några särskilda literaler som används för det här fallet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-233">There are some special literals used for this case.</span></span>

<span data-ttu-id="68c2d-234">Regler för inkommande synkronisering trafik hello literal **NULL** kan vara används tooindicate att hello flödet har ingen värdet toocontribute.</span><span class="sxs-lookup"><span data-stu-id="68c2d-234">For inbound Synchronization Rules, hello literal **NULL** can be used tooindicate that hello flow has no value toocontribute.</span></span> <span data-ttu-id="68c2d-235">En annan regel med lägre prioritet kan ge ett värde.</span><span class="sxs-lookup"><span data-stu-id="68c2d-235">Another rule with lower precedence can contribute a value.</span></span> <span data-ttu-id="68c2d-236">Om ingen regel bidrog med ett värde, bort hello metaversum-attribut.</span><span class="sxs-lookup"><span data-stu-id="68c2d-236">If no rule contributed a value, then hello metaverse attribute is removed.</span></span> <span data-ttu-id="68c2d-237">För en regel för utgående trafik om **NULL** är hello slutliga värdet när alla regler för synkronisering har bearbetats sedan hello-värdet har tagits bort i hello ansluten katalog.</span><span class="sxs-lookup"><span data-stu-id="68c2d-237">For an outbound rule, if **NULL** is hello final value after all sync rules have been processed, then hello value is removed in hello connected directory.</span></span>

<span data-ttu-id="68c2d-238">hello literal **AuthoritativeNull** är liknande för**NULL** men med hello skillnaden är att inga regler med lägre prioritet kan bidra till ett värde.</span><span class="sxs-lookup"><span data-stu-id="68c2d-238">hello literal **AuthoritativeNull** is similar too**NULL** but with hello difference that no lower precedence rules can contribute a value.</span></span>

<span data-ttu-id="68c2d-239">Ett attributflöde kan också använda **IgnoreThisFlow**.</span><span class="sxs-lookup"><span data-stu-id="68c2d-239">An attribute flow can also use **IgnoreThisFlow**.</span></span> <span data-ttu-id="68c2d-240">Det är liknande tooNULL i hello mening att den visar att det inte finns något toocontribute.</span><span class="sxs-lookup"><span data-stu-id="68c2d-240">It is similar tooNULL in hello sense that it indicates there is nothing toocontribute.</span></span> <span data-ttu-id="68c2d-241">hello skillnaden är att det inte tar bort ett redan befintligt värde i hello mål.</span><span class="sxs-lookup"><span data-stu-id="68c2d-241">hello difference is that it does not remove an already existing value in hello target.</span></span> <span data-ttu-id="68c2d-242">Det är som hello attributflöde har aldrig varit det.</span><span class="sxs-lookup"><span data-stu-id="68c2d-242">It is like hello attribute flow has never been there.</span></span>

<span data-ttu-id="68c2d-243">Här är ett exempel:</span><span class="sxs-lookup"><span data-stu-id="68c2d-243">Here is an example:</span></span>

<span data-ttu-id="68c2d-244">I *ut tooAD - användaren Exchange hybrid* hello följande flödet finns:</span><span class="sxs-lookup"><span data-stu-id="68c2d-244">In *Out tooAD - User Exchange hybrid* hello following flow can be found:</span></span>  
`IIF([cloudSOAExchMailbox] = True,[cloudMSExchSafeSendersHash],IgnoreThisFlow)`  
<span data-ttu-id="68c2d-245">Det här uttrycket ska läsas som: om hello postlåda finns i Azure AD, sedan flöda hello attribut från Azure AD tooAD.</span><span class="sxs-lookup"><span data-stu-id="68c2d-245">This expression should be read as: if hello user mailbox is located in Azure AD, then flow hello attribute from Azure AD tooAD.</span></span> <span data-ttu-id="68c2d-246">Om inte, flöda inte något annat tillbaka tooActive Directory.</span><span class="sxs-lookup"><span data-stu-id="68c2d-246">If not, do not flow anything back tooActive Directory.</span></span> <span data-ttu-id="68c2d-247">Det skulle i så fall behålla hello befintliga värdet i AD.</span><span class="sxs-lookup"><span data-stu-id="68c2d-247">In this case, it would keep hello existing value in AD.</span></span>

### <a name="importedvalue"></a><span data-ttu-id="68c2d-248">ImportedValue</span><span class="sxs-lookup"><span data-stu-id="68c2d-248">ImportedValue</span></span>
<span data-ttu-id="68c2d-249">hello funktionen ImportedValue skiljer sig från andra funktioner eftersom hello attributnamn måste stå inom citattecken i stället för hakparenteser:</span><span class="sxs-lookup"><span data-stu-id="68c2d-249">hello function ImportedValue is different than all other functions since hello attribute name must be enclosed in quotes rather than square brackets:</span></span>  
<span data-ttu-id="68c2d-250">`ImportedValue("proxyAddresses")`.</span><span class="sxs-lookup"><span data-stu-id="68c2d-250">`ImportedValue("proxyAddresses")`.</span></span>

<span data-ttu-id="68c2d-251">Vanligtvis under synkronisering använder ett attribut hello förväntat värde, även om den inte har exporterats ännu eller ett fel togs emot under exporten (”överst på hello torn”).</span><span class="sxs-lookup"><span data-stu-id="68c2d-251">Usually during synchronization an attribute uses hello expected value, even if it hasn’t been exported yet or an error was received during export (“top of hello tower”).</span></span> <span data-ttu-id="68c2d-252">En inkommande synkronisering förutsätter att ett attribut som ännu inte har nått en ansluten katalog så småningom når den.</span><span class="sxs-lookup"><span data-stu-id="68c2d-252">An inbound synchronization assumes that an attribute that hasn’t yet reached a connected directory eventually reaches it.</span></span> <span data-ttu-id="68c2d-253">I vissa fall är det viktigt tooonly synkronisera ett värde som har bekräftats av hello ansluten katalog (”hologram och delta importera torn”).</span><span class="sxs-lookup"><span data-stu-id="68c2d-253">In some cases, it is important tooonly synchronize a value that has been confirmed by hello connected directory (“hologram and delta import tower”).</span></span>

<span data-ttu-id="68c2d-254">Ett exempel på den här funktionen finns i hello out-of-box Synkroniseringsregeln *i från AD-användaren vanliga från Exchange*.</span><span class="sxs-lookup"><span data-stu-id="68c2d-254">An example of this function can be found in hello out-of-box Synchronization Rule *In from AD – User Common from Exchange*.</span></span> <span data-ttu-id="68c2d-255">I Exchange Hybrid ska hello mervärde i Exchange online endast synkroniseras när det har bekräftats att hello-värdet har exporterats:</span><span class="sxs-lookup"><span data-stu-id="68c2d-255">In Hybrid Exchange, hello value added by Exchange online should only be synchronized when it has been confirmed that hello value was exported successfully:</span></span>  
`proxyAddresses` <- `RemoveDuplicates(Trim(ImportedValue("proxyAddresses")))`

## <a name="precedence"></a><span data-ttu-id="68c2d-256">Prioritet</span><span class="sxs-lookup"><span data-stu-id="68c2d-256">Precedence</span></span>
<span data-ttu-id="68c2d-257">När flera regler för synkronisering toocontribute hello samma toohello mål för attributet värde är hello prioritet värde används toodetermine hello vinnaren.</span><span class="sxs-lookup"><span data-stu-id="68c2d-257">When several sync rules try toocontribute hello same attribute value toohello target, hello precedence value is used toodetermine hello winner.</span></span> <span data-ttu-id="68c2d-258">hello regeln med högsta prioritet, lägsta numeriska värdet, kommer toocontribute hello-attributet i en konflikt.</span><span class="sxs-lookup"><span data-stu-id="68c2d-258">hello rule with highest precedence, lowest numeric value, is going toocontribute hello attribute in a conflict.</span></span>

![Sammanfoga typer](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/precedence1.png)  

<span data-ttu-id="68c2d-260">Den här ordningen kan vara används toodefine mer exakta attributet flöden för en mindre deluppsättning objekt.</span><span class="sxs-lookup"><span data-stu-id="68c2d-260">This ordering can be used toodefine more precise attribute flows for a small subset of objects.</span></span> <span data-ttu-id="68c2d-261">Till exempel hello out-för-box-regler Kontrollera som attribut från ett aktiverat konto (**användare AccountEnabled**) har högre prioritet från andra konton.</span><span class="sxs-lookup"><span data-stu-id="68c2d-261">For example, hello out-of-box-rules make sure that attributes from an enabled account (**User AccountEnabled**) have precedence from other accounts.</span></span>

<span data-ttu-id="68c2d-262">Prioritet kan definieras mellan kopplingar.</span><span class="sxs-lookup"><span data-stu-id="68c2d-262">Precedence can be defined between Connectors.</span></span> <span data-ttu-id="68c2d-263">Som tillåter anslutningar med bättre datavärden toocontribute först.</span><span class="sxs-lookup"><span data-stu-id="68c2d-263">That allows Connectors with better data toocontribute values first.</span></span>

### <a name="multiple-objects-from-hello-same-connector-space"></a><span data-ttu-id="68c2d-264">Flera objekt från hello samma anslutarplats</span><span class="sxs-lookup"><span data-stu-id="68c2d-264">Multiple objects from hello same connector space</span></span>
<span data-ttu-id="68c2d-265">Om du har flera objekt i hello samma connector utrymme kopplade toohello samma metaversum objekt prioritet måste justeras.</span><span class="sxs-lookup"><span data-stu-id="68c2d-265">If you have several objects in hello same connector space joined toohello same metaverse object, precedence must be adjusted.</span></span> <span data-ttu-id="68c2d-266">Om flera objekt ingår i omfattningen av hello synkronisera samma regel och sedan hello Synkroniseringsmotorn är inte kan toodetermine prioritet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-266">If several objects are in scope of hello same sync rule, then hello sync engine is not able toodetermine precedence.</span></span> <span data-ttu-id="68c2d-267">Det är tvetydig vilka källobjektet bör bidra hello värdet toohello metaversum.</span><span class="sxs-lookup"><span data-stu-id="68c2d-267">It is ambiguous which source object should contribute hello value toohello metaverse.</span></span> <span data-ttu-id="68c2d-268">Den här konfigurationen har rapporterats som tvetydig även om hello attribut i hello-källan har hello samma värde.</span><span class="sxs-lookup"><span data-stu-id="68c2d-268">This configuration is reported as ambiguous even if hello attributes in hello source have hello same value.</span></span>  
![Flera objekt anslutna toohello samma mv-objekt](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/multiple1.png)  

<span data-ttu-id="68c2d-270">I det här scenariot måste toochange hello omfånget för reglerna som hello synkronisering så hello källobjekt har olika sync regler i sitt omfång.</span><span class="sxs-lookup"><span data-stu-id="68c2d-270">For this scenario, you need toochange hello scope of hello sync rules so hello source objects have different sync rules in scope.</span></span> <span data-ttu-id="68c2d-271">Som kan du toodefine olika prioritet.</span><span class="sxs-lookup"><span data-stu-id="68c2d-271">That allows you toodefine different precedence.</span></span>  
![Flera objekt anslutna toohello samma mv-objekt](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/multiple2.png)  

## <a name="next-steps"></a><span data-ttu-id="68c2d-273">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="68c2d-273">Next steps</span></span>
* <span data-ttu-id="68c2d-274">Läs mer om hello Uttrycksspråk i [förstå uttryck för deklarativ etablering](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="68c2d-274">Read more about hello expression language in [Understanding Declarative Provisioning Expressions](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md).</span></span>
* <span data-ttu-id="68c2d-275">Se hur deklarativ etablering är att använda out-of-box i [förstå hello standardkonfigurationen](active-directory-aadconnectsync-understanding-default-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="68c2d-275">See how declarative provisioning is used out-of-box in [Understanding hello default configuration](active-directory-aadconnectsync-understanding-default-configuration.md).</span></span>
* <span data-ttu-id="68c2d-276">Se hur toomake en praktisk ändras med hjälp av deklarativ etablering i [hur toomake en ändring toohello standard configuration](active-directory-aadconnectsync-change-the-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="68c2d-276">See how toomake a practical change using declarative provisioning in [How toomake a change toohello default configuration](active-directory-aadconnectsync-change-the-configuration.md).</span></span>
* <span data-ttu-id="68c2d-277">Fortsätta tooread hur användare och kontakter tillsammans i [förstå användare och kontakter](active-directory-aadconnectsync-understanding-users-and-contacts.md).</span><span class="sxs-lookup"><span data-stu-id="68c2d-277">Continue tooread how users and contacts work together in [Understanding Users and Contacts](active-directory-aadconnectsync-understanding-users-and-contacts.md).</span></span>

<span data-ttu-id="68c2d-278">**Översiktsavsnitt**</span><span class="sxs-lookup"><span data-stu-id="68c2d-278">**Overview topics**</span></span>

* [<span data-ttu-id="68c2d-279">Azure AD Connect-synkronisering: Förstå och anpassa synkronisering</span><span class="sxs-lookup"><span data-stu-id="68c2d-279">Azure AD Connect sync: Understand and customize synchronization</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="68c2d-280">Integrera dina lokala identiteter med Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="68c2d-280">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)

<span data-ttu-id="68c2d-281">**Referensinformation**</span><span class="sxs-lookup"><span data-stu-id="68c2d-281">**Reference topics**</span></span>

* [<span data-ttu-id="68c2d-282">Azure AD Connect-synkronisering: funktioner referens</span><span class="sxs-lookup"><span data-stu-id="68c2d-282">Azure AD Connect sync: Functions Reference</span></span>](active-directory-aadconnectsync-functions-reference.md)
