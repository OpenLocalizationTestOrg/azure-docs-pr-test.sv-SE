---
title: "Azure AD Connect-synkronisering: ändra standardkonfigurationen | Microsoft Docs"
description: "Innehåller metodtips för att ändra standardkonfigurationen av Azure AD Connect-synkronisering."
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: 7638a031-1635-4942-94c3-fce8f09eed5e
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: b723ad800ccc0f3040eb480bb72960943b1fdb16
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-best-practices-for-changing-the-default-configuration"></a><span data-ttu-id="ca743-103">Azure AD Connect-synkronisering: bästa praxis för att ändra standardkonfigurationen</span><span class="sxs-lookup"><span data-stu-id="ca743-103">Azure AD Connect sync: Best practices for changing the default configuration</span></span>
<span data-ttu-id="ca743-104">Syftet med det här avsnittet är att beskriva som stöds respektive ändringar av Azure AD Connect-synkronisering.</span><span class="sxs-lookup"><span data-stu-id="ca743-104">The purpose of this topic is to describe supported and unsupported changes to Azure AD Connect sync.</span></span>

<span data-ttu-id="ca743-105">Den konfiguration som skapats av Azure AD Connect fungerar ”i befintligt skick” för de flesta miljöer används för att synkroniserar lokala Active Directory med Azure AD.</span><span class="sxs-lookup"><span data-stu-id="ca743-105">The configuration created by Azure AD Connect works “as is” for most environments that synchronize on-premises Active Directory with Azure AD.</span></span> <span data-ttu-id="ca743-106">I vissa fall kan är det dock nödvändigt att tillämpa ändringar på en konfiguration som ska uppfylla ett speciellt behov eller krav.</span><span class="sxs-lookup"><span data-stu-id="ca743-106">However, in some cases, it is necessary to apply some changes to a configuration to satisfy a particular need or requirement.</span></span>

## <a name="changes-to-the-service-account"></a><span data-ttu-id="ca743-107">Ändringar av kontot</span><span class="sxs-lookup"><span data-stu-id="ca743-107">Changes to the service account</span></span>
<span data-ttu-id="ca743-108">Azure AD Connect-synkronisering körs under ett tjänstkonto som skapats av installationsguiden.</span><span class="sxs-lookup"><span data-stu-id="ca743-108">Azure AD Connect sync is running under a service account created by the installation wizard.</span></span> <span data-ttu-id="ca743-109">Tjänstkontot innehåller krypteringsnycklarna på den databas som används av synkronisering.</span><span class="sxs-lookup"><span data-stu-id="ca743-109">This service account holds the encryption keys to the database used by sync.</span></span> <span data-ttu-id="ca743-110">Den har skapats med ett långt lösenord 127 tecken och lösenordet upphör att gälla inte.</span><span class="sxs-lookup"><span data-stu-id="ca743-110">It is created with a 127 characters long password and the password is set to not expire.</span></span>

* <span data-ttu-id="ca743-111">Det är **stöds inte** att ändra eller återställa lösenordet för tjänstkontot.</span><span class="sxs-lookup"><span data-stu-id="ca743-111">It is **unsupported** to change or reset the password of the service account.</span></span> <span data-ttu-id="ca743-112">Gör det förstör krypteringsnycklarna och tjänsten kan inte få åtkomst till databasen och går inte att starta.</span><span class="sxs-lookup"><span data-stu-id="ca743-112">Doing so destroys the encryption keys and the service is not able to access the database and is not able to start.</span></span>

## <a name="changes-to-the-scheduler"></a><span data-ttu-id="ca743-113">Ändringar i Schemaläggaren</span><span class="sxs-lookup"><span data-stu-id="ca743-113">Changes to the scheduler</span></span>
<span data-ttu-id="ca743-114">Från och med versioner från version 1.1 (februari 2016) som du kan konfigurera den [scheduler](active-directory-aadconnectsync-feature-scheduler.md) har en annan synkronisering cykel än standardvärdet 30 minuter.</span><span class="sxs-lookup"><span data-stu-id="ca743-114">Starting with the releases from build 1.1 (February 2016) you can configure the [scheduler](active-directory-aadconnectsync-feature-scheduler.md) to have a different sync cycle than the default 30 minutes.</span></span>

## <a name="changes-to-synchronization-rules"></a><span data-ttu-id="ca743-115">Ändringar av Synkroniseringsregler</span><span class="sxs-lookup"><span data-stu-id="ca743-115">Changes to Synchronization Rules</span></span>
<span data-ttu-id="ca743-116">Guiden tillhandahåller en konfiguration som ska fungera för de vanligaste scenarierna.</span><span class="sxs-lookup"><span data-stu-id="ca743-116">The installation wizard provides a configuration that is supposed to work for the most common scenarios.</span></span> <span data-ttu-id="ca743-117">Om du behöver göra ändringar i konfigurationen, måste du följa dessa regler så att den fortfarande har en konfiguration som stöds.</span><span class="sxs-lookup"><span data-stu-id="ca743-117">In case you need to make changes to the configuration, then you must follow these rules to still have a supported configuration.</span></span>

* <span data-ttu-id="ca743-118">Du kan [ändra attributflöden](active-directory-aadconnectsync-change-the-configuration.md#other-common-attribute-flow-changes) om de direkta attributflöden standard inte är lämpliga för din organisation.</span><span class="sxs-lookup"><span data-stu-id="ca743-118">You can [change attribute flows](active-directory-aadconnectsync-change-the-configuration.md#other-common-attribute-flow-changes) if the default direct attribute flows are not suitable for your organization.</span></span>
* <span data-ttu-id="ca743-119">Om du vill [inte flöda attributet](active-directory-aadconnectsync-change-the-configuration.md#do-not-flow-an-attribute) och ta bort alla befintliga attribut värden i Azure AD, måste du skapa en regel för det här scenariot.</span><span class="sxs-lookup"><span data-stu-id="ca743-119">If you want to [not flow an attribute](active-directory-aadconnectsync-change-the-configuration.md#do-not-flow-an-attribute) and remove any existing attribute values in Azure AD, then you need to create a rule for this scenario.</span></span>
* <span data-ttu-id="ca743-120">[Inaktivera en oönskade Synkroniseringsregel](#disable-an-unwanted-sync-rule) i stället för att ta bort den.</span><span class="sxs-lookup"><span data-stu-id="ca743-120">[Disable an unwanted Sync Rule](#disable-an-unwanted-sync-rule) rather than deleting it.</span></span> <span data-ttu-id="ca743-121">Borttagna regeln återskapas under en uppgradering.</span><span class="sxs-lookup"><span data-stu-id="ca743-121">A deleted rule is recreated during an upgrade.</span></span>
* <span data-ttu-id="ca743-122">Att [ändra en regel för out-of-box](#change-an-out-of-box-rule), bör du göra en kopia av den ursprungliga regeln och inaktiverar regeln för out-of-box.</span><span class="sxs-lookup"><span data-stu-id="ca743-122">To [change an out-of-box rule](#change-an-out-of-box-rule), you should make a copy of the original rule and disable the out-of-box rule.</span></span> <span data-ttu-id="ca743-123">Synkronisera Rule Editor uppmanar och hjälper dig.</span><span class="sxs-lookup"><span data-stu-id="ca743-123">The Sync Rule Editor prompts and helps you.</span></span>
* <span data-ttu-id="ca743-124">Exportera anpassade Synkroniseringsregler med hjälp av Redigeraren för regler för synkronisering.</span><span class="sxs-lookup"><span data-stu-id="ca743-124">Export your custom synchronization rules using the Synchronization Rules Editor.</span></span> <span data-ttu-id="ca743-125">Redigeraren för ger dig ett PowerShell-skript som du kan använda för att enkelt återskapa dem i en katastrofåterställning.</span><span class="sxs-lookup"><span data-stu-id="ca743-125">The editor provides you with a PowerShell script you can use to easily recreate them in a disaster recovery scenario.</span></span>

> [!WARNING]
> <span data-ttu-id="ca743-126">Out-of-box sync-regler har ett tumavtryck.</span><span class="sxs-lookup"><span data-stu-id="ca743-126">The out-of-box sync rules have a thumbprint.</span></span> <span data-ttu-id="ca743-127">Om du ändrar de här reglerna matchar inte längre tumavtrycket.</span><span class="sxs-lookup"><span data-stu-id="ca743-127">If you make a change to these rules, the thumbprint is no longer matching.</span></span> <span data-ttu-id="ca743-128">Du kan få problem i framtiden när du försöker installera en ny version av Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="ca743-128">You might have problems in the future when you try to apply a new release of Azure AD Connect.</span></span> <span data-ttu-id="ca743-129">Endast ändra det sätt som det beskrivs i den här artikeln.</span><span class="sxs-lookup"><span data-stu-id="ca743-129">Only make changes the way it is described in this article.</span></span>

### <a name="disable-an-unwanted-sync-rule"></a><span data-ttu-id="ca743-130">Inaktivera en oönskade Synkroniseringsregel</span><span class="sxs-lookup"><span data-stu-id="ca743-130">Disable an unwanted Sync Rule</span></span>
<span data-ttu-id="ca743-131">Ta inte bort en synkroniseringsregel för av out-of-box.</span><span class="sxs-lookup"><span data-stu-id="ca743-131">Do not delete an out-of-box sync rule.</span></span> <span data-ttu-id="ca743-132">Den återskapas under nästa uppgraderingen.</span><span class="sxs-lookup"><span data-stu-id="ca743-132">It is recreated during next upgrade.</span></span>

<span data-ttu-id="ca743-133">I vissa fall har installationsguiden resulterade i en konfiguration som inte fungerar för din topologi.</span><span class="sxs-lookup"><span data-stu-id="ca743-133">In some cases, the installation wizard has produced a configuration that is not working for your topology.</span></span> <span data-ttu-id="ca743-134">Till exempel om du har ett konto-resurs skogstopologi men du har utökat schemat i skogen med Exchange-schemat, skapas regler för Exchange för kontoskogen och resursskogen.</span><span class="sxs-lookup"><span data-stu-id="ca743-134">For example, if you have an account-resource forest topology but you have extended the schema in the account forest with the Exchange schema, then rules for Exchange are created for the account forest and the resource forest.</span></span> <span data-ttu-id="ca743-135">I det här fallet måste du inaktivera synkronisering regeln för Exchange.</span><span class="sxs-lookup"><span data-stu-id="ca743-135">In this case, you need to disable the Sync Rule for Exchange.</span></span>

![Inaktiverade synkroniseringsregel](./media/active-directory-aadconnectsync-best-practices-changing-default-configuration/exchangedisabledrule.png)

<span data-ttu-id="ca743-137">Installationsguiden har hittat ett gamla Exchange 2003-schema i skogen i bilden ovan.</span><span class="sxs-lookup"><span data-stu-id="ca743-137">In the picture above, the installation wizard has found an old Exchange 2003 schema in the account forest.</span></span> <span data-ttu-id="ca743-138">Det här schemat har lagts till innan resursskogen infördes i Fabrikams miljö.</span><span class="sxs-lookup"><span data-stu-id="ca743-138">This schema extension was added before the resource forest was introduced in Fabrikam's environment.</span></span> <span data-ttu-id="ca743-139">Om du vill se till att inga attribut från den gamla Exchange-implementeringen är synkroniserade bör sync regeln inaktiveras enligt.</span><span class="sxs-lookup"><span data-stu-id="ca743-139">To ensure no attributes from the old Exchange implementation are synchronized, the sync rule should be disabled as shown.</span></span>

### <a name="change-an-out-of-box-rule"></a><span data-ttu-id="ca743-140">Ändra en out-of-box-regel</span><span class="sxs-lookup"><span data-stu-id="ca743-140">Change an out-of-box rule</span></span>
<span data-ttu-id="ca743-141">Den enda gången som du bör ändra en out-of-box-regel är när du behöver ändra join-regel.</span><span class="sxs-lookup"><span data-stu-id="ca743-141">The only time you should change an out-of-box rule is when you need to change the join rule.</span></span> <span data-ttu-id="ca743-142">Om du behöver ändra ett attributflöde bör du skapa en synkroniseringsregel med högre prioritet än reglerna out-of-box.</span><span class="sxs-lookup"><span data-stu-id="ca743-142">If you need to change an attribute flow, then you should create a sync rule with higher precedence than the out-of-box rules.</span></span> <span data-ttu-id="ca743-143">Den enda regeln praktiskt taget måste du klona är regeln **i från AD - användare ansluta**.</span><span class="sxs-lookup"><span data-stu-id="ca743-143">The only rule you practically need to clone is the rule **In from AD - User Join**.</span></span> <span data-ttu-id="ca743-144">Du kan åsidosätta alla regler med en regel på högre prioritet.</span><span class="sxs-lookup"><span data-stu-id="ca743-144">You can override all other rules with a higher precedence rule.</span></span>

<span data-ttu-id="ca743-145">Om du behöver göra ändringar i en out-of-box-regel bör du göra en kopia av out-of-box-regeln och inaktiverar den ursprungliga regeln.</span><span class="sxs-lookup"><span data-stu-id="ca743-145">If you need to make changes to an out-of-box rule, then you should make a copy of the out-of-box rule and disable the original rule.</span></span> <span data-ttu-id="ca743-146">Sedan gör ändringar i den klonade regeln.</span><span class="sxs-lookup"><span data-stu-id="ca743-146">Then make the changes to the cloned rule.</span></span> <span data-ttu-id="ca743-147">Synkronisera Rule Editor hjälper dig med de här stegen.</span><span class="sxs-lookup"><span data-stu-id="ca743-147">The Sync Rule Editor is helping you with those steps.</span></span> <span data-ttu-id="ca743-148">När du öppnar en out-of-box-regel kan visas med den här dialogrutan:</span><span class="sxs-lookup"><span data-stu-id="ca743-148">When you open an out-of-box rule, you are presented with this dialog box:</span></span>  
![Varning out-of-box-regel](./media/active-directory-aadconnectsync-best-practices-changing-default-configuration/warningoutofboxrule.png)

<span data-ttu-id="ca743-150">Välj **Ja** att skapa en kopia av regeln.</span><span class="sxs-lookup"><span data-stu-id="ca743-150">Select **Yes** to create a copy of the rule.</span></span> <span data-ttu-id="ca743-151">Klonade regeln sedan öppnas.</span><span class="sxs-lookup"><span data-stu-id="ca743-151">The cloned rule is then opened.</span></span>  
<span data-ttu-id="ca743-152">![Klonade regel](./media/active-directory-aadconnectsync-best-practices-changing-default-configuration/clonedrule.png)</span><span class="sxs-lookup"><span data-stu-id="ca743-152">![Cloned rule](./media/active-directory-aadconnectsync-best-practices-changing-default-configuration/clonedrule.png)</span></span>

<span data-ttu-id="ca743-153">Genomför nödvändiga ändringar på regeln klonade omfång, koppling och transformationer.</span><span class="sxs-lookup"><span data-stu-id="ca743-153">On this cloned rule, make any necessary changes to scope, join, and transformations.</span></span>

## <a name="next-steps"></a><span data-ttu-id="ca743-154">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="ca743-154">Next steps</span></span>
<span data-ttu-id="ca743-155">**Översiktsavsnitt**</span><span class="sxs-lookup"><span data-stu-id="ca743-155">**Overview topics**</span></span>

* [<span data-ttu-id="ca743-156">Azure AD Connect-synkronisering: Förstå och anpassa synkronisering</span><span class="sxs-lookup"><span data-stu-id="ca743-156">Azure AD Connect sync: Understand and customize synchronization</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="ca743-157">Integrera dina lokala identiteter med Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="ca743-157">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
