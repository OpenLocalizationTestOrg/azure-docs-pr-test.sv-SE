---
title: "Azure AD Connect-synkronisering: Förstå användare och kontakter | Microsoft Docs"
description: "Beskriver användare och kontakter i Azure AD Connect-synkronisering."
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
ms.assetid: 8d204647-213a-4519-bd62-49563c421602
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: markvi;andkjell
ms.openlocfilehash: 495e926a1975128707212ba571d47cfc7c9507b3
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-understanding-users-and-contacts"></a><span data-ttu-id="4112d-103">Azure AD Connect-synkronisering: Förstå användare och kontakter</span><span class="sxs-lookup"><span data-stu-id="4112d-103">Azure AD Connect sync: Understanding Users and Contacts</span></span>
<span data-ttu-id="4112d-104">Det finns flera olika skäl varför har du flera Active Directory-skogar och det finns flera olika distributionstopologier.</span><span class="sxs-lookup"><span data-stu-id="4112d-104">There are several different reasons why you would have multiple Active Directory forests and there are several different deployment topologies.</span></span> <span data-ttu-id="4112d-105">Vanliga modeller innehåller en konto-resurs-distribution och GAL sync'ed skogar efter en fusion & förvärv.</span><span class="sxs-lookup"><span data-stu-id="4112d-105">Common models include an account-resource deployment and GAL sync’ed forests after a merger & acquisition.</span></span> <span data-ttu-id="4112d-106">Men även om det finns endast modeller, hybridmodeller är vanliga samt.</span><span class="sxs-lookup"><span data-stu-id="4112d-106">But even if there are pure models, hybrid models are common as well.</span></span> <span data-ttu-id="4112d-107">Standardkonfigurationen i Azure AD Connect-synkronisering förutsätter inte någon särskild modell men beroende på hur användaren matchar valdes i installationsguiden för olika beteenden kan observeras.</span><span class="sxs-lookup"><span data-stu-id="4112d-107">The default configuration in Azure AD Connect sync does not assume any particular model but depending on how user matching was selected in the installation guide, different behaviors can be observed.</span></span>

<span data-ttu-id="4112d-108">I det här avsnittet går vi igenom hur standardkonfigurationen ska fungera i vissa topologier.</span><span class="sxs-lookup"><span data-stu-id="4112d-108">In this topic, we will go through how the default configuration behaves in certain topologies.</span></span> <span data-ttu-id="4112d-109">Vi går igenom konfigurationen och redigeraren för regler för synkronisering kan användas för att titta på konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="4112d-109">We will go through the configuration and the Synchronization Rules Editor can be used to look at the configuration.</span></span>

<span data-ttu-id="4112d-110">Det finns några allmänna regler förutsätter att konfigurationen:</span><span class="sxs-lookup"><span data-stu-id="4112d-110">There are a few general rules the configuration assumes:</span></span>

* <span data-ttu-id="4112d-111">Oavsett vilken ordning som vi importera från källan Active kataloger ska alltid slutresultatet vara samma.</span><span class="sxs-lookup"><span data-stu-id="4112d-111">Regardless of which order we import from the source Active Directories, the end result should always be the same.</span></span>
* <span data-ttu-id="4112d-112">Ett aktivt konto kommer alltid att bidra inloggningsinformation, inklusive **userPrincipalName** och **sourceAnchor**.</span><span class="sxs-lookup"><span data-stu-id="4112d-112">An active account will always contribute sign-in information, including **userPrincipalName** and **sourceAnchor**.</span></span>
* <span data-ttu-id="4112d-113">Ett inaktiverat konto bidrar userPrincipalName och sourceAnchor, såvida det inte är en länkad postlåda, om det finns inga aktiva konton som ska returneras.</span><span class="sxs-lookup"><span data-stu-id="4112d-113">A disabled account will contribute userPrincipalName and sourceAnchor, unless it is a linked mailbox, if there is no active account to be found.</span></span>
* <span data-ttu-id="4112d-114">Ett konto med en länkad postlåda ska aldrig användas för userPrincipalName och sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="4112d-114">An account with a linked mailbox will never be used for userPrincipalName and sourceAnchor.</span></span> <span data-ttu-id="4112d-115">Det förutsätts att ett aktivt konto kommer att hittas senare.</span><span class="sxs-lookup"><span data-stu-id="4112d-115">It is assumed that an active account will be found later.</span></span>
* <span data-ttu-id="4112d-116">En kontaktobjekt kan etableras till Azure AD som en kontakt eller som en användare.</span><span class="sxs-lookup"><span data-stu-id="4112d-116">A contact object might be provisioned to Azure AD as a contact or as a user.</span></span> <span data-ttu-id="4112d-117">Du verkligen vet inte förrän alla källa Active Directory-skogar har bearbetats.</span><span class="sxs-lookup"><span data-stu-id="4112d-117">You don’t really know until all source Active Directory forests have been processed.</span></span>

## <a name="contacts"></a><span data-ttu-id="4112d-118">Contacts</span><span class="sxs-lookup"><span data-stu-id="4112d-118">Contacts</span></span>
<span data-ttu-id="4112d-119">Med kontakter som representerar en användare i en annan skog är vanliga när en fusion & förvärv där en GALSync lösning bryggning två eller flera Exchange-skogar.</span><span class="sxs-lookup"><span data-stu-id="4112d-119">Having contacts representing a user in a different forest is common after a merger & acquisition where a GALSync solution is bridging two or more Exchange forests.</span></span> <span data-ttu-id="4112d-120">Kontakta objektet alltid koppla från anslutningsplatsen metaversum med postattributet e.</span><span class="sxs-lookup"><span data-stu-id="4112d-120">The contact object is always joining from the connector space to the metaverse using the mail attribute.</span></span> <span data-ttu-id="4112d-121">Om det finns redan ett kontakta eller användarobjekt med samma e-postadress, är objekten sammankopplade.</span><span class="sxs-lookup"><span data-stu-id="4112d-121">If there is already a contact object or user object with the same mail address, the objects are joined together.</span></span> <span data-ttu-id="4112d-122">Detta är konfigurerat i regeln **i från AD-ansluta Kontakta**.</span><span class="sxs-lookup"><span data-stu-id="4112d-122">This is configured in the rule **In from AD – Contact Join**.</span></span> <span data-ttu-id="4112d-123">Det finns också en regel med namnet **i från AD – kontakta vanliga** med ett attributflöde till attributet metaversum **sourceObjectType** med konstanten **Kontakta**.</span><span class="sxs-lookup"><span data-stu-id="4112d-123">There is also a rule named **In from AD – Contact Common** with an attribute flow to the metaverse attribute **sourceObjectType** with the constant **Contact**.</span></span> <span data-ttu-id="4112d-124">Den här regeln har mycket låg prioritet så om alla användarobjekt som är ansluten till samma metaversumobjekt kommer regeln **i från AD-användaren vanliga** bidrar värdet användaren till det här attributet.</span><span class="sxs-lookup"><span data-stu-id="4112d-124">This rule has very low precedence so if any user object is joined to the same metaverse object, then the rule **In from AD – User Common** will contribute the value User to this attribute.</span></span> <span data-ttu-id="4112d-125">Med den här regeln har det här attributet det kontakt om ingen användare har anslutit och värdet användaren om minst en användare har hittats.</span><span class="sxs-lookup"><span data-stu-id="4112d-125">With this rule, this attribute will have the value Contact if no user has been joined and the value User if at least one user has been found.</span></span>

<span data-ttu-id="4112d-126">För att etablera ett objekt till Azure AD och den utgående regeln **på AAD – kontakta ansluta** skapar en kontaktobjekt om attribut för metaversum **sourceObjectType** är inställd på **Kontakta**.</span><span class="sxs-lookup"><span data-stu-id="4112d-126">For provisioning an object to Azure AD, the outbound rule **Out to AAD – Contact Join** will create a contact object if the metaverse attribute **sourceObjectType** is set to **Contact**.</span></span> <span data-ttu-id="4112d-127">Om det här attributet har angetts till **användare**, sedan regeln **på AAD-användare ansluta** skapar ett användarobjekt i stället.</span><span class="sxs-lookup"><span data-stu-id="4112d-127">If this attribute is set to **User**, then the rule **Out to AAD – User Join** will create a user object instead.</span></span>
<span data-ttu-id="4112d-128">Det är möjligt att ett objekt höjs från att kontakta användaren när flera källa Active kataloger importeras och synkroniseras.</span><span class="sxs-lookup"><span data-stu-id="4112d-128">It is possible that an object is promoted from Contact to User when more source Active Directories are imported and synchronized.</span></span>

<span data-ttu-id="4112d-129">Till exempel i en topologi med GALSync hittar vi kontaktobjekt för alla i den andra skogen när vi importerar den första skogen.</span><span class="sxs-lookup"><span data-stu-id="4112d-129">For example, in a GALSync topology we will find contact objects for everyone in the second forest when we import the first forest.</span></span> <span data-ttu-id="4112d-130">Detta kommer mellanlagra nya kontaktobjekt i AAD-koppling.</span><span class="sxs-lookup"><span data-stu-id="4112d-130">This will stage new contact objects in the AAD Connector.</span></span> <span data-ttu-id="4112d-131">När vi senare importerar och synkroniserar den andra skogen kommer att hitta verkliga användare och koppla dem till befintliga metaversum-objekt.</span><span class="sxs-lookup"><span data-stu-id="4112d-131">When we later import and synchronize the second forest, we will find the real users and join them to the existing metaverse objects.</span></span> <span data-ttu-id="4112d-132">Vi tar sedan bort kontaktobjekt i AAD och skapa ett nytt användarobjekt i stället.</span><span class="sxs-lookup"><span data-stu-id="4112d-132">We will then delete the contact object in AAD and create a new user object instead.</span></span>

<span data-ttu-id="4112d-133">Om du har en topologi där användare representeras som kontakter, kontrollera att du väljer för att matcha användare på e-postattribut i installationsguiden.</span><span class="sxs-lookup"><span data-stu-id="4112d-133">If you have a topology where users are represented as contacts, make sure you select to match users on the mail attribute in the installation guide.</span></span> <span data-ttu-id="4112d-134">Om du väljer ett annat alternativ att du har ett beroende konfiguration ordning.</span><span class="sxs-lookup"><span data-stu-id="4112d-134">If you select another option, then you will have an order dependent configuration.</span></span> <span data-ttu-id="4112d-135">Kontakta objekt ansluta till alltid på e-postattributet, men användarobjekt kommer bara att ansluta till på e-postattributet om det här alternativet har valts i installationsguiden.</span><span class="sxs-lookup"><span data-stu-id="4112d-135">Contact objects will always join on the mail attribute, but user objects will only join on the mail attribute if this option was selected in the installation guide.</span></span> <span data-ttu-id="4112d-136">Du kan sedan hamna med två olika objekt i metaversumet med samma postattribut för e-om objektet kontakta importerades innan användarobjektet.</span><span class="sxs-lookup"><span data-stu-id="4112d-136">You could then end up with two different objects in the metaverse with the same mail attribute if the contact object was imported before the user object.</span></span> <span data-ttu-id="4112d-137">Ett fel genereras under exporten till Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4112d-137">During export to Azure AD, an error will be thrown.</span></span> <span data-ttu-id="4112d-138">Det här beteendet är inbyggt och visar att det finns skadade data eller att topologin inte korrekt identifierades under installationen.</span><span class="sxs-lookup"><span data-stu-id="4112d-138">This behavior is by design and would indicate bad data or that the topology was not correctly identified during the installation.</span></span>

## <a name="disabled-accounts"></a><span data-ttu-id="4112d-139">Inaktiva konton</span><span class="sxs-lookup"><span data-stu-id="4112d-139">Disabled accounts</span></span>
<span data-ttu-id="4112d-140">Inaktiverade konton synkroniseras samt till Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4112d-140">Disabled accounts are synchronized as well to Azure AD.</span></span> <span data-ttu-id="4112d-141">Inaktiva konton är gemensamma för att representera resurser i Exchange, till exempel konferensrum.</span><span class="sxs-lookup"><span data-stu-id="4112d-141">Disabled accounts are common to represent resources in Exchange, for example conference rooms.</span></span> <span data-ttu-id="4112d-142">Undantaget är användare med en länkad postlåda; som tidigare nämnts etablerar dessa aldrig ett konto till Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4112d-142">The exception is users with a linked mailbox; as previously mentioned, these will never provision an account to Azure AD.</span></span>

<span data-ttu-id="4112d-143">Antagandet är att om ett inaktiverat användarkonto finns det kommer inte att hitta active ett annat konto senare och sedan objektet har etablerats till Azure AD med userPrincipalName och sourceAnchor hittades.</span><span class="sxs-lookup"><span data-stu-id="4112d-143">The assumption is that if a disabled user account is found, then we will not find another active account later and the object is provisioned to Azure AD with the userPrincipalName and sourceAnchor found.</span></span> <span data-ttu-id="4112d-144">Om ett annat konto i active ska ansluta till samma metaversumobjekt, används dess userPrincipalName och sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="4112d-144">In case another active account will join to the same metaverse object, then its userPrincipalName and sourceAnchor will be used.</span></span>

## <a name="changing-sourceanchor"></a><span data-ttu-id="4112d-145">Ändra sourceAnchor</span><span class="sxs-lookup"><span data-stu-id="4112d-145">Changing sourceAnchor</span></span>
<span data-ttu-id="4112d-146">När ett objekt som har exporterats till Azure AD och det inte är tillåtet att ändra sourceAnchor längre.</span><span class="sxs-lookup"><span data-stu-id="4112d-146">When an object has been exported to Azure AD then it is not allowed to change the sourceAnchor anymore.</span></span> <span data-ttu-id="4112d-147">När objektet har exporterats attribut för metaversum **cloudSourceAnchor** anges med den **sourceAnchor** värdet som godkänns av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4112d-147">When the object has been exported the metaverse attribute **cloudSourceAnchor** is set with the **sourceAnchor** value accepted by Azure AD.</span></span> <span data-ttu-id="4112d-148">Om **sourceAnchor** ändras och inte matchar **cloudSourceAnchor**, regeln **på AAD-användare ansluta** genereras felet **attributet sourceAnchor har ändra**.</span><span class="sxs-lookup"><span data-stu-id="4112d-148">If **sourceAnchor** is changed and not match **cloudSourceAnchor**, the rule **Out to AAD – User Join** will throw the error **sourceAnchor attribute has changed**.</span></span> <span data-ttu-id="4112d-149">I det här fallet måste konfiguration eller data åtgärdas så samma sourceAnchor finns i metaversum igen innan du kan synkronisera objektet igen.</span><span class="sxs-lookup"><span data-stu-id="4112d-149">In this case, the configuration or data must be corrected so the same sourceAnchor is present in the metaverse again before the object can be synchronized again.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="4112d-150">Ytterligare resurser</span><span class="sxs-lookup"><span data-stu-id="4112d-150">Additional Resources</span></span>
* [<span data-ttu-id="4112d-151">Azure AD Connect Sync: Anpassa synkroniseringsalternativ</span><span class="sxs-lookup"><span data-stu-id="4112d-151">Azure AD Connect Sync: Customizing Synchronization options</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="4112d-152">Integrera dina lokala identiteter med Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="4112d-152">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)

