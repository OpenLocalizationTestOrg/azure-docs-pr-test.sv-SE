---
title: 'Azure AD Connect: Designbegreppen | Microsoft Docs'
description: "Det här avsnittet beskrivs vissa implementering design områden"
services: active-directory
documentationcenter: 
author: billmath
manager: femila
editor: 
ms.assetid: 4114a6c0-f96a-493c-be74-1153666ce6c9
ms.service: active-directory
ms.custom: azure-ad-connect
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: Identity
ms.date: 07/13/2017
ms.author: billmath
ms.openlocfilehash: 1e5d5c6a716ca653fb14fc059e8155124b433732
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-connect-design-concepts"></a><span data-ttu-id="a63b6-103">Azure AD Connect: Designbegrepp</span><span class="sxs-lookup"><span data-stu-id="a63b6-103">Azure AD Connect: Design concepts</span></span>
<span data-ttu-id="a63b6-104">hello syftet med det här avsnittet är toodescribe områden som måste betraktas under hello implementeringsdesign av Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a63b6-104">hello purpose of this topic is toodescribe areas that must be thought through during hello implementation design of Azure AD Connect.</span></span> <span data-ttu-id="a63b6-105">Det här avsnittet är en djupdykning i vissa områden och dessa koncept beskrivs kortfattat i andra avsnitt samt.</span><span class="sxs-lookup"><span data-stu-id="a63b6-105">This topic is a deep dive on certain areas and these concepts are briefly described in other topics as well.</span></span>

## <a name="sourceanchor"></a><span data-ttu-id="a63b6-106">sourceAnchor</span><span class="sxs-lookup"><span data-stu-id="a63b6-106">sourceAnchor</span></span>
<span data-ttu-id="a63b6-107">attributet sourceAnchor för hello definieras som *ett attribut som inte ändras under hello livslängd för ett objekt*.</span><span class="sxs-lookup"><span data-stu-id="a63b6-107">hello sourceAnchor attribute is defined as *an attribute immutable during hello lifetime of an object*.</span></span> <span data-ttu-id="a63b6-108">Identifierar ett objekt som hello samma objekt lokalt och i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a63b6-108">It uniquely identifies an object as being hello same object on-premises and in Azure AD.</span></span> <span data-ttu-id="a63b6-109">hello attribut kallas också **immutableId** och hello två namn används utbytbara.</span><span class="sxs-lookup"><span data-stu-id="a63b6-109">hello attribute is also called **immutableId** and hello two names are used interchangeable.</span></span>

<span data-ttu-id="a63b6-110">hello ord ändras, är ”kan inte ändras”, är viktiga toothis avsnittet.</span><span class="sxs-lookup"><span data-stu-id="a63b6-110">hello word immutable, that is "cannot be changed", is important toothis topic.</span></span> <span data-ttu-id="a63b6-111">Eftersom värdet för det här attributet inte kan ändras när den väl har angetts, är det viktigt toopick en design som har stöd för ditt scenario.</span><span class="sxs-lookup"><span data-stu-id="a63b6-111">Since this attribute’s value cannot be changed after it has been set, it is important toopick a design that supports your scenario.</span></span>

<span data-ttu-id="a63b6-112">hello-attribut används för hello följande scenarier:</span><span class="sxs-lookup"><span data-stu-id="a63b6-112">hello attribute is used for hello following scenarios:</span></span>

* <span data-ttu-id="a63b6-113">När en ny synkroniseringsserver för motorn inbyggda eller återskapas efter en katastrofåterställning, länkar det här attributet befintliga objekt i Azure AD med objekt på lokalt.</span><span class="sxs-lookup"><span data-stu-id="a63b6-113">When a new sync engine server is built, or rebuilt after a disaster recovery scenario, this attribute links existing objects in Azure AD with objects on-premises.</span></span>
* <span data-ttu-id="a63b6-114">Om du flyttar från en molnbaserad tooa synkroniserade identitet identitetsmodellen, så det här attributet tillåter objekt för ”hårda matchar” befintliga objekt i Azure AD med lokalt objekt.</span><span class="sxs-lookup"><span data-stu-id="a63b6-114">If you move from a cloud-only identity tooa synchronized identity model, then this attribute allows objects too"hard match" existing objects in Azure AD with on-premises objects.</span></span>
* <span data-ttu-id="a63b6-115">Om du använder federation och sedan det här attributet tillsammans med hello **userPrincipalName** används i hello anspråk toouniquely identifiera en användare.</span><span class="sxs-lookup"><span data-stu-id="a63b6-115">If you use federation, then this attribute together with hello **userPrincipalName** is used in hello claim toouniquely identify a user.</span></span>

<span data-ttu-id="a63b6-116">Det här avsnittet handlar om sourceAnchor endast när det gäller toousers.</span><span class="sxs-lookup"><span data-stu-id="a63b6-116">This topic only talks about sourceAnchor as it relates toousers.</span></span> <span data-ttu-id="a63b6-117">hello samma regler gäller tooall objekttyper, men endast för användare är det här problemet är vanligtvis ett problem.</span><span class="sxs-lookup"><span data-stu-id="a63b6-117">hello same rules apply tooall object types, but it is only for users this problem usually is a concern.</span></span>

### <a name="selecting-a-good-sourceanchor-attribute"></a><span data-ttu-id="a63b6-118">Att välja en bra sourceAnchor attribut</span><span class="sxs-lookup"><span data-stu-id="a63b6-118">Selecting a good sourceAnchor attribute</span></span>
<span data-ttu-id="a63b6-119">hello attributvärdet måste följa hello följande regler:</span><span class="sxs-lookup"><span data-stu-id="a63b6-119">hello attribute value must follow hello following rules:</span></span>

* <span data-ttu-id="a63b6-120">Vara mindre än 60 tecken</span><span class="sxs-lookup"><span data-stu-id="a63b6-120">Be less than 60 characters in length</span></span>
  * <span data-ttu-id="a63b6-121">Tecken som inte är a-z, A-Z eller 0-9 kodas och räknas som 3 tecken</span><span class="sxs-lookup"><span data-stu-id="a63b6-121">Characters not being a-z, A-Z, or 0-9 are encoded and counted as 3 characters</span></span>
* <span data-ttu-id="a63b6-122">Inte innehåller ett specialtecken: &#92;!</span><span class="sxs-lookup"><span data-stu-id="a63b6-122">Not contain a special character: &#92; !</span></span> <span data-ttu-id="a63b6-123"># $ % & * + / = ?</span><span class="sxs-lookup"><span data-stu-id="a63b6-123"># $ % & * + / = ?</span></span> <span data-ttu-id="a63b6-124">^ &#96; { } | ~ < > ( ) ' ; : , [ ] " @ _</span><span class="sxs-lookup"><span data-stu-id="a63b6-124">^ &#96; { } | ~ < > ( ) ' ; : , [ ] " @ _</span></span>
* <span data-ttu-id="a63b6-125">Måste vara globalt unika</span><span class="sxs-lookup"><span data-stu-id="a63b6-125">Must be globally unique</span></span>
* <span data-ttu-id="a63b6-126">Måste vara en sträng, heltal eller binär</span><span class="sxs-lookup"><span data-stu-id="a63b6-126">Must be either a string, integer, or binary</span></span>
* <span data-ttu-id="a63b6-127">Ska inte baseras på användarens namn, ändringarna</span><span class="sxs-lookup"><span data-stu-id="a63b6-127">Should not be based on user's name, these changes</span></span>
* <span data-ttu-id="a63b6-128">Bör inte skiftlägeskänsliga och undvika värden som kan variera efter fall</span><span class="sxs-lookup"><span data-stu-id="a63b6-128">Should not be case-sensitive and avoid values that may vary by case</span></span>
* <span data-ttu-id="a63b6-129">Ska tilldelas när hello objekt skapas</span><span class="sxs-lookup"><span data-stu-id="a63b6-129">Should be assigned when hello object is created</span></span>

<span data-ttu-id="a63b6-130">Om hello markerat sourceAnchor är inte av typen string, Azure AD Connect Base64Encode hello-attributet värdet tooensure några specialtecken visas.</span><span class="sxs-lookup"><span data-stu-id="a63b6-130">If hello selected sourceAnchor is not of type string, then Azure AD Connect Base64Encode hello attribute value tooensure no special characters appear.</span></span> <span data-ttu-id="a63b6-131">Om du använder en annan federationsserver än AD FS kan du kontrollera om servern kan också Base64Encode hello attribut.</span><span class="sxs-lookup"><span data-stu-id="a63b6-131">If you use another federation server than ADFS, make sure your server can also Base64Encode hello attribute.</span></span>

<span data-ttu-id="a63b6-132">Hej sourceAnchor attributet är skiftlägeskänsliga.</span><span class="sxs-lookup"><span data-stu-id="a63b6-132">hello sourceAnchor attribute is case-sensitive.</span></span> <span data-ttu-id="a63b6-133">Värdet ”AndersSvensson” är inte hello samma som ”AndersSvensson”.</span><span class="sxs-lookup"><span data-stu-id="a63b6-133">A value of “JohnDoe” is not hello same as “johndoe”.</span></span> <span data-ttu-id="a63b6-134">Men du bör inte ha två olika objekt med endast en avvikelse i fall.</span><span class="sxs-lookup"><span data-stu-id="a63b6-134">But you should not have two different objects with only a difference in case.</span></span>

<span data-ttu-id="a63b6-135">Om du har en enda skog är lokalt, sedan hello-attribut som du bör använda **objectGUID**.</span><span class="sxs-lookup"><span data-stu-id="a63b6-135">If you have a single forest on-premises, then hello attribute you should use is **objectGUID**.</span></span> <span data-ttu-id="a63b6-136">Detta är även hello-attribut som används när du använder standardinställningar i Azure AD Connect och även hello attribut som används av DirSync.</span><span class="sxs-lookup"><span data-stu-id="a63b6-136">This is also hello attribute used when you use express settings in Azure AD Connect and also hello attribute used by DirSync.</span></span>

<span data-ttu-id="a63b6-137">Om du har flera skogar och flytta inte användare mellan skogar och domäner, sedan **objectGUID** är en bra attributet toouse även i det här fallet.</span><span class="sxs-lookup"><span data-stu-id="a63b6-137">If you have multiple forests and do not move users between forests and domains, then **objectGUID** is a good attribute toouse even in this case.</span></span>

<span data-ttu-id="a63b6-138">Om du flyttar användare mellan skogar och domäner, måste du hitta ett attribut som inte ändras eller kan flyttas med hello användare under hello move.</span><span class="sxs-lookup"><span data-stu-id="a63b6-138">If you move users between forests and domains, then you must find an attribute that does not change or can be moved with hello users during hello move.</span></span> <span data-ttu-id="a63b6-139">En rekommenderad metod är toointroduce syntetiska attribut.</span><span class="sxs-lookup"><span data-stu-id="a63b6-139">A recommended approach is toointroduce a synthetic attribute.</span></span> <span data-ttu-id="a63b6-140">Ett attribut som kan innehålla något som ser ut som ett GUID skulle vara lämplig.</span><span class="sxs-lookup"><span data-stu-id="a63b6-140">An attribute that could hold something that looks like a GUID would be suitable.</span></span> <span data-ttu-id="a63b6-141">När objekt skapas en ny GUID skapas och stämplad hello användaren.</span><span class="sxs-lookup"><span data-stu-id="a63b6-141">During object creation, a new GUID is created and stamped on hello user.</span></span> <span data-ttu-id="a63b6-142">En anpassad synkroniseringsregel kan skapas i hello sync motorn server toocreate detta värde baserat på hello **objectGUID** och uppdatera hello valda attribut i lägger till.</span><span class="sxs-lookup"><span data-stu-id="a63b6-142">A custom sync rule can be created in hello sync engine server toocreate this value based on hello **objectGUID** and update hello selected attribute in ADDS.</span></span> <span data-ttu-id="a63b6-143">Kontrollera att tooalso kopiera hello innehållet i det här värdet när du flyttar hello-objekt.</span><span class="sxs-lookup"><span data-stu-id="a63b6-143">When you move hello object, make sure tooalso copy hello content of this value.</span></span>

<span data-ttu-id="a63b6-144">En annan lösning är toopick ett befintligt attribut som du vet inte ändras.</span><span class="sxs-lookup"><span data-stu-id="a63b6-144">Another solution is toopick an existing attribute you know does not change.</span></span> <span data-ttu-id="a63b6-145">Vanliga attribut inkluderar **employeeID**.</span><span class="sxs-lookup"><span data-stu-id="a63b6-145">Commonly used attributes include **employeeID**.</span></span> <span data-ttu-id="a63b6-146">Om du anser att ett attribut som innehåller bokstäverna, kontrollera att det finns aldrig chansen hello (versal eller gemen) kan ändra för hello attributvärdet.</span><span class="sxs-lookup"><span data-stu-id="a63b6-146">If you consider an attribute that contains letters, make sure there is no chance hello case (upper case vs. lower case) can change for hello attribute's value.</span></span> <span data-ttu-id="a63b6-147">Felaktigt attribut som inte ska användas med dessa attribut med hello namnet på hello användare.</span><span class="sxs-lookup"><span data-stu-id="a63b6-147">Bad attributes that should not be used include those attributes with hello name of hello user.</span></span> <span data-ttu-id="a63b6-148">I en annullering eller äktenskapsskillnad är hello namn förväntat toochange, vilket inte är tillåtet för det här attributet.</span><span class="sxs-lookup"><span data-stu-id="a63b6-148">In a marriage or divorce, hello name is expected toochange, which is not allowed for this attribute.</span></span> <span data-ttu-id="a63b6-149">Detta är också ett skäl till varför attribut som **userPrincipalName**, **e**, och **targetAddress** inte är även möjligt tooselect i hello Azure AD Connect-installationen guiden.</span><span class="sxs-lookup"><span data-stu-id="a63b6-149">This is also one reason why attributes such as **userPrincipalName**, **mail**, and **targetAddress** are not even possible tooselect in hello Azure AD Connect installation wizard.</span></span> <span data-ttu-id="a63b6-150">Attributen också innehålla hello ”@” tecken, vilket inte är tillåtet i hello sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="a63b6-150">Those attributes also contain hello "@" character, which is not allowed in hello sourceAnchor.</span></span>

### <a name="changing-hello-sourceanchor-attribute"></a><span data-ttu-id="a63b6-151">Ändra hello sourceAnchor attribut</span><span class="sxs-lookup"><span data-stu-id="a63b6-151">Changing hello sourceAnchor attribute</span></span>
<span data-ttu-id="a63b6-152">Hej sourceAnchor attributvärdet kan inte ändras när hello-objektet har skapats i Azure AD och hello identitet synkroniseras.</span><span class="sxs-lookup"><span data-stu-id="a63b6-152">hello sourceAnchor attribute value cannot be changed after hello object has been created in Azure AD and hello identity is synchronized.</span></span>

<span data-ttu-id="a63b6-153">Därför hello följande begränsningar gäller tooAzure AD Connect:</span><span class="sxs-lookup"><span data-stu-id="a63b6-153">For this reason, hello following restrictions apply tooAzure AD Connect:</span></span>

* <span data-ttu-id="a63b6-154">Hej sourceAnchor attributet kan endast anges under installationen.</span><span class="sxs-lookup"><span data-stu-id="a63b6-154">hello sourceAnchor attribute can only be set during initial installation.</span></span> <span data-ttu-id="a63b6-155">Om du kör installationsguiden för hello är det här alternativet skrivskyddad.</span><span class="sxs-lookup"><span data-stu-id="a63b6-155">If you rerun hello installation wizard, this option is read-only.</span></span> <span data-ttu-id="a63b6-156">Om du behöver toochange den här inställningen, måste du avinstallera och installera om.</span><span class="sxs-lookup"><span data-stu-id="a63b6-156">If you need toochange this setting, then you must uninstall and reinstall.</span></span>
* <span data-ttu-id="a63b6-157">Om du installerar en annan Azure AD Connect-servern, kan du måste markera hello samma sourceAnchor-attribut som används som tidigare.</span><span class="sxs-lookup"><span data-stu-id="a63b6-157">If you install another Azure AD Connect server, then you must select hello same sourceAnchor attribute as previously used.</span></span> <span data-ttu-id="a63b6-158">Om du tidigare har använt DirSync och flytta tooAzure AD Connect måste du använda **objectGUID** eftersom hello-attribut som används av DirSync.</span><span class="sxs-lookup"><span data-stu-id="a63b6-158">If you have earlier been using DirSync and move tooAzure AD Connect, then you must use **objectGUID** since that is hello attribute used by DirSync.</span></span>
* <span data-ttu-id="a63b6-159">Om hello värde för sourceAnchor har ändrats efter har hello-objektet exporterade tooAzure AD, sedan Azure AD Connect-synkronisering genererar ett fel och tillåter inte några fler ändringar på objektet innan hello problemet har åtgärdats och hello sourceAnchor ändras tillbaka i hello källkatalog.</span><span class="sxs-lookup"><span data-stu-id="a63b6-159">If hello value for sourceAnchor is changed after hello object has been exported tooAzure AD, then Azure AD Connect sync throws an error and does not allow any more changes on that object before hello issue has been fixed and hello sourceAnchor is changed back in hello source directory.</span></span>

## <a name="using-msds-consistencyguid-as-sourceanchor"></a><span data-ttu-id="a63b6-160">Med msDS-ConsistencyGuid som sourceAnchor</span><span class="sxs-lookup"><span data-stu-id="a63b6-160">Using msDS-ConsistencyGuid as sourceAnchor</span></span>
<span data-ttu-id="a63b6-161">Som standard, Azure AD Connect (version 1.1.486.0 och äldre) använder objectGUID som hello sourceAnchor attribut.</span><span class="sxs-lookup"><span data-stu-id="a63b6-161">By default, Azure AD Connect (version 1.1.486.0 and older) uses objectGUID as hello sourceAnchor attribute.</span></span> <span data-ttu-id="a63b6-162">ObjectGUID är systemgenererad.</span><span class="sxs-lookup"><span data-stu-id="a63b6-162">ObjectGUID is system-generated.</span></span> <span data-ttu-id="a63b6-163">Du kan inte ange värdet när du skapar lokala AD-objekt.</span><span class="sxs-lookup"><span data-stu-id="a63b6-163">You cannot specify its value when creating on-premises AD objects.</span></span> <span data-ttu-id="a63b6-164">Enligt beskrivningen i avsnittet [sourceAnchor](#sourceanchor), finns det scenarier där du behöver toospecify hello sourceAnchor värde.</span><span class="sxs-lookup"><span data-stu-id="a63b6-164">As explained in section [sourceAnchor](#sourceanchor), there are scenarios where you need toospecify hello sourceAnchor value.</span></span> <span data-ttu-id="a63b6-165">Om hello scenarier är tillämpliga tooyou, måste du använda en konfigurerbar AD-attributet (till exempel msDS-ConsistencyGuid) som hello sourceAnchor attribut.</span><span class="sxs-lookup"><span data-stu-id="a63b6-165">If hello scenarios are applicable tooyou, you must use a configurable AD attribute (for example, msDS-ConsistencyGuid) as hello sourceAnchor attribute.</span></span>

<span data-ttu-id="a63b6-166">Azure AD Connect (version 1.1.524.0 och efter) nu underlättar hello användningen av msDS-ConsistencyGuid som attributet sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="a63b6-166">Azure AD Connect (version 1.1.524.0 and after) now facilitates hello use of msDS-ConsistencyGuid as sourceAnchor attribute.</span></span> <span data-ttu-id="a63b6-167">När du använder den här funktionen konfigurerar hello Synkroniseringsregler till automatiskt i Azure AD Connect:</span><span class="sxs-lookup"><span data-stu-id="a63b6-167">When using this feature, Azure AD Connect automatically configures hello synchronization rules to:</span></span>

1. <span data-ttu-id="a63b6-168">Använd msDS-ConsistencyGuid som hello sourceAnchor attribut för användarobjekt.</span><span class="sxs-lookup"><span data-stu-id="a63b6-168">Use msDS-ConsistencyGuid as hello sourceAnchor attribute for User objects.</span></span> <span data-ttu-id="a63b6-169">ObjectGUID används för andra objekttyper.</span><span class="sxs-lookup"><span data-stu-id="a63b6-169">ObjectGUID is used for other object types.</span></span>

2. <span data-ttu-id="a63b6-170">För alla angivna lokala AD-användare vars attributet msDS-ConsistencyGuid inte är ifylld, Azure AD Connect skriver ett objectGUID värdet tillbaka toohello msDS-ConsistencyGuid-attributet i lokala Active Directory-objekt.</span><span class="sxs-lookup"><span data-stu-id="a63b6-170">For any given on-premises AD User object whose msDS-ConsistencyGuid attribute isn't populated, Azure AD Connect writes its objectGUID value back toohello msDS-ConsistencyGuid attribute in on-premises Active Directory.</span></span> <span data-ttu-id="a63b6-171">När hello msDS-ConsistencyGuid attribut fylls exporterar sedan hello objektet tooAzure AD i Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a63b6-171">After hello msDS-ConsistencyGuid attribute is populated, Azure AD Connect then exports hello object tooAzure AD.</span></span>

>[!NOTE]
> <span data-ttu-id="a63b6-172">När en lokal AD-objekt har importerats till Azure AD Connect (som, importeras till hello AD anslutningsplatsen och planerad i hello metaversum), du kan inte ändra dess sourceAnchor värde längre.</span><span class="sxs-lookup"><span data-stu-id="a63b6-172">Once an on-premises AD object is imported into Azure AD Connect (that is, imported into hello AD Connector Space and projected into hello Metaverse), you cannot change its sourceAnchor value anymore.</span></span> <span data-ttu-id="a63b6-173">toospecify hello sourceAnchor värdet för ett givet lokala AD objekt, konfigurera ett attributet msDS-ConsistencyGuid innan den har importerats till Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a63b6-173">toospecify hello sourceAnchor value for a given on-premises AD object, configure its msDS-ConsistencyGuid attribute before it is imported into Azure AD Connect.</span></span>

### <a name="permission-required"></a><span data-ttu-id="a63b6-174">Behörigheten som krävs</span><span class="sxs-lookup"><span data-stu-id="a63b6-174">Permission required</span></span>
<span data-ttu-id="a63b6-175">För den här funktionen toowork ges hello AD DS-konto används toosynchronize med lokala Active Directory skrivåtgärder behörighet toohello msDS-ConsistencyGuid attribut i lokala Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a63b6-175">For this feature toowork, hello AD DS account used toosynchronize with on-premises Active Directory must be granted write permission toohello msDS-ConsistencyGuid attribute in on-premises Active Directory.</span></span>

### <a name="how-tooenable-hello-consistencyguid-feature---new-installation"></a><span data-ttu-id="a63b6-176">Hur tooenable hello ConsistencyGuid funktionen - nyinstallation</span><span class="sxs-lookup"><span data-stu-id="a63b6-176">How tooenable hello ConsistencyGuid feature - New installation</span></span>
<span data-ttu-id="a63b6-177">Du kan aktivera hello användningen av ConsistencyGuid som sourceAnchor vid nyinstallation.</span><span class="sxs-lookup"><span data-stu-id="a63b6-177">You can enable hello use of ConsistencyGuid as sourceAnchor during new installation.</span></span> <span data-ttu-id="a63b6-178">Det här avsnittet beskriver både snabb och anpassad installation i informationen.</span><span class="sxs-lookup"><span data-stu-id="a63b6-178">This section covers both Express and Custom installation in details.</span></span>

  >[!NOTE]
  > <span data-ttu-id="a63b6-179">Endast nyare versioner av Azure AD Connect (1.1.524.0 och efter) stöder hello användningen av ConsistencyGuid som sourceAnchor vid nyinstallation.</span><span class="sxs-lookup"><span data-stu-id="a63b6-179">Only newer versions of Azure AD Connect (1.1.524.0 and after) supports hello use of ConsistencyGuid as sourceAnchor during new installation.</span></span>

### <a name="how-tooenable-hello-consistencyguid-feature"></a><span data-ttu-id="a63b6-180">Hur tooenable hello ConsistencyGuid funktion</span><span class="sxs-lookup"><span data-stu-id="a63b6-180">How tooenable hello ConsistencyGuid feature</span></span>
<span data-ttu-id="a63b6-181">För närvarande kan hello-funktionen bara aktiveras under endast nya Azure AD Connect-installationen.</span><span class="sxs-lookup"><span data-stu-id="a63b6-181">Currently, hello feature can only be enabled during new Azure AD Connect installation only.</span></span>

#### <a name="express-installation"></a><span data-ttu-id="a63b6-182">Expressfunktion för Installation</span><span class="sxs-lookup"><span data-stu-id="a63b6-182">Express Installation</span></span>
<span data-ttu-id="a63b6-183">När du installerar Azure AD Connect med Express-läge, bestämmer automatiskt hello lämpligaste AD attributet toouse som hello sourceAnchor attribut med hjälp av följande logik hello hello Azure AD Connect-guiden:</span><span class="sxs-lookup"><span data-stu-id="a63b6-183">When installing Azure AD Connect with Express mode, hello Azure AD Connect wizard automatically determines hello most appropriate AD attribute toouse as hello sourceAnchor attribute using hello following logic:</span></span>

* <span data-ttu-id="a63b6-184">Först hello hello Azure AD Connect-guiden frågor din Azure AD-klient tooretrieve hello AD-attribut som används som attributet sourceAnchor i hello tidigare Azure AD Connect-installationen (om sådan finns).</span><span class="sxs-lookup"><span data-stu-id="a63b6-184">First, hello Azure AD Connect wizard queries your Azure AD tenant tooretrieve hello AD attribute used as hello sourceAnchor attribute in hello previous Azure AD Connect installation (if any).</span></span> <span data-ttu-id="a63b6-185">Om denna information är tillgänglig använder Azure AD Connect hello samma AD-attributet.</span><span class="sxs-lookup"><span data-stu-id="a63b6-185">If this information is available, Azure AD Connect uses hello same AD attribute.</span></span>

  >[!NOTE]
  > <span data-ttu-id="a63b6-186">Endast nyare versioner av Azure AD Connect (1.1.524.0 och efter) lagrar information i Azure AD-klienten om attributet sourceAnchor för hello används under installationen.</span><span class="sxs-lookup"><span data-stu-id="a63b6-186">Only newer versions of Azure AD Connect (1.1.524.0 and after) stores information in your Azure AD tenant about hello sourceAnchor attribute used during installation.</span></span> <span data-ttu-id="a63b6-187">Äldre versioner av Azure AD Connect inte.</span><span class="sxs-lookup"><span data-stu-id="a63b6-187">Older versions of Azure AD Connect do not.</span></span>

* <span data-ttu-id="a63b6-188">Om information om hello sourceAnchor attribut som används inte är tillgänglig kontrollerar hello guiden hello tillståndet för hello msDS-ConsistencyGuid attribut i din lokala Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a63b6-188">If information about hello sourceAnchor attribute used isn't available, hello wizard checks hello state of hello msDS-ConsistencyGuid attribute in your on-premises Active Directory.</span></span> <span data-ttu-id="a63b6-189">Om hello-attributet inte är konfigurerad på alla objekt i katalogen hello används hello hello msDS-ConsistencyGuid som hello sourceAnchor attribut.</span><span class="sxs-lookup"><span data-stu-id="a63b6-189">If hello attribute isn't configured on any object in hello directory, hello wizard uses hello msDS-ConsistencyGuid as hello sourceAnchor attribute.</span></span> <span data-ttu-id="a63b6-190">Om hello-attribut konfigureras på en eller flera objekt i hello directory slutsatsen hello guiden hello-attribut som används av andra program och är inte lämpligt som attributet sourceAnchor...</span><span class="sxs-lookup"><span data-stu-id="a63b6-190">If hello attribute is configured on one or more objects in hello directory, hello wizard concludes hello attribute is being used by other applications and is not suitable as sourceAnchor attribute...</span></span>

* <span data-ttu-id="a63b6-191">I så fall hello guiden använder toousing objectGUID som hello sourceAnchor attribut.</span><span class="sxs-lookup"><span data-stu-id="a63b6-191">In which case, hello wizard falls back toousing objectGUID as hello sourceAnchor attribute.</span></span>

* <span data-ttu-id="a63b6-192">När attributet sourceAnchor för hello bestäms lagrar hello guiden hello information i Azure AD-klienten.</span><span class="sxs-lookup"><span data-stu-id="a63b6-192">Once hello sourceAnchor attribute is decided, hello wizard stores hello information in your Azure AD tenant.</span></span> <span data-ttu-id="a63b6-193">hello information kommer att användas av framtida installation av Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="a63b6-193">hello information will be used by future installation of Azure AD Connect.</span></span>

<span data-ttu-id="a63b6-194">När Express-installationen är klar informerar hello guiden vilket attribut har plockats som hello Källfästpunkten attribut.</span><span class="sxs-lookup"><span data-stu-id="a63b6-194">Once Express installation completes, hello wizard informs you which attribute has been picked as hello Source Anchor attribute.</span></span>

![Guiden informerar AD attributet sourceAnchor har valts](./media/active-directory-aadconnect-design-concepts/consistencyGuid-01.png)

#### <a name="custom-installation"></a><span data-ttu-id="a63b6-196">Anpassad installation</span><span class="sxs-lookup"><span data-stu-id="a63b6-196">Custom installation</span></span>
<span data-ttu-id="a63b6-197">När du installerar Azure AD Connect med anpassade läge innehåller hello Azure AD Connect-guiden två alternativ när du konfigurerar attributet sourceAnchor:</span><span class="sxs-lookup"><span data-stu-id="a63b6-197">When installing Azure AD Connect with Custom mode, hello Azure AD Connect wizard provides two options when configuring sourceAnchor attribute:</span></span>

![Anpassad installation – sourceAnchor konfiguration](./media/active-directory-aadconnect-design-concepts/consistencyGuid-02.png)

| <span data-ttu-id="a63b6-199">Inställning</span><span class="sxs-lookup"><span data-stu-id="a63b6-199">Setting</span></span> | <span data-ttu-id="a63b6-200">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="a63b6-200">Description</span></span> |
| --- | --- |
| <span data-ttu-id="a63b6-201">Låt Azure hantera hello källfästpunkten för mig</span><span class="sxs-lookup"><span data-stu-id="a63b6-201">Let Azure manage hello source anchor for me</span></span> | <span data-ttu-id="a63b6-202">Välj det här alternativet om du vill att Azure AD toopick hello attribut för dig.</span><span class="sxs-lookup"><span data-stu-id="a63b6-202">Select this option if you want Azure AD toopick hello attribute for you.</span></span> <span data-ttu-id="a63b6-203">Om du väljer det här alternativet hello Azure AD Connect guiden gäller samma [sourceAnchor attributet markeringen logik som används under snabbinstallationen](#express-installation).</span><span class="sxs-lookup"><span data-stu-id="a63b6-203">If you select this option, Azure AD Connect wizard applies hello same [sourceAnchor attribute selection logic used during Express installation](#express-installation).</span></span> <span data-ttu-id="a63b6-204">Liknande tooExpress installation hello Guiden informerar vilket attribut har plockats som hello Källfästpunkten attribut när anpassade installationen är klar.</span><span class="sxs-lookup"><span data-stu-id="a63b6-204">Similar tooExpress installation, hello wizard informs you which attribute has been picked as hello Source Anchor attribute after Custom installation completes.</span></span> |
| <span data-ttu-id="a63b6-205">Ett specifikt attribut</span><span class="sxs-lookup"><span data-stu-id="a63b6-205">A specific attribute</span></span> | <span data-ttu-id="a63b6-206">Välj det här alternativet om du vill toospecify ett befintligt AD-attribut som hello sourceAnchor attribut.</span><span class="sxs-lookup"><span data-stu-id="a63b6-206">Select this option if you wish toospecify an existing AD attribute as hello sourceAnchor attribute.</span></span> |

### <a name="how-tooenable-hello-consistencyguid-feature---existing-deployment"></a><span data-ttu-id="a63b6-207">Hur tooenable hello ConsistencyGuid funktionen - befintlig distribution</span><span class="sxs-lookup"><span data-stu-id="a63b6-207">How tooenable hello ConsistencyGuid feature - Existing deployment</span></span>
<span data-ttu-id="a63b6-208">Om du har en befintlig Azure AD Connect-distribution som använder objectGUID som hello Källfästpunkten attribut kan växla du den toousing ConsistencyGuid i stället.</span><span class="sxs-lookup"><span data-stu-id="a63b6-208">If you have an existing Azure AD Connect deployment which is using objectGUID as hello Source Anchor attribute, you can switch it toousing ConsistencyGuid instead.</span></span>

>[!NOTE]
> <span data-ttu-id="a63b6-209">Endast nyare versioner av Azure AD Connect (1.1.552.0 och efter) har stöd för växlar från ObjectGuid tooConsistencyGuid som hello Källfästpunkten attribut.</span><span class="sxs-lookup"><span data-stu-id="a63b6-209">Only newer versions of Azure AD Connect (1.1.552.0 and after) supports switching from ObjectGuid tooConsistencyGuid as hello Source Anchor attribute.</span></span>

<span data-ttu-id="a63b6-210">tooswitch från objectGUID tooConsistencyGuid som hello Källfästpunkten attribut:</span><span class="sxs-lookup"><span data-stu-id="a63b6-210">tooswitch from objectGUID tooConsistencyGuid as hello Source Anchor attribute:</span></span>

1. <span data-ttu-id="a63b6-211">Starta hello Azure AD Connect-guiden och klicka på **konfigurera** toogo toohello uppgifter skärmen.</span><span class="sxs-lookup"><span data-stu-id="a63b6-211">Start hello Azure AD Connect wizard and click **Configure** toogo toohello Tasks screen.</span></span>

2. <span data-ttu-id="a63b6-212">Välj hello **konfigurera Källfästpunkten** uppgift alternativ och klickar på **nästa**.</span><span class="sxs-lookup"><span data-stu-id="a63b6-212">Select hello **Configure Source Anchor** task option and click **Next**.</span></span>

   ![Aktivera ConsistencyGuid för befintliga distribution – steg 2](./media/active-directory-aadconnect-design-concepts/consistencyguidexistingdeployment01.png)

3. <span data-ttu-id="a63b6-214">Ange dina autentiseringsuppgifter för Azure AD-administratör och klicka på **nästa**.</span><span class="sxs-lookup"><span data-stu-id="a63b6-214">Enter your Azure AD Administrator credentials and click **Next**.</span></span>

4. <span data-ttu-id="a63b6-215">Azure AD Connect-guiden analyserar hello tillståndet för hello msDS-ConsistencyGuid attribut i din lokala Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a63b6-215">Azure AD Connect wizard analyzes hello state of hello msDS-ConsistencyGuid attribute in your on-premises Active Directory.</span></span> <span data-ttu-id="a63b6-216">Om hello-attributet inte är konfigurerad på alla objekt i katalogen, Azure AD Connect slutsatsen att inget annat program använder hello attribut och säker toouse hello den som hello Källfästpunkten attribut.</span><span class="sxs-lookup"><span data-stu-id="a63b6-216">If hello attribute isn't configured on any object in hello directory, Azure AD Connect concludes that no other application is currently using hello attribute and is safe toouse it as hello Source Anchor attribute.</span></span> <span data-ttu-id="a63b6-217">Klicka på **nästa** toocontinue.</span><span class="sxs-lookup"><span data-stu-id="a63b6-217">Click **Next** toocontinue.</span></span>

   ![Aktivera ConsistencyGuid för befintliga distribution – steg 4](./media/active-directory-aadconnect-design-concepts/consistencyguidexistingdeployment02.png)

5. <span data-ttu-id="a63b6-219">I hello **klar tooConfigure** klickar du på **konfigurera** toomake hello konfigurationsändring.</span><span class="sxs-lookup"><span data-stu-id="a63b6-219">In hello **Ready tooConfigure** screen, click **Configure** toomake hello configuration change.</span></span>

   ![Aktivera ConsistencyGuid för befintliga distribution – steg 5](./media/active-directory-aadconnect-design-concepts/consistencyguidexistingdeployment03.png)

6. <span data-ttu-id="a63b6-221">När hello konfigurationen är klar, anger hello guiden att msDS-ConsistencyGuid används som hello Källfästpunkten attribut.</span><span class="sxs-lookup"><span data-stu-id="a63b6-221">Once hello configuration completes, hello wizard indicates that msDS-ConsistencyGuid is now being used as hello Source Anchor attribute.</span></span>

   ![Aktivera ConsistencyGuid för befintliga distribution – steg 6](./media/active-directory-aadconnect-design-concepts/consistencyguidexistingdeployment04.png)

<span data-ttu-id="a63b6-223">Vid analys av hello (steg 4), om hello-attribut konfigureras på ett eller flera objekt i hello directory slutsatsen hello guiden hello-attribut som används av ett annat program och returnerar ett fel som visas i hello diagrammet nedan.</span><span class="sxs-lookup"><span data-stu-id="a63b6-223">During hello analysis (step 4), if hello attribute is configured on one or more objects in hello directory, hello wizard concludes hello attribute is being used by another application and returns an error as illustrated in hello diagram below.</span></span> <span data-ttu-id="a63b6-224">Om du är säker på att hello-attributet inte är används av befintliga program behöver du toocontact stöd för information om hur toosuppress hello fel.</span><span class="sxs-lookup"><span data-stu-id="a63b6-224">If you are certain that hello attribute isn't used by existing applications, you need toocontact Support for information on how toosuppress hello error.</span></span>

![Aktivera ConsistencyGuid för befintliga distribution – fel](./media/active-directory-aadconnect-design-concepts/consistencyguidexistingdeploymenterror.png)

### <a name="impact-on-ad-fs-or-third-party-federation-configuration"></a><span data-ttu-id="a63b6-226">Påverkan på AD FS eller tredje parts federation-konfiguration</span><span class="sxs-lookup"><span data-stu-id="a63b6-226">Impact on AD FS or third-party federation configuration</span></span>
<span data-ttu-id="a63b6-227">Om du använder Azure AD Connect toomanage lokalt AD FS-distribution, hello Azure AD Connect uppdaterar automatiskt hello anspråk regler toouse hello samma AD-attributet som sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="a63b6-227">If you are using Azure AD Connect toomanage on-premises AD FS deployment, hello Azure AD Connect automatically updates hello claim rules toouse hello same AD attribute as sourceAnchor.</span></span> <span data-ttu-id="a63b6-228">Detta garanterar att hello ImmutableID anspråk som genererats av AD FS är konsekventa med hello sourceAnchor värden exporterade tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="a63b6-228">This ensures that hello ImmutableID claim generated by ADFS is consistent with hello sourceAnchor values exported tooAzure AD.</span></span>

<span data-ttu-id="a63b6-229">Om du hanterar AD FS utanför Azure AD Connect eller om du använder federationsservrar från tredje part för autentisering, måste du manuellt uppdatera hello anspråksregler för ImmutableID anspråk toobe konsekvent med hello sourceAnchor värden exporteras tooAzure AD som beskrivs i artikel [ändra AD FS anspråksregler](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-federation-management#modclaims).</span><span class="sxs-lookup"><span data-stu-id="a63b6-229">If you are managing AD FS outside of Azure AD Connect or you are using third-party federation servers for authentication, you must manually update hello claim rules for ImmutableID claim toobe consistent with hello sourceAnchor values exported tooAzure AD as described in article section [Modify AD FS claim rules](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-federation-management#modclaims).</span></span> <span data-ttu-id="a63b6-230">hello guiden returnerar hello följande varning när installationen är klar:</span><span class="sxs-lookup"><span data-stu-id="a63b6-230">hello wizard returns hello following warning after installation completes:</span></span>

![Tredjeparts federation-konfiguration](./media/active-directory-aadconnect-design-concepts/consistencyGuid-03.png)

### <a name="adding-new-directories-tooexisting-deployment"></a><span data-ttu-id="a63b6-232">Lägga till nya kataloger tooexisting distributionen</span><span class="sxs-lookup"><span data-stu-id="a63b6-232">Adding new directories tooexisting deployment</span></span>
<span data-ttu-id="a63b6-233">Anta att du har distribuerat Azure AD Connect hello ConsistencyGuid funktionen är aktiverad och nu vill du tooadd en annan katalog toohello distribution.</span><span class="sxs-lookup"><span data-stu-id="a63b6-233">Suppose you have deployed Azure AD Connect with hello ConsistencyGuid feature enabled, and now you would like tooadd another directory toohello deployment.</span></span> <span data-ttu-id="a63b6-234">När du försöker tooadd hello directory kontrollerar hello tillstånd på hello mSDS-ConsistencyGuid attribut i directory hello Azure AD Connect-guiden.</span><span class="sxs-lookup"><span data-stu-id="a63b6-234">When you try tooadd hello directory, Azure AD Connect wizard checks hello state of hello mSDS-ConsistencyGuid attribute in hello directory.</span></span> <span data-ttu-id="a63b6-235">Om hello-attribut konfigureras på en eller flera objekt i hello directory slutsatsen hello guiden hello-attribut som används av andra program och returnerar ett fel som visas i hello diagrammet nedan.</span><span class="sxs-lookup"><span data-stu-id="a63b6-235">If hello attribute is configured on one or more objects in hello directory, hello wizard concludes hello attribute is being used by other applications and returns an error as illustrated in hello diagram below.</span></span> <span data-ttu-id="a63b6-236">Om du är säker på att hello-attributet inte är används av befintliga program behöver du toocontact stöd för information om hur toosuppress hello fel.</span><span class="sxs-lookup"><span data-stu-id="a63b6-236">If you are certain that hello attribute isn't used by existing applications, you need toocontact Support for information on how toosuppress hello error.</span></span>

![Lägga till nya kataloger tooexisting distributionen](./media/active-directory-aadconnect-design-concepts/consistencyGuid-04.png)

## <a name="azure-ad-sign-in"></a><span data-ttu-id="a63b6-238">Azure AD-inloggning</span><span class="sxs-lookup"><span data-stu-id="a63b6-238">Azure AD sign-in</span></span>
<span data-ttu-id="a63b6-239">När du integrerar din lokala katalog med Azure AD, är det viktigt toounderstand hur hello synkroniseringsinställningar kan påverka hello sätt användaren autentiseras.</span><span class="sxs-lookup"><span data-stu-id="a63b6-239">While integrating your on-premises directory with Azure AD, it is important toounderstand how hello synchronization settings can affect hello way user authenticates.</span></span> <span data-ttu-id="a63b6-240">Azure AD använder userPrincipalName (UPN) tooauthenticate hello användare.</span><span class="sxs-lookup"><span data-stu-id="a63b6-240">Azure AD uses userPrincipalName (UPN) tooauthenticate hello user.</span></span> <span data-ttu-id="a63b6-241">När du synkroniserar dina användare, måste du välja hello attributet toobe används för värdet för userPrincipalName noggrant.</span><span class="sxs-lookup"><span data-stu-id="a63b6-241">However, when you synchronize your users, you must choose hello attribute toobe used for value of userPrincipalName carefully.</span></span>

### <a name="choosing-hello-attribute-for-userprincipalname"></a><span data-ttu-id="a63b6-242">Att välja hello attribut för userPrincipalName</span><span class="sxs-lookup"><span data-stu-id="a63b6-242">Choosing hello attribute for userPrincipalName</span></span>
<span data-ttu-id="a63b6-243">När du väljer hello attribut för att tillhandahålla hello värdet för UPN-toobe används i Azure som bör kontrollera</span><span class="sxs-lookup"><span data-stu-id="a63b6-243">When you are selecting hello attribute for providing hello value of UPN toobe used in Azure one should ensure</span></span>

* <span data-ttu-id="a63b6-244">hello attributvärden överensstämmer toohello UPN-syntax (RFC 822), som det ska vara hello-formatusername@domain</span><span class="sxs-lookup"><span data-stu-id="a63b6-244">hello attribute values conform toohello UPN syntax (RFC 822), that is it should be of hello format username@domain</span></span>
* <span data-ttu-id="a63b6-245">hello-suffix i hello värden matchar tooone av Hej kontrolleras anpassade domäner i Azure AD</span><span class="sxs-lookup"><span data-stu-id="a63b6-245">hello suffix in hello values matches tooone of hello verified custom domains in Azure AD</span></span>

<span data-ttu-id="a63b6-246">I standardinställningar antas hello valet för hello-attributet är userPrincipalName.</span><span class="sxs-lookup"><span data-stu-id="a63b6-246">In express settings, hello assumed choice for hello attribute is userPrincipalName.</span></span> <span data-ttu-id="a63b6-247">Om hello userPrincipalName attributet inte innehåller hello värde du vill att dina användare toosign i tooAzure och du måste välja **Anpassad Installation**.</span><span class="sxs-lookup"><span data-stu-id="a63b6-247">If hello userPrincipalName attribute does not contain hello value you want your users toosign in tooAzure, then you must choose **Custom Installation**.</span></span>

### <a name="custom-domain-state-and-upn"></a><span data-ttu-id="a63b6-248">Tillstånd för anpassad domän- och UPN</span><span class="sxs-lookup"><span data-stu-id="a63b6-248">Custom domain state and UPN</span></span>
<span data-ttu-id="a63b6-249">Det är viktigt tooensure att det finns en verifierad domän för hello UPN-suffix.</span><span class="sxs-lookup"><span data-stu-id="a63b6-249">It is important tooensure that there is a verified domain for hello UPN suffix.</span></span>

<span data-ttu-id="a63b6-250">John är en användare i contoso.com. Du vill John toouse hello lokala UPN john@contoso.com toosign i tooAzure efter att du har synkroniserats användare tooyour Azure AD directory contoso.onmicrosoft.com. toodo så kan du behöver tooadd och verifiera contoso.com som en anpassad domän i Azure AD innan du kan börja Synkroniserar hello-användare.</span><span class="sxs-lookup"><span data-stu-id="a63b6-250">John is a user in contoso.com. You want John toouse hello on-premises UPN john@contoso.com toosign in tooAzure after you have synced users tooyour Azure AD directory contoso.onmicrosoft.com. toodo so, you need tooadd and verify contoso.com as a custom domain in Azure AD before you can start syncing hello users.</span></span> <span data-ttu-id="a63b6-251">Om hello UPN-suffix John, till exempel contoso.com inte matchar en verifierad domän i Azure AD, ersätter Azure AD hello UPN-suffix med contoso.onmicrosoft.com.</span><span class="sxs-lookup"><span data-stu-id="a63b6-251">If hello UPN suffix of John, for example contoso.com, does not match a verified domain in Azure AD, then Azure AD replaces hello UPN suffix with contoso.onmicrosoft.com.</span></span>

### <a name="non-routable-on-premises-domains-and-upn-for-azure-ad"></a><span data-ttu-id="a63b6-252">Icke-dirigerbara lokala domäner och UPN för Azure AD</span><span class="sxs-lookup"><span data-stu-id="a63b6-252">Non-routable on-premises domains and UPN for Azure AD</span></span>
<span data-ttu-id="a63b6-253">Vissa organisationer har icke-dirigerbara domäner, t.ex. contoso.local eller enkel etikett domäner som contoso.</span><span class="sxs-lookup"><span data-stu-id="a63b6-253">Some organizations have non-routable domains, like contoso.local, or simple single label domains like contoso.</span></span> <span data-ttu-id="a63b6-254">Du är inte kan tooverify en icke-dirigerbara domän i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a63b6-254">You are not able tooverify a non-routable domain in Azure AD.</span></span> <span data-ttu-id="a63b6-255">Azure AD Connect kan synkronisera tooonly en verifierad domän i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a63b6-255">Azure AD Connect can sync tooonly a verified domain in Azure AD.</span></span> <span data-ttu-id="a63b6-256">När du skapar en Azure AD-katalog skapar en dirigerbara domän som blir standarddomän för din Azure AD, till exempel contoso.onmicrosoft.com. Därför blir det nödvändigt tooverify andra dirigerbara domänen i ett sådant scenario om du inte vill toosync toohello standarddomänen onmicrosoft.com.</span><span class="sxs-lookup"><span data-stu-id="a63b6-256">When you create an Azure AD directory, it creates a routable domain that becomes default domain for your Azure AD for example, contoso.onmicrosoft.com. Therefore, it becomes necessary tooverify any other routable domain in such a scenario in case you don't want toosync toohello default onmicrosoft.com domain.</span></span>

<span data-ttu-id="a63b6-257">Läs [lägga till din anpassade domän namn tooAzure Active Directory](../active-directory-add-domain.md) för mer information om att lägga till och verifiera domäner.</span><span class="sxs-lookup"><span data-stu-id="a63b6-257">Read [Add your custom domain name tooAzure Active Directory](../active-directory-add-domain.md) for more info on adding and verifying domains.</span></span>

<span data-ttu-id="a63b6-258">Azure AD Connect identifierar om du kör i en icke-dirigerbara domänmiljö och korrekt skulle varnar dig från att gå vidare med standardinställningar.</span><span class="sxs-lookup"><span data-stu-id="a63b6-258">Azure AD Connect detects if you are running in a non-routable domain environment and would appropriately warn you from going ahead with express settings.</span></span> <span data-ttu-id="a63b6-259">Om du arbetar i en icke-dirigerbara domän, och sedan är det troligt att hello UPN hello användare ha icke-dirigerbara suffix för.</span><span class="sxs-lookup"><span data-stu-id="a63b6-259">If you are operating in a non-routable domain, then it is likely that hello UPN of hello users have non-routable suffixes too.</span></span> <span data-ttu-id="a63b6-260">Till exempel föreslår, om du kör under contoso.local, Azure AD Connect du toouse anpassade inställningar i stället för med standardinställningar.</span><span class="sxs-lookup"><span data-stu-id="a63b6-260">For example, if you are running under contoso.local, Azure AD Connect suggests you toouse custom settings rather than using express settings.</span></span> <span data-ttu-id="a63b6-261">Med anpassade inställningar som kan toospecify hello attribut som ska användas som UPN-toosign i tooAzure när hello användare är synkroniserade tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="a63b6-261">Using custom settings, you are able toospecify hello attribute that should be used as UPN toosign in tooAzure after hello users are synced tooAzure AD.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a63b6-262">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="a63b6-262">Next steps</span></span>
<span data-ttu-id="a63b6-263">Läs mer om hur du [integrerar dina lokala identiteter med Azure Active Directory](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="a63b6-263">Learn more about [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>
