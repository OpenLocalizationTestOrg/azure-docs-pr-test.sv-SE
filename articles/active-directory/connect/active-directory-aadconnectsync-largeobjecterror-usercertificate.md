---
title: 'Azure AD Connect-synkronisering: hantera LargeObject fel som orsakats av userCertificate attributet | Microsoft Docs'
description: "Det här avsnittet innehåller reparationssteg för LargeObject fel som orsakats av userCertificate attribut."
services: active-directory
documentationcenter: 
author: cychua
manager: femila
editor: 
ms.assetid: 146ad5b3-74d9-4a83-b9e8-0973a19828d9
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: billmath
ms.openlocfilehash: 2a5418ff61e07793fceca5a8207c1c5aa18847b4
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-handling-largeobject-errors-caused-by-usercertificate-attribute"></a><span data-ttu-id="80ea7-103">Azure AD Connect-synkronisering: hantera LargeObject fel som orsakats av userCertificate attribut</span><span class="sxs-lookup"><span data-stu-id="80ea7-103">Azure AD Connect sync: Handling LargeObject errors caused by userCertificate attribute</span></span>

<span data-ttu-id="80ea7-104">Azure AD tillämpar övre gräns **15** certifikat värden på den **userCertificate** attribut.</span><span class="sxs-lookup"><span data-stu-id="80ea7-104">Azure AD enforces a maximum limit of **15** certificate values on the **userCertificate** attribute.</span></span> <span data-ttu-id="80ea7-105">Om Azure AD Connect exporterar ett objekt med mer än 15 värden till Azure AD, Azure AD returnerar en **LargeObject** fel med meddelandet:</span><span class="sxs-lookup"><span data-stu-id="80ea7-105">If Azure AD Connect exports an object with more than 15 values to Azure AD, Azure AD returns a **LargeObject** error with message:</span></span>

><span data-ttu-id="80ea7-106">*”Objektet är för stor. Begränsa antalet attributvärden för det här objektet. Åtgärden upprepas under nästa synkroniseringscykel... ”*</span><span class="sxs-lookup"><span data-stu-id="80ea7-106">*"The provisioned object is too large. Trim the number of attribute values on this object. The operation will be retried in the next synchronization cycle..."*</span></span>

<span data-ttu-id="80ea7-107">LargeObject felet kan orsakas av andra AD-attribut.</span><span class="sxs-lookup"><span data-stu-id="80ea7-107">The LargeObject error may be caused by other AD attributes.</span></span> <span data-ttu-id="80ea7-108">För att bekräfta att det verkligen beror på attributet userCertificate, måste du verifiera mot antingen i lokala AD-objekt eller i den [Synchronization Service Manager metaversumsökningen](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnectsync-service-manager-ui-mvsearch).</span><span class="sxs-lookup"><span data-stu-id="80ea7-108">To confirm it is indeed caused by the userCertificate attribute, you need to verify against the object either in on-premises AD or in the [Synchronization Service Manager Metaverse Search](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnectsync-service-manager-ui-mvsearch).</span></span>

<span data-ttu-id="80ea7-109">Använd någon av följande metoder för att hämta listan med objekt i din klient med LargeObject fel:</span><span class="sxs-lookup"><span data-stu-id="80ea7-109">To obtain the list of objects in your tenant with LargeObject errors, use one of the following methods:</span></span>

 * <span data-ttu-id="80ea7-110">Om din klient är aktiverad för Azure AD Connect Health för synkronisering kan du referera till den [synkronisering felrapporten](https://docs.microsoft.com/azure/active-directory/connect-health/active-directory-aadconnect-health-sync#object-level-synchronization-error-report-preview) tillhandahålls.</span><span class="sxs-lookup"><span data-stu-id="80ea7-110">If your tenant is enabled for Azure AD Connect Health for sync, you can refer to the [Synchronization Error Report](https://docs.microsoft.com/azure/active-directory/connect-health/active-directory-aadconnect-health-sync#object-level-synchronization-error-report-preview) provided.</span></span>
 
 * <span data-ttu-id="80ea7-111">E-postmeddelandet för directory synkroniseringsfel som skickas i slutet av varje cykel för synkronisering med en lista över objekt med LargeObject fel.</span><span class="sxs-lookup"><span data-stu-id="80ea7-111">The notification email for directory synchronization errors that is sent at the end of each sync cycle has the list of objects with LargeObject errors.</span></span> 
 * <span data-ttu-id="80ea7-112">Den [Synchronization Service Manager Operations fliken](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnectsync-service-manager-ui-operations) visar en lista med objekt med LargeObject fel om du klickar på den senaste exporten till Azure AD-åtgärden.</span><span class="sxs-lookup"><span data-stu-id="80ea7-112">The [Synchronization Service Manager Operations tab](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnectsync-service-manager-ui-operations) displays the list of objects with LargeObject errors if you click the latest Export to Azure AD operation.</span></span>
 
## <a name="mitigation-options"></a><span data-ttu-id="80ea7-113">Alternativ för lösning</span><span class="sxs-lookup"><span data-stu-id="80ea7-113">Mitigation options</span></span>
<span data-ttu-id="80ea7-114">Andra attributändringar till samma objekt kan inte exporteras till Azure AD förrän LargeObject felet är löst.</span><span class="sxs-lookup"><span data-stu-id="80ea7-114">Until the LargeObject error is resolved, other attribute changes to the same object cannot be exported to Azure AD.</span></span> <span data-ttu-id="80ea7-115">Du kan lösa problemet kan du följande alternativ:</span><span class="sxs-lookup"><span data-stu-id="80ea7-115">To resolve the error, you can consider the following options:</span></span>

 * <span data-ttu-id="80ea7-116">Uppgradera Azure AD Connect för att skapa 1.1.524.0 eller efter.</span><span class="sxs-lookup"><span data-stu-id="80ea7-116">Upgrade Azure AD Connect to build 1.1.524.0 or after.</span></span> <span data-ttu-id="80ea7-117">Skapa 1.1.524.0, out of box synkroniseringen regler har uppdaterats för att inte exportera attribut userCertificate och userSMIMECertificate om attribut som har mer än 15 värden i Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="80ea7-117">In Azure AD Connect build 1.1.524.0, the out-of-box synchronization rules have been updated to not export attributes userCertificate and userSMIMECertificate if the attributes have more than 15 values.</span></span> <span data-ttu-id="80ea7-118">Mer information om hur du uppgraderar Azure AD Connect finns i artikel [Azure AD Connect: uppgradera från en tidigare version till senast](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-upgrade-previous-version).</span><span class="sxs-lookup"><span data-stu-id="80ea7-118">For details on how to upgrade Azure AD Connect, refer to article [Azure AD Connect: Upgrade from a previous version to the latest](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-upgrade-previous-version).</span></span>

 * <span data-ttu-id="80ea7-119">Implementera en **utgående synkroniseringsregel** i Azure AD Connect som exporterar en **null-värde i stället för de faktiska värdena för objekt med mer än 15 certifikat värden**.</span><span class="sxs-lookup"><span data-stu-id="80ea7-119">Implement an **outbound sync rule** in Azure AD Connect that exports a **null value instead of the actual values for objects with more than 15 certificate values**.</span></span> <span data-ttu-id="80ea7-120">Det här alternativet är lämpligt om du inte behöver något av värdena för certifikat som ska exporteras till Azure AD för objekt med mer än 15 värden.</span><span class="sxs-lookup"><span data-stu-id="80ea7-120">This option is suitable if you do not require any of the certificate values to be exported to Azure AD for objects with more than 15 values.</span></span> <span data-ttu-id="80ea7-121">Mer information om hur du implementerar regeln synkronisering finns i nästa avsnitt [implementera synkroniseringsregel för att begränsa export av userCertificate attributet](#implementing-sync-rule-to-limit-export-of-usercertificate-attribute).</span><span class="sxs-lookup"><span data-stu-id="80ea7-121">For details on how to implement this sync rule, refer to next section [Implementing sync rule to limit export of userCertificate attribute](#implementing-sync-rule-to-limit-export-of-usercertificate-attribute).</span></span>

 * <span data-ttu-id="80ea7-122">Minska antalet certifikat värden på lokalt AD-objekt (15 eller mindre) genom att ta bort värden som inte längre används av din organisation.</span><span class="sxs-lookup"><span data-stu-id="80ea7-122">Reduce the number of certificate values on the on-premises AD object (15 or less) by removing values that are no longer in use by your organization.</span></span> <span data-ttu-id="80ea7-123">Detta är lämpligt om attributet överdriven-storlek orsakas av certifikat som har upphört att gälla eller används inte.</span><span class="sxs-lookup"><span data-stu-id="80ea7-123">This is suitable if the attribute bloat is caused by expired or unused certificates.</span></span> <span data-ttu-id="80ea7-124">Du kan använda den [PowerShell-skript finns här](https://gallery.technet.microsoft.com/Remove-Expired-Certificates-0517e34f) säkerhetskopiering för att hitta och ta bort utgångna certifikat i din lokala AD.</span><span class="sxs-lookup"><span data-stu-id="80ea7-124">You can use the [PowerShell script available here](https://gallery.technet.microsoft.com/Remove-Expired-Certificates-0517e34f) to help find, backup, and delete expired certificates in your on-premises AD.</span></span> <span data-ttu-id="80ea7-125">Innan du tar bort certifikat, bör du kontrollera med infrastruktur för offentliga nycklar administratörer i din organisation.</span><span class="sxs-lookup"><span data-stu-id="80ea7-125">Before deleting the certificates, it is recommended that you verify with the Public-Key-Infrastructure administrators in your organization.</span></span>

 * <span data-ttu-id="80ea7-126">Konfigurera Azure AD Connect om du vill exkludera attributet userCertificate exporteras till Azure AD.</span><span class="sxs-lookup"><span data-stu-id="80ea7-126">Configure Azure AD Connect to exclude the userCertificate attribute from being exported to Azure AD.</span></span> <span data-ttu-id="80ea7-127">I allmänhet rekommenderas inte det här alternativet eftersom attributet kan användas av Microsoft Online Services för att möjliggöra specifika scenarier.</span><span class="sxs-lookup"><span data-stu-id="80ea7-127">In general, we do not recommend this option since the attribute may be used by Microsoft Online Services to enable specific scenarios.</span></span> <span data-ttu-id="80ea7-128">I synnerhet:</span><span class="sxs-lookup"><span data-stu-id="80ea7-128">In particular:</span></span>
    * <span data-ttu-id="80ea7-129">Attributet userCertificate användarobjektet används av Exchange Online och Outlook-klienter för Meddelandesignering och kryptering.</span><span class="sxs-lookup"><span data-stu-id="80ea7-129">The userCertificate attribute on the User object is used by Exchange Online and Outlook clients for message signing and encryption.</span></span> <span data-ttu-id="80ea7-130">Mer information om den här funktionen finns i artikel [S/MIME för Meddelandesignering och kryptering](https://technet.microsoft.com/library/dn626158(v=exchg.150).aspx).</span><span class="sxs-lookup"><span data-stu-id="80ea7-130">To learn more about this feature, refer to article [S/MIME for message signing and encryption](https://technet.microsoft.com/library/dn626158(v=exchg.150).aspx).</span></span>

    * <span data-ttu-id="80ea7-131">Attributet userCertificate på datorobjektet används av Azure AD så att Windows 10 lokala domänanslutna enheter att ansluta till Azure AD.</span><span class="sxs-lookup"><span data-stu-id="80ea7-131">The userCertificate attribute on the Computer object is used by Azure AD to allow Windows 10 on-premises domain-joined devices to connect to Azure AD.</span></span> <span data-ttu-id="80ea7-132">Mer information om den här funktionen finns i artikel [ansluta domänanslutna enheter till Azure AD för Windows 10-upplevelser](https://docs.microsoft.com/azure/active-directory/active-directory-azureadjoin-devices-group-policy).</span><span class="sxs-lookup"><span data-stu-id="80ea7-132">To learn more about this feature, please refer to article [Connect domain-joined devices to Azure AD for Windows 10 experiences](https://docs.microsoft.com/azure/active-directory/active-directory-azureadjoin-devices-group-policy).</span></span>

## <a name="implementing-sync-rule-to-limit-export-of-usercertificate-attribute"></a><span data-ttu-id="80ea7-133">Implementera synkroniseringsregel för att begränsa export av userCertificate attribut</span><span class="sxs-lookup"><span data-stu-id="80ea7-133">Implementing sync rule to limit export of userCertificate attribute</span></span>
<span data-ttu-id="80ea7-134">Lös LargeObject orsakas felet av attributet userCertificate, du kan implementera en synkroniseringsregel för utgående i Azure AD Connect som exporterar en **null-värde i stället för de faktiska värdena för objekt med mer än 15 certifikat värden**.</span><span class="sxs-lookup"><span data-stu-id="80ea7-134">To resolve the LargeObject error caused by the userCertificate attribute, you can implement an outbound sync rule in Azure AD Connect that exports a **null value instead of the actual values for objects with more than 15 certificate values**.</span></span> <span data-ttu-id="80ea7-135">Det här avsnittet beskriver de steg som krävs för att implementera synkroniseringsregel för **användaren** objekt.</span><span class="sxs-lookup"><span data-stu-id="80ea7-135">This section describes the steps required to implement the sync rule for **User** objects.</span></span> <span data-ttu-id="80ea7-136">Steg som kan anpassas för **Kontakta** och **datorn** objekt.</span><span class="sxs-lookup"><span data-stu-id="80ea7-136">The steps can be adapted for **Contact** and **Computer** objects.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="80ea7-137">Exportera nullvärde tar bort certifikatet värden som tidigare har exporterats till Azure AD.</span><span class="sxs-lookup"><span data-stu-id="80ea7-137">Exporting null value removes certificate values previously exported successfully to Azure AD.</span></span>

<span data-ttu-id="80ea7-138">Stegen kan sammanfattas som:</span><span class="sxs-lookup"><span data-stu-id="80ea7-138">The steps can be summarized as:</span></span>

1. <span data-ttu-id="80ea7-139">Inaktivera sync scheduler och kontrollera att det finns ingen synkronisering pågår.</span><span class="sxs-lookup"><span data-stu-id="80ea7-139">Disable sync scheduler and verify there is no synchronization in progress.</span></span>
3. <span data-ttu-id="80ea7-140">Hitta befintliga utgående synkroniseringsregel för userCertificate attribut.</span><span class="sxs-lookup"><span data-stu-id="80ea7-140">Find the existing outbound sync rule for userCertificate attribute.</span></span>
4. <span data-ttu-id="80ea7-141">Skapa synkroniseringsregel för utgående som krävs.</span><span class="sxs-lookup"><span data-stu-id="80ea7-141">Create the outbound sync rule required.</span></span>
5. <span data-ttu-id="80ea7-142">Kontrollera den nya sync-regeln på ett befintligt objekt med LargeObject fel.</span><span class="sxs-lookup"><span data-stu-id="80ea7-142">Verify the new sync rule on an existing object with LargeObject error.</span></span>
6. <span data-ttu-id="80ea7-143">Tillämpa nya sync-regel för kvarvarande objekt med LargeObject fel.</span><span class="sxs-lookup"><span data-stu-id="80ea7-143">Apply the new sync rule to remaining objects with LargeObject error.</span></span>
7. <span data-ttu-id="80ea7-144">Kontrollera att det inte finns några oväntade ändringar som väntar på att exporteras till Azure AD.</span><span class="sxs-lookup"><span data-stu-id="80ea7-144">Verify there are no unexpected changes waiting to be exported to Azure AD.</span></span>
8. <span data-ttu-id="80ea7-145">Exportera ändringarna till Azure AD.</span><span class="sxs-lookup"><span data-stu-id="80ea7-145">Export the changes to Azure AD.</span></span>
9. <span data-ttu-id="80ea7-146">Återaktivera sync scheduler.</span><span class="sxs-lookup"><span data-stu-id="80ea7-146">Re-enable sync scheduler.</span></span>

### <a name="step-1-disable-sync-scheduler-and-verify-there-is-no-synchronization-in-progress"></a><span data-ttu-id="80ea7-147">Steg 1.</span><span class="sxs-lookup"><span data-stu-id="80ea7-147">Step 1.</span></span> <span data-ttu-id="80ea7-148">Inaktivera sync scheduler och kontrollera att det finns ingen synkronisering pågår</span><span class="sxs-lookup"><span data-stu-id="80ea7-148">Disable sync scheduler and verify there is no synchronization in progress</span></span>
<span data-ttu-id="80ea7-149">Kontrollera sker ingen synkronisering när du arbetar på att implementera en ny synkroniseringsregel för att undvika oväntade ändringar exporteras till Azure AD.</span><span class="sxs-lookup"><span data-stu-id="80ea7-149">Ensure no synchronization takes place while you are in the middle of implementing a new sync rule to avoid unintended changes being exported to Azure AD.</span></span> <span data-ttu-id="80ea7-150">Inaktivera inbyggda sync scheduler:</span><span class="sxs-lookup"><span data-stu-id="80ea7-150">To disable the built-in sync scheduler:</span></span>
1. <span data-ttu-id="80ea7-151">Starta PowerShell-session på Azure AD Connect-servern.</span><span class="sxs-lookup"><span data-stu-id="80ea7-151">Start PowerShell session on the Azure AD Connect server.</span></span>

2. <span data-ttu-id="80ea7-152">Inaktivera schemalagda synkroniseringen genom att köra cmdlet:`Set-ADSyncScheduler -SyncCycleEnabled $false`</span><span class="sxs-lookup"><span data-stu-id="80ea7-152">Disable scheduled synchronization by running cmdlet: `Set-ADSyncScheduler -SyncCycleEnabled $false`</span></span>

> [!Note]
> <span data-ttu-id="80ea7-153">Ovanstående gäller endast för nyare versioner (1.1.xxx.x) av Azure AD Connect med inbyggda Schemaläggaren.</span><span class="sxs-lookup"><span data-stu-id="80ea7-153">The preceding steps are only applicable to newer versions (1.1.xxx.x) of Azure AD Connect with the built-in scheduler.</span></span> <span data-ttu-id="80ea7-154">Om du använder äldre versioner (1.0.xxx.x) av Azure AD Connect som använder Schemaläggaren i Windows, eller om du använder egna anpassade scheduler (inte vanliga) för att utlösa återkommande synkronisering, måste du inaktivera dem i enlighet med detta.</span><span class="sxs-lookup"><span data-stu-id="80ea7-154">If you are using older versions (1.0.xxx.x) of Azure AD Connect that uses Windows Task Scheduler, or you are using your own custom scheduler (not common) to trigger periodic synchronization, you need to disable them accordingly.</span></span>

3. <span data-ttu-id="80ea7-155">Starta den **Synchronization Service Manager** genom att gå till START → synkroniseringstjänsten.</span><span class="sxs-lookup"><span data-stu-id="80ea7-155">Start the **Synchronization Service Manager** by going to START → Synchronization Service.</span></span>

4. <span data-ttu-id="80ea7-156">Gå till den **Operations** fliken och bekräfta att ingen åtgärd vars status är *”pågår”.*</span><span class="sxs-lookup"><span data-stu-id="80ea7-156">Go to the **Operations** tab and confirm there is no operation whose status is *“in progress.”*</span></span>

### <a name="step-2-find-the-existing-outbound-sync-rule-for-usercertificate-attribute"></a><span data-ttu-id="80ea7-157">Steg 2.</span><span class="sxs-lookup"><span data-stu-id="80ea7-157">Step 2.</span></span> <span data-ttu-id="80ea7-158">Hitta befintliga utgående synkroniseringsregel för userCertificate attribut</span><span class="sxs-lookup"><span data-stu-id="80ea7-158">Find the existing outbound sync rule for userCertificate attribute</span></span>
<span data-ttu-id="80ea7-159">Det bör finnas en befintlig sync-regel som är aktiverad och konfigurerad för att exportera userCertificate attribut för användarobjekt till Azure AD.</span><span class="sxs-lookup"><span data-stu-id="80ea7-159">There should be an existing sync rule that is enabled and configured to export userCertificate attribute for User objects to Azure AD.</span></span> <span data-ttu-id="80ea7-160">Leta upp regeln sync för att ta reda på dess **prioritet** och **målgrupp filter** konfiguration:</span><span class="sxs-lookup"><span data-stu-id="80ea7-160">Locate this sync rule to find out its **precedence** and **scoping filter** configuration:</span></span>

1. <span data-ttu-id="80ea7-161">Starta den **Synchronization regler Editor** genom att gå till START → Synchronization regler Editor.</span><span class="sxs-lookup"><span data-stu-id="80ea7-161">Start the **Synchronization Rules Editor** by going to START → Synchronization Rules Editor.</span></span>

2. <span data-ttu-id="80ea7-162">Konfigurera filter för sökningen med följande värden:</span><span class="sxs-lookup"><span data-stu-id="80ea7-162">Configure the search filters with the following values:</span></span>

    | <span data-ttu-id="80ea7-163">Attribut</span><span class="sxs-lookup"><span data-stu-id="80ea7-163">Attribute</span></span> | <span data-ttu-id="80ea7-164">Värde</span><span class="sxs-lookup"><span data-stu-id="80ea7-164">Value</span></span> |
    | --- | --- |
    | <span data-ttu-id="80ea7-165">Riktning</span><span class="sxs-lookup"><span data-stu-id="80ea7-165">Direction</span></span> |<span data-ttu-id="80ea7-166">**Utgående**</span><span class="sxs-lookup"><span data-stu-id="80ea7-166">**Outbound**</span></span> |
    | <span data-ttu-id="80ea7-167">MV-objekttyp</span><span class="sxs-lookup"><span data-stu-id="80ea7-167">MV Object Type</span></span> |<span data-ttu-id="80ea7-168">**Person**</span><span class="sxs-lookup"><span data-stu-id="80ea7-168">**Person**</span></span> |
    | <span data-ttu-id="80ea7-169">koppling</span><span class="sxs-lookup"><span data-stu-id="80ea7-169">Connector</span></span> |<span data-ttu-id="80ea7-170">*namnet på Azure AD-koppling*</span><span class="sxs-lookup"><span data-stu-id="80ea7-170">*name of your Azure AD connector*</span></span> |
    | <span data-ttu-id="80ea7-171">Objekttyp för kopplingen</span><span class="sxs-lookup"><span data-stu-id="80ea7-171">Connector Object Type</span></span> |<span data-ttu-id="80ea7-172">**användaren**</span><span class="sxs-lookup"><span data-stu-id="80ea7-172">**user**</span></span> |
    | <span data-ttu-id="80ea7-173">MV-attribut</span><span class="sxs-lookup"><span data-stu-id="80ea7-173">MV attribute</span></span> |<span data-ttu-id="80ea7-174">**userCertificate**</span><span class="sxs-lookup"><span data-stu-id="80ea7-174">**userCertificate**</span></span> |

3. <span data-ttu-id="80ea7-175">Om du använder OOB (out of box) sync regler till Azure AD-koppling för att exportera userCertficiate attribut för användarobjekt du bör få tillbaka det *”ut till AAD – användaren ExchangeOnline”* regeln.</span><span class="sxs-lookup"><span data-stu-id="80ea7-175">If you are using OOB (out-of-box) sync rules to Azure AD connector to export userCertficiate attribute for User objects, you should get back the *“Out to AAD – User ExchangeOnline”* rule.</span></span>
4. <span data-ttu-id="80ea7-176">Notera den **prioritet** värdet för den här regeln för synkronisering.</span><span class="sxs-lookup"><span data-stu-id="80ea7-176">Note down the **precedence** value of this sync rule.</span></span>
5. <span data-ttu-id="80ea7-177">Välj en synkroniseringsregel för och klicka på **redigera**.</span><span class="sxs-lookup"><span data-stu-id="80ea7-177">Select the sync rule and click **Edit**.</span></span>
6. <span data-ttu-id="80ea7-178">I den *”redigera reserverade regeln bekräftelse”* popup-fönstret klickar du på **nr**.</span><span class="sxs-lookup"><span data-stu-id="80ea7-178">In the *“Edit Reserved Rule Confirmation”* pop-up dialog, click **No**.</span></span> <span data-ttu-id="80ea7-179">(Oroa dig inte, vi kommer inte att göra ändringar i regeln sync).</span><span class="sxs-lookup"><span data-stu-id="80ea7-179">(Don’t worry, we are not going to make any change to this sync rule).</span></span>
7. <span data-ttu-id="80ea7-180">På skärmen redigera väljer den **Scoping filter** fliken.</span><span class="sxs-lookup"><span data-stu-id="80ea7-180">In the edit screen, select the **Scoping filter** tab.</span></span>
8. <span data-ttu-id="80ea7-181">Notera målgrupp filterkonfiguration.</span><span class="sxs-lookup"><span data-stu-id="80ea7-181">Note down the scoping filter configuration.</span></span> <span data-ttu-id="80ea7-182">Om du använder synkroniseringsregel OOB det exakt ska **en målgrupp filter-grupp som innehåller två satser**, inklusive:</span><span class="sxs-lookup"><span data-stu-id="80ea7-182">If you are using the OOB sync rule, there should exactly be **one scoping filter group containing two clauses**, including:</span></span>

    | <span data-ttu-id="80ea7-183">Attribut</span><span class="sxs-lookup"><span data-stu-id="80ea7-183">Attribute</span></span> | <span data-ttu-id="80ea7-184">Operatorn</span><span class="sxs-lookup"><span data-stu-id="80ea7-184">Operator</span></span> | <span data-ttu-id="80ea7-185">Värde</span><span class="sxs-lookup"><span data-stu-id="80ea7-185">Value</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="80ea7-186">sourceObjectType</span><span class="sxs-lookup"><span data-stu-id="80ea7-186">sourceObjectType</span></span> | <span data-ttu-id="80ea7-187">LIKA MED</span><span class="sxs-lookup"><span data-stu-id="80ea7-187">EQUAL</span></span> | <span data-ttu-id="80ea7-188">Användare</span><span class="sxs-lookup"><span data-stu-id="80ea7-188">User</span></span> |
    | <span data-ttu-id="80ea7-189">cloudMastered</span><span class="sxs-lookup"><span data-stu-id="80ea7-189">cloudMastered</span></span> | <span data-ttu-id="80ea7-190">NOTEQUAL</span><span class="sxs-lookup"><span data-stu-id="80ea7-190">NOTEQUAL</span></span> | <span data-ttu-id="80ea7-191">True</span><span class="sxs-lookup"><span data-stu-id="80ea7-191">True</span></span> |

### <a name="step-3-create-the-outbound-sync-rule-required"></a><span data-ttu-id="80ea7-192">Steg 3.</span><span class="sxs-lookup"><span data-stu-id="80ea7-192">Step 3.</span></span> <span data-ttu-id="80ea7-193">Skapa synkroniseringsregel för utgående krävs</span><span class="sxs-lookup"><span data-stu-id="80ea7-193">Create the outbound sync rule required</span></span>
<span data-ttu-id="80ea7-194">Den nya regeln synkronisering måste ha samma **målgrupp filter** och **högre prioritet** än den befintliga sync-regeln.</span><span class="sxs-lookup"><span data-stu-id="80ea7-194">The new sync rule must have the same **scoping filter** and **higher precedence** than the existing sync rule.</span></span> <span data-ttu-id="80ea7-195">Detta säkerställer att den nya regeln för synkronisering gäller samma uppsättning objekt som den befintliga sync-regeln och åsidosätter den befintliga sync-regeln för attributet userCertificate.</span><span class="sxs-lookup"><span data-stu-id="80ea7-195">This ensures that the new sync rule applies to the same set of objects as the existing sync rule and overrides the existing sync rule for the userCertificate attribute.</span></span> <span data-ttu-id="80ea7-196">Att skapa synkroniseringsregel för:</span><span class="sxs-lookup"><span data-stu-id="80ea7-196">To create the sync rule:</span></span>
1. <span data-ttu-id="80ea7-197">I redigeraren synkronisering regler klickar du på den **Lägg till ny regel** knappen.</span><span class="sxs-lookup"><span data-stu-id="80ea7-197">In the Synchronization Rules Editor, click the **Add new rule** button.</span></span>
2. <span data-ttu-id="80ea7-198">Under den **fliken Beskrivning**, ange följande konfiguration:</span><span class="sxs-lookup"><span data-stu-id="80ea7-198">Under the **Description tab**, provide the following configuration:</span></span>

    | <span data-ttu-id="80ea7-199">Attribut</span><span class="sxs-lookup"><span data-stu-id="80ea7-199">Attribute</span></span> | <span data-ttu-id="80ea7-200">Värde</span><span class="sxs-lookup"><span data-stu-id="80ea7-200">Value</span></span> | <span data-ttu-id="80ea7-201">Information</span><span class="sxs-lookup"><span data-stu-id="80ea7-201">Details</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="80ea7-202">Namn</span><span class="sxs-lookup"><span data-stu-id="80ea7-202">Name</span></span> | <span data-ttu-id="80ea7-203">*Ange ett namn*</span><span class="sxs-lookup"><span data-stu-id="80ea7-203">*Provide a name*</span></span> | <span data-ttu-id="80ea7-204">T.ex. *”ut till AAD – anpassad åsidosätta för userCertificate”*</span><span class="sxs-lookup"><span data-stu-id="80ea7-204">E.g., *“Out to AAD – Custom override for userCertificate”*</span></span> |
    | <span data-ttu-id="80ea7-205">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="80ea7-205">Description</span></span> | <span data-ttu-id="80ea7-206">*Ange en beskrivning*</span><span class="sxs-lookup"><span data-stu-id="80ea7-206">*Provide a description*</span></span> | <span data-ttu-id="80ea7-207">T.ex. *”userCertificate attributet har mer än 15 värden, exportera NULL”.*</span><span class="sxs-lookup"><span data-stu-id="80ea7-207">E.g., *“If userCertificate attribute has more than 15 values, export NULL.”*</span></span> |
    | <span data-ttu-id="80ea7-208">Det anslutna systemet</span><span class="sxs-lookup"><span data-stu-id="80ea7-208">Connected System</span></span> | <span data-ttu-id="80ea7-209">*Välj den Azure AD-koppling*</span><span class="sxs-lookup"><span data-stu-id="80ea7-209">*Select the Azure AD Connector*</span></span> |
    | <span data-ttu-id="80ea7-210">Anslutna System objekttyp</span><span class="sxs-lookup"><span data-stu-id="80ea7-210">Connected System Object Type</span></span> | <span data-ttu-id="80ea7-211">**användaren**</span><span class="sxs-lookup"><span data-stu-id="80ea7-211">**user**</span></span> | |
    | <span data-ttu-id="80ea7-212">Typ av Metaversumobjekt</span><span class="sxs-lookup"><span data-stu-id="80ea7-212">Metaverse Object Type</span></span> | <span data-ttu-id="80ea7-213">**person**</span><span class="sxs-lookup"><span data-stu-id="80ea7-213">**person**</span></span> | |
    | <span data-ttu-id="80ea7-214">Länktypen</span><span class="sxs-lookup"><span data-stu-id="80ea7-214">Link Type</span></span> | <span data-ttu-id="80ea7-215">**Anslut dig**</span><span class="sxs-lookup"><span data-stu-id="80ea7-215">**Join**</span></span> | |
    | <span data-ttu-id="80ea7-216">Prioritet</span><span class="sxs-lookup"><span data-stu-id="80ea7-216">Precedence</span></span> | <span data-ttu-id="80ea7-217">*Om du har valt ett tal mellan 1 och 99*</span><span class="sxs-lookup"><span data-stu-id="80ea7-217">*Chose a number between 1 - 99*</span></span> | <span data-ttu-id="80ea7-218">Det antal valt får inte användas av någon befintlig synkroniseringsregel och har ett lägre värde (och därför högre prioritet) än den befintliga sync-regeln.</span><span class="sxs-lookup"><span data-stu-id="80ea7-218">The number chosen must not be used by any existing sync rule and has a lower value (and therefore, higher precedence) than the existing sync rule.</span></span> |

3. <span data-ttu-id="80ea7-219">Gå till den **Scoping filter** fliken och implementera samma målgrupp filter med hjälp av den befintliga sync-regeln.</span><span class="sxs-lookup"><span data-stu-id="80ea7-219">Go to the **Scoping filter** tab and implement the same scoping filter the existing sync rule is using.</span></span>
4. <span data-ttu-id="80ea7-220">Hoppa över den **ansluta regler** fliken.</span><span class="sxs-lookup"><span data-stu-id="80ea7-220">Skip the **Join rules** tab.</span></span>
5. <span data-ttu-id="80ea7-221">Gå till den **transformationer** fliken om du vill lägga till en ny omvandling med följande konfiguration:</span><span class="sxs-lookup"><span data-stu-id="80ea7-221">Go to the **Transformations** tab to add a new transformation using following configuration:</span></span>

    | <span data-ttu-id="80ea7-222">Attribut</span><span class="sxs-lookup"><span data-stu-id="80ea7-222">Attribute</span></span> | <span data-ttu-id="80ea7-223">Värde</span><span class="sxs-lookup"><span data-stu-id="80ea7-223">Value</span></span> |
    | --- | --- |
    | <span data-ttu-id="80ea7-224">Flöde</span><span class="sxs-lookup"><span data-stu-id="80ea7-224">Flow Type</span></span> |<span data-ttu-id="80ea7-225">**Uttryck**</span><span class="sxs-lookup"><span data-stu-id="80ea7-225">**Expression**</span></span> |
    | <span data-ttu-id="80ea7-226">Målattribut</span><span class="sxs-lookup"><span data-stu-id="80ea7-226">Target Attribute</span></span> |<span data-ttu-id="80ea7-227">**userCertificate**</span><span class="sxs-lookup"><span data-stu-id="80ea7-227">**userCertificate**</span></span> |
    | <span data-ttu-id="80ea7-228">Källattributet</span><span class="sxs-lookup"><span data-stu-id="80ea7-228">Source Attribute</span></span> |<span data-ttu-id="80ea7-229">*Använd följande uttryck*:`IIF(IsNullOrEmpty([userCertificate]), NULL, IIF((Count([userCertificate])> 15),AuthoritativeNull,[userCertificate]))`</span><span class="sxs-lookup"><span data-stu-id="80ea7-229">*Use the following expression*: `IIF(IsNullOrEmpty([userCertificate]), NULL, IIF((Count([userCertificate])> 15),AuthoritativeNull,[userCertificate]))`</span></span> |
    
6. <span data-ttu-id="80ea7-230">Klicka på den **Lägg till** för att skapa synkroniseringsregel för.</span><span class="sxs-lookup"><span data-stu-id="80ea7-230">Click the **Add** button to create the sync rule.</span></span>

### <a name="step-4-verify-the-new-sync-rule-on-an-existing-object-with-largeobject-error"></a><span data-ttu-id="80ea7-231">Steg 4.</span><span class="sxs-lookup"><span data-stu-id="80ea7-231">Step 4.</span></span> <span data-ttu-id="80ea7-232">Kontrollera den nya sync-regeln på ett befintligt objekt med LargeObject fel</span><span class="sxs-lookup"><span data-stu-id="80ea7-232">Verify the new sync rule on an existing object with LargeObject error</span></span>
<span data-ttu-id="80ea7-233">Detta är att kontrollera att synkroniseringsregel som skapade fungerar på ett befintligt AD-objekt med LargeObject fel innan du installerar andra objekt:</span><span class="sxs-lookup"><span data-stu-id="80ea7-233">This is to verify that the sync rule created is working correctly on an existing AD object with LargeObject error before you apply it to other objects:</span></span>
1. <span data-ttu-id="80ea7-234">Gå till den **Operations** fliken i hanteraren för synkroniseringstjänsten.</span><span class="sxs-lookup"><span data-stu-id="80ea7-234">Go to the **Operations** tab in the Synchronization Service Manager.</span></span>
2. <span data-ttu-id="80ea7-235">Välj den senaste exporten till Azure AD-åtgärden och klicka på ett objekt med LargeObject fel.</span><span class="sxs-lookup"><span data-stu-id="80ea7-235">Select the most recent Export to Azure AD operation and click on one of the objects with LargeObject errors.</span></span>
3.  <span data-ttu-id="80ea7-236">I popup-skärmen objektegenskaper för Anslutarplats klickar du på den **Preview** knappen.</span><span class="sxs-lookup"><span data-stu-id="80ea7-236">In the Connector Space Object Properties pop-up screen, click on the **Preview** button.</span></span>
4. <span data-ttu-id="80ea7-237">På skärmen Preview popup väljer **fullständig synkronisering** och på **genomför Preview**.</span><span class="sxs-lookup"><span data-stu-id="80ea7-237">In the Preview pop-up screen, select **Full synchronization** and click **Commit Preview**.</span></span>
5. <span data-ttu-id="80ea7-238">Stäng skärmen förhandsgranskning och objektegenskaper för Anslutarplats skärmen.</span><span class="sxs-lookup"><span data-stu-id="80ea7-238">Close the Preview screen and the Connector Space Object Properties screen.</span></span>
6. <span data-ttu-id="80ea7-239">Gå till den **kopplingar** fliken i hanteraren för synkroniseringstjänsten.</span><span class="sxs-lookup"><span data-stu-id="80ea7-239">Go to the **Connectors** tab in the Synchronization Service Manager.</span></span>
7. <span data-ttu-id="80ea7-240">Högerklicka på den **Azure AD** koppling och välj **kör...**</span><span class="sxs-lookup"><span data-stu-id="80ea7-240">Right-click on the **Azure AD** Connector and select **Run...**</span></span>
8. <span data-ttu-id="80ea7-241">I popup-fönstret kör koppling, Välj **exportera** steg och på **OK**.</span><span class="sxs-lookup"><span data-stu-id="80ea7-241">In the Run Connector pop-up, select **Export** step and click **OK**.</span></span>
9. <span data-ttu-id="80ea7-242">Vänta tills exporten till Azure AD för att slutföra och bekräfta att det finns ingen mer LargeObject fel på det markerade objektet.</span><span class="sxs-lookup"><span data-stu-id="80ea7-242">Wait for Export to Azure AD to complete and confirm there is no more LargeObject error on this specific object.</span></span>

### <a name="step-5-apply-the-new-sync-rule-to-remaining-objects-with-largeobject-error"></a><span data-ttu-id="80ea7-243">Steg 5.</span><span class="sxs-lookup"><span data-stu-id="80ea7-243">Step 5.</span></span> <span data-ttu-id="80ea7-244">Tillämpa den nya regeln för synkronisering till kvarvarande objekt med LargeObject fel</span><span class="sxs-lookup"><span data-stu-id="80ea7-244">Apply the new sync rule to remaining objects with LargeObject error</span></span>
<span data-ttu-id="80ea7-245">När en synkroniseringsregel för har lagts till, måste du kör en fullständig synkronisering steget AD-anslutningen:</span><span class="sxs-lookup"><span data-stu-id="80ea7-245">Once the sync rule has been added, you need to run a full synchronization step on the AD Connector:</span></span>
1. <span data-ttu-id="80ea7-246">Gå till den **kopplingar** fliken i hanteraren för synkroniseringstjänsten.</span><span class="sxs-lookup"><span data-stu-id="80ea7-246">Go to the **Connectors** tab in the Synchronization Service Manager.</span></span>
2. <span data-ttu-id="80ea7-247">Högerklicka på den **AD** koppling och välj **kör...**</span><span class="sxs-lookup"><span data-stu-id="80ea7-247">Right-click on the **AD** Connector and select **Run...**</span></span>
3. <span data-ttu-id="80ea7-248">I popup-fönstret kör koppling, Välj **fullständig synkronisering** steg och på **OK**.</span><span class="sxs-lookup"><span data-stu-id="80ea7-248">In the Run Connector pop-up, select **Full Synchronization** step and click **OK**.</span></span>
4. <span data-ttu-id="80ea7-249">Vänta tills steget fullständig synkronisering ska slutföras.</span><span class="sxs-lookup"><span data-stu-id="80ea7-249">Wait for the Full Synchronization step to complete.</span></span>
5. <span data-ttu-id="80ea7-250">Upprepa ovanstående steg för de återstående AD-kopplingarna om du har flera AD-kopplingar.</span><span class="sxs-lookup"><span data-stu-id="80ea7-250">Repeat the above steps for the remaining AD Connectors if you have more than one AD Connectors.</span></span> <span data-ttu-id="80ea7-251">Vanligtvis krävs flera kopplingar om du har flera lokala kataloger.</span><span class="sxs-lookup"><span data-stu-id="80ea7-251">Usually, multiple connectors are required if you have multiple on-premises directories.</span></span>

### <a name="step-6-verify-there-are-no-unexpected-changes-waiting-to-be-exported-to-azure-ad"></a><span data-ttu-id="80ea7-252">Steg 6.</span><span class="sxs-lookup"><span data-stu-id="80ea7-252">Step 6.</span></span> <span data-ttu-id="80ea7-253">Kontrollera att det finns inga oväntade ändringar som väntar på att exporteras till Azure AD</span><span class="sxs-lookup"><span data-stu-id="80ea7-253">Verify there are no unexpected changes waiting to be exported to Azure AD</span></span>
1. <span data-ttu-id="80ea7-254">Gå till den **kopplingar** fliken i hanteraren för synkroniseringstjänsten.</span><span class="sxs-lookup"><span data-stu-id="80ea7-254">Go to the **Connectors** tab in the Synchronization Service Manager.</span></span>
2. <span data-ttu-id="80ea7-255">Högerklicka på den **Azure AD** koppling och välj **söka Anslutarplats**.</span><span class="sxs-lookup"><span data-stu-id="80ea7-255">Right-click on the **Azure AD** Connector and select **Search Connector Space**.</span></span>
3. <span data-ttu-id="80ea7-256">I popup-fönstret Sök anslutningsplatsen:</span><span class="sxs-lookup"><span data-stu-id="80ea7-256">In the Search Connector Space pop-up:</span></span>
    1. <span data-ttu-id="80ea7-257">Ange omfånget till **väntande Export**.</span><span class="sxs-lookup"><span data-stu-id="80ea7-257">Set Scope to **Pending Export**.</span></span>
    2. <span data-ttu-id="80ea7-258">Markera kryssrutorna för alla 3, inklusive **Lägg till**, **ändra** och **ta bort**.</span><span class="sxs-lookup"><span data-stu-id="80ea7-258">Check all 3 checkboxes, including **Add**, **Modify** and **Delete**.</span></span>
    3. <span data-ttu-id="80ea7-259">Klicka på **Sök** för att returnera alla objekt med ändringar som väntar på att exporteras till Azure AD.</span><span class="sxs-lookup"><span data-stu-id="80ea7-259">Click **Search** button to return all objects with changes waiting to be exported to Azure AD.</span></span>
    4. <span data-ttu-id="80ea7-260">Kontrollera att inga ändringar har gjorts oväntat.</span><span class="sxs-lookup"><span data-stu-id="80ea7-260">Verify there are no unexpected changes.</span></span> <span data-ttu-id="80ea7-261">Dubbelklicka på objektet om du vill granska ändringarna för ett angivet objekt.</span><span class="sxs-lookup"><span data-stu-id="80ea7-261">To examine the changes for a given object, double-click on the object.</span></span>

### <a name="step-7-export-the-changes-to-azure-ad"></a><span data-ttu-id="80ea7-262">Steg 7.</span><span class="sxs-lookup"><span data-stu-id="80ea7-262">Step 7.</span></span> <span data-ttu-id="80ea7-263">Exportera ändringarna till Azure AD</span><span class="sxs-lookup"><span data-stu-id="80ea7-263">Export the changes to Azure AD</span></span>
<span data-ttu-id="80ea7-264">Så här exporterar ändringarna till Azure AD:</span><span class="sxs-lookup"><span data-stu-id="80ea7-264">To export the changes to Azure AD:</span></span>
1. <span data-ttu-id="80ea7-265">Gå till den **kopplingar** fliken i hanteraren för synkroniseringstjänsten.</span><span class="sxs-lookup"><span data-stu-id="80ea7-265">Go to the **Connectors** tab in the Synchronization Service Manager.</span></span>
2. <span data-ttu-id="80ea7-266">Högerklicka på den **Azure AD** koppling och välj **kör...**</span><span class="sxs-lookup"><span data-stu-id="80ea7-266">Right-click on the **Azure AD** Connector and select **Run...**</span></span>
4. <span data-ttu-id="80ea7-267">I popup-fönstret kör koppling, Välj **exportera** steg och på **OK**.</span><span class="sxs-lookup"><span data-stu-id="80ea7-267">In the Run Connector pop-up, select **Export** step and click **OK**.</span></span>
5. <span data-ttu-id="80ea7-268">Vänta tills exporten till Azure AD för att slutföra och bekräfta att det inte finns några fler LargeObject-fel.</span><span class="sxs-lookup"><span data-stu-id="80ea7-268">Wait for Export to Azure AD to complete and confirm there are no more LargeObject errors.</span></span>

### <a name="step-8-re-enable-sync-scheduler"></a><span data-ttu-id="80ea7-269">Steg 8.</span><span class="sxs-lookup"><span data-stu-id="80ea7-269">Step 8.</span></span> <span data-ttu-id="80ea7-270">Återaktivera sync scheduler</span><span class="sxs-lookup"><span data-stu-id="80ea7-270">Re-enable sync scheduler</span></span>
<span data-ttu-id="80ea7-271">Nu när problemet är löst återaktivera inbyggda sync scheduler:</span><span class="sxs-lookup"><span data-stu-id="80ea7-271">Now that the issue is resolved, re-enable the built-in sync scheduler:</span></span>
1. <span data-ttu-id="80ea7-272">Starta PowerShell-session.</span><span class="sxs-lookup"><span data-stu-id="80ea7-272">Start PowerShell session.</span></span>
2. <span data-ttu-id="80ea7-273">Aktivera schemalagd synkronisering igen genom att köra cmdlet:`Set-ADSyncScheduler -SyncCycleEnabled $true`</span><span class="sxs-lookup"><span data-stu-id="80ea7-273">Re-enable scheduled synchronization by running cmdlet: `Set-ADSyncScheduler -SyncCycleEnabled $true`</span></span>

> [!Note]
> <span data-ttu-id="80ea7-274">Ovanstående gäller endast för nyare versioner (1.1.xxx.x) av Azure AD Connect med inbyggda Schemaläggaren.</span><span class="sxs-lookup"><span data-stu-id="80ea7-274">The preceding steps are only applicable to newer versions (1.1.xxx.x) of Azure AD Connect with the built-in scheduler.</span></span> <span data-ttu-id="80ea7-275">Om du använder äldre versioner (1.0.xxx.x) av Azure AD Connect som använder Schemaläggaren i Windows, eller om du använder egna anpassade scheduler (inte vanliga) för att utlösa återkommande synkronisering, måste du inaktivera dem i enlighet med detta.</span><span class="sxs-lookup"><span data-stu-id="80ea7-275">If you are using older versions (1.0.xxx.x) of Azure AD Connect that uses Windows Task Scheduler, or you are using your own custom scheduler (not common) to trigger periodic synchronization, you need to disable them accordingly.</span></span>

## <a name="next-steps"></a><span data-ttu-id="80ea7-276">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="80ea7-276">Next steps</span></span>
<span data-ttu-id="80ea7-277">Läs mer om hur du [integrerar dina lokala identiteter med Azure Active Directory](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="80ea7-277">Learn more about [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>

