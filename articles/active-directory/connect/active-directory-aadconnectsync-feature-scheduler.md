---
title: "Azure AD Connect-synkronisering: Schemaläggaren | Microsoft Docs"
description: "Det här avsnittet beskriver funktionen inbyggda Schemaläggaren i Azure AD Connect-synkronisering."
services: active-directory
documentationcenter: 
author: AndKjell
manager: femila
editor: 
ms.assetid: 6b1a598f-89c0-4244-9b20-f4aaad5233cf
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: 63f69756b3933fecdec75cc677e1098447e5b94e
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-scheduler"></a><span data-ttu-id="cb363-103">Azure AD Connect-synkronisering: Schemaläggaren</span><span class="sxs-lookup"><span data-stu-id="cb363-103">Azure AD Connect sync: Scheduler</span></span>
<span data-ttu-id="cb363-104">Det här avsnittet beskrivs de inbyggda Schemaläggaren i Azure AD Connect-synkronisering (kallas även</span><span class="sxs-lookup"><span data-stu-id="cb363-104">This topic describes the built-in scheduler in Azure AD Connect sync (a.k.a.</span></span> <span data-ttu-id="cb363-105">Synkroniseringsmotorn).</span><span class="sxs-lookup"><span data-stu-id="cb363-105">sync engine).</span></span>

<span data-ttu-id="cb363-106">Den här funktionen introducerades med build 1.1.105.0 (utgiven februari 2016).</span><span class="sxs-lookup"><span data-stu-id="cb363-106">This feature was introduced with build 1.1.105.0 (released February 2016).</span></span>

## <a name="overview"></a><span data-ttu-id="cb363-107">Översikt</span><span class="sxs-lookup"><span data-stu-id="cb363-107">Overview</span></span>
<span data-ttu-id="cb363-108">Azure AD Connect-synkronisering synkronisera ändringar äger rum i din lokala katalog med hjälp av en Schemaläggaren.</span><span class="sxs-lookup"><span data-stu-id="cb363-108">Azure AD Connect sync synchronize changes occurring in your on-premises directory using a scheduler.</span></span> <span data-ttu-id="cb363-109">Det finns två scheduler processer, ett för synkronisering av lösenord och ett annat objekt/attribut synkronisering och underhåll uppgifter.</span><span class="sxs-lookup"><span data-stu-id="cb363-109">There are two scheduler processes, one for password sync and another for object/attribute sync and maintenance tasks.</span></span> <span data-ttu-id="cb363-110">Det här avsnittet beskriver den senare.</span><span class="sxs-lookup"><span data-stu-id="cb363-110">This topic covers the latter.</span></span>

<span data-ttu-id="cb363-111">I tidigare versioner kunde schemaläggare för objekt och attribut externa för Synkroniseringsmotorn.</span><span class="sxs-lookup"><span data-stu-id="cb363-111">In earlier releases, the scheduler for objects and attributes was external to the sync engine.</span></span> <span data-ttu-id="cb363-112">Den använda Schemaläggaren i Windows eller en separat Windows-tjänst för att utlösa synkroniseringen.</span><span class="sxs-lookup"><span data-stu-id="cb363-112">It used Windows task scheduler or a separate Windows service to trigger the synchronization process.</span></span> <span data-ttu-id="cb363-113">Schemaläggaren är 1.1 versioner inbyggt att synkroniseringen motor och tillåter att vissa anpassning.</span><span class="sxs-lookup"><span data-stu-id="cb363-113">The scheduler is with the 1.1 releases built-in to the sync engine and do allow some customization.</span></span> <span data-ttu-id="cb363-114">Den nya standard synkroniseringsfrekvensen är 30 minuter.</span><span class="sxs-lookup"><span data-stu-id="cb363-114">The new default synchronization frequency is 30 minutes.</span></span>

<span data-ttu-id="cb363-115">Schemaläggaren är ansvarig för två aktiviteter:</span><span class="sxs-lookup"><span data-stu-id="cb363-115">The scheduler is responsible for two tasks:</span></span>

* <span data-ttu-id="cb363-116">**Synkroniseringscykel**.</span><span class="sxs-lookup"><span data-stu-id="cb363-116">**Synchronization cycle**.</span></span> <span data-ttu-id="cb363-117">Processen för att importera, synkronisering och exportera ändringar.</span><span class="sxs-lookup"><span data-stu-id="cb363-117">The process to import, sync, and export changes.</span></span>
* <span data-ttu-id="cb363-118">**Underhållsaktiviteter**.</span><span class="sxs-lookup"><span data-stu-id="cb363-118">**Maintenance tasks**.</span></span> <span data-ttu-id="cb363-119">Förnya nycklar och certifikat för återställning av lösenord och registreringstjänsten för enheter (DRS).</span><span class="sxs-lookup"><span data-stu-id="cb363-119">Renew keys and certificates for Password reset and Device Registration Service (DRS).</span></span> <span data-ttu-id="cb363-120">Rensa gamla posterna i operations-loggen.</span><span class="sxs-lookup"><span data-stu-id="cb363-120">Purge old entries in the operations log.</span></span>

<span data-ttu-id="cb363-121">Schemaläggaren själva körs alltid, men den kan konfigureras så att endast köra en eller inga av dessa uppgifter.</span><span class="sxs-lookup"><span data-stu-id="cb363-121">The scheduler itself is always running, but it can be configured to only run one or none of these tasks.</span></span> <span data-ttu-id="cb363-122">Om du behöver ha egna cykel synkroniseringsprocessen kan du inaktivera den här aktiviteten i Schemaläggaren men fortfarande köra underhållsaktiviteten.</span><span class="sxs-lookup"><span data-stu-id="cb363-122">For example, if you need to have your own synchronization cycle process, you can disable this task in the scheduler but still run the maintenance task.</span></span>

## <a name="scheduler-configuration"></a><span data-ttu-id="cb363-123">Konfiguration av Schemaläggaren</span><span class="sxs-lookup"><span data-stu-id="cb363-123">Scheduler configuration</span></span>
<span data-ttu-id="cb363-124">Den aktuella konfigurationen, gå till PowerShell och kör `Get-ADSyncScheduler`.</span><span class="sxs-lookup"><span data-stu-id="cb363-124">To see your current configuration settings, go to PowerShell and run `Get-ADSyncScheduler`.</span></span> <span data-ttu-id="cb363-125">Den visar ungefär som den här bilden:</span><span class="sxs-lookup"><span data-stu-id="cb363-125">It shows you something like this picture:</span></span>

![GetSyncScheduler](./media/active-directory-aadconnectsync-feature-scheduler/getsynccyclesettings2016.png)

<span data-ttu-id="cb363-127">Om du ser **sync kommandot eller cmdlet är inte tillgänglig** när du kör denna cmdlet sedan PowerShell-modulen har inte lästs in.</span><span class="sxs-lookup"><span data-stu-id="cb363-127">If you see **The sync command or cmdlet is not available** when you run this cmdlet, then the PowerShell module is not loaded.</span></span> <span data-ttu-id="cb363-128">Det här problemet kan inträffa om du kör Azure AD Connect på en domänkontrollant eller på en server med PowerShell begränsning högre än standardinställningarna.</span><span class="sxs-lookup"><span data-stu-id="cb363-128">This problem could happen if you run Azure AD Connect on a domain controller or on a server with higher PowerShell restriction levels than the default settings.</span></span> <span data-ttu-id="cb363-129">Om du ser felet kör `Import-Module ADSync` tillgängliggöra cmdlet.</span><span class="sxs-lookup"><span data-stu-id="cb363-129">If you see this error, then run `Import-Module ADSync` to make the cmdlet available.</span></span>

* <span data-ttu-id="cb363-130">**AllowedSyncCycleInterval**.</span><span class="sxs-lookup"><span data-stu-id="cb363-130">**AllowedSyncCycleInterval**.</span></span> <span data-ttu-id="cb363-131">Kortaste tidsintervallet mellan synkronisering cykler tillåts av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cb363-131">The shortest time interval between synchronization cycles allowed by Azure AD.</span></span> <span data-ttu-id="cb363-132">Du kan inte synkronisera oftare än den här inställningen och fortfarande stöds.</span><span class="sxs-lookup"><span data-stu-id="cb363-132">You cannot synchronize more frequently than this setting and still be supported.</span></span>
* <span data-ttu-id="cb363-133">**CurrentlyEffectiveSyncCycleInterval**.</span><span class="sxs-lookup"><span data-stu-id="cb363-133">**CurrentlyEffectiveSyncCycleInterval**.</span></span> <span data-ttu-id="cb363-134">Schema för närvarande.</span><span class="sxs-lookup"><span data-stu-id="cb363-134">The schedule currently in effect.</span></span> <span data-ttu-id="cb363-135">Den har samma värde som CustomizedSyncInterval (om Ange) om den inte oftare än AllowedSyncInterval.</span><span class="sxs-lookup"><span data-stu-id="cb363-135">It has the same value as CustomizedSyncInterval (if set) if it is not more frequent than AllowedSyncInterval.</span></span> <span data-ttu-id="cb363-136">Om du använder en version innan 1.1.281 och du ändrar CustomizedSyncCycleInterval, träder den här ändringen i kraft efter nästa synkroniseringscykel.</span><span class="sxs-lookup"><span data-stu-id="cb363-136">If you use a build before 1.1.281 and you change CustomizedSyncCycleInterval, this change takes effect after next synchronization cycle.</span></span> <span data-ttu-id="cb363-137">Från build 1.1.281 träder ändringen i kraft omedelbart.</span><span class="sxs-lookup"><span data-stu-id="cb363-137">From build 1.1.281 the change takes effect immediately.</span></span>
* <span data-ttu-id="cb363-138">**CustomizedSyncCycleInterval**.</span><span class="sxs-lookup"><span data-stu-id="cb363-138">**CustomizedSyncCycleInterval**.</span></span> <span data-ttu-id="cb363-139">Om du vill att jobbschemat ska med andra frekvens än standardvärdet 30 minuter kan konfigurera du den här inställningen.</span><span class="sxs-lookup"><span data-stu-id="cb363-139">If you want the scheduler to run at any other frequency than the default 30 minutes, then you configure this setting.</span></span> <span data-ttu-id="cb363-140">I bilden ovan har Schemaläggaren angetts för att köra varje timme i stället.</span><span class="sxs-lookup"><span data-stu-id="cb363-140">In the picture above, the scheduler has been set to run every hour instead.</span></span> <span data-ttu-id="cb363-141">Om du anger den här inställningen till ett värde mindre än AllowedSyncInterval sedan används den senare.</span><span class="sxs-lookup"><span data-stu-id="cb363-141">If you set this setting to a value lower than AllowedSyncInterval, then the latter is used.</span></span>
* <span data-ttu-id="cb363-142">**NextSyncCyclePolicyType**.</span><span class="sxs-lookup"><span data-stu-id="cb363-142">**NextSyncCyclePolicyType**.</span></span> <span data-ttu-id="cb363-143">Delta eller inledande.</span><span class="sxs-lookup"><span data-stu-id="cb363-143">Either Delta or Initial.</span></span> <span data-ttu-id="cb363-144">Definierar om nästa körning bör endast processen deltaändringar, eller om nästa körning bör göra en fullständig importera och synkronisera.</span><span class="sxs-lookup"><span data-stu-id="cb363-144">Defines if the next run should only process delta changes, or if the next run should do a full import and sync.</span></span> <span data-ttu-id="cb363-145">Det senare skulle Ombearbeta eventuella regler som är nya eller ändrade också.</span><span class="sxs-lookup"><span data-stu-id="cb363-145">The latter would also reprocess any new or changed rules.</span></span>
* <span data-ttu-id="cb363-146">**NextSyncCycleStartTimeInUTC**.</span><span class="sxs-lookup"><span data-stu-id="cb363-146">**NextSyncCycleStartTimeInUTC**.</span></span> <span data-ttu-id="cb363-147">Nästa gång Schemaläggaren startar nästa synkronisering cykel.</span><span class="sxs-lookup"><span data-stu-id="cb363-147">Next time the scheduler starts the next sync cycle.</span></span>
* <span data-ttu-id="cb363-148">**PurgeRunHistoryInterval**.</span><span class="sxs-lookup"><span data-stu-id="cb363-148">**PurgeRunHistoryInterval**.</span></span> <span data-ttu-id="cb363-149">Den tid som åtgärdsloggar bör hållas.</span><span class="sxs-lookup"><span data-stu-id="cb363-149">The time operation logs should be kept.</span></span> <span data-ttu-id="cb363-150">Dessa loggar kan ses i hanteraren för synkroniseringstjänsten.</span><span class="sxs-lookup"><span data-stu-id="cb363-150">These logs can be reviewed in the synchronization service manager.</span></span> <span data-ttu-id="cb363-151">Standardvärdet är att hålla dessa loggar för 7 dagar.</span><span class="sxs-lookup"><span data-stu-id="cb363-151">The default is to keep these logs for 7 days.</span></span>
* <span data-ttu-id="cb363-152">**SyncCycleEnabled**.</span><span class="sxs-lookup"><span data-stu-id="cb363-152">**SyncCycleEnabled**.</span></span> <span data-ttu-id="cb363-153">Anger om Schemaläggaren körs import, synkronisering och exportera processer som en del av åtgärden.</span><span class="sxs-lookup"><span data-stu-id="cb363-153">Indicates if the scheduler is running the import, sync, and export processes as part of its operation.</span></span>
* <span data-ttu-id="cb363-154">**MaintenanceEnabled**.</span><span class="sxs-lookup"><span data-stu-id="cb363-154">**MaintenanceEnabled**.</span></span> <span data-ttu-id="cb363-155">Visar om underhållsprocessen är aktiverat.</span><span class="sxs-lookup"><span data-stu-id="cb363-155">Shows if the maintenance process is enabled.</span></span> <span data-ttu-id="cb363-156">Den uppdaterar certifikat/nycklar och tar bort operations-loggen.</span><span class="sxs-lookup"><span data-stu-id="cb363-156">It updates the certificates/keys and purges the operations log.</span></span>
* <span data-ttu-id="cb363-157">**StagingModeEnabled**.</span><span class="sxs-lookup"><span data-stu-id="cb363-157">**StagingModeEnabled**.</span></span> <span data-ttu-id="cb363-158">Visar om [mellanlagringsläge](active-directory-aadconnectsync-operations.md#staging-mode) är aktiverad.</span><span class="sxs-lookup"><span data-stu-id="cb363-158">Shows if [staging mode](active-directory-aadconnectsync-operations.md#staging-mode) is enabled.</span></span> <span data-ttu-id="cb363-159">Om den här inställningen är aktiverad, sedan den undertrycks exporter från att köras men fortfarande köra import och synkronisering.</span><span class="sxs-lookup"><span data-stu-id="cb363-159">If this setting is enabled, then it suppresses the exports from running but still run import and synchronization.</span></span>
* <span data-ttu-id="cb363-160">**SchedulerSuspended**.</span><span class="sxs-lookup"><span data-stu-id="cb363-160">**SchedulerSuspended**.</span></span> <span data-ttu-id="cb363-161">Ange genom Anslut under en uppgradering till tillfälligt block Schemaläggaren körs.</span><span class="sxs-lookup"><span data-stu-id="cb363-161">Set by Connect during an upgrade to temporarily block the scheduler from running.</span></span>

<span data-ttu-id="cb363-162">Du kan ändra vissa av inställningarna med `Set-ADSyncScheduler`.</span><span class="sxs-lookup"><span data-stu-id="cb363-162">You can change some of these settings with `Set-ADSyncScheduler`.</span></span> <span data-ttu-id="cb363-163">Följande parametrar kan ändras:</span><span class="sxs-lookup"><span data-stu-id="cb363-163">The following parameters can be modified:</span></span>

* <span data-ttu-id="cb363-164">CustomizedSyncCycleInterval</span><span class="sxs-lookup"><span data-stu-id="cb363-164">CustomizedSyncCycleInterval</span></span>
* <span data-ttu-id="cb363-165">NextSyncCyclePolicyType</span><span class="sxs-lookup"><span data-stu-id="cb363-165">NextSyncCyclePolicyType</span></span>
* <span data-ttu-id="cb363-166">PurgeRunHistoryInterval</span><span class="sxs-lookup"><span data-stu-id="cb363-166">PurgeRunHistoryInterval</span></span>
* <span data-ttu-id="cb363-167">SyncCycleEnabled</span><span class="sxs-lookup"><span data-stu-id="cb363-167">SyncCycleEnabled</span></span>
* <span data-ttu-id="cb363-168">MaintenanceEnabled</span><span class="sxs-lookup"><span data-stu-id="cb363-168">MaintenanceEnabled</span></span>

<span data-ttu-id="cb363-169">I tidigare versioner av Azure AD Connect **isStagingModeEnabled** exponerats i Set-ADSyncScheduler.</span><span class="sxs-lookup"><span data-stu-id="cb363-169">In earlier builds of Azure AD Connect, **isStagingModeEnabled** was exposed in Set-ADSyncScheduler.</span></span> <span data-ttu-id="cb363-170">Det är **stöds inte** till den här egenskapen.</span><span class="sxs-lookup"><span data-stu-id="cb363-170">It is **unsupported** to set this property.</span></span> <span data-ttu-id="cb363-171">Egenskapen **SchedulerSuspended** bör endast ändras av Connect.</span><span class="sxs-lookup"><span data-stu-id="cb363-171">The property **SchedulerSuspended** should only be modified by Connect.</span></span> <span data-ttu-id="cb363-172">Det är **stöds inte** att direkt ange detta med PowerShell.</span><span class="sxs-lookup"><span data-stu-id="cb363-172">It is **unsupported** to set this with PowerShell directly.</span></span>

<span data-ttu-id="cb363-173">Schemaläggarkonfigurationen som lagras i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="cb363-173">The scheduler configuration is stored in Azure AD.</span></span> <span data-ttu-id="cb363-174">Om du har en fristående server påverkar alla ändringar på den primära servern också testservern (utom IsStagingModeEnabled).</span><span class="sxs-lookup"><span data-stu-id="cb363-174">If you have a staging server, any change on the primary server also affects the staging server (except IsStagingModeEnabled).</span></span>

### <a name="customizedsynccycleinterval"></a><span data-ttu-id="cb363-175">CustomizedSyncCycleInterval</span><span class="sxs-lookup"><span data-stu-id="cb363-175">CustomizedSyncCycleInterval</span></span>
<span data-ttu-id="cb363-176">Syntax:`Set-ADSyncScheduler -CustomizedSyncCycleInterval d.HH:mm:ss`</span><span class="sxs-lookup"><span data-stu-id="cb363-176">Syntax: `Set-ADSyncScheduler -CustomizedSyncCycleInterval d.HH:mm:ss`</span></span>  
<span data-ttu-id="cb363-177">d - dagar, HH - timmar, mm - minuter och ss - sekunder</span><span class="sxs-lookup"><span data-stu-id="cb363-177">d - days, HH - hours, mm - minutes, ss - seconds</span></span>

<span data-ttu-id="cb363-178">Exempel:`Set-ADSyncScheduler -CustomizedSyncCycleInterval 03:00:00`</span><span class="sxs-lookup"><span data-stu-id="cb363-178">Example: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 03:00:00`</span></span>  
<span data-ttu-id="cb363-179">Ändringar i Schemaläggaren att köra var 3: e timme.</span><span class="sxs-lookup"><span data-stu-id="cb363-179">Changes the scheduler to run every 3 hours.</span></span>

<span data-ttu-id="cb363-180">Exempel:`Set-ADSyncScheduler -CustomizedSyncCycleInterval 1.0:0:0`</span><span class="sxs-lookup"><span data-stu-id="cb363-180">Example: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 1.0:0:0`</span></span>  
<span data-ttu-id="cb363-181">Du ändrar Schemaläggaren att köras dagligen.</span><span class="sxs-lookup"><span data-stu-id="cb363-181">Changes change the scheduler to run daily.</span></span>

### <a name="disable-the-scheduler"></a><span data-ttu-id="cb363-182">Inaktivera Schemaläggaren</span><span class="sxs-lookup"><span data-stu-id="cb363-182">Disable the scheduler</span></span>  
<span data-ttu-id="cb363-183">Om du behöver göra konfigurationsändringar vill inaktivera Schemaläggaren.</span><span class="sxs-lookup"><span data-stu-id="cb363-183">If you need to make configuration changes, then you want to disable the scheduler.</span></span> <span data-ttu-id="cb363-184">Till exempel när du [filtreringen](active-directory-aadconnectsync-configure-filtering.md) eller [göra ändringar i Synkroniseringsregler](active-directory-aadconnectsync-change-the-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="cb363-184">For example, when you [configure filtering](active-directory-aadconnectsync-configure-filtering.md) or [make changes to synchronization rules](active-directory-aadconnectsync-change-the-configuration.md).</span></span>

<span data-ttu-id="cb363-185">Om du vill inaktivera Schemaläggaren kör `Set-ADSyncScheduler -SyncCycleEnabled $false`.</span><span class="sxs-lookup"><span data-stu-id="cb363-185">To disable the scheduler, run `Set-ADSyncScheduler -SyncCycleEnabled $false`.</span></span>

![Inaktivera Schemaläggaren](./media/active-directory-aadconnectsync-change-the-configuration/schedulerdisable.png)

<span data-ttu-id="cb363-187">När du har gjort ändringarna Glöm inte att aktivera Schemaläggaren igen med `Set-ADSyncScheduler -SyncCycleEnabled $true`.</span><span class="sxs-lookup"><span data-stu-id="cb363-187">When you've made your changes, do not forget to enable the scheduler again with `Set-ADSyncScheduler -SyncCycleEnabled $true`.</span></span>

## <a name="start-the-scheduler"></a><span data-ttu-id="cb363-188">Starta Schemaläggaren</span><span class="sxs-lookup"><span data-stu-id="cb363-188">Start the scheduler</span></span>
<span data-ttu-id="cb363-189">Schemaläggaren är som standard körs var 30: e minut.</span><span class="sxs-lookup"><span data-stu-id="cb363-189">The scheduler is by default run every 30 minutes.</span></span> <span data-ttu-id="cb363-190">I vissa fall kanske du vill köra en synkronisering cykel between schemalagda cykler eller måste du köra en annan typ.</span><span class="sxs-lookup"><span data-stu-id="cb363-190">In some cases, you might want to run a sync cycle in between the scheduled cycles or you need to run a different type.</span></span>

<span data-ttu-id="cb363-191">**Delta sync cykel**</span><span class="sxs-lookup"><span data-stu-id="cb363-191">**Delta sync cycle**</span></span>  
<span data-ttu-id="cb363-192">En cykel för synkronisering av delta omfattar följande steg:</span><span class="sxs-lookup"><span data-stu-id="cb363-192">A delta sync cycle includes the following steps:</span></span>

* <span data-ttu-id="cb363-193">Deltaimport på alla kopplingar</span><span class="sxs-lookup"><span data-stu-id="cb363-193">Delta import on all Connectors</span></span>
* <span data-ttu-id="cb363-194">Deltasynkronisering för alla kopplingar</span><span class="sxs-lookup"><span data-stu-id="cb363-194">Delta sync on all Connectors</span></span>
* <span data-ttu-id="cb363-195">Exportera alla kopplingar</span><span class="sxs-lookup"><span data-stu-id="cb363-195">Export on all Connectors</span></span>

<span data-ttu-id="cb363-196">Det kan bero på att du har en brådskande ändring som måste synkroniseras omedelbart, och därför måste du manuellt köra en cykel.</span><span class="sxs-lookup"><span data-stu-id="cb363-196">It could be that you have an urgent change that must be synchronized immediately, which is why you need to manually run a cycle.</span></span> <span data-ttu-id="cb363-197">Om du behöver köra manuellt en cykel sedan från PowerShell kör `Start-ADSyncSyncCycle -PolicyType Delta`.</span><span class="sxs-lookup"><span data-stu-id="cb363-197">If you need to manually run a cycle, then from PowerShell run `Start-ADSyncSyncCycle -PolicyType Delta`.</span></span>

<span data-ttu-id="cb363-198">**Fullständig synkronisering**</span><span class="sxs-lookup"><span data-stu-id="cb363-198">**Full sync cycle**</span></span>  
<span data-ttu-id="cb363-199">Om du har gjort något av följande konfigurationsändringar, måste du köra en fullständig synkronisering cykel (kallas även</span><span class="sxs-lookup"><span data-stu-id="cb363-199">If you have made one of the following configuration changes, you need to run a full sync cycle (a.k.a.</span></span> <span data-ttu-id="cb363-200">Inledande):</span><span class="sxs-lookup"><span data-stu-id="cb363-200">Initial):</span></span>

* <span data-ttu-id="cb363-201">Lägga till fler objekt eller attribut som ska importeras från en källkatalog</span><span class="sxs-lookup"><span data-stu-id="cb363-201">Added more objects or attributes to be imported from a source directory</span></span>
* <span data-ttu-id="cb363-202">Gjort ändringar i regler för synkronisering</span><span class="sxs-lookup"><span data-stu-id="cb363-202">Made changes to the Synchronization rules</span></span>
* <span data-ttu-id="cb363-203">Ändra [filtrering](active-directory-aadconnectsync-configure-filtering.md) så att ett annat antal objekt som ska tas med</span><span class="sxs-lookup"><span data-stu-id="cb363-203">Changed [filtering](active-directory-aadconnectsync-configure-filtering.md) so a different number of objects should be included</span></span>

<span data-ttu-id="cb363-204">Om du har gjort något av dessa ändringar, måste du köra en fullständig synkronisering cykel så att Synkroniseringsmotorn har du möjlighet att konsolidera kopplingens utrymmen.</span><span class="sxs-lookup"><span data-stu-id="cb363-204">If you have made one of these changes, then you need to run a full sync cycle so the sync engine has the opportunity to reconsolidate the connector spaces.</span></span> <span data-ttu-id="cb363-205">En fullständig synkronisering cykel omfattar följande steg:</span><span class="sxs-lookup"><span data-stu-id="cb363-205">A full sync cycle includes the following steps:</span></span>

* <span data-ttu-id="cb363-206">Fullständig Import på alla kopplingar</span><span class="sxs-lookup"><span data-stu-id="cb363-206">Full Import on all Connectors</span></span>
* <span data-ttu-id="cb363-207">Fullständig synkronisering på alla kopplingar</span><span class="sxs-lookup"><span data-stu-id="cb363-207">Full Sync on all Connectors</span></span>
* <span data-ttu-id="cb363-208">Exportera alla kopplingar</span><span class="sxs-lookup"><span data-stu-id="cb363-208">Export on all Connectors</span></span>

<span data-ttu-id="cb363-209">Om du vill initiera en fullständig synkronisering cykel kör `Start-ADSyncSyncCycle -PolicyType Initial` från en PowerShell-kommandotolk.</span><span class="sxs-lookup"><span data-stu-id="cb363-209">To initiate a full sync cycle, run `Start-ADSyncSyncCycle -PolicyType Initial` from a PowerShell prompt.</span></span> <span data-ttu-id="cb363-210">Detta kommando startar en fullständig synkronisering cykel.</span><span class="sxs-lookup"><span data-stu-id="cb363-210">This command starts a full sync cycle.</span></span>

## <a name="stop-the-scheduler"></a><span data-ttu-id="cb363-211">Stoppa Schemaläggaren</span><span class="sxs-lookup"><span data-stu-id="cb363-211">Stop the scheduler</span></span>
<span data-ttu-id="cb363-212">Om Schemaläggaren körs för närvarande en synkroniseringscykel, kan du behöva stoppa den.</span><span class="sxs-lookup"><span data-stu-id="cb363-212">If the scheduler is currently running a synchronization cycle, you might need to stop it.</span></span> <span data-ttu-id="cb363-213">Till exempel om du startar installationsguiden och du får detta fel:</span><span class="sxs-lookup"><span data-stu-id="cb363-213">For example if you start the installation wizard and you get this error:</span></span>

![SyncCycleRunningError](./media/active-directory-aadconnectsync-feature-scheduler/synccyclerunningerror.png)

<span data-ttu-id="cb363-215">När en cykel synkronisering körs, kan du inte göra ändringar i konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="cb363-215">When a sync cycle is running, you cannot make configuration changes.</span></span> <span data-ttu-id="cb363-216">Du kan vänta tills processen är klar med Schemaläggaren, men du kan också avbryta den så att du kan göra ändringarna direkt.</span><span class="sxs-lookup"><span data-stu-id="cb363-216">You could wait until the scheduler has finished the process, but you can also stop it so you can make your changes immediately.</span></span> <span data-ttu-id="cb363-217">Stoppar den aktuella cykeln är inte skadliga och väntande ändringar bearbetas med nästa körning.</span><span class="sxs-lookup"><span data-stu-id="cb363-217">Stopping the current cycle is not harmful and pending changes are processed with next run.</span></span>

1. <span data-ttu-id="cb363-218">Starta genom att ange Schemaläggaren att stoppa den aktuella cykeln med PowerShell-cmdleten `Stop-ADSyncSyncCycle`.</span><span class="sxs-lookup"><span data-stu-id="cb363-218">Start by telling the scheduler to stop its current cycle with the PowerShell cmdlet `Stop-ADSyncSyncCycle`.</span></span>
2. <span data-ttu-id="cb363-219">Om du använder en version innan 1.1.281 stoppar Schemaläggaren inte att stoppa den aktuella anslutningen från den aktuella aktiviteten.</span><span class="sxs-lookup"><span data-stu-id="cb363-219">If you use a build before 1.1.281, then stopping the scheduler does not stop the current Connector from its current task.</span></span> <span data-ttu-id="cb363-220">Om du vill tvinga kopplingen för att stoppa vidta följande åtgärder: ![StopAConnector](./media/active-directory-aadconnectsync-feature-scheduler/stopaconnector.png)</span><span class="sxs-lookup"><span data-stu-id="cb363-220">To force the Connector to stop, take the following actions: ![StopAConnector](./media/active-directory-aadconnectsync-feature-scheduler/stopaconnector.png)</span></span>
   * <span data-ttu-id="cb363-221">Starta **synkroniseringstjänsten** från start-menyn.</span><span class="sxs-lookup"><span data-stu-id="cb363-221">Start **Synchronization Service** from the start menu.</span></span> <span data-ttu-id="cb363-222">Gå till **kopplingar**, markera anslutningen med tillståndet **kör**, och välj **stoppa** från åtgärder.</span><span class="sxs-lookup"><span data-stu-id="cb363-222">Go to **Connectors**, highlight the Connector with the state **Running**, and select **Stop** from the Actions.</span></span>

<span data-ttu-id="cb363-223">Schemaläggaren fortfarande är aktivt och påbörjas igen nästa tillfälle.</span><span class="sxs-lookup"><span data-stu-id="cb363-223">The scheduler is still active and starts again on next opportunity.</span></span>

## <a name="custom-scheduler"></a><span data-ttu-id="cb363-224">Anpassade scheduler</span><span class="sxs-lookup"><span data-stu-id="cb363-224">Custom scheduler</span></span>
<span data-ttu-id="cb363-225">De cmdlets som beskrivs i det här avsnittet är bara tillgängliga i build [1.1.130.0](active-directory-aadconnect-version-history.md#111300) och senare.</span><span class="sxs-lookup"><span data-stu-id="cb363-225">The cmdlets documented in this section are only available in build [1.1.130.0](active-directory-aadconnect-version-history.md#111300) and later.</span></span>

<span data-ttu-id="cb363-226">Om inbyggda Schemaläggaren inte uppfyller dina krav kan du schemalägga kopplingar med hjälp av PowerShell.</span><span class="sxs-lookup"><span data-stu-id="cb363-226">If the built-in scheduler does not satisfy your requirements, then you can schedule the Connectors using PowerShell.</span></span>

### <a name="invoke-adsyncrunprofile"></a><span data-ttu-id="cb363-227">Anropa ADSyncRunProfile</span><span class="sxs-lookup"><span data-stu-id="cb363-227">Invoke-ADSyncRunProfile</span></span>
<span data-ttu-id="cb363-228">Du kan starta en profil för en koppling i det här sättet:</span><span class="sxs-lookup"><span data-stu-id="cb363-228">You can start a profile for a Connector in this way:</span></span>

```
Invoke-ADSyncRunProfile -ConnectorName "name of connector" -RunProfileName "name of profile"
```

<span data-ttu-id="cb363-229">Namn för [Kopplingsnamn](active-directory-aadconnectsync-service-manager-ui-connectors.md) och [kör profilnamn](active-directory-aadconnectsync-service-manager-ui-connectors.md#configure-run-profiles) finns i den [Synchronization Service Manager UI](active-directory-aadconnectsync-service-manager-ui.md).</span><span class="sxs-lookup"><span data-stu-id="cb363-229">The names to use for [Connector names](active-directory-aadconnectsync-service-manager-ui-connectors.md) and [Run Profile Names](active-directory-aadconnectsync-service-manager-ui-connectors.md#configure-run-profiles) can be found in the [Synchronization Service Manager UI](active-directory-aadconnectsync-service-manager-ui.md).</span></span>

![Starta Körningsprofilen](./media/active-directory-aadconnectsync-feature-scheduler/invokerunprofile.png)  

<span data-ttu-id="cb363-231">Den `Invoke-ADSyncRunProfile` cmdlet sker synkront, det vill säga den inte returnerar kontrollen tills anslutningen har slutfört åtgärden, utan eller med ett fel.</span><span class="sxs-lookup"><span data-stu-id="cb363-231">The `Invoke-ADSyncRunProfile` cmdlet is synchronous, that is, it does not return control until the Connector has completed the operation, either successfully or with an error.</span></span>

<span data-ttu-id="cb363-232">När du schemalägger kopplingar, vi rekommenderar att du schemalägger dem i följande ordning:</span><span class="sxs-lookup"><span data-stu-id="cb363-232">When you schedule your Connectors, the recommendation is to schedule them in the following order:</span></span>

1. <span data-ttu-id="cb363-233">(Fullständig/Delta) Importera från lokala kataloger, till exempel Active Directory</span><span class="sxs-lookup"><span data-stu-id="cb363-233">(Full/Delta) Import from on-premises directories, such as Active Directory</span></span>
2. <span data-ttu-id="cb363-234">(Fullständig/Delta) Import från Azure AD</span><span class="sxs-lookup"><span data-stu-id="cb363-234">(Full/Delta) Import from Azure AD</span></span>
3. <span data-ttu-id="cb363-235">(Fullständig/Delta) Synkronisering från lokala kataloger, till exempel Active Directory</span><span class="sxs-lookup"><span data-stu-id="cb363-235">(Full/Delta) Synchronization from on-premises directories, such as Active Directory</span></span>
4. <span data-ttu-id="cb363-236">(Fullständig/Delta) Synkronisering från Azure AD</span><span class="sxs-lookup"><span data-stu-id="cb363-236">(Full/Delta) Synchronization from Azure AD</span></span>
5. <span data-ttu-id="cb363-237">Exportera till Azure AD</span><span class="sxs-lookup"><span data-stu-id="cb363-237">Export to Azure AD</span></span>
6. <span data-ttu-id="cb363-238">Exportera till lokala kataloger, till exempel Active Directory</span><span class="sxs-lookup"><span data-stu-id="cb363-238">Export to on-premises directories, such as Active Directory</span></span>

<span data-ttu-id="cb363-239">Den här ordningen är hur inbyggda Schemaläggaren körs kopplingar.</span><span class="sxs-lookup"><span data-stu-id="cb363-239">This order is how the built-in scheduler runs the Connectors.</span></span>

### <a name="get-adsyncconnectorrunstatus"></a><span data-ttu-id="cb363-240">Get-ADSyncConnectorRunStatus</span><span class="sxs-lookup"><span data-stu-id="cb363-240">Get-ADSyncConnectorRunStatus</span></span>
<span data-ttu-id="cb363-241">Du kan också övervaka Synkroniseringsmotorn och se om det är upptagen eller inaktiv.</span><span class="sxs-lookup"><span data-stu-id="cb363-241">You can also monitor the sync engine to see if it is busy or idle.</span></span> <span data-ttu-id="cb363-242">Denna cmdlet returnerar ett tomt resultat om Synkroniseringsmotorn är inaktiv och inte kör en koppling.</span><span class="sxs-lookup"><span data-stu-id="cb363-242">This cmdlet returns an empty result if the sync engine is idle and is not running a Connector.</span></span> <span data-ttu-id="cb363-243">Om en koppling körs Returnerar namnet på kopplingen.</span><span class="sxs-lookup"><span data-stu-id="cb363-243">If a Connector is running, it returns the name of the Connector.</span></span>

```
Get-ADSyncConnectorRunStatus
```

![Kopplingen Körstatus](./media/active-directory-aadconnectsync-feature-scheduler/getconnectorrunstatus.png)  
<span data-ttu-id="cb363-245">I bilden ovan är den första raden från ett tillstånd där Synkroniseringsmotorn är inaktiv.</span><span class="sxs-lookup"><span data-stu-id="cb363-245">In the picture above, the first line is from a state where the sync engine is idle.</span></span> <span data-ttu-id="cb363-246">Den andra raden från när Azure AD Connector körs.</span><span class="sxs-lookup"><span data-stu-id="cb363-246">The second line from when the Azure AD Connector is running.</span></span>

## <a name="scheduler-and-installation-wizard"></a><span data-ttu-id="cb363-247">Guiden Schemaläggaren och installation</span><span class="sxs-lookup"><span data-stu-id="cb363-247">Scheduler and installation wizard</span></span>
<span data-ttu-id="cb363-248">Om du startar installationsguiden för inaktiverats Schemaläggaren tillfälligt.</span><span class="sxs-lookup"><span data-stu-id="cb363-248">If you start the installation wizard, then the scheduler is temporarily suspended.</span></span> <span data-ttu-id="cb363-249">Det här beteendet är eftersom det förutsätts att du gör konfigurationsändringar och de här inställningarna kan inte användas om Synkroniseringsmotorn körs aktivt.</span><span class="sxs-lookup"><span data-stu-id="cb363-249">This behavior is because it is assumed you make configuration changes and these settings cannot be applied if the sync engine is actively running.</span></span> <span data-ttu-id="cb363-250">Därför lämna installationsguiden öppna eftersom stoppas Synkroniseringsmotorn från att utföra några åtgärder för synkronisering.</span><span class="sxs-lookup"><span data-stu-id="cb363-250">For this reason, do not leave the installation wizard open since it stops the sync engine from performing any synchronization actions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="cb363-251">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="cb363-251">Next steps</span></span>
<span data-ttu-id="cb363-252">Lär dig mer om den [Azure AD Connect-synkronisering](active-directory-aadconnectsync-whatis.md) konfiguration.</span><span class="sxs-lookup"><span data-stu-id="cb363-252">Learn more about the [Azure AD Connect sync](active-directory-aadconnectsync-whatis.md) configuration.</span></span>

<span data-ttu-id="cb363-253">Läs mer om hur du [integrerar dina lokala identiteter med Azure Active Directory](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="cb363-253">Learn more about [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>
