---
title: "Azure AD Connect-synkronisering: Förstå standardkonfigurationen för hello | Microsoft Docs"
description: "Den här artikeln beskriver hello standardkonfigurationen i Azure AD Connect-synkronisering."
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: ed876f22-6892-4b9d-acbe-6a2d112f1cd1
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: billmath
ms.openlocfilehash: 1cf95759af913cad8a1393839d3a836434e7c9bc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-connect-sync-understanding-hello-default-configuration"></a><span data-ttu-id="a2611-103">Azure AD Connect-synkronisering: Förstå hello standardkonfigurationen</span><span class="sxs-lookup"><span data-stu-id="a2611-103">Azure AD Connect sync: Understanding hello default configuration</span></span>
<span data-ttu-id="a2611-104">Den här artikeln förklarar hello konfigurationsregler för out-of-box.</span><span class="sxs-lookup"><span data-stu-id="a2611-104">This article explains hello out-of-box configuration rules.</span></span> <span data-ttu-id="a2611-105">Det dokument hello regler och hur dessa regler påverkar hello konfiguration.</span><span class="sxs-lookup"><span data-stu-id="a2611-105">It documents hello rules and how these rules impact hello configuration.</span></span> <span data-ttu-id="a2611-106">Även vägleder dig genom hello standardkonfigurationen av Azure AD Connect-synkronisering. hello målet är att hello reader förstår hur hello Konfigurationsmodell med namnet deklarativ etablering fungerar i ett verkliga exempel.</span><span class="sxs-lookup"><span data-stu-id="a2611-106">It also walks you through hello default configuration of Azure AD Connect sync. hello goal is that hello reader understands how hello configuration model, named declarative provisioning, is working in a real-world example.</span></span> <span data-ttu-id="a2611-107">Den här artikeln förutsätter att du redan har installerat och konfigurera Azure AD Connect-synkronisering med hello installationsguiden.</span><span class="sxs-lookup"><span data-stu-id="a2611-107">This article assumes that you have already installed and configure Azure AD Connect sync using hello installation wizard.</span></span>

<span data-ttu-id="a2611-108">toounderstand hello information om hello Konfigurationsmodell läsa [förstå deklarativ etablering](active-directory-aadconnectsync-understanding-declarative-provisioning.md).</span><span class="sxs-lookup"><span data-stu-id="a2611-108">toounderstand hello details of hello configuration model, read [Understanding Declarative Provisioning](active-directory-aadconnectsync-understanding-declarative-provisioning.md).</span></span>

## <a name="out-of-box-rules-from-on-premises-tooazure-ad"></a><span data-ttu-id="a2611-109">Out-of-box regler från lokala tooAzure AD</span><span class="sxs-lookup"><span data-stu-id="a2611-109">Out-of-box rules from on-premises tooAzure AD</span></span>
<span data-ttu-id="a2611-110">hello kan följande uttryck hittas i hello out-of-box-konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="a2611-110">hello following expressions can be found in hello out-of-box configuration.</span></span>

### <a name="user-out-of-box-rules"></a><span data-ttu-id="a2611-111">Användaren out-of-box-regler</span><span class="sxs-lookup"><span data-stu-id="a2611-111">User out-of-box rules</span></span>
<span data-ttu-id="a2611-112">Dessa regler gäller även toohello iNetOrgPerson objekttyp.</span><span class="sxs-lookup"><span data-stu-id="a2611-112">These rules also apply toohello iNetOrgPerson object type.</span></span>

<span data-ttu-id="a2611-113">Ett användarobjekt måste uppfylla följande toobe synkroniseras hello:</span><span class="sxs-lookup"><span data-stu-id="a2611-113">A user object must satisfy hello following toobe synchronized:</span></span>

* <span data-ttu-id="a2611-114">Måste ha en sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="a2611-114">Must have a sourceAnchor.</span></span>
* <span data-ttu-id="a2611-115">SourceAnchor kan inte ändra sedan efter hello objektet har skapats i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a2611-115">After hello object has been created in Azure AD, then sourceAnchor cannot change.</span></span> <span data-ttu-id="a2611-116">Om hello värdet ändrade lokalt, hello objektet stoppar synkronisering förrän hello sourceAnchor ändras tillbaka tooits tidigare värde.</span><span class="sxs-lookup"><span data-stu-id="a2611-116">If hello value is changed on-premises, hello object stops synchronizing until hello sourceAnchor is changed back tooits previous value.</span></span>
* <span data-ttu-id="a2611-117">Måste ha hello accountEnabled (userAccountControl) attribut fylls i.</span><span class="sxs-lookup"><span data-stu-id="a2611-117">Must have hello accountEnabled (userAccountControl) attribute populated.</span></span> <span data-ttu-id="a2611-118">Med en lokal Active Directory är det här attributet alltid finns och är ifyllda.</span><span class="sxs-lookup"><span data-stu-id="a2611-118">With an on-premises Active Directory, this attribute is always present and populated.</span></span>

<span data-ttu-id="a2611-119">hello följande objekt är **inte** synkroniseras tooAzure AD:</span><span class="sxs-lookup"><span data-stu-id="a2611-119">hello following user objects are **not** synchronized tooAzure AD:</span></span>

* <span data-ttu-id="a2611-120">`IsPresent([isCriticalSystemObject])`.</span><span class="sxs-lookup"><span data-stu-id="a2611-120">`IsPresent([isCriticalSystemObject])`.</span></span> <span data-ttu-id="a2611-121">Se till att många out-of-box-objekt i Active Directory, till exempel hello inbyggda administratörskontot, synkroniseras inte.</span><span class="sxs-lookup"><span data-stu-id="a2611-121">Ensure many out-of-box objects in Active Directory, such as hello built-in administrator account, are not synchronized.</span></span>
* <span data-ttu-id="a2611-122">`IsPresent([sAMAccountName]) = False`.</span><span class="sxs-lookup"><span data-stu-id="a2611-122">`IsPresent([sAMAccountName]) = False`.</span></span> <span data-ttu-id="a2611-123">Kontrollera användarobjekt med några sAMAccountName attribut inte synkroniseras.</span><span class="sxs-lookup"><span data-stu-id="a2611-123">Ensure user objects with no sAMAccountName attribute are not synchronized.</span></span> <span data-ttu-id="a2611-124">Det här fallet händer endast praktiskt taget i en domän som uppgraderats från NT4.</span><span class="sxs-lookup"><span data-stu-id="a2611-124">This case would only practically happen in a domain upgraded from NT4.</span></span>
* <span data-ttu-id="a2611-125">`Left([sAMAccountName], 4) = "AAD_"`, `Left([sAMAccountName], 5) = "MSOL_"`.</span><span class="sxs-lookup"><span data-stu-id="a2611-125">`Left([sAMAccountName], 4) = "AAD_"`, `Left([sAMAccountName], 5) = "MSOL_"`.</span></span> <span data-ttu-id="a2611-126">Synkronisera inte hello-tjänstkontot som används av Azure AD Connect-synkronisering och dess tidigare versioner.</span><span class="sxs-lookup"><span data-stu-id="a2611-126">Do not synchronize hello service account used by Azure AD Connect sync and its earlier versions.</span></span>
* <span data-ttu-id="a2611-127">Synkronisera inte Exchange-konton som inte skulle fungera i Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="a2611-127">Do not synchronize Exchange accounts that would not work in Exchange Online.</span></span>
  * `[sAMAccountName] = "SUPPORT_388945a0"`
  * `Left([mailNickname], 14) = "SystemMailbox{"`
  * `(Left([mailNickname], 4) = "CAS_" && (InStr([mailNickname], "}") > 0))`
  * `(Left([sAMAccountName], 4) = "CAS_" && (InStr([sAMAccountName], "}")> 0))`
* <span data-ttu-id="a2611-128">Synkronisera inte objekt som inte fungerar i Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="a2611-128">Do not synchronize objects that would not work in Exchange Online.</span></span>
  `CBool(IIF(IsPresent([msExchRecipientTypeDetails]),BitAnd([msExchRecipientTypeDetails],&H21C07000) > 0,NULL))`  
  <span data-ttu-id="a2611-129">Den här bitmask (& H21C07000) filtrerar ut hello följande objekt:</span><span class="sxs-lookup"><span data-stu-id="a2611-129">This bitmask (&H21C07000) would filter out hello following objects:</span></span>
  * <span data-ttu-id="a2611-130">E-postaktiverade offentlig mapp</span><span class="sxs-lookup"><span data-stu-id="a2611-130">Mail-enabled Public Folder</span></span>
  * <span data-ttu-id="a2611-131">System till postlåda</span><span class="sxs-lookup"><span data-stu-id="a2611-131">System Attendant Mailbox</span></span>
  * <span data-ttu-id="a2611-132">Postlåda databasen postlåda (System-postlåda)</span><span class="sxs-lookup"><span data-stu-id="a2611-132">Mailbox Database Mailbox (System Mailbox)</span></span>
  * <span data-ttu-id="a2611-133">Universell säkerhetsgrupp (inte gäller för en användare, men finns äldre skäl)</span><span class="sxs-lookup"><span data-stu-id="a2611-133">Universal Security Group (wouldn't apply for a user, but is present for legacy reasons)</span></span>
  * <span data-ttu-id="a2611-134">Icke-universell grupp (inte gäller för en användare, men finns äldre skäl)</span><span class="sxs-lookup"><span data-stu-id="a2611-134">Non-Universal Group (wouldn't apply for a user, but is present for legacy reasons)</span></span>
  * <span data-ttu-id="a2611-135">Planera för postlåda</span><span class="sxs-lookup"><span data-stu-id="a2611-135">Mailbox Plan</span></span>
  * <span data-ttu-id="a2611-136">Identifiering av postlåda</span><span class="sxs-lookup"><span data-stu-id="a2611-136">Discovery Mailbox</span></span>
* <span data-ttu-id="a2611-137">`CBool(InStr(DNComponent(CRef([dn]),1),"\\0ACNF:")>0)`.</span><span class="sxs-lookup"><span data-stu-id="a2611-137">`CBool(InStr(DNComponent(CRef([dn]),1),"\\0ACNF:")>0)`.</span></span> <span data-ttu-id="a2611-138">Synkronisera inte alla objekt som är drabbade replikering.</span><span class="sxs-lookup"><span data-stu-id="a2611-138">Do not synchronize any replication victim objects.</span></span>

<span data-ttu-id="a2611-139">hello enligt reglerna för attributet gäller:</span><span class="sxs-lookup"><span data-stu-id="a2611-139">hello following attribute rules apply:</span></span>

* <span data-ttu-id="a2611-140">`sourceAnchor <- IIF([msExchRecipientTypeDetails]=2,NULL,..)`.</span><span class="sxs-lookup"><span data-stu-id="a2611-140">`sourceAnchor <- IIF([msExchRecipientTypeDetails]=2,NULL,..)`.</span></span> <span data-ttu-id="a2611-141">Hej sourceAnchor attributet är inte bidragit från en länkad postlåda.</span><span class="sxs-lookup"><span data-stu-id="a2611-141">hello sourceAnchor attribute is not contributed from a linked mailbox.</span></span> <span data-ttu-id="a2611-142">Det förutsätts att om en länkad postlåda har hittats, hello aktuella kontot är ansluten senare.</span><span class="sxs-lookup"><span data-stu-id="a2611-142">It is assumed that if a linked mailbox has been found, hello actual account is joined later.</span></span>
* <span data-ttu-id="a2611-143">Exchange-relaterade attribut synkroniseras bara om hello attributet **mailNickName** har ett värde.</span><span class="sxs-lookup"><span data-stu-id="a2611-143">Exchange related attributes are only synchronized if hello attribute **mailNickName** has a value.</span></span>
* <span data-ttu-id="a2611-144">När det finns flera skogar, förbrukas attribut i hello följande ordning:</span><span class="sxs-lookup"><span data-stu-id="a2611-144">When there are multiple forests, then attributes are consumed in hello following order:</span></span>
  1. <span data-ttu-id="a2611-145">Attribut relaterade toosign i (till exempel userPrincipalName) tillhandahålls från hello skog med ett aktiverat konto.</span><span class="sxs-lookup"><span data-stu-id="a2611-145">Attributes related toosign-in (for example userPrincipalName) are contributed from hello forest with an enabled account.</span></span>
  2. <span data-ttu-id="a2611-146">Attribut som kan finnas i en Exchange-GAL (globala adresslistan) tillhandahålls från hello skog med en Exchange-postlåda.</span><span class="sxs-lookup"><span data-stu-id="a2611-146">Attributes that can be found in an Exchange GAL (Global Address List) are contributed from hello forest with an Exchange Mailbox.</span></span>
  3. <span data-ttu-id="a2611-147">Om ingen postlåda kan hittas kan dessa attribut kommer från en skog.</span><span class="sxs-lookup"><span data-stu-id="a2611-147">If no mailbox can be found, then these attributes can come from any forest.</span></span>
  4. <span data-ttu-id="a2611-148">Exchange-relaterade attribut (inte synligt i hello GAL tekniska attribut) tillhandahålls från hello skog där `mailNickname ISNOTNULL`.</span><span class="sxs-lookup"><span data-stu-id="a2611-148">Exchange related attributes (technical attributes not visible in hello GAL) are contributed from hello forest where `mailNickname ISNOTNULL`.</span></span>
  5. <span data-ttu-id="a2611-149">Om det finns flera skogar som kan uppfylla dessa regler och sedan hello är skapa ordning (tidsvärdet) hello kopplingar (skog) används toodetermine vilken skog bidrar hello-attribut.</span><span class="sxs-lookup"><span data-stu-id="a2611-149">If there are multiple forests that would satisfy one of these rules, then hello creation order (date/time) of hello Connectors (forests) is used toodetermine which forest contributes hello attributes.</span></span>

### <a name="contact-out-of-box-rules"></a><span data-ttu-id="a2611-150">Kontakta out-of-box-regler</span><span class="sxs-lookup"><span data-stu-id="a2611-150">Contact out-of-box rules</span></span>
<span data-ttu-id="a2611-151">En kontaktobjekt måste uppfylla följande toobe synkroniseras hello:</span><span class="sxs-lookup"><span data-stu-id="a2611-151">A contact object must satisfy hello following toobe synchronized:</span></span>

* <span data-ttu-id="a2611-152">hello kontakta måste vara e-postfunktioner.</span><span class="sxs-lookup"><span data-stu-id="a2611-152">hello contact must be mail-enabled.</span></span> <span data-ttu-id="a2611-153">Det har verifierats med hello följande regler:</span><span class="sxs-lookup"><span data-stu-id="a2611-153">It is verified with hello following rules:</span></span>
  * <span data-ttu-id="a2611-154">`IsPresent([proxyAddresses]) = True)`.</span><span class="sxs-lookup"><span data-stu-id="a2611-154">`IsPresent([proxyAddresses]) = True)`.</span></span> <span data-ttu-id="a2611-155">hello proxyAddresses attributet måste fyllas i.</span><span class="sxs-lookup"><span data-stu-id="a2611-155">hello proxyAddresses attribute must be populated.</span></span>
  * <span data-ttu-id="a2611-156">En primär e-postadress kan hittas i attributet hello proxyAddresses eller hello e-postattribut.</span><span class="sxs-lookup"><span data-stu-id="a2611-156">A primary email address can be found in either hello proxyAddresses attribute or hello mail attribute.</span></span> <span data-ttu-id="a2611-157">Hej förekomsten av en @ är används tooverify att hello innehåll är en e-postadress.</span><span class="sxs-lookup"><span data-stu-id="a2611-157">hello presence of an @ is used tooverify that hello content is an email address.</span></span> <span data-ttu-id="a2611-158">En av dessa två regler måste vara utvärderade tooTrue.</span><span class="sxs-lookup"><span data-stu-id="a2611-158">One of these two rules must be evaluated tooTrue.</span></span>
    * <span data-ttu-id="a2611-159">`(Contains([proxyAddresses], "SMTP:") > 0) && (InStr(Item([proxyAddresses], Contains([proxyAddresses], "SMTP:")), "@") > 0))`.</span><span class="sxs-lookup"><span data-stu-id="a2611-159">`(Contains([proxyAddresses], "SMTP:") > 0) && (InStr(Item([proxyAddresses], Contains([proxyAddresses], "SMTP:")), "@") > 0))`.</span></span> <span data-ttu-id="a2611-160">Det finns en post med ”SMTP”: om det finns en @ hittas i hello sträng?</span><span class="sxs-lookup"><span data-stu-id="a2611-160">Is there an entry with "SMTP:" and if there is, can an @ be found in hello string?</span></span>
    * <span data-ttu-id="a2611-161">`(IsPresent([mail]) = True && (InStr([mail], "@") > 0)`.</span><span class="sxs-lookup"><span data-stu-id="a2611-161">`(IsPresent([mail]) = True && (InStr([mail], "@") > 0)`.</span></span> <span data-ttu-id="a2611-162">Hej e-postattribut fylls och om det är en @ hittas i hello sträng?</span><span class="sxs-lookup"><span data-stu-id="a2611-162">Is hello mail attribute populated and if it is, can an @ be found in hello string?</span></span>

<span data-ttu-id="a2611-163">hello följande kontaktobjekt är **inte** synkroniseras tooAzure AD:</span><span class="sxs-lookup"><span data-stu-id="a2611-163">hello following contact objects are **not** synchronized tooAzure AD:</span></span>

* <span data-ttu-id="a2611-164">`IsPresent([isCriticalSystemObject])`.</span><span class="sxs-lookup"><span data-stu-id="a2611-164">`IsPresent([isCriticalSystemObject])`.</span></span> <span data-ttu-id="a2611-165">Se till att inga kontakta objekt som är markerat som kritiskt är synkroniserade.</span><span class="sxs-lookup"><span data-stu-id="a2611-165">Ensure no contact objects marked as critical are synchronized.</span></span> <span data-ttu-id="a2611-166">Får inte vara någon med en standardkonfiguration.</span><span class="sxs-lookup"><span data-stu-id="a2611-166">Shouldn't be any with a default configuration.</span></span>
* <span data-ttu-id="a2611-167">`((InStr([displayName], "(MSOL)") > 0) && (CBool([msExchHideFromAddressLists])))`.</span><span class="sxs-lookup"><span data-stu-id="a2611-167">`((InStr([displayName], "(MSOL)") > 0) && (CBool([msExchHideFromAddressLists])))`.</span></span>
* <span data-ttu-id="a2611-168">`(Left([mailNickname], 4) = "CAS_" && (InStr([mailNickname], "}") > 0))`.</span><span class="sxs-lookup"><span data-stu-id="a2611-168">`(Left([mailNickname], 4) = "CAS_" && (InStr([mailNickname], "}") > 0))`.</span></span> <span data-ttu-id="a2611-169">Dessa objekt fungerar inte i Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="a2611-169">These objects wouldn't work in Exchange Online.</span></span>
* <span data-ttu-id="a2611-170">`CBool(InStr(DNComponent(CRef([dn]),1),"\\0ACNF:")>0)`.</span><span class="sxs-lookup"><span data-stu-id="a2611-170">`CBool(InStr(DNComponent(CRef([dn]),1),"\\0ACNF:")>0)`.</span></span> <span data-ttu-id="a2611-171">Synkronisera inte alla objekt som är drabbade replikering.</span><span class="sxs-lookup"><span data-stu-id="a2611-171">Do not synchronize any replication victim objects.</span></span>

### <a name="group-out-of-box-rules"></a><span data-ttu-id="a2611-172">Gruppera out-of-box-regler</span><span class="sxs-lookup"><span data-stu-id="a2611-172">Group out-of-box rules</span></span>
<span data-ttu-id="a2611-173">Ett gruppobjekt måste uppfylla följande toobe synkroniseras hello:</span><span class="sxs-lookup"><span data-stu-id="a2611-173">A group object must satisfy hello following toobe synchronized:</span></span>

* <span data-ttu-id="a2611-174">Måste ha färre än 50 000 medlemmar.</span><span class="sxs-lookup"><span data-stu-id="a2611-174">Must have less than 50,000 members.</span></span> <span data-ttu-id="a2611-175">Det här antalet är hello antalet medlemmar i gruppen för hello lokalt.</span><span class="sxs-lookup"><span data-stu-id="a2611-175">This count is hello number of members in hello on-premises group.</span></span>
  * <span data-ttu-id="a2611-176">Om den har fler medlemmar innan synkroniseringen startar hello första gången har hello gruppen inte synkroniserats.</span><span class="sxs-lookup"><span data-stu-id="a2611-176">If it has more members before synchronization starts hello first time, hello group is not synchronized.</span></span>
  * <span data-ttu-id="a2611-177">Om hello antalet medlemmar växa från när den ursprungligen skapades, sedan när den når 50 000 medlemmar stoppas synkroniserar tills hello medlemskap är färre än 50 000 igen.</span><span class="sxs-lookup"><span data-stu-id="a2611-177">If hello number of members grow from when it was initially created, then when it reaches 50,000 members it stops synchronizing until hello membership count is lower than 50,000 again.</span></span>
  * <span data-ttu-id="a2611-178">Obs: hello 50 000 medlemskap antal används också av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a2611-178">Note: hello 50,000 membership count is also enforced by Azure AD.</span></span> <span data-ttu-id="a2611-179">Du är inte kan toosynchronize grupper med fler medlemmar, även om du ändrar eller tar bort den här regeln.</span><span class="sxs-lookup"><span data-stu-id="a2611-179">You are not able toosynchronize groups with more members even if you modify or remove this rule.</span></span>
* <span data-ttu-id="a2611-180">Om hello gruppen är en **distributionsgrupp**, måste det också vara aktiverad e-post.</span><span class="sxs-lookup"><span data-stu-id="a2611-180">If hello group is a **Distribution Group**, then it must also be mail enabled.</span></span> <span data-ttu-id="a2611-181">Se [kontakta out-of-box regler](#contact-out-of-box-rules) för den här regeln tillämpas.</span><span class="sxs-lookup"><span data-stu-id="a2611-181">See [Contact out-of-box rules](#contact-out-of-box-rules) for this rule is enforced.</span></span>

<span data-ttu-id="a2611-182">hello efter gruppobjekt är **inte** synkroniseras tooAzure AD:</span><span class="sxs-lookup"><span data-stu-id="a2611-182">hello following group objects are **not** synchronized tooAzure AD:</span></span>

* <span data-ttu-id="a2611-183">`IsPresent([isCriticalSystemObject])`.</span><span class="sxs-lookup"><span data-stu-id="a2611-183">`IsPresent([isCriticalSystemObject])`.</span></span> <span data-ttu-id="a2611-184">Se till att många out-of-box-objekt i Active Directory, till exempel hello inbyggda administratörsgruppen, synkroniseras inte.</span><span class="sxs-lookup"><span data-stu-id="a2611-184">Ensure many out-of-box objects in Active Directory, such as hello built-in administrators group, are not synchronized.</span></span>
* <span data-ttu-id="a2611-185">`[sAMAccountName] = "MSOL_AD_Sync_RichCoexistence"`.</span><span class="sxs-lookup"><span data-stu-id="a2611-185">`[sAMAccountName] = "MSOL_AD_Sync_RichCoexistence"`.</span></span> <span data-ttu-id="a2611-186">Äldre grupp som används av DirSync.</span><span class="sxs-lookup"><span data-stu-id="a2611-186">Legacy group used by DirSync.</span></span>
* <span data-ttu-id="a2611-187">`BitAnd([msExchRecipientTypeDetails],&amp;H40000000)`.</span><span class="sxs-lookup"><span data-stu-id="a2611-187">`BitAnd([msExchRecipientTypeDetails],&amp;H40000000)`.</span></span> <span data-ttu-id="a2611-188">Rollen grupp.</span><span class="sxs-lookup"><span data-stu-id="a2611-188">Role Group.</span></span>
* <span data-ttu-id="a2611-189">`CBool(InStr(DNComponent(CRef([dn]),1),"\\0ACNF:")>0)`.</span><span class="sxs-lookup"><span data-stu-id="a2611-189">`CBool(InStr(DNComponent(CRef([dn]),1),"\\0ACNF:")>0)`.</span></span> <span data-ttu-id="a2611-190">Synkronisera inte alla objekt som är drabbade replikering.</span><span class="sxs-lookup"><span data-stu-id="a2611-190">Do not synchronize any replication victim objects.</span></span>

### <a name="foreignsecurityprincipal-out-of-box-rules"></a><span data-ttu-id="a2611-191">ForeignSecurityPrincipal out-of-box-regler</span><span class="sxs-lookup"><span data-stu-id="a2611-191">ForeignSecurityPrincipal out-of-box rules</span></span>
<span data-ttu-id="a2611-192">FSP: er är anslutna för ”alla” (\*) objekt i hello metaversum.</span><span class="sxs-lookup"><span data-stu-id="a2611-192">FSPs are joined too"any" (\*) object in hello metaverse.</span></span> <span data-ttu-id="a2611-193">I verkligheten sker bara den här kopplingen för användare och säkerhetsgrupper.</span><span class="sxs-lookup"><span data-stu-id="a2611-193">In reality, this join only happens for users and security groups.</span></span> <span data-ttu-id="a2611-194">Den här konfigurationen garanterar att mellan skogar medlemskap är löst och visas korrekt i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a2611-194">This configuration ensures that cross-forest memberships are resolved and represented correctly in Azure AD.</span></span>

### <a name="computer-out-of-box-rules"></a><span data-ttu-id="a2611-195">Datorn out-of-box-regler</span><span class="sxs-lookup"><span data-stu-id="a2611-195">Computer out-of-box rules</span></span>
<span data-ttu-id="a2611-196">Ett datorobjekt måste uppfylla följande toobe synkroniseras hello:</span><span class="sxs-lookup"><span data-stu-id="a2611-196">A computer object must satisfy hello following toobe synchronized:</span></span>

* <span data-ttu-id="a2611-197">`userCertificate ISNOTNULL`.</span><span class="sxs-lookup"><span data-stu-id="a2611-197">`userCertificate ISNOTNULL`.</span></span> <span data-ttu-id="a2611-198">Lägg till Windows 10-datorer i det här attributet.</span><span class="sxs-lookup"><span data-stu-id="a2611-198">Only Windows 10 computers populate this attribute.</span></span> <span data-ttu-id="a2611-199">Alla datorobjekt som har ett värde i det här attributet är synkroniserade.</span><span class="sxs-lookup"><span data-stu-id="a2611-199">All computer objects with a value in this attribute are synchronized.</span></span>

## <a name="understanding-hello-out-of-box-rules-scenario"></a><span data-ttu-id="a2611-200">Förstå hello out-of-box regler scenario</span><span class="sxs-lookup"><span data-stu-id="a2611-200">Understanding hello out-of-box rules scenario</span></span>
<span data-ttu-id="a2611-201">I det här exemplet använder vi en distribution med en kontoskog (A), en resursskog (R) och en Azure AD-katalog.</span><span class="sxs-lookup"><span data-stu-id="a2611-201">In this example, we are using a deployment with one account forest (A), one resource forest (R), and one Azure AD directory.</span></span>

![Bild med scenario-beskrivning](./media/active-directory-aadconnectsync-understanding-default-configuration/scenario.png)

<span data-ttu-id="a2611-203">I den här konfigurationen förutsätts det finns ett aktiverat konto i hello kontoskog och ett inaktiverat konto i hello resursskog med en länkad postlåda.</span><span class="sxs-lookup"><span data-stu-id="a2611-203">In this configuration, it is assumed there is an enabled account in hello account forest and a disabled account in hello resource forest with a linked mailbox.</span></span>

<span data-ttu-id="a2611-204">Vårt mål med hello standardkonfiguration är:</span><span class="sxs-lookup"><span data-stu-id="a2611-204">Our goal with hello default configuration is:</span></span>

* <span data-ttu-id="a2611-205">Attribut relaterade toosign i synkroniseras från hello skog med hello aktiverat konto.</span><span class="sxs-lookup"><span data-stu-id="a2611-205">Attributes related toosign-in are synchronized from hello forest with hello enabled account.</span></span>
* <span data-ttu-id="a2611-206">Attribut som finns i hello GAL (globala adresslistan) synkroniseras från hello skog med hello postlåda.</span><span class="sxs-lookup"><span data-stu-id="a2611-206">Attributes that can be found in hello GAL (Global Address List) are synchronized from hello forest with hello mailbox.</span></span> <span data-ttu-id="a2611-207">Om ingen postlåda hittar du används alla andra skogar.</span><span class="sxs-lookup"><span data-stu-id="a2611-207">If no mailbox can be found, any other forest is used.</span></span>
* <span data-ttu-id="a2611-208">Om en länkad postlåda hittas måste hello länkade aktiverat konto finnas för hello objektet toobe exporteras tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="a2611-208">If a linked mailbox is found, hello linked enabled account must be found for hello object toobe exported tooAzure AD.</span></span>

### <a name="synchronization-rule-editor"></a><span data-ttu-id="a2611-209">Synchronization Rule Editor</span><span class="sxs-lookup"><span data-stu-id="a2611-209">Synchronization Rule Editor</span></span>
<span data-ttu-id="a2611-210">hello konfigurationen kan visas och ändras med hello verktyget synkronisering regler Editor (SRE) och en genväg tooit hittar du i hello start-menyn.</span><span class="sxs-lookup"><span data-stu-id="a2611-210">hello configuration can be viewed and changed with hello tool Synchronization Rules Editor (SRE) and a shortcut tooit can be found in hello start menu.</span></span>

![Synkronisering sänder ikon](./media/active-directory-aadconnectsync-understanding-default-configuration/sre.png)

<span data-ttu-id="a2611-212">Hej SRE är ett resource kit verktyg och den är installerad med Azure AD Connect-synkronisering. toobe kan toostart, måste du vara medlem i hello ADSyncAdmins-gruppen.</span><span class="sxs-lookup"><span data-stu-id="a2611-212">hello SRE is a resource kit tool and it is installed with Azure AD Connect sync. toobe able toostart it, you must be a member of hello ADSyncAdmins group.</span></span> <span data-ttu-id="a2611-213">När den startar ser du ut så här:</span><span class="sxs-lookup"><span data-stu-id="a2611-213">When it starts, you see something like this:</span></span>

![Inkommande Synkroniseringsregler](./media/active-directory-aadconnectsync-understanding-default-configuration/syncrulesinbound.png)

<span data-ttu-id="a2611-215">I det här fönstret kan se du alla Synkroniseringsregler som skapats för din konfiguration.</span><span class="sxs-lookup"><span data-stu-id="a2611-215">In this pane, you see all Synchronization Rules created for your configuration.</span></span> <span data-ttu-id="a2611-216">Varje rad i tabellen hello är en regel för synkronisering.</span><span class="sxs-lookup"><span data-stu-id="a2611-216">Each line in hello table is one Synchronization Rule.</span></span> <span data-ttu-id="a2611-217">toohello kvar under regeltyper hello visas två olika typer: inkommande och utgående.</span><span class="sxs-lookup"><span data-stu-id="a2611-217">toohello left under Rule Types, hello two different types are listed: Inbound and Outbound.</span></span> <span data-ttu-id="a2611-218">Inkommande och utgående är från hello vy över hello metaversum.</span><span class="sxs-lookup"><span data-stu-id="a2611-218">Inbound and Outbound is from hello view of hello metaverse.</span></span> <span data-ttu-id="a2611-219">Du är främst kommer toofocus på hello regler för inkommande trafik i den här översikten.</span><span class="sxs-lookup"><span data-stu-id="a2611-219">You are mainly going toofocus on hello inbound rules in this overview.</span></span> <span data-ttu-id="a2611-220">hello beror faktiska Synkroniseringsregler på hello upptäckte schemat i AD.</span><span class="sxs-lookup"><span data-stu-id="a2611-220">hello actual list of Synchronization Rules depends on hello detected schema in AD.</span></span> <span data-ttu-id="a2611-221">Hello konto skog (fabrikamonline.com) inte har några tjänster, till exempel Exchange och Lync och inga regler för synkronisering har skapats för dessa tjänster i hello bilden ovan.</span><span class="sxs-lookup"><span data-stu-id="a2611-221">In hello picture above, hello account forest (fabrikamonline.com) does not have any services, such as Exchange and Lync, and no Synchronization Rules have been created for these services.</span></span> <span data-ttu-id="a2611-222">Men i resursskogen för hello (res.fabrikamonline.com) finns Synkroniseringsregler för dessa tjänster.</span><span class="sxs-lookup"><span data-stu-id="a2611-222">However, in hello resource forest (res.fabrikamonline.com) you find Synchronization Rules for these services.</span></span> <span data-ttu-id="a2611-223">hello innehållet är i hello reglerna olika beroende på hello version upptäcktes.</span><span class="sxs-lookup"><span data-stu-id="a2611-223">hello content of hello rules is different depending on hello version detected.</span></span> <span data-ttu-id="a2611-224">Till exempel i en distribution med Exchange 2013 finns mer attributflöden konfigurerats än i Exchange 2010 2007.</span><span class="sxs-lookup"><span data-stu-id="a2611-224">For example, in a deployment with Exchange 2013 there are more attribute flows configured than in Exchange 2010/2007.</span></span>

### <a name="synchronization-rule"></a><span data-ttu-id="a2611-225">Regel för synkronisering</span><span class="sxs-lookup"><span data-stu-id="a2611-225">Synchronization Rule</span></span>
<span data-ttu-id="a2611-226">En Synkroniseringsregel är ett konfigurationsobjekt med en uppsättning attribut som flödar när villkoret är uppfyllt.</span><span class="sxs-lookup"><span data-stu-id="a2611-226">A Synchronization Rule is a configuration object with a set of attributes flowing when a condition is satisfied.</span></span> <span data-ttu-id="a2611-227">Det är också används toodescribe hur ett objekt i en anslutningsplatsen är relaterade tooan objekt i hello metaversum, kallas även **koppling** eller **matchar**.</span><span class="sxs-lookup"><span data-stu-id="a2611-227">It is also used toodescribe how an object in a connector space is related tooan object in hello metaverse, known as **join** or **match**.</span></span> <span data-ttu-id="a2611-228">Hej Synkroniseringsregler har en högre prioritet-värde som anger hur de hör ihop tooeach andra.</span><span class="sxs-lookup"><span data-stu-id="a2611-228">hello Synchronization Rules have a precedence value indicating how they relate tooeach other.</span></span> <span data-ttu-id="a2611-229">En Synkroniseringsregel med ett lägre numeriskt värde har högre prioritet och i ett flöde konflikt attributet högre prioritet wins hello konfliktlösning.</span><span class="sxs-lookup"><span data-stu-id="a2611-229">A Synchronization Rule with a lower numeric value has a higher precedence and in an attribute flow conflict, higher precedence wins hello conflict resolution.</span></span>

<span data-ttu-id="a2611-230">Exempelvis titta på hello Synkroniseringsregeln **i från AD-användare AccountEnabled**.</span><span class="sxs-lookup"><span data-stu-id="a2611-230">As an example, look at hello Synchronization Rule **In from AD – User AccountEnabled**.</span></span> <span data-ttu-id="a2611-231">Markera den här raden i hello SRE och välj **redigera**.</span><span class="sxs-lookup"><span data-stu-id="a2611-231">Mark this line in hello SRE and select **Edit**.</span></span>

<span data-ttu-id="a2611-232">Eftersom den här regeln är en regel för out-of-box, visas ett varningsmeddelande när du öppnar hello regeln.</span><span class="sxs-lookup"><span data-stu-id="a2611-232">Since this rule is an out-of-box rule, you receive a warning when you open hello rule.</span></span> <span data-ttu-id="a2611-233">Du bör inte göra någon [ändras tooout-of-box regler](active-directory-aadconnectsync-best-practices-changing-default-configuration.md), så uppmanas du din avsikt är.</span><span class="sxs-lookup"><span data-stu-id="a2611-233">You should not make any [changes tooout-of-box rules](active-directory-aadconnectsync-best-practices-changing-default-configuration.md), so you are asked what your intentions are.</span></span> <span data-ttu-id="a2611-234">I detta fall kan vill du bara tooview hello regeln.</span><span class="sxs-lookup"><span data-stu-id="a2611-234">In this case, you only want tooview hello rule.</span></span> <span data-ttu-id="a2611-235">Välj **nr**.</span><span class="sxs-lookup"><span data-stu-id="a2611-235">Select **No**.</span></span>

![Synkronisering regler varning](./media/active-directory-aadconnectsync-understanding-default-configuration/warningeditrule.png)

<span data-ttu-id="a2611-237">En Synkroniseringsregel har fyra konfigurationsavsnitt: beskrivning, scope filter, koppling regler och transformationer.</span><span class="sxs-lookup"><span data-stu-id="a2611-237">A Synchronization Rule has four configuration sections: Description, Scoping filter, Join rules, and Transformations.</span></span>

#### <a name="description"></a><span data-ttu-id="a2611-238">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="a2611-238">Description</span></span>
<span data-ttu-id="a2611-239">hello första avsnittet innehåller grundläggande information, till exempel namn och beskrivning.</span><span class="sxs-lookup"><span data-stu-id="a2611-239">hello first section provides basic information such as a name and description.</span></span>

![<span data-ttu-id="a2611-240">Beskrivning av fliken synkroniserade Regelredigeraren</span><span class="sxs-lookup"><span data-stu-id="a2611-240">Description tab in Sync rule editor</span></span> ](./media/active-directory-aadconnectsync-understanding-default-configuration/syncruledescription.png)

<span data-ttu-id="a2611-241">Du hittar även information om vilka anslutna systemet som regeln gäller, vilket objekttypen i hello anslutna system som den gäller och hello metaversum-objekttyp.</span><span class="sxs-lookup"><span data-stu-id="a2611-241">You also find information about which connected system this rule is related to, which object type in hello connected system it applies to, and hello metaverse object type.</span></span> <span data-ttu-id="a2611-242">hello metaversum-objekttyp är alltid person oavsett när hello objektet källtyp är en användare, iNetOrgPerson eller kontakta.</span><span class="sxs-lookup"><span data-stu-id="a2611-242">hello metaverse object type is always person regardless when hello source object type is a user, iNetOrgPerson, or contact.</span></span> <span data-ttu-id="a2611-243">hello metaversum-objekttyp bör aldrig ändras så att den har skapats som en generisk typ.</span><span class="sxs-lookup"><span data-stu-id="a2611-243">hello metaverse object type should never change so it is created as a generic type.</span></span> <span data-ttu-id="a2611-244">hello länktypen kan ställas in tooJoin, StickyJoin eller etablera.</span><span class="sxs-lookup"><span data-stu-id="a2611-244">hello Link Type can be set tooJoin, StickyJoin, or Provision.</span></span> <span data-ttu-id="a2611-245">Den här inställningen fungerar tillsammans med hello ansluta regler avsnittet och beskrivs senare.</span><span class="sxs-lookup"><span data-stu-id="a2611-245">This setting works together with hello Join Rules section and is covered later.</span></span>

<span data-ttu-id="a2611-246">Du kan också se att regeln synkronisering används för synkronisering av lösenord. Om en användare finns i omfånget för den här regeln för synkronisering, synkroniseras hello lösenord från lokala toocloud (förutsatt att du har aktiverat funktionen för synkronisering av hello-lösenordet).</span><span class="sxs-lookup"><span data-stu-id="a2611-246">You can also see that this sync rule is used for password sync. If a user is in scope for this sync rule, hello password is synchronized from on-premises toocloud (assuming you have enabled hello password sync feature).</span></span>

#### <a name="scoping-filter"></a><span data-ttu-id="a2611-247">Omfångsfilter</span><span class="sxs-lookup"><span data-stu-id="a2611-247">Scoping filter</span></span>
<span data-ttu-id="a2611-248">Hej Omfångsfiltret avsnitt är används tooconfigure när en Synkroniseringsregel ska tillämpas.</span><span class="sxs-lookup"><span data-stu-id="a2611-248">hello Scoping Filter section is used tooconfigure when a Synchronization Rule should apply.</span></span> <span data-ttu-id="a2611-249">Eftersom hello namnet på hello Synkroniseringsregeln tittar du anger bör endast användas för aktiverade användare, hello omfång har konfigurerats så hello AD-attributet **userAccountControl** måste inte ha hello-bitars 2 ställa.</span><span class="sxs-lookup"><span data-stu-id="a2611-249">Since hello name of hello Synchronization Rule you are looking at indicates it should only be applied for enabled users, hello scope is configured so hello AD attribute **userAccountControl** must not have hello bit 2 set.</span></span> <span data-ttu-id="a2611-250">När Synkroniseringsmotorn hello hittar en användare i AD, gäller den synkroniseringen regeln när **userAccountControl** anges toohello decimalvärde 512 (aktiverad normal användare).</span><span class="sxs-lookup"><span data-stu-id="a2611-250">When hello sync engine finds a user in AD, it applies this sync rule when **userAccountControl** is set toohello decimal value 512 (enabled normal user).</span></span> <span data-ttu-id="a2611-251">Den gäller inte hello regeln när hello användare har **userAccountControl** ange too514 (inaktiverad normal användare).</span><span class="sxs-lookup"><span data-stu-id="a2611-251">It does not apply hello rule when hello user has **userAccountControl** set too514 (disabled normal user).</span></span>

![<span data-ttu-id="a2611-252">Scope-fliken i Redigeraren för regel för synkronisering</span><span class="sxs-lookup"><span data-stu-id="a2611-252">Scoping tab in Sync rule editor</span></span> ](./media/active-directory-aadconnectsync-understanding-default-configuration/syncrulescopingfilter.png)

<span data-ttu-id="a2611-253">hello målgrupp filtret har grupper och satser som kan vara kapslade.</span><span class="sxs-lookup"><span data-stu-id="a2611-253">hello scoping filter has Groups and Clauses that can be nested.</span></span> <span data-ttu-id="a2611-254">Alla satser i en grupp måste vara uppfyllda för en Synkroniseringsregel tooapply.</span><span class="sxs-lookup"><span data-stu-id="a2611-254">All clauses inside a group must be satisfied for a Synchronization Rule tooapply.</span></span> <span data-ttu-id="a2611-255">När flera grupper har definierats måste i minst en grupp vara uppfyllda för hello regeln tooapply.</span><span class="sxs-lookup"><span data-stu-id="a2611-255">When multiple groups are defined, then at least one group must be satisfied for hello rule tooapply.</span></span> <span data-ttu-id="a2611-256">Det vill säga ett logiskt OR utvärderas mellan grupper och en logisk och utvärderas i en grupp.</span><span class="sxs-lookup"><span data-stu-id="a2611-256">That is, a logical OR is evaluated between groups and a logical AND is evaluated inside a group.</span></span> <span data-ttu-id="a2611-257">Ett exempel på den här konfigurationen finns i hello utgående Synkroniseringsregel **ut tooAAD – grupp ansluta**.</span><span class="sxs-lookup"><span data-stu-id="a2611-257">An example of this configuration can be found in hello outbound Synchronization Rule **Out tooAAD – Group Join**.</span></span> <span data-ttu-id="a2611-258">Det finns flera filter synkroniseringsgrupper, till exempel en för säkerhetsgrupper (`securityEnabled EQUAL True`) och en för distributionsgrupper (`securityEnabled EQUAL False`).</span><span class="sxs-lookup"><span data-stu-id="a2611-258">There are several synchronization filter groups, for example one for security groups (`securityEnabled EQUAL True`) and one for distribution groups (`securityEnabled EQUAL False`).</span></span>

![<span data-ttu-id="a2611-259">Scope-fliken i Redigeraren för regel för synkronisering</span><span class="sxs-lookup"><span data-stu-id="a2611-259">Scoping tab in Sync rule editor</span></span> ](./media/active-directory-aadconnectsync-understanding-default-configuration/syncrulescopingfilterout.png)

<span data-ttu-id="a2611-260">Den här regeln är används toodefine som grupper bör vara etablerade tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="a2611-260">This rule is used toodefine which Groups should be provisioned tooAzure AD.</span></span> <span data-ttu-id="a2611-261">Distributionsgrupper måste vara aktiverad e toobe synkroniseras med Azure AD, men för säkerhetsgrupper ett e-postmeddelande krävs inte.</span><span class="sxs-lookup"><span data-stu-id="a2611-261">Distribution Groups must be mail enabled toobe synchronized with Azure AD, but for security groups an email is not required.</span></span>

#### <a name="join-rules"></a><span data-ttu-id="a2611-262">Ansluta till regler</span><span class="sxs-lookup"><span data-stu-id="a2611-262">Join rules</span></span>
<span data-ttu-id="a2611-263">hello tredje avsnittet är används tooconfigure hur objekt i hello anslutningsplatsen relaterade tooobjects i hello metaversum.</span><span class="sxs-lookup"><span data-stu-id="a2611-263">hello third section is used tooconfigure how objects in hello connector space relate tooobjects in hello metaverse.</span></span> <span data-ttu-id="a2611-264">hello regeln som du tidigare har tittat på saknar konfiguration för regler för att ansluta till istället du är pågående toolook på **i från AD-användare ansluta**.</span><span class="sxs-lookup"><span data-stu-id="a2611-264">hello rule you have looked at earlier does not have any configuration for Join Rules, so instead you are going toolook at **In from AD – User Join**.</span></span>

![<span data-ttu-id="a2611-265">Ansluta till fliken regler i Redigeraren för regel för synkronisering</span><span class="sxs-lookup"><span data-stu-id="a2611-265">Join rules tab in Sync rule editor</span></span> ](./media/active-directory-aadconnectsync-understanding-default-configuration/syncrulejoinrules.png)

<span data-ttu-id="a2611-266">hello innehållet i hello koppling regel beror på hello matchar alternativ som valts i hello installationsguiden.</span><span class="sxs-lookup"><span data-stu-id="a2611-266">hello content of hello join rule depends on hello matching option selected in hello installation wizard.</span></span> <span data-ttu-id="a2611-267">För en inkommande regel hello utvärdering börjar med ett objekt i hello källa anslutningsplatsen och varje grupp i hello koppling reglerna utvärderas i ordning.</span><span class="sxs-lookup"><span data-stu-id="a2611-267">For an inbound rule, hello evaluation starts with an object in hello source connector space and each group in hello join rules is evaluated in sequence.</span></span> <span data-ttu-id="a2611-268">Om ett källobjekt är utvärderade toomatch exakt ett objekt i Hej metaversum med hjälp av en av reglerna för hello koppling, hello objekt är anslutna.</span><span class="sxs-lookup"><span data-stu-id="a2611-268">If a source object is evaluated toomatch exactly one object in hello metaverse using one of hello join rules, hello objects are joined.</span></span> <span data-ttu-id="a2611-269">Om alla regler har utvärderats och det finns ingen matchning, används hello länktypen på hello beskrivningssida.</span><span class="sxs-lookup"><span data-stu-id="a2611-269">If all rules have been evaluated and there is no match, then hello Link Type on hello description page is used.</span></span> <span data-ttu-id="a2611-270">Om den här konfigurationen har angetts för**etablera**, skapas ett nytt objekt i hello mål hello metaversum.</span><span class="sxs-lookup"><span data-stu-id="a2611-270">If this configuration is set too**Provision**, then a new object is created in hello target, hello metaverse.</span></span> <span data-ttu-id="a2611-271">ett nytt objekt toohello metaversum kallas också för tooprovision**projekt** ett objekt toohello metaversum.</span><span class="sxs-lookup"><span data-stu-id="a2611-271">tooprovision a new object toohello metaverse is also known as too**project** an object toohello metaverse.</span></span>

<span data-ttu-id="a2611-272">hello koppling reglerna utvärderas bara en gång.</span><span class="sxs-lookup"><span data-stu-id="a2611-272">hello join rules are only evaluated once.</span></span> <span data-ttu-id="a2611-273">När ett utrymme connector-objekt och en metaversumobjekt ansluten, förblir de kopplade så länge hello omfattning hello Synkroniseringsregeln är fortfarande nöjd.</span><span class="sxs-lookup"><span data-stu-id="a2611-273">When a connector space object and a metaverse object are joined, they remain joined as long as hello scope of hello Synchronization Rule is still satisfied.</span></span>

<span data-ttu-id="a2611-274">När du utvärderar Synkroniseringsregler måste endast en regel för synkronisering med anslutning till definierade regler vara i omfånget.</span><span class="sxs-lookup"><span data-stu-id="a2611-274">When evaluating Synchronization Rules, only one Synchronization Rule with join rules defined must be in scope.</span></span> <span data-ttu-id="a2611-275">Ett fel returneras om det finns flera regler för synkronisering med anslutning till regler för ett objekt.</span><span class="sxs-lookup"><span data-stu-id="a2611-275">If multiple Synchronization Rules with join rules are found for one object, an error is thrown.</span></span> <span data-ttu-id="a2611-276">Därför är bra för hello toohave endast en regel för synkronisering med Anslut definieras när flera Synkroniseringsregler som ingår i omfattningen för ett objekt.</span><span class="sxs-lookup"><span data-stu-id="a2611-276">For this reason, hello best practice is toohave only one Synchronization Rule with join defined when multiple Synchronization Rules are in scope for an object.</span></span> <span data-ttu-id="a2611-277">I hello out-of-box-konfiguration för Azure AD Connect-synkronisering, reglerna kan hittas genom att titta på hello namn och hitta dem med hello word **ansluta** hello slutet av hello namn.</span><span class="sxs-lookup"><span data-stu-id="a2611-277">In hello out-of-box configuration for Azure AD Connect sync, these rules can be found by looking at hello name and find those with hello word **Join** at hello end of hello name.</span></span> <span data-ttu-id="a2611-278">En Synkroniseringsregel utan några definierade regler för koppling gäller hello attributflöden när en annan Synkroniseringsregeln sammankopplade hello objekt eller etablera ett nytt objekt i hello mål.</span><span class="sxs-lookup"><span data-stu-id="a2611-278">A Synchronization Rule without any join rules defined applies hello attribute flows when another Synchronization Rule joined hello objects together or provisioned a new object in hello target.</span></span>

<span data-ttu-id="a2611-279">Om du tittar på hello bilden ovan kan du se hello regeln försöker toojoin **objectSID** med **msExchMasterAccountSid** (Exchange) och **msRTCSIP-OriginatorSid** () Lync), vilket är den förväntade i en skog konto-resurs-topologi.</span><span class="sxs-lookup"><span data-stu-id="a2611-279">If you look at hello picture above, you can see that hello rule is trying toojoin **objectSID** with **msExchMasterAccountSid** (Exchange) and **msRTCSIP-OriginatorSid** (Lync), which is what we expect in an account-resource forest topology.</span></span> <span data-ttu-id="a2611-280">Du hittar hello samma regel i alla skogar.</span><span class="sxs-lookup"><span data-stu-id="a2611-280">You find hello same rule on all forests.</span></span> <span data-ttu-id="a2611-281">hello antas att varje skog kan vara ett konto eller resurs-skog.</span><span class="sxs-lookup"><span data-stu-id="a2611-281">hello assumption is that every forest could be either an account or resource forest.</span></span> <span data-ttu-id="a2611-282">Den här konfigurationen fungerar även om du har konton som bor i en enda skog och inte har toobe ansluten.</span><span class="sxs-lookup"><span data-stu-id="a2611-282">This configuration also works if you have accounts that live in a single forest and do not have toobe joined.</span></span>

#### <a name="transformations"></a><span data-ttu-id="a2611-283">Omvandlingar</span><span class="sxs-lookup"><span data-stu-id="a2611-283">Transformations</span></span>
<span data-ttu-id="a2611-284">Hej transformationsavsnittet definierar alla attributflöden som gäller toohello målobjektet när hello objekt är anslutna och hello Omfångsfilter är uppfyllt.</span><span class="sxs-lookup"><span data-stu-id="a2611-284">hello transformation section defines all attribute flows that apply toohello target object when hello objects are joined and hello scope filter is satisfied.</span></span> <span data-ttu-id="a2611-285">Gå tillbaka toohello **i från AD-användare AccountEnabled** Synkroniseringsregeln du hitta hello följande omvandlingar:</span><span class="sxs-lookup"><span data-stu-id="a2611-285">Going back toohello **In from AD – User AccountEnabled** Synchronization Rule, you find hello following transformations:</span></span>

![<span data-ttu-id="a2611-286">Transformationer fliken synkroniserade Regelredigeraren</span><span class="sxs-lookup"><span data-stu-id="a2611-286">Transformations tab in Sync rule editor</span></span> ](./media/active-directory-aadconnectsync-understanding-default-configuration/syncruletransformations.png)

<span data-ttu-id="a2611-287">tooput denna konfiguration i kontexten i en skog distribution konto-resurs är förväntade toofind ett aktiverat konto i hello kontoskog och ett inaktiverat konto i hello resursen skogen med inställningar för Exchange och Lync.</span><span class="sxs-lookup"><span data-stu-id="a2611-287">tooput this configuration in context, in an Account-Resource forest deployment, it is expected toofind an enabled account in hello account forest and a disabled account in hello resource forest with Exchange and Lync settings.</span></span> <span data-ttu-id="a2611-288">Hej Synkroniseringsregeln du tittar på innehåller hello-attribut som krävs för inloggning och attributen ska flödas från hello skog där det finns ett aktiverat konto.</span><span class="sxs-lookup"><span data-stu-id="a2611-288">hello Synchronization Rule you are looking at contains hello attributes required for sign-in and these attributes should flow from hello forest where there is an enabled account.</span></span> <span data-ttu-id="a2611-289">Alla dessa attributflöden placeras tillsammans i en regel för synkronisering.</span><span class="sxs-lookup"><span data-stu-id="a2611-289">All these attribute flows are put together in one Synchronization Rule.</span></span>

<span data-ttu-id="a2611-290">En omvandling kan ha olika typer: konstant, direkt och uttryck.</span><span class="sxs-lookup"><span data-stu-id="a2611-290">A transformation can have different types: Constant, Direct, and Expression.</span></span>

* <span data-ttu-id="a2611-291">Ett konstant flöde flödar alltid en hårdkodad värde.</span><span class="sxs-lookup"><span data-stu-id="a2611-291">A constant flow always flows a hardcoded value.</span></span> <span data-ttu-id="a2611-292">I ovanstående hello fall måste alltid anges hello värdet **SANT** i hello metaversum-attribut med namnet **accountEnabled**.</span><span class="sxs-lookup"><span data-stu-id="a2611-292">In hello case above, it always sets hello value **True** in hello metaverse attribute named **accountEnabled**.</span></span>
* <span data-ttu-id="a2611-293">Ett direkt flöde flödar alltid hello värdet för hello attribut i hello toohello mål källattribut som-är.</span><span class="sxs-lookup"><span data-stu-id="a2611-293">A direct flow always flows hello value of hello attribute in hello source toohello target attribute as-is.</span></span>
* <span data-ttu-id="a2611-294">hello tredje flödestyp är uttryck och den kan användas för mer avancerade konfigurationer.</span><span class="sxs-lookup"><span data-stu-id="a2611-294">hello third flow type is Expression and it allows for more advanced configurations.</span></span>

<span data-ttu-id="a2611-295">hello Uttrycksspråk är VBA (Visual Basic for Applications), så personer har erfarenhet av Microsoft Office eller VBScript identifierar hello-format.</span><span class="sxs-lookup"><span data-stu-id="a2611-295">hello expression language is VBA (Visual Basic for Applications), so people with experience of Microsoft Office or VBScript will recognize hello format.</span></span> <span data-ttu-id="a2611-296">Attribut omges av hakparenteser [attributeName].</span><span class="sxs-lookup"><span data-stu-id="a2611-296">Attributes are enclosed in square brackets, [attributeName].</span></span> <span data-ttu-id="a2611-297">Funktionsnamnen och attributnamn är skiftlägeskänsliga, men hello Synchronization regler Editor utvärderar hello uttryck och ange en varning om hello-uttrycket inte är giltigt.</span><span class="sxs-lookup"><span data-stu-id="a2611-297">Attribute names and function names are case-sensitive, but hello Synchronization Rules Editor evaluates hello expressions and provide a warning if hello expression is not valid.</span></span> <span data-ttu-id="a2611-298">Alla uttryck anges på en enda rad med kapslade funktioner.</span><span class="sxs-lookup"><span data-stu-id="a2611-298">All expressions are expressed on a single line with nested functions.</span></span> <span data-ttu-id="a2611-299">tooshow hello power hello configuration språket hello flödet för pwdLastSet, men med ytterligare kommentarer infogas här är:</span><span class="sxs-lookup"><span data-stu-id="a2611-299">tooshow hello power of hello configuration language, here is hello flow for pwdLastSet, but with additional comments inserted:</span></span>

```
// If-then-else
IIF(
// (hello evaluation for IIF) Is hello attribute pwdLastSet present in AD?
IsPresent([pwdLastSet]),
// (hello True part of IIF) If it is, then from right tooleft, convert hello AD time format tooa .Net datetime, change it toohello time format used by Azure AD, and finally convert it tooa string.
CStr(FormatDateTime(DateFromNum([pwdLastSet]),"yyyyMMddHHmmss.0Z")),
// (hello False part of IIF) Nothing toocontribute
NULL
)
```

<span data-ttu-id="a2611-300">Se [förstå uttryck för deklarativ etablering](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md) för mer information om hello uttryck språket för attributflöden.</span><span class="sxs-lookup"><span data-stu-id="a2611-300">See [Understanding Declarative Provisioning Expressions](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md) for more information on hello expression language for attribute flows.</span></span>

### <a name="precedence"></a><span data-ttu-id="a2611-301">Prioritet</span><span class="sxs-lookup"><span data-stu-id="a2611-301">Precedence</span></span>
<span data-ttu-id="a2611-302">Du nu har tittat på vissa enskilda regler för synkronisering, men hello regler fungerar tillsammans på hello konfiguration.</span><span class="sxs-lookup"><span data-stu-id="a2611-302">You have now looked at some individual Synchronization Rules, but hello rules work together in hello configuration.</span></span> <span data-ttu-id="a2611-303">I vissa fall kan ett attributvärde har bidragit från flera synkronisering regler toohello samma Målattributet.</span><span class="sxs-lookup"><span data-stu-id="a2611-303">In some cases, an attribute value is contributed from multiple synchronization rules toohello same target attribute.</span></span> <span data-ttu-id="a2611-304">Attributprioritet är i det här fallet används toodetermine vilket attribut wins.</span><span class="sxs-lookup"><span data-stu-id="a2611-304">In this case, attribute precedence is used toodetermine which attribute wins.</span></span> <span data-ttu-id="a2611-305">Titta på hello attributet sourceAnchor exempelvis.</span><span class="sxs-lookup"><span data-stu-id="a2611-305">As an example, look at hello attribute sourceAnchor.</span></span> <span data-ttu-id="a2611-306">Detta attribut är en viktig attributet toobe kan toosign i tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="a2611-306">This attribute is an important attribute toobe able toosign in tooAzure AD.</span></span> <span data-ttu-id="a2611-307">Du hittar ett attributflöde för det här attributet i två olika Synkroniseringsregler, **i från AD-användare AccountEnabled** och **i från AD-användaren vanliga**.</span><span class="sxs-lookup"><span data-stu-id="a2611-307">You can find an attribute flow for this attribute in two different Synchronization Rules, **In from AD – User AccountEnabled** and **In from AD – User Common**.</span></span> <span data-ttu-id="a2611-308">På grund av tooSynchronization regeln företräde har hello sourceAnchor attributet bidragit från hello skog med ett aktiverat konto först när det finns flera objekt kopplade toohello metaversumobjekt.</span><span class="sxs-lookup"><span data-stu-id="a2611-308">Due tooSynchronization Rule precedence, hello sourceAnchor attribute is contributed from hello forest with an enabled account first when there are several objects joined toohello metaverse object.</span></span> <span data-ttu-id="a2611-309">Om det finns inga aktiverade konton du hello sync motorn använder hello fångar in alla Synkroniseringsregeln **i från AD-användaren vanliga**.</span><span class="sxs-lookup"><span data-stu-id="a2611-309">If there are no enabled accounts, then hello sync engine uses hello catch-all Synchronization Rule **In from AD – User Common**.</span></span> <span data-ttu-id="a2611-310">Den här konfigurationen garanterar att även för konton som är inaktiverade, det finns fortfarande en sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="a2611-310">This configuration ensures that even for accounts that are disabled, there is still a sourceAnchor.</span></span>

![Inkommande Synkroniseringsregler](./media/active-directory-aadconnectsync-understanding-default-configuration/syncrulesinbound.png)

<span data-ttu-id="a2611-312">hello prioritet för Synkroniseringsregler som anges i grupper med hello installationsguiden.</span><span class="sxs-lookup"><span data-stu-id="a2611-312">hello precedence for Synchronization Rules is set in groups by hello installation wizard.</span></span> <span data-ttu-id="a2611-313">Alla regler i en grupp har hello samma namn, men de är anslutna toodifferent anslutna kataloger.</span><span class="sxs-lookup"><span data-stu-id="a2611-313">All rules in a group have hello same name, but they are connected toodifferent connected directories.</span></span> <span data-ttu-id="a2611-314">Installationsguiden för hello ger hello regeln **i från AD-användare ansluta** högsta prioritet och itererar över alla anslutna AD-kataloger.</span><span class="sxs-lookup"><span data-stu-id="a2611-314">hello installation wizard gives hello rule **In from AD – User Join** highest precedence and it iterates over all connected AD directories.</span></span> <span data-ttu-id="a2611-315">Det fortsätter sedan med hello nästa grupper av regler i en viss ordning.</span><span class="sxs-lookup"><span data-stu-id="a2611-315">It then continues with hello next groups of rules in a predefined order.</span></span> <span data-ttu-id="a2611-316">Hello regler läggs till i hello ordning hello kopplingar har lagts till i hello guiden inuti en grupp.</span><span class="sxs-lookup"><span data-stu-id="a2611-316">Inside a group, hello rules are added in hello order hello Connectors were added in hello wizard.</span></span> <span data-ttu-id="a2611-317">Om en annan koppling läggs guiden hello hello Synkroniseringsregler sorteras och hello ny koppling regler senast infogas i varje grupp.</span><span class="sxs-lookup"><span data-stu-id="a2611-317">If another Connector is added through hello wizard, hello Synchronization Rules are reordered and hello new Connector’s rules are inserted last in each group.</span></span>

### <a name="putting-it-all-together"></a><span data-ttu-id="a2611-318">Alltihop</span><span class="sxs-lookup"><span data-stu-id="a2611-318">Putting it all together</span></span>
<span data-ttu-id="a2611-319">Vi nu vet hur Synkroniseringsregler toobe kan toounderstand hur hello konfigurationen fungerar med hello olika regler för synkronisering.</span><span class="sxs-lookup"><span data-stu-id="a2611-319">We now know enough about Synchronization Rules toobe able toounderstand how hello configuration works with hello different Synchronization Rules.</span></span> <span data-ttu-id="a2611-320">Om du tittar på en användare och hello attribut som bidrog toohello metaversum, hello regler tillämpas i ordning hello:</span><span class="sxs-lookup"><span data-stu-id="a2611-320">If you look at a user and hello attributes that are contributed toohello metaverse, hello rules are applied in hello following order:</span></span>

| <span data-ttu-id="a2611-321">Namn</span><span class="sxs-lookup"><span data-stu-id="a2611-321">Name</span></span> | <span data-ttu-id="a2611-322">Kommentar</span><span class="sxs-lookup"><span data-stu-id="a2611-322">Comment</span></span> |
|:--- |:--- |
| <span data-ttu-id="a2611-323">I från AD-användare ansluta till</span><span class="sxs-lookup"><span data-stu-id="a2611-323">In from AD – User Join</span></span> |<span data-ttu-id="a2611-324">Regel för att ansluta till koppling utrymme objekt med metaversum.</span><span class="sxs-lookup"><span data-stu-id="a2611-324">Rule for joining connector space objects with metaverse.</span></span> |
| <span data-ttu-id="a2611-325">I från AD – UserAccount aktiverad</span><span class="sxs-lookup"><span data-stu-id="a2611-325">In from AD – UserAccount Enabled</span></span> |<span data-ttu-id="a2611-326">Attribut som krävs för inloggning tooAzure AD och Office 365.</span><span class="sxs-lookup"><span data-stu-id="a2611-326">Attributes required for sign-in tooAzure AD and Office 365.</span></span> <span data-ttu-id="a2611-327">Vi vill attributen från hello aktiverat konto.</span><span class="sxs-lookup"><span data-stu-id="a2611-327">We want these attributes from hello enabled account.</span></span> |
| <span data-ttu-id="a2611-328">I från AD-användaren gemensamma från Exchange</span><span class="sxs-lookup"><span data-stu-id="a2611-328">In from AD – User Common from Exchange</span></span> |<span data-ttu-id="a2611-329">Attribut hittades i hello globala adresslistan.</span><span class="sxs-lookup"><span data-stu-id="a2611-329">Attributes found in hello Global Address List.</span></span> <span data-ttu-id="a2611-330">Vi förutsätter hello DQS är bäst i hello skog där vi har hittat hello användarens postlåda.</span><span class="sxs-lookup"><span data-stu-id="a2611-330">We assume hello data quality is best in hello forest where we have found hello user’s mailbox.</span></span> |
| <span data-ttu-id="a2611-331">I från AD-användaren gemensamma</span><span class="sxs-lookup"><span data-stu-id="a2611-331">In from AD – User Common</span></span> |<span data-ttu-id="a2611-332">Attribut hittades i hello globala adresslistan.</span><span class="sxs-lookup"><span data-stu-id="a2611-332">Attributes found in hello Global Address List.</span></span> <span data-ttu-id="a2611-333">Om vi hittade en postlåda bidrar andra anslutna objektet hello attributvärdet.</span><span class="sxs-lookup"><span data-stu-id="a2611-333">In case we didn’t find a mailbox, any other joined object can contribute hello attribute value.</span></span> |
| <span data-ttu-id="a2611-334">I från AD-användaren Exchange</span><span class="sxs-lookup"><span data-stu-id="a2611-334">In from AD – User Exchange</span></span> |<span data-ttu-id="a2611-335">Finns bara om Exchange har upptäckts.</span><span class="sxs-lookup"><span data-stu-id="a2611-335">Only exists if Exchange has been detected.</span></span> <span data-ttu-id="a2611-336">Den förs vidare alla infrastruktur Exchange-attribut.</span><span class="sxs-lookup"><span data-stu-id="a2611-336">It flows all infrastructure Exchange attributes.</span></span> |
| <span data-ttu-id="a2611-337">I från AD-användaren Lync</span><span class="sxs-lookup"><span data-stu-id="a2611-337">In from AD – User Lync</span></span> |<span data-ttu-id="a2611-338">Finns bara om Lync har upptäckts.</span><span class="sxs-lookup"><span data-stu-id="a2611-338">Only exists if Lync has been detected.</span></span> <span data-ttu-id="a2611-339">Den förs vidare alla infrastruktur Lync-attribut.</span><span class="sxs-lookup"><span data-stu-id="a2611-339">It flows all infrastructure Lync attributes.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="a2611-340">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="a2611-340">Next steps</span></span>
* <span data-ttu-id="a2611-341">Läs mer om hello Konfigurationsmodell i [förstå deklarativ etablering](active-directory-aadconnectsync-understanding-declarative-provisioning.md).</span><span class="sxs-lookup"><span data-stu-id="a2611-341">Read more about hello configuration model in [Understanding Declarative Provisioning](active-directory-aadconnectsync-understanding-declarative-provisioning.md).</span></span>
* <span data-ttu-id="a2611-342">Läs mer om hello Uttrycksspråk i [förstå uttryck för deklarativ etablering](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="a2611-342">Read more about hello expression language in [Understanding Declarative Provisioning Expressions](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md).</span></span>
* <span data-ttu-id="a2611-343">Fortsätta att läsa hur hello out-of-box-konfigurationen fungerar i [förstå användare och kontakter](active-directory-aadconnectsync-understanding-users-and-contacts.md)</span><span class="sxs-lookup"><span data-stu-id="a2611-343">Continue reading how hello out-of-box configuration works in [Understanding Users and Contacts](active-directory-aadconnectsync-understanding-users-and-contacts.md)</span></span>
* <span data-ttu-id="a2611-344">Se hur toomake en praktisk ändras med hjälp av deklarativ etablering i [hur toomake en ändring toohello standard configuration](active-directory-aadconnectsync-change-the-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="a2611-344">See how toomake a practical change using declarative provisioning in [How toomake a change toohello default configuration](active-directory-aadconnectsync-change-the-configuration.md).</span></span>

<span data-ttu-id="a2611-345">**Översiktsavsnitt**</span><span class="sxs-lookup"><span data-stu-id="a2611-345">**Overview topics**</span></span>

* [<span data-ttu-id="a2611-346">Azure AD Connect-synkronisering: Förstå och anpassa synkronisering</span><span class="sxs-lookup"><span data-stu-id="a2611-346">Azure AD Connect sync: Understand and customize synchronization</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="a2611-347">Integrera dina lokala identiteter med Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="a2611-347">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)

