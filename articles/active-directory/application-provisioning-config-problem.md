---
title: "Problemet konfigurering av användarförsörjning till ett program för Azure AD-galleriet | Microsoft Docs"
description: "Felsökning av vanliga problem inför när Konfigurera användaretablering till ett program som redan visas i Azure AD Application Gallery"
services: active-directory
documentationcenter: 
author: ajamess
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/11/2017
ms.author: asteen
ms.openlocfilehash: 44e344095352f2bc6b27e389fc8be2cdf3e368d8
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/03/2017
---
# <a name="problem-configuring-user-provisioning-to-an-azure-ad-gallery-application"></a><span data-ttu-id="7c997-103">Problemet konfigurering av användarförsörjning till ett program för Azure AD-galleriet</span><span class="sxs-lookup"><span data-stu-id="7c997-103">Problem configuring user provisioning to an Azure AD Gallery application</span></span>

<span data-ttu-id="7c997-104">Konfigurera [automatisk användaretablering](https://docs.microsoft.com/azure/active-directory/active-directory-saas-app-provisioning) för en app (där de stöds), kräver att specifika anvisningar följas för att förbereda program för automatisk etablering.</span><span class="sxs-lookup"><span data-stu-id="7c997-104">Configuring [automatic user provisioning](https://docs.microsoft.com/azure/active-directory/active-directory-saas-app-provisioning) for an app (where supported), requires that specific instructions be followed to prepare the application for automatic provisioning.</span></span> <span data-ttu-id="7c997-105">Du kan sedan använda Azure-portalen för att konfigurera tjänsten etablering för att synkronisera användarkonton till programmet.</span><span class="sxs-lookup"><span data-stu-id="7c997-105">Then you can use the Azure portal to configure the provisioning service to synchronize user accounts to the application.</span></span>

<span data-ttu-id="7c997-106">Du bör alltid börja med att söka efter installationen kursen specifika för att skapa etablering för ditt program.</span><span class="sxs-lookup"><span data-stu-id="7c997-106">You should always start by finding the setup tutorial specific to setting up provisioning for your application.</span></span> <span data-ttu-id="7c997-107">Följ dessa steg för att konfigurera både appen och Azure AD för att skapa etablering anslutningen.</span><span class="sxs-lookup"><span data-stu-id="7c997-107">Then follow those steps to configure both the app and Azure AD to create the provisioning connection.</span></span> <span data-ttu-id="7c997-108">En lista över app självstudier finns på [lista över självstudier om hur man integrerar SaaS-appar med Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-saas-tutorial-list).</span><span class="sxs-lookup"><span data-stu-id="7c997-108">A list of app tutorials can be found at [List of Tutorials on How to Integrate SaaS Apps with Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-saas-tutorial-list).</span></span>

## <a name="how-to-see-if-provisioning-is-working"></a><span data-ttu-id="7c997-109">Hur man ser om etablering fungerar</span><span class="sxs-lookup"><span data-stu-id="7c997-109">How to see if provisioning is working</span></span> 

<span data-ttu-id="7c997-110">När tjänsten har konfigurerats kan kan de flesta insikter om driften av tjänsten hämtas från två platser:</span><span class="sxs-lookup"><span data-stu-id="7c997-110">Once the service is configured, most insights into the operation of the service can be drawn from two places:</span></span>

-   <span data-ttu-id="7c997-111">**Granskningsloggar** – etablering loggas post alla åtgärder som utförs av etablering tjänsten, inklusive frågor till Azure AD för tilldelad användare som ingår i omfånget för etablering.</span><span class="sxs-lookup"><span data-stu-id="7c997-111">**Audit logs** – The provisioning audit logs record all the operations performed by the provisioning service, including querying Azure AD for assigned users that are in scope for provisioning.</span></span> <span data-ttu-id="7c997-112">Fråga appen mål förekomsten av dessa användare att jämföra användarobjekt mellan systemet.</span><span class="sxs-lookup"><span data-stu-id="7c997-112">Query the target app for the existence of those users, comparing the user objects between the system.</span></span> <span data-ttu-id="7c997-113">Lägg sedan till, uppdatera eller inaktivera användarkontot i målsystemet baserat på jämförelsen.</span><span class="sxs-lookup"><span data-stu-id="7c997-113">Then add, update, or disable the user account in the target system based on the comparison.</span></span> <span data-ttu-id="7c997-114">Etablering granskningsloggarna kan nås i Azure-portalen i den **Azure Active Directory &gt; Företagsappar &gt; \[programnamn\] &gt; granskningsloggarna** fliken.</span><span class="sxs-lookup"><span data-stu-id="7c997-114">The provisioning audit logs can be accessed in the Azure portal, in the **Azure Active Directory &gt; Enterprise Apps &gt; \[Application Name\] &gt; Audit Logs** tab.</span></span> <span data-ttu-id="7c997-115">Filtrera loggarna på den **Kontoetablering** kategori bara ser de etablering händelserna för appen.</span><span class="sxs-lookup"><span data-stu-id="7c997-115">Filter the logs on the **Account Provisioning** category to only see the provisioning events for that app.</span></span>

-   <span data-ttu-id="7c997-116">**Etableringsstatus –** en sammanfattning av den senaste etablering kör för en viss app visas i den **Azure Active Directory &gt; Företagsappar &gt; \[programnamn\] &gt;etablering** avsnittet längst ned på skärmen under tjänstinställningarna.</span><span class="sxs-lookup"><span data-stu-id="7c997-116">**Provisioning status –** A summary of the last provisioning run for a given app can be seen in the **Azure Active Directory &gt; Enterprise Apps &gt; \[Application Name\] &gt;Provisioning** section, at the bottom of the screen under the service settings.</span></span> <span data-ttu-id="7c997-117">Det här avsnittet sammanfattar hur många användare (och/eller grupper) håller på att synkroniseras mellan de två systemen och om det finns några fel.</span><span class="sxs-lookup"><span data-stu-id="7c997-117">This section summarizes how many users (and/or groups) are currently being synchronized between the two systems, and if there are any errors.</span></span> <span data-ttu-id="7c997-118">Felinformation vara i granskningsloggarna.</span><span class="sxs-lookup"><span data-stu-id="7c997-118">Error details be in the audit logs.</span></span> <span data-ttu-id="7c997-119">Observera att Etableringsstatus inte fyllas tills en första fullständig synkronisering har slutförts mellan Azure AD och appen.</span><span class="sxs-lookup"><span data-stu-id="7c997-119">Note that the provisioning status not be populated until one full initial synchronization has been completed between Azure AD and the app.</span></span>

## <a name="general-problem-areas-with-provisioning-to-consider"></a><span data-ttu-id="7c997-120">Allmän problemområden etablering att överväga</span><span class="sxs-lookup"><span data-stu-id="7c997-120">General problem areas with provisioning to consider</span></span>

<span data-ttu-id="7c997-121">Nedan visas en lista över allmänna problemområden som du kan detaljerat om du har en uppfattning om var du ska börja.</span><span class="sxs-lookup"><span data-stu-id="7c997-121">Below is a list of the general problem areas that you can drill into if you have an idea of where to start.</span></span>

* [<span data-ttu-id="7c997-122">Etablerar tjänsten visas inte att starta</span><span class="sxs-lookup"><span data-stu-id="7c997-122">Provisioning service does not appear to start</span></span>](#provisioning-service-does-not-appear-to-start)
* [<span data-ttu-id="7c997-123">Det går inte att spara konfigurationen på grund av app autentiseringsuppgifter fungerar inte</span><span class="sxs-lookup"><span data-stu-id="7c997-123">Can’t save configuration due to app credentials not working</span></span>](#can’t-save-configuration-due-to-app-credentials-not-working)
* [<span data-ttu-id="7c997-124">Granskningsloggar anta att även om de är tilldelade användare ”hoppas över” och inte etablerats</span><span class="sxs-lookup"><span data-stu-id="7c997-124">Audit logs say users are “skipped” and not provisioned, even though they are assigned</span></span>](#audit-logs-say-users-are-skipped-and-not-provisioned-even-though-they-are-assigned)

## <a name="provisioning-service-does-not-appear-to-start"></a><span data-ttu-id="7c997-125">Etablerar tjänsten visas inte att starta</span><span class="sxs-lookup"><span data-stu-id="7c997-125">Provisioning service does not appear to start</span></span>

<span data-ttu-id="7c997-126">Om du ställer in den **Status för etablering** ska **på** i den **Azure Active Directory &gt; Företagsappar &gt; \[programnamn\] &gt;etablering** på Azure portal.</span><span class="sxs-lookup"><span data-stu-id="7c997-126">If you set the **Provisioning Status** to be **On** in the **Azure Active Directory &gt; Enterprise Apps &gt; \[Application Name\] &gt;Provisioning** section of the Azure portal.</span></span> <span data-ttu-id="7c997-127">Men ingen annan statusinformation visas på sidan när efterföljande läses in på nytt.</span><span class="sxs-lookup"><span data-stu-id="7c997-127">However no other status details are shown on that page after subsequent reloads.</span></span> <span data-ttu-id="7c997-128">Det är troligt att tjänsten körs men har inte slutförts ännu en inledande synkronisering.</span><span class="sxs-lookup"><span data-stu-id="7c997-128">It is likely that the service is running but has not completed an initial synchronization yet.</span></span> <span data-ttu-id="7c997-129">Kontrollera den **granskningsloggar** ovan för att avgöra vilka åtgärder som utförs med tjänsten, och om det finns några fel.</span><span class="sxs-lookup"><span data-stu-id="7c997-129">Check the **Audit logs** described above to determine what operations the service is performing, and if there are any errors.</span></span>

>[!NOTE]
><span data-ttu-id="7c997-130">En inledande synkronisering kan ta allt från 20 minuter till flera timmar, beroende på storleken på Azure AD-katalog och antalet användare i omfånget för etablering.</span><span class="sxs-lookup"><span data-stu-id="7c997-130">An initial sync can take anywhere from 20 minutes to several hours, depending on the size of the Azure AD directory and the number of users in scope for provisioning.</span></span> <span data-ttu-id="7c997-131">Efterföljande synkroniseringar efter den inledande synkroniseringen att snabbare, eftersom etablering tjänsten lagrar vattenstämplar som representerar tillståndet för båda systemen efter den första synkroniseringen, förbättra prestanda för efterföljande synkroniseringar.</span><span class="sxs-lookup"><span data-stu-id="7c997-131">Subsequent syncs after the initial sync be faster, as the provisioning service stores watermarks that represent the state of both systems after the initial sync, improving performance of subsequent syncs.</span></span>
>
>

## <a name="cant-save-configuration-due-to-app-credentials-not-working"></a><span data-ttu-id="7c997-132">Det går inte att spara konfigurationen på grund av app autentiseringsuppgifter fungerar inte</span><span class="sxs-lookup"><span data-stu-id="7c997-132">Can’t save configuration due to app credentials not working</span></span>

<span data-ttu-id="7c997-133">Azure AD kräver giltiga autentiseringsuppgifter som gör att den kan anslutas till en Användarhantering API som tillhandahålls av appen i ordning för etablering för att fungera.</span><span class="sxs-lookup"><span data-stu-id="7c997-133">In order for provisioning to work, Azure AD requires valid credentials that allow it to connect to a user management API provided by that app.</span></span> <span data-ttu-id="7c997-134">Om dessa autentiseringsuppgifter fungerar inte eller om du inte vet wat som de är, granska självstudierna för att ställa in den här appen som beskrivs ovan.</span><span class="sxs-lookup"><span data-stu-id="7c997-134">If these credentials do not work, or you don’t know wat they are, review the tutorial for setting up this app, described previously.</span></span>

## <a name="audit-logs-say-users-are-skipped-and-not-provisioned-even-though-they-are-assigned"></a><span data-ttu-id="7c997-135">Granskningsloggar säger användare hoppas över och inte har etablerats även om de är tilldelade</span><span class="sxs-lookup"><span data-stu-id="7c997-135">Audit logs say users are skipped and not provisioned even though they are assigned</span></span>

<span data-ttu-id="7c997-136">När en användare visas som ”hoppas över” i granskningsloggarna, är det mycket viktigt att läsa de utökade information i loggmeddelandet för att ta reda på orsaken.</span><span class="sxs-lookup"><span data-stu-id="7c997-136">When a user shows up as “skipped” in the audit logs, it is very important to read the extended details in the log message to determine the reason.</span></span> <span data-ttu-id="7c997-137">Nedan visas vanliga orsaker och lösningar:</span><span class="sxs-lookup"><span data-stu-id="7c997-137">Below are common reasons and resolutions:</span></span>

-   <span data-ttu-id="7c997-138">**En målgrupp filter har konfigurerats** **som filtrera användaren baserat på ett attributvärde**.</span><span class="sxs-lookup"><span data-stu-id="7c997-138">**A scoping filter has been configured** **that is filtering the user out based on an attribute value**.</span></span> <span data-ttu-id="7c997-139">Mer information om Omfångsfilter finns <https://docs.microsoft.com/azure/active-directory/active-directory-saas-scoping-filters>.</span><span class="sxs-lookup"><span data-stu-id="7c997-139">For more information on scoping filters, see <https://docs.microsoft.com/azure/active-directory/active-directory-saas-scoping-filters>.</span></span>

-   <span data-ttu-id="7c997-140">**Användaren har ”inte effektivt rätt”.**</span><span class="sxs-lookup"><span data-stu-id="7c997-140">**The user is “not effectively entitled”.**</span></span> <span data-ttu-id="7c997-141">Om du ser det aktuella felmeddelandet beror det på att det är problem med tilldelning användarposten lagras i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7c997-141">If you see this specific error message, it is because there is a problem with the user assignment record stored in Azure AD.</span></span> <span data-ttu-id="7c997-142">Åtgärda det här problemet, tilldela användaren (eller grupp) från appen och tilldela den igen.</span><span class="sxs-lookup"><span data-stu-id="7c997-142">To fix this issue, un-assign the user (or group) from the app, and re-assign it again.</span></span> <span data-ttu-id="7c997-143">Mer information om tilldelning, se <https://docs.microsoft.com/azure/active-directory/active-directory-coreapps-assign-user-azure-portal>.</span><span class="sxs-lookup"><span data-stu-id="7c997-143">For more information on assignment, see <https://docs.microsoft.com/azure/active-directory/active-directory-coreapps-assign-user-azure-portal>.</span></span>

-   <span data-ttu-id="7c997-144">**Ett obligatoriskt attribut är inte ifyllda för en användare eller saknas.**</span><span class="sxs-lookup"><span data-stu-id="7c997-144">**A required attribute is missing or not populated for a user.**</span></span> <span data-ttu-id="7c997-145">En viktig sak att tänka på när du ställer in etablering att granska och konfigurera attributmappning och arbetsflöden som definierar vilka användare (eller grupp) egenskaper flödar från Azure AD till programmet.</span><span class="sxs-lookup"><span data-stu-id="7c997-145">An important thing to consider when setting up provisioning be to review and configure the attribute mappings and workflows that define which user (or group) properties flow from Azure AD to the application.</span></span> <span data-ttu-id="7c997-146">Detta inkluderar egenskapen ”matchande” som används för att identifiera och matchar användare eller grupper mellan de två systemen.</span><span class="sxs-lookup"><span data-stu-id="7c997-146">This includes setting the “matching property” that be used to uniquely identify and match users/groups between the two systems.</span></span> <span data-ttu-id="7c997-147">Mer information om viktiga processen finns <https://docs.microsoft.com/azure/active-directory/active-directory-saas-customizing-attribute-mappings>.</span><span class="sxs-lookup"><span data-stu-id="7c997-147">For more information on this important process, see <https://docs.microsoft.com/azure/active-directory/active-directory-saas-customizing-attribute-mappings>.</span></span>

   * <span data-ttu-id="7c997-148">**Attributet mappningar för grupper:** etablering av gruppnamn och gruppinformation förutom medlemmar, om stöd för vissa program.</span><span class="sxs-lookup"><span data-stu-id="7c997-148">**Attribute mappings for groups:** Provisioning of the group name and group details, in addition to the members, if supported for some applications.</span></span> <span data-ttu-id="7c997-149">Du kan aktivera eller inaktivera den här funktionen genom att aktivera eller inaktivera den **mappning** för gruppobjekt visas i den **etablering** fliken.</span><span class="sxs-lookup"><span data-stu-id="7c997-149">You can enable or disable this functionality by enabling or disabling the **Mapping** for group objects shown in the **Provisioning** tab.</span></span> <span data-ttu-id="7c997-150">Om etablering grupper är aktiverad bör du granska attributmappning för att säkerställa ett lämpligt fält som används för ”matchande ID”.</span><span class="sxs-lookup"><span data-stu-id="7c997-150">If provisioning groups is enabled, be sure to review the attribute mappings to ensure an appropriate field is being used for the “matching ID”.</span></span> <span data-ttu-id="7c997-151">Det kan vara Visa namn eller e-postalias), som gruppen och dess medlemmar inte etableras om matchning av egenskap är tomt eller inte är ifylld för en grupp i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7c997-151">This can be the display name or email alias), as the group and its members not be provisioned if the matching property is empty or not populated for a group in Azure AD.</span></span>

#<a name="next-steps"></a><span data-ttu-id="7c997-152">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="7c997-152">Next steps</span></span>
[<span data-ttu-id="7c997-153">Automatisera användaren etablering och avetablering för SaaS-program med Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="7c997-153">Automate User Provisioning and Deprovisioning to SaaS Applications with Azure Active Directory</span></span>](active-directory-saas-app-provisioning.md)
