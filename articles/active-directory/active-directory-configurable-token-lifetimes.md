---
title: "aaaConfigurable token livslängd i Azure Active Directory | Microsoft Docs"
description: "Lär dig hur tooset livslängd för token som utfärdas av Azure AD."
services: active-directory
documentationcenter: 
author: billmath
manager: femila
editor: 
ms.assetid: 06f5b317-053e-44c3-aaaa-cf07d8692735
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/20/2017
ms.author: billmath
ms.custom: aaddev
ms.reviewer: anchitn
ms.openlocfilehash: 0d4c8545981c5463cc7c95f669167bbc38230123
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="configurable-token-lifetimes-in-azure-active-directory-public-preview"></a><span data-ttu-id="9e113-103">Konfigurerbara token livslängd i Azure Active Directory (förhandsversion)</span><span class="sxs-lookup"><span data-stu-id="9e113-103">Configurable token lifetimes in Azure Active Directory (Public Preview)</span></span>
<span data-ttu-id="9e113-104">Du kan ange hello livslängden för en token som utfärdas av Azure Active Directory (AD Azure).</span><span class="sxs-lookup"><span data-stu-id="9e113-104">You can specify hello lifetime of a token issued by Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="9e113-105">Du kan ange token livslängd för alla program i din organisation, för ett program för flera innehavare (flera organisation) eller för en specifik tjänstens huvudnamn i din organisation.</span><span class="sxs-lookup"><span data-stu-id="9e113-105">You can set token lifetimes for all apps in your organization, for a multi-tenant (multi-organization) application, or for a specific service principal in your organization.</span></span>

> [!NOTE]
> <span data-ttu-id="9e113-106">Den här funktionen är för närvarande i förhandsversion.</span><span class="sxs-lookup"><span data-stu-id="9e113-106">This capability currently is in Public Preview.</span></span> <span data-ttu-id="9e113-107">Förbereda toorevert eller ta bort alla ändringar.</span><span class="sxs-lookup"><span data-stu-id="9e113-107">Be prepared toorevert or remove any changes.</span></span> <span data-ttu-id="9e113-108">hello-funktionen är tillgänglig i alla Azure Active Directory-prenumeration under Public Preview.</span><span class="sxs-lookup"><span data-stu-id="9e113-108">hello feature is available in any Azure Active Directory subscription during Public Preview.</span></span> <span data-ttu-id="9e113-109">Men när hello funktionen blir allmänt tillgänglig, vissa aspekter av hello-funktionen kan kräva en [Azure Active Directory Premium](active-directory-get-started-premium.md) prenumeration.</span><span class="sxs-lookup"><span data-stu-id="9e113-109">However, when hello feature becomes generally available, some aspects of hello feature might require an [Azure Active Directory Premium](active-directory-get-started-premium.md) subscription.</span></span>
>
>

<span data-ttu-id="9e113-110">I Azure AD representerar ett grupprincipobjekt en uppsättning regler som tillämpas på enskilda program eller på alla program i en organisation.</span><span class="sxs-lookup"><span data-stu-id="9e113-110">In Azure AD, a policy object represents a set of rules that are enforced on individual applications or on all applications in an organization.</span></span> <span data-ttu-id="9e113-111">Varje princip har en unik struktur med en uppsättning egenskaper som är kopplade tooobjects toowhich de tilldelas.</span><span class="sxs-lookup"><span data-stu-id="9e113-111">Each policy type has a unique structure, with a set of properties that are applied tooobjects toowhich they are assigned.</span></span>

<span data-ttu-id="9e113-112">Du kan ange en princip som hello standardprincipen för din organisation.</span><span class="sxs-lookup"><span data-stu-id="9e113-112">You can designate a policy as hello default policy for your organization.</span></span> <span data-ttu-id="9e113-113">hello principen är tillämpade tooany program i hello organisation, så länge det inte åsidosätts av en princip med högre prioritet.</span><span class="sxs-lookup"><span data-stu-id="9e113-113">hello policy is applied tooany application in hello organization, as long as it is not overridden by a policy with a higher priority.</span></span> <span data-ttu-id="9e113-114">Dessutom kan du tilldela en princip toospecific program.</span><span class="sxs-lookup"><span data-stu-id="9e113-114">You also can assign a policy toospecific applications.</span></span> <span data-ttu-id="9e113-115">hello prioritetsordning varierar beroende på principtypen.</span><span class="sxs-lookup"><span data-stu-id="9e113-115">hello order of priority varies by policy type.</span></span>


## <a name="token-types"></a><span data-ttu-id="9e113-116">Typer av token</span><span class="sxs-lookup"><span data-stu-id="9e113-116">Token types</span></span>

<span data-ttu-id="9e113-117">Du kan ange principer för livslängd för token för uppdaterings-tokens, åtkomsttoken, session token och ID-token.</span><span class="sxs-lookup"><span data-stu-id="9e113-117">You can set token lifetime policies for refresh tokens, access tokens, session tokens, and ID tokens.</span></span>

### <a name="access-tokens"></a><span data-ttu-id="9e113-118">Åtkomst-token</span><span class="sxs-lookup"><span data-stu-id="9e113-118">Access tokens</span></span>
<span data-ttu-id="9e113-119">Klienter Använd åtkomst tokens tooaccess en skyddad resurs.</span><span class="sxs-lookup"><span data-stu-id="9e113-119">Clients use access tokens tooaccess a protected resource.</span></span> <span data-ttu-id="9e113-120">En åtkomst-token kan användas endast för en specifik kombination av användare, klienten och resursen.</span><span class="sxs-lookup"><span data-stu-id="9e113-120">An access token can be used only for a specific combination of user, client, and resource.</span></span> <span data-ttu-id="9e113-121">Åtkomst-token kan inte återkallas och är giltiga tills de upphör att gälla.</span><span class="sxs-lookup"><span data-stu-id="9e113-121">Access tokens cannot be revoked and are valid until their expiry.</span></span> <span data-ttu-id="9e113-122">En skadlig aktören som har fått en åtkomst-token kan använda det för omfattningen av dess livslängd.</span><span class="sxs-lookup"><span data-stu-id="9e113-122">A malicious actor that has obtained an access token can use it for extent of its lifetime.</span></span> <span data-ttu-id="9e113-123">Justera hello livstid av en åtkomst-token är en kompromiss mellan förbättra systemets prestanda och ökar hello tidsperiod som hello klient behåller åtkomst efter hello användarkontot har inaktiverats.</span><span class="sxs-lookup"><span data-stu-id="9e113-123">Adjusting hello lifetime of an access token is a trade-off between improving system performance and increasing hello amount of time that hello client retains access after hello user’s account is disabled.</span></span> <span data-ttu-id="9e113-124">Förbättrad prestanda uppnås genom att minska hello antalet gånger som en klient måste tooacquire en ny åtkomsttoken.</span><span class="sxs-lookup"><span data-stu-id="9e113-124">Improved system performance is achieved by reducing hello number of times a client needs tooacquire a fresh access token.</span></span>

### <a name="refresh-tokens"></a><span data-ttu-id="9e113-125">Uppdatera token</span><span class="sxs-lookup"><span data-stu-id="9e113-125">Refresh tokens</span></span>
<span data-ttu-id="9e113-126">När en klient får en token tooaccess för åtkomst till en skyddad resurs, får hello klienten både en uppdateringstoken och en åtkomst-token.</span><span class="sxs-lookup"><span data-stu-id="9e113-126">When a client acquires an access token tooaccess a protected resource, hello client receives both a refresh token and an access token.</span></span> <span data-ttu-id="9e113-127">Hej uppdateringstoken är används tooobtain nya åtkomst/uppdatera token par när hello aktuella åtkomst-token upphör att gälla.</span><span class="sxs-lookup"><span data-stu-id="9e113-127">hello refresh token is used tooobtain new access/refresh token pairs when hello current access token expires.</span></span> <span data-ttu-id="9e113-128">En uppdateringstoken är bundna tooa kombination av användar- och klienten.</span><span class="sxs-lookup"><span data-stu-id="9e113-128">A refresh token is bound tooa combination of user and client.</span></span> <span data-ttu-id="9e113-129">En uppdateringstoken kan återkallas och hello token giltighet kontrolleras varje gång hello token används.</span><span class="sxs-lookup"><span data-stu-id="9e113-129">A refresh token can be revoked, and hello token's validity is checked every time hello token is used.</span></span>

<span data-ttu-id="9e113-130">Det är viktigt toomake åtskillnad mellan konfidentiell och offentliga klienter.</span><span class="sxs-lookup"><span data-stu-id="9e113-130">It's important toomake a distinction between confidential clients and public clients.</span></span> <span data-ttu-id="9e113-131">Läs mer om olika typer av klienter, [RFC 6749](https://tools.ietf.org/html/rfc6749#section-2.1).</span><span class="sxs-lookup"><span data-stu-id="9e113-131">For more information about different types of clients, see [RFC 6749](https://tools.ietf.org/html/rfc6749#section-2.1).</span></span>

#### <a name="token-lifetimes-with-confidential-client-refresh-tokens"></a><span data-ttu-id="9e113-132">Token livslängd med konfidentiella klienten uppdatera token</span><span class="sxs-lookup"><span data-stu-id="9e113-132">Token lifetimes with confidential client refresh tokens</span></span>
<span data-ttu-id="9e113-133">Konfidentiell klienter är program som kan lagras säkert lösenord klienten (hemliga).</span><span class="sxs-lookup"><span data-stu-id="9e113-133">Confidential clients are applications that can securely store a client password (secret).</span></span> <span data-ttu-id="9e113-134">De kan visa att förfrågningarna kommer från hello klientprogrammet och inte från en skadlig aktören.</span><span class="sxs-lookup"><span data-stu-id="9e113-134">They can prove that requests are coming from hello client application and not from a malicious actor.</span></span> <span data-ttu-id="9e113-135">Ett webbprogram är till exempel en konfidentiell klient eftersom det kan lagra en klienthemlighet på hello webbserver.</span><span class="sxs-lookup"><span data-stu-id="9e113-135">For example, a web app is a confidential client because it can store a client secret on hello web server.</span></span> <span data-ttu-id="9e113-136">Exponeras inte.</span><span class="sxs-lookup"><span data-stu-id="9e113-136">It is not exposed.</span></span> <span data-ttu-id="9e113-137">Eftersom dessa flöden är säkrare hello standard livslängd för uppdaterings-tokens som utfärdade toothese flöden är `until-revoked`, kan inte ändras med hjälp av Grupprincip och kommer inte att återkallas på frivilliga lösenordsåterställning.</span><span class="sxs-lookup"><span data-stu-id="9e113-137">Because these flows are more secure, hello default lifetimes of refresh tokens issued toothese flows is `until-revoked`, cannot be changed by using policy, and will not be revoked on voluntary password resets.</span></span>

#### <a name="token-lifetimes-with-public-client-refresh-tokens"></a><span data-ttu-id="9e113-138">Token livslängd med offentliga klienten uppdatera token</span><span class="sxs-lookup"><span data-stu-id="9e113-138">Token lifetimes with public client refresh tokens</span></span>

<span data-ttu-id="9e113-139">Offentliga klienter kan inte på ett säkert sätt att lagra ett klient-lösenord (hemliga).</span><span class="sxs-lookup"><span data-stu-id="9e113-139">Public clients cannot securely store a client password (secret).</span></span> <span data-ttu-id="9e113-140">En iOS/Android-app obfuscate inte en hemlighet från hello resurs-ägare, så är det en offentlig klient.</span><span class="sxs-lookup"><span data-stu-id="9e113-140">For example, an iOS/Android app cannot obfuscate a secret from hello resource owner, so it is considered a public client.</span></span> <span data-ttu-id="9e113-141">Du kan ange principer på resurser tooprevent uppdaterings-tokens från offentliga klienter som är äldre än en angiven period från att erhålla ett nytt åtkomst/uppdatera token par.</span><span class="sxs-lookup"><span data-stu-id="9e113-141">You can set policies on resources tooprevent refresh tokens from public clients older than a specified period from obtaining a new access/refresh token pair.</span></span> <span data-ttu-id="9e113-142">(toodo detta, Använd hello uppdatera Token inaktiva Maxtid egenskap.) Du kan också använda principer tooset en tidsperiod efter vilken hello uppdaterings-tokens accepteras inte längre.</span><span class="sxs-lookup"><span data-stu-id="9e113-142">(toodo this, use hello Refresh Token Max Inactive Time property.) You also can use policies tooset a period beyond which hello refresh tokens are no longer accepted.</span></span> <span data-ttu-id="9e113-143">(toodo detta, Använd hello uppdatera Token Max Age egenskap.) Du kan justera hello livslängden för en uppdatering token toocontrol när och hur ofta hello användaren är obligatoriska tooreenter autentiseringsuppgifter, i stället för att tyst återautentiseras, när du använder en offentlig klientprogrammet.</span><span class="sxs-lookup"><span data-stu-id="9e113-143">(toodo this, use hello Refresh Token Max Age property.) You can adjust hello lifetime of a refresh token toocontrol when and how often hello user is required tooreenter credentials, instead of being silently reauthenticated, when using a public client application.</span></span>

### <a name="id-tokens"></a><span data-ttu-id="9e113-144">ID-token</span><span class="sxs-lookup"><span data-stu-id="9e113-144">ID tokens</span></span>
<span data-ttu-id="9e113-145">ID-token skickas toowebsites och interna klienter.</span><span class="sxs-lookup"><span data-stu-id="9e113-145">ID tokens are passed toowebsites and native clients.</span></span> <span data-ttu-id="9e113-146">ID-token innehåller profilinformation om en användare.</span><span class="sxs-lookup"><span data-stu-id="9e113-146">ID tokens contain profile information about a user.</span></span> <span data-ttu-id="9e113-147">En ID-token är bundna tooa specifik kombination av användar- och klienten.</span><span class="sxs-lookup"><span data-stu-id="9e113-147">An ID token is bound tooa specific combination of user and client.</span></span> <span data-ttu-id="9e113-148">ID-token anses giltiga tills de upphör att gälla.</span><span class="sxs-lookup"><span data-stu-id="9e113-148">ID tokens are considered valid until their expiry.</span></span> <span data-ttu-id="9e113-149">Vanligtvis ett webbprogram matchar en användare har sessioners livstid i hello programmet toohello livstid hello-ID-token som utfärdas för hello användare.</span><span class="sxs-lookup"><span data-stu-id="9e113-149">Usually, a web application matches a user’s session lifetime in hello application toohello lifetime of hello ID token issued for hello user.</span></span> <span data-ttu-id="9e113-150">Du kan justera hello livslängden för ett ID token toocontrol hur ofta hello webbprogrammet upphör att gälla hello program och hur ofta kräver hello användaren toobe autentisera med Azure AD (tyst eller interaktivt).</span><span class="sxs-lookup"><span data-stu-id="9e113-150">You can adjust hello lifetime of an ID token toocontrol how often hello web application expires hello application session, and how often it requires hello user toobe reauthenticated with Azure AD (either silently or interactively).</span></span>

### <a name="single-sign-on-session-tokens"></a><span data-ttu-id="9e113-151">Enkel inloggning session token</span><span class="sxs-lookup"><span data-stu-id="9e113-151">Single sign-on session tokens</span></span>
<span data-ttu-id="9e113-152">När en användare autentiserar med Azure AD och väljer hello **Håll mig inloggad** kryssrutan, en enkel inloggning (SSO) upprättas session med hello användarens webbläsare och Azure AD.</span><span class="sxs-lookup"><span data-stu-id="9e113-152">When a user authenticates with Azure AD and selects hello **Keep me signed in** check box, a single sign-on session (SSO) is established with hello user’s browser and Azure AD.</span></span> <span data-ttu-id="9e113-153">hello SSO-token i hello form av en cookie representerar den här sessionen.</span><span class="sxs-lookup"><span data-stu-id="9e113-153">hello SSO token, in hello form of a cookie, represents this session.</span></span> <span data-ttu-id="9e113-154">Observera att hello SSO sessionstoken inte är bunden tooa specifika resurs/klientprogram.</span><span class="sxs-lookup"><span data-stu-id="9e113-154">Note that hello SSO session token is not bound tooa specific resource/client application.</span></span> <span data-ttu-id="9e113-155">SSO session token kan återkallas och deras giltighet kontrolleras varje gång de används.</span><span class="sxs-lookup"><span data-stu-id="9e113-155">SSO session tokens can be revoked, and their validity is checked every time they are used.</span></span>

<span data-ttu-id="9e113-156">Azure AD använder två typer av token för SSO-session: beständiga och Uppdateringsvärdet.</span><span class="sxs-lookup"><span data-stu-id="9e113-156">Azure AD uses two kinds of SSO session tokens: persistent and nonpersistent.</span></span> <span data-ttu-id="9e113-157">Beständiga session token lagras som beständiga cookies hello webbläsare.</span><span class="sxs-lookup"><span data-stu-id="9e113-157">Persistent session tokens are stored as persistent cookies by hello browser.</span></span> <span data-ttu-id="9e113-158">Uppdateringsvärdet session token lagras som sessions-cookies.</span><span class="sxs-lookup"><span data-stu-id="9e113-158">Nonpersistent session tokens are stored as session cookies.</span></span> <span data-ttu-id="9e113-159">(Sessionscookies förstörs när hello webbläsaren stängs.)</span><span class="sxs-lookup"><span data-stu-id="9e113-159">(Session cookies are destroyed when hello browser is closed.)</span></span>

<span data-ttu-id="9e113-160">Uppdateringsvärdet session token har en livslängd på 24 timmar.</span><span class="sxs-lookup"><span data-stu-id="9e113-160">Nonpersistent session tokens have a lifetime of 24 hours.</span></span> <span data-ttu-id="9e113-161">Beständiga token har en livslängd på 180 dagar.</span><span class="sxs-lookup"><span data-stu-id="9e113-161">Persistent tokens have a lifetime of 180 days.</span></span> <span data-ttu-id="9e113-162">Helst en SSO sessionstoken används inom sin giltighetstid förlängs hello giltighetstid annat 24 timmar eller 180 dagar, beroende på hello tokentyp.</span><span class="sxs-lookup"><span data-stu-id="9e113-162">Any time an SSO session token is used within its validity period, hello validity period is extended another 24 hours or 180 days, depending on hello token type.</span></span> <span data-ttu-id="9e113-163">Om en SSO sessionstoken inte används inom sin giltighetstid, anses det upphört att gälla och är inte längre att accepteras.</span><span class="sxs-lookup"><span data-stu-id="9e113-163">If an SSO session token is not used within its validity period, it is considered expired and is no longer accepted.</span></span>

<span data-ttu-id="9e113-164">Du kan använda en princip tooset hello tid när hello första sessionstoken utfärdades utöver vilka hello sessionstoken accepteras inte längre.</span><span class="sxs-lookup"><span data-stu-id="9e113-164">You can use a policy tooset hello time after hello first session token was issued beyond which hello session token is no longer accepted.</span></span> <span data-ttu-id="9e113-165">(toodo detta, Använd hello Session Token Max Age egenskap.) Du kan justera hello livslängden för en session token toocontrol när och hur ofta en användare är obligatoriska tooreenter autentiseringsuppgifter, i stället för tyst verifierats när du använder ett webbprogram.</span><span class="sxs-lookup"><span data-stu-id="9e113-165">(toodo this, use hello Session Token Max Age property.) You can adjust hello lifetime of a session token toocontrol when and how often a user is required tooreenter credentials, instead of being silently authenticated, when using a web application.</span></span>

### <a name="token-lifetime-policy-properties"></a><span data-ttu-id="9e113-166">Egenskaper för livslängd för token</span><span class="sxs-lookup"><span data-stu-id="9e113-166">Token lifetime policy properties</span></span>
<span data-ttu-id="9e113-167">En princip för livslängd för token är en typ av grupprincipobjekt som innehåller regler för livslängd för token.</span><span class="sxs-lookup"><span data-stu-id="9e113-167">A token lifetime policy is a type of policy object that contains token lifetime rules.</span></span> <span data-ttu-id="9e113-168">Använd hello egenskaper för hello princip toocontrol angetts livstid för token.</span><span class="sxs-lookup"><span data-stu-id="9e113-168">Use hello properties of hello policy toocontrol specified token lifetimes.</span></span> <span data-ttu-id="9e113-169">Om ingen princip har angetts, tillämpar hello system hello standardvärdet livslängd.</span><span class="sxs-lookup"><span data-stu-id="9e113-169">If no policy is set, hello system enforces hello default lifetime value.</span></span>

### <a name="configurable-token-lifetime-properties"></a><span data-ttu-id="9e113-170">Livslängd för token konfigurerbara egenskaper</span><span class="sxs-lookup"><span data-stu-id="9e113-170">Configurable token lifetime properties</span></span>
| <span data-ttu-id="9e113-171">Egenskap</span><span class="sxs-lookup"><span data-stu-id="9e113-171">Property</span></span> | <span data-ttu-id="9e113-172">Princip för egenskapssträng</span><span class="sxs-lookup"><span data-stu-id="9e113-172">Policy property string</span></span> | <span data-ttu-id="9e113-173">Påverkar</span><span class="sxs-lookup"><span data-stu-id="9e113-173">Affects</span></span> | <span data-ttu-id="9e113-174">Standard</span><span class="sxs-lookup"><span data-stu-id="9e113-174">Default</span></span> | <span data-ttu-id="9e113-175">Minimum</span><span class="sxs-lookup"><span data-stu-id="9e113-175">Minimum</span></span> | <span data-ttu-id="9e113-176">Maximalt</span><span class="sxs-lookup"><span data-stu-id="9e113-176">Maximum</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9e113-177">Livslängd för åtkomst-Token</span><span class="sxs-lookup"><span data-stu-id="9e113-177">Access Token Lifetime</span></span> |<span data-ttu-id="9e113-178">AccessTokenLifetime</span><span class="sxs-lookup"><span data-stu-id="9e113-178">AccessTokenLifetime</span></span> |<span data-ttu-id="9e113-179">Åtkomsttoken, ID-token, SAML2-token</span><span class="sxs-lookup"><span data-stu-id="9e113-179">Access tokens, ID tokens, SAML2 tokens</span></span> |<span data-ttu-id="9e113-180">1 timme</span><span class="sxs-lookup"><span data-stu-id="9e113-180">1 hour</span></span> |<span data-ttu-id="9e113-181">10 minuter</span><span class="sxs-lookup"><span data-stu-id="9e113-181">10 minutes</span></span> |<span data-ttu-id="9e113-182">1 dag</span><span class="sxs-lookup"><span data-stu-id="9e113-182">1 day</span></span> |
| <span data-ttu-id="9e113-183">Uppdatera Token inaktiva Maxtid</span><span class="sxs-lookup"><span data-stu-id="9e113-183">Refresh Token Max Inactive Time</span></span> |<span data-ttu-id="9e113-184">MaxInactiveTime</span><span class="sxs-lookup"><span data-stu-id="9e113-184">MaxInactiveTime</span></span> |<span data-ttu-id="9e113-185">Uppdatera token</span><span class="sxs-lookup"><span data-stu-id="9e113-185">Refresh tokens</span></span> |<span data-ttu-id="9e113-186">14 dagar</span><span class="sxs-lookup"><span data-stu-id="9e113-186">14 days</span></span> |<span data-ttu-id="9e113-187">10 minuter</span><span class="sxs-lookup"><span data-stu-id="9e113-187">10 minutes</span></span> |<span data-ttu-id="9e113-188">90 dagar</span><span class="sxs-lookup"><span data-stu-id="9e113-188">90 days</span></span> |
| <span data-ttu-id="9e113-189">Enskild faktor uppdatera Token maximal ålder</span><span class="sxs-lookup"><span data-stu-id="9e113-189">Single-Factor Refresh Token Max Age</span></span> |<span data-ttu-id="9e113-190">MaxAgeSingleFactor</span><span class="sxs-lookup"><span data-stu-id="9e113-190">MaxAgeSingleFactor</span></span> |<span data-ttu-id="9e113-191">Uppdatera token (för alla användare)</span><span class="sxs-lookup"><span data-stu-id="9e113-191">Refresh tokens (for any users)</span></span> |<span data-ttu-id="9e113-192">Tills återkallats</span><span class="sxs-lookup"><span data-stu-id="9e113-192">Until-revoked</span></span> |<span data-ttu-id="9e113-193">10 minuter</span><span class="sxs-lookup"><span data-stu-id="9e113-193">10 minutes</span></span> |<span data-ttu-id="9e113-194">Tills återkallas<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="9e113-194">Until-revoked<sup>1</sup></span></span> |
| <span data-ttu-id="9e113-195">Multi-Factor uppdatera Token maximal ålder</span><span class="sxs-lookup"><span data-stu-id="9e113-195">Multi-Factor Refresh Token Max Age</span></span> |<span data-ttu-id="9e113-196">MaxAgeMultiFactor</span><span class="sxs-lookup"><span data-stu-id="9e113-196">MaxAgeMultiFactor</span></span> |<span data-ttu-id="9e113-197">Uppdatera token (för alla användare)</span><span class="sxs-lookup"><span data-stu-id="9e113-197">Refresh tokens (for any users)</span></span> |<span data-ttu-id="9e113-198">Tills återkallats</span><span class="sxs-lookup"><span data-stu-id="9e113-198">Until-revoked</span></span> |<span data-ttu-id="9e113-199">10 minuter</span><span class="sxs-lookup"><span data-stu-id="9e113-199">10 minutes</span></span> |<span data-ttu-id="9e113-200">Tills återkallas<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="9e113-200">Until-revoked<sup>1</sup></span></span> |
| <span data-ttu-id="9e113-201">Enskild faktor Session Token maximal ålder</span><span class="sxs-lookup"><span data-stu-id="9e113-201">Single-Factor Session Token Max Age</span></span> |<span data-ttu-id="9e113-202">MaxAgeSessionSingleFactor<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="9e113-202">MaxAgeSessionSingleFactor<sup>2</sup></span></span> |<span data-ttu-id="9e113-203">Sessionen token (beständiga och Uppdateringsvärdet)</span><span class="sxs-lookup"><span data-stu-id="9e113-203">Session tokens (persistent and nonpersistent)</span></span> |<span data-ttu-id="9e113-204">Tills återkallats</span><span class="sxs-lookup"><span data-stu-id="9e113-204">Until-revoked</span></span> |<span data-ttu-id="9e113-205">10 minuter</span><span class="sxs-lookup"><span data-stu-id="9e113-205">10 minutes</span></span> |<span data-ttu-id="9e113-206">Tills återkallas<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="9e113-206">Until-revoked<sup>1</sup></span></span> |
| <span data-ttu-id="9e113-207">Multi-Factor Session Token maximal ålder</span><span class="sxs-lookup"><span data-stu-id="9e113-207">Multi-Factor Session Token Max Age</span></span> |<span data-ttu-id="9e113-208">MaxAgeSessionMultiFactor<sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="9e113-208">MaxAgeSessionMultiFactor<sup>3</sup></span></span> |<span data-ttu-id="9e113-209">Sessionen token (beständiga och Uppdateringsvärdet)</span><span class="sxs-lookup"><span data-stu-id="9e113-209">Session tokens (persistent and nonpersistent)</span></span> |<span data-ttu-id="9e113-210">Tills återkallats</span><span class="sxs-lookup"><span data-stu-id="9e113-210">Until-revoked</span></span> |<span data-ttu-id="9e113-211">10 minuter</span><span class="sxs-lookup"><span data-stu-id="9e113-211">10 minutes</span></span> |<span data-ttu-id="9e113-212">Tills återkallas<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="9e113-212">Until-revoked<sup>1</sup></span></span> |

* <span data-ttu-id="9e113-213"><sup>1</sup>365 dagar är hello explicit maxlängd som kan anges för dessa attribut.</span><span class="sxs-lookup"><span data-stu-id="9e113-213"><sup>1</sup>365 days is hello maximum explicit length that can be set for these attributes.</span></span>
* <span data-ttu-id="9e113-214"><sup>2</sup>om **MaxAgeSessionSingleFactor** är inte ange det här värdet tar hello **MaxAgeSingleFactor** värde.</span><span class="sxs-lookup"><span data-stu-id="9e113-214"><sup>2</sup>If  **MaxAgeSessionSingleFactor** is not set, this value takes hello **MaxAgeSingleFactor** value.</span></span> <span data-ttu-id="9e113-215">Om varken parametern anges tar hello egenskapen hello standardvärdet (förrän har återkallats).</span><span class="sxs-lookup"><span data-stu-id="9e113-215">If neither parameter is set, hello property takes hello default value (until-revoked).</span></span>
* <span data-ttu-id="9e113-216"><sup>3</sup>om **MaxAgeSessionMultiFactor** är inte ange det här värdet tar hello **MaxAgeMultiFactor** värde.</span><span class="sxs-lookup"><span data-stu-id="9e113-216"><sup>3</sup>If  **MaxAgeSessionMultiFactor** is not set, this value takes hello **MaxAgeMultiFactor** value.</span></span> <span data-ttu-id="9e113-217">Om varken parametern anges tar hello egenskapen hello standardvärdet (förrän har återkallats).</span><span class="sxs-lookup"><span data-stu-id="9e113-217">If neither parameter is set, hello property takes hello default value (until-revoked).</span></span>

### <a name="exceptions"></a><span data-ttu-id="9e113-218">Undantag</span><span class="sxs-lookup"><span data-stu-id="9e113-218">Exceptions</span></span>
| <span data-ttu-id="9e113-219">Egenskap</span><span class="sxs-lookup"><span data-stu-id="9e113-219">Property</span></span> | <span data-ttu-id="9e113-220">Påverkar</span><span class="sxs-lookup"><span data-stu-id="9e113-220">Affects</span></span> | <span data-ttu-id="9e113-221">Standard</span><span class="sxs-lookup"><span data-stu-id="9e113-221">Default</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9e113-222">Uppdatera Token Max Age (utfärdas för federerade användare har inte tillräckligt återkallningsinformation<sup>1</sup>)</span><span class="sxs-lookup"><span data-stu-id="9e113-222">Refresh Token Max Age (issued for federated users who have insufficient revocation information<sup>1</sup>)</span></span> |<span data-ttu-id="9e113-223">Uppdatera token (utfärdas för federerade användare har inte tillräckligt återkallningsinformation<sup>1</sup>)</span><span class="sxs-lookup"><span data-stu-id="9e113-223">Refresh tokens (issued for federated users who have insufficient revocation information<sup>1</sup>)</span></span> |<span data-ttu-id="9e113-224">12 timmar</span><span class="sxs-lookup"><span data-stu-id="9e113-224">12 hours</span></span> |
| <span data-ttu-id="9e113-225">Uppdatera Token inaktiva Maxtid (utfärdats för konfidentiell klienter)</span><span class="sxs-lookup"><span data-stu-id="9e113-225">Refresh Token Max Inactive Time (issued for confidential clients)</span></span> |<span data-ttu-id="9e113-226">Uppdatera token (utfärdats för konfidentiell klienter)</span><span class="sxs-lookup"><span data-stu-id="9e113-226">Refresh tokens (issued for confidential clients)</span></span> |<span data-ttu-id="9e113-227">90 dagar</span><span class="sxs-lookup"><span data-stu-id="9e113-227">90 days</span></span> |
| <span data-ttu-id="9e113-228">Uppdatera Token Max Age (utfärdats för konfidentiell klienter)</span><span class="sxs-lookup"><span data-stu-id="9e113-228">Refresh Token Max Age (issued for confidential clients)</span></span> |<span data-ttu-id="9e113-229">Uppdatera token (utfärdats för konfidentiell klienter)</span><span class="sxs-lookup"><span data-stu-id="9e113-229">Refresh tokens (issued for confidential clients)</span></span> |<span data-ttu-id="9e113-230">Tills återkallats</span><span class="sxs-lookup"><span data-stu-id="9e113-230">Until-revoked</span></span> |

* <span data-ttu-id="9e113-231"><sup>1</sup>externa användare har inte tillräckligt återkallningsinformation som innehåller alla användare som inte har hello ”LastPasswordChangeTimestamp”-attribut som synkroniseras.</span><span class="sxs-lookup"><span data-stu-id="9e113-231"><sup>1</sup>Federated users who have insufficient revocation information include any users who do not have hello "LastPasswordChangeTimestamp" attribute synced.</span></span> <span data-ttu-id="9e113-232">Dessa användare får den här korta Max Age eftersom AAD är tooverify när toorevoke token som är knutna tooan gamla autentiseringsuppgifter (till exempel ett lösenord som har ändrats) och måste kontrollera tillbaka i oftare tooensure hello användaren och associerade token är fortfarande i god position.</span><span class="sxs-lookup"><span data-stu-id="9e113-232">These users are given this short Max Age because AAD is unable tooverify when toorevoke tokens that are tied tooan old credential (such as a password that has been changed) and must check back in more frequently tooensure that hello user and associated tokens are still in good standing.</span></span> <span data-ttu-id="9e113-233">tooimprove upplevelsen, klient som administratörer måste se till att de synkroniserar hello ”LastPasswordChangeTimestamp”-attribut (Detta kan ställas in på hello användarobjekt med hjälp av Powershell eller via AADSync).</span><span class="sxs-lookup"><span data-stu-id="9e113-233">tooimprove this experience, tenant admins must ensure that they are syncing hello “LastPasswordChangeTimestamp” attribute (this can be set on hello user object using Powershell or through AADSync).</span></span>

### <a name="policy-evaluation-and-prioritization"></a><span data-ttu-id="9e113-234">För principutvärdering och prioritering</span><span class="sxs-lookup"><span data-stu-id="9e113-234">Policy evaluation and prioritization</span></span>
<span data-ttu-id="9e113-235">Du kan skapa och tilldela ett specifikt program för livslängd för token princip tooa, tooyour organisation och tooservice säkerhetsobjekt.</span><span class="sxs-lookup"><span data-stu-id="9e113-235">You can create and then assign a token lifetime policy tooa specific application, tooyour organization, and tooservice principals.</span></span> <span data-ttu-id="9e113-236">Flera principer kan tillämpas tooa specifika program.</span><span class="sxs-lookup"><span data-stu-id="9e113-236">Multiple policies might apply tooa specific application.</span></span> <span data-ttu-id="9e113-237">Dessa regler: hello livslängd för token-princip som påverkas</span><span class="sxs-lookup"><span data-stu-id="9e113-237">hello token lifetime policy that takes effect follows these rules:</span></span>

* <span data-ttu-id="9e113-238">Om en princip specifikt tilldelas toohello tjänstens huvudnamn, tillämpas.</span><span class="sxs-lookup"><span data-stu-id="9e113-238">If a policy is explicitly assigned toohello service principal, it is enforced.</span></span>
* <span data-ttu-id="9e113-239">Om ingen princip är uttryckligen har tilldelats toohello tjänstens huvudnamn, tillämpas en princip som tilldelats toohello överordnad organisation för hello tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="9e113-239">If no policy is explicitly assigned toohello service principal, a policy explicitly assigned toohello parent organization of hello service principal is enforced.</span></span>
* <span data-ttu-id="9e113-240">Om ingen princip uttryckligen har tilldelats toohello tjänstens huvudnamn eller toohello organisation, tillämpas hello tilldelat toohello program.</span><span class="sxs-lookup"><span data-stu-id="9e113-240">If no policy is explicitly assigned toohello service principal or toohello organization, hello policy assigned toohello application is enforced.</span></span>
* <span data-ttu-id="9e113-241">Ingen princip har tilldelats toohello service principal, hello organisation eller hello programobjektet hello standardvärden framtvingas.</span><span class="sxs-lookup"><span data-stu-id="9e113-241">If no policy has been assigned toohello service principal, hello organization, or hello application object, hello default values is enforced.</span></span> <span data-ttu-id="9e113-242">(Se tabellen hello i [livslängd för token konfigurerbara egenskaper](#configurable-token-lifetime-properties).)</span><span class="sxs-lookup"><span data-stu-id="9e113-242">(See hello table in [Configurable token lifetime properties](#configurable-token-lifetime-properties).)</span></span>

<span data-ttu-id="9e113-243">Läs mer om hello relation mellan program och tjänstens huvudnamn objekt [program och tjänstens huvudnamn objekt i Azure Active Directory](active-directory-application-objects.md).</span><span class="sxs-lookup"><span data-stu-id="9e113-243">For more information about hello relationship between application objects and service principal objects, see [Application and service principal objects in Azure Active Directory](active-directory-application-objects.md).</span></span>

<span data-ttu-id="9e113-244">En token giltigheten utvärderas när hello hello token används.</span><span class="sxs-lookup"><span data-stu-id="9e113-244">A token’s validity is evaluated at hello time hello token is used.</span></span> <span data-ttu-id="9e113-245">hello-princip med hello högsta prioriteten på hello-program som används börjar gälla.</span><span class="sxs-lookup"><span data-stu-id="9e113-245">hello policy with hello highest priority on hello application that is being accessed takes effect.</span></span>

> [!NOTE]
> <span data-ttu-id="9e113-246">Här är ett exempel.</span><span class="sxs-lookup"><span data-stu-id="9e113-246">Here's an example scenario.</span></span>
>
> <span data-ttu-id="9e113-247">En användare vill tooaccess två webbprogram: A-webbprogram och Web Application B.</span><span class="sxs-lookup"><span data-stu-id="9e113-247">A user wants tooaccess two web applications: Web Application A and Web Application B.</span></span>
> 
> <span data-ttu-id="9e113-248">Faktorer:</span><span class="sxs-lookup"><span data-stu-id="9e113-248">Factors:</span></span>
> * <span data-ttu-id="9e113-249">Både webbprogram finns i hello samma överordnade organisation.</span><span class="sxs-lookup"><span data-stu-id="9e113-249">Both web applications are in hello same parent organization.</span></span>
> * <span data-ttu-id="9e113-250">Token livstid princip 1 med en Session Token Max Age åtta timmar har angetts som standard hello överordnade organisationen.</span><span class="sxs-lookup"><span data-stu-id="9e113-250">Token Lifetime Policy 1 with a Session Token Max Age of eight hours is set as hello parent organization’s default.</span></span>
> * <span data-ttu-id="9e113-251">Webbprogrammet A är en vanlig användning webbprogram som är inte länkade tooany principer.</span><span class="sxs-lookup"><span data-stu-id="9e113-251">Web Application A is a regular-use web application and isn’t linked tooany policies.</span></span>
> * <span data-ttu-id="9e113-252">Web Application B används för mycket känslig processer.</span><span class="sxs-lookup"><span data-stu-id="9e113-252">Web Application B is used for highly sensitive processes.</span></span> <span data-ttu-id="9e113-253">Tjänsten som är länkade tooToken livstid princip 2, som har en Session Token Max Age 30 minuter.</span><span class="sxs-lookup"><span data-stu-id="9e113-253">Its service principal is linked tooToken Lifetime Policy 2, which has a Session Token Max Age of 30 minutes.</span></span>
>
> <span data-ttu-id="9e113-254">Klockan 12:00, hello användaren startar en ny webbläsarsession och försöker tooaccess Web Application A. hello är omdirigerade tooAzure AD och begärs toosign i.</span><span class="sxs-lookup"><span data-stu-id="9e113-254">At 12:00 PM, hello user starts a new browser session and tries tooaccess Web Application A. hello user is redirected tooAzure AD and is asked toosign in.</span></span> <span data-ttu-id="9e113-255">Detta skapar en cookie som har en sessionstoken i hello webbläsare.</span><span class="sxs-lookup"><span data-stu-id="9e113-255">This creates a cookie that has a session token in hello browser.</span></span> <span data-ttu-id="9e113-256">hello användaren är omdirigerade tillbaka tooWeb ett program med en ID-token som gör att hello användaren tooaccess hello program.</span><span class="sxs-lookup"><span data-stu-id="9e113-256">hello user is redirected back tooWeb Application A with an ID token that allows hello user tooaccess hello application.</span></span>
>
> <span data-ttu-id="9e113-257">Klockan 12:15 försöker hello användare tooaccess Web Application B. hello webbläsare omdirigerar tooAzure AD, som identifierar hello sessions-cookie.</span><span class="sxs-lookup"><span data-stu-id="9e113-257">At 12:15 PM, hello user tries tooaccess Web Application B. hello browser redirects tooAzure AD, which detects hello session cookie.</span></span> <span data-ttu-id="9e113-258">Web Application B tjänstens huvudnamn är länkade tooToken livstid princip 2, men det är också en del av hello överordnade organisation standard Token livstid princip 1.</span><span class="sxs-lookup"><span data-stu-id="9e113-258">Web Application B’s service principal is linked tooToken Lifetime Policy 2, but it's also part of hello parent organization, with default Token Lifetime Policy 1.</span></span> <span data-ttu-id="9e113-259">Token livstid princip 2 börjar gälla eftersom principer länkade tooservice säkerhetsobjekt har högre prioritet än standardprinciperna för organisationen.</span><span class="sxs-lookup"><span data-stu-id="9e113-259">Token Lifetime Policy 2 takes effect because policies linked tooservice principals have a higher priority than organization default policies.</span></span> <span data-ttu-id="9e113-260">hello sessionstoken ursprungligen utfärdades inom hello senaste 30 minuterna, så att det ska vara giltigt.</span><span class="sxs-lookup"><span data-stu-id="9e113-260">hello session token was originally issued within hello last 30 minutes, so it is considered valid.</span></span> <span data-ttu-id="9e113-261">hello användaren är omdirigerade tillbaka tooWeb programmet B med en ID-token som ger dem behörighet.</span><span class="sxs-lookup"><span data-stu-id="9e113-261">hello user is redirected back tooWeb Application B with an ID token that grants them access.</span></span>
>
> <span data-ttu-id="9e113-262">Klockan 13:00 är hello försöker tooaccess Web Application A. hello användare omdirigerade tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="9e113-262">At 1:00 PM, hello user tries tooaccess Web Application A. hello user is redirected tooAzure AD.</span></span> <span data-ttu-id="9e113-263">Webbplatsen programmet är inte länkade tooany principer, men eftersom den är i en organisation med standard Token livstid princip 1 principen träder i kraft.</span><span class="sxs-lookup"><span data-stu-id="9e113-263">Web Application A is not linked tooany policies, but because it is in an organization with default Token Lifetime Policy 1, that policy takes effect.</span></span> <span data-ttu-id="9e113-264">hello sessions-cookie som ursprungligen utfärdades inom hello senaste åtta timmar har identifierats.</span><span class="sxs-lookup"><span data-stu-id="9e113-264">hello session cookie that was originally issued within hello last eight hours is detected.</span></span> <span data-ttu-id="9e113-265">hello användaren är tyst omdirigerade tillbaka tooWeb ett program med en ny ID-token.</span><span class="sxs-lookup"><span data-stu-id="9e113-265">hello user is silently redirected back tooWeb Application A with a new ID token.</span></span> <span data-ttu-id="9e113-266">hello användaren är inte obligatoriska tooauthenticate.</span><span class="sxs-lookup"><span data-stu-id="9e113-266">hello user is not required tooauthenticate.</span></span>
>
> <span data-ttu-id="9e113-267">Omedelbart efteråt, hello användare försöker är tooaccess Web Application B. hello användaren omdirigerade tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="9e113-267">Immediately afterward, hello user tries tooaccess Web Application B. hello user is redirected tooAzure AD.</span></span> <span data-ttu-id="9e113-268">Som börjar tidigare, Token livstid princip 2 gälla.</span><span class="sxs-lookup"><span data-stu-id="9e113-268">As before, Token Lifetime Policy 2 takes effect.</span></span> <span data-ttu-id="9e113-269">Eftersom hello token utfärdas mer än 30 minuter sedan, hello användaren är begärd tooreenter sina inloggningsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="9e113-269">Because hello token was issued more than 30 minutes ago, hello user is prompted tooreenter their sign-in credentials.</span></span> <span data-ttu-id="9e113-270">En helt ny sessionstoken och ID-token utfärdas.</span><span class="sxs-lookup"><span data-stu-id="9e113-270">A brand-new session token and ID token are issued.</span></span> <span data-ttu-id="9e113-271">hello-användare kan sedan komma åt Web Application B.</span><span class="sxs-lookup"><span data-stu-id="9e113-271">hello user can then access Web Application B.</span></span>
>
>

## <a name="configurable-policy-property-details"></a><span data-ttu-id="9e113-272">Information om konfigurerbar princip</span><span class="sxs-lookup"><span data-stu-id="9e113-272">Configurable policy property details</span></span>
### <a name="access-token-lifetime"></a><span data-ttu-id="9e113-273">Livslängd för åtkomst-Token</span><span class="sxs-lookup"><span data-stu-id="9e113-273">Access Token Lifetime</span></span>
<span data-ttu-id="9e113-274">**Sträng:** AccessTokenLifetime</span><span class="sxs-lookup"><span data-stu-id="9e113-274">**String:** AccessTokenLifetime</span></span>

<span data-ttu-id="9e113-275">**Påverkar:** åtkomsttoken, ID-token</span><span class="sxs-lookup"><span data-stu-id="9e113-275">**Affects:** Access tokens, ID tokens</span></span>

<span data-ttu-id="9e113-276">**Sammanfattning:** den här principen styr hur länge åtkomst och ID-token för den här resursen är giltiga.</span><span class="sxs-lookup"><span data-stu-id="9e113-276">**Summary:** This policy controls how long access and ID tokens for this resource are considered valid.</span></span> <span data-ttu-id="9e113-277">Minska hello åtkomst livslängd för Token egenskapen minskar hello risken för en åtkomst-token eller en ID-token som används av en skadlig aktören under en längre tidsperiod.</span><span class="sxs-lookup"><span data-stu-id="9e113-277">Reducing hello Access Token Lifetime property mitigates hello risk of an access token or ID token being used by a malicious actor for an extended period of time.</span></span> <span data-ttu-id="9e113-278">(Dessa token kan inte återkallas.) hello kompromiss är att prestanda påverkas negativt, eftersom hello token har toobe ersättas oftare.</span><span class="sxs-lookup"><span data-stu-id="9e113-278">(These tokens cannot be revoked.) hello trade-off is that performance is adversely affected, because hello tokens have toobe replaced more often.</span></span>

### <a name="refresh-token-max-inactive-time"></a><span data-ttu-id="9e113-279">Uppdatera Token inaktiva Maxtid</span><span class="sxs-lookup"><span data-stu-id="9e113-279">Refresh Token Max Inactive Time</span></span>
<span data-ttu-id="9e113-280">**Sträng:** MaxInactiveTime</span><span class="sxs-lookup"><span data-stu-id="9e113-280">**String:** MaxInactiveTime</span></span>

<span data-ttu-id="9e113-281">**Påverkar:** Uppdateringstoken</span><span class="sxs-lookup"><span data-stu-id="9e113-281">**Affects:** Refresh tokens</span></span>

<span data-ttu-id="9e113-282">**Sammanfattning:** den här principen styr hur gammal en uppdateringstoken kan vara innan en klient kan inte längre använda den tooretrieve ett nytt åtkomst/uppdatera token par vid försök tooaccess den här resursen.</span><span class="sxs-lookup"><span data-stu-id="9e113-282">**Summary:** This policy controls how old a refresh token can be before a client can no longer use it tooretrieve a new access/refresh token pair when attempting tooaccess this resource.</span></span> <span data-ttu-id="9e113-283">Eftersom en ny uppdateringstoken vanligtvis returneras när en uppdateringstoken används förhindrar den här principen åtkomst om hello klienten försöker tooaccess någon resurs med hjälp av hello aktuella uppdateringstoken under hello angiven tidsperiod.</span><span class="sxs-lookup"><span data-stu-id="9e113-283">Because a new refresh token usually is returned when a refresh token is used, this policy prevents access if hello client tries tooaccess any resource by using hello current refresh token during hello specified period of time.</span></span>

<span data-ttu-id="9e113-284">Den här principen gör att användare som inte har varit aktivt på deras klient tooreauthenticate tooretrieve en ny uppdateringstoken.</span><span class="sxs-lookup"><span data-stu-id="9e113-284">This policy forces users who have not been active on their client tooreauthenticate tooretrieve a new refresh token.</span></span>

<span data-ttu-id="9e113-285">hello uppdatera Token inaktiva Maxtid egenskapen måste anges tooa lägre värde än hello enskild faktor Token Max Age och hello Multi-Factor uppdatera Token Max Age egenskaper.</span><span class="sxs-lookup"><span data-stu-id="9e113-285">hello Refresh Token Max Inactive Time property must be set tooa lower value than hello Single-Factor Token Max Age and hello Multi-Factor Refresh Token Max Age properties.</span></span>

### <a name="single-factor-refresh-token-max-age"></a><span data-ttu-id="9e113-286">Enskild faktor uppdatera Token maximal ålder</span><span class="sxs-lookup"><span data-stu-id="9e113-286">Single-Factor Refresh Token Max Age</span></span>
<span data-ttu-id="9e113-287">**Sträng:** MaxAgeSingleFactor</span><span class="sxs-lookup"><span data-stu-id="9e113-287">**String:** MaxAgeSingleFactor</span></span>

<span data-ttu-id="9e113-288">**Påverkar:** Uppdateringstoken</span><span class="sxs-lookup"><span data-stu-id="9e113-288">**Affects:** Refresh tokens</span></span>

<span data-ttu-id="9e113-289">**Sammanfattning:** den här principen styr hur lång tid en användare kan använda en uppdatering token tooget en ny åtkomst/uppdatera token par efter de senaste autentiseras korrekt med hjälp av bara en enda faktor.</span><span class="sxs-lookup"><span data-stu-id="9e113-289">**Summary:** This policy controls how long a user can use a refresh token tooget a new access/refresh token pair after they last authenticated successfully by using only a single factor.</span></span> <span data-ttu-id="9e113-290">När en användare autentiseras och tar emot en ny uppdateringstoken, hello användaren kan använda hello uppdatering tokenflöde för hello angetts period tid.</span><span class="sxs-lookup"><span data-stu-id="9e113-290">After a user authenticates and receives a new refresh token, hello user can use hello refresh token flow for hello specified period of time.</span></span> <span data-ttu-id="9e113-291">(Detta är SANT så länge hello aktuella uppdateringstoken inte har återkallats och det inte inte används längre än hello inaktiva tiden.) Vid den punkten är hello användaren framtvingad tooreauthenticate tooreceive en ny uppdateringstoken.</span><span class="sxs-lookup"><span data-stu-id="9e113-291">(This is true as long as hello current refresh token is not revoked, and it is not left unused for longer than hello inactive time.) At that point, hello user is forced tooreauthenticate tooreceive a new refresh token.</span></span>

<span data-ttu-id="9e113-292">Minska maximal ålder för hello tvingar användare tooauthenticate oftare.</span><span class="sxs-lookup"><span data-stu-id="9e113-292">Reducing hello max age forces users tooauthenticate more often.</span></span> <span data-ttu-id="9e113-293">Eftersom single-factor-autentisering anses vara mindre säkert än multifaktorautentisering, rekommenderar vi att du använder egenskapen tooa värdet som är lika tooor mindre än hello Multi-Factor uppdatera Token Max Age egenskapen.</span><span class="sxs-lookup"><span data-stu-id="9e113-293">Because single-factor authentication is considered less secure than multi-factor authentication, we recommend that you set this property tooa value that is equal tooor lesser than hello Multi-Factor Refresh Token Max Age property.</span></span>

### <a name="multi-factor-refresh-token-max-age"></a><span data-ttu-id="9e113-294">Multi-Factor uppdatera Token maximal ålder</span><span class="sxs-lookup"><span data-stu-id="9e113-294">Multi-Factor Refresh Token Max Age</span></span>
<span data-ttu-id="9e113-295">**Sträng:** MaxAgeMultiFactor</span><span class="sxs-lookup"><span data-stu-id="9e113-295">**String:** MaxAgeMultiFactor</span></span>

<span data-ttu-id="9e113-296">**Påverkar:** Uppdateringstoken</span><span class="sxs-lookup"><span data-stu-id="9e113-296">**Affects:** Refresh tokens</span></span>

<span data-ttu-id="9e113-297">**Sammanfattning:** den här principen styr hur lång tid en användare kan använda en uppdatering token tooget en ny åtkomst/uppdatera token par efter de senaste autentiseras korrekt med hjälp av flera faktorer.</span><span class="sxs-lookup"><span data-stu-id="9e113-297">**Summary:** This policy controls how long a user can use a refresh token tooget a new access/refresh token pair after they last authenticated successfully by using multiple factors.</span></span> <span data-ttu-id="9e113-298">När en användare autentiseras och tar emot en ny uppdateringstoken, hello användaren kan använda hello uppdatering tokenflöde för hello angetts period tid.</span><span class="sxs-lookup"><span data-stu-id="9e113-298">After a user authenticates and receives a new refresh token, hello user can use hello refresh token flow for hello specified period of time.</span></span> <span data-ttu-id="9e113-299">(Detta är SANT så länge hello aktuella uppdateringstoken inte har återkallats och är inte inte används längre än hello inaktiva tiden.) Då tvingas användarna tooreauthenticate tooreceive en ny uppdateringstoken.</span><span class="sxs-lookup"><span data-stu-id="9e113-299">(This is true as long as hello current refresh token is not revoked, and it is not unused for longer than hello inactive time.) At that point, users are forced tooreauthenticate tooreceive a new refresh token.</span></span>

<span data-ttu-id="9e113-300">Minska maximal ålder för hello tvingar användare tooauthenticate oftare.</span><span class="sxs-lookup"><span data-stu-id="9e113-300">Reducing hello max age forces users tooauthenticate more often.</span></span> <span data-ttu-id="9e113-301">Eftersom single-factor-autentisering anses vara mindre säkert än multifaktorautentisering, rekommenderar vi att du har angett den här egenskapen tooa-värde som är lika tooor som är större än hello enskild faktor uppdatera Token Max Age egenskapen.</span><span class="sxs-lookup"><span data-stu-id="9e113-301">Because single-factor authentication is considered less secure than multi-factor authentication, we recommend that you set this property tooa value that is equal tooor greater than hello Single-Factor Refresh Token Max Age property.</span></span>

### <a name="single-factor-session-token-max-age"></a><span data-ttu-id="9e113-302">Enskild faktor Session Token maximal ålder</span><span class="sxs-lookup"><span data-stu-id="9e113-302">Single-Factor Session Token Max Age</span></span>
<span data-ttu-id="9e113-303">**Sträng:** MaxAgeSessionSingleFactor</span><span class="sxs-lookup"><span data-stu-id="9e113-303">**String:** MaxAgeSessionSingleFactor</span></span>

<span data-ttu-id="9e113-304">**Påverkar:** Session token (beständiga och Uppdateringsvärdet)</span><span class="sxs-lookup"><span data-stu-id="9e113-304">**Affects:** Session tokens (persistent and nonpersistent)</span></span>

<span data-ttu-id="9e113-305">**Sammanfattning:** den här principen styr hur lång tid en användare kan använda en session token tooget ett nytt-ID och session token när de senast autentiseras korrekt med bara en enda faktor.</span><span class="sxs-lookup"><span data-stu-id="9e113-305">**Summary:** This policy controls how long a user can use a session token tooget a new ID and session token after they last authenticated successfully by using only a single factor.</span></span> <span data-ttu-id="9e113-306">När en användare autentiseras och tar emot en ny session-token, hello användaren kan använda hello session tokenflöde för hello angetts period tid.</span><span class="sxs-lookup"><span data-stu-id="9e113-306">After a user authenticates and receives a new session token, hello user can use hello session token flow for hello specified period of time.</span></span> <span data-ttu-id="9e113-307">(Detta är SANT så länge hello aktuella sessionstoken som inte har återkallats och inte har upphört att gälla.) När hello angett tidsperiod, är hello användaren framtvingad tooreauthenticate tooreceive en ny session-token.</span><span class="sxs-lookup"><span data-stu-id="9e113-307">(This is true as long as hello current session token is not revoked and has not expired.) After hello specified period of time, hello user is forced tooreauthenticate tooreceive a new session token.</span></span>

<span data-ttu-id="9e113-308">Minska maximal ålder för hello tvingar användare tooauthenticate oftare.</span><span class="sxs-lookup"><span data-stu-id="9e113-308">Reducing hello max age forces users tooauthenticate more often.</span></span> <span data-ttu-id="9e113-309">Eftersom single-factor-autentisering anses vara mindre säkert än multifaktorautentisering, rekommenderar vi att du har angett den här egenskapen tooa-värde som är lika tooor som är mindre än hello Multi-Factor Session Token Max Age egenskap.</span><span class="sxs-lookup"><span data-stu-id="9e113-309">Because single-factor authentication is considered less secure than multi-factor authentication, we recommend that you set this property tooa value that is equal tooor less than hello Multi-Factor Session Token Max Age property.</span></span>

### <a name="multi-factor-session-token-max-age"></a><span data-ttu-id="9e113-310">Multi-Factor Session Token maximal ålder</span><span class="sxs-lookup"><span data-stu-id="9e113-310">Multi-Factor Session Token Max Age</span></span>
<span data-ttu-id="9e113-311">**Sträng:** MaxAgeSessionMultiFactor</span><span class="sxs-lookup"><span data-stu-id="9e113-311">**String:** MaxAgeSessionMultiFactor</span></span>

<span data-ttu-id="9e113-312">**Påverkar:** Session token (beständiga och Uppdateringsvärdet)</span><span class="sxs-lookup"><span data-stu-id="9e113-312">**Affects:** Session tokens (persistent and nonpersistent)</span></span>

<span data-ttu-id="9e113-313">**Sammanfattning:** den här principen styr hur lång tid en användare kan använda en session token tooget ett nytt-ID och session token efter hello senast som de har autentiseras med hjälp av flera faktorer.</span><span class="sxs-lookup"><span data-stu-id="9e113-313">**Summary:** This policy controls how long a user can use a session token tooget a new ID and session token after hello last time they authenticated successfully by using multiple factors.</span></span> <span data-ttu-id="9e113-314">När en användare autentiseras och tar emot en ny session-token, hello användaren kan använda hello session tokenflöde för hello angetts period tid.</span><span class="sxs-lookup"><span data-stu-id="9e113-314">After a user authenticates and receives a new session token, hello user can use hello session token flow for hello specified period of time.</span></span> <span data-ttu-id="9e113-315">(Detta är SANT så länge hello aktuella sessionstoken som inte har återkallats och inte har upphört att gälla.) När hello angett tidsperiod, är hello användaren framtvingad tooreauthenticate tooreceive en ny session-token.</span><span class="sxs-lookup"><span data-stu-id="9e113-315">(This is true as long as hello current session token is not revoked and has not expired.) After hello specified period of time, hello user is forced tooreauthenticate tooreceive a new session token.</span></span>

<span data-ttu-id="9e113-316">Minska maximal ålder för hello tvingar användare tooauthenticate oftare.</span><span class="sxs-lookup"><span data-stu-id="9e113-316">Reducing hello max age forces users tooauthenticate more often.</span></span> <span data-ttu-id="9e113-317">Eftersom single-factor-autentisering anses vara mindre säkert än multifaktorautentisering, rekommenderar vi att du har angett den här egenskapen tooa-värde som är lika tooor som är större än hello enskild faktor Session Token Max Age egenskapen.</span><span class="sxs-lookup"><span data-stu-id="9e113-317">Because single-factor authentication is considered less secure than multi-factor authentication, we recommend that you set this property tooa value that is equal tooor greater than hello Single-Factor Session Token Max Age property.</span></span>

## <a name="example-token-lifetime-policies"></a><span data-ttu-id="9e113-318">Exempel på principer livslängd för token</span><span class="sxs-lookup"><span data-stu-id="9e113-318">Example token lifetime policies</span></span>
<span data-ttu-id="9e113-319">Många scenarier är möjliga i Azure AD när du kan skapa och hantera token livslängd för appar, tjänstens huvudnamn och din organisation.</span><span class="sxs-lookup"><span data-stu-id="9e113-319">Many scenarios are possible in Azure AD when you can create and manage token lifetimes for apps, service principals, and your overall organization.</span></span> <span data-ttu-id="9e113-320">I det här avsnittet går vi igenom några vanliga princip scenarier som kan hjälpa dig att införa nya regler för:</span><span class="sxs-lookup"><span data-stu-id="9e113-320">In this section, we walk through a few common policy scenarios that can help you impose new rules for:</span></span>

* <span data-ttu-id="9e113-321">Livslängd för token</span><span class="sxs-lookup"><span data-stu-id="9e113-321">Token Lifetime</span></span>
* <span data-ttu-id="9e113-322">Token inaktiva Maxtid</span><span class="sxs-lookup"><span data-stu-id="9e113-322">Token Max Inactive Time</span></span>
* <span data-ttu-id="9e113-323">Token maximal ålder</span><span class="sxs-lookup"><span data-stu-id="9e113-323">Token Max Age</span></span>

<span data-ttu-id="9e113-324">I hello exempel kan du lära dig hur du:</span><span class="sxs-lookup"><span data-stu-id="9e113-324">In hello examples, you can learn how to:</span></span>

* <span data-ttu-id="9e113-325">Hantera standardprincipen för en organisation</span><span class="sxs-lookup"><span data-stu-id="9e113-325">Manage an organization's default policy</span></span>
* <span data-ttu-id="9e113-326">Skapa en princip för web-inloggning</span><span class="sxs-lookup"><span data-stu-id="9e113-326">Create a policy for web sign-in</span></span>
* <span data-ttu-id="9e113-327">Skapa en princip för en intern app som anropar ett webb-API</span><span class="sxs-lookup"><span data-stu-id="9e113-327">Create a policy for a native app that calls a web API</span></span>
* <span data-ttu-id="9e113-328">Hantera en princip för Avancerat</span><span class="sxs-lookup"><span data-stu-id="9e113-328">Manage an advanced policy</span></span>

### <a name="prerequisites"></a><span data-ttu-id="9e113-329">Krav</span><span class="sxs-lookup"><span data-stu-id="9e113-329">Prerequisites</span></span>
<span data-ttu-id="9e113-330">I följande exempel hello, du skapa, uppdatera, länkar och ta bort principer för appar, tjänstens huvudnamn och din organisation.</span><span class="sxs-lookup"><span data-stu-id="9e113-330">In hello following examples, you create, update, link, and delete policies for apps, service principals, and your overall organization.</span></span> <span data-ttu-id="9e113-331">Om du är ny tooAzure AD, rekommenderar vi att du lär dig mer om [hur tooget en Azure AD-klient](active-directory-howto-tenant.md) innan du fortsätter med de här exemplen.</span><span class="sxs-lookup"><span data-stu-id="9e113-331">If you are new tooAzure AD, we recommend that you learn about [how tooget an Azure AD tenant](active-directory-howto-tenant.md) before you proceed with these examples.</span></span>  

<span data-ttu-id="9e113-332">tooget igång, hello följande steg:</span><span class="sxs-lookup"><span data-stu-id="9e113-332">tooget started, do hello following steps:</span></span>

1. <span data-ttu-id="9e113-333">Hämta senaste hello [Azure AD PowerShell-modulen offentliga förhandsversionen](https://www.powershellgallery.com/packages/AzureADPreview).</span><span class="sxs-lookup"><span data-stu-id="9e113-333">Download hello latest [Azure AD PowerShell Module Public Preview release](https://www.powershellgallery.com/packages/AzureADPreview).</span></span>
2. <span data-ttu-id="9e113-334">Kör hello `Connect` kommandot toosign i tooyour Azure AD-administratörskonto.</span><span class="sxs-lookup"><span data-stu-id="9e113-334">Run hello `Connect` command toosign in tooyour Azure AD admin account.</span></span> <span data-ttu-id="9e113-335">Kör det här kommandot varje gång startar du en ny session.</span><span class="sxs-lookup"><span data-stu-id="9e113-335">Run this command each time you start a new session.</span></span>

    ```PowerShell
    Connect-AzureAD -Confirm
    ```

3. <span data-ttu-id="9e113-336">toosee alla principer som har skapats i din organisation, kör hello efter kommandot.</span><span class="sxs-lookup"><span data-stu-id="9e113-336">toosee all policies that have been created in your organization, run hello following command.</span></span> <span data-ttu-id="9e113-337">Kör detta kommando efter de flesta åtgärder i hello följande scenarier.</span><span class="sxs-lookup"><span data-stu-id="9e113-337">Run this command after most operations in hello following scenarios.</span></span> <span data-ttu-id="9e113-338">Kör kommandot hello också hjälper dig att börja hello ** ** dina principer.</span><span class="sxs-lookup"><span data-stu-id="9e113-338">Running hello command also helps you get hello ** ** of your policies.</span></span>

    ```PowerShell
    Get-AzureADPolicy
    ```

### <a name="example-manage-an-organizations-default-policy"></a><span data-ttu-id="9e113-339">Exempel: Hantera standardprincipen för en organisation</span><span class="sxs-lookup"><span data-stu-id="9e113-339">Example: Manage an organization's default policy</span></span>
<span data-ttu-id="9e113-340">I det här exemplet skapar du en princip som gör att användare kan logga in mindre ofta i hela organisationen.</span><span class="sxs-lookup"><span data-stu-id="9e113-340">In this example, you create a policy that lets your users sign in less frequently across your entire organization.</span></span> <span data-ttu-id="9e113-341">toodo, skapa en livslängd för token-princip för enskild faktor uppdatera token som används inom organisationen.</span><span class="sxs-lookup"><span data-stu-id="9e113-341">toodo this, create a token lifetime policy for Single-Factor Refresh Tokens, which is applied across your organization.</span></span> <span data-ttu-id="9e113-342">hello princip är tillämpade tooevery program i din organisation och tooeach tjänstens huvudnamn som inte redan har en princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-342">hello policy is applied tooevery application in your organization, and tooeach service principal that doesn’t already have a policy set.</span></span>

1. <span data-ttu-id="9e113-343">Skapa en princip för livslängd för token.</span><span class="sxs-lookup"><span data-stu-id="9e113-343">Create a token lifetime policy.</span></span>

    1.  <span data-ttu-id="9e113-344">Ange hello enskild faktor uppdatera Token för ”tills har återkallats”.</span><span class="sxs-lookup"><span data-stu-id="9e113-344">Set hello Single-Factor Refresh Token too"until-revoked."</span></span> <span data-ttu-id="9e113-345">hello-token gälla inte förrän åtkomst har återkallats.</span><span class="sxs-lookup"><span data-stu-id="9e113-345">hello token doesn't expire until access is revoked.</span></span> <span data-ttu-id="9e113-346">Skapa följande principdefinitionen hello:</span><span class="sxs-lookup"><span data-stu-id="9e113-346">Create hello following policy definition:</span></span>

        ```PowerShell
        @('{
            "TokenLifetimePolicy":
            {
                "Version":1,
                "MaxAgeSingleFactor":"until-revoked"
            }
        }')
        ```

    2.  <span data-ttu-id="9e113-347">toocreate hello princip kör hello följande kommando:</span><span class="sxs-lookup"><span data-stu-id="9e113-347">toocreate hello policy, run hello following command:</span></span>

        ```PowerShell
        New-AzureADPolicy -Definition @('{"TokenLifetimePolicy":{"Version":1, "MaxAgeSingleFactor":"until-revoked"}}') -DisplayName "OrganizationDefaultPolicyScenario" -IsOrganizationDefault $true -Type "TokenLifetimePolicy"
        ```

    3.  <span data-ttu-id="9e113-348">toosee din nya principen och tooget hello princip **ObjectId**kör hello följande kommando:</span><span class="sxs-lookup"><span data-stu-id="9e113-348">toosee your new policy, and tooget hello policy's **ObjectId**, run hello following command:</span></span>

        ```PowerShell
        Get-AzureADPolicy
        ```

2. <span data-ttu-id="9e113-349">Uppdatera hello-principen.</span><span class="sxs-lookup"><span data-stu-id="9e113-349">Update hello policy.</span></span>

    <span data-ttu-id="9e113-350">Du kan välja hello första principen som du anger i det här exemplet inte är så strikta din tjänst kräver.</span><span class="sxs-lookup"><span data-stu-id="9e113-350">You might decide that hello first policy you set in this example is not as strict as your service requires.</span></span> <span data-ttu-id="9e113-351">tooset din enda faktor uppdatera Token tooexpire två dagar kör hello följande kommando:</span><span class="sxs-lookup"><span data-stu-id="9e113-351">tooset your Single-Factor Refresh Token tooexpire in two days, run hello following command:</span></span>

    ```PowerShell
    Set-AzureADPolicy -Id <ObjectId FROM GET COMMAND> -DisplayName "OrganizationDefaultPolicyUpdatedScenario" -Definition @('{"TokenLifetimePolicy":{"Version":1,"MaxAgeSingleFactor":"2.00:00:00"}}')
    ```

### <a name="example-create-a-policy-for-web-sign-in"></a><span data-ttu-id="9e113-352">Exempel: Skapa en princip för web-inloggning</span><span class="sxs-lookup"><span data-stu-id="9e113-352">Example: Create a policy for web sign-in</span></span>

<span data-ttu-id="9e113-353">I det här exemplet skapar du en princip som kräver att användare tooauthenticate oftare i ditt webbprogram.</span><span class="sxs-lookup"><span data-stu-id="9e113-353">In this example, you create a policy that requires users tooauthenticate more frequently in your web app.</span></span> <span data-ttu-id="9e113-354">Den här principen anger hello livstid hello åtkomst-ID-token och Hej max ålder Multi-Factor session token toohello tjänstens huvudnamn för ditt webbprogram.</span><span class="sxs-lookup"><span data-stu-id="9e113-354">This policy sets hello lifetime of hello access/ID tokens and hello max age of a multi-factor session token toohello service principal of your web app.</span></span>

1. <span data-ttu-id="9e113-355">Skapa en princip för livslängd för token.</span><span class="sxs-lookup"><span data-stu-id="9e113-355">Create a token lifetime policy.</span></span>

    <span data-ttu-id="9e113-356">Den här principen för web inloggning, anger livslängd för token hello åtkomst-ID och Hej max enskild faktor token ålder tootwo sessionstimmar.</span><span class="sxs-lookup"><span data-stu-id="9e113-356">This policy, for web sign-in, sets hello access/ID token lifetime and hello max single-factor session token age tootwo hours.</span></span>

    1.  <span data-ttu-id="9e113-357">toocreate hello princip köra det här kommandot:</span><span class="sxs-lookup"><span data-stu-id="9e113-357">toocreate hello policy, run this command:</span></span>

        ```PowerShell
        New-AzureADPolicy -Definition @('{"TokenLifetimePolicy":{"Version":1,"AccessTokenLifetime":"02:00:00","MaxAgeSessionSingleFactor":"02:00:00"}}') -DisplayName "WebPolicyScenario" -IsOrganizationDefault $false -Type "TokenLifetimePolicy"
        ```

    2.  <span data-ttu-id="9e113-358">toosee din nya principen och tooget hello princip **ObjectId**kör hello följande kommando:</span><span class="sxs-lookup"><span data-stu-id="9e113-358">toosee your new policy, and tooget hello policy **ObjectId**, run hello following command:</span></span>

        ```PowerShell
        Get-AzureADPolicy
        ```

2.  <span data-ttu-id="9e113-359">Tilldela hello princip tooyour tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="9e113-359">Assign hello policy tooyour service principal.</span></span> <span data-ttu-id="9e113-360">Du måste också tooget hello **ObjectId** för tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="9e113-360">You also need tooget hello **ObjectId** of your service principal.</span></span> 

    1.  <span data-ttu-id="9e113-361">toosee din organisations tjänstens huvudnamn som du kan fråga [Microsoft Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity).</span><span class="sxs-lookup"><span data-stu-id="9e113-361">toosee all your organization's service principals, you can query [Microsoft Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity).</span></span> <span data-ttu-id="9e113-362">I [Azure AD Graph Explorer](https://graphexplorer.cloudapp.net/), logga in tooyour Azure AD-kontot.</span><span class="sxs-lookup"><span data-stu-id="9e113-362">Or, in [Azure AD Graph Explorer](https://graphexplorer.cloudapp.net/), sign in tooyour Azure AD account.</span></span>

    2.  <span data-ttu-id="9e113-363">När du har hello **ObjectId** huvudnamn för tjänsten köras hello följande kommando:</span><span class="sxs-lookup"><span data-stu-id="9e113-363">When you have hello **ObjectId** of your service principal, run hello following command:</span></span>

        ```PowerShell
        Add-AzureADServicePrincipalPolicy -Id <ObjectId of hello ServicePrincipal> -RefObjectId <ObjectId of hello Policy>
        ```


### <a name="example-create-a-policy-for-a-native-app-that-calls-a-web-api"></a><span data-ttu-id="9e113-364">Exempel: Skapa en princip för en intern app som anropar ett webb-API</span><span class="sxs-lookup"><span data-stu-id="9e113-364">Example: Create a policy for a native app that calls a web API</span></span>
<span data-ttu-id="9e113-365">I det här exemplet skapar du en princip som kräver att användare tooauthenticate mindre ofta.</span><span class="sxs-lookup"><span data-stu-id="9e113-365">In this example, you create a policy that requires users tooauthenticate less frequently.</span></span> <span data-ttu-id="9e113-366">hello princip förlängs också hello mängden tid som en användare kan vara inaktiv innan hello användaren måste autentiseras.</span><span class="sxs-lookup"><span data-stu-id="9e113-366">hello policy also lengthens hello amount of time a user can be inactive before hello user must reauthenticate.</span></span> <span data-ttu-id="9e113-367">hello principen är tillämpade toohello webb-API.</span><span class="sxs-lookup"><span data-stu-id="9e113-367">hello policy is applied toohello web API.</span></span> <span data-ttu-id="9e113-368">När hello inbyggda appen begär hello webb-API som en resurs, används den här principen.</span><span class="sxs-lookup"><span data-stu-id="9e113-368">When hello native app requests hello web API as a resource, this policy is applied.</span></span>

1. <span data-ttu-id="9e113-369">Skapa en princip för livslängd för token.</span><span class="sxs-lookup"><span data-stu-id="9e113-369">Create a token lifetime policy.</span></span>

    1.  <span data-ttu-id="9e113-370">toocreate en strikt princip för en webb-API, kör hello följande kommando:</span><span class="sxs-lookup"><span data-stu-id="9e113-370">toocreate a strict policy for a web API, run hello following command:</span></span>

        ```PowerShell
        New-AzureADPolicy -Definition @('{"TokenLifetimePolicy":{"Version":1,"MaxInactiveTime":"30.00:00:00","MaxAgeMultiFactor":"until-revoked","MaxAgeSingleFactor":"180.00:00:00"}}') -DisplayName "WebApiDefaultPolicyScenario" -IsOrganizationDefault $false -Type "TokenLifetimePolicy"
        ```

    2.  <span data-ttu-id="9e113-371">toosee din nya principen och tooget hello princip **ObjectId**kör hello följande kommando:</span><span class="sxs-lookup"><span data-stu-id="9e113-371">toosee your new policy, and tooget hello policy **ObjectId**, run hello following command:</span></span>

        ```PowerShell
        Get-AzureADPolicy
        ```

2. <span data-ttu-id="9e113-372">Tilldela hello princip tooyour webb-API.</span><span class="sxs-lookup"><span data-stu-id="9e113-372">Assign hello policy tooyour web API.</span></span> <span data-ttu-id="9e113-373">Du måste också tooget hello **ObjectId** för programmet.</span><span class="sxs-lookup"><span data-stu-id="9e113-373">You also need tooget hello **ObjectId** of your application.</span></span> <span data-ttu-id="9e113-374">Hej bästa sätt toofind appens **ObjectId** är toouse hello [Azure-portalen](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="9e113-374">hello best way toofind your app's **ObjectId** is toouse hello [Azure portal](https://portal.azure.com/).</span></span>

   <span data-ttu-id="9e113-375">När du har hello **ObjectId** för din app, kör hello följande kommando:</span><span class="sxs-lookup"><span data-stu-id="9e113-375">When you have hello **ObjectId** of your app, run hello following command:</span></span>

        ```PowerShell
        Add-AzureADApplicationPolicy -Id <ObjectId of hello Application> -RefObjectId <ObjectId of hello Policy>
        ```


### <a name="example-manage-an-advanced-policy"></a><span data-ttu-id="9e113-376">Exempel: Hantera en princip för Avancerat</span><span class="sxs-lookup"><span data-stu-id="9e113-376">Example: Manage an advanced policy</span></span>
<span data-ttu-id="9e113-377">I det här exemplet skapar du några principer, toolearn hur hello prioritet system fungerar.</span><span class="sxs-lookup"><span data-stu-id="9e113-377">In this example, you create a few policies, toolearn how hello priority system works.</span></span> <span data-ttu-id="9e113-378">Du kan också lära dig hur toomanage flera principer som är kopplade tooseveral objekt.</span><span class="sxs-lookup"><span data-stu-id="9e113-378">You also can learn how toomanage multiple policies that are applied tooseveral objects.</span></span>

1. <span data-ttu-id="9e113-379">Skapa en princip för livslängd för token.</span><span class="sxs-lookup"><span data-stu-id="9e113-379">Create a token lifetime policy.</span></span>

    1.  <span data-ttu-id="9e113-380">toocreate standardprincipen för en organisation som anger hello enskild faktor uppdatera Token livstid too30 dagar, kör följande kommando hello:</span><span class="sxs-lookup"><span data-stu-id="9e113-380">toocreate an organization default policy that sets hello Single-Factor Refresh Token lifetime too30 days, run hello following command:</span></span>

        ```PowerShell
        New-AzureADPolicy -Definition @('{"TokenLifetimePolicy":{"Version":1,"MaxAgeSingleFactor":"30.00:00:00"}}') -DisplayName "ComplexPolicyScenario" -IsOrganizationDefault $true -Type "TokenLifetimePolicy"
        ```

    2.  <span data-ttu-id="9e113-381">toosee din nya principen och tooget hello princip **ObjectId**kör hello följande kommando:</span><span class="sxs-lookup"><span data-stu-id="9e113-381">toosee your new policy, and tooget hello policy's **ObjectId**, run hello following command:</span></span>

        ```PowerShell
        Get-AzureADPolicy
        ```

2. <span data-ttu-id="9e113-382">Tilldela hello princip tooa tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="9e113-382">Assign hello policy tooa service principal.</span></span>

    <span data-ttu-id="9e113-383">Du har nu en princip som gäller toohello hela organisationen.</span><span class="sxs-lookup"><span data-stu-id="9e113-383">Now, you have a policy that applies toohello entire organization.</span></span> <span data-ttu-id="9e113-384">Du kanske vill toopreserve 30-dagars principen för en specifik tjänstens huvudnamn men ändra hello organisation standard princip toohello övre gränsen för ”tills har återkallats”.</span><span class="sxs-lookup"><span data-stu-id="9e113-384">You might want toopreserve this 30-day policy for a specific service principal, but change hello organization default policy toohello upper limit of "until-revoked."</span></span>

    1.  <span data-ttu-id="9e113-385">toosee din organisations tjänstens huvudnamn som du kan fråga [Microsoft Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity).</span><span class="sxs-lookup"><span data-stu-id="9e113-385">toosee all your organization's service principals, you can query [Microsoft Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity).</span></span> <span data-ttu-id="9e113-386">I [Azure AD Graph Explorer](https://graphexplorer.cloudapp.net/), logga in med hjälp av Azure AD-kontot.</span><span class="sxs-lookup"><span data-stu-id="9e113-386">Or, in [Azure AD Graph Explorer](https://graphexplorer.cloudapp.net/), sign in by using your Azure AD account.</span></span>

    2.  <span data-ttu-id="9e113-387">När du har hello **ObjectId** huvudnamn för tjänsten köras hello följande kommando:</span><span class="sxs-lookup"><span data-stu-id="9e113-387">When you have hello **ObjectId** of your service principal, run hello following command:</span></span>

            ```PowerShell
            Add-AzureADServicePrincipalPolicy -Id <ObjectId of hello ServicePrincipal> -RefObjectId <ObjectId of hello Policy>
            ```
        
3. <span data-ttu-id="9e113-388">Ange hello `IsOrganizationDefault` flaggan toofalse:</span><span class="sxs-lookup"><span data-stu-id="9e113-388">Set hello `IsOrganizationDefault` flag toofalse:</span></span>

    ```PowerShell
    Set-AzureADPolicy -Id <ObjectId of Policy> -DisplayName "ComplexPolicyScenario" -IsOrganizationDefault $false
    ```

4. <span data-ttu-id="9e113-389">Skapa en ny organisation standardprincip:</span><span class="sxs-lookup"><span data-stu-id="9e113-389">Create a new organization default policy:</span></span>

    ```PowerShell
    New-AzureADPolicy -Definition @('{"TokenLifetimePolicy":{"Version":1,"MaxAgeSingleFactor":"until-revoked"}}') -DisplayName "ComplexPolicyScenarioTwo" -IsOrganizationDefault $true -Type "TokenLifetimePolicy"
    ```

    <span data-ttu-id="9e113-390">Nu har du hello ursprungliga princip länkade tooyour tjänstens huvudnamn och hello ny princip har angetts som din organisation standardprincipen.</span><span class="sxs-lookup"><span data-stu-id="9e113-390">You now have hello original policy linked tooyour service principal, and hello new policy is set as your organization default policy.</span></span> <span data-ttu-id="9e113-391">Det är viktigt tooremember att principer tillämpas tooservice säkerhetsobjekt har högre prioritet än standardprinciperna för organisationen.</span><span class="sxs-lookup"><span data-stu-id="9e113-391">It's important tooremember that policies applied tooservice principals have priority over organization default policies.</span></span>

## <a name="cmdlet-reference"></a><span data-ttu-id="9e113-392">Cmdlet-referens</span><span class="sxs-lookup"><span data-stu-id="9e113-392">Cmdlet reference</span></span>

### <a name="manage-policies"></a><span data-ttu-id="9e113-393">Hantera principer</span><span class="sxs-lookup"><span data-stu-id="9e113-393">Manage policies</span></span>

<span data-ttu-id="9e113-394">Du kan använda följande cmdlet: ar toomanage principer hello.</span><span class="sxs-lookup"><span data-stu-id="9e113-394">You can use hello following cmdlets toomanage policies.</span></span>

#### <a name="new-azureadpolicy"></a><span data-ttu-id="9e113-395">Ny AzureADPolicy</span><span class="sxs-lookup"><span data-stu-id="9e113-395">New-AzureADPolicy</span></span>

<span data-ttu-id="9e113-396">Skapar en ny princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-396">Creates a new policy.</span></span>

```PowerShell
New-AzureADPolicy -Definition <Array of Rules> -DisplayName <Name of Policy> -IsOrganizationDefault <boolean> -Type <Policy Type>
```

| <span data-ttu-id="9e113-397">Parametrar</span><span class="sxs-lookup"><span data-stu-id="9e113-397">Parameters</span></span> | <span data-ttu-id="9e113-398">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="9e113-398">Description</span></span> | <span data-ttu-id="9e113-399">Exempel</span><span class="sxs-lookup"><span data-stu-id="9e113-399">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Definition</code> |<span data-ttu-id="9e113-400">Matris med stringified JSON som innehåller alla hello princip regler.</span><span class="sxs-lookup"><span data-stu-id="9e113-400">Array of stringified JSON that contains all hello policy's rules.</span></span> | `-Definition @('{"TokenLifetimePolicy":{"Version":1,"MaxInactiveTime":"20:00:00"}}')` |
| <code>&#8209;DisplayName</code> |<span data-ttu-id="9e113-401">Sträng med hello principnamn.</span><span class="sxs-lookup"><span data-stu-id="9e113-401">String of hello policy name.</span></span> |`-DisplayName "MyTokenPolicy"` |
| <code>&#8209;IsOrganizationDefault</code> |<span data-ttu-id="9e113-402">Om värdet är true anger du hello principen som hello organisation standardprincipen.</span><span class="sxs-lookup"><span data-stu-id="9e113-402">If true, sets hello policy as hello organization's default policy.</span></span> <span data-ttu-id="9e113-403">Om värdet är FALSKT får ingen effekt.</span><span class="sxs-lookup"><span data-stu-id="9e113-403">If false, does nothing.</span></span> |`-IsOrganizationDefault $true` |
| <code>&#8209;Type</code> |<span data-ttu-id="9e113-404">Typen av princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-404">Type of policy.</span></span> <span data-ttu-id="9e113-405">Token livslängd alltid använda ”TokenLifetimePolicy”.</span><span class="sxs-lookup"><span data-stu-id="9e113-405">For token lifetimes, always use "TokenLifetimePolicy."</span></span> | `-Type "TokenLifetimePolicy"` |
| <span data-ttu-id="9e113-406"><code>&#8209;AlternativeIdentifier</code>[Valfritt]</span><span class="sxs-lookup"><span data-stu-id="9e113-406"><code>&#8209;AlternativeIdentifier</code> [Optional]</span></span> |<span data-ttu-id="9e113-407">Anger ett alternativt ID för hello princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-407">Sets an alternative ID for hello policy.</span></span> |`-AlternativeIdentifier "myAltId"` |

</br></br>

#### <a name="get-azureadpolicy"></a><span data-ttu-id="9e113-408">Get-AzureADPolicy</span><span class="sxs-lookup"><span data-stu-id="9e113-408">Get-AzureADPolicy</span></span>
<span data-ttu-id="9e113-409">Hämtar alla Azure AD-principer eller en angiven princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-409">Gets all Azure AD policies or a specified policy.</span></span>

```PowerShell
Get-AzureADPolicy
```

| <span data-ttu-id="9e113-410">Parametrar</span><span class="sxs-lookup"><span data-stu-id="9e113-410">Parameters</span></span> | <span data-ttu-id="9e113-411">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="9e113-411">Description</span></span> | <span data-ttu-id="9e113-412">Exempel</span><span class="sxs-lookup"><span data-stu-id="9e113-412">Example</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9e113-413"><code>&#8209;Id</code>[Valfritt]</span><span class="sxs-lookup"><span data-stu-id="9e113-413"><code>&#8209;Id</code> [Optional]</span></span> |<span data-ttu-id="9e113-414">**Objekt-ID (Id)** av hello-princip som du vill.</span><span class="sxs-lookup"><span data-stu-id="9e113-414">**ObjectId (Id)** of hello policy you want.</span></span> |`-Id <ObjectId of Policy>` |

</br></br>

#### <a name="get-azureadpolicyappliedobject"></a><span data-ttu-id="9e113-415">Get-AzureADPolicyAppliedObject</span><span class="sxs-lookup"><span data-stu-id="9e113-415">Get-AzureADPolicyAppliedObject</span></span>
<span data-ttu-id="9e113-416">Hämtar alla appar och tjänstens huvudnamn som är länkade tooa princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-416">Gets all apps and service principals that are linked tooa policy.</span></span>

```PowerShell
Get-AzureADPolicyAppliedObject -Id <ObjectId of Policy>
```

| <span data-ttu-id="9e113-417">Parametrar</span><span class="sxs-lookup"><span data-stu-id="9e113-417">Parameters</span></span> | <span data-ttu-id="9e113-418">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="9e113-418">Description</span></span> | <span data-ttu-id="9e113-419">Exempel</span><span class="sxs-lookup"><span data-stu-id="9e113-419">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="9e113-420">**Objekt-ID (Id)** av hello-princip som du vill.</span><span class="sxs-lookup"><span data-stu-id="9e113-420">**ObjectId (Id)** of hello policy you want.</span></span> |`-Id <ObjectId of Policy>` |

</br></br>

#### <a name="set-azureadpolicy"></a><span data-ttu-id="9e113-421">Ange AzureADPolicy</span><span class="sxs-lookup"><span data-stu-id="9e113-421">Set-AzureADPolicy</span></span>
<span data-ttu-id="9e113-422">Uppdaterar en befintlig princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-422">Updates an existing policy.</span></span>

```PowerShell
Set-AzureADPolicy -Id <ObjectId of Policy> -DisplayName <string>
```

| <span data-ttu-id="9e113-423">Parametrar</span><span class="sxs-lookup"><span data-stu-id="9e113-423">Parameters</span></span> | <span data-ttu-id="9e113-424">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="9e113-424">Description</span></span> | <span data-ttu-id="9e113-425">Exempel</span><span class="sxs-lookup"><span data-stu-id="9e113-425">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="9e113-426">**Objekt-ID (Id)** av hello-princip som du vill.</span><span class="sxs-lookup"><span data-stu-id="9e113-426">**ObjectId (Id)** of hello policy you want.</span></span> |`-Id <ObjectId of Policy>` |
| <code>&#8209;DisplayName</code> |<span data-ttu-id="9e113-427">Sträng med hello principnamn.</span><span class="sxs-lookup"><span data-stu-id="9e113-427">String of hello policy name.</span></span> |`-DisplayName "MyTokenPolicy"` |
| <span data-ttu-id="9e113-428"><code>&#8209;Definition</code>[Valfritt]</span><span class="sxs-lookup"><span data-stu-id="9e113-428"><code>&#8209;Definition</code> [Optional]</span></span> |<span data-ttu-id="9e113-429">Matris med stringified JSON som innehåller alla hello princip regler.</span><span class="sxs-lookup"><span data-stu-id="9e113-429">Array of stringified JSON that contains all hello policy's rules.</span></span> |`-Definition @('{"TokenLifetimePolicy":{"Version":1,"MaxInactiveTime":"20:00:00"}}')` |
| <span data-ttu-id="9e113-430"><code>&#8209;IsOrganizationDefault</code>[Valfritt]</span><span class="sxs-lookup"><span data-stu-id="9e113-430"><code>&#8209;IsOrganizationDefault</code> [Optional]</span></span> |<span data-ttu-id="9e113-431">Om värdet är true anger du hello principen som hello organisation standardprincipen.</span><span class="sxs-lookup"><span data-stu-id="9e113-431">If true, sets hello policy as hello organization's default policy.</span></span> <span data-ttu-id="9e113-432">Om värdet är FALSKT får ingen effekt.</span><span class="sxs-lookup"><span data-stu-id="9e113-432">If false, does nothing.</span></span> |`-IsOrganizationDefault $true` |
| <span data-ttu-id="9e113-433"><code>&#8209;Type</code>[Valfritt]</span><span class="sxs-lookup"><span data-stu-id="9e113-433"><code>&#8209;Type</code> [Optional]</span></span> |<span data-ttu-id="9e113-434">Typen av princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-434">Type of policy.</span></span> <span data-ttu-id="9e113-435">Token livslängd alltid använda ”TokenLifetimePolicy”.</span><span class="sxs-lookup"><span data-stu-id="9e113-435">For token lifetimes, always use "TokenLifetimePolicy."</span></span> |`-Type "TokenLifetimePolicy"` |
| <span data-ttu-id="9e113-436"><code>&#8209;AlternativeIdentifier</code>[Valfritt]</span><span class="sxs-lookup"><span data-stu-id="9e113-436"><code>&#8209;AlternativeIdentifier</code> [Optional]</span></span> |<span data-ttu-id="9e113-437">Anger ett alternativt ID för hello princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-437">Sets an alternative ID for hello policy.</span></span> |`-AlternativeIdentifier "myAltId"` |

</br></br>

#### <a name="remove-azureadpolicy"></a><span data-ttu-id="9e113-438">Ta bort AzureADPolicy</span><span class="sxs-lookup"><span data-stu-id="9e113-438">Remove-AzureADPolicy</span></span>
<span data-ttu-id="9e113-439">Tar bort hello angetts princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-439">Deletes hello specified policy.</span></span>

```PowerShell
 Remove-AzureADPolicy -Id <ObjectId of Policy>
```

| <span data-ttu-id="9e113-440">Parametrar</span><span class="sxs-lookup"><span data-stu-id="9e113-440">Parameters</span></span> | <span data-ttu-id="9e113-441">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="9e113-441">Description</span></span> | <span data-ttu-id="9e113-442">Exempel</span><span class="sxs-lookup"><span data-stu-id="9e113-442">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="9e113-443">**Objekt-ID (Id)** av hello-princip som du vill.</span><span class="sxs-lookup"><span data-stu-id="9e113-443">**ObjectId (Id)** of hello policy you want.</span></span> | `-Id <ObjectId of Policy>` |

</br></br>

### <a name="application-policies"></a><span data-ttu-id="9e113-444">Användningsprinciper</span><span class="sxs-lookup"><span data-stu-id="9e113-444">Application policies</span></span>
<span data-ttu-id="9e113-445">Du kan använda hello följande cmdletar för principer för program.</span><span class="sxs-lookup"><span data-stu-id="9e113-445">You can use hello following cmdlets for application policies.</span></span></br></br>

#### <a name="add-azureadapplicationpolicy"></a><span data-ttu-id="9e113-446">Lägg till AzureADApplicationPolicy</span><span class="sxs-lookup"><span data-stu-id="9e113-446">Add-AzureADApplicationPolicy</span></span>
<span data-ttu-id="9e113-447">Länkar hello angetts tooan tillämpning av principer.</span><span class="sxs-lookup"><span data-stu-id="9e113-447">Links hello specified policy tooan application.</span></span>

```PowerShell
Add-AzureADApplicationPolicy -Id <ObjectId of Application> -RefObjectId <ObjectId of Policy>
```

| <span data-ttu-id="9e113-448">Parametrar</span><span class="sxs-lookup"><span data-stu-id="9e113-448">Parameters</span></span> | <span data-ttu-id="9e113-449">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="9e113-449">Description</span></span> | <span data-ttu-id="9e113-450">Exempel</span><span class="sxs-lookup"><span data-stu-id="9e113-450">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="9e113-451">**Objekt-ID (Id)** av programmet hello.</span><span class="sxs-lookup"><span data-stu-id="9e113-451">**ObjectId (Id)** of hello application.</span></span> | `-Id <ObjectId of Application>` |
| <code>&#8209;RefObjectId</code> |<span data-ttu-id="9e113-452">**ObjectId** av hello princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-452">**ObjectId** of hello policy.</span></span> | `-RefObjectId <ObjectId of Policy>` |

</br></br>

#### <a name="get-azureadapplicationpolicy"></a><span data-ttu-id="9e113-453">Get-AzureADApplicationPolicy</span><span class="sxs-lookup"><span data-stu-id="9e113-453">Get-AzureADApplicationPolicy</span></span>
<span data-ttu-id="9e113-454">Hämtar hello-princip som tilldelats tooan program.</span><span class="sxs-lookup"><span data-stu-id="9e113-454">Gets hello policy that is assigned tooan application.</span></span>

```PowerShell
Get-AzureADApplicationPolicy -Id <ObjectId of Application>
```

| <span data-ttu-id="9e113-455">Parametrar</span><span class="sxs-lookup"><span data-stu-id="9e113-455">Parameters</span></span> | <span data-ttu-id="9e113-456">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="9e113-456">Description</span></span> | <span data-ttu-id="9e113-457">Exempel</span><span class="sxs-lookup"><span data-stu-id="9e113-457">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="9e113-458">**Objekt-ID (Id)** av programmet hello.</span><span class="sxs-lookup"><span data-stu-id="9e113-458">**ObjectId (Id)** of hello application.</span></span> | `-Id <ObjectId of Application>` |

</br></br>

#### <a name="remove-azureadapplicationpolicy"></a><span data-ttu-id="9e113-459">Ta bort AzureADApplicationPolicy</span><span class="sxs-lookup"><span data-stu-id="9e113-459">Remove-AzureADApplicationPolicy</span></span>
<span data-ttu-id="9e113-460">Tar bort en princip från ett program.</span><span class="sxs-lookup"><span data-stu-id="9e113-460">Removes a policy from an application.</span></span>

```PowerShell
Remove-AzureADApplicationPolicy -Id <ObjectId of Application> -PolicyId <ObjectId of Policy>
```

| <span data-ttu-id="9e113-461">Parametrar</span><span class="sxs-lookup"><span data-stu-id="9e113-461">Parameters</span></span> | <span data-ttu-id="9e113-462">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="9e113-462">Description</span></span> | <span data-ttu-id="9e113-463">Exempel</span><span class="sxs-lookup"><span data-stu-id="9e113-463">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="9e113-464">**Objekt-ID (Id)** av programmet hello.</span><span class="sxs-lookup"><span data-stu-id="9e113-464">**ObjectId (Id)** of hello application.</span></span> | `-Id <ObjectId of Application>` |
| <code>&#8209;PolicyId</code> |<span data-ttu-id="9e113-465">**ObjectId** av hello princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-465">**ObjectId** of hello policy.</span></span> | `-PolicyId <ObjectId of Policy>` |

</br></br>

### <a name="service-principal-policies"></a><span data-ttu-id="9e113-466">Tjänstens huvudnamn principer</span><span class="sxs-lookup"><span data-stu-id="9e113-466">Service principal policies</span></span>
<span data-ttu-id="9e113-467">Du kan använda hello följande cmdletar för tjänstens huvudnamn principer.</span><span class="sxs-lookup"><span data-stu-id="9e113-467">You can use hello following cmdlets for service principal policies.</span></span>

#### <a name="add-azureadserviceprincipalpolicy"></a><span data-ttu-id="9e113-468">Lägg till AzureADServicePrincipalPolicy</span><span class="sxs-lookup"><span data-stu-id="9e113-468">Add-AzureADServicePrincipalPolicy</span></span>
<span data-ttu-id="9e113-469">Länkar hello principens tooa tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="9e113-469">Links hello specified policy tooa service principal.</span></span>

```PowerShell
Add-AzureADServicePrincipalPolicy -Id <ObjectId of ServicePrincipal> -RefObjectId <ObjectId of Policy>
```

| <span data-ttu-id="9e113-470">Parametrar</span><span class="sxs-lookup"><span data-stu-id="9e113-470">Parameters</span></span> | <span data-ttu-id="9e113-471">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="9e113-471">Description</span></span> | <span data-ttu-id="9e113-472">Exempel</span><span class="sxs-lookup"><span data-stu-id="9e113-472">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="9e113-473">**Objekt-ID (Id)** av programmet hello.</span><span class="sxs-lookup"><span data-stu-id="9e113-473">**ObjectId (Id)** of hello application.</span></span> | `-Id <ObjectId of Application>` |
| <code>&#8209;RefObjectId</code> |<span data-ttu-id="9e113-474">**ObjectId** av hello princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-474">**ObjectId** of hello policy.</span></span> | `-RefObjectId <ObjectId of Policy>` |

</br></br>

#### <a name="get-azureadserviceprincipalpolicy"></a><span data-ttu-id="9e113-475">Get-AzureADServicePrincipalPolicy</span><span class="sxs-lookup"><span data-stu-id="9e113-475">Get-AzureADServicePrincipalPolicy</span></span>
<span data-ttu-id="9e113-476">Hämtar alla princip länkade toohello angivna tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="9e113-476">Gets any policy linked toohello specified service principal.</span></span>

```PowerShell
Get-AzureADServicePrincipalPolicy -Id <ObjectId of ServicePrincipal>
```

| <span data-ttu-id="9e113-477">Parametrar</span><span class="sxs-lookup"><span data-stu-id="9e113-477">Parameters</span></span> | <span data-ttu-id="9e113-478">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="9e113-478">Description</span></span> | <span data-ttu-id="9e113-479">Exempel</span><span class="sxs-lookup"><span data-stu-id="9e113-479">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="9e113-480">**Objekt-ID (Id)** av programmet hello.</span><span class="sxs-lookup"><span data-stu-id="9e113-480">**ObjectId (Id)** of hello application.</span></span> | `-Id <ObjectId of Application>` |

</br></br>

#### <a name="remove-azureadserviceprincipalpolicy"></a><span data-ttu-id="9e113-481">Ta bort AzureADServicePrincipalPolicy</span><span class="sxs-lookup"><span data-stu-id="9e113-481">Remove-AzureADServicePrincipalPolicy</span></span>
<span data-ttu-id="9e113-482">Tar bort hello princip från hello angivna tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="9e113-482">Removes hello policy from hello specified service principal.</span></span>

```PowerShell
Remove-AzureADServicePrincipalPolicy -Id <ObjectId of ServicePrincipal>  -PolicyId <ObjectId of Policy>
```

| <span data-ttu-id="9e113-483">Parametrar</span><span class="sxs-lookup"><span data-stu-id="9e113-483">Parameters</span></span> | <span data-ttu-id="9e113-484">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="9e113-484">Description</span></span> | <span data-ttu-id="9e113-485">Exempel</span><span class="sxs-lookup"><span data-stu-id="9e113-485">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="9e113-486">**Objekt-ID (Id)** av programmet hello.</span><span class="sxs-lookup"><span data-stu-id="9e113-486">**ObjectId (Id)** of hello application.</span></span> | `-Id <ObjectId of Application>` |
| <code>&#8209;PolicyId</code> |<span data-ttu-id="9e113-487">**ObjectId** av hello princip.</span><span class="sxs-lookup"><span data-stu-id="9e113-487">**ObjectId** of hello policy.</span></span> | `-PolicyId <ObjectId of Policy>` |
