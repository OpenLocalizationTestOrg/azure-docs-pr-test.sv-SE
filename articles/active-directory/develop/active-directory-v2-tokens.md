---
title: aaaAzure Active Directory v2.0 tokens referens | Microsoft Docs
description: "hello typer av token och anspråk som sänds av hello Azure AD v2.0-slutpunkten"
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: dc58c282-9684-4b38-b151-f3e079f034fd
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/07/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: 29eb5c3402aeae302ee7c6234488520495f85904
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-v20-tokens-reference"></a><span data-ttu-id="00a43-103">Azure Active Directory v2.0 token-referens</span><span class="sxs-lookup"><span data-stu-id="00a43-103">Azure Active Directory v2.0 tokens reference</span></span>
<span data-ttu-id="00a43-104">hello Azure Active Directory (AD Azure) v2.0-slutpunkten genererar flera typer av säkerhetstoken i varje [autentiseringsflödet](active-directory-v2-flows.md).</span><span class="sxs-lookup"><span data-stu-id="00a43-104">hello Azure Active Directory (Azure AD) v2.0 endpoint emits several types of security tokens in each [authentication flow](active-directory-v2-flows.md).</span></span> <span data-ttu-id="00a43-105">Den här referensen beskriver hello format, säkerhet egenskaperna och innehållet i varje typ av token.</span><span class="sxs-lookup"><span data-stu-id="00a43-105">This reference describes hello format, security characteristics, and contents of each type of token.</span></span>

> [!NOTE]
> <span data-ttu-id="00a43-106">hello v2.0-slutpunkten har inte stöd för alla Azure Active Directory-scenarier och funktioner.</span><span class="sxs-lookup"><span data-stu-id="00a43-106">hello v2.0 endpoint does not support all Azure Active Directory scenarios and features.</span></span> <span data-ttu-id="00a43-107">toodetermine om du ska använda hello v2.0-slutpunkten Läs om [v2.0 begränsningar](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="00a43-107">toodetermine whether you should use hello v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>
>

## <a name="types-of-tokens"></a><span data-ttu-id="00a43-108">Typer av token</span><span class="sxs-lookup"><span data-stu-id="00a43-108">Types of tokens</span></span>
<span data-ttu-id="00a43-109">hello v2.0-slutpunkten stöder hello [OAuth 2.0-protokollet för auktorisering](active-directory-v2-protocols.md), som använder token uppdatera token.</span><span class="sxs-lookup"><span data-stu-id="00a43-109">hello v2.0 endpoint supports hello [OAuth 2.0 authorization protocol](active-directory-v2-protocols.md), which uses access tokens and refresh tokens.</span></span> <span data-ttu-id="00a43-110">hello v2.0-slutpunkten stöder också autentisering och logga in via [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="00a43-110">hello v2.0 endpoint also supports authentication and sign-in via [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="00a43-111">OpenID Connect introducerar en tredje typ av token, hello-ID-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-111">OpenID Connect introduces a third type of token, hello ID token.</span></span> <span data-ttu-id="00a43-112">Var och en av dessa token representeras som en *ägar* token.</span><span class="sxs-lookup"><span data-stu-id="00a43-112">Each of these tokens is represented as a *bearer* token.</span></span>

<span data-ttu-id="00a43-113">Ett ägartoken är en förenklad säkerhetstoken som ger hello ägar åtkomst tooa skyddad resurs.</span><span class="sxs-lookup"><span data-stu-id="00a43-113">A bearer token is a lightweight security token that grants hello bearer access tooa protected resource.</span></span> <span data-ttu-id="00a43-114">hello ägar är någon part som kan utgöra hello-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-114">hello bearer is any party that can present hello token.</span></span> <span data-ttu-id="00a43-115">Även om en part måste autentisera med Azure AD tooreceive hello ägar-token om åtgärder inte vidtas toosecure hello token under överföringen och lagringen, kan de snappas upp och används av en oavsiktlig part.</span><span class="sxs-lookup"><span data-stu-id="00a43-115">Although a party must authenticate with Azure AD tooreceive hello bearer token, if steps are not taken toosecure hello token during transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="00a43-116">Vissa säkerhetstoken har en inbyggd mekanism tooprevent obehörig parter från inte använder dem, men vill för ägar-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-116">Some security tokens have a built-in mechanism tooprevent unauthorized parties from using them, but bearer tokens do not.</span></span> <span data-ttu-id="00a43-117">Ägar-token måste transporteras i en säker kanal, till exempel transport layer security (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="00a43-117">Bearer tokens must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="00a43-118">Om ett ägartoken överförs utan den här typen av säkerhet, kan en skadlig part använder en ”man-in-the-middle-attack” tooacquire hello token och använda den för obehörig åtkomst tooa skyddad resurs.</span><span class="sxs-lookup"><span data-stu-id="00a43-118">If a bearer token is transmitted without this type of security, a malicious party could use a "man-in-the-middle attack" tooacquire hello token and use it for unauthorized access tooa protected resource.</span></span> <span data-ttu-id="00a43-119">hello tillämpas samma säkerhetsprinciper när lagring eller cachelagring ägar-token för senare användning.</span><span class="sxs-lookup"><span data-stu-id="00a43-119">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="00a43-120">Se alltid till att din app på ett säkert sätt överför och lagrar ägar-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-120">Always ensure that your app securely transmits and stores bearer tokens.</span></span> <span data-ttu-id="00a43-121">Mer säkerhet för ägar-token finns [RFC 6750 avsnitt 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="00a43-121">For more security considerations for bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="00a43-122">Många av hello-token som utfärdats av hello v2.0-slutpunkten implementeras som JSON Web token (JWTs).</span><span class="sxs-lookup"><span data-stu-id="00a43-122">Many of hello tokens issued by hello v2.0 endpoint are implemented as JSON Web Tokens (JWTs).</span></span> <span data-ttu-id="00a43-123">En JWT är en komprimerad, URL-säkert sätt tootransfer information mellan två parter.</span><span class="sxs-lookup"><span data-stu-id="00a43-123">A JWT is a compact, URL-safe way tootransfer information between two parties.</span></span> <span data-ttu-id="00a43-124">hello informationen i en JWT kallas en *anspråk*.</span><span class="sxs-lookup"><span data-stu-id="00a43-124">hello information in a JWT is called a *claim*.</span></span> <span data-ttu-id="00a43-125">Det är ett intyg om hello ägar- och ämne hello token.</span><span class="sxs-lookup"><span data-stu-id="00a43-125">It's an assertion of information about hello bearer and subject of hello token.</span></span> <span data-ttu-id="00a43-126">hello anspråk i en JWT är JavaScript Object Notation (JSON)-objekt som är kodade och serialiseras för överföring.</span><span class="sxs-lookup"><span data-stu-id="00a43-126">hello claims in a JWT are JavaScript Object Notation (JSON) objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="00a43-127">Eftersom hello JWTs utfärdas av hello v2.0-slutpunkten är signerad men inte krypterad, du kan enkelt inspektera hello innehållet i en JWT för felsökning.</span><span class="sxs-lookup"><span data-stu-id="00a43-127">Because hello JWTs issued by hello v2.0 endpoint are signed but not encrypted, you can easily inspect hello contents of a JWT for debugging purposes.</span></span> <span data-ttu-id="00a43-128">Mer information om JWTs finns hello [JWT-specifikationen](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="00a43-128">For more information about JWTs, see hello [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="00a43-129">ID-token</span><span class="sxs-lookup"><span data-stu-id="00a43-129">ID tokens</span></span>
<span data-ttu-id="00a43-130">En ID-token är en typ av inloggning säkerhetstoken som appen tar emot när autentisering utförs med hjälp av [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="00a43-130">An ID token is a form of sign-in security token that your app receives when it performs authentication by using [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="00a43-131">ID-token representeras som [JWTs](#types-of-tokens), och de innehåller anspråk som du kan använda toosign hello användaren i tooyour app.</span><span class="sxs-lookup"><span data-stu-id="00a43-131">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use toosign hello user in tooyour app.</span></span> <span data-ttu-id="00a43-132">Du kan använda hello anspråk i en ID-token på olika sätt.</span><span class="sxs-lookup"><span data-stu-id="00a43-132">You can use hello claims in an ID token in various ways.</span></span> <span data-ttu-id="00a43-133">Normalt använder administratörer ID token toodisplay kontoinformation eller toomake besluten om åtkomstkontroll i en app.</span><span class="sxs-lookup"><span data-stu-id="00a43-133">Typically, admins use ID tokens toodisplay account information or toomake access control decisions in an app.</span></span> <span data-ttu-id="00a43-134">hello v2.0-slutpunkten utfärdar bara en typ av ID-token som har en enhetlig uppsättning anspråk oavsett hello typ av användare som har loggat in.</span><span class="sxs-lookup"><span data-stu-id="00a43-134">hello v2.0 endpoint issues only one type of ID token, which has a consistent set of claims, regardless of hello type of user that is signed in.</span></span> <span data-ttu-id="00a43-135">hello format och innehåll i ID-token är hello samma för användare med personliga Microsoft-konton och arbets-eller skolkonton.</span><span class="sxs-lookup"><span data-stu-id="00a43-135">hello format and content of ID tokens are hello same for personal Microsoft account users and for work or school accounts.</span></span>

<span data-ttu-id="00a43-136">ID-token är för närvarande är signerad men inte krypterad.</span><span class="sxs-lookup"><span data-stu-id="00a43-136">Currently, ID tokens are signed but not encrypted.</span></span> <span data-ttu-id="00a43-137">När appen tar emot en ID-token, måste [Validera hello signatur](#validating-tokens) tooprove hello-token är äkta och verifiera några anspråk i hello token tooprove dess giltighet.</span><span class="sxs-lookup"><span data-stu-id="00a43-137">When your app receives an ID token, it must [validate hello signature](#validating-tokens) tooprove hello token's authenticity and validate a few claims in hello token tooprove its validity.</span></span> <span data-ttu-id="00a43-138">hello anspråk som verifieras av en app varierar beroende på krav för scenarier, men din app måste utföra vissa [vanliga anspråk verifieringar](#validating-tokens) i varje scenario.</span><span class="sxs-lookup"><span data-stu-id="00a43-138">hello claims validated by an app vary depending on scenario requirements, but your app must perform some [common claim validations](#validating-tokens) in every scenario.</span></span>

<span data-ttu-id="00a43-139">Vi ger dig hello fullständig information om anspråk i ID-token i hello följande avsnitt innehåller dessutom tooa exempel ID-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-139">We give you hello full details about claims in ID tokens in hello following sections, in addition tooa sample ID token.</span></span> <span data-ttu-id="00a43-140">Observera att anspråk i ID-token inte returneras i en viss ordning.</span><span class="sxs-lookup"><span data-stu-id="00a43-140">Note that claims in ID tokens are not returned in a specific order.</span></span> <span data-ttu-id="00a43-141">Dessutom kan nya anspråk vara introduceras i ID-token när som helst.</span><span class="sxs-lookup"><span data-stu-id="00a43-141">Also, new claims can be introduced into ID tokens at any time.</span></span> <span data-ttu-id="00a43-142">Din app bryter bör inte när nya anspråk som införs.</span><span class="sxs-lookup"><span data-stu-id="00a43-142">Your app should not break when new claims are introduced.</span></span> <span data-ttu-id="00a43-143">hello följande lista innehåller hello anspråk som din app för närvarande kan på ett tillförlitligt sätt tolka.</span><span class="sxs-lookup"><span data-stu-id="00a43-143">hello following list includes hello claims that your app currently can reliably interpret.</span></span> <span data-ttu-id="00a43-144">Du hittar mer information i hello [OpenID Connect specifikationen](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="00a43-144">You can find more details in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="00a43-145">Exempel-ID-token</span><span class="sxs-lookup"><span data-stu-id="00a43-145">Sample ID token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSJ9.eyJhdWQiOiI2NzMxZGU3Ni0xNGE2LTQ5YWUtOTdiYy02ZWJhNjkxNDM5MWUiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vYjk0MTk4MTgtMDlhZi00OWMyLWIwYzMtNjUzYWRjMWYzNzZlL3YyLjAiLCJpYXQiOjE0NTIyODUzMzEsIm5iZiI6MTQ1MjI4NTMzMSwiZXhwIjoxNDUyMjg5MjMxLCJuYW1lIjoiQmFiZSBSdXRoIiwibm9uY2UiOiIxMjM0NSIsIm9pZCI6ImExZGJkZGU4LWU0ZjktNDU3MS1hZDkzLTMwNTllMzc1MGQyMyIsInByZWZlcnJlZF91c2VybmFtZSI6InRoZWdyZWF0YmFtYmlub0BueXkub25taWNyb3NvZnQuY29tIiwic3ViIjoiTUY0Zi1nZ1dNRWppMTJLeW5KVU5RWnBoYVVUdkxjUXVnNWpkRjJubDAxUSIsInRpZCI6ImI5NDE5ODE4LTA5YWYtNDljMi1iMGMzLTY1M2FkYzFmMzc2ZSIsInZlciI6IjIuMCJ9.p_rYdrtJ1oCmgDBggNHB9O38KTnLCMGbMDODdirdmZbmJcTHiZDdtTc-hguu3krhbtOsoYM2HJeZM3Wsbp_YcfSKDY--X_NobMNsxbT7bqZHxDnA2jTMyrmt5v2EKUnEeVtSiJXyO3JWUq9R0dO-m4o9_8jGP6zHtR62zLaotTBYHmgeKpZgTFB9WtUq8DVdyMn_HSvQEfz-LWqckbcTwM_9RNKoGRVk38KChVJo4z5LkksYRarDo8QgQ7xEKmYmPvRr_I7gvM2bmlZQds2OeqWLB1NSNbFZqyFOCgYn3bAQ-nEQSKwBaA36jYGPOVG2r2Qv1uKcpSOxzxaQybzYpQ
```

> [!TIP]
> <span data-ttu-id="00a43-146">Övningen tooinspect hello-anspråk i hello exempel ID-token, klistra in hello exempel ID-token till [calebb.net](http://calebb.net/).</span><span class="sxs-lookup"><span data-stu-id="00a43-146">For practice, tooinspect hello claims in hello sample ID token, paste hello sample ID token into [calebb.net](http://calebb.net/).</span></span>
>
>

#### <a name="claims-in-id-tokens"></a><span data-ttu-id="00a43-147">Anspråk i ID-token</span><span class="sxs-lookup"><span data-stu-id="00a43-147">Claims in ID tokens</span></span>
| <span data-ttu-id="00a43-148">Namn</span><span class="sxs-lookup"><span data-stu-id="00a43-148">Name</span></span> | <span data-ttu-id="00a43-149">Begär</span><span class="sxs-lookup"><span data-stu-id="00a43-149">Claim</span></span> | <span data-ttu-id="00a43-150">Exempelvärde</span><span class="sxs-lookup"><span data-stu-id="00a43-150">Example value</span></span> | <span data-ttu-id="00a43-151">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="00a43-151">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="00a43-152">målgrupp</span><span class="sxs-lookup"><span data-stu-id="00a43-152">audience</span></span> |`aud` |`6731de76-14a6-49ae-97bc-6eba6914391e` |<span data-ttu-id="00a43-153">Identifierar hello avsedda mottagaren av hello-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-153">Identifies hello intended recipient of hello token.</span></span> <span data-ttu-id="00a43-154">I ID-token är hello din app program-ID som tilldelats tooyour app i hello portalen för registrering av Microsoft-program.</span><span class="sxs-lookup"><span data-stu-id="00a43-154">In ID tokens, hello audience is your app's Application ID, assigned tooyour app in hello Microsoft Application Registration Portal.</span></span> <span data-ttu-id="00a43-155">Din app ska verifiera det här värdet och avvisa hello token om hello värdet inte matchar.</span><span class="sxs-lookup"><span data-stu-id="00a43-155">Your app should validate this value, and reject hello token if hello value does not match.</span></span> |
| <span data-ttu-id="00a43-156">Utfärdaren</span><span class="sxs-lookup"><span data-stu-id="00a43-156">issuer</span></span> |`iss` |`https://login.microsoftonline.com/b9419818-09af-49c2-b0c3-653adc1f376e/v2.0 ` |<span data-ttu-id="00a43-157">Identifierar hello säkerhetstokentjänst (STS) som skapar och återställer hello token och hello Azure AD-klient i vilka hello användaren autentiserades.</span><span class="sxs-lookup"><span data-stu-id="00a43-157">Identifies hello security token service (STS) that constructs and returns hello token, and hello Azure AD tenant in which hello user was authenticated.</span></span> <span data-ttu-id="00a43-158">Appen bör verifiera hello utfärdaren anspråk tooensure hello token kom från hello v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="00a43-158">Your app should validate hello issuer claim tooensure that hello token came from hello v2.0 endpoint.</span></span> <span data-ttu-id="00a43-159">Det bör också använda hello GUID-delen av hello toorestrict hello anspråksuppsättningen klienter som kan logga in toohello app.</span><span class="sxs-lookup"><span data-stu-id="00a43-159">It also should use hello GUID portion of hello claim toorestrict hello set of tenants that can sign in toohello app.</span></span> <span data-ttu-id="00a43-160">hello GUID som visar hello användaren är en konsument användare från en Microsoft-kontot är `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="00a43-160">hello GUID that indicates that hello user is a consumer user from a Microsoft account is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> |
| <span data-ttu-id="00a43-161">Utfärdat till</span><span class="sxs-lookup"><span data-stu-id="00a43-161">issued at</span></span> |`iat` |`1452285331` |<span data-ttu-id="00a43-162">hello tid vid vilken hello token har utfärdats, representeras i epok tid.</span><span class="sxs-lookup"><span data-stu-id="00a43-162">hello time at which hello token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="00a43-163">Förfallotid</span><span class="sxs-lookup"><span data-stu-id="00a43-163">expiration time</span></span> |`exp` |`1452289231` |<span data-ttu-id="00a43-164">hello tid vid vilken hello token blir ogiltig representeras i epok tid.</span><span class="sxs-lookup"><span data-stu-id="00a43-164">hello time at which hello token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="00a43-165">Din app ska använda det här anspråket tooverify hello giltighet hello livslängd för token.</span><span class="sxs-lookup"><span data-stu-id="00a43-165">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="00a43-166">Inte före</span><span class="sxs-lookup"><span data-stu-id="00a43-166">not before</span></span> |`nbf` |`1452285331` |<span data-ttu-id="00a43-167">hello tid vid vilken hello token börjar gälla, representeras i epok tid.</span><span class="sxs-lookup"><span data-stu-id="00a43-167">hello time at which hello token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="00a43-168">Det är vanligtvis hello samma som hello utfärdande tid.</span><span class="sxs-lookup"><span data-stu-id="00a43-168">It is usually hello same as hello issuance time.</span></span> <span data-ttu-id="00a43-169">Din app ska använda det här anspråket tooverify hello giltighet hello livslängd för token.</span><span class="sxs-lookup"><span data-stu-id="00a43-169">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="00a43-170">Version</span><span class="sxs-lookup"><span data-stu-id="00a43-170">version</span></span> |`ver` |`2.0` |<span data-ttu-id="00a43-171">hello version av hello-ID-token som definierats av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="00a43-171">hello version of hello ID token, as defined by Azure AD.</span></span> <span data-ttu-id="00a43-172">Hello-värdet är för hello v2.0-slutpunkten `2.0`.</span><span class="sxs-lookup"><span data-stu-id="00a43-172">For hello v2.0 endpoint, hello value is `2.0`.</span></span> |
| <span data-ttu-id="00a43-173">Klient-ID</span><span class="sxs-lookup"><span data-stu-id="00a43-173">tenant ID</span></span> |`tid` |`b9419818-09af-49c2-b0c3-653adc1f376e` |<span data-ttu-id="00a43-174">Det är ett GUID som representerar hello Azure AD-klient som hello användaren från.</span><span class="sxs-lookup"><span data-stu-id="00a43-174">A GUID that represents hello Azure AD tenant that hello user is from.</span></span> <span data-ttu-id="00a43-175">För arbets- och skolkonton konton är hello GUID hello ändras klient-ID för hello organisation som hello användaren tillhör.</span><span class="sxs-lookup"><span data-stu-id="00a43-175">For work and school accounts, hello GUID is hello immutable tenant ID of hello organization that hello user belongs to.</span></span> <span data-ttu-id="00a43-176">Hello-värdet är för personliga konton `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="00a43-176">For personal accounts, hello value is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> <span data-ttu-id="00a43-177">Hej `profile` omfattning krävs beställa tooreceive denna begäran.</span><span class="sxs-lookup"><span data-stu-id="00a43-177">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="00a43-178">Koden hash</span><span class="sxs-lookup"><span data-stu-id="00a43-178">code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="00a43-179">hello kod hash ingår i ID-token endast när hello-ID-token utfärdas med en OAuth 2.0-auktoriseringskod.</span><span class="sxs-lookup"><span data-stu-id="00a43-179">hello code hash is included in ID tokens only when hello ID token is issued with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="00a43-180">Det kan vara används toovalidate hello äkthet en auktoriseringskod.</span><span class="sxs-lookup"><span data-stu-id="00a43-180">It can be used toovalidate hello authenticity of an authorization code.</span></span> <span data-ttu-id="00a43-181">Mer information om hur du utför den här verifieringen finns hello [OpenID Connect specifikationen](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="00a43-181">For details about performing this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="00a43-182">Åtkomst-token hash</span><span class="sxs-lookup"><span data-stu-id="00a43-182">access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="00a43-183">hello åtkomst-token hash ingår i ID-token endast när hello-ID-token utfärdas med en OAuth 2.0-åtkomsttoken.</span><span class="sxs-lookup"><span data-stu-id="00a43-183">hello access token hash is included in ID tokens only when hello ID token is issued with an OAuth 2.0 access token.</span></span> <span data-ttu-id="00a43-184">Det kan vara används toovalidate hello äkthet en åtkomst-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-184">It can be used toovalidate hello authenticity of an access token.</span></span> <span data-ttu-id="00a43-185">Mer information om hur du utför den här verifieringen finns hello [OpenID Connect specifikationen](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="00a43-185">For details about performing this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="00a43-186">temporärt ID</span><span class="sxs-lookup"><span data-stu-id="00a43-186">nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="00a43-187">hello temporärt ID är en strategi för att minimera token replay-attacker.</span><span class="sxs-lookup"><span data-stu-id="00a43-187">hello nonce is a strategy for mitigating token replay attacks.</span></span> <span data-ttu-id="00a43-188">Appen kan ange ett temporärt ID i en auktoriseringsbegäran om med hjälp av hello `nonce` Frågeparametern.</span><span class="sxs-lookup"><span data-stu-id="00a43-188">Your app can specify a nonce in an authorization request by using hello `nonce` query parameter.</span></span> <span data-ttu-id="00a43-189">hello-värde som du anger i hello begäran har genererats i hello ID token `nonce` anspråk som ska ändras.</span><span class="sxs-lookup"><span data-stu-id="00a43-189">hello value you provide in hello request is emitted in hello ID token's `nonce` claim, unmodified.</span></span> <span data-ttu-id="00a43-190">Din app kan kontrollera hello värde mot hello-värdet som det anges på hello begäran, som associerar hello app-session med en specifik ID-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-190">Your app can verify hello value against hello value it specified on hello request, which associates hello app's session with a specific ID token.</span></span> <span data-ttu-id="00a43-191">Din app ska utföra den här verifieringen under verifieringsprocessen för hello-ID-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-191">Your app should perform this validation during hello ID token validation process.</span></span> |
| <span data-ttu-id="00a43-192">namn</span><span class="sxs-lookup"><span data-stu-id="00a43-192">name</span></span> |`name` |`Babe Ruth` |<span data-ttu-id="00a43-193">hello anspråket ger ett läsbart värde som identifierar hello ämnet för hello-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-193">hello name claim provides a human-readable value that identifies hello subject of hello token.</span></span> <span data-ttu-id="00a43-194">hello-värdet är inte säkert toobe unika, är det föränderliga och är utformad toobe används endast för visning.</span><span class="sxs-lookup"><span data-stu-id="00a43-194">hello value is not guaranteed toobe unique, it is mutable, and it's designed toobe used only for display purposes.</span></span> <span data-ttu-id="00a43-195">Hej `profile` omfattning krävs beställa tooreceive denna begäran.</span><span class="sxs-lookup"><span data-stu-id="00a43-195">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="00a43-196">E-post</span><span class="sxs-lookup"><span data-stu-id="00a43-196">email</span></span> |`email` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="00a43-197">hello primära e-postadress som är associerad med hello användarkonto, om sådan finns.</span><span class="sxs-lookup"><span data-stu-id="00a43-197">hello primary email address associated with hello user account, if one exists.</span></span> <span data-ttu-id="00a43-198">Värdet är föränderliga och kan ändras med tiden.</span><span class="sxs-lookup"><span data-stu-id="00a43-198">Its value is mutable and might change over time.</span></span> <span data-ttu-id="00a43-199">Hej `email` omfattning krävs beställa tooreceive denna begäran.</span><span class="sxs-lookup"><span data-stu-id="00a43-199">hello `email` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="00a43-200">prioriterade användarnamn</span><span class="sxs-lookup"><span data-stu-id="00a43-200">preferred username</span></span> |`preferred_username` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="00a43-201">hello primära användarnamnet som representerar hello användare i hello v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="00a43-201">hello primary username that represents hello user in hello v2.0 endpoint.</span></span> <span data-ttu-id="00a43-202">Det kan vara en e-postadress, telefonnummer och ett allmänt användarnamn utan angivet format.</span><span class="sxs-lookup"><span data-stu-id="00a43-202">It could be an email address, phone number, or a generic username without a specified format.</span></span> <span data-ttu-id="00a43-203">Värdet är föränderliga och kan ändras med tiden.</span><span class="sxs-lookup"><span data-stu-id="00a43-203">Its value is mutable and might change over time.</span></span> <span data-ttu-id="00a43-204">Hej `profile` omfattning krävs beställa tooreceive denna begäran.</span><span class="sxs-lookup"><span data-stu-id="00a43-204">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="00a43-205">Ämne</span><span class="sxs-lookup"><span data-stu-id="00a43-205">subject</span></span> |`sub` |`MF4f-ggWMEji12KynJUNQZphaUTvLcQug5jdF2nl01Q` | <span data-ttu-id="00a43-206">hello principal om vilka hello token Assert information, till exempel hello användare av en app.</span><span class="sxs-lookup"><span data-stu-id="00a43-206">hello principal about which hello token asserts information, such as hello user of an app.</span></span> <span data-ttu-id="00a43-207">Det här värdet är oföränderlig och kan inte tilldela om eller återanvänds.</span><span class="sxs-lookup"><span data-stu-id="00a43-207">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="00a43-208">Det kan vara används tooperform auktoriseringskontroller på ett säkert sätt, till exempel när hello token är används tooaccess en resurs och kan användas som en nyckel i databastabeller.</span><span class="sxs-lookup"><span data-stu-id="00a43-208">It can be used tooperform authorization checks safely, such as when hello token is used tooaccess a resource, and can be used as a key in database tables.</span></span> <span data-ttu-id="00a43-209">Eftersom hello ämne finns alltid i hello token som Azure AD utfärdar, bör du använda det här värdet i ett system med allmänna tillstånd.</span><span class="sxs-lookup"><span data-stu-id="00a43-209">Because hello subject is always present in hello tokens that Azure AD issues, we recommend using this value in a general-purpose authorization system.</span></span> <span data-ttu-id="00a43-210">hello ämne är dock en pairwise identifierare – det är unikt tooa visst program-ID.</span><span class="sxs-lookup"><span data-stu-id="00a43-210">hello subject is, however, a pairwise identifier - it is unique tooa particular application ID.</span></span>  <span data-ttu-id="00a43-211">Därför om en användare loggar in på två olika appar som använder två olika klient-ID: N, får de apparna som två olika värden för hello ämne anspråk.</span><span class="sxs-lookup"><span data-stu-id="00a43-211">Therefore, if a single user signs into two different apps using two different client IDs, those apps will receive two different values for hello subject claim.</span></span>  <span data-ttu-id="00a43-212">Detta kan eller inte vara önskvärt beroende på dina krav arkitektur och sekretess.</span><span class="sxs-lookup"><span data-stu-id="00a43-212">This may or may not be desired depending on your architecture and privacy requirements.</span></span> |
| <span data-ttu-id="00a43-213">Objekt-ID</span><span class="sxs-lookup"><span data-stu-id="00a43-213">object ID</span></span> |`oid` |`a1dbdde8-e4f9-4571-ad93-3059e3750d23` | <span data-ttu-id="00a43-214">Hej ändras identifierare för ett objekt i hello Microsoft identitetssystem i det här fallet ett användarkonto.</span><span class="sxs-lookup"><span data-stu-id="00a43-214">hello immutable identifier for an object in hello Microsoft identity system, in this case, a user account.</span></span>  <span data-ttu-id="00a43-215">Det kan också vara används tooperform auktoriseringskontroller på ett säkert sätt och som en nyckel i databastabeller.</span><span class="sxs-lookup"><span data-stu-id="00a43-215">It can also be used tooperform authorization checks safely and as a key in database tables.</span></span> <span data-ttu-id="00a43-216">Detta ID identifierar hello användare i program - två olika program som loggar in hello samma användare får hello samma värde i hello `oid` anspråk.</span><span class="sxs-lookup"><span data-stu-id="00a43-216">This ID uniquely identifies hello user across applications - two different applications signing in hello same user will receive hello same value in hello `oid` claim.</span></span>  <span data-ttu-id="00a43-217">Det innebär att den kan användas när du skapar frågor tooMicrosoft onlinetjänster som hello Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="00a43-217">This means that it can be used when making queries tooMicrosoft online services, such as hello Microsoft Graph.</span></span>  <span data-ttu-id="00a43-218">hello Microsoft Graph returnerar detta ID som hello `id` -egenskapen för ett givet användarkonto.</span><span class="sxs-lookup"><span data-stu-id="00a43-218">hello Microsoft Graph will return this ID as hello `id` property for a given user account.</span></span>  <span data-ttu-id="00a43-219">Eftersom hello `oid` tillåter flera appar toocorrelate användare hello `profile` omfattning krävs beställa tooreceive denna begäran.</span><span class="sxs-lookup"><span data-stu-id="00a43-219">Because hello `oid` allows multiple apps toocorrelate users, hello `profile` scope is required in order tooreceive this claim.</span></span> <span data-ttu-id="00a43-220">Observera att om en användare finns i flera innehavare, hello användaren innehåller ett annat objekt-ID i varje klient - de anses vara olika konton, även om hello användarloggar in varje konto med hello samma autentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="00a43-220">Note that if a single user exists in multiple tenants, hello user will contain a different object ID in each tenant - they are considered different accounts, even though hello user logs into each account with hello same credentials.</span></span> |

### <a name="access-tokens"></a><span data-ttu-id="00a43-221">Åtkomst-token</span><span class="sxs-lookup"><span data-stu-id="00a43-221">Access tokens</span></span>
<span data-ttu-id="00a43-222">Åtkomst-token som utfärdas av hello v2.0-slutpunkten kan för närvarande används endast av Microsoft Services.</span><span class="sxs-lookup"><span data-stu-id="00a43-222">Currently, access tokens issued by hello v2.0 endpoint can be consumed only by Microsoft Services.</span></span> <span data-ttu-id="00a43-223">Apparna bör inte kräver tooperform alla verifiering eller kontroll av åtkomsttoken för någon av hello stöds för närvarande scenarier.</span><span class="sxs-lookup"><span data-stu-id="00a43-223">Your apps shouldn't need tooperform any validation or inspection of access tokens for any of hello currently supported scenarios.</span></span> <span data-ttu-id="00a43-224">Du kan hantera åtkomst-token som helt ogenomskinlig.</span><span class="sxs-lookup"><span data-stu-id="00a43-224">You can treat access tokens as completely opaque.</span></span> <span data-ttu-id="00a43-225">De är bara strängar som din app kan skicka tooMicrosoft i HTTP-förfrågningar.</span><span class="sxs-lookup"><span data-stu-id="00a43-225">They are just strings that your app can pass tooMicrosoft in HTTP requests.</span></span>

<span data-ttu-id="00a43-226">I hello nära framtida hello v2.0 introduceras endpoint hello möjligheten för din app tooreceive åtkomst-token från andra klienter.</span><span class="sxs-lookup"><span data-stu-id="00a43-226">In hello near future, hello v2.0 endpoint will introduce hello ability for your app tooreceive access tokens from other clients.</span></span> <span data-ttu-id="00a43-227">Hello informationen i det här referensavsnittet kommer att uppdateras med hello information som du behöver för din app tooperform åtkomst-token verifiering och andra liknande uppgifter som helst.</span><span class="sxs-lookup"><span data-stu-id="00a43-227">At that time, hello information in this reference topic will be updated with hello information that you need for your app tooperform access token validation and other similar tasks.</span></span>

<span data-ttu-id="00a43-228">När du begär en åtkomst-token från hello v2.0-slutpunkten returnerar metadata om hello åtkomsttoken för din app toouse även hello v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="00a43-228">When you request an access token from hello v2.0 endpoint, hello v2.0 endpoint also returns metadata about hello access token for your app toouse.</span></span> <span data-ttu-id="00a43-229">Informationen omfattar hello förfallotiden för hello åtkomst-token och hello omfattningar som är giltig.</span><span class="sxs-lookup"><span data-stu-id="00a43-229">This information includes hello expiry time of hello access token and hello scopes for which it is valid.</span></span> <span data-ttu-id="00a43-230">Din app använder det här metadata tooperform intelligent cachelagring av åtkomsttoken utan åtkomsttoken för tooparse öppna hello sig själv.</span><span class="sxs-lookup"><span data-stu-id="00a43-230">Your app uses this metadata tooperform intelligent caching of access tokens without having tooparse open hello access token itself.</span></span>

### <a name="refresh-tokens"></a><span data-ttu-id="00a43-231">Uppdatera token</span><span class="sxs-lookup"><span data-stu-id="00a43-231">Refresh tokens</span></span>
<span data-ttu-id="00a43-232">Uppdatera token är säkerhetstoken som din app kan använda tooget nya åtkomst till token i en OAuth 2.0-flödet.</span><span class="sxs-lookup"><span data-stu-id="00a43-232">Refresh tokens are security tokens that your app can use tooget new access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="00a43-233">Din app kan använda uppdatera token tooachieve långsiktiga åtkomst tooresources för en användares räkning utan interaktion med användaren hello.</span><span class="sxs-lookup"><span data-stu-id="00a43-233">Your app can use refresh tokens tooachieve long-term access tooresources on behalf of a user without requiring interaction with hello user.</span></span>

<span data-ttu-id="00a43-234">Uppdaterings-tokens är flera resurs.</span><span class="sxs-lookup"><span data-stu-id="00a43-234">Refresh tokens are multi-resource.</span></span> <span data-ttu-id="00a43-235">En uppdateringstoken som togs emot under en Tokenbegäran för en resurs kan lösas för åtkomst-token tooa helt annan resurs.</span><span class="sxs-lookup"><span data-stu-id="00a43-235">A refresh token received during a token request for one resource can be redeemed for access tokens tooa completely different resource.</span></span>

<span data-ttu-id="00a43-236">tooreceive en uppdatering i en token svar din app måste begära och beviljas hello `offline_acesss` omfång.</span><span class="sxs-lookup"><span data-stu-id="00a43-236">tooreceive a refresh in a token response, your app must request and be granted hello `offline_acesss` scope.</span></span> <span data-ttu-id="00a43-237">Mer om hello toolearn `offline_access` omfång, se hello [medgivande och scope](active-directory-v2-scopes.md) artikel.</span><span class="sxs-lookup"><span data-stu-id="00a43-237">toolearn more about hello `offline_access` scope, see hello [consent and scopes](active-directory-v2-scopes.md) article.</span></span>

<span data-ttu-id="00a43-238">Uppdatera token är och alltid kommer att vara, helt ogenomskinlig tooyour app.</span><span class="sxs-lookup"><span data-stu-id="00a43-238">Refresh tokens are, and always will be, completely opaque tooyour app.</span></span> <span data-ttu-id="00a43-239">De kan har utfärdats av hello Azure AD v2.0-slutpunkten och bara kontrolleras och tolkas av hello v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="00a43-239">They are issued by hello Azure AD v2.0 endpoint and can only be inspected and interpreted by hello v2.0 endpoint.</span></span> <span data-ttu-id="00a43-240">De är långlivade, men din app ska inte skrivas tooexpect som en uppdateringstoken ska gälla för en viss tidsperiod.</span><span class="sxs-lookup"><span data-stu-id="00a43-240">They are long-lived, but your app should not be written tooexpect that a refresh token will last for any period of time.</span></span> <span data-ttu-id="00a43-241">Uppdaterings-tokens kan vara inaktuella när som helst av olika skäl.</span><span class="sxs-lookup"><span data-stu-id="00a43-241">Refresh tokens can be invalidated at any moment for various reasons.</span></span> <span data-ttu-id="00a43-242">Hej sätt för din app tooknow om en uppdateringstoken är giltig är tooattempt tooredeem den genom att göra en tokenbegäran toohello v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="00a43-242">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request toohello v2.0 endpoint.</span></span>

<span data-ttu-id="00a43-243">När du lösa in en uppdateringstoken för en ny åtkomsttoken (och om din app har beviljats hello `offline_access` omfattning), du får en ny uppdateringstoken hello token svar.</span><span class="sxs-lookup"><span data-stu-id="00a43-243">When you redeem a refresh token for a new access token (and if your app had been granted hello `offline_access` scope), you receive a new refresh token in hello token response.</span></span> <span data-ttu-id="00a43-244">Spara hello nyligen utfärdade uppdatera token, tooreplace hello något du använde i hello-begäran.</span><span class="sxs-lookup"><span data-stu-id="00a43-244">Save hello newly issued refresh token, tooreplace hello one you used in hello request.</span></span> <span data-ttu-id="00a43-245">Detta garanterar att uppdaterings-tokens vara giltigt så länge som möjligt.</span><span class="sxs-lookup"><span data-stu-id="00a43-245">This guarantees that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="00a43-246">Verifiera token</span><span class="sxs-lookup"><span data-stu-id="00a43-246">Validating tokens</span></span>
<span data-ttu-id="00a43-247">För närvarande hello endast token validering dina appar bör måste tooperform verifieras ID-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-247">Currently, hello only token validation your apps should need tooperform is validating ID tokens.</span></span> <span data-ttu-id="00a43-248">toovalidate en ID-token appen bör verifiera både hello-ID-token signatur och hello anspråk i hello-ID-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-248">toovalidate an ID token, your app should validate both hello ID token's signature and hello claims in hello ID token.</span></span>

<!-- TODO: Link -->
<span data-ttu-id="00a43-249">Microsoft tillhandahåller bibliotek och kodexempel som visar hur tooeasily hantera token validering.</span><span class="sxs-lookup"><span data-stu-id="00a43-249">Microsoft provides libraries and code samples that show you how tooeasily handle token validation.</span></span> <span data-ttu-id="00a43-250">I nästa avsnitt hello beskrivs hello underliggande processen.</span><span class="sxs-lookup"><span data-stu-id="00a43-250">In hello next sections, we describe hello underlying process.</span></span> <span data-ttu-id="00a43-251">Flera från tredje part öppen källkod bibliotek är tillgängliga för JWT-verifiering.</span><span class="sxs-lookup"><span data-stu-id="00a43-251">Several third-party open-source libraries also are available for JWT validation.</span></span> <span data-ttu-id="00a43-252">Det finns minst ett bibliotek alternativ för nästan alla plattformar och språk.</span><span class="sxs-lookup"><span data-stu-id="00a43-252">There's at least one library option for almost every platform and language.</span></span>

### <a name="validate-hello-signature"></a><span data-ttu-id="00a43-253">Validera hello signatur</span><span class="sxs-lookup"><span data-stu-id="00a43-253">Validate hello signature</span></span>
<span data-ttu-id="00a43-254">En JWT innehåller tre segment som avgränsas med hello `.` tecken.</span><span class="sxs-lookup"><span data-stu-id="00a43-254">A JWT contains three segments, which are separated by hello `.` character.</span></span> <span data-ttu-id="00a43-255">hello första segmentet kallas hello *huvud*, hello andra segmentet är hello *brödtext*, och tredje hello-segment är hello *signatur*.</span><span class="sxs-lookup"><span data-stu-id="00a43-255">hello first segment is known as hello *header*, hello second segment is hello *body*, and hello third segment is hello *signature*.</span></span> <span data-ttu-id="00a43-256">hello signatur segment kan vara används toovalidate hello äkthet hello-ID-token så att den kan vara betrott av din app.</span><span class="sxs-lookup"><span data-stu-id="00a43-256">hello signature segment can be used toovalidate hello authenticity of hello ID token so that it can be trusted by your app.</span></span>

<span data-ttu-id="00a43-257">ID-token är signerade med branschstandard asymmetriska krypteringsalgoritmer, till exempel RSA-256.</span><span class="sxs-lookup"><span data-stu-id="00a43-257">ID tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="00a43-258">hello rubriken på hello-ID-token har information om hello nyckeln och krypteringsmetod använt toosign hello-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-258">hello header of hello ID token has information about hello key and encryption method used toosign hello token.</span></span> <span data-ttu-id="00a43-259">Exempel:</span><span class="sxs-lookup"><span data-stu-id="00a43-259">For example:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "kid": "MnC_VZcATfM5pOYiJHMba9goEKY"
}
```

<span data-ttu-id="00a43-260">Hej `alg` anspråk anger hello-algoritmen som har använt toosign hello-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-260">hello `alg` claim indicates hello algorithm that was used toosign hello token.</span></span> <span data-ttu-id="00a43-261">Hej `kid` anspråk anger hello offentlig nyckel som har använt toosign hello-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-261">hello `kid` claim indicates hello public key that was used toosign hello token.</span></span>

<span data-ttu-id="00a43-262">När som helst kan hello v2.0-slutpunkten logga en ID-token med hjälp av någon av en specifik uppsättning privat-offentligt nyckelpar.</span><span class="sxs-lookup"><span data-stu-id="00a43-262">At any time, hello v2.0 endpoint might sign an ID token by using any one of a specific set of public-private key pairs.</span></span> <span data-ttu-id="00a43-263">hello v2.0-slutpunkten roterar regelbundet hello möjliga uppsättning nycklar, så att din app ska skrivas toohandle dessa nyckel ändras automatiskt.</span><span class="sxs-lookup"><span data-stu-id="00a43-263">hello v2.0 endpoint periodically rotates hello possible set of keys, so your app should be written toohandle those key changes automatically.</span></span> <span data-ttu-id="00a43-264">En rimlig frekvens toocheck för uppdateringar toohello offentliga nycklar som används av hello v2.0-slutpunkten är 24 timmar.</span><span class="sxs-lookup"><span data-stu-id="00a43-264">A reasonable frequency toocheck for updates toohello public keys used by hello v2.0 endpoint is every 24 hours.</span></span>

<span data-ttu-id="00a43-265">Du kan skaffa hello signering viktiga data som du behöver toovalidate hello signatur med hjälp av hello OpenID Connect metadata dokument som finns på:</span><span class="sxs-lookup"><span data-stu-id="00a43-265">You can acquire hello signing key data that you need toovalidate hello signature by using hello OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="00a43-266">Försök hello URL i en webbläsare!</span><span class="sxs-lookup"><span data-stu-id="00a43-266">Try hello URL in a browser!</span></span>
>
>

<span data-ttu-id="00a43-267">Metadatadokumentet är en JSON-objekt som har flera användbara delar av information, till exempel hello platsen för hello olika slutpunkter som krävs för OpenID Connect-autentisering.</span><span class="sxs-lookup"><span data-stu-id="00a43-267">This metadata document is a JSON object that has several useful pieces of information, such as hello location of hello various endpoints required for OpenID Connect authentication.</span></span>  <span data-ttu-id="00a43-268">hello-dokumentet innehåller också en *jwks_uri*, vilket ger hello platsen för hello uppsättning offentliga nycklar används toosign token.</span><span class="sxs-lookup"><span data-stu-id="00a43-268">hello document also includes a *jwks_uri*, which gives hello location of hello set of public keys used toosign tokens.</span></span> <span data-ttu-id="00a43-269">hello JSON-dokumentet på hello jwks_uri har alla hello offentlig nyckelinformation som används för närvarande.</span><span class="sxs-lookup"><span data-stu-id="00a43-269">hello JSON document located at hello jwks_uri has all hello public key information that is currently in use.</span></span> <span data-ttu-id="00a43-270">Din app kan använda hello `kid` anspråk i hello JWT huvud tooselect vilka offentliga nyckeln i det här dokumentet har använt toosign en token.</span><span class="sxs-lookup"><span data-stu-id="00a43-270">Your app can use hello `kid` claim in hello JWT header tooselect which public key in this document has been used toosign a token.</span></span> <span data-ttu-id="00a43-271">Signaturverifiering utför sedan med hjälp av hello rätt offentlig nyckel och hello angivna algoritm.</span><span class="sxs-lookup"><span data-stu-id="00a43-271">It then performs signature validation by using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="00a43-272">Utför signaturverifiering är utanför hello omfånget för det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="00a43-272">Performing signature validation is outside hello scope of this document.</span></span> <span data-ttu-id="00a43-273">Många öppen källkod bibliotek är tillgängligt toohelp du med den här.</span><span class="sxs-lookup"><span data-stu-id="00a43-273">Many open-source libraries are available toohelp you with this.</span></span>

### <a name="validate-hello-claims"></a><span data-ttu-id="00a43-274">Validera hello anspråk</span><span class="sxs-lookup"><span data-stu-id="00a43-274">Validate hello claims</span></span>
<span data-ttu-id="00a43-275">När appen tar emot en ID-token när användaren loggar in, bör det också utföra några kontroller mot hello anspråk i hello-ID-token.</span><span class="sxs-lookup"><span data-stu-id="00a43-275">When your app receives an ID token upon user sign-in, it should also perform a few checks against hello claims in hello ID token.</span></span> <span data-ttu-id="00a43-276">Dessa inkludera, men är inte begränsade till:</span><span class="sxs-lookup"><span data-stu-id="00a43-276">These include but are not limited to:</span></span>

* <span data-ttu-id="00a43-277">**målgruppen** anspråk tooverify som hello-ID-token har avsedda toobe angivna tooyour app</span><span class="sxs-lookup"><span data-stu-id="00a43-277">**audience** claim, tooverify that hello ID token was intended toobe given tooyour app</span></span>
* <span data-ttu-id="00a43-278">**inte före** och **förfallotid** anspråk, tooverify som hello-ID-token inte har upphört att gälla</span><span class="sxs-lookup"><span data-stu-id="00a43-278">**not before** and **expiration time** claims, tooverify that hello ID token has not expired</span></span>
* <span data-ttu-id="00a43-279">**utfärdaren** anspråk tooverify hello token har utfärdats tooyour app av hello v2.0-slutpunkten</span><span class="sxs-lookup"><span data-stu-id="00a43-279">**issuer** claim, tooverify that hello token was issued tooyour app by hello v2.0 endpoint</span></span>
* <span data-ttu-id="00a43-280">**temporärt ID**, som en token replay-attacker lösning</span><span class="sxs-lookup"><span data-stu-id="00a43-280">**nonce**, as a token replay attack mitigation</span></span>

<span data-ttu-id="00a43-281">En fullständig lista över anspråk verifieringar som din app ska utföra finns hello [OpenID Connect specifikationen](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span><span class="sxs-lookup"><span data-stu-id="00a43-281">For a full list of claim validations that your app should perform, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span>

<span data-ttu-id="00a43-282">Information om hello förväntade värden för dessa anspråk som ingår i hello [ID-token](# ID tokens) avsnitt.</span><span class="sxs-lookup"><span data-stu-id="00a43-282">Details of hello expected values for these claims are included in hello [ID tokens](# ID tokens) section.</span></span>

## <a name="token-lifetimes"></a><span data-ttu-id="00a43-283">Livslängd för token</span><span class="sxs-lookup"><span data-stu-id="00a43-283">Token lifetimes</span></span>
<span data-ttu-id="00a43-284">Vi ger hello följande token livslängd endast i informationssyfte.</span><span class="sxs-lookup"><span data-stu-id="00a43-284">We provide hello following token lifetimes for your information only.</span></span> <span data-ttu-id="00a43-285">hello information kan hjälpa dig när du utvecklar och felsöka appar.</span><span class="sxs-lookup"><span data-stu-id="00a43-285">hello information might help you as you develop and debug apps.</span></span> <span data-ttu-id="00a43-286">Dina appar får inte vara skrivs tooexpect någon av dessa livslängd tooremain konstant.</span><span class="sxs-lookup"><span data-stu-id="00a43-286">Your apps should not be written tooexpect any of these lifetimes tooremain constant.</span></span> <span data-ttu-id="00a43-287">Token kan livslängd och kommer att ändras när som helst.</span><span class="sxs-lookup"><span data-stu-id="00a43-287">Token lifetimes can and will change at any time.</span></span>

| <span data-ttu-id="00a43-288">Token</span><span class="sxs-lookup"><span data-stu-id="00a43-288">Token</span></span> | <span data-ttu-id="00a43-289">Livslängd</span><span class="sxs-lookup"><span data-stu-id="00a43-289">Lifetime</span></span> | <span data-ttu-id="00a43-290">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="00a43-290">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="00a43-291">ID-token (arbets- eller skolkonto konton)</span><span class="sxs-lookup"><span data-stu-id="00a43-291">ID tokens (work or school accounts)</span></span> |<span data-ttu-id="00a43-292">1 timme</span><span class="sxs-lookup"><span data-stu-id="00a43-292">1 hour</span></span> |<span data-ttu-id="00a43-293">ID-token är oftast giltigt för 1 timme.</span><span class="sxs-lookup"><span data-stu-id="00a43-293">ID tokens typically are valid for 1 hour.</span></span> <span data-ttu-id="00a43-294">Ditt webbprogram kan använda den här samma livstid toomaintain sin egen session med hello användaren (rekommenderas), eller om du kan välja en helt annan session livslängd.</span><span class="sxs-lookup"><span data-stu-id="00a43-294">Your web app can use this same lifetime toomaintain its own session with hello user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="00a43-295">Om din app måste tooget en ny ID-token, måste det toomake en ny inloggning begäran toohello v2.0 auktorisera slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="00a43-295">If your app needs tooget a new ID token, it needs toomake a new sign-in request toohello v2.0 authorize endpoint.</span></span> <span data-ttu-id="00a43-296">Om hello användare har en giltig webbläsarsession med hello v2.0-slutpunkten kan hello användaren kan inte vara nödvändiga tooenter sina autentiseringsuppgifter igen.</span><span class="sxs-lookup"><span data-stu-id="00a43-296">If hello user has a valid browser session with hello v2.0 endpoint, hello user might not be required tooenter their credentials again.</span></span> |
| <span data-ttu-id="00a43-297">ID-token (personliga konton)</span><span class="sxs-lookup"><span data-stu-id="00a43-297">ID tokens (personal accounts)</span></span> |<span data-ttu-id="00a43-298">24 timmar</span><span class="sxs-lookup"><span data-stu-id="00a43-298">24 hours</span></span> |<span data-ttu-id="00a43-299">ID-token för personliga konton är oftast giltigt under 24 timmar.</span><span class="sxs-lookup"><span data-stu-id="00a43-299">ID tokens for personal accounts typically are valid for 24 hours.</span></span> <span data-ttu-id="00a43-300">Ditt webbprogram kan använda den här samma livstid toomaintain sin egen session med hello användaren (rekommenderas), eller om du kan välja en helt annan session livslängd.</span><span class="sxs-lookup"><span data-stu-id="00a43-300">Your web app can use this same lifetime toomaintain its own session with hello user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="00a43-301">Om din app måste tooget en ny ID-token, måste det toomake en ny inloggning begäran toohello v2.0 auktorisera slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="00a43-301">If your app needs tooget a new ID token, it needs toomake a new sign-in request toohello v2.0 authorize endpoint.</span></span> <span data-ttu-id="00a43-302">Om hello användare har en giltig webbläsarsession med hello v2.0-slutpunkten kan hello användaren kan inte vara nödvändiga tooenter sina autentiseringsuppgifter igen.</span><span class="sxs-lookup"><span data-stu-id="00a43-302">If hello user has a valid browser session with hello v2.0 endpoint, hello user might not be required tooenter their credentials again.</span></span> |
| <span data-ttu-id="00a43-303">Åtkomst-token (arbets- eller skolkonto konton)</span><span class="sxs-lookup"><span data-stu-id="00a43-303">Access tokens (work or school accounts)</span></span> |<span data-ttu-id="00a43-304">1 timme</span><span class="sxs-lookup"><span data-stu-id="00a43-304">1 hour</span></span> |<span data-ttu-id="00a43-305">Visas i token svar som en del av hello token metadata.</span><span class="sxs-lookup"><span data-stu-id="00a43-305">Indicated in token responses as part of hello token metadata.</span></span> |
| <span data-ttu-id="00a43-306">Åtkomst-token (personliga konton)</span><span class="sxs-lookup"><span data-stu-id="00a43-306">Access tokens (personal accounts)</span></span> |<span data-ttu-id="00a43-307">1 timme</span><span class="sxs-lookup"><span data-stu-id="00a43-307">1 hour</span></span> |<span data-ttu-id="00a43-308">Visas i token svar som en del av hello token metadata.</span><span class="sxs-lookup"><span data-stu-id="00a43-308">Indicated in token responses as part of hello token metadata.</span></span> <span data-ttu-id="00a43-309">Åtkomsttoken som utfärdas åt personliga konton kan konfigureras för ett annat livstid, men 1 timme är vanliga.</span><span class="sxs-lookup"><span data-stu-id="00a43-309">Access tokens that are issued on behalf of personal accounts can be configured for a different lifetime, but 1 hour is typical.</span></span> |
| <span data-ttu-id="00a43-310">Uppdatera token (arbets- eller skolkonto konto)</span><span class="sxs-lookup"><span data-stu-id="00a43-310">Refresh tokens (work or school account)</span></span> |<span data-ttu-id="00a43-311">In too14 dagar</span><span class="sxs-lookup"><span data-stu-id="00a43-311">Up too14 days</span></span> |<span data-ttu-id="00a43-312">En enskild uppdateringstoken är giltig för 14 dagar.</span><span class="sxs-lookup"><span data-stu-id="00a43-312">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="00a43-313">Hej uppdateringstoken kan dock bli ogiltiga när som helst av olika skäl, så att din app ska fortsätta tootry toouse en uppdateringstoken tills det misslyckas, eller tills appen ersätts med en ny uppdateringstoken.</span><span class="sxs-lookup"><span data-stu-id="00a43-313">However, hello refresh token might become invalid at any time for various reasons, so your app should continue tootry toouse a refresh token until it fails, or until your app replaces it with a new refresh token.</span></span> <span data-ttu-id="00a43-314">En uppdateringstoken blir ogiltig om det har gått 90 dagar sedan hello användarens sina autentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="00a43-314">A refresh token also becomes invalid if it has been 90 days since hello user has entered their credentials.</span></span> |
| <span data-ttu-id="00a43-315">Uppdatera token (personliga konton)</span><span class="sxs-lookup"><span data-stu-id="00a43-315">Refresh tokens (personal accounts)</span></span> |<span data-ttu-id="00a43-316">Too1 år</span><span class="sxs-lookup"><span data-stu-id="00a43-316">Up too1 year</span></span> |<span data-ttu-id="00a43-317">En enskild uppdateringstoken är giltig för högst 1 år.</span><span class="sxs-lookup"><span data-stu-id="00a43-317">A single refresh token is valid for a maximum of 1 year.</span></span> <span data-ttu-id="00a43-318">Dock hello uppdateringstoken kan bli ogiltiga när som helst av olika skäl, så att din app ska fortsätta tootry toouse en uppdateringstoken tills den misslyckas.</span><span class="sxs-lookup"><span data-stu-id="00a43-318">However, hello refresh token might become invalid at any time for various reasons, so your app should continue tootry toouse a refresh token until it fails.</span></span> |
| <span data-ttu-id="00a43-319">Auktoriseringskoder (arbets- eller skolkonto konton)</span><span class="sxs-lookup"><span data-stu-id="00a43-319">Authorization codes (work or school accounts)</span></span> |<span data-ttu-id="00a43-320">10 minuter</span><span class="sxs-lookup"><span data-stu-id="00a43-320">10 minutes</span></span> |<span data-ttu-id="00a43-321">Auktoriseringskoder är ändamålsenligt tillfällig och bör omedelbart lösas för åtkomst-token och uppdateringstoken när hello token tas emot.</span><span class="sxs-lookup"><span data-stu-id="00a43-321">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when hello tokens are received.</span></span> |
| <span data-ttu-id="00a43-322">Auktoriseringskoder (personliga konton)</span><span class="sxs-lookup"><span data-stu-id="00a43-322">Authorization codes (personal accounts)</span></span> |<span data-ttu-id="00a43-323">5 minuter</span><span class="sxs-lookup"><span data-stu-id="00a43-323">5 minutes</span></span> |<span data-ttu-id="00a43-324">Auktoriseringskoder är ändamålsenligt tillfällig och bör omedelbart lösas för åtkomst-token och uppdateringstoken när hello token tas emot.</span><span class="sxs-lookup"><span data-stu-id="00a43-324">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when hello tokens are received.</span></span> <span data-ttu-id="00a43-325">Auktoriseringskoder som har utfärdats för personliga konton är för enstaka användning.</span><span class="sxs-lookup"><span data-stu-id="00a43-325">Authorization codes that are issued on behalf of personal accounts are for one-time use.</span></span> |
