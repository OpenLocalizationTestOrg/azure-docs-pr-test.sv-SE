---
title: Azure Active Directory v2.0 tokens referens | Microsoft Docs
description: "Typer av token och anspråk som sänds av Azure AD v2.0-slutpunkten"
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: dc58c282-9684-4b38-b151-f3e079f034fd
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/07/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: a3611a239fe044cf1b953220a6e96b0e101f47a4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="azure-active-directory-v20-tokens-reference"></a><span data-ttu-id="f00b8-103">Azure Active Directory v2.0 token-referens</span><span class="sxs-lookup"><span data-stu-id="f00b8-103">Azure Active Directory v2.0 tokens reference</span></span>
<span data-ttu-id="f00b8-104">Azure Active Directory (AD Azure) v2.0-slutpunkten genererar flera typer av säkerhetstoken i varje [autentiseringsflödet](active-directory-v2-flows.md).</span><span class="sxs-lookup"><span data-stu-id="f00b8-104">The Azure Active Directory (Azure AD) v2.0 endpoint emits several types of security tokens in each [authentication flow](active-directory-v2-flows.md).</span></span> <span data-ttu-id="f00b8-105">Den här referensen beskriver format, säkerhet egenskaperna och innehållet i varje typ av token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-105">This reference describes the format, security characteristics, and contents of each type of token.</span></span>

> [!NOTE]
> <span data-ttu-id="f00b8-106">V2.0-slutpunkten har inte stöd för alla Azure Active Directory-scenarier och funktioner.</span><span class="sxs-lookup"><span data-stu-id="f00b8-106">The v2.0 endpoint does not support all Azure Active Directory scenarios and features.</span></span> <span data-ttu-id="f00b8-107">Läs mer om för att avgöra om du ska använda v2.0-slutpunkten [v2.0 begränsningar](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="f00b8-107">To determine whether you should use the v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>
>

## <a name="types-of-tokens"></a><span data-ttu-id="f00b8-108">Typer av token</span><span class="sxs-lookup"><span data-stu-id="f00b8-108">Types of tokens</span></span>
<span data-ttu-id="f00b8-109">V2.0-slutpunkten stöder den [OAuth 2.0-protokollet för auktorisering](active-directory-v2-protocols.md), som använder token uppdatera token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-109">The v2.0 endpoint supports the [OAuth 2.0 authorization protocol](active-directory-v2-protocols.md), which uses access tokens and refresh tokens.</span></span> <span data-ttu-id="f00b8-110">V2.0-slutpunkten stöder också autentisering och logga in via [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="f00b8-110">The v2.0 endpoint also supports authentication and sign-in via [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="f00b8-111">OpenID Connect introducerar en tredje typ av token ID-token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-111">OpenID Connect introduces a third type of token, the ID token.</span></span> <span data-ttu-id="f00b8-112">Var och en av dessa token representeras som en *ägar* token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-112">Each of these tokens is represented as a *bearer* token.</span></span>

<span data-ttu-id="f00b8-113">Ett ägartoken är en förenklad säkerhetstoken som ger ägar-åtkomst till en skyddad resurs.</span><span class="sxs-lookup"><span data-stu-id="f00b8-113">A bearer token is a lightweight security token that grants the bearer access to a protected resource.</span></span> <span data-ttu-id="f00b8-114">Innehavaren är någon part som kan ge token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-114">The bearer is any party that can present the token.</span></span> <span data-ttu-id="f00b8-115">Även om en part måste autentisera med Azure AD ta emot ägartoken om stegen inte vidtas för att skydda token under överföringen och lagringen, kan de snappas upp och används av en oavsiktlig part.</span><span class="sxs-lookup"><span data-stu-id="f00b8-115">Although a party must authenticate with Azure AD to receive the bearer token, if steps are not taken to secure the token during transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="f00b8-116">Vissa säkerhetstoken har en inbyggd metod för att förhindra att obehöriga personer använder dem, men inte har ägar-token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-116">Some security tokens have a built-in mechanism to prevent unauthorized parties from using them, but bearer tokens do not.</span></span> <span data-ttu-id="f00b8-117">Ägar-token måste transporteras i en säker kanal, till exempel transport layer security (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="f00b8-117">Bearer tokens must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="f00b8-118">Om ett ägartoken överförs utan den här typen av säkerhet, en skadlig part kan använda en ”man-in-the-middle attack” hämta token och använder den för obehörig åtkomst till en skyddad resurs.</span><span class="sxs-lookup"><span data-stu-id="f00b8-118">If a bearer token is transmitted without this type of security, a malicious party could use a "man-in-the-middle attack" to acquire the token and use it for unauthorized access to a protected resource.</span></span> <span data-ttu-id="f00b8-119">Samma säkerhetsprinciper tillämpas när lagring eller cachelagring ägar-token för senare användning.</span><span class="sxs-lookup"><span data-stu-id="f00b8-119">The same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="f00b8-120">Se alltid till att din app på ett säkert sätt överför och lagrar ägar-token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-120">Always ensure that your app securely transmits and stores bearer tokens.</span></span> <span data-ttu-id="f00b8-121">Mer säkerhet för ägar-token finns [RFC 6750 avsnitt 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="f00b8-121">For more security considerations for bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="f00b8-122">Många av de token som utfärdas av v2.0-slutpunkten implementeras som JSON Web token (JWTs).</span><span class="sxs-lookup"><span data-stu-id="f00b8-122">Many of the tokens issued by the v2.0 endpoint are implemented as JSON Web Tokens (JWTs).</span></span> <span data-ttu-id="f00b8-123">En JWT är ett kompakt, URL-säkert sätt att överföra information mellan två parter.</span><span class="sxs-lookup"><span data-stu-id="f00b8-123">A JWT is a compact, URL-safe way to transfer information between two parties.</span></span> <span data-ttu-id="f00b8-124">Informationen i en JWT kallas en *anspråk*.</span><span class="sxs-lookup"><span data-stu-id="f00b8-124">The information in a JWT is called a *claim*.</span></span> <span data-ttu-id="f00b8-125">Det är ett intyg om ägar- och ämnet för token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-125">It's an assertion of information about the bearer and subject of the token.</span></span> <span data-ttu-id="f00b8-126">Anspråk i en JWT är JavaScript Object Notation (JSON)-objekt som är kodade och serialiseras för överföring.</span><span class="sxs-lookup"><span data-stu-id="f00b8-126">The claims in a JWT are JavaScript Object Notation (JSON) objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="f00b8-127">Eftersom JWTs som utfärdats av v2.0-slutpunkten är signerad men inte krypterad, kan du enkelt kontrollera innehållet i en JWT för felsökning.</span><span class="sxs-lookup"><span data-stu-id="f00b8-127">Because the JWTs issued by the v2.0 endpoint are signed but not encrypted, you can easily inspect the contents of a JWT for debugging purposes.</span></span> <span data-ttu-id="f00b8-128">Mer information om JWTs finns i [JWT-specifikationen](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="f00b8-128">For more information about JWTs, see the [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="f00b8-129">ID-token</span><span class="sxs-lookup"><span data-stu-id="f00b8-129">ID tokens</span></span>
<span data-ttu-id="f00b8-130">En ID-token är en typ av inloggning säkerhetstoken som appen tar emot när autentisering utförs med hjälp av [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="f00b8-130">An ID token is a form of sign-in security token that your app receives when it performs authentication by using [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="f00b8-131">ID-token representeras som [JWTs](#types-of-tokens), och de innehåller anspråk som du kan använda för att logga in användaren till din app.</span><span class="sxs-lookup"><span data-stu-id="f00b8-131">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use to sign the user in to your app.</span></span> <span data-ttu-id="f00b8-132">Du kan använda anspråken i en ID-token på olika sätt.</span><span class="sxs-lookup"><span data-stu-id="f00b8-132">You can use the claims in an ID token in various ways.</span></span> <span data-ttu-id="f00b8-133">Normalt använder administratörer ID-token ska visa kontoinformation eller gör besluten om åtkomstkontroll i en app.</span><span class="sxs-lookup"><span data-stu-id="f00b8-133">Typically, admins use ID tokens to display account information or to make access control decisions in an app.</span></span> <span data-ttu-id="f00b8-134">V2.0-slutpunkten utfärdar bara en typ av ID-token som har en enhetlig uppsättning anspråk, oavsett vilken typ av användare som har loggat in.</span><span class="sxs-lookup"><span data-stu-id="f00b8-134">The v2.0 endpoint issues only one type of ID token, which has a consistent set of claims, regardless of the type of user that is signed in.</span></span> <span data-ttu-id="f00b8-135">Formatet och innehållet för ID-token är desamma för användare med personliga Microsoft-konton och arbets-eller skolkonton.</span><span class="sxs-lookup"><span data-stu-id="f00b8-135">The format and content of ID tokens are the same for personal Microsoft account users and for work or school accounts.</span></span>

<span data-ttu-id="f00b8-136">ID-token är för närvarande är signerad men inte krypterad.</span><span class="sxs-lookup"><span data-stu-id="f00b8-136">Currently, ID tokens are signed but not encrypted.</span></span> <span data-ttu-id="f00b8-137">När appen tar emot en ID-token, måste [verifiera signaturen](#validating-tokens) till token för autentisering och validera några anspråk i token för att bevisa sin giltighetsperiod.</span><span class="sxs-lookup"><span data-stu-id="f00b8-137">When your app receives an ID token, it must [validate the signature](#validating-tokens) to prove the token's authenticity and validate a few claims in the token to prove its validity.</span></span> <span data-ttu-id="f00b8-138">De anspråk som verifieras av en app varierar beroende på krav för scenarier, men din app måste utföra vissa [vanliga anspråk verifieringar](#validating-tokens) i varje scenario.</span><span class="sxs-lookup"><span data-stu-id="f00b8-138">The claims validated by an app vary depending on scenario requirements, but your app must perform some [common claim validations](#validating-tokens) in every scenario.</span></span>

<span data-ttu-id="f00b8-139">Vi ger dig fullständig information om anspråk ID-token i följande avsnitt, förutom en exempel-ID-token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-139">We give you the full details about claims in ID tokens in the following sections, in addition to a sample ID token.</span></span> <span data-ttu-id="f00b8-140">Observera att anspråk i ID-token inte returneras i en viss ordning.</span><span class="sxs-lookup"><span data-stu-id="f00b8-140">Note that claims in ID tokens are not returned in a specific order.</span></span> <span data-ttu-id="f00b8-141">Dessutom kan nya anspråk vara introduceras i ID-token när som helst.</span><span class="sxs-lookup"><span data-stu-id="f00b8-141">Also, new claims can be introduced into ID tokens at any time.</span></span> <span data-ttu-id="f00b8-142">Din app bryter bör inte när nya anspråk som införs.</span><span class="sxs-lookup"><span data-stu-id="f00b8-142">Your app should not break when new claims are introduced.</span></span> <span data-ttu-id="f00b8-143">Följande lista innehåller krav som din app för närvarande kan på ett tillförlitligt sätt tolka.</span><span class="sxs-lookup"><span data-stu-id="f00b8-143">The following list includes the claims that your app currently can reliably interpret.</span></span> <span data-ttu-id="f00b8-144">Du hittar mer information finns i den [OpenID Connect specifikationen](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="f00b8-144">You can find more details in the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="f00b8-145">Exempel-ID-token</span><span class="sxs-lookup"><span data-stu-id="f00b8-145">Sample ID token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSJ9.eyJhdWQiOiI2NzMxZGU3Ni0xNGE2LTQ5YWUtOTdiYy02ZWJhNjkxNDM5MWUiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vYjk0MTk4MTgtMDlhZi00OWMyLWIwYzMtNjUzYWRjMWYzNzZlL3YyLjAiLCJpYXQiOjE0NTIyODUzMzEsIm5iZiI6MTQ1MjI4NTMzMSwiZXhwIjoxNDUyMjg5MjMxLCJuYW1lIjoiQmFiZSBSdXRoIiwibm9uY2UiOiIxMjM0NSIsIm9pZCI6ImExZGJkZGU4LWU0ZjktNDU3MS1hZDkzLTMwNTllMzc1MGQyMyIsInByZWZlcnJlZF91c2VybmFtZSI6InRoZWdyZWF0YmFtYmlub0BueXkub25taWNyb3NvZnQuY29tIiwic3ViIjoiTUY0Zi1nZ1dNRWppMTJLeW5KVU5RWnBoYVVUdkxjUXVnNWpkRjJubDAxUSIsInRpZCI6ImI5NDE5ODE4LTA5YWYtNDljMi1iMGMzLTY1M2FkYzFmMzc2ZSIsInZlciI6IjIuMCJ9.p_rYdrtJ1oCmgDBggNHB9O38KTnLCMGbMDODdirdmZbmJcTHiZDdtTc-hguu3krhbtOsoYM2HJeZM3Wsbp_YcfSKDY--X_NobMNsxbT7bqZHxDnA2jTMyrmt5v2EKUnEeVtSiJXyO3JWUq9R0dO-m4o9_8jGP6zHtR62zLaotTBYHmgeKpZgTFB9WtUq8DVdyMn_HSvQEfz-LWqckbcTwM_9RNKoGRVk38KChVJo4z5LkksYRarDo8QgQ7xEKmYmPvRr_I7gvM2bmlZQds2OeqWLB1NSNbFZqyFOCgYn3bAQ-nEQSKwBaA36jYGPOVG2r2Qv1uKcpSOxzxaQybzYpQ
```

> [!TIP]
> <span data-ttu-id="f00b8-146">Klistra in exempel ID-token till om du vill granska anspråk i exempel-ID-token för övningen [calebb.net](http://calebb.net/).</span><span class="sxs-lookup"><span data-stu-id="f00b8-146">For practice, to inspect the claims in the sample ID token, paste the sample ID token into [calebb.net](http://calebb.net/).</span></span>
>
>

#### <a name="claims-in-id-tokens"></a><span data-ttu-id="f00b8-147">Anspråk i ID-token</span><span class="sxs-lookup"><span data-stu-id="f00b8-147">Claims in ID tokens</span></span>
| <span data-ttu-id="f00b8-148">Namn</span><span class="sxs-lookup"><span data-stu-id="f00b8-148">Name</span></span> | <span data-ttu-id="f00b8-149">Begär</span><span class="sxs-lookup"><span data-stu-id="f00b8-149">Claim</span></span> | <span data-ttu-id="f00b8-150">Exempelvärde</span><span class="sxs-lookup"><span data-stu-id="f00b8-150">Example value</span></span> | <span data-ttu-id="f00b8-151">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="f00b8-151">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f00b8-152">målgrupp</span><span class="sxs-lookup"><span data-stu-id="f00b8-152">audience</span></span> |`aud` |`6731de76-14a6-49ae-97bc-6eba6914391e` |<span data-ttu-id="f00b8-153">Identifierar den avsedda mottagaren av token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-153">Identifies the intended recipient of the token.</span></span> <span data-ttu-id="f00b8-154">I ID-token är den din app program-ID som tilldelats din app i portalen för registrering av Microsoft-program.</span><span class="sxs-lookup"><span data-stu-id="f00b8-154">In ID tokens, the audience is your app's Application ID, assigned to your app in the Microsoft Application Registration Portal.</span></span> <span data-ttu-id="f00b8-155">Din app ska verifiera det här värdet och avvisa token om värdet inte matchar.</span><span class="sxs-lookup"><span data-stu-id="f00b8-155">Your app should validate this value, and reject the token if the value does not match.</span></span> |
| <span data-ttu-id="f00b8-156">Utfärdaren</span><span class="sxs-lookup"><span data-stu-id="f00b8-156">issuer</span></span> |`iss` |`https://login.microsoftonline.com/b9419818-09af-49c2-b0c3-653adc1f376e/v2.0 ` |<span data-ttu-id="f00b8-157">Identifierar den säkerhetstokentjänst (STS) som skapar och återställer token och Azure AD-klient som användaren autentiserades.</span><span class="sxs-lookup"><span data-stu-id="f00b8-157">Identifies the security token service (STS) that constructs and returns the token, and the Azure AD tenant in which the user was authenticated.</span></span> <span data-ttu-id="f00b8-158">Appen bör verifiera utfärdaren anspråk så att token som kommer från v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="f00b8-158">Your app should validate the issuer claim to ensure that the token came from the v2.0 endpoint.</span></span> <span data-ttu-id="f00b8-159">Det bör också använda GUID-delen av anspråket för att begränsa antalet klienter som kan logga in i appen.</span><span class="sxs-lookup"><span data-stu-id="f00b8-159">It also should use the GUID portion of the claim to restrict the set of tenants that can sign in to the app.</span></span> <span data-ttu-id="f00b8-160">Det GUID som anger att användaren är en konsument användare från ett Microsoft-konto är `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="f00b8-160">The GUID that indicates that the user is a consumer user from a Microsoft account is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> |
| <span data-ttu-id="f00b8-161">Utfärdat till</span><span class="sxs-lookup"><span data-stu-id="f00b8-161">issued at</span></span> |`iat` |`1452285331` |<span data-ttu-id="f00b8-162">Den tid då token utfärdats representeras i epok tid.</span><span class="sxs-lookup"><span data-stu-id="f00b8-162">The time at which the token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="f00b8-163">Förfallotid</span><span class="sxs-lookup"><span data-stu-id="f00b8-163">expiration time</span></span> |`exp` |`1452289231` |<span data-ttu-id="f00b8-164">Den tid då token blir ogiltig representeras i epok tid.</span><span class="sxs-lookup"><span data-stu-id="f00b8-164">The time at which the token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="f00b8-165">Din app ska använda detta anspråk för att kontrollera giltigheten för livslängd för token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-165">Your app should use this claim to verify the validity of the token lifetime.</span></span> |
| <span data-ttu-id="f00b8-166">Inte före</span><span class="sxs-lookup"><span data-stu-id="f00b8-166">not before</span></span> |`nbf` |`1452285331` |<span data-ttu-id="f00b8-167">Den tid då token börjar gälla, representeras i epok tid.</span><span class="sxs-lookup"><span data-stu-id="f00b8-167">The time at which the token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="f00b8-168">Det är vanligtvis samma som den utfärdande-tid.</span><span class="sxs-lookup"><span data-stu-id="f00b8-168">It is usually the same as the issuance time.</span></span> <span data-ttu-id="f00b8-169">Din app ska använda detta anspråk för att kontrollera giltigheten för livslängd för token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-169">Your app should use this claim to verify the validity of the token lifetime.</span></span> |
| <span data-ttu-id="f00b8-170">Version</span><span class="sxs-lookup"><span data-stu-id="f00b8-170">version</span></span> |`ver` |`2.0` |<span data-ttu-id="f00b8-171">Versionen av ID-token, som definieras av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="f00b8-171">The version of the ID token, as defined by Azure AD.</span></span> <span data-ttu-id="f00b8-172">Värdet är för v2.0-slutpunkten `2.0`.</span><span class="sxs-lookup"><span data-stu-id="f00b8-172">For the v2.0 endpoint, the value is `2.0`.</span></span> |
| <span data-ttu-id="f00b8-173">Klient-ID</span><span class="sxs-lookup"><span data-stu-id="f00b8-173">tenant ID</span></span> |`tid` |`b9419818-09af-49c2-b0c3-653adc1f376e` |<span data-ttu-id="f00b8-174">Ett GUID som representerar Azure AD-klient som användaren är från.</span><span class="sxs-lookup"><span data-stu-id="f00b8-174">A GUID that represents the Azure AD tenant that the user is from.</span></span> <span data-ttu-id="f00b8-175">För arbets- och skolkonton konton är GUID oföränderliga klient-ID på den organisation som användaren tillhör.</span><span class="sxs-lookup"><span data-stu-id="f00b8-175">For work and school accounts, the GUID is the immutable tenant ID of the organization that the user belongs to.</span></span> <span data-ttu-id="f00b8-176">Värdet är för personliga konton `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="f00b8-176">For personal accounts, the value is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> <span data-ttu-id="f00b8-177">Den `profile` omfattning krävs för att ta emot denna begäran.</span><span class="sxs-lookup"><span data-stu-id="f00b8-177">The `profile` scope is required in order to receive this claim.</span></span> |
| <span data-ttu-id="f00b8-178">Koden hash</span><span class="sxs-lookup"><span data-stu-id="f00b8-178">code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="f00b8-179">Koden hash ingår i ID-token endast när ID-token utfärdas med en OAuth 2.0-auktoriseringskod.</span><span class="sxs-lookup"><span data-stu-id="f00b8-179">The code hash is included in ID tokens only when the ID token is issued with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="f00b8-180">Den kan användas för att validera en Auktoriseringskoden är äkta.</span><span class="sxs-lookup"><span data-stu-id="f00b8-180">It can be used to validate the authenticity of an authorization code.</span></span> <span data-ttu-id="f00b8-181">Mer information om hur du utför den här verifieringen finns i [OpenID Connect specifikationen](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="f00b8-181">For details about performing this validation, see the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="f00b8-182">Åtkomst-token hash</span><span class="sxs-lookup"><span data-stu-id="f00b8-182">access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="f00b8-183">Åtkomst-token hash ingår i ID tokens endast när ID-token utfärdas med en OAuth 2.0-åtkomsttoken.</span><span class="sxs-lookup"><span data-stu-id="f00b8-183">The access token hash is included in ID tokens only when the ID token is issued with an OAuth 2.0 access token.</span></span> <span data-ttu-id="f00b8-184">Den kan användas för att validera en åtkomst-token är äkta.</span><span class="sxs-lookup"><span data-stu-id="f00b8-184">It can be used to validate the authenticity of an access token.</span></span> <span data-ttu-id="f00b8-185">Mer information om hur du utför den här verifieringen finns i [OpenID Connect specifikationen](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="f00b8-185">For details about performing this validation, see the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="f00b8-186">temporärt ID</span><span class="sxs-lookup"><span data-stu-id="f00b8-186">nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="f00b8-187">Temporärt ID är en strategi för att minimera token replay-attacker.</span><span class="sxs-lookup"><span data-stu-id="f00b8-187">The nonce is a strategy for mitigating token replay attacks.</span></span> <span data-ttu-id="f00b8-188">Appen kan ange ett temporärt ID i en auktoriseringsbegäran om med hjälp av den `nonce` Frågeparametern.</span><span class="sxs-lookup"><span data-stu-id="f00b8-188">Your app can specify a nonce in an authorization request by using the `nonce` query parameter.</span></span> <span data-ttu-id="f00b8-189">Värdet du anger i begäran har genererats i token ID `nonce` anspråk som ska ändras.</span><span class="sxs-lookup"><span data-stu-id="f00b8-189">The value you provide in the request is emitted in the ID token's `nonce` claim, unmodified.</span></span> <span data-ttu-id="f00b8-190">Din app kan kontrollera värdet mot det värde som det anges på begäran, som associerar appens session med en specifik ID-token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-190">Your app can verify the value against the value it specified on the request, which associates the app's session with a specific ID token.</span></span> <span data-ttu-id="f00b8-191">Din app ska utföra den här verifieringen under verifieringsprocessen ID-token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-191">Your app should perform this validation during the ID token validation process.</span></span> |
| <span data-ttu-id="f00b8-192">namn</span><span class="sxs-lookup"><span data-stu-id="f00b8-192">name</span></span> |`name` |`Babe Ruth` |<span data-ttu-id="f00b8-193">Anspråk namn innehåller ett läsbart värde som identifierar föremål för token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-193">The name claim provides a human-readable value that identifies the subject of the token.</span></span> <span data-ttu-id="f00b8-194">Värdet är inte säkert att vara unika, är det föränderliga och den har utformats för att användas endast för visning.</span><span class="sxs-lookup"><span data-stu-id="f00b8-194">The value is not guaranteed to be unique, it is mutable, and it's designed to be used only for display purposes.</span></span> <span data-ttu-id="f00b8-195">Den `profile` omfattning krävs för att ta emot denna begäran.</span><span class="sxs-lookup"><span data-stu-id="f00b8-195">The `profile` scope is required in order to receive this claim.</span></span> |
| <span data-ttu-id="f00b8-196">E-post</span><span class="sxs-lookup"><span data-stu-id="f00b8-196">email</span></span> |`email` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="f00b8-197">Den primära e-postadress som är associerade med användarkontot, om sådan finns.</span><span class="sxs-lookup"><span data-stu-id="f00b8-197">The primary email address associated with the user account, if one exists.</span></span> <span data-ttu-id="f00b8-198">Värdet är föränderliga och kan ändras med tiden.</span><span class="sxs-lookup"><span data-stu-id="f00b8-198">Its value is mutable and might change over time.</span></span> <span data-ttu-id="f00b8-199">Den `email` omfattning krävs för att ta emot denna begäran.</span><span class="sxs-lookup"><span data-stu-id="f00b8-199">The `email` scope is required in order to receive this claim.</span></span> |
| <span data-ttu-id="f00b8-200">prioriterade användarnamn</span><span class="sxs-lookup"><span data-stu-id="f00b8-200">preferred username</span></span> |`preferred_username` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="f00b8-201">Primära användarnamnet som representerar användaren i v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="f00b8-201">The primary username that represents the user in the v2.0 endpoint.</span></span> <span data-ttu-id="f00b8-202">Det kan vara en e-postadress, telefonnummer och ett allmänt användarnamn utan angivet format.</span><span class="sxs-lookup"><span data-stu-id="f00b8-202">It could be an email address, phone number, or a generic username without a specified format.</span></span> <span data-ttu-id="f00b8-203">Värdet är föränderliga och kan ändras med tiden.</span><span class="sxs-lookup"><span data-stu-id="f00b8-203">Its value is mutable and might change over time.</span></span> <span data-ttu-id="f00b8-204">Den `profile` omfattning krävs för att ta emot denna begäran.</span><span class="sxs-lookup"><span data-stu-id="f00b8-204">The `profile` scope is required in order to receive this claim.</span></span> |
| <span data-ttu-id="f00b8-205">Ämne</span><span class="sxs-lookup"><span data-stu-id="f00b8-205">subject</span></span> |`sub` |`MF4f-ggWMEji12KynJUNQZphaUTvLcQug5jdF2nl01Q` | <span data-ttu-id="f00b8-206">Den användare som token Assert information, till exempel användare av en app.</span><span class="sxs-lookup"><span data-stu-id="f00b8-206">The principal about which the token asserts information, such as the user of an app.</span></span> <span data-ttu-id="f00b8-207">Det här värdet är oföränderlig och kan inte tilldela om eller återanvänds.</span><span class="sxs-lookup"><span data-stu-id="f00b8-207">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="f00b8-208">Den kan användas för att utföra auktoriseringskontroller på ett säkert sätt, till exempel när token som används för att komma åt en resurs och kan användas som en nyckel i databastabeller.</span><span class="sxs-lookup"><span data-stu-id="f00b8-208">It can be used to perform authorization checks safely, such as when the token is used to access a resource, and can be used as a key in database tables.</span></span> <span data-ttu-id="f00b8-209">Eftersom ämne är alltid finns i token att Azure AD-problem, bör du använda det här värdet i ett system med allmänna tillstånd.</span><span class="sxs-lookup"><span data-stu-id="f00b8-209">Because the subject is always present in the tokens that Azure AD issues, we recommend using this value in a general-purpose authorization system.</span></span> <span data-ttu-id="f00b8-210">Ämne är dock en pairwise identifierare – det är unikt för ett visst program-ID.</span><span class="sxs-lookup"><span data-stu-id="f00b8-210">The subject is, however, a pairwise identifier - it is unique to a particular application ID.</span></span>  <span data-ttu-id="f00b8-211">Därför om en användare loggar in på två olika appar som använder två olika klient-ID: N, får de apparna som två olika värden för ämne anspråket.</span><span class="sxs-lookup"><span data-stu-id="f00b8-211">Therefore, if a single user signs into two different apps using two different client IDs, those apps will receive two different values for the subject claim.</span></span>  <span data-ttu-id="f00b8-212">Detta kan eller inte vara önskvärt beroende på dina krav arkitektur och sekretess.</span><span class="sxs-lookup"><span data-stu-id="f00b8-212">This may or may not be desired depending on your architecture and privacy requirements.</span></span> |
| <span data-ttu-id="f00b8-213">Objekt-ID</span><span class="sxs-lookup"><span data-stu-id="f00b8-213">object ID</span></span> |`oid` |`a1dbdde8-e4f9-4571-ad93-3059e3750d23` | <span data-ttu-id="f00b8-214">Oåterkalleliga identifierare för ett objekt i Microsoft identitetssystem, i det här fallet ett användarkonto.</span><span class="sxs-lookup"><span data-stu-id="f00b8-214">The immutable identifier for an object in the Microsoft identity system, in this case, a user account.</span></span>  <span data-ttu-id="f00b8-215">Det kan också användas för att utföra auktoriseringskontroller på ett säkert sätt och som en nyckel i databastabeller.</span><span class="sxs-lookup"><span data-stu-id="f00b8-215">It can also be used to perform authorization checks safely and as a key in database tables.</span></span> <span data-ttu-id="f00b8-216">Detta ID identifierar användaren i program - två olika program som loggar in samma användare får samma värde i den `oid` anspråk.</span><span class="sxs-lookup"><span data-stu-id="f00b8-216">This ID uniquely identifies the user across applications - two different applications signing in the same user will receive the same value in the `oid` claim.</span></span>  <span data-ttu-id="f00b8-217">Det innebär att den kan användas när du skapar frågor till Microsoft online services, till exempel Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="f00b8-217">This means that it can be used when making queries to Microsoft online services, such as the Microsoft Graph.</span></span>  <span data-ttu-id="f00b8-218">Microsoft Graph returnerar detta ID som den `id` -egenskapen för ett givet användarkonto.</span><span class="sxs-lookup"><span data-stu-id="f00b8-218">The Microsoft Graph will return this ID as the `id` property for a given user account.</span></span>  <span data-ttu-id="f00b8-219">Eftersom den `oid` tillåter flera apparna att korrelera användare, den `profile` omfattning krävs för att ta emot denna begäran.</span><span class="sxs-lookup"><span data-stu-id="f00b8-219">Because the `oid` allows multiple apps to correlate users, the `profile` scope is required in order to receive this claim.</span></span> <span data-ttu-id="f00b8-220">Observera att om en användare finns i flera klienter kan användaren innehåller ett annat objekt-ID i varje klient - de anses vara olika konton, även om användaren loggar in på varje konto med samma autentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="f00b8-220">Note that if a single user exists in multiple tenants, the user will contain a different object ID in each tenant - they are considered different accounts, even though the user logs into each account with the same credentials.</span></span> |

### <a name="access-tokens"></a><span data-ttu-id="f00b8-221">Åtkomst-token</span><span class="sxs-lookup"><span data-stu-id="f00b8-221">Access tokens</span></span>
<span data-ttu-id="f00b8-222">Åtkomst-token som utfärdas av v2.0-slutpunkten kan för närvarande används endast av Microsoft Services.</span><span class="sxs-lookup"><span data-stu-id="f00b8-222">Currently, access tokens issued by the v2.0 endpoint can be consumed only by Microsoft Services.</span></span> <span data-ttu-id="f00b8-223">Dina appar behöver inte utföra några verifiering eller kontroll av åtkomsttoken för någon av scenarierna som stöds för närvarande.</span><span class="sxs-lookup"><span data-stu-id="f00b8-223">Your apps shouldn't need to perform any validation or inspection of access tokens for any of the currently supported scenarios.</span></span> <span data-ttu-id="f00b8-224">Du kan hantera åtkomst-token som helt ogenomskinlig.</span><span class="sxs-lookup"><span data-stu-id="f00b8-224">You can treat access tokens as completely opaque.</span></span> <span data-ttu-id="f00b8-225">De är bara strängar som din app kan skicka till Microsoft i HTTP-förfrågningar.</span><span class="sxs-lookup"><span data-stu-id="f00b8-225">They are just strings that your app can pass to Microsoft in HTTP requests.</span></span>

<span data-ttu-id="f00b8-226">I den nära framtiden beskrivs v2.0-slutpunkten för din app att ta emot åtkomst-token från andra klienter.</span><span class="sxs-lookup"><span data-stu-id="f00b8-226">In the near future, the v2.0 endpoint will introduce the ability for your app to receive access tokens from other clients.</span></span> <span data-ttu-id="f00b8-227">Informationen i det här referensavsnittet kommer att uppdateras med den information du behöver för din app för att utföra åtkomst-token verifiering och andra liknande uppgifter som helst.</span><span class="sxs-lookup"><span data-stu-id="f00b8-227">At that time, the information in this reference topic will be updated with the information that you need for your app to perform access token validation and other similar tasks.</span></span>

<span data-ttu-id="f00b8-228">När du begär en åtkomst-token från v2.0-slutpunkten returnerar metadata om åtkomsttoken för din app att använda även v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="f00b8-228">When you request an access token from the v2.0 endpoint, the v2.0 endpoint also returns metadata about the access token for your app to use.</span></span> <span data-ttu-id="f00b8-229">Informationen omfattar förfallotiden för åtkomst-token och scope som är giltig.</span><span class="sxs-lookup"><span data-stu-id="f00b8-229">This information includes the expiry time of the access token and the scopes for which it is valid.</span></span> <span data-ttu-id="f00b8-230">Din app använder dessa metadata för att utföra intelligent cachelagring av åtkomsttoken utan att behöva öppna att parsa den åtkomst-token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-230">Your app uses this metadata to perform intelligent caching of access tokens without having to parse open the access token itself.</span></span>

### <a name="refresh-tokens"></a><span data-ttu-id="f00b8-231">Uppdatera token</span><span class="sxs-lookup"><span data-stu-id="f00b8-231">Refresh tokens</span></span>
<span data-ttu-id="f00b8-232">Uppdatera token är säkerhetstokens som din app kan använda för att få nya åtkomst-token i en OAuth 2.0-flödet.</span><span class="sxs-lookup"><span data-stu-id="f00b8-232">Refresh tokens are security tokens that your app can use to get new access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="f00b8-233">Din app kan använda uppdaterings-tokens för att uppnå långsiktiga åtkomst till resurser för en användares räkning utan interaktion med användaren.</span><span class="sxs-lookup"><span data-stu-id="f00b8-233">Your app can use refresh tokens to achieve long-term access to resources on behalf of a user without requiring interaction with the user.</span></span>

<span data-ttu-id="f00b8-234">Uppdaterings-tokens är flera resurs.</span><span class="sxs-lookup"><span data-stu-id="f00b8-234">Refresh tokens are multi-resource.</span></span> <span data-ttu-id="f00b8-235">En uppdateringstoken som togs emot under en Tokenbegäran för en resurs kan lösas för åtkomst-token till en helt annan resurs.</span><span class="sxs-lookup"><span data-stu-id="f00b8-235">A refresh token received during a token request for one resource can be redeemed for access tokens to a completely different resource.</span></span>

<span data-ttu-id="f00b8-236">Om du vill få en uppdatering i en token svar din app måste begära och beviljas den `offline_acesss` omfång.</span><span class="sxs-lookup"><span data-stu-id="f00b8-236">To receive a refresh in a token response, your app must request and be granted the `offline_acesss` scope.</span></span> <span data-ttu-id="f00b8-237">Mer information om den `offline_access` omfång, finns i [medgivande och scope](active-directory-v2-scopes.md) artikel.</span><span class="sxs-lookup"><span data-stu-id="f00b8-237">To learn more about the `offline_access` scope, see the [consent and scopes](active-directory-v2-scopes.md) article.</span></span>

<span data-ttu-id="f00b8-238">Uppdatera token är och alltid kommer att vara, helt ogenomskinlig till din app.</span><span class="sxs-lookup"><span data-stu-id="f00b8-238">Refresh tokens are, and always will be, completely opaque to your app.</span></span> <span data-ttu-id="f00b8-239">De kan har utfärdats av Azure AD v2.0-slutpunkten och bara kontrolleras och tolkas av v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="f00b8-239">They are issued by the Azure AD v2.0 endpoint and can only be inspected and interpreted by the v2.0 endpoint.</span></span> <span data-ttu-id="f00b8-240">De är långlivade, men din app inte att skriva kan förvänta sig att en uppdateringstoken ska gälla för en viss tidsperiod.</span><span class="sxs-lookup"><span data-stu-id="f00b8-240">They are long-lived, but your app should not be written to expect that a refresh token will last for any period of time.</span></span> <span data-ttu-id="f00b8-241">Uppdaterings-tokens kan vara inaktuella när som helst av olika skäl.</span><span class="sxs-lookup"><span data-stu-id="f00b8-241">Refresh tokens can be invalidated at any moment for various reasons.</span></span> <span data-ttu-id="f00b8-242">Det enda sättet för din app att veta om en uppdateringstoken är giltig är att försöka lösa genom att göra en tokenbegäran v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="f00b8-242">The only way for your app to know if a refresh token is valid is to attempt to redeem it by making a token request to the v2.0 endpoint.</span></span>

<span data-ttu-id="f00b8-243">När du lösa in en uppdateringstoken för en ny åtkomsttoken (och om din app har beviljats av `offline_access` omfattning), du får en ny uppdateringstoken i token svaret.</span><span class="sxs-lookup"><span data-stu-id="f00b8-243">When you redeem a refresh token for a new access token (and if your app had been granted the `offline_access` scope), you receive a new refresh token in the token response.</span></span> <span data-ttu-id="f00b8-244">Spara den nyligen utfärdade uppdateringstoken för att ersätta den som du använde i begäran.</span><span class="sxs-lookup"><span data-stu-id="f00b8-244">Save the newly issued refresh token, to replace the one you used in the request.</span></span> <span data-ttu-id="f00b8-245">Detta garanterar att uppdaterings-tokens vara giltigt så länge som möjligt.</span><span class="sxs-lookup"><span data-stu-id="f00b8-245">This guarantees that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="f00b8-246">Verifiera token</span><span class="sxs-lookup"><span data-stu-id="f00b8-246">Validating tokens</span></span>
<span data-ttu-id="f00b8-247">För närvarande verifieras endast token valideringen dina appar behöver utföra ID-token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-247">Currently, the only token validation your apps should need to perform is validating ID tokens.</span></span> <span data-ttu-id="f00b8-248">Om du vill validera en ID-token bör appen verifiera både signatur för ID-token och anspråk i ID-token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-248">To validate an ID token, your app should validate both the ID token's signature and the claims in the ID token.</span></span>

<!-- TODO: Link -->
<span data-ttu-id="f00b8-249">Microsoft tillhandahåller bibliotek och kodexempel som visar hur du kan hantera token validering.</span><span class="sxs-lookup"><span data-stu-id="f00b8-249">Microsoft provides libraries and code samples that show you how to easily handle token validation.</span></span> <span data-ttu-id="f00b8-250">I nästa avsnitt beskrivs underliggande processen.</span><span class="sxs-lookup"><span data-stu-id="f00b8-250">In the next sections, we describe the underlying process.</span></span> <span data-ttu-id="f00b8-251">Flera från tredje part öppen källkod bibliotek är tillgängliga för JWT-verifiering.</span><span class="sxs-lookup"><span data-stu-id="f00b8-251">Several third-party open-source libraries also are available for JWT validation.</span></span> <span data-ttu-id="f00b8-252">Det finns minst ett bibliotek alternativ för nästan alla plattformar och språk.</span><span class="sxs-lookup"><span data-stu-id="f00b8-252">There's at least one library option for almost every platform and language.</span></span>

### <a name="validate-the-signature"></a><span data-ttu-id="f00b8-253">Verifiera signaturen</span><span class="sxs-lookup"><span data-stu-id="f00b8-253">Validate the signature</span></span>
<span data-ttu-id="f00b8-254">En JWT innehåller tre segment som avgränsas med den `.` tecken.</span><span class="sxs-lookup"><span data-stu-id="f00b8-254">A JWT contains three segments, which are separated by the `.` character.</span></span> <span data-ttu-id="f00b8-255">Det första segmentet kallas den *huvud*, det andra segmentet är den *brödtext*, och det tredje segmentet är den *signatur*.</span><span class="sxs-lookup"><span data-stu-id="f00b8-255">The first segment is known as the *header*, the second segment is the *body*, and the third segment is the *signature*.</span></span> <span data-ttu-id="f00b8-256">Signaturen segment kan användas för att kontrollera äkthet ID-token så att den kan vara betrott av din app.</span><span class="sxs-lookup"><span data-stu-id="f00b8-256">The signature segment can be used to validate the authenticity of the ID token so that it can be trusted by your app.</span></span>

<span data-ttu-id="f00b8-257">ID-token är signerade med branschstandard asymmetriska krypteringsalgoritmer, till exempel RSA-256.</span><span class="sxs-lookup"><span data-stu-id="f00b8-257">ID tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="f00b8-258">Rubriken på ID-token har information om metoden nyckel och kryptering används för att signera token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-258">The header of the ID token has information about the key and encryption method used to sign the token.</span></span> <span data-ttu-id="f00b8-259">Exempel:</span><span class="sxs-lookup"><span data-stu-id="f00b8-259">For example:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "kid": "MnC_VZcATfM5pOYiJHMba9goEKY"
}
```

<span data-ttu-id="f00b8-260">Den `alg` anspråk anger algoritmen som används för att signera token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-260">The `alg` claim indicates the algorithm that was used to sign the token.</span></span> <span data-ttu-id="f00b8-261">Den `kid` anspråk anger den offentliga nyckeln som användes för att signera token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-261">The `kid` claim indicates the public key that was used to sign the token.</span></span>

<span data-ttu-id="f00b8-262">När som helst kan v2.0-slutpunkten logga en ID-token med hjälp av någon av en specifik uppsättning privat-offentligt nyckelpar.</span><span class="sxs-lookup"><span data-stu-id="f00b8-262">At any time, the v2.0 endpoint might sign an ID token by using any one of a specific set of public-private key pairs.</span></span> <span data-ttu-id="f00b8-263">V2.0-slutpunkten roterar regelbundet möjliga uppsättning nycklar, så att din app ska skrivas till att hantera dessa viktiga ändringar automatiskt.</span><span class="sxs-lookup"><span data-stu-id="f00b8-263">The v2.0 endpoint periodically rotates the possible set of keys, so your app should be written to handle those key changes automatically.</span></span> <span data-ttu-id="f00b8-264">En rimlig frekvens för att söka efter uppdateringar för offentliga nycklar som används av v2.0-slutpunkten är 24 timmar.</span><span class="sxs-lookup"><span data-stu-id="f00b8-264">A reasonable frequency to check for updates to the public keys used by the v2.0 endpoint is every 24 hours.</span></span>

<span data-ttu-id="f00b8-265">Du kan skaffa signering viktiga data som behövs för att verifiera signaturen med OpenID Connect Metadatadokumentet finns på:</span><span class="sxs-lookup"><span data-stu-id="f00b8-265">You can acquire the signing key data that you need to validate the signature by using the OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="f00b8-266">URL-Adressen i en webbläsare kan du prova!</span><span class="sxs-lookup"><span data-stu-id="f00b8-266">Try the URL in a browser!</span></span>
>
>

<span data-ttu-id="f00b8-267">Metadatadokumentet är en JSON-objekt som har flera användbara delar av information, t.ex platsen för de olika slutpunkter som krävs för OpenID Connect-autentisering.</span><span class="sxs-lookup"><span data-stu-id="f00b8-267">This metadata document is a JSON object that has several useful pieces of information, such as the location of the various endpoints required for OpenID Connect authentication.</span></span>  <span data-ttu-id="f00b8-268">Dokumentet innehåller också en *jwks_uri*, vilket ger platsen för en uppsättning offentliga nycklar som används för att signera token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-268">The document also includes a *jwks_uri*, which gives the location of the set of public keys used to sign tokens.</span></span> <span data-ttu-id="f00b8-269">JSON-dokument som finns på jwks_uri har alla offentlig nyckelinformation som används för närvarande.</span><span class="sxs-lookup"><span data-stu-id="f00b8-269">The JSON document located at the jwks_uri has all the public key information that is currently in use.</span></span> <span data-ttu-id="f00b8-270">Din app kan använda den `kid` anspråk i JWT-huvudet för att välja vilka offentliga nyckeln i det här dokumentet har använts för att logga en token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-270">Your app can use the `kid` claim in the JWT header to select which public key in this document has been used to sign a token.</span></span> <span data-ttu-id="f00b8-271">Signaturverifiering utför sedan genom att använda rätt offentlig nyckel och den angivna algoritmen.</span><span class="sxs-lookup"><span data-stu-id="f00b8-271">It then performs signature validation by using the correct public key and the indicated algorithm.</span></span>

<span data-ttu-id="f00b8-272">Utför signaturverifiering ligger utanför omfånget för det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="f00b8-272">Performing signature validation is outside the scope of this document.</span></span> <span data-ttu-id="f00b8-273">Det finns många bibliotek med öppen källkod som hjälper dig med detta.</span><span class="sxs-lookup"><span data-stu-id="f00b8-273">Many open-source libraries are available to help you with this.</span></span>

### <a name="validate-the-claims"></a><span data-ttu-id="f00b8-274">Validera anspråk</span><span class="sxs-lookup"><span data-stu-id="f00b8-274">Validate the claims</span></span>
<span data-ttu-id="f00b8-275">När appen tar emot en ID-token när användaren loggar in, bör det också utföra några kontroller mot anspråk i ID-token.</span><span class="sxs-lookup"><span data-stu-id="f00b8-275">When your app receives an ID token upon user sign-in, it should also perform a few checks against the claims in the ID token.</span></span> <span data-ttu-id="f00b8-276">Dessa inkludera, men är inte begränsade till:</span><span class="sxs-lookup"><span data-stu-id="f00b8-276">These include but are not limited to:</span></span>

* <span data-ttu-id="f00b8-277">**målgruppen** anspråk för att verifiera att ID-token är avsedd för att tilldelas till din app</span><span class="sxs-lookup"><span data-stu-id="f00b8-277">**audience** claim, to verify that the ID token was intended to be given to your app</span></span>
* <span data-ttu-id="f00b8-278">**inte före** och **förfallotid** anspråk för att verifiera att token ID inte har gått ut</span><span class="sxs-lookup"><span data-stu-id="f00b8-278">**not before** and **expiration time** claims, to verify that the ID token has not expired</span></span>
* <span data-ttu-id="f00b8-279">**utfärdaren** anspråk för att verifiera att token har utfärdats till din app av v2.0-slutpunkten</span><span class="sxs-lookup"><span data-stu-id="f00b8-279">**issuer** claim, to verify that the token was issued to your app by the v2.0 endpoint</span></span>
* <span data-ttu-id="f00b8-280">**temporärt ID**, som en token replay-attacker lösning</span><span class="sxs-lookup"><span data-stu-id="f00b8-280">**nonce**, as a token replay attack mitigation</span></span>

<span data-ttu-id="f00b8-281">En fullständig lista över anspråk verifieringar som din app ska utföra finns i [OpenID Connect specifikationen](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span><span class="sxs-lookup"><span data-stu-id="f00b8-281">For a full list of claim validations that your app should perform, see the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span>

<span data-ttu-id="f00b8-282">Information om de förväntade värdena för dessa anspråk som ingår i den [ID-token](# ID tokens) avsnitt.</span><span class="sxs-lookup"><span data-stu-id="f00b8-282">Details of the expected values for these claims are included in the [ID tokens](# ID tokens) section.</span></span>

## <a name="token-lifetimes"></a><span data-ttu-id="f00b8-283">Livslängd för token</span><span class="sxs-lookup"><span data-stu-id="f00b8-283">Token lifetimes</span></span>
<span data-ttu-id="f00b8-284">Vi ger följande token livslängd endast i informationssyfte.</span><span class="sxs-lookup"><span data-stu-id="f00b8-284">We provide the following token lifetimes for your information only.</span></span> <span data-ttu-id="f00b8-285">Informationen kan hjälpa dig när du utvecklar och felsöka appar.</span><span class="sxs-lookup"><span data-stu-id="f00b8-285">The information might help you as you develop and debug apps.</span></span> <span data-ttu-id="f00b8-286">Dina appar skrivs bör inte ser något av dessa livslängd förblir konstant.</span><span class="sxs-lookup"><span data-stu-id="f00b8-286">Your apps should not be written to expect any of these lifetimes to remain constant.</span></span> <span data-ttu-id="f00b8-287">Token kan livslängd och kommer att ändras när som helst.</span><span class="sxs-lookup"><span data-stu-id="f00b8-287">Token lifetimes can and will change at any time.</span></span>

| <span data-ttu-id="f00b8-288">Token</span><span class="sxs-lookup"><span data-stu-id="f00b8-288">Token</span></span> | <span data-ttu-id="f00b8-289">Livslängd</span><span class="sxs-lookup"><span data-stu-id="f00b8-289">Lifetime</span></span> | <span data-ttu-id="f00b8-290">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="f00b8-290">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f00b8-291">ID-token (arbets- eller skolkonto konton)</span><span class="sxs-lookup"><span data-stu-id="f00b8-291">ID tokens (work or school accounts)</span></span> |<span data-ttu-id="f00b8-292">1 timme</span><span class="sxs-lookup"><span data-stu-id="f00b8-292">1 hour</span></span> |<span data-ttu-id="f00b8-293">ID-token är oftast giltigt för 1 timme.</span><span class="sxs-lookup"><span data-stu-id="f00b8-293">ID tokens typically are valid for 1 hour.</span></span> <span data-ttu-id="f00b8-294">Ditt webbprogram kan använda den här samma livslängd för att upprätthålla sin egen session med användaren (rekommenderas) eller så kan du välja en helt annan session livslängd.</span><span class="sxs-lookup"><span data-stu-id="f00b8-294">Your web app can use this same lifetime to maintain its own session with the user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="f00b8-295">Om din app måste hämta ett nytt ID-token, måste det att begära en ny inloggning till v2.0 godkänna endpoint.</span><span class="sxs-lookup"><span data-stu-id="f00b8-295">If your app needs to get a new ID token, it needs to make a new sign-in request to the v2.0 authorize endpoint.</span></span> <span data-ttu-id="f00b8-296">Om användaren har en giltig webbläsarsession med v2.0-slutpunkten kan behöva användaren inte ange sina autentiseringsuppgifter igen.</span><span class="sxs-lookup"><span data-stu-id="f00b8-296">If the user has a valid browser session with the v2.0 endpoint, the user might not be required to enter their credentials again.</span></span> |
| <span data-ttu-id="f00b8-297">ID-token (personliga konton)</span><span class="sxs-lookup"><span data-stu-id="f00b8-297">ID tokens (personal accounts)</span></span> |<span data-ttu-id="f00b8-298">24 timmar</span><span class="sxs-lookup"><span data-stu-id="f00b8-298">24 hours</span></span> |<span data-ttu-id="f00b8-299">ID-token för personliga konton är oftast giltigt under 24 timmar.</span><span class="sxs-lookup"><span data-stu-id="f00b8-299">ID tokens for personal accounts typically are valid for 24 hours.</span></span> <span data-ttu-id="f00b8-300">Ditt webbprogram kan använda den här samma livslängd för att upprätthålla sin egen session med användaren (rekommenderas) eller så kan du välja en helt annan session livslängd.</span><span class="sxs-lookup"><span data-stu-id="f00b8-300">Your web app can use this same lifetime to maintain its own session with the user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="f00b8-301">Om din app måste hämta ett nytt ID-token, måste det att begära en ny inloggning till v2.0 godkänna endpoint.</span><span class="sxs-lookup"><span data-stu-id="f00b8-301">If your app needs to get a new ID token, it needs to make a new sign-in request to the v2.0 authorize endpoint.</span></span> <span data-ttu-id="f00b8-302">Om användaren har en giltig webbläsarsession med v2.0-slutpunkten kan behöva användaren inte ange sina autentiseringsuppgifter igen.</span><span class="sxs-lookup"><span data-stu-id="f00b8-302">If the user has a valid browser session with the v2.0 endpoint, the user might not be required to enter their credentials again.</span></span> |
| <span data-ttu-id="f00b8-303">Åtkomst-token (arbets- eller skolkonto konton)</span><span class="sxs-lookup"><span data-stu-id="f00b8-303">Access tokens (work or school accounts)</span></span> |<span data-ttu-id="f00b8-304">1 timme</span><span class="sxs-lookup"><span data-stu-id="f00b8-304">1 hour</span></span> |<span data-ttu-id="f00b8-305">Visas i token svar som en del av token metadata.</span><span class="sxs-lookup"><span data-stu-id="f00b8-305">Indicated in token responses as part of the token metadata.</span></span> |
| <span data-ttu-id="f00b8-306">Åtkomst-token (personliga konton)</span><span class="sxs-lookup"><span data-stu-id="f00b8-306">Access tokens (personal accounts)</span></span> |<span data-ttu-id="f00b8-307">1 timme</span><span class="sxs-lookup"><span data-stu-id="f00b8-307">1 hour</span></span> |<span data-ttu-id="f00b8-308">Visas i token svar som en del av token metadata.</span><span class="sxs-lookup"><span data-stu-id="f00b8-308">Indicated in token responses as part of the token metadata.</span></span> <span data-ttu-id="f00b8-309">Åtkomsttoken som utfärdas åt personliga konton kan konfigureras för ett annat livstid, men 1 timme är vanliga.</span><span class="sxs-lookup"><span data-stu-id="f00b8-309">Access tokens that are issued on behalf of personal accounts can be configured for a different lifetime, but 1 hour is typical.</span></span> |
| <span data-ttu-id="f00b8-310">Uppdatera token (arbets- eller skolkonto konto)</span><span class="sxs-lookup"><span data-stu-id="f00b8-310">Refresh tokens (work or school account)</span></span> |<span data-ttu-id="f00b8-311">Upp till 14 dagar</span><span class="sxs-lookup"><span data-stu-id="f00b8-311">Up to 14 days</span></span> |<span data-ttu-id="f00b8-312">En enskild uppdateringstoken är giltig för 14 dagar.</span><span class="sxs-lookup"><span data-stu-id="f00b8-312">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="f00b8-313">Uppdateringstoken som kan bli ogiltiga när som helst av olika skäl, så att din app ska fortsätta att försöka använda en uppdateringstoken förrän det misslyckas, eller din app ersätts med en ny uppdateringstoken.</span><span class="sxs-lookup"><span data-stu-id="f00b8-313">However, the refresh token might become invalid at any time for various reasons, so your app should continue to try to use a refresh token until it fails, or until your app replaces it with a new refresh token.</span></span> <span data-ttu-id="f00b8-314">En uppdateringstoken blir ogiltig om det har gått 90 dagar sedan användaren har angett sina autentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="f00b8-314">A refresh token also becomes invalid if it has been 90 days since the user has entered their credentials.</span></span> |
| <span data-ttu-id="f00b8-315">Uppdatera token (personliga konton)</span><span class="sxs-lookup"><span data-stu-id="f00b8-315">Refresh tokens (personal accounts)</span></span> |<span data-ttu-id="f00b8-316">Upp till 1 år</span><span class="sxs-lookup"><span data-stu-id="f00b8-316">Up to 1 year</span></span> |<span data-ttu-id="f00b8-317">En enskild uppdateringstoken är giltig för högst 1 år.</span><span class="sxs-lookup"><span data-stu-id="f00b8-317">A single refresh token is valid for a maximum of 1 year.</span></span> <span data-ttu-id="f00b8-318">Uppdateringstoken som kan bli ogiltiga när som helst av olika skäl, så att din app ska fortsätta att försöka använda en uppdateringstoken tills det misslyckas.</span><span class="sxs-lookup"><span data-stu-id="f00b8-318">However, the refresh token might become invalid at any time for various reasons, so your app should continue to try to use a refresh token until it fails.</span></span> |
| <span data-ttu-id="f00b8-319">Auktoriseringskoder (arbets- eller skolkonto konton)</span><span class="sxs-lookup"><span data-stu-id="f00b8-319">Authorization codes (work or school accounts)</span></span> |<span data-ttu-id="f00b8-320">10 minuter</span><span class="sxs-lookup"><span data-stu-id="f00b8-320">10 minutes</span></span> |<span data-ttu-id="f00b8-321">Auktoriseringskoder är ändamålsenligt tillfällig och bör omedelbart lösas för åtkomst-token och uppdateringstoken när token som tas emot.</span><span class="sxs-lookup"><span data-stu-id="f00b8-321">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when the tokens are received.</span></span> |
| <span data-ttu-id="f00b8-322">Auktoriseringskoder (personliga konton)</span><span class="sxs-lookup"><span data-stu-id="f00b8-322">Authorization codes (personal accounts)</span></span> |<span data-ttu-id="f00b8-323">5 minuter</span><span class="sxs-lookup"><span data-stu-id="f00b8-323">5 minutes</span></span> |<span data-ttu-id="f00b8-324">Auktoriseringskoder är ändamålsenligt tillfällig och bör omedelbart lösas för åtkomst-token och uppdateringstoken när token som tas emot.</span><span class="sxs-lookup"><span data-stu-id="f00b8-324">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when the tokens are received.</span></span> <span data-ttu-id="f00b8-325">Auktoriseringskoder som har utfärdats för personliga konton är för enstaka användning.</span><span class="sxs-lookup"><span data-stu-id="f00b8-325">Authorization codes that are issued on behalf of personal accounts are for one-time use.</span></span> |
