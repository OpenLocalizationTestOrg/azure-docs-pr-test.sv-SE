---
title: "aaaLearn om hello annan token och anspråkstyper som stöds av Azure AD | Microsoft Docs"
description: "En guide för att förstå och utvärdera hello anspråk i hello SAML 2.0 och token JWT (JSON Web) token som utfärdats av Azure Active Directory (AAD)"
documentationcenter: na
author: dstrockis
services: active-directory
manager: mbaldwin
editor: 
ms.assetid: 166aa18e-1746-4c5e-b382-68338af921e2
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 02/08/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: c512894476613e94d86a994c32a8459d6cf00fbd
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-token-reference"></a><span data-ttu-id="5ce15-103">Tokenreferens för Azure AD</span><span class="sxs-lookup"><span data-stu-id="5ce15-103">Azure AD token reference</span></span>
<span data-ttu-id="5ce15-104">Azure Active Directory (AD Azure) genererar flera typer av säkerhetstoken i hello bearbetningen av varje autentiseringsflödet.</span><span class="sxs-lookup"><span data-stu-id="5ce15-104">Azure Active Directory (Azure AD) emits several types of security tokens in hello processing of each authentication flow.</span></span> <span data-ttu-id="5ce15-105">Det här dokumentet beskriver hello format, säkerhet egenskaperna och innehållet i varje typ av token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-105">This document describes hello format, security characteristics, and contents of each type of token.</span></span>

## <a name="types-of-tokens"></a><span data-ttu-id="5ce15-106">Typer av token</span><span class="sxs-lookup"><span data-stu-id="5ce15-106">Types of tokens</span></span>
<span data-ttu-id="5ce15-107">Azure AD stöder hello [OAuth 2.0-protokollet för auktorisering](active-directory-protocols-oauth-code.md), som utnyttjar både access_tokens och refresh_tokens.</span><span class="sxs-lookup"><span data-stu-id="5ce15-107">Azure AD supports hello [OAuth 2.0 authorization protocol](active-directory-protocols-oauth-code.md), which makes use of both access_tokens and refresh_tokens.</span></span>  <span data-ttu-id="5ce15-108">Det stöder också autentisering och logga in via [OpenID Connect](active-directory-protocols-openid-connect-code.md), som innehåller en tredje typ av token, hello id_token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-108">It also supports authentication and sign-in via [OpenID Connect](active-directory-protocols-openid-connect-code.md), which introduces a third type of token, hello id_token.</span></span>  <span data-ttu-id="5ce15-109">Var och en av dessa token representeras som ett ”ägartoken”.</span><span class="sxs-lookup"><span data-stu-id="5ce15-109">Each of these tokens is represented as a "bearer token".</span></span>

<span data-ttu-id="5ce15-110">Ett ägartoken är en förenklad säkerhetstoken som ger hello ”ägar” åtkomst tooa skyddad resurs.</span><span class="sxs-lookup"><span data-stu-id="5ce15-110">A bearer token is a lightweight security token that grants hello “bearer” access tooa protected resource.</span></span> <span data-ttu-id="5ce15-111">På detta sätt är hello ”ägar” någon part som kan utgöra hello-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-111">In this sense, hello “bearer” is any party that can present hello token.</span></span> <span data-ttu-id="5ce15-112">Även om autentisering med Azure AD är obligatoriskt i ordning tooreceive ägartoken, åtgärder vidtas toosecure hello token, tooprevent fångas upp av en oavsiktlig part.</span><span class="sxs-lookup"><span data-stu-id="5ce15-112">Though authentication with Azure AD is required in order tooreceive a bearer token, steps must be taken toosecure hello token, tooprevent interception by an unintended party.</span></span> <span data-ttu-id="5ce15-113">Eftersom ägar-token inte har en inbyggd mekanism tooprevent obehörig parter från att använda dem, transporteras de i en säker kanal, till exempel transport layer security (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="5ce15-113">Because bearer tokens do not have a built-in mechanism tooprevent unauthorized parties from using them, they must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="5ce15-114">Om ett ägartoken överförs i hello rensa, kan en hello man i mitten-attack använda tooacquire hello token och få obehörig åtkomst tooa skyddad resurs.</span><span class="sxs-lookup"><span data-stu-id="5ce15-114">If a bearer token is transmitted in hello clear, a man-in hello middle attack can be used tooacquire hello token and gain unauthorized access tooa protected resource.</span></span> <span data-ttu-id="5ce15-115">hello tillämpas samma säkerhetsprinciper när lagring eller cachelagring ägar-token för senare användning.</span><span class="sxs-lookup"><span data-stu-id="5ce15-115">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="5ce15-116">Se alltid till att appen skickar och lagrar ägar-token på ett säkert sätt.</span><span class="sxs-lookup"><span data-stu-id="5ce15-116">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span> <span data-ttu-id="5ce15-117">Flera säkerheten på ägar-token finns [RFC 6750 avsnitt 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="5ce15-117">For more security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="5ce15-118">Många av hello-token som utfärdats av Azure AD implementeras som JSON Web token eller JWTs.</span><span class="sxs-lookup"><span data-stu-id="5ce15-118">Many of hello tokens issued by Azure AD are implemented as JSON Web Tokens, or JWTs.</span></span>  <span data-ttu-id="5ce15-119">En JWT är ett kompakt, URL-säkert sätt att överföra information mellan två parter.</span><span class="sxs-lookup"><span data-stu-id="5ce15-119">A JWT is a compact, URL-safe means of transferring information between two parties.</span></span>  <span data-ttu-id="5ce15-120">hello informationen i JWTs kallas ”anspråk” eller intyg för information om hello ägar- och ämne för hello-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-120">hello information contained in JWTs are known as "claims", or assertions of information about hello bearer and subject of hello token.</span></span>  <span data-ttu-id="5ce15-121">hello anspråk i JWTs är JSON-objekt kodade och serialiseras för överföring.</span><span class="sxs-lookup"><span data-stu-id="5ce15-121">hello claims in JWTs are JSON objects encoded and serialized for transmission.</span></span>  <span data-ttu-id="5ce15-122">Eftersom hello JWTs som utfärdats av Azure AD är signerat, men inte är krypterade, kan du enkelt inspektera hello innehållet i en JWT för felsökning.</span><span class="sxs-lookup"><span data-stu-id="5ce15-122">Since hello JWTs issued by Azure AD are signed, but not encrypted, you can easily inspect hello contents of a JWT for debugging purposes.</span></span>  <span data-ttu-id="5ce15-123">Det finns flera verktyg för att göra det, t.ex [jwt.calebb.net](http://jwt.calebb.net).</span><span class="sxs-lookup"><span data-stu-id="5ce15-123">There are several tools available for doing so, such as [jwt.calebb.net](http://jwt.calebb.net).</span></span> <span data-ttu-id="5ce15-124">Mer information om JWTs kan du referera toohello [JWT-specifikationen](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="5ce15-124">For more information on JWTs, you can refer toohello [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

## <a name="idtokens"></a><span data-ttu-id="5ce15-125">Id_tokens</span><span class="sxs-lookup"><span data-stu-id="5ce15-125">Id_tokens</span></span>
<span data-ttu-id="5ce15-126">Id_tokens är en form av inloggning säkerhetstoken som appen tar emot när du utför autentisering med [OpenID Connect](active-directory-protocols-openid-connect-code.md).</span><span class="sxs-lookup"><span data-stu-id="5ce15-126">Id_tokens are a form of sign-in security token that your app receives when performing authentication using [OpenID Connect](active-directory-protocols-openid-connect-code.md).</span></span>  <span data-ttu-id="5ce15-127">De visas i form av [JWTs](#types-of-tokens), och innehåller anspråk som du kan använda för att signera hello användare i din app.</span><span class="sxs-lookup"><span data-stu-id="5ce15-127">They are represented as [JWTs](#types-of-tokens), and contain claims that you can use for signing hello user into your app.</span></span>  <span data-ttu-id="5ce15-128">Du kan använda hello anspråk i en id_token enligt önskemål – de används ofta för att visa kontoinformation eller gör besluten om åtkomstkontroll i en app.</span><span class="sxs-lookup"><span data-stu-id="5ce15-128">You can use hello claims in an id_token as you see fit - commonly they are used for displaying account information or making access control decisions in an app.</span></span>

<span data-ttu-id="5ce15-129">Id_tokens är signerat, men inte krypterade just nu.</span><span class="sxs-lookup"><span data-stu-id="5ce15-129">Id_tokens are signed, but not encrypted at this time.</span></span>  <span data-ttu-id="5ce15-130">När appen tar emot en id_token, måste [Validera hello signatur](#validating-tokens) tooprove hello-token är äkta och verifiera några anspråk i hello token tooprove dess giltighet.</span><span class="sxs-lookup"><span data-stu-id="5ce15-130">When your app receives an id_token, it must [validate hello signature](#validating-tokens) tooprove hello token's authenticity and validate a few claims in hello token tooprove its validity.</span></span>  <span data-ttu-id="5ce15-131">hello anspråk som verifieras av en app varierar beroende på krav för scenarier, men det finns några [vanliga anspråk verifieringar](#validating-tokens) som din app måste utföra i varje scenario.</span><span class="sxs-lookup"><span data-stu-id="5ce15-131">hello claims validated by an app vary depending on scenario requirements, but there are some [common claim validations](#validating-tokens) that your app must perform in every scenario.</span></span>

<span data-ttu-id="5ce15-132">Se hello efter avsnittet information på id_tokens anspråk, samt en exempel-id_token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-132">See hello following section for information on id_tokens claims, as well as a sample id_token.</span></span>  <span data-ttu-id="5ce15-133">Observera att hello anspråk i id_tokens inte returneras i någon särskild ordning.</span><span class="sxs-lookup"><span data-stu-id="5ce15-133">Note that hello claims in id_tokens are not returned in any particular order.</span></span>  <span data-ttu-id="5ce15-134">Dessutom nya anspråk som kan vara introduceras i id_tokens när som helst i tid - appen bryta inte som introduceras nya anspråk.</span><span class="sxs-lookup"><span data-stu-id="5ce15-134">In addition, new claims can be introduced into id_tokens at any point in time - your app should not break as new claims are introduced.</span></span>  <span data-ttu-id="5ce15-135">hello innehåller följande lista hello anspråk som din app på ett tillförlitligt sätt kan tolka när detta skrivs hello.</span><span class="sxs-lookup"><span data-stu-id="5ce15-135">hello following list includes hello claims that your app can reliably interpret at hello time of this writing.</span></span>  <span data-ttu-id="5ce15-136">Om nödvändigt ännu mer information hittar du i hello [OpenID Connect specifikationen](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="5ce15-136">If necessary, even more detail can be found in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-idtoken"></a><span data-ttu-id="5ce15-137">Exempel id_token</span><span class="sxs-lookup"><span data-stu-id="5ce15-137">Sample id_token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJub25lIn0.eyJhdWQiOiIyZDRkMTFhMi1mODE0LTQ2YTctODkwYS0yNzRhNzJhNzMwOWUiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83ZmU4MTQ0Ny1kYTU3LTQzODUtYmVjYi02ZGU1N2YyMTQ3N2UvIiwiaWF0IjoxMzg4NDQwODYzLCJuYmYiOjEzODg0NDA4NjMsImV4cCI6MTM4ODQ0NDc2MywidmVyIjoiMS4wIiwidGlkIjoiN2ZlODE0NDctZGE1Ny00Mzg1LWJlY2ItNmRlNTdmMjE0NzdlIiwib2lkIjoiNjgzODlhZTItNjJmYS00YjE4LTkxZmUtNTNkZDEwOWQ3NGY1IiwidXBuIjoiZnJhbmttQGNvbnRvc28uY29tIiwidW5pcXVlX25hbWUiOiJmcmFua21AY29udG9zby5jb20iLCJzdWIiOiJKV3ZZZENXUGhobHBTMVpzZjd5WVV4U2hVd3RVbTV5elBtd18talgzZkhZIiwiZmFtaWx5X25hbWUiOiJNaWxsZXIiLCJnaXZlbl9uYW1lIjoiRnJhbmsifQ.
```

> [!TIP]
> <span data-ttu-id="5ce15-138">Försök undersöks hello anspråk i hello exempel id_token genom att klistra in det i övningen [calebb.net](http://jwt.calebb.net).</span><span class="sxs-lookup"><span data-stu-id="5ce15-138">For practice, try inspecting hello claims in hello sample id_token by pasting it into [calebb.net](http://jwt.calebb.net).</span></span>
> 
> 

#### <a name="claims-in-idtokens"></a><span data-ttu-id="5ce15-139">Anspråk i id_tokens</span><span class="sxs-lookup"><span data-stu-id="5ce15-139">Claims in id_tokens</span></span>
> [!div class="mx-codeBreakAll"]
| <span data-ttu-id="5ce15-140">JWT-anspråk</span><span class="sxs-lookup"><span data-stu-id="5ce15-140">JWT Claim</span></span> | <span data-ttu-id="5ce15-141">Namn</span><span class="sxs-lookup"><span data-stu-id="5ce15-141">Name</span></span> | <span data-ttu-id="5ce15-142">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="5ce15-142">Description</span></span> |
| --- | --- | --- |
| `appid` |<span data-ttu-id="5ce15-143">Program-ID:t</span><span class="sxs-lookup"><span data-stu-id="5ce15-143">Application ID</span></span> |<span data-ttu-id="5ce15-144">Identifierar hello-program som använder hello token tooaccess en resurs.</span><span class="sxs-lookup"><span data-stu-id="5ce15-144">Identifies hello application that is using hello token tooaccess a resource.</span></span> <span data-ttu-id="5ce15-145">hello-programmet kan fungera som sig själv eller för en användares räkning.</span><span class="sxs-lookup"><span data-stu-id="5ce15-145">hello application can act as itself or on behalf of a user.</span></span> <span data-ttu-id="5ce15-146">hello program-ID representerar vanligen programobjekt, men det kan också vara en UPN serviceobjektet i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5ce15-146">hello application ID typically represents an application object, but it can also represent a service principal object in Azure AD.</span></span> <br><br> <span data-ttu-id="5ce15-147">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-147">**Example JWT Value**:</span></span> <br> `"appid":"15CB020F-3984-482A-864D-1D92265E8268"` |
| `aud` |<span data-ttu-id="5ce15-148">Målgrupp</span><span class="sxs-lookup"><span data-stu-id="5ce15-148">Audience</span></span> |<span data-ttu-id="5ce15-149">hello avsedda mottagaren av hello-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-149">hello intended recipient of hello token.</span></span> <span data-ttu-id="5ce15-150">hello-program som tar emot hello token måste kontrollera att hello målgruppen värde är korrekt och ignorera eventuella tokens som är avsedda för en annan publik.</span><span class="sxs-lookup"><span data-stu-id="5ce15-150">hello application that receives hello token must verify that hello audience value is correct and reject any tokens intended for a different audience.</span></span> <br><br> <span data-ttu-id="5ce15-151">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-151">**Example SAML Value**:</span></span> <br> `<AudienceRestriction>`<br>`<Audience>`<br>`https://contoso.com`<br>`</Audience>`<br>`</AudienceRestriction>` <br><br> <span data-ttu-id="5ce15-152">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-152">**Example JWT Value**:</span></span> <br> `"aud":"https://contoso.com"` |
| `appidacr` |<span data-ttu-id="5ce15-153">Application Authentication Context Class Reference</span><span class="sxs-lookup"><span data-stu-id="5ce15-153">Application Authentication Context Class Reference</span></span> |<span data-ttu-id="5ce15-154">Anger hur hello klienten autentiserades.</span><span class="sxs-lookup"><span data-stu-id="5ce15-154">Indicates how hello client was authenticated.</span></span> <span data-ttu-id="5ce15-155">För en offentlig klient är hello-värdet 0.</span><span class="sxs-lookup"><span data-stu-id="5ce15-155">For a public client, hello value is 0.</span></span> <span data-ttu-id="5ce15-156">Om du använder klient-ID och klienthemlighet, är hello-värdet 1.</span><span class="sxs-lookup"><span data-stu-id="5ce15-156">If client ID and client secret are used, hello value is 1.</span></span> <br><br> <span data-ttu-id="5ce15-157">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-157">**Example JWT Value**:</span></span> <br> `"appidacr": "0"` |
| `acr` |<span data-ttu-id="5ce15-158">Authentication Context Class Reference</span><span class="sxs-lookup"><span data-stu-id="5ce15-158">Authentication Context Class Reference</span></span> |<span data-ttu-id="5ce15-159">Anger hur hello ämne autentiserades som skillnad från toohello klient i hello Application Authentication Context Class Reference anspråk.</span><span class="sxs-lookup"><span data-stu-id="5ce15-159">Indicates how hello subject was authenticated, as opposed toohello client in hello Application Authentication Context Class Reference claim.</span></span> <span data-ttu-id="5ce15-160">Värdet ”0” anger hello slutanvändarens autentisering inte uppfyllde kraven hello i ISO/IEC 29115.</span><span class="sxs-lookup"><span data-stu-id="5ce15-160">A value of "0" indicates hello end-user authentication did not meet hello requirements of ISO/IEC 29115.</span></span> <br><br> <span data-ttu-id="5ce15-161">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-161">**Example JWT Value**:</span></span> <br> `"acr": "0"` |
| <span data-ttu-id="5ce15-162">Autentisering snabbmeddelanden</span><span class="sxs-lookup"><span data-stu-id="5ce15-162">Authentication Instant</span></span> |<span data-ttu-id="5ce15-163">Poster hello datum och tid då autentisering inträffade.</span><span class="sxs-lookup"><span data-stu-id="5ce15-163">Records hello date and time when authentication occurred.</span></span> <br><br> <span data-ttu-id="5ce15-164">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-164">**Example SAML Value**:</span></span> <br> `<AuthnStatement AuthnInstant="2011-12-29T05:35:22.000Z">` | |
| `amr` |<span data-ttu-id="5ce15-165">Autentiseringsmetod</span><span class="sxs-lookup"><span data-stu-id="5ce15-165">Authentication Method</span></span> |<span data-ttu-id="5ce15-166">Anger hur hello ämnet för hello token autentiserades.</span><span class="sxs-lookup"><span data-stu-id="5ce15-166">Identifies how hello subject of hello token was authenticated.</span></span> <br><br> <span data-ttu-id="5ce15-167">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-167">**Example SAML Value**:</span></span> <br> `<AuthnContextClassRef>`<br>`http://schemas.microsoft.com/ws/2008/06/identity/claims/authenticationmethod/password`<br>`</AuthnContextClassRef>` <br><br> <span data-ttu-id="5ce15-168">**JWT exempelvärde**:`“amr”: ["pwd"]`</span><span class="sxs-lookup"><span data-stu-id="5ce15-168">**Example JWT Value**: `“amr”: ["pwd"]`</span></span> |
| `given_name` |<span data-ttu-id="5ce15-169">Förnamn</span><span class="sxs-lookup"><span data-stu-id="5ce15-169">First Name</span></span> |<span data-ttu-id="5ce15-170">Ger hello först eller namnet på hello användare ”angivna” som angetts på hello Azure AD-användarobjektet.</span><span class="sxs-lookup"><span data-stu-id="5ce15-170">Provides hello first or "given" name of hello user, as set on hello Azure AD user object.</span></span> <br><br> <span data-ttu-id="5ce15-171">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-171">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname”>`<br>`<AttributeValue>Frank<AttributeValue>` <br><br> <span data-ttu-id="5ce15-172">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-172">**Example JWT Value**:</span></span> <br> `"given_name": "Frank"` |
| `groups` |<span data-ttu-id="5ce15-173">Grupper</span><span class="sxs-lookup"><span data-stu-id="5ce15-173">Groups</span></span> |<span data-ttu-id="5ce15-174">Innehåller objekt-ID som representerar hello ämne gruppmedlemskap.</span><span class="sxs-lookup"><span data-stu-id="5ce15-174">Provides object IDs that represent hello subject's group memberships.</span></span> <span data-ttu-id="5ce15-175">Dessa värden är unik (se objekt-ID) och kan användas på ett säkert sätt för att hantera åtkomst till exempel framtvinga auktorisering tooaccess en resurs.</span><span class="sxs-lookup"><span data-stu-id="5ce15-175">These values are unique (see Object ID) and can be safely used for managing access, such as enforcing authorization tooaccess a resource.</span></span> <span data-ttu-id="5ce15-176">hello-grupper som ingår i hello grupper anspråk är konfigurerade på grundval per program via hello ”groupMembershipClaims”-egenskap av hello applikationsmanifestet.</span><span class="sxs-lookup"><span data-stu-id="5ce15-176">hello groups included in hello groups claim are configured on a per-application basis, through hello "groupMembershipClaims" property of hello application manifest.</span></span> <span data-ttu-id="5ce15-177">En null-värde kan du inte alla grupper, värdet ”säkerhetsgruppen” kommer Ta endast med Active Directory-säkerhetsgrupp medlemskap och ett värde av ”alla” kommer inkluderar både säkerhetsgrupper och distributionslistor för Office 365.</span><span class="sxs-lookup"><span data-stu-id="5ce15-177">A value of null will exclude all groups, a value of "SecurityGroup" will include only Active Directory Security Group memberships, and a value of "All" will include both Security Groups and Office 365 Distribution Lists.</span></span> <br><br> <span data-ttu-id="5ce15-178">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-178">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/groups">`<br>`<AttributeValue>07dd8a60-bf6d-4e17-8844-230b77145381</AttributeValue>` <br><br> <span data-ttu-id="5ce15-179">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-179">**Example JWT Value**:</span></span> <br> `“groups”: ["0e129f5b-6b0a-4944-982d-f776045632af", … ]` |
| `idp` |<span data-ttu-id="5ce15-180">Identitetsprovider</span><span class="sxs-lookup"><span data-stu-id="5ce15-180">Identity Provider</span></span> |<span data-ttu-id="5ce15-181">Poster hello identitetsleverantör som autentiserats hello ämnet för hello-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-181">Records hello identity provider that authenticated hello subject of hello token.</span></span> <span data-ttu-id="5ce15-182">Det här värdet är identiska toohello värdet för hello utfärdaren anspråk om hello användarkontot finns i en annan klient än hello utfärdare.</span><span class="sxs-lookup"><span data-stu-id="5ce15-182">This value is identical toohello value of hello Issuer claim unless hello user account is in a different tenant than hello issuer.</span></span> <br><br> <span data-ttu-id="5ce15-183">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-183">**Example SAML Value**:</span></span> <br> `<Attribute Name=” http://schemas.microsoft.com/identity/claims/identityprovider”>`<br>`<AttributeValue>https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/<AttributeValue>` <br><br> <span data-ttu-id="5ce15-184">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-184">**Example JWT Value**:</span></span> <br> `"idp":”https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/”` |
| `iat` |<span data-ttu-id="5ce15-185">IssuedAt</span><span class="sxs-lookup"><span data-stu-id="5ce15-185">IssuedAt</span></span> |<span data-ttu-id="5ce15-186">Lagrar hello tid vid vilken hello token har utfärdats.</span><span class="sxs-lookup"><span data-stu-id="5ce15-186">Stores hello time at which hello token was issued.</span></span> <span data-ttu-id="5ce15-187">Det är ofta använda toomeasure token dokumentens.</span><span class="sxs-lookup"><span data-stu-id="5ce15-187">It is often used toomeasure token freshness.</span></span> <br><br> <span data-ttu-id="5ce15-188">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-188">**Example SAML Value**:</span></span> <br> `<Assertion ID="_d5ec7a9b-8d8f-4b44-8c94-9812612142be" IssueInstant="2014-01-06T20:20:23.085Z" Version="2.0" xmlns="urn:oasis:names:tc:SAML:2.0:assertion">` <br><br> <span data-ttu-id="5ce15-189">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-189">**Example JWT Value**:</span></span> <br> `"iat": 1390234181` |
| `iss` |<span data-ttu-id="5ce15-190">Utfärdaren</span><span class="sxs-lookup"><span data-stu-id="5ce15-190">Issuer</span></span> |<span data-ttu-id="5ce15-191">Identifierar hello säkerhetstokentjänst (STS) som skapar och returnerar hello-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-191">Identifies hello security token service (STS) that constructs and returns hello token.</span></span> <span data-ttu-id="5ce15-192">I hello-token som Azure AD returnerar är hello utfärdaren sts.windows.net.</span><span class="sxs-lookup"><span data-stu-id="5ce15-192">In hello tokens that Azure AD returns, hello issuer is sts.windows.net.</span></span> <span data-ttu-id="5ce15-193">hello är GUID i hello utfärdaren anspråksvärdet hello klient-ID för hello Azure AD-katalog.</span><span class="sxs-lookup"><span data-stu-id="5ce15-193">hello GUID in hello Issuer claim value is hello tenant ID of hello Azure AD directory.</span></span> <span data-ttu-id="5ce15-194">hello klient-ID är oföränderlig och tillförlitlig identifierare för hello directory.</span><span class="sxs-lookup"><span data-stu-id="5ce15-194">hello tenant ID is an immutable and reliable identifier of hello directory.</span></span> <br><br> <span data-ttu-id="5ce15-195">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-195">**Example SAML Value**:</span></span> <br> `<Issuer>https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/</Issuer>` <br><br> <span data-ttu-id="5ce15-196">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-196">**Example JWT Value**:</span></span> <br>  `"iss":”https://sts.windows.net/cbb1a5ac-f33b-45fa-9bf5-f37db0fed422/”` |
| `family_name` |<span data-ttu-id="5ce15-197">Efternamn</span><span class="sxs-lookup"><span data-stu-id="5ce15-197">Last Name</span></span> |<span data-ttu-id="5ce15-198">Tillhandahåller hello efternamn, efternamn eller efternamn för användaren hello enligt definitionen i hello Azure AD-användarobjektet.</span><span class="sxs-lookup"><span data-stu-id="5ce15-198">Provides hello last name, surname, or family name of hello user as defined in hello Azure AD user object.</span></span> <br><br> <span data-ttu-id="5ce15-199">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-199">**Example SAML Value**:</span></span> <br> `<Attribute Name=” http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname”>`<br>`<AttributeValue>Miller<AttributeValue>` <br><br> <span data-ttu-id="5ce15-200">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-200">**Example JWT Value**:</span></span> <br> `"family_name": "Miller"` |
| `unique_name` |<span data-ttu-id="5ce15-201">Namn</span><span class="sxs-lookup"><span data-stu-id="5ce15-201">Name</span></span> |<span data-ttu-id="5ce15-202">Ger en mänsklig läsbar värde som identifierar hello ämnet för hello-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-202">Provides a human readable value that identifies hello subject of hello token.</span></span> <span data-ttu-id="5ce15-203">Det här värdet är inte säkert toobe unika inom en klient och är utformad toobe används endast för visning.</span><span class="sxs-lookup"><span data-stu-id="5ce15-203">This value is not guaranteed toobe unique within a tenant and is designed toobe used only for display purposes.</span></span> <br><br> <span data-ttu-id="5ce15-204">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-204">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name”>`<br>`<AttributeValue>frankm@contoso.com<AttributeValue>` <br><br> <span data-ttu-id="5ce15-205">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-205">**Example JWT Value**:</span></span> <br> `"unique_name": "frankm@contoso.com"` |
| `oid` |<span data-ttu-id="5ce15-206">Objekt-ID</span><span class="sxs-lookup"><span data-stu-id="5ce15-206">Object ID</span></span> |<span data-ttu-id="5ce15-207">Innehåller en unik identifierare för ett objekt i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5ce15-207">Contains a unique identifier of an object in Azure AD.</span></span> <span data-ttu-id="5ce15-208">Det här värdet är oföränderlig och kan inte tilldela om eller återanvänds.</span><span class="sxs-lookup"><span data-stu-id="5ce15-208">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="5ce15-209">Använd hello objekt-ID tooidentify ett objekt i frågor tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="5ce15-209">Use hello object ID tooidentify an object in queries tooAzure AD.</span></span> <br><br> <span data-ttu-id="5ce15-210">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-210">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/identity/claims/objectidentifier">`<br>`<AttributeValue>528b2ac2-aa9c-45e1-88d4-959b53bc7dd0<AttributeValue>` <br><br> <span data-ttu-id="5ce15-211">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-211">**Example JWT Value**:</span></span> <br> `"oid":"528b2ac2-aa9c-45e1-88d4-959b53bc7dd0"` |
| `roles` |<span data-ttu-id="5ce15-212">Roller</span><span class="sxs-lookup"><span data-stu-id="5ce15-212">Roles</span></span> |<span data-ttu-id="5ce15-213">Representerar alla roller för programmet som hello ämne har beviljats direkt eller indirekt via gruppmedlemskap och kan vara används tooenforce rollbaserad åtkomstkontroll.</span><span class="sxs-lookup"><span data-stu-id="5ce15-213">Represents all application roles that hello subject has been granted both directly and indirectly through group membership and can be used tooenforce role-based access control.</span></span> <span data-ttu-id="5ce15-214">Programroller definieras på en applikationsspecifik basis via hello `appRoles` -egenskapen för hello programmanifestet.</span><span class="sxs-lookup"><span data-stu-id="5ce15-214">Application roles are defined on a per-application basis, through hello `appRoles` property of hello application manifest.</span></span> <span data-ttu-id="5ce15-215">Hej `value` -egenskapen för varje roll för programmet är hello-värde som visas i hello roller anspråk.</span><span class="sxs-lookup"><span data-stu-id="5ce15-215">hello `value` property of each application role is hello value that appears in hello roles claim.</span></span> <br><br> <span data-ttu-id="5ce15-216">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-216">**Example SAML Value**:</span></span> <br> `<Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/role">`<br>`<AttributeValue>Admin</AttributeValue>` <br><br> <span data-ttu-id="5ce15-217">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-217">**Example JWT Value**:</span></span> <br> `“roles”: ["Admin", … ]` |
| `scp` |<span data-ttu-id="5ce15-218">Omfång</span><span class="sxs-lookup"><span data-stu-id="5ce15-218">Scope</span></span> |<span data-ttu-id="5ce15-219">Anger hello personifiering behörigheter beviljade toohello client-program.</span><span class="sxs-lookup"><span data-stu-id="5ce15-219">Indicates hello impersonation permissions granted toohello client application.</span></span> <span data-ttu-id="5ce15-220">hello standardbehörigheten är `user_impersonation`.</span><span class="sxs-lookup"><span data-stu-id="5ce15-220">hello default permission is `user_impersonation`.</span></span> <span data-ttu-id="5ce15-221">hello ägare hello skyddade resursen kan registrera ytterligare värden i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5ce15-221">hello owner of hello secured resource can register additional values in Azure AD.</span></span> <br><br> <span data-ttu-id="5ce15-222">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-222">**Example JWT Value**:</span></span> <br> `"scp": "user_impersonation"` |
| `sub` |<span data-ttu-id="5ce15-223">Ämne</span><span class="sxs-lookup"><span data-stu-id="5ce15-223">Subject</span></span> |<span data-ttu-id="5ce15-224">Identifierar hello principal om vilka hello token Assert information, till exempel hello användaren av ett program.</span><span class="sxs-lookup"><span data-stu-id="5ce15-224">Identifies hello principal about which hello token asserts information, such as hello user of an application.</span></span> <span data-ttu-id="5ce15-225">Det här värdet kan inte ändras och det går inte att tilldela om eller återanvänds, så det kan vara används tooperform auktoriseringskontroller på ett säkert sätt.</span><span class="sxs-lookup"><span data-stu-id="5ce15-225">This value is immutable and cannot be reassigned or reused, so it can be used tooperform authorization checks safely.</span></span> <span data-ttu-id="5ce15-226">Eftersom hello ämne finns alltid i hello tokens hello Azure AD-problem, rekommenderar vi använder det här värdet i ett system med generella tillstånd.</span><span class="sxs-lookup"><span data-stu-id="5ce15-226">Because hello subject is always present in hello tokens hello Azure AD issues, we recommended using this value in a general purpose authorization system.</span></span> <br> <span data-ttu-id="5ce15-227">`SubjectConfirmation`är inte ett anspråk.</span><span class="sxs-lookup"><span data-stu-id="5ce15-227">`SubjectConfirmation` is not a claim.</span></span> <span data-ttu-id="5ce15-228">Beskriver hur hello ämnet för hello token har verifierats.</span><span class="sxs-lookup"><span data-stu-id="5ce15-228">It describes how hello subject of hello token is verified.</span></span> <span data-ttu-id="5ce15-229">`Bearer`Anger hello ämnet bekräftas av deras tillgång hello-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-229">`Bearer` indicates that hello subject is confirmed by their possession of hello token.</span></span> <br><br> <span data-ttu-id="5ce15-230">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-230">**Example SAML Value**:</span></span> <br> `<Subject>`<br>`<NameID>S40rgb3XjhFTv6EQTETkEzcgVmToHKRkZUIsJlmLdVc</NameID>`<br>`<SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer" />`<br>`</Subject>` <br><br> <span data-ttu-id="5ce15-231">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-231">**Example JWT Value**:</span></span> <br> `"sub":"92d0312b-26b9-4887-a338-7b00fb3c5eab"` |
| `tid` |<span data-ttu-id="5ce15-232">Klient-ID:t</span><span class="sxs-lookup"><span data-stu-id="5ce15-232">Tenant ID</span></span> |<span data-ttu-id="5ce15-233">En ändras, icke-återanvändningsbara ID som identifierar hello directory-klient som utfärdade hello-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-233">An immutable, non-reusable identifier that identifies hello directory tenant that issued hello token.</span></span> <span data-ttu-id="5ce15-234">Du kan använda det här värdet tooaccess klient-specifika directory-resurser i ett program med flera innehavare.</span><span class="sxs-lookup"><span data-stu-id="5ce15-234">You can use this value tooaccess tenant-specific directory resources in a multi-tenant application.</span></span> <span data-ttu-id="5ce15-235">Exempelvis kan du använda det här värdet tooidentify hello innehavare i ett anrop toohello Graph API.</span><span class="sxs-lookup"><span data-stu-id="5ce15-235">For example, you can use this value tooidentify hello tenant in a call toohello Graph API.</span></span> <br><br> <span data-ttu-id="5ce15-236">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-236">**Example SAML Value**:</span></span> <br> `<Attribute Name=”http://schemas.microsoft.com/identity/claims/tenantid”>`<br>`<AttributeValue>cbb1a5ac-f33b-45fa-9bf5-f37db0fed422<AttributeValue>` <br><br> <span data-ttu-id="5ce15-237">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-237">**Example JWT Value**:</span></span> <br> `"tid":"cbb1a5ac-f33b-45fa-9bf5-f37db0fed422"` |
| <span data-ttu-id="5ce15-238">`nbf`, `exp`</span><span class="sxs-lookup"><span data-stu-id="5ce15-238">`nbf`, `exp`</span></span> |<span data-ttu-id="5ce15-239">Livslängd för token</span><span class="sxs-lookup"><span data-stu-id="5ce15-239">Token Lifetime</span></span> |<span data-ttu-id="5ce15-240">Definierar hello tidsintervall inom vilket en token är giltig.</span><span class="sxs-lookup"><span data-stu-id="5ce15-240">Defines hello time interval within which a token is valid.</span></span> <span data-ttu-id="5ce15-241">hello-tjänst som validerar hello token bör kontrollera att hello aktuella datumet infaller inom hello livslängd för token, annars avvisar den hello-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-241">hello service that validates hello token should verify that hello current date is within hello token lifetime, else it should reject hello token.</span></span> <span data-ttu-id="5ce15-242">hello tjänsten kan tillåta för in toofive minuter utöver hello livslängd för token intervallet tooaccount för eventuella skillnader i tiden (”tiden förskjutning”) mellan Azure AD och hello-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="5ce15-242">hello service might allow for up toofive minutes beyond hello token lifetime range tooaccount for any differences in clock time ("time skew") between Azure AD and hello service.</span></span> <br><br> <span data-ttu-id="5ce15-243">**Exempel SAML värdet**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-243">**Example SAML Value**:</span></span> <br> `<Conditions`<br>`NotBefore="2013-03-18T21:32:51.261Z"`<br>`NotOnOrAfter="2013-03-18T22:32:51.261Z"`<br>`>` <br><br> <span data-ttu-id="5ce15-244">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-244">**Example JWT Value**:</span></span> <br> `"nbf":1363289634, "exp":1363293234` |
| `upn` |<span data-ttu-id="5ce15-245">Användarens huvudnamn</span><span class="sxs-lookup"><span data-stu-id="5ce15-245">User Principal Name</span></span> |<span data-ttu-id="5ce15-246">Lagrar hello hello användares UPN användarnamn.</span><span class="sxs-lookup"><span data-stu-id="5ce15-246">Stores hello user name of hello user principal.</span></span><br><br> <span data-ttu-id="5ce15-247">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-247">**Example JWT Value**:</span></span> <br> `"upn": frankm@contoso.com` |
| `ver` |<span data-ttu-id="5ce15-248">Version</span><span class="sxs-lookup"><span data-stu-id="5ce15-248">Version</span></span> |<span data-ttu-id="5ce15-249">Lagrar hello versionsnumret för hello-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-249">Stores hello version number of hello token.</span></span> <br><br> <span data-ttu-id="5ce15-250">**JWT exempelvärde**:</span><span class="sxs-lookup"><span data-stu-id="5ce15-250">**Example JWT Value**:</span></span> <br> `"ver": "1.0"` |

## <a name="access-tokens"></a><span data-ttu-id="5ce15-251">Åtkomst-token</span><span class="sxs-lookup"><span data-stu-id="5ce15-251">Access tokens</span></span>
<span data-ttu-id="5ce15-252">När autentiseringen lyckas returnerar Azure AD åtkomst-token som kan vara används tooaccess skyddade resurser.</span><span class="sxs-lookup"><span data-stu-id="5ce15-252">Upon successful authentication, Azure AD returns an access token, which can be used tooaccess protected resources.</span></span> <span data-ttu-id="5ce15-253">hello åtkomsttoken är en base 64-kodat JSON-Webbtoken (JWT) och dess innehåll kan kontrolleras genom att köra det via en avkodare.</span><span class="sxs-lookup"><span data-stu-id="5ce15-253">hello access token is a base 64 encoded JSON Web Token (JWT) and its contents can be inspected by running it through a decoder.</span></span>

<span data-ttu-id="5ce15-254">Om din app bara *använder* access token tooget åtkomst tooAPIs, kan (och bör) behandlas åtkomsttoken som helt ogenomskinlig - de är bara strängar som din app kan passera tooresources i HTTP-förfrågningar.</span><span class="sxs-lookup"><span data-stu-id="5ce15-254">If your app only *uses* access tokens tooget access tooAPIs, you can (and should) treat access tokens as completely opaque - they are just strings which your app can pass tooresources in HTTP requests.</span></span>

<span data-ttu-id="5ce15-255">När du begär en åtkomst-token returnerar Azure AD även vissa metadata om hello åtkomst-token för förbrukning av din app.</span><span class="sxs-lookup"><span data-stu-id="5ce15-255">When you request an access token, Azure AD also returns some metadata about hello access token for your app's consumption.</span></span>  <span data-ttu-id="5ce15-256">Informationen omfattar hello förfallotiden för hello åtkomst-token och hello omfattningar som är giltig.</span><span class="sxs-lookup"><span data-stu-id="5ce15-256">This information includes hello expiry time of hello access token and hello scopes for which it is valid.</span></span>  <span data-ttu-id="5ce15-257">Detta gör att din app tooperform intelligent cachelagring av åtkomsttoken utan att behöva öppna hello åtkomsttoken själva tooparse.</span><span class="sxs-lookup"><span data-stu-id="5ce15-257">This allows your app tooperform intelligent caching of access tokens without having tooparse open hello access token itself.</span></span>

<span data-ttu-id="5ce15-258">Om din app är en API som skyddas med Azure AD som förväntar sig åtkomst-token i HTTP-begäranden, bör sedan du utföra verifiering och kontroll av hello-token som du får.</span><span class="sxs-lookup"><span data-stu-id="5ce15-258">If your app is an API protected with Azure AD that expects access tokens in HTTP requests, then you should perform validation and inspection of hello tokens you receive.</span></span> <span data-ttu-id="5ce15-259">Din app ska utföra verifiering av hello åtkomst-token innan du använder den tooaccess resurser.</span><span class="sxs-lookup"><span data-stu-id="5ce15-259">Your app should perform validation of hello access token before using it tooaccess resources.</span></span> <span data-ttu-id="5ce15-260">Mer information om verifiering finns [verifierar token](#validating-tokens).</span><span class="sxs-lookup"><span data-stu-id="5ce15-260">For more information on validation, please see [Validating Tokens](#validating-tokens).</span></span>  
<span data-ttu-id="5ce15-261">Mer information om hur toodo detta med .NET, se [skydda ett webb-API med hjälp av ägar-token från Azure AD](active-directory-devquickstarts-webapi-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="5ce15-261">For details on how toodo this with .NET, see [Protect a Web API using Bearer tokens from Azure AD](active-directory-devquickstarts-webapi-dotnet.md).</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="5ce15-262">Uppdatera token</span><span class="sxs-lookup"><span data-stu-id="5ce15-262">Refresh tokens</span></span>

<span data-ttu-id="5ce15-263">Uppdatera token är säkerhetstokens som din app kan använda tooacquire nya åtkomst till token i en OAuth 2.0-flödet.</span><span class="sxs-lookup"><span data-stu-id="5ce15-263">Refresh tokens are security tokens, which your app can use tooacquire new access tokens in an OAuth 2.0 flow.</span></span>  <span data-ttu-id="5ce15-264">Den kan din app tooachieve långsiktiga åtkomst tooresources för en användares räkning utan interaktion med hello användare.</span><span class="sxs-lookup"><span data-stu-id="5ce15-264">It allows your app tooachieve long-term access tooresources on behalf of a user without requiring interaction by hello user.</span></span>

<span data-ttu-id="5ce15-265">Uppdaterings-tokens är flera resurs.</span><span class="sxs-lookup"><span data-stu-id="5ce15-265">Refresh tokens are multi-resource.</span></span>  <span data-ttu-id="5ce15-266">Det är toosay som en uppdateringstoken togs emot under en Tokenbegäran för en resurs kan lösas för åtkomst-token tooa helt annan resurs.</span><span class="sxs-lookup"><span data-stu-id="5ce15-266">That is toosay that a refresh token received during a token request for one resource can be redeemed for access tokens tooa completely different resource.</span></span> <span data-ttu-id="5ce15-267">toodo detta, ange hello `resource` parameter i hello begäran toohello riktade resurs.</span><span class="sxs-lookup"><span data-stu-id="5ce15-267">toodo this, set hello `resource` parameter in hello request toohello targeted resource.</span></span>

<span data-ttu-id="5ce15-268">Uppdateringstoken är helt ogenomskinlig tooyour app.</span><span class="sxs-lookup"><span data-stu-id="5ce15-268">Refresh tokens are completely opaque tooyour app.</span></span> <span data-ttu-id="5ce15-269">De är långlivade, men din app ska inte skrivas tooexpect som en uppdateringstoken ska gälla för en viss tidsperiod.</span><span class="sxs-lookup"><span data-stu-id="5ce15-269">They are long-lived, but your app should not be written tooexpect that a refresh token will last for any period of time.</span></span>  <span data-ttu-id="5ce15-270">Uppdaterings-tokens kan vara inaktuella när som helst för en mängd olika skäl.</span><span class="sxs-lookup"><span data-stu-id="5ce15-270">Refresh tokens can be invalidated at any moment in time for a variety of reasons.</span></span>  <span data-ttu-id="5ce15-271">Hej sätt för din app tooknow om en uppdateringstoken är giltig är tooattempt tooredeem den genom att göra en tokenbegäran tooAzure AD-token för slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="5ce15-271">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request tooAzure AD token endpoint.</span></span>

<span data-ttu-id="5ce15-272">När du lösa in en uppdateringstoken för en ny åtkomsttoken får du en ny uppdateringstoken hello token svar.</span><span class="sxs-lookup"><span data-stu-id="5ce15-272">When you redeem a refresh token for a new access token, you will receive a new refresh token in hello token response.</span></span>  <span data-ttu-id="5ce15-273">Du bör spara hello nyligen utfärdade uppdateringstoken ersätter hello något du använde i hello-begäran.</span><span class="sxs-lookup"><span data-stu-id="5ce15-273">You should save hello newly issued refresh token, replacing hello one you used in hello request.</span></span>  <span data-ttu-id="5ce15-274">Detta garanterar att uppdaterings-tokens vara giltigt så länge som möjligt.</span><span class="sxs-lookup"><span data-stu-id="5ce15-274">This will guarantee that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="5ce15-275">Verifiera token</span><span class="sxs-lookup"><span data-stu-id="5ce15-275">Validating tokens</span></span>

<span data-ttu-id="5ce15-276">I ordning toovalidate en id_token eller en access_token bör appen Verifiera signatur och hello anspråk i båda hello-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-276">In order toovalidate an id_token or an access_token, your app should validate both hello token's signature and hello claims.</span></span> <span data-ttu-id="5ce15-277">Appen bör också i ordning toovalidate åtkomsttoken verifiera hello utfärdare, hello målgrupp och hello token-signering.</span><span class="sxs-lookup"><span data-stu-id="5ce15-277">In order toovalidate access tokens, your app should also validate hello issuer, hello audience and hello signing tokens.</span></span> <span data-ttu-id="5ce15-278">Dessa måste toobe verifieras mot hello värden i hello OpenID discovery-dokumentet.</span><span class="sxs-lookup"><span data-stu-id="5ce15-278">These need toobe validated against hello values in hello OpenID discovery document.</span></span> <span data-ttu-id="5ce15-279">Till exempel hello klient oberoende version av hello dokumentet finns på [https://login.microsoftonline.com/common/.well-known/openid-configuration](https://login.microsoftonline.com/common/.well-known/openid-configuration).</span><span class="sxs-lookup"><span data-stu-id="5ce15-279">For example, hello tenant independent version of hello document is located at [https://login.microsoftonline.com/common/.well-known/openid-configuration](https://login.microsoftonline.com/common/.well-known/openid-configuration).</span></span> <span data-ttu-id="5ce15-280">Azure AD-mellanprogram har inbyggda funktioner för att validera åtkomst-token och du kan bläddra igenom våra [exempel](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-code-samples) toofind en i hello önskat språk.</span><span class="sxs-lookup"><span data-stu-id="5ce15-280">Azure AD middleware has built-in capabilities for validating access tokens, and you can browse through our [samples](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-code-samples) toofind one in hello language of your choice.</span></span> <span data-ttu-id="5ce15-281">Mer information om hur tooexplicitly validera en JWT-token finns hello [manuell JWT validering exempel](https://github.com/Azure-Samples/active-directory-dotnet-webapi-manual-jwt-validation).</span><span class="sxs-lookup"><span data-stu-id="5ce15-281">For more information on how tooexplicitly validate a JWT token, please see hello [manual JWT validation sample](https://github.com/Azure-Samples/active-directory-dotnet-webapi-manual-jwt-validation).</span></span>  

<span data-ttu-id="5ce15-282">Vi tillhandahåller bibliotek och kodexempel som visar hur tooeasily hantera token validering - anges hello informationen nedan bara för som toounderstand hello underliggande processen.</span><span class="sxs-lookup"><span data-stu-id="5ce15-282">We provide libraries and code samples that show how tooeasily handle token validation - hello below information is simply provided for those who wish toounderstand hello underlying process.</span></span>  <span data-ttu-id="5ce15-283">Det finns också flera bibliotek med öppen källkod från tredje part för JWT-verifiering: det finns minst ett alternativ för nästan alla plattform och det språket.</span><span class="sxs-lookup"><span data-stu-id="5ce15-283">There are also several third party open source libraries available for JWT validation - there is at least one option for almost every platform and language out there.</span></span> <span data-ttu-id="5ce15-284">Mer information om Azure AD-autentiseringsbibliotek och kodexempel finns [Azure AD-autentiseringsbibliotek](active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="5ce15-284">For more information about Azure AD authentication libraries and code samples, please see [Azure AD authentication libraries](active-directory-authentication-libraries.md).</span></span>

#### <a name="validating-hello-signature"></a><span data-ttu-id="5ce15-285">Verifiera hello signatur</span><span class="sxs-lookup"><span data-stu-id="5ce15-285">Validating hello signature</span></span>

<span data-ttu-id="5ce15-286">En JWT innehåller tre segment som avgränsas med hello `.` tecken.</span><span class="sxs-lookup"><span data-stu-id="5ce15-286">A JWT contains three segments, which are separated by hello `.` character.</span></span>  <span data-ttu-id="5ce15-287">hello första segmentet kallas hello **huvud**, hello andra som hello **brödtext**, och hello tredje som hello **signatur**.</span><span class="sxs-lookup"><span data-stu-id="5ce15-287">hello first segment is known as hello **header**, hello second as hello **body**, and hello third as hello **signature**.</span></span>  <span data-ttu-id="5ce15-288">hello signatur segment kan vara används toovalidate hello äkthet hello token så att den kan vara betrott av din app.</span><span class="sxs-lookup"><span data-stu-id="5ce15-288">hello signature segment can be used toovalidate hello authenticity of hello token so that it can be trusted by your app.</span></span>

<span data-ttu-id="5ce15-289">Token som utfärdats av Azure AD är signerade med industry standard asymmetriska krypteringsalgoritmer, till exempel RSA-256.</span><span class="sxs-lookup"><span data-stu-id="5ce15-289">Tokens issued by Azure AD are signed using industry standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="5ce15-290">hello huvudet i hello JWT innehåller information om hello nyckeln och krypteringsmetod används toosign hello token:</span><span class="sxs-lookup"><span data-stu-id="5ce15-290">hello header of hello JWT contains information about hello key and encryption method used toosign hello token:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "x5t": "kriMPdmBvx68skT8-mPAB3BseeA"
}
```

<span data-ttu-id="5ce15-291">Hej `alg` anspråk anger hello-algoritmen som har använt toosign hello-token när hello `x5t` anspråk anger hello viss offentlig nyckel som har använt toosign hello-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-291">hello `alg` claim indicates hello algorithm that was used toosign hello token, while hello `x5t` claim indicates hello particular public key that was used toosign hello token.</span></span>

<span data-ttu-id="5ce15-292">Vid en viss tidpunkt, kan Azure AD logga en id_token med någon av en viss uppsättning privat-offentligt nyckelpar.</span><span class="sxs-lookup"><span data-stu-id="5ce15-292">At any given point in time, Azure AD may sign an id_token using any one of a certain set of public-private key pairs.</span></span> <span data-ttu-id="5ce15-293">Azure AD roterar hello möjliga uppsättning nycklar regelbundet, så att din app ska skrivas toohandle dessa nyckel ändras automatiskt.</span><span class="sxs-lookup"><span data-stu-id="5ce15-293">Azure AD rotates hello possible set of keys on a periodic basis, so your app should be written toohandle those key changes automatically.</span></span>  <span data-ttu-id="5ce15-294">En rimlig frekvens toocheck för uppdateringar toohello offentliga nycklar som används av Azure AD är 24 timmar.</span><span class="sxs-lookup"><span data-stu-id="5ce15-294">A reasonable frequency toocheck for updates toohello public keys used by Azure AD is every 24 hours.</span></span>

<span data-ttu-id="5ce15-295">Du kan skaffa hello signering nyckeldata nödvändiga toovalidate hello signatur med hjälp av hello OpenID Connect metadata dokument som finns på:</span><span class="sxs-lookup"><span data-stu-id="5ce15-295">You can acquire hello signing key data necessary toovalidate hello signature by using hello OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="5ce15-296">Denna URL i en webbläsare kan du prova!</span><span class="sxs-lookup"><span data-stu-id="5ce15-296">Try this URL in a browser!</span></span>
> 
> 

<span data-ttu-id="5ce15-297">Metadatadokumentet är en JSON-objekt som innehåller flera användbara delar av information, till exempel hello platsen för hello olika slutpunkter som krävs för att utföra autentisering med OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="5ce15-297">This metadata document is a JSON object containing several useful pieces of information, such as hello location of hello various endpoints required for performing OpenID Connect authentication.</span></span>  

<span data-ttu-id="5ce15-298">Den innehåller också en `jwks_uri`, vilket ger hello platsen för hello uppsättning offentliga nycklar används toosign token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-298">It also includes a `jwks_uri`, which gives hello location of hello set of public keys used toosign tokens.</span></span>  <span data-ttu-id="5ce15-299">hello JSON-dokumentet finns på hello `jwks_uri` innehåller alla hello offentlig nyckelinformation används av den viss tidpunkten.</span><span class="sxs-lookup"><span data-stu-id="5ce15-299">hello JSON document located at hello `jwks_uri` contains all of hello public key information in use at that particular moment in time.</span></span>  <span data-ttu-id="5ce15-300">Din app kan använda hello `kid` anspråk i hello JWT huvud tooselect vilka offentliga nyckeln i det här dokumentet har använt toosign en viss token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-300">Your app can use hello `kid` claim in hello JWT header tooselect which public key in this document has been used toosign a particular token.</span></span>  <span data-ttu-id="5ce15-301">Den kan utföra signaturverifiering med hello rätt offentlig nyckel och hello angivna algoritm.</span><span class="sxs-lookup"><span data-stu-id="5ce15-301">It can then perform signature validation using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="5ce15-302">Utför signaturverifiering är utanför hello omfånget för det här dokumentet - det finns många bibliotek med öppen källkod för att hjälpa dig att göra det om det behövs.</span><span class="sxs-lookup"><span data-stu-id="5ce15-302">Performing signature validation is outside hello scope of this document - there are many open source libraries available for helping you do so if necessary.</span></span>

#### <a name="validating-hello-claims"></a><span data-ttu-id="5ce15-303">Verifiera hello anspråk</span><span class="sxs-lookup"><span data-stu-id="5ce15-303">Validating hello claims</span></span>

<span data-ttu-id="5ce15-304">När appen tar emot en token (en id_token när användaren loggar in, eller en åtkomst-token som en ägartoken i hello HTTP-begäran) bör det också utföra några kontroller mot hello anspråk i hello-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-304">When your app receives a token (either an id_token upon user sign-in, or an access token as a bearer token in hello HTTP request) it should also perform a few checks against hello claims in hello token.</span></span>  <span data-ttu-id="5ce15-305">Dessa inkludera, men är inte begränsade till:</span><span class="sxs-lookup"><span data-stu-id="5ce15-305">These include but are not limited to:</span></span>

* <span data-ttu-id="5ce15-306">Hej **målgruppen** anspråk - tooverify hello token är avsedda toobe angivna tooyour app.</span><span class="sxs-lookup"><span data-stu-id="5ce15-306">hello **Audience** claim - tooverify that hello token was intended toobe given tooyour app.</span></span>
* <span data-ttu-id="5ce15-307">Hej **inte före** och **förfallotid** anspråk - tooverify hello token inte har gått ut.</span><span class="sxs-lookup"><span data-stu-id="5ce15-307">hello **Not Before** and **Expiration Time** claims - tooverify that hello token has not expired.</span></span>
* <span data-ttu-id="5ce15-308">Hej **utfärdaren** anspråk - tooverify hello token utfärdades verkligen tooyour app av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5ce15-308">hello **Issuer** claim - tooverify that hello token was indeed issued tooyour app by Azure AD.</span></span>
* <span data-ttu-id="5ce15-309">Hej **temporärt ID** -toomitigate en token replay-attacker.</span><span class="sxs-lookup"><span data-stu-id="5ce15-309">hello **Nonce** -  toomitigate a token replay attack.</span></span>
* <span data-ttu-id="5ce15-310">med mera...</span><span class="sxs-lookup"><span data-stu-id="5ce15-310">and more...</span></span>

<span data-ttu-id="5ce15-311">En fullständig lista över anspråk verifieringar din app ska utföra för ID-token finns toohello [OpenID Connect specifikationen](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span><span class="sxs-lookup"><span data-stu-id="5ce15-311">For a full list of claim validations your app should perform for ID Tokens, refer toohello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span> <span data-ttu-id="5ce15-312">Information om hello förväntade värden för dessa anspråk som ingår i föregående hello [id_token avsnittet](#id-tokens) avsnitt.</span><span class="sxs-lookup"><span data-stu-id="5ce15-312">Details of hello expected values for these claims are included in hello preceding [id_token section](#id-tokens) section.</span></span>

## <a name="sample-tokens"></a><span data-ttu-id="5ce15-313">Exempel-token</span><span class="sxs-lookup"><span data-stu-id="5ce15-313">Sample Tokens</span></span>

<span data-ttu-id="5ce15-314">Det här avsnittet visas exempel på SAML- och JWT-token som returnerar Azure AD.</span><span class="sxs-lookup"><span data-stu-id="5ce15-314">This section displays samples of SAML and JWT tokens that Azure AD returns.</span></span> <span data-ttu-id="5ce15-315">Dessa exempel kan du se hello anspråk i kontexten.</span><span class="sxs-lookup"><span data-stu-id="5ce15-315">These samples let you see hello claims in context.</span></span>

### <a name="saml-token"></a><span data-ttu-id="5ce15-316">SAML-Token</span><span class="sxs-lookup"><span data-stu-id="5ce15-316">SAML Token</span></span>

<span data-ttu-id="5ce15-317">Det här är ett exempel på en typisk SAML-token.</span><span class="sxs-lookup"><span data-stu-id="5ce15-317">This is a sample of a typical SAML token.</span></span>

    <?xml version="1.0" encoding="UTF-8"?>
    <t:RequestSecurityTokenResponse xmlns:t="http://schemas.xmlsoap.org/ws/2005/02/trust">
      <t:Lifetime>
        <wsu:Created xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">2014-12-24T05:15:47.060Z</wsu:Created>
        <wsu:Expires xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">2014-12-24T06:15:47.060Z</wsu:Expires>
      </t:Lifetime>
      <wsp:AppliesTo xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy">
        <EndpointReference xmlns="http://www.w3.org/2005/08/addressing">
          <Address>https://contoso.onmicrosoft.com/MyWebApp</Address>
        </EndpointReference>
      </wsp:AppliesTo>
      <t:RequestedSecurityToken>
        <Assertion xmlns="urn:oasis:names:tc:SAML:2.0:assertion" ID="_3ef08993-846b-41de-99df-b7f3ff77671b" IssueInstant="2014-12-24T05:20:47.060Z" Version="2.0">
          <Issuer>https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/</Issuer>
          <ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
            <ds:SignedInfo>
              <ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" />
              <ds:SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256" />
              <ds:Reference URI="#_3ef08993-846b-41de-99df-b7f3ff77671b">
                <ds:Transforms>
                  <ds:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature" />
                  <ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" />
                </ds:Transforms>
                <ds:DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha256" />
                <ds:DigestValue>cV1J580U1pD24hEyGuAxrbtgROVyghCqI32UkER/nDY=</ds:DigestValue>
              </ds:Reference>
            </ds:SignedInfo>
            <ds:SignatureValue>j+zPf6mti8Rq4Kyw2NU2nnu0pbJU1z5bR/zDaKaO7FCTdmjUzAvIVfF8pspVR6CbzcYM3HOAmLhuWmBkAAk6qQUBmKsw+XlmF/pB/ivJFdgZSLrtlBs1P/WBV3t04x6fRW4FcIDzh8KhctzJZfS5wGCfYw95er7WJxJi0nU41d7j5HRDidBoXgP755jQu2ZER7wOYZr6ff+ha+/Aj3UMw+8ZtC+WCJC3yyENHDAnp2RfgdElJal68enn668fk8pBDjKDGzbNBO6qBgFPaBT65YvE/tkEmrUxdWkmUKv3y7JWzUYNMD9oUlut93UTyTAIGOs5fvP9ZfK2vNeMVJW7Xg==</ds:SignatureValue>
            <KeyInfo xmlns="http://www.w3.org/2000/09/xmldsig#">
              <X509Data>
                <X509Certificate>MIIDPjCCAabcAwIBAgIQsRiM0jheFZhKk49YD0SK1TAJBgUrDgMCHQUAMC0xKzApBgNVBAMTImFjY291bnRzLmFjY2Vzc2NvbnRyb2wud2luZG93cy5uZXQwHhcNMTQwMTAxMDcwMDAwWhcNMTYwMTAxMDcwMDAwWjAtMSswKQYDVQQDEyJhY2NvdW50cy5hY2Nlc3Njb250cm9sLndpbmRvd3MubmV0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAkSCWg6q9iYxvJE2NIhSyOiKvqoWCO2GFipgH0sTSAs5FalHQosk9ZNTztX0ywS/AHsBeQPqYygfYVJL6/EgzVuwRk5txr9e3n1uml94fLyq/AXbwo9yAduf4dCHTP8CWR1dnDR+Qnz/4PYlWVEuuHHONOw/blbfdMjhY+C/BYM2E3pRxbohBb3x//CfueV7ddz2LYiH3wjz0QS/7kjPiNCsXcNyKQEOTkbHFi3mu0u13SQwNddhcynd/GTgWN8A+6SN1r4hzpjFKFLbZnBt77ACSiYx+IHK4Mp+NaVEi5wQtSsjQtI++XsokxRDqYLwus1I1SihgbV/STTg5enufuwIDAQABo2IwYDBeBgNVHQEEVzBVgBDLebM6bK3BjWGqIBrBNFeNoS8wLTErMCkGA1UEAxMiYWNjb3VudHMuYWNjZXNzY29udHJvbC53aW5kb3dzLm5ldIIQsRiM0jheFZhKk49YD0SK1TAJBgUrDgMCHQUAA4IBAQCJ4JApryF77EKC4zF5bUaBLQHQ1PNtA1uMDbdNVGKCmSp8M65b8h0NwlIjGGGy/unK8P6jWFdm5IlZ0YPTOgzcRZguXDPj7ajyvlVEQ2K2ICvTYiRQqrOhEhZMSSZsTKXFVwNfW6ADDkN3bvVOVbtpty+nBY5UqnI7xbcoHLZ4wYD251uj5+lo13YLnsVrmQ16NCBYq2nQFNPuNJw6t3XUbwBHXpF46aLT1/eGf/7Xx6iy8yPJX4DyrpFTutDz882RWofGEO5t4Cw+zZg70dJ/hH/ODYRMorfXEW+8uKmXMKmX2wyxMKvfiPbTy5LmAU8Jvjs2tLg4rOBcXWLAIarZ</X509Certificate>
              </X509Data>
            </KeyInfo>
          </ds:Signature>
          <Subject>
            <NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:persistent">m_H3naDei2LNxUmEcWd0BZlNi_jVET1pMLR6iQSuYmo</NameID>
            <SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer" />
          </Subject>
          <Conditions NotBefore="2014-12-24T05:15:47.060Z" NotOnOrAfter="2014-12-24T06:15:47.060Z">
            <AudienceRestriction>
              <Audience>https://contoso.onmicrosoft.com/MyWebApp</Audience>
            </AudienceRestriction>
          </Conditions>
          <AttributeStatement>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/objectidentifier">
              <AttributeValue>a1addde8-e4f9-4571-ad93-3059e3750d23</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/tenantid">
              <AttributeValue>b9411234-09af-49c2-b0c3-653adc1f376e</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name">
              <AttributeValue>sample.admin@contoso.onmicrosoft.com</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname">
              <AttributeValue>Admin</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname">
              <AttributeValue>Sample</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/ws/2008/06/identity/claims/groups">
              <AttributeValue>5581e43f-6096-41d4-8ffa-04e560bab39d</AttributeValue>
              <AttributeValue>07dd8a89-bf6d-4e81-8844-230b77145381</AttributeValue>
              <AttributeValue>0e129f4g-6b0a-4944-982d-f776000632af</AttributeValue>
              <AttributeValue>3ee07328-52ef-4739-a89b-109708c22fb5</AttributeValue>
              <AttributeValue>329k14b3-1851-4b94-947f-9a4dacb595f4</AttributeValue>
              <AttributeValue>6e32c650-9b0a-4491-b429-6c60d2ca9a42</AttributeValue>
              <AttributeValue>f3a169a7-9a58-4e8f-9d47-b70029v07424</AttributeValue>
              <AttributeValue>8e2c86b2-b1ad-476d-9574-544d155aa6ff</AttributeValue>
              <AttributeValue>1bf80264-ff24-4866-b22c-6212e5b9a847</AttributeValue>
              <AttributeValue>4075f9c3-072d-4c32-b542-03e6bc678f3e</AttributeValue>
              <AttributeValue>76f80527-f2cd-46f4-8c52-8jvd8bc749b1</AttributeValue>
              <AttributeValue>0ba31460-44d0-42b5-b90c-47b3fcc48e35</AttributeValue>
              <AttributeValue>edd41703-8652-4948-94a7-2d917bba7667</AttributeValue>
            </Attribute>
            <Attribute Name="http://schemas.microsoft.com/identity/claims/identityprovider">
              <AttributeValue>https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/</AttributeValue>
            </Attribute>
          </AttributeStatement>
          <AuthnStatement AuthnInstant="2014-12-23T18:51:11.000Z">
            <AuthnContext>
              <AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</AuthnContextClassRef>
            </AuthnContext>
          </AuthnStatement>
        </Assertion>
      </t:RequestedSecurityToken>
      <t:RequestedAttachedReference>
        <SecurityTokenReference xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:d3p1="http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd" d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0">
          <KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_3ef08993-846b-41de-99df-b7f3ff77671b</KeyIdentifier>
        </SecurityTokenReference>
      </t:RequestedAttachedReference>
      <t:RequestedUnattachedReference>
        <SecurityTokenReference xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:d3p1="http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd" d3p1:TokenType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0">
          <KeyIdentifier ValueType="http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLID">_3ef08993-846b-41de-99df-b7f3ff77671b</KeyIdentifier>
        </SecurityTokenReference>
      </t:RequestedUnattachedReference>
      <t:TokenType>http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV2.0</t:TokenType>
      <t:RequestType>http://schemas.xmlsoap.org/ws/2005/02/trust/Issue</t:RequestType>
      <t:KeyType>http://schemas.xmlsoap.org/ws/2005/05/identity/NoProofKey</t:KeyType>
    </t:RequestSecurityTokenResponse>

### <a name="jwt-token---user-impersonation"></a><span data-ttu-id="5ce15-318">JWT-Token - personifiering</span><span class="sxs-lookup"><span data-stu-id="5ce15-318">JWT Token - User Impersonation</span></span>
<span data-ttu-id="5ce15-319">Det här är ett exempel på en typisk JSON web token (JWT) används i en grant-auktoriseringskodflödet.</span><span class="sxs-lookup"><span data-stu-id="5ce15-319">This is a sample of a typical JSON web token (JWT) used in an authorization code grant flow.</span></span>
<span data-ttu-id="5ce15-320">I tillägg tooclaims hello token innehåller ett versionsnummer i **ver** och **appidacr**, hello autentisering kontexten klassreferens, som anger hur hello klienten autentiserades.</span><span class="sxs-lookup"><span data-stu-id="5ce15-320">In addition tooclaims, hello token includes a version number in **ver** and **appidacr**, hello authentication context class reference, which indicates how hello client was authenticated.</span></span> <span data-ttu-id="5ce15-321">För en offentlig klient är hello-värdet 0.</span><span class="sxs-lookup"><span data-stu-id="5ce15-321">For a public client, hello value is 0.</span></span> <span data-ttu-id="5ce15-322">Om en klient-ID eller klienthemlighet användes är hello-värdet 1.</span><span class="sxs-lookup"><span data-stu-id="5ce15-322">If a client ID or client secret was used, hello value is 1.</span></span>

    {
     typ: "JWT",
     alg: "RS256",
     x5t: "kriMPdmBvx68skT8-mPAB3BseeA"
    }.
    {
     aud: "https://contoso.onmicrosoft.com/scratchservice",
     iss: "https://sts.windows.net/b9411234-09af-49c2-b0c3-653adc1f376e/",
     iat: 1416968588,
     nbf: 1416968588,
     exp: 1416972488,
     ver: "1.0",
     tid: "b9411234-09af-49c2-b0c3-653adc1f376e",
     amr: [
      "pwd"
     ],
     roles: [
      "Admin"
     ],
     oid: "6526e123-0ff9-4fec-ae64-a8d5a77cf287",
     upn: "sample.user@contoso.onmicrosoft.com",
     unique_name: "sample.user@contoso.onmicrosoft.com",
     sub: "yf8C5e_VRkR1egGxJSDt5_olDFay6L5ilBA81hZhQEI",
     family_name: "User",
     given_name: "Sample",
     groups: [
      "0e129f6b-6b0a-4944-982d-f776000632af",
      "323b13b3-1851-4b94-947f-9a4dacb595f4",
      "6e32c250-9b0a-4491-b429-6c60d2ca9a42",
      "f3a161a7-9a58-4e8f-9d47-b70022a07424",
      "8d4c81b2-b1ad-476d-9574-544d155aa6ff",
      "1bf80164-ff24-4866-b19c-6212e5b9a847",
      "76f80127-f2cd-46f4-8c52-8edd8bc749b1",
      "0ba27160-44d0-42b5-b90c-47b3fcc48e35"
     ],
     appid: "b075ddef-0efa-123b-997b-de1337c29185",
     appidacr: "1",
     scp: "user_impersonation",
     acr: "1"
    }.

## <a name="related-content"></a><span data-ttu-id="5ce15-323">Relaterat innehåll</span><span class="sxs-lookup"><span data-stu-id="5ce15-323">Related content</span></span>
* <span data-ttu-id="5ce15-324">Se hello Azure AD Graph [åtgärder](https://msdn.microsoft.com/library/azure/ad/graph/api/policy-operations) och hello [princip entiteten](https://msdn.microsoft.com/library/azure/ad/graph/api/entity-and-complex-type-reference#policy-entity), toolearn mer om hur du hanterar livslängd för token-principer via hello Azure AD Graph API.</span><span class="sxs-lookup"><span data-stu-id="5ce15-324">See hello Azure AD Graph [Policy operations](https://msdn.microsoft.com/library/azure/ad/graph/api/policy-operations) and hello [Policy entity](https://msdn.microsoft.com/library/azure/ad/graph/api/entity-and-complex-type-reference#policy-entity), toolearn more about managing token lifetime policy via hello Azure AD Graph API.</span></span>
* <span data-ttu-id="5ce15-325">Mer information och exempel på att hantera principer via PowerShell-cmdletar, inklusive exempel, finns [konfigurerbara token livslängd i Azure AD](../active-directory-configurable-token-lifetimes.md).</span><span class="sxs-lookup"><span data-stu-id="5ce15-325">For more information and samples on managing policies via PowerShell cmdlets, including samples, see [Configurable token lifetimes in Azure AD](../active-directory-configurable-token-lifetimes.md).</span></span> 
