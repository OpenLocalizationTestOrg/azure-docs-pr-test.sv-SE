---
title: Azure Active Directory Graph API | Microsoft Docs
description: "En översikt och quickstart handbok för Graph API som ger programmatisk åtkomst till Azure AD via REST API-slutpunkter."
services: active-directory
documentationcenter: 
author: viv-liu
manager: mbaldwin
editor: mbaldwin
ms.assetid: 5471ad74-20b3-44df-a2b5-43cde2c0a045
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 04/27/2017
ms.author: viviali
ms.custom: aaddev
ms.openlocfilehash: 79bb96171c00fa62f24113800c3824856febe728
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/11/2017
---
# <a name="azure-active-directory-graph-api"></a><span data-ttu-id="6c7f3-103">Azure Active Directory Graph API</span><span class="sxs-lookup"><span data-stu-id="6c7f3-103">Azure Active Directory Graph API</span></span>
> [!IMPORTANT]
> <span data-ttu-id="6c7f3-104">Vi rekommenderar starkt att du använder [Microsoft Graph](https://graph.microsoft.io/) i stället för Azure AD Graph API för att komma åt resurser i Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-104">We strongly recommend that you use [Microsoft Graph](https://graph.microsoft.io/) instead of Azure AD Graph API to access Azure Active Directory resources.</span></span> <span data-ttu-id="6c7f3-105">Vårt utvecklingsarbete koncentreras nu till Microsoft Graph och inga fler förbättringar planeras för Azure AD Graph API.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-105">Our development efforts are now concentrated on Microsoft Graph and no further enhancements are planned for Azure AD Graph API.</span></span> <span data-ttu-id="6c7f3-106">Det finns ett begränsat antal scenarier där Azure AD Graph API fortfarande kan vara lämpligt. Mer information finns i blogginlägget [Microsoft Graph or the Azure AD Graph](https://dev.office.com/blogs/microsoft-graph-or-azure-ad-graph) (Microsoft Graph eller Azure AD Graph) i Office Dev Center.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-106">There are a very limited number of scenarios for which Azure AD Graph API might still be appropriate; for more information, see the [Microsoft Graph or the Azure AD Graph](https://dev.office.com/blogs/microsoft-graph-or-azure-ad-graph) blog post in the Office Dev Center.</span></span>
> 
> 

<span data-ttu-id="6c7f3-107">Azure Active Directory Graph API ger programmatisk åtkomst till Azure AD via REST API-slutpunkter.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-107">The Azure Active Directory Graph API provides programmatic access to Azure AD through REST API endpoints.</span></span> <span data-ttu-id="6c7f3-108">Program kan använda Graph API för att utföra skapa, läsa, uppdatera och ta bort CRUD-åtgärder i katalogdata och objekt.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-108">Applications can use the Graph API to perform create, read, update, and delete (CRUD) operations on directory data and objects.</span></span> <span data-ttu-id="6c7f3-109">Till exempel stöder Graph API följande vanliga åtgärder för ett användarobjekt:</span><span class="sxs-lookup"><span data-stu-id="6c7f3-109">For example, the Graph API supports the following common operations for a user object:</span></span>

* <span data-ttu-id="6c7f3-110">Skapa en ny användare i en katalog</span><span class="sxs-lookup"><span data-stu-id="6c7f3-110">Create a new user in a directory</span></span>
* <span data-ttu-id="6c7f3-111">Hämta en användares detaljerade egenskaper, till exempel deras grupper</span><span class="sxs-lookup"><span data-stu-id="6c7f3-111">Get a user’s detailed properties, such as their groups</span></span>
* <span data-ttu-id="6c7f3-112">Uppdatera egenskaperna för en användare, till exempel deras plats och telefonnummer, eller ändra sina lösenord</span><span class="sxs-lookup"><span data-stu-id="6c7f3-112">Update a user’s properties, such as their location and phone number, or change their password</span></span>
* <span data-ttu-id="6c7f3-113">Kontrollera en användares gruppmedlemskap för rollbaserad åtkomst</span><span class="sxs-lookup"><span data-stu-id="6c7f3-113">Check a user’s group membership for role-based access</span></span>
* <span data-ttu-id="6c7f3-114">Inaktiverar ett användarkonto eller ta bort den helt</span><span class="sxs-lookup"><span data-stu-id="6c7f3-114">Disable a user’s account or delete it entirely</span></span>

<span data-ttu-id="6c7f3-115">Förutom användarobjekt, kan du utföra liknande åtgärder på andra objekt, till exempel grupper och program.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-115">In addition to user objects, you can perform similar operations on other objects such as groups and applications.</span></span> <span data-ttu-id="6c7f3-116">Programmet måste registreras med Azure AD för att anropa Graph API för en katalog och konfigureras för att tillåta åtkomst till katalogen.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-116">To call the Graph API on a directory, the application must be registered with Azure AD and be configured to allow access to the directory.</span></span> <span data-ttu-id="6c7f3-117">Detta uppnås normalt flöde en användare eller administratör medgivande.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-117">This is normally achieved through a user or admin consent flow.</span></span>

<span data-ttu-id="6c7f3-118">Om du vill börja använda Azure Active Directory Graph API, finns det [Snabbstartsguide för Graph API](active-directory-graph-api-quickstart.md), eller visa den [interaktiva Graph API-referensdokumentation](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).</span><span class="sxs-lookup"><span data-stu-id="6c7f3-118">To begin using the Azure Active Directory Graph API, see the [Graph API Quickstart Guide](active-directory-graph-api-quickstart.md), or view the [interactive Graph API reference documentation](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).</span></span>

## <a name="features"></a><span data-ttu-id="6c7f3-119">Funktioner</span><span class="sxs-lookup"><span data-stu-id="6c7f3-119">Features</span></span>
<span data-ttu-id="6c7f3-120">Graph API innehåller följande funktioner:</span><span class="sxs-lookup"><span data-stu-id="6c7f3-120">The Graph API provides the following features:</span></span>

* <span data-ttu-id="6c7f3-121">**REST API-slutpunkter**: Graph API: N är en RESTful-tjänst består av slutpunkter som hämtas med hjälp av HTTP-begäranden som standard.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-121">**REST API Endpoints**: The Graph API is a RESTful service comprised of endpoints that are accessed using standard HTTP requests.</span></span> <span data-ttu-id="6c7f3-122">Graph API stöder XML eller Javascript Object Notation (JSON) innehållstyper för begäranden och -svar.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-122">The Graph API supports XML or Javascript Object Notation (JSON) content types for requests and responses.</span></span> <span data-ttu-id="6c7f3-123">Mer information finns i [Azure AD Graph REST API-referens](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).</span><span class="sxs-lookup"><span data-stu-id="6c7f3-123">For more information, see [Azure AD Graph REST API Reference](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog).</span></span>
* <span data-ttu-id="6c7f3-124">**Autentisering med Azure AD**: varje begäran för Graph API måste autentiseras genom att lägga till en JSON-Webbtoken (JWT) i Authorization-huvud i begäran.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-124">**Authentication with Azure AD**: Every request to the Graph API must be authenticated by appending a JSON Web Token (JWT) in the Authorization header of the request.</span></span> <span data-ttu-id="6c7f3-125">Denna token förvärvas genom att göra en begäran till Azure AD-token för slutpunkt och anger giltiga autentiseringsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-125">This token is acquired by making a request to Azure AD’s token endpoint and providing valid credentials.</span></span> <span data-ttu-id="6c7f3-126">Du kan använda OAuth 2.0-klientautentiseringsuppgifter eller det flöde beviljat med auktoriseringskod att hämta en token för att anropa diagrammet.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-126">You can use the OAuth 2.0 client credentials flow or the authorization code grant flow to acquire a token to call the Graph.</span></span> <span data-ttu-id="6c7f3-127">Mer information [OAuth 2.0 i Azure AD](https://msdn.microsoft.com/library/azure/dn645545.aspx).</span><span class="sxs-lookup"><span data-stu-id="6c7f3-127">For more information, [OAuth 2.0 in Azure AD](https://msdn.microsoft.com/library/azure/dn645545.aspx).</span></span>
* <span data-ttu-id="6c7f3-128">**Rollbaserad auktorisering (RBAC)**: säkerhetsgrupper används för att utföra RBAC i Graph API.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-128">**Role-Based Authorization (RBAC)**: Security groups are used to perform RBAC in the Graph API.</span></span> <span data-ttu-id="6c7f3-129">Om du vill fastställa om en användare har åtkomst till en specifik resurs, programmet kan anropa exempelvis den [Kontrollera gruppmedlemskap (transitiva)](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/groups-operations#FunctionsandactionsongroupsCheckmembershipinaspecificgrouptransitive) åtgärd som returnerar true eller false.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-129">For example, if you want to determine whether a user has access to a specific resource, the application can call the [Check Group Membership (transitive)](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/groups-operations#FunctionsandactionsongroupsCheckmembershipinaspecificgrouptransitive) operation, which returns true or false.</span></span>
* <span data-ttu-id="6c7f3-130">**Differentiella frågan**: Om du vill söka efter ändringar i en katalog mellan två tidsperioder utan att behöva göra ofta frågor för Graph API kan du göra en differentiell fråga.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-130">**Differential Query**: If you want to check for changes in a directory between two time periods without having to make frequent queries to the Graph API, you can make a differential query request.</span></span> <span data-ttu-id="6c7f3-131">Den här typen av begäran returnerar bara de ändringar som gjorts mellan tidigare differentiell fråga och den aktuella begäranden.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-131">This type of request will return only the changes made between the previous differential query request and the current request.</span></span> <span data-ttu-id="6c7f3-132">Mer information finns i [Azure AD Graph API differentiell frågan](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-differential-query).</span><span class="sxs-lookup"><span data-stu-id="6c7f3-132">For more information, see [Azure AD Graph API Differential Query](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-differential-query).</span></span>
* <span data-ttu-id="6c7f3-133">**Katalogtillägg**: Om du utvecklar ett program som behövs för att läsa eller skriva unik egenskaper för katalogobjekt kan du registrera och använda tillägget värden med hjälp av Graph API.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-133">**Directory Extensions**: If you are developing an application that needs to read or write unique properties for directory objects, you can register and use extension values by using the Graph API.</span></span> <span data-ttu-id="6c7f3-134">Om ditt program kräver en Skype-ID-egenskap för varje användare, kan du registrera den nya egenskapen i katalogen och den blir tillgänglig på alla användarobjekt.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-134">For example, if your application requires a Skype ID property for each user, you can register the new property in the directory and it will be available on every user object.</span></span> <span data-ttu-id="6c7f3-135">Mer information finns i [Azure AD Graph API Directory-schemautökningar](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-directory-schema-extensions).</span><span class="sxs-lookup"><span data-stu-id="6c7f3-135">For more information, see [Azure AD Graph API Directory Schema Extensions](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-directory-schema-extensions).</span></span>
* <span data-ttu-id="6c7f3-136">**Skyddas av behörighetsomfattningen**: AAD Graph API exponerar behörighetsomfattningen som aktiverar secure/godkänt åtkomst till AAD data och stöder många olika apptyper som klienten, inklusive:</span><span class="sxs-lookup"><span data-stu-id="6c7f3-136">**Secured by permission scopes**: AAD Graph API exposes permission scopes that enable secure/consented access to AAD data, and support a variety of client app types, including:</span></span>
  
  * <span data-ttu-id="6c7f3-137">de med ett användargränssnitt som ges begränsad åtkomst till data via tillstånd från (delegerad) inloggade användaren</span><span class="sxs-lookup"><span data-stu-id="6c7f3-137">those with a user interface which are given delegated access to data via authorization from the signed-in user (delegated)</span></span>
  * <span data-ttu-id="6c7f3-138">de som använder definiera program – rollbaserad åtkomstkontroll, till exempel service-daemon klienter (app-roller)</span><span class="sxs-lookup"><span data-stu-id="6c7f3-138">those that use application-define role-based access control such as service/daemon clients (app roles)</span></span>
    
    <span data-ttu-id="6c7f3-139">Både delegerade och app rollen behörighetsomfattningen representerar privilegium som exponeras av Graph-API och kan begäras av klientprogram via behörigheter för registrering av program [funktioner i Azure portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="6c7f3-139">Both delegated and app role permission scopes represent a privilege exposed by the Graph API and can be requested by client applications through application registration permissions [features in the Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="6c7f3-140">Klienter kan verifiera behörighet scope beviljas till dem genom att inspektera omfång (”scp”)-anspråk som togs emot i åtkomsttoken för delegerade behörigheter och roller (”roller”) begära för app-rollbehörigheter.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-140">Clients can verify the permission scopes granted to them by inspecting the scope (“scp”) claim received in the access token for delegated permissions and the roles (“roles”) claim for app role permissions.</span></span> <span data-ttu-id="6c7f3-141">Lär dig mer om [Azure AD Graph API Behörighetsomfattningen](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-permission-scopes).</span><span class="sxs-lookup"><span data-stu-id="6c7f3-141">Learn more about [Azure AD Graph API Permission Scopes](https://msdn.microsoft.com/Library/Azure/Ad/Graph/howto/azure-ad-graph-api-permission-scopes).</span></span>

## <a name="scenarios"></a><span data-ttu-id="6c7f3-142">Scenarier</span><span class="sxs-lookup"><span data-stu-id="6c7f3-142">Scenarios</span></span>
<span data-ttu-id="6c7f3-143">Graph API kan många scenarier för programmet.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-143">The Graph API enables many application scenarios.</span></span> <span data-ttu-id="6c7f3-144">Följande scenarier är de vanligaste:</span><span class="sxs-lookup"><span data-stu-id="6c7f3-144">The following scenarios are the most common:</span></span>

* <span data-ttu-id="6c7f3-145">**Affärsprogram (enstaka klient)**: I det här scenariot fungerar en enterprise-utvecklare för en organisation som har en Office 365-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-145">**Line of Business (Single Tenant) Application**: In this scenario, an enterprise developer works for an organization that has an Office 365 subscription.</span></span> <span data-ttu-id="6c7f3-146">Utvecklare skapar ett webbprogram som interagerar med Azure AD för att utföra uppgifter sådana tilldela en licens till en användare.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-146">The developer is building a web application that interacts with Azure AD to perform tasks such assigning a license to a user.</span></span> <span data-ttu-id="6c7f3-147">Den här aktiviteten kräver åtkomst till Graph-API så developer registren enstaka program i Azure AD-klient och konfigurerar Läs- och skrivbehörighet för Graph API.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-147">This task requires access to the Graph API, so the developer registers the single tenant application in Azure AD and configures read and write permissions for the Graph API.</span></span> <span data-ttu-id="6c7f3-148">Sedan är programmet konfigurerat för att använda sina egna autentiseringsuppgifter eller den av den aktuella inloggningen för att hämta en token för att anropa Graph API.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-148">Then the application is configured to use either its own credentials or those of the currently sign-in user to acquire a token to call the Graph API.</span></span>
* <span data-ttu-id="6c7f3-149">**Programvara som en tjänst (flera innehavare)**: I det här scenariot en oberoende programvaruleverantör (ISV) utveckla värdbaserade flera innehavare webbprogram som ger användare hanteringsfunktioner för andra organisationer som använder Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-149">**Software as a Service Application (Multi-Tenant)**: In this scenario, an independent software vendor (ISV) is developing hosted multi-tenant web application that provides user management features for other organizations that use Azure AD.</span></span> <span data-ttu-id="6c7f3-150">Dessa funktioner kräver åtkomst till katalogobjekt och så programmet behöver anropa Graph API.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-150">These features require access to directory objects, and so the application needs to call the Graph API.</span></span> <span data-ttu-id="6c7f3-151">Utvecklaren registrerar programmet i Azure AD, konfigureras för kräver Läs- och skrivbehörighet för Graph API och sedan aktiverar extern åtkomst så att andra organisationer kan samtycker till att använda programmet i sina kataloger.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-151">The developer registers the application in Azure AD, configures it to require read and write permissions for the Graph API, and then enables external access so that other organizations can consent to use the application in their directory.</span></span> <span data-ttu-id="6c7f3-152">När en användare i en annan organisation autentiseras till programmet för första gången, visas en medgivande dialogruta med de behörigheter som programmet begär.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-152">When a user in another organization authenticates to the application for the first time, they are shown a consent dialog with the permissions the application is requesting.</span></span>  <span data-ttu-id="6c7f3-153">Ge ditt medgivande sedan ger programmet begärda de behörigheter för Graph API i katalogen för den användaren.</span><span class="sxs-lookup"><span data-stu-id="6c7f3-153">Granting consent will then give the application those requested permissions to the Graph API in the user’s directory.</span></span> <span data-ttu-id="6c7f3-154">Läs mer på medgivande framework [översikt av Framework medgivande](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="6c7f3-154">For more information on the consent framework, see [Overview of the Consent Framework](active-directory-integrating-applications.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="6c7f3-155">Se även</span><span class="sxs-lookup"><span data-stu-id="6c7f3-155">See Also</span></span>
[<span data-ttu-id="6c7f3-156">Snabbstartsguide för Azure AD Graph API</span><span class="sxs-lookup"><span data-stu-id="6c7f3-156">Azure AD Graph API Quickstart Guide</span></span>](active-directory-graph-api-quickstart.md)

[<span data-ttu-id="6c7f3-157">AD Graph REST-dokumentation</span><span class="sxs-lookup"><span data-stu-id="6c7f3-157">AD Graph REST documentation</span></span>](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/api-catalog)

[<span data-ttu-id="6c7f3-158">Utvecklarhandbok för Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="6c7f3-158">Azure Active Directory developer's guide</span></span>](active-directory-developers-guide.md)

