---
title: "aaaWhat skiljer sig åt i hello Azure AD v2.0-slutpunkten? | Microsoft Docs"
description: "En jämförelse mellan hello ursprungliga Azure AD och hello v2.0 slutpunkter."
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 5060da46-b091-4e25-9fa8-af4ae4359b6c
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/01/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: e7ed196f9053fc21db799cd6bc513ba5c2b92885
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="whats-different-about-hello-v20-endpoint"></a><span data-ttu-id="d55b7-104">Vad är skillnaden mellan hello v2.0-slutpunkten?</span><span class="sxs-lookup"><span data-stu-id="d55b7-104">What's different about hello v2.0 endpoint?</span></span>
<span data-ttu-id="d55b7-105">Om du är bekant med Azure Active Directory eller ha integrerade appar med Azure AD i hello tidigare, kan det finnas vissa skillnader i hello v2.0-slutpunkten som du inte förväntar dig.</span><span class="sxs-lookup"><span data-stu-id="d55b7-105">If you're familiar with Azure Active Directory or have integrated apps with Azure AD in hello past, there may be some differences in hello v2.0 endpoint that you would not expect.</span></span>  <span data-ttu-id="d55b7-106">Det här dokumentet visar dessa skillnader för din förståelse.</span><span class="sxs-lookup"><span data-stu-id="d55b7-106">This document calls out those differences for your understanding.</span></span>

> [!NOTE]
> <span data-ttu-id="d55b7-107">Inte alla Azure Active Directory-scenarier och funktioner som stöds av hello v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="d55b7-107">Not all Azure Active Directory scenarios & features are supported by hello v2.0 endpoint.</span></span>  <span data-ttu-id="d55b7-108">toodetermine om du ska använda hello v2.0-slutpunkten Läs om [v2.0 begränsningar](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="d55b7-108">toodetermine if you should use hello v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>

## <a name="microsoft-accounts-and-azure-ad-accounts"></a><span data-ttu-id="d55b7-109">Microsoft-konton och Azure AD-konton</span><span class="sxs-lookup"><span data-stu-id="d55b7-109">Microsoft accounts and Azure AD accounts</span></span>
<span data-ttu-id="d55b7-110">hello v2.0-slutpunkten kan utvecklare toowrite appar som accepterar logga in från både Microsoft Accounts och Azure AD-konton med hjälp av en enda auth-slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="d55b7-110">hello v2.0 endpoint allow developers toowrite apps that accept sign-in from both Microsoft Accounts and Azure AD accounts, using a single auth endpoint.</span></span>  <span data-ttu-id="d55b7-111">Det här ger du hello möjlighet toowrite appen helt konto-oberoende; Det kan vara ignorant av hello typ av konto som hello användaren loggar in med.</span><span class="sxs-lookup"><span data-stu-id="d55b7-111">This gives you hello ability toowrite your app completely account-agnostic; it can be ignorant of hello type of account that hello user signs in with.</span></span>  <span data-ttu-id="d55b7-112">Naturligtvis kan du *kan* göra din app medveten om hello typ av konto som används i en viss session, men du behöver.</span><span class="sxs-lookup"><span data-stu-id="d55b7-112">Of course, you *can* make your app aware of hello type of account being used in a particular session, but you don't have to.</span></span>

<span data-ttu-id="d55b7-113">Till exempel om din app anropar hello [Microsoft Graph](https://graph.microsoft.io), vissa ytterligare funktioner och data blir tillgängliga tooenterprise användare, till exempel sina SharePoint-webbplatser eller katalogdata.</span><span class="sxs-lookup"><span data-stu-id="d55b7-113">For instance, if your app calls hello [Microsoft Graph](https://graph.microsoft.io), some additional functionality and data will be available tooenterprise users, such as their SharePoint sites or Directory data.</span></span>  <span data-ttu-id="d55b7-114">Men för många åtgärder, t.ex [läsa en användares e-post](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), hello kod kan skrivas exakt hello samma för både Microsoft Accounts och Azure AD-konton.</span><span class="sxs-lookup"><span data-stu-id="d55b7-114">But for many actions, such as [Reading a user's mail](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), hello code can be written exactly hello same for both Microsoft Accounts and Azure AD accounts.</span></span>  

<span data-ttu-id="d55b7-115">Integrera din app med Azure AD och Microsoft Accounts är nu en enkel process.</span><span class="sxs-lookup"><span data-stu-id="d55b7-115">Integrating your app with Microsoft Accounts and Azure AD accounts is now one simple process.</span></span>  <span data-ttu-id="d55b7-116">Du kan använda en enda uppsättning slutpunkter, ett enda bibliotek och en enda app registrering toogain åtkomst tooboth hello konsumenten och enterprise världar.</span><span class="sxs-lookup"><span data-stu-id="d55b7-116">You can use a single set of endpoints, a single library, and a single app registration toogain access tooboth hello consumer and enterprise worlds.</span></span>  <span data-ttu-id="d55b7-117">toolearn mer om Hej v2.0-slutpunkten, kolla [hello översikt](active-directory-appmodel-v2-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d55b7-117">toolearn more about hello v2.0 endpoint, check out [hello overview](active-directory-appmodel-v2-overview.md).</span></span>

## <a name="new-app-registration-portal"></a><span data-ttu-id="d55b7-118">Portalen för registrering av nya app</span><span class="sxs-lookup"><span data-stu-id="d55b7-118">New app registration portal</span></span>
<span data-ttu-id="d55b7-119">tooregister en app som fungerar med hello v2.0-slutpunkten måste du använda en ny app-portalen för registrering: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).  Detta är hello portal där du kan hämta ett program-ID, anpassa hello utseendet på inloggningssidan för din app och mycket mer.</span><span class="sxs-lookup"><span data-stu-id="d55b7-119">tooregister an app that works with hello v2.0 endpoint, you must use a new app registration portal: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).  This is hello portal where you can obtain an application ID, customize hello appearance of your app's sign-in page, and more.</span></span>  <span data-ttu-id="d55b7-120">Allt du behöver tooaccess hello portal är en påslagen microsoftkonto - personlig eller arbete/Skol-konto.</span><span class="sxs-lookup"><span data-stu-id="d55b7-120">All you need tooaccess hello portal is a Microsoft powered account - either personal or work/school account.</span></span>

## <a name="one-app-id-for-all-platforms"></a><span data-ttu-id="d55b7-121">En app-ID för alla plattformar</span><span class="sxs-lookup"><span data-stu-id="d55b7-121">One app ID for all platforms</span></span>
<span data-ttu-id="d55b7-122">Om du har använt Azure Active Directory, har du förmodligen registrerad flera olika program för ett projekt.</span><span class="sxs-lookup"><span data-stu-id="d55b7-122">If you've used Azure Active Directory, you've probably registered several different apps for a single project.</span></span>  <span data-ttu-id="d55b7-123">Till exempel om du har skapat både en webbplats och en iOS-app hade tooregister dem separat, med två olika program-ID: N.</span><span class="sxs-lookup"><span data-stu-id="d55b7-123">For example, if you built both a website and an iOS app, you had tooregister them separately, using two different Application Ids.</span></span> <span data-ttu-id="d55b7-124">hello Azure AD-portalen för registrering av app måste du toomake denna skillnad under registreringen:</span><span class="sxs-lookup"><span data-stu-id="d55b7-124">hello Azure AD app registration portal forced you toomake this distinction during registration:</span></span>

![Gamla programregistrering UI](../../media/active-directory-v2-flows/old_app_registration.PNG)

<span data-ttu-id="d55b7-126">På samma sätt om du har en webbplats och en serverdel webb-api, kanske du har registrerat varje som en separat app i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d55b7-126">Similarly, if you had a website and a backend web api, you might have registered each as a separate app in Azure AD.</span></span>  <span data-ttu-id="d55b7-127">Eller om du en iOS-app och en Android-app måste du även kan har registrerat två olika appar.</span><span class="sxs-lookup"><span data-stu-id="d55b7-127">Or if you had an iOS app and an Android app, you also might have registered two different apps.</span></span>  <span data-ttu-id="d55b7-128">Registrering av varje komponent i ett program ledde toosome oväntat beteende för utvecklare och sina kunder:</span><span class="sxs-lookup"><span data-stu-id="d55b7-128">Registering each component of an application led toosome unexpected behaviors for developers and their customers:</span></span>

* <span data-ttu-id="d55b7-129">Varje komponent visades som en separat app i hello Azure Active Directory-klient för varje kund.</span><span class="sxs-lookup"><span data-stu-id="d55b7-129">Each component appeared as a separate app in hello Azure Active Directory tenant of each customer.</span></span>
* <span data-ttu-id="d55b7-130">När en Innehavaradministratör tooapply princip för att hantera åtkomst till eller ta bort en app, de skulle ha toodo så för varje komponent i hello app.</span><span class="sxs-lookup"><span data-stu-id="d55b7-130">When a tenant administrator attempted tooapply policy to, manage access to, or delete an app, they would have toodo so for each component of hello app.</span></span>
* <span data-ttu-id="d55b7-131">När kunder godkänt tooan program, visas varje komponent i hello medgivande skärmen som olika program.</span><span class="sxs-lookup"><span data-stu-id="d55b7-131">When customers consented tooan application, each component would appear in hello consent screen as a distinct application.</span></span>

<span data-ttu-id="d55b7-132">Med hello v2.0-slutpunkten kan du nu registrera alla komponenter i ditt projekt som en enda app-registrering och använder ett enda program-Id för hela projektet.</span><span class="sxs-lookup"><span data-stu-id="d55b7-132">With hello v2.0 endpoint, you can now register all components of your project as a single app registration, and use a single Application Id for your entire project.</span></span>  <span data-ttu-id="d55b7-133">Du kan lägga till flera ”plattformar” tooa varje projekt och lämna hello lämpliga uppgifter för varje plattform som du lägger till.</span><span class="sxs-lookup"><span data-stu-id="d55b7-133">You can add several "platforms" tooa each project, and provide hello appropriate data for each platform you add.</span></span>  <span data-ttu-id="d55b7-134">Naturligtvis kan du skapa så många appar som du vill beroende på dina krav, men bara en program-Id för hello flertalet fall bör vara nödvändigt.</span><span class="sxs-lookup"><span data-stu-id="d55b7-134">Of course, you can create as many apps as you like depending on your requirements, but for hello majority of cases only one Application Id should be necessary.</span></span>

<span data-ttu-id="d55b7-135">Vårt mål är att det kommer leda tooa mer förenklad hantering och utvecklingsarbetet och skapa en mer samlad vy över ett projekt som du kanske arbetar på.</span><span class="sxs-lookup"><span data-stu-id="d55b7-135">Our aim is that this will lead tooa more simplified app management and development experience, and create a more consolidated view of a single project that you might be working on.</span></span>

## <a name="scopes-not-resources"></a><span data-ttu-id="d55b7-136">Scope, inte resurser</span><span class="sxs-lookup"><span data-stu-id="d55b7-136">Scopes, not resources</span></span>
<span data-ttu-id="d55b7-137">I Azure Active Directory, en app kan fungera som en **resurs**, eller en mottagare av token.</span><span class="sxs-lookup"><span data-stu-id="d55b7-137">In Azure Active Directory, an app can behave as a **resource**, or a recipient of tokens.</span></span>  <span data-ttu-id="d55b7-138">En resurs kan definiera ett antal **scope** eller **oAuth2Permissions** som den förstår så att klientprogram toorequest token toothat resurs för en viss uppsättning scope.</span><span class="sxs-lookup"><span data-stu-id="d55b7-138">A resource can define a number of **scopes** or **oAuth2Permissions** that it understands, allowing client apps toorequest tokens toothat resource for a certain set of scopes.</span></span>  <span data-ttu-id="d55b7-139">Tänk hello Azure AD Graph API är ett exempel på en resurs:</span><span class="sxs-lookup"><span data-stu-id="d55b7-139">Consider hello Azure AD Graph API as an example of a resource:</span></span>

* <span data-ttu-id="d55b7-140">Resurs-ID eller `AppID URI`:`https://graph.windows.net/`</span><span class="sxs-lookup"><span data-stu-id="d55b7-140">Resource Identifier, or `AppID URI`: `https://graph.windows.net/`</span></span>
* <span data-ttu-id="d55b7-141">Scope, eller `OAuth2Permissions`: `Directory.Read`, `Directory.Write`osv.</span><span class="sxs-lookup"><span data-stu-id="d55b7-141">Scopes, or `OAuth2Permissions`: `Directory.Read`, `Directory.Write`, etc.</span></span>  

<span data-ttu-id="d55b7-142">Allt detta gäller för hello hello v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="d55b7-142">All of this holds true for hello hello v2.0 endpoint.</span></span>  <span data-ttu-id="d55b7-143">En app kan fortfarande fungera som resurs, definiera omfång och identifieras av en URI.</span><span class="sxs-lookup"><span data-stu-id="d55b7-143">An app can still behave as resource, define scopes, and be identified by a URI.</span></span>  <span data-ttu-id="d55b7-144">Klientprogram kan fortfarande begära toothose scope.</span><span class="sxs-lookup"><span data-stu-id="d55b7-144">Client apps can still request access toothose scopes.</span></span>  <span data-ttu-id="d55b7-145">Dock har hello sätt som en klient begär de behörigheterna som ändrats.</span><span class="sxs-lookup"><span data-stu-id="d55b7-145">However, hello way in which a client requests those permissions has changed.</span></span>  <span data-ttu-id="d55b7-146">Godkänn begäran tooAzure AD kanske har tittat som i hello förbi en OAuth 2.0:</span><span class="sxs-lookup"><span data-stu-id="d55b7-146">In hello past, an OAuth 2.0 authorize request tooAzure AD might have looked like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&resource=https%3A%2F%2Fgraph.windows.net%2F
...
```

<span data-ttu-id="d55b7-147">Hej där **resurs** parameter anges vilken resurs hello-klientappen begär tillstånd för.</span><span class="sxs-lookup"><span data-stu-id="d55b7-147">where hello **resource** parameter indicated which resource hello client app is requesting authorization for.</span></span>  <span data-ttu-id="d55b7-148">Azure AD beräknas hello behörigheter som krävs av hello appen baserat på statisk konfiguration i hello Azure-portalen och därefter utfärdade token.</span><span class="sxs-lookup"><span data-stu-id="d55b7-148">Azure AD computed hello permissions required by hello app based on static configuration in hello Azure Portal, and issued tokens accordingly.</span></span>  <span data-ttu-id="d55b7-149">Nu godkänna hello samma OAuth 2.0 begäran ser ut som:</span><span class="sxs-lookup"><span data-stu-id="d55b7-149">Now, hello same OAuth 2.0 authorize request looks like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="d55b7-150">Hej där **omfång** parametern anger vilken resurs och behörigheter hello app begär tillstånd för.</span><span class="sxs-lookup"><span data-stu-id="d55b7-150">where hello **scope** parameter indicates which resource and permissions hello app is requesting authorization for.</span></span> <span data-ttu-id="d55b7-151">hello önskade resursen finns fortfarande mycket i hello begäran - finns bara i hello värden för hello scope-parametern.</span><span class="sxs-lookup"><span data-stu-id="d55b7-151">hello desired resource is still very present in hello request - it is simply encompassed in each of hello values of hello scope parameter.</span></span>  <span data-ttu-id="d55b7-152">Parametern på hello-scope på detta sätt kan hello v2.0-slutpunkten toobe mer kompatibel med hello OAuth 2.0-specifikationen och justerar närmare med vanliga branschens praxis.</span><span class="sxs-lookup"><span data-stu-id="d55b7-152">Using hello scope parameter in this manner allows hello v2.0 endpoint toobe more compliant with hello OAuth 2.0 specification, and aligns more closely with common industry practices.</span></span>  <span data-ttu-id="d55b7-153">Det gör också att appar tooperform [inkrementell medgivande](#incremental-and-dynamic-consent), som beskrivs i nästa avsnitt om hello.</span><span class="sxs-lookup"><span data-stu-id="d55b7-153">It also enables apps tooperform [incremental consent](#incremental-and-dynamic-consent), which is described in hello next section.</span></span>

## <a name="incremental-and-dynamic-consent"></a><span data-ttu-id="d55b7-154">Inkrementell och dynamiska medgivande</span><span class="sxs-lookup"><span data-stu-id="d55b7-154">Incremental and dynamic consent</span></span>
<span data-ttu-id="d55b7-155">Appar som registrerats i Azure AD som tidigare behövs toospecify sina OAuth 2.0-behörigheter som krävs i hello Azure-portalen vid tidpunkten för skapandet av app:</span><span class="sxs-lookup"><span data-stu-id="d55b7-155">Apps registered in Azure AD previously needed toospecify their required OAuth 2.0 permissions in hello Azure Portal, at app creation time:</span></span>

![Behörigheter för registrering av Användargränssnittet](../../media/active-directory-v2-flows/app_reg_permissions.PNG)

<span data-ttu-id="d55b7-157">hello behörigheter för en app krävs konfigurerades **statiskt**.</span><span class="sxs-lookup"><span data-stu-id="d55b7-157">hello permissions an app required were configured **statically**.</span></span>  <span data-ttu-id="d55b7-158">När detta tillåts konfigurationen av hello app tooexist i hello Azure-portalen och hålls hello kod nice och enkel uppstår några problem för utvecklare:</span><span class="sxs-lookup"><span data-stu-id="d55b7-158">While this allowed configuration of hello app tooexist in hello Azure Portal and kept hello code nice and simple, it presents a few issues for developers:</span></span>

* <span data-ttu-id="d55b7-159">En app hade tooknow alla hello behörigheter behöver någonsin vid tidpunkten för skapandet av appen.</span><span class="sxs-lookup"><span data-stu-id="d55b7-159">An app had tooknow all of hello permissions it would ever need at app creation time.</span></span>  <span data-ttu-id="d55b7-160">Lägga till behörigheter över tid var svåra.</span><span class="sxs-lookup"><span data-stu-id="d55b7-160">Adding permissions over time was a difficult process.</span></span>
* <span data-ttu-id="d55b7-161">En app hade tooknow alla hello resurser som den skulle någonsin komma i förväg.</span><span class="sxs-lookup"><span data-stu-id="d55b7-161">An app had tooknow all of hello resources it would ever access ahead of time.</span></span>  <span data-ttu-id="d55b7-162">Det var svårt toocreate appar som kan komma åt ett godtyckligt antal resurser.</span><span class="sxs-lookup"><span data-stu-id="d55b7-162">It was difficult toocreate apps that could access an arbitrary number of resources.</span></span>
* <span data-ttu-id="d55b7-163">En app hade toorequest alla hello behörigheter behöver någonsin vid hello användarens första inloggning.</span><span class="sxs-lookup"><span data-stu-id="d55b7-163">An app had toorequest all hello permissions it would ever need upon hello user's first sign-in.</span></span>  <span data-ttu-id="d55b7-164">I vissa fall kan detta ledde tooa mycket lång lista med behörigheter som rekommenderas inte slutanvändare från godkänner hello app-åtkomst på första inloggning.</span><span class="sxs-lookup"><span data-stu-id="d55b7-164">In some cases this led tooa very long list of permissions, which discouraged end-users from approving hello app's access on initial sign-in.</span></span>

<span data-ttu-id="d55b7-165">Med hello v2.0-slutpunkten kan du ange behörigheter för hello din app måste **dynamiskt**, vid körning under vanlig användning av din app.</span><span class="sxs-lookup"><span data-stu-id="d55b7-165">With hello v2.0 endpoint, you can specify hello permissions your app needs **dynamically**, at runtime, during regular usage of your app.</span></span>  <span data-ttu-id="d55b7-166">toodo så kan du ange hello scope app behov vid en viss tidpunkt genom att inkludera dem i hello `scope` parametern för en begäran om godkännande:</span><span class="sxs-lookup"><span data-stu-id="d55b7-166">toodo so, you can specify hello scopes your app needs at any given point in time by including them in hello `scope` parameter of an authorization request:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="d55b7-167">hello ovan begär behörighet för hello app tooread en Azure AD-användare katalogdata, samt Skriv tootheir datakatalog.</span><span class="sxs-lookup"><span data-stu-id="d55b7-167">hello above requests permission for hello app tooread an Azure AD user's directory data, as well as write data tootheir directory.</span></span>  <span data-ttu-id="d55b7-168">Om hello användaren har godkänt toothose behörigheter i hello tidigare för den här specifika appen de kommer bara att ange sina autentiseringsuppgifter och loggas in hello app.</span><span class="sxs-lookup"><span data-stu-id="d55b7-168">If hello user has consented toothose permissions in hello past for this particular app, they will simply enter their credentials and be signed into hello app.</span></span>  <span data-ttu-id="d55b7-169">Om hello användaren inte har godkänt tooany dessa behörigheter, begär hello v2.0-slutpunkten hello användaren medgivande toothose behörigheter.</span><span class="sxs-lookup"><span data-stu-id="d55b7-169">If hello user has not consented tooany of these permissions, hello v2.0 endpoint will ask hello user for consent toothose permissions.</span></span>  <span data-ttu-id="d55b7-170">toolearn mer, du kan läsa mer om [behörigheter, medgivande och scope](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="d55b7-170">toolearn more, you can read up on [permissions, consent, and scopes](active-directory-v2-scopes.md).</span></span>

<span data-ttu-id="d55b7-171">Att tillåta att en app toorequest behörigheter dynamiskt via hello `scope` parametern ger dig fullständig kontroll över din användarupplevelse.</span><span class="sxs-lookup"><span data-stu-id="d55b7-171">Allowing an app toorequest permissions dynamically via hello `scope` parameter gives you full control over your user's experience.</span></span>  <span data-ttu-id="d55b7-172">Om du vill kan välja du toofrontload ditt medgivande får och fråga efter alla behörigheter i en begäran för ursprungliga tillståndet.</span><span class="sxs-lookup"><span data-stu-id="d55b7-172">If you wish, you can choose toofrontload your consent experience and ask for all permissions in one initial authorization request.</span></span>  <span data-ttu-id="d55b7-173">Eller om appen kräver ett stort antal behörigheter, kan du välja toogather dessa behörigheter från hello användaren inkrementellt, som försök toouse vissa funktioner i din app med tiden.</span><span class="sxs-lookup"><span data-stu-id="d55b7-173">Or if your app requires a large number of permissions, you can choose toogather those permissions from hello user incrementally, as they attempt toouse certain features of your app over time.</span></span>

## <a name="well-known-scopes"></a><span data-ttu-id="d55b7-174">Välkända scope</span><span class="sxs-lookup"><span data-stu-id="d55b7-174">Well-known scopes</span></span>
#### <a name="offline-access"></a><span data-ttu-id="d55b7-175">Offline-åtkomst</span><span class="sxs-lookup"><span data-stu-id="d55b7-175">Offline access</span></span>
<span data-ttu-id="d55b7-176">Appar som använder hello v2.0-slutpunkten kan kräva hello användning av en ny välkända behörighet för appar – hello `offline_access` omfång.</span><span class="sxs-lookup"><span data-stu-id="d55b7-176">Apps using hello v2.0 endpoint may require hello use of a new well-known permission for apps - hello `offline_access` scope.</span></span>  <span data-ttu-id="d55b7-177">Alla appar måste toorequest behörigheten om de behöver tooaccess resurser på en användares vägnar hello under en längre tidsperiod, även när hello användaren inte aktivt använder hello app.</span><span class="sxs-lookup"><span data-stu-id="d55b7-177">All apps will need toorequest this permission if they need tooaccess resources on hello behalf of a user for a prolonged period of time, even when hello user may not be actively using hello app.</span></span>  <span data-ttu-id="d55b7-178">Hej `offline_access` omfattningen visas toohello användare i ditt medgivande dialogrutor som ”åtkomst till data offline” som hello-användare måste acceptera att.</span><span class="sxs-lookup"><span data-stu-id="d55b7-178">hello `offline_access` scope will appear toohello user in consent dialogs as "Access your data offline", which hello user must agree to.</span></span>  <span data-ttu-id="d55b7-179">Begär hello `offline_access` behörighet kommer att aktivera din web app tooreceive OAuth 2.0 refresh_tokens från hello v2.0-slutpunkten.</span><span class="sxs-lookup"><span data-stu-id="d55b7-179">Requesting hello `offline_access` permission will enable your web app tooreceive OAuth 2.0 refresh_tokens from hello v2.0 endpoint.</span></span>  <span data-ttu-id="d55b7-180">Refresh_tokens är långlivade och kan utbyta för nya OAuth 2.0-access_tokens under långa perioder åtkomst.</span><span class="sxs-lookup"><span data-stu-id="d55b7-180">Refresh_tokens are long-lived, and can be exchanged for new OAuth 2.0 access_tokens for extended periods of access.</span></span>  

<span data-ttu-id="d55b7-181">Om din app inte begär hello `offline_access` omfång, får den inte refresh_tokens.</span><span class="sxs-lookup"><span data-stu-id="d55b7-181">If your app does not request hello `offline_access` scope, it will not receive refresh_tokens.</span></span>  <span data-ttu-id="d55b7-182">Det innebär att när du lösa in en authorization_code i hello OAuth 2.0-auktoriseringskodflödet endast får du tillbaka en access_token från hello `/token` slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="d55b7-182">This means that when you redeem an authorization_code in hello OAuth 2.0 authorization code flow, you will only receive back an access_token from hello `/token` endpoint.</span></span>  <span data-ttu-id="d55b7-183">Den access_token förblir giltig för en kort tidsperiod (vanligtvis en timme), men till slut upphör att gälla.</span><span class="sxs-lookup"><span data-stu-id="d55b7-183">That access_token will remain valid for a short period of time (typically one hour), but will eventually expire.</span></span>  <span data-ttu-id="d55b7-184">Då i tid, din app behöver tooredirect hello användaren tillbaka toohello `/authorize` endpoint tooretrieve nya authorization_code.</span><span class="sxs-lookup"><span data-stu-id="d55b7-184">At that point in time, your app will need tooredirect hello user back toohello `/authorize` endpoint tooretrieve a new authorization_code.</span></span>  <span data-ttu-id="d55b7-185">Under den här omdirigering hello användare kan kan eller inte behöver tooenter sina autentiseringsuppgifter igen eller nytt medgivande toopermissions, beroende på hello hello typen av app.</span><span class="sxs-lookup"><span data-stu-id="d55b7-185">During this redirect, hello user may or may not need tooenter their credentials again or re-consent toopermissions, depending on hello hello type of app.</span></span>

<span data-ttu-id="d55b7-186">Mer om OAuth 2.0 och refresh_tokens access_tokens, checka ut hello toolearn [protokollreferens för v2.0](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="d55b7-186">toolearn more about OAuth 2.0, refresh_tokens, and access_tokens, check out hello [v2.0 protocol reference](active-directory-v2-protocols.md).</span></span>

#### <a name="openid-profile-and-email"></a><span data-ttu-id="d55b7-187">OpenID profil och e-post</span><span class="sxs-lookup"><span data-stu-id="d55b7-187">OpenID, profile and email</span></span>
<span data-ttu-id="d55b7-188">Tidigare skulle hello mest grundläggande OpenID Connect inloggning-flöde med Azure Active Directory innehåller en mängd information om hello användare i hello resulterande id_token.</span><span class="sxs-lookup"><span data-stu-id="d55b7-188">Historically, hello most basic OpenID Connect sign-in flow with Azure Active Directory would provide a wealth of information about hello user in hello resulting id_token.</span></span>  <span data-ttu-id="d55b7-189">hello anspråk i en id_token kan innehålla hello användarens namn, prioriterade användarnamn, e-postadress, objekt-ID och mer.</span><span class="sxs-lookup"><span data-stu-id="d55b7-189">hello claims in an id_token can include hello user's name, preferred username, email address, object ID, and more.</span></span>

<span data-ttu-id="d55b7-190">Vi kan nu begränsa hello information som hello `openid` omfång ger din appåtkomst till.</span><span class="sxs-lookup"><span data-stu-id="d55b7-190">We are now restricting hello information that hello `openid` scope affords your app access to.</span></span>  <span data-ttu-id="d55b7-191">hello 'openid' omfång kommer endast att appen toosign hello användare i och ta emot en appspecifika identifierare för hello användare.</span><span class="sxs-lookup"><span data-stu-id="d55b7-191">hello ‘openid’ scope will only allow your app toosign hello user in, and receive an app-specific identifier for hello user.</span></span>  <span data-ttu-id="d55b7-192">Om du vill tooobtain personligt identifierbar information (PII) om hello användare i din app behöver din app toorequest ytterligare behörigheter från hello användare.</span><span class="sxs-lookup"><span data-stu-id="d55b7-192">If you want tooobtain personally identifiable information (PII) about hello user in your app, your app will need toorequest additional permissions from hello user.</span></span>  <span data-ttu-id="d55b7-193">Vi introducerar två nya scope – hello `email` och `profile` scope – som gör att du toodo så.</span><span class="sxs-lookup"><span data-stu-id="d55b7-193">We are introducing two new scopes – hello `email` and `profile` scopes – which allow you toodo so.</span></span>

<span data-ttu-id="d55b7-194">Hej `email` scope är mycket enkelt – det gör att din app åtkomst toohello användarens primära e-postadress via hello `email` anspråk i hello id_token.</span><span class="sxs-lookup"><span data-stu-id="d55b7-194">hello `email` scope is very straightforward – it allows your app access toohello user’s primary email address via hello `email` claim in hello id_token.</span></span>  <span data-ttu-id="d55b7-195">Hej `profile` omfång ger din app åtkomst tooall andra grundläggande information om hello användare – deras namn, prioriterade username, objekt-ID och så vidare.</span><span class="sxs-lookup"><span data-stu-id="d55b7-195">hello `profile` scope affords your app access tooall other basic information about hello user – their name, preferred username, object ID, and so on.</span></span>

<span data-ttu-id="d55b7-196">Detta gör att du toocode din app på en minimal avslöjande sätt – du kan endast be hello användaren för hello uppsättning information att appen kräver toodo fjäderlayoutjobbet.</span><span class="sxs-lookup"><span data-stu-id="d55b7-196">This allows you toocode your app in a minimal-disclosure fashion – you can only ask hello user for hello set of information that your app requires toodo its job.</span></span>  <span data-ttu-id="d55b7-197">Mer information om dessa scope finns för[hello v2.0 omfattningsreferens](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="d55b7-197">For more information on these scopes, refer too[hello v2.0 scope reference](active-directory-v2-scopes.md).</span></span>

## <a name="token-claims"></a><span data-ttu-id="d55b7-198">Token anspråk</span><span class="sxs-lookup"><span data-stu-id="d55b7-198">Token Claims</span></span>
<span data-ttu-id="d55b7-199">hello anspråk i token som utfärdats av hello v2.0-slutpunkten är inte identiska tootokens som utfärdats av slutpunkter hello allmänt tillgängliga Azure AD - appar som migrerar toohello ny tjänst anta inte att ett visst anspråk kommer att finnas i id_tokens eller access_tokens.</span><span class="sxs-lookup"><span data-stu-id="d55b7-199">hello claims in tokens issued by hello v2.0 endpoint will not be identical tootokens issued by hello generally available Azure AD endpoints - apps migrating toohello new service should not assume a particular claim will exist in id_tokens or access_tokens.</span></span> <span data-ttu-id="d55b7-200">toolearn om hello specifika anspråk som hänvisas till i v2.0 token finns hello [v2.0 tokenreferens](active-directory-v2-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="d55b7-200">toolearn about hello specific claims emitted in v2.0 tokens, see hello [v2.0 token reference](active-directory-v2-tokens.md).</span></span>

## <a name="limitations"></a><span data-ttu-id="d55b7-201">Begränsningar</span><span class="sxs-lookup"><span data-stu-id="d55b7-201">Limitations</span></span>
<span data-ttu-id="d55b7-202">Det finns några begränsningar toobe medveten om när du använder hello v2.0 punkt.</span><span class="sxs-lookup"><span data-stu-id="d55b7-202">There are a few restrictions toobe aware of when using hello v2.0 point.</span></span>  <span data-ttu-id="d55b7-203">Se toohello [v2.0 begränsningar doc](active-directory-v2-limitations.md) toosee om någon av dessa begränsningar gäller tooyour visst scenario.</span><span class="sxs-lookup"><span data-stu-id="d55b7-203">Please refer toohello [v2.0 limitations doc](active-directory-v2-limitations.md) toosee if any of these restrictions apply tooyour particular scenario.</span></span>
