---
title: "aaaAzure Active Directory-program och tjänstens huvudnamn objekt | Microsoft Docs"
description: "En beskrivning av hello förhållandet mellan program och tjänstens huvudnamn objekt i Azure Active Directory"
documentationcenter: dev-center-name
author: dstrockis
manager: mbaldwin
services: active-directory
editor: 
ms.assetid: adfc0569-dc91-48fe-92c3-b5b4833703de
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 04/28/2016
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: ff7e308c0b326c3a32b101b7b323f2c0362763e4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="application-and-service-principal-objects-in-azure-active-directory-azure-ad"></a><span data-ttu-id="f3ff6-103">Programmet och service principal objekt i Azure Active Directory (AD Azure)</span><span class="sxs-lookup"><span data-stu-id="f3ff6-103">Application and service principal objects in Azure Active Directory (Azure AD)</span></span>
<span data-ttu-id="f3ff6-104">Ibland hello betydelse hello termen ”program” kan tror många när du använder hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-104">Sometimes hello meaning of hello term "application" can be misunderstood when used in hello context of Azure AD.</span></span> <span data-ttu-id="f3ff6-105">hello syftet med den här artikeln är toomake den tydligare genom att förklara konceptuell och konkreta aspekter av Azure AD-integrering för programmet, med en illustration av registrering och ditt medgivande för en [flera innehavare programmet](active-directory-dev-glossary.md#multi-tenant-application).</span><span class="sxs-lookup"><span data-stu-id="f3ff6-105">hello goal of this article is toomake it clearer, by clarifying conceptual and concrete aspects of Azure AD application integration, with an illustration of registration and consent for a [multi-tenant application](active-directory-dev-glossary.md#multi-tenant-application).</span></span>

## <a name="overview"></a><span data-ttu-id="f3ff6-106">Översikt</span><span class="sxs-lookup"><span data-stu-id="f3ff6-106">Overview</span></span>
<span data-ttu-id="f3ff6-107">Ett program som har integrerats med Azure AD har effekter som sträcker sig utöver hello programvara aspekt.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-107">An application that has been integrated with Azure AD has implications that go beyond hello software aspect.</span></span> <span data-ttu-id="f3ff6-108">”Program” används ofta som en konceptuell term refererar toonot endast hello hello program, men dess Azure AD-registrering och roll i autentisering/auktorisering ”konversationer” vid körning.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-108">"Application" is frequently used as a conceptual term, referring toonot only hello hello application software, but also its Azure AD registration and role in authentication/authorization "conversations" at runtime.</span></span> <span data-ttu-id="f3ff6-109">Per definition erbjuder ett program kan fungera i en [klienten](active-directory-dev-glossary.md#client-application) roll (förbrukar en resurs), en [resursservern](active-directory-dev-glossary.md#resource-server) roll (medför API: er tooclients) eller till och med båda.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-109">By definition, an application can function in a [client](active-directory-dev-glossary.md#client-application) role (consuming a resource), a [resource server](active-directory-dev-glossary.md#resource-server) role (exposing APIs tooclients), or even both.</span></span> <span data-ttu-id="f3ff6-110">hello konversation protokollet definieras av ett [flödet för OAuth 2.0 Authorization Grant](active-directory-dev-glossary.md#authorization-grant), låta hello klient/resurs tooaccess/skydda en resurs data respektive.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-110">hello conversation protocol is defined by an [OAuth 2.0 Authorization Grant flow](active-directory-dev-glossary.md#authorization-grant), allowing hello client/resource tooaccess/protect a resource's data respectively.</span></span> <span data-ttu-id="f3ff6-111">Nu går vi en djupare nivå och se hur hello Azure AD-programmodell representerar ett program vid designtillfället och körning.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-111">Now let's go a level deeper, and see how hello Azure AD application model represents an application at design-time and run-time.</span></span> 

## <a name="application-registration"></a><span data-ttu-id="f3ff6-112">Registrera programmet</span><span class="sxs-lookup"><span data-stu-id="f3ff6-112">Application registration</span></span>
<span data-ttu-id="f3ff6-113">När du registrerar en Azure AD-program i hello [Azure-portalen][AZURE-Portal], skapas två objekt i Azure AD-klienten: programobjekt och ett service principal-objekt.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-113">When you register an Azure AD application in hello [Azure portal][AZURE-Portal], two objects are created in your Azure AD tenant: an application object, and a service principal object.</span></span>

#### <a name="application-object"></a><span data-ttu-id="f3ff6-114">Programobjektet</span><span class="sxs-lookup"><span data-stu-id="f3ff6-114">Application object</span></span>
<span data-ttu-id="f3ff6-115">Ett Azure AD-program definieras av det är ett och endast programobjektet, som finns i hello Azure AD-klient där programmet hello registrerades kallas ”hem” hello program-klient.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-115">An Azure AD application is defined by its one and only application object, which resides in hello Azure AD tenant where hello application was registered, known as hello application's "home" tenant.</span></span> <span data-ttu-id="f3ff6-116">hello Azure AD Graph [programmet entiteten] [ AAD-Graph-App-Entity] definierar hello schemat för ett program-objektets egenskaper.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-116">hello Azure AD Graph [Application entity][AAD-Graph-App-Entity] defines hello schema for an application object's properties.</span></span> 

#### <a name="service-principal-object"></a><span data-ttu-id="f3ff6-117">Tjänstens huvudnamn objekt</span><span class="sxs-lookup"><span data-stu-id="f3ff6-117">Service principal object</span></span>
<span data-ttu-id="f3ff6-118">hello tjänstens huvudnamn objekt definierar hello principer och behörigheter för ett program i en viss klient tillhandahåller hello grund för en UPN toorepresent hello säkerhetsprogram vid körning.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-118">hello service principal object defines hello policy and permissions for an application's use in a specific tenant, providing hello basis for a security principal toorepresent hello application at run-time.</span></span> <span data-ttu-id="f3ff6-119">hello Azure AD Graph [ServicePrincipal entiteten] [ AAD-Graph-Sp-Entity] definierar hello schemat för en service principal objektets egenskaper.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-119">hello Azure AD Graph [ServicePrincipal entity][AAD-Graph-Sp-Entity] defines hello schema for a service principal object's properties.</span></span> 

#### <a name="application-and-service-principal-relationship"></a><span data-ttu-id="f3ff6-120">Program och tjänstens huvudnamn relation</span><span class="sxs-lookup"><span data-stu-id="f3ff6-120">Application and service principal relationship</span></span>
<span data-ttu-id="f3ff6-121">Överväg att hello programobjektet som hello *globala* representation av ditt program för användning på alla klienter och hello tjänstens huvudnamn som hello *lokala* representation för användning i en specifik innehavaren.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-121">Consider hello application object as hello *global* representation of your application for use across all tenants, and hello service principal as hello *local* representation for use in a specific tenant.</span></span> <span data-ttu-id="f3ff6-122">hello programobjektet fungerar som hello mallen från vilka vanliga och standardegenskaperna är *härledda* som ska användas när motsvarande service principal objekt.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-122">hello application object serves as hello template from which common and default properties are *derived* for use in creating corresponding service principal objects.</span></span> <span data-ttu-id="f3ff6-123">Ett programobjekt måste därför en 1:1-relation med hello program och en 1:many relation med dess motsvarande service principal objekt.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-123">An application object therefore has a 1:1 relationship with hello software application, and a 1:many relationship with its corresponding service principal object(s).</span></span>

<span data-ttu-id="f3ff6-124">Ett huvudnamn för tjänsten måste skapas i varje klient där programmet hello ska användas för att aktivera den tooestablish en identitet för inloggning och/eller åtkomst tooresources som skyddas av hello-klient.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-124">A service principal must be created in each tenant where hello application will be used, enabling it tooestablish an identity for sign-in and/or access tooresources being secured by hello tenant.</span></span> <span data-ttu-id="f3ff6-125">En enskild klient-programmet har bara ett huvudnamn för tjänsten (i hemmet klient), vanligtvis skapas och godkänt för användning under registreringen av program.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-125">A single-tenant application will have only one service principal (in its home tenant), usually created and consented for use during application registration.</span></span> <span data-ttu-id="f3ff6-126">En flera innehavare Web application/API har också ett huvudnamn för tjänsten som skapats i varje klient där en användare från att klienten har godkänt tooits användning.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-126">A multi-tenant Web application/API will also have a service principal created in each tenant where a user from that tenant has consented tooits use.</span></span>  

> [!NOTE]
> <span data-ttu-id="f3ff6-127">Alla ändringar du gör tooyour programobjektet visas också i dess huvudsakliga serviceobjektet i hello program hemma klienten endast (hello klienter där den registrerades).</span><span class="sxs-lookup"><span data-stu-id="f3ff6-127">Any changes you make tooyour application object, are also reflected in its service principal object in hello application's home tenant only (hello tenant where it was registered).</span></span> <span data-ttu-id="f3ff6-128">För program med flera klienter, ändringar toohello programobjektet inte återspeglas i några konsumenten innehavare service principal objekt förrän hello-åtkomst tas bort via hello [programmet åtkomstpanelen](https://myapps.microsoft.com) och beviljas igen.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-128">For multi-tenant applications, changes toohello application object are not reflected in any consumer tenants' service principal objects, until hello access is removed via hello [Application Access Panel](https://myapps.microsoft.com) and granted again.</span></span>
><br>  
> <span data-ttu-id="f3ff6-129">Observera också att interna program registreras som flera innehavare som standard.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-129">Also note that native applications are registered as multi-tenant by default.</span></span>
> 
> 

## <a name="example"></a><span data-ttu-id="f3ff6-130">Exempel</span><span class="sxs-lookup"><span data-stu-id="f3ff6-130">Example</span></span>
<span data-ttu-id="f3ff6-131">hello följande diagram illustrerar hello förhållandet mellan ett program programobjektet och motsvarande tjänst huvudnamn objekt hello kontexten för ett exempelprogram för flera innehavare kallad **HR app**.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-131">hello following diagram illustrates hello relationship between an application's application object and corresponding service principal objects, in hello context of a sample multi-tenant application called **HR app**.</span></span> <span data-ttu-id="f3ff6-132">Det finns tre Azure AD-klienter i det här scenariot:</span><span class="sxs-lookup"><span data-stu-id="f3ff6-132">There are three Azure AD tenants in this scenario:</span></span> 

* <span data-ttu-id="f3ff6-133">**Adatum** - hello-klienten som används av hello företag som utvecklats hello **HR-app**</span><span class="sxs-lookup"><span data-stu-id="f3ff6-133">**Adatum** - hello tenant used by hello company that developed hello **HR app**</span></span>
* <span data-ttu-id="f3ff6-134">**Contoso** - hello klienten som används av hello Contoso-organisationen, vilket är konsumenter av hello **HR-app**</span><span class="sxs-lookup"><span data-stu-id="f3ff6-134">**Contoso** - hello tenant used by hello Contoso organization, which is a consumer of hello **HR app**</span></span>
* <span data-ttu-id="f3ff6-135">**Fabrikam** - hello klienten som används av hello Fabrikam organisation som använder också hello **HR-app**</span><span class="sxs-lookup"><span data-stu-id="f3ff6-135">**Fabrikam** - hello tenant used by hello Fabrikam organization, which also consumes hello **HR app**</span></span>

![Förhållandet mellan ett programobjekt och en tjänst för huvudobjekt](./media/active-directory-application-objects/application-objects-relationship.png)

<span data-ttu-id="f3ff6-137">I hello föregående diagram är steg 1 hello processen att skapa hello programmet och service principal objekt i hello program hemma klient.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-137">In hello previous diagram, Step 1 is hello process of creating hello application and service principal objects in hello application's home tenant.</span></span>

<span data-ttu-id="f3ff6-138">I steg 2 när Contoso och Fabrikam administratörer Slutför samtycke, skapas ett huvudnamn tjänstobjekt i företagets Azure AD-klient och tilldelade hello behörigheter att hello-administratör beviljas.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-138">In Step 2, when Contoso and Fabrikam administrators complete consent, a service principal object is created in their company's Azure AD tenant and assigned hello permissions that hello administrator granted.</span></span> <span data-ttu-id="f3ff6-139">Tänk också på hello HR appen kan vara konfigurerat/utformats tooallow godkännande av användare för personligt bruk.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-139">Also note that hello HR app could be configured/designed tooallow consent by users for individual use.</span></span>

<span data-ttu-id="f3ff6-140">I steg3 har hello konsumenten innehavare av hello HR-program (Contoso och Fabrikam) varje sina egna tjänstens huvudnamn objekt.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-140">In Step 3, hello consumer tenants of hello HR application (Contoso and Fabrikam) each have their own service principal object.</span></span> <span data-ttu-id="f3ff6-141">Representerar deras användning av en instans av programmet hello vid körning, regleras av hello behörigheter godkänt av respektive hello-administratör.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-141">Each represents their use of an instance of hello application at runtime, governed by hello permissions consented by hello respective administrator.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f3ff6-142">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="f3ff6-142">Next steps</span></span>
<span data-ttu-id="f3ff6-143">Programobjektet för ett program kan nås via hello Azure AD Graph API hello [Azure portal] [ AZURE-Portal] manifestet Redigeraren för programmet, eller [Azure AD PowerShell-cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), som representeras av dess OData [programmet entiteten][AAD-Graph-App-Entity].</span><span class="sxs-lookup"><span data-stu-id="f3ff6-143">An application's application object can be accessed via hello Azure AD Graph API, hello [Azure portal's][AZURE-Portal] application manifest editor, or [Azure AD PowerShell cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), as represented by its OData [Application entity][AAD-Graph-App-Entity].</span></span>

<span data-ttu-id="f3ff6-144">Programmets huvudsakliga webbtjänstobjektet kan nås via hello Azure AD Graph API eller [Azure AD PowerShell-cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), som representeras av dess OData [ServicePrincipal entiteten] [ AAD-Graph-Sp-Entity].</span><span class="sxs-lookup"><span data-stu-id="f3ff6-144">An application's service principal object can be accessed via hello Azure AD Graph API or [Azure AD PowerShell cmdlets](https://docs.microsoft.com/powershell/azure/overview?view=azureadps-2.0), as represented by its OData [ServicePrincipal entity][AAD-Graph-Sp-Entity].</span></span>

<span data-ttu-id="f3ff6-145">Hej [Azure AD Graph Explorer](https://graphexplorer.azurewebsites.net/) är användbart för att fråga efter både hello program och tjänstens huvudnamn objekt.</span><span class="sxs-lookup"><span data-stu-id="f3ff6-145">hello [Azure AD Graph Explorer](https://graphexplorer.azurewebsites.net/) is useful for querying both hello application and service principal objects.</span></span>

<!--Image references-->

<!--Reference style links -->
[AAD-Graph-App-Entity]: https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#application-entity
[AAD-Graph-Sp-Entity]: https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity
[AZURE-Portal]: https://portal.azure.com
