---
title: "aaaHow tooretain en konstant virtuella IP-adressen för en Azure-molntjänst | Microsoft Docs"
description: "Lär dig hur ändras inte tooensure som hello virtuella IP-adressen (VIP) för Azure-Molntjänsten."
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 4a58e2c6-7a79-4051-8a2c-99182ff8b881
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 03/21/2017
ms.author: kraigb
ms.openlocfilehash: 9e27121797ffb61517b8d2c2661ec44ff7298968
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 10/06/2017
---
# <a name="retain-a-constant-virtual-ip-address-for-an-azure-cloud-service"></a><span data-ttu-id="1ee69-103">Bevara ett konstant virtuella IP-adressen för en Azure-molntjänst</span><span class="sxs-lookup"><span data-stu-id="1ee69-103">Retain a constant virtual IP address for an Azure cloud service</span></span>
<span data-ttu-id="1ee69-104">Du kanske måste tooensure hello virtuell IP-adress (VIP) för hello-tjänsten inte ändras när du uppdaterar en molnbaserad tjänst som finns i Azure.</span><span class="sxs-lookup"><span data-stu-id="1ee69-104">When you update a cloud service that's hosted in Azure, you might need tooensure that hello virtual IP address (VIP) of hello service doesn't change.</span></span> <span data-ttu-id="1ee69-105">Många domän hanteringstjänster använda hello Domain Name System (DNS) för att registrera domännamn.</span><span class="sxs-lookup"><span data-stu-id="1ee69-105">Many domain management services use hello Domain Name System (DNS) for registering domain names.</span></span> <span data-ttu-id="1ee69-106">DNS fungerar bara om hello VIP förblir hello samma.</span><span class="sxs-lookup"><span data-stu-id="1ee69-106">DNS works only if hello VIP remains hello same.</span></span> <span data-ttu-id="1ee69-107">Du kan använda hello **Publiceringsguiden** i Azure-verktyg tooensure som hello VIP för Molntjänsten ändras inte när du uppdaterar den.</span><span class="sxs-lookup"><span data-stu-id="1ee69-107">You can use hello **Publish Wizard** in Azure Tools tooensure that hello VIP of your cloud service doesn’t change when you update it.</span></span> <span data-ttu-id="1ee69-108">Mer information om hur toouse DNS-domän management för molntjänster, se [konfigurera ett anpassat domännamn för en Azure-molntjänst](cloud-services/cloud-services-custom-domain-name.md).</span><span class="sxs-lookup"><span data-stu-id="1ee69-108">For more information about how toouse DNS domain management for cloud services, see [Configuring a custom domain name for an Azure cloud service](cloud-services/cloud-services-custom-domain-name.md).</span></span>

## <a name="publish-a-cloud-service-without-changing-its-vip"></a><span data-ttu-id="1ee69-109">Publicera en tjänst i molnet utan att ändra dess VIP</span><span class="sxs-lookup"><span data-stu-id="1ee69-109">Publish a cloud service without changing its VIP</span></span>
<span data-ttu-id="1ee69-110">hello VIP av molntjänster har allokerats när du först distribuera den tooAzure i en viss miljö, till exempel hello-produktionsmiljö.</span><span class="sxs-lookup"><span data-stu-id="1ee69-110">hello VIP of a cloud service is allocated when you first deploy it tooAzure in a particular environment, such as hello production environment.</span></span> <span data-ttu-id="1ee69-111">hello VIP ändringar endast om du tar bort hello distribution explicit eller hello distributionen är implicit bort hello distribution av uppdateringsprocessen.</span><span class="sxs-lookup"><span data-stu-id="1ee69-111">hello VIP changes only if you delete hello deployment explicitly or hello deployment is implicitly deleted by hello deployment update process.</span></span> <span data-ttu-id="1ee69-112">tooretain hello VIP måste du inte ta bort distributionen och måste du se till att Visual Studio inte ta bort distributionen automatiskt.</span><span class="sxs-lookup"><span data-stu-id="1ee69-112">tooretain hello VIP, you must not delete your deployment, and you must make sure that Visual Studio doesn’t delete your deployment automatically.</span></span> 

<span data-ttu-id="1ee69-113">Du kan ange inställningar för distribution i hello **Publiceringsguiden**, som stöder flera distributionsalternativ.</span><span class="sxs-lookup"><span data-stu-id="1ee69-113">You can specify deployment settings in hello **Publish Wizard**, which supports several deployment options.</span></span> <span data-ttu-id="1ee69-114">Du kan ange en ny distribution eller uppdatera-distributioner som kan vara inkrementell eller samtidig.</span><span class="sxs-lookup"><span data-stu-id="1ee69-114">You can specify a fresh deployment or an update deployment, which can be incremental or simultaneous.</span></span> <span data-ttu-id="1ee69-115">Båda typerna av distribution behålla hello VIP.</span><span class="sxs-lookup"><span data-stu-id="1ee69-115">Both kinds of update deployment retain hello VIP.</span></span> <span data-ttu-id="1ee69-116">Definitioner för dessa olika typer av distribution finns i [Publiceringsguiden för Azure-program](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="1ee69-116">For definitions of these different types of deployment, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span> <span data-ttu-id="1ee69-117">Du kan dessutom styra hello tidigare distribution av en molntjänst tas bort om ett fel inträffar.</span><span class="sxs-lookup"><span data-stu-id="1ee69-117">In addition, you can control whether hello previous deployment of a cloud service is deleted if an error occurs.</span></span> <span data-ttu-id="1ee69-118">Om du inte alternativet korrekt ändras hello VIP oväntat.</span><span class="sxs-lookup"><span data-stu-id="1ee69-118">If you don't set that option correctly, hello VIP might change unexpectedly.</span></span>

## <a name="update-a-cloud-service-without-changing-its-vip"></a><span data-ttu-id="1ee69-119">Uppdatera en tjänst i molnet utan att ändra dess VIP</span><span class="sxs-lookup"><span data-stu-id="1ee69-119">Update a cloud service without changing its VIP</span></span>
1. <span data-ttu-id="1ee69-120">Skapa eller öppna ett Azure cloud service-projekt i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="1ee69-120">Create or open an Azure cloud service project in Visual Studio.</span></span> 

2. <span data-ttu-id="1ee69-121">I **Solution Explorer**, högerklicka på hello projektet.</span><span class="sxs-lookup"><span data-stu-id="1ee69-121">In **Solution Explorer**, right-click hello project.</span></span> <span data-ttu-id="1ee69-122">Markera på snabbmenyn hello **publicera**.</span><span class="sxs-lookup"><span data-stu-id="1ee69-122">On hello shortcut menu, select **Publish**.</span></span>

    ![Menyn Publish (Publicera)](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/solution-explorer-publish-menu.png)

3. <span data-ttu-id="1ee69-124">I hello **publicera Azure-programmet** dialogrutan, Välj hello Azure-prenumeration toowhich som du vill toodeploy.</span><span class="sxs-lookup"><span data-stu-id="1ee69-124">In hello **Publish Azure Application** dialog box, select hello Azure subscription toowhich you want toodeploy.</span></span> <span data-ttu-id="1ee69-125">Logga in om nödvändigt och välj **nästa**.</span><span class="sxs-lookup"><span data-stu-id="1ee69-125">Sign in if necessary, and select **Next**.</span></span>

    ![Publicera Azure program inloggningssida](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-signin.png)

4. <span data-ttu-id="1ee69-127">På hello **gemensamma inställningar för** kontrollerar du att hello namnet på hello cloud service toowhich du distribuerar, hello **miljö**, hello **versionskonfiguration**, och hello **Tjänstkonfiguration** är korrekta.</span><span class="sxs-lookup"><span data-stu-id="1ee69-127">On hello **Common Settings** tab, verify that hello name of hello cloud service toowhich you’re deploying, hello **Environment**, hello **Build configuration**, and hello **Service configuration** are all correct.</span></span>

    ![Publicera gemensamma inställningar för Azure-program](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-common-settings.png)

5. <span data-ttu-id="1ee69-129">På hello **avancerade inställningar** kontrollerar du att hello **distributionsetiketten** och hello **lagringskonto** är korrekta.</span><span class="sxs-lookup"><span data-stu-id="1ee69-129">On hello **Advanced Settings** tab, verify that hello **Deployment label** and hello **Storage account** are correct.</span></span> <span data-ttu-id="1ee69-130">Kontrollera att hello **ta bort distributionen på fel** kryssrutan är avmarkerad och kontrollera att hello **uppdatering av programdistribution** är markerad.</span><span class="sxs-lookup"><span data-stu-id="1ee69-130">Verify that hello **Delete deployment on failure** check box is cleared, and verify that hello **Deployment update** check box is selected.</span></span> <span data-ttu-id="1ee69-131">Genom att avmarkera hello **ta bort distributionen på fel** kan du se till att din VIP försvinner inte om ett fel uppstår under distributionen.</span><span class="sxs-lookup"><span data-stu-id="1ee69-131">By clearing hello **Delete deployment on failure** check box, you ensure that your VIP isn't lost if an error occurs during deployment.</span></span> <span data-ttu-id="1ee69-132">Genom att välja hello **uppdatering av programdistribution** kan du se till att distributionen tas inte bort och din VIP försvinner inte när du publicerar ditt program.</span><span class="sxs-lookup"><span data-stu-id="1ee69-132">By selecting hello **Deployment update** check box, you ensure that your deployment isn't deleted and your VIP isn't lost when you republish your application.</span></span> 

    ![Publicera fliken Avancerade inställningar för Azure-program](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-advanced-settings.png)

6. <span data-ttu-id="1ee69-134">toofurther anger du hur hello roller toobe uppdateras, Välj **inställningar** nästa för**uppdatering av programdistribution**.</span><span class="sxs-lookup"><span data-stu-id="1ee69-134">toofurther specify how you want hello roles toobe updated, select **Settings** next too**Deployment update**.</span></span> <span data-ttu-id="1ee69-135">Välj antingen **stegvis uppdatering** eller **samtidig uppdatering**, och välj **OK**.</span><span class="sxs-lookup"><span data-stu-id="1ee69-135">Select either **Incremental update** or **Simultaneous update**, and select **OK**.</span></span> <span data-ttu-id="1ee69-136">Välj **stegvis uppdatering** tooupdate varje instans av ditt program efter varandra, så som hello programmet alltid är tillgängligt.</span><span class="sxs-lookup"><span data-stu-id="1ee69-136">Choose **Incremental update** tooupdate each instance of your application, one after another, so that hello application is always available.</span></span> <span data-ttu-id="1ee69-137">Välj **samtidig uppdatering** tooupdate alla instanser av programmet under hello samtidigt.</span><span class="sxs-lookup"><span data-stu-id="1ee69-137">Choose **Simultaneous update** tooupdate all instances of your application at hello same time.</span></span> <span data-ttu-id="1ee69-138">Samtidig uppdatering är snabbare, men tjänsten kanske inte är tillgänglig under hello uppdateringsprocessen.</span><span class="sxs-lookup"><span data-stu-id="1ee69-138">Simultaneous updating is faster, but your service might not be available during hello update process.</span></span> <span data-ttu-id="1ee69-139">När du är klar väljer du **nästa**.</span><span class="sxs-lookup"><span data-stu-id="1ee69-139">When you are finished, select **Next**.</span></span>

    ![Publicera Azure inställningar för programdistribution sida](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-deployment-update-settings.png)

7. <span data-ttu-id="1ee69-141">I hello **publicera Azure-programmet** dialogrutan **nästa** tills hello **sammanfattning** visas.</span><span class="sxs-lookup"><span data-stu-id="1ee69-141">In hello **Publish Azure Application** dialog box, select **Next** until hello **Summary** page is displayed.</span></span> <span data-ttu-id="1ee69-142">Verifiera inställningarna och välj sedan **publicera**.</span><span class="sxs-lookup"><span data-stu-id="1ee69-142">Verify your settings, and then select **Publish**.</span></span>
   
    ![Publicera Azure program sammanfattningssida](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-summary.png)

## <a name="next-steps"></a><span data-ttu-id="1ee69-144">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="1ee69-144">Next steps</span></span>
- [<span data-ttu-id="1ee69-145">Med hjälp av hello Visual Studio Azure guiden Publicera program</span><span class="sxs-lookup"><span data-stu-id="1ee69-145">Using hello Visual Studio Publish Azure Application Wizard</span></span>](vs-azure-tools-publish-azure-application-wizard.md)

