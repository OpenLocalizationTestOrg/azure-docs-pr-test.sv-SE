---
title: "Programmeringsguide för händelsehubbar i Azure | Microsoft Docs"
description: "Skriva kod för Händelsehubbar i Azure med Azure .NET SDK."
services: event-hubs
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 64cbfd3d-4a0e-4455-a90a-7f3d4f080323
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: 405ec2b27b488b570c4a5c86e4950ff98233360e
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 08/18/2017
---
# <a name="event-hubs-programming-guide"></a><span data-ttu-id="9991f-103">Programmeringsguide för händelsehubbar</span><span class="sxs-lookup"><span data-stu-id="9991f-103">Event Hubs programming guide</span></span>

<span data-ttu-id="9991f-104">Den här artikeln beskrivs några vanliga scenarier i att skriva kod med Azure Event Hubs och Azure .NET SDK.</span><span class="sxs-lookup"><span data-stu-id="9991f-104">This article discusses some common scenarios in writing code using Azure Event Hubs and the Azure .NET SDK.</span></span> <span data-ttu-id="9991f-105">Den förutsätter att du har en grundläggande förståelse av händelsehubbar.</span><span class="sxs-lookup"><span data-stu-id="9991f-105">It assumes a preliminary understanding of Event Hubs.</span></span> <span data-ttu-id="9991f-106">En konceptuell översikt av händelsehubbar finns på [Översikt av händelsehubbar](event-hubs-what-is-event-hubs.md).</span><span class="sxs-lookup"><span data-stu-id="9991f-106">For a conceptual overview of Event Hubs, see the [Event Hubs overview](event-hubs-what-is-event-hubs.md).</span></span>

## <a name="event-publishers"></a><span data-ttu-id="9991f-107">Händelseutfärdare</span><span class="sxs-lookup"><span data-stu-id="9991f-107">Event publishers</span></span>

<span data-ttu-id="9991f-108">Du kan skicka händelser till en händelsehubb antingen med hjälp av HTTP POST eller via en AMQP 1.0-anslutning.</span><span class="sxs-lookup"><span data-stu-id="9991f-108">You send events to an event hub either using HTTP POST or via an AMQP 1.0 connection.</span></span> <span data-ttu-id="9991f-109">Valet av som du vill använda och när beror på det specifika scenario du står inför.</span><span class="sxs-lookup"><span data-stu-id="9991f-109">The choice of which to use and when depends on the specific scenario being addressed.</span></span> <span data-ttu-id="9991f-110">AMQP 1.0-anslutningar är avgiftsbelagda som asynkrona anslutningar i Service Bus och är mer lämpliga i scenarier med ofta högre meddelandevolymer och lägre svarstidskrav, eftersom de tillhandahåller en permanent meddelandekanal.</span><span class="sxs-lookup"><span data-stu-id="9991f-110">AMQP 1.0 connections are metered as brokered connections in Service Bus and are more appropriate in scenarios with frequent higher message volumes and lower latency requirements, as they provide a persistent messaging channel.</span></span>

<span data-ttu-id="9991f-111">Du skapar och hanterar händelsehubbar med hjälp av klassen [NamespaceManager][].</span><span class="sxs-lookup"><span data-stu-id="9991f-111">You create and manage Event Hubs using the [NamespaceManager][] class.</span></span> <span data-ttu-id="9991f-112">När du använder de .NET-hanterade API:erna är de primära konstruktionerna för att publicera data i händelsehubbar klasserna [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) och [EventData][].</span><span class="sxs-lookup"><span data-stu-id="9991f-112">When using the .NET managed APIs, the primary constructs for publishing data to Event Hubs are the [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) and [EventData][] classes.</span></span> <span data-ttu-id="9991f-113">[EventHubClient][] innehåller kommunikationskanalen AMQP som händelser skickas till händelsehubben.</span><span class="sxs-lookup"><span data-stu-id="9991f-113">[EventHubClient][] provides the AMQP communication channel over which events are sent to the event hub.</span></span> <span data-ttu-id="9991f-114">Den [EventData][] klass representerar en händelse och används för att publicera meddelanden i en händelsehubb.</span><span class="sxs-lookup"><span data-stu-id="9991f-114">The [EventData][] class represents an event, and is used to publish messages to an event hub.</span></span> <span data-ttu-id="9991f-115">Den här klassen innehåller brödtexten, vissa metadata och rubrikinformation om händelsen.</span><span class="sxs-lookup"><span data-stu-id="9991f-115">This class includes the body, some metadata, and header information about the event.</span></span> <span data-ttu-id="9991f-116">Andra egenskaper läggs till i [EventData][] när det överförs via en händelsehubb.</span><span class="sxs-lookup"><span data-stu-id="9991f-116">Other properties are added to the [EventData][] object as it passes through an event hub.</span></span>

## <a name="get-started"></a><span data-ttu-id="9991f-117">Kom igång</span><span class="sxs-lookup"><span data-stu-id="9991f-117">Get started</span></span>

<span data-ttu-id="9991f-118">De .NET-klasser som har stöd för händelsehubbar finns i Microsoft.ServiceBus.dll-sammansättningen.</span><span class="sxs-lookup"><span data-stu-id="9991f-118">The .NET classes that support Event Hubs are provided in the Microsoft.ServiceBus.dll assembly.</span></span> <span data-ttu-id="9991f-119">Det enklaste sättet att referera till Service Bus-API och att konfigurera ditt program med alla Service Bus-beroenden är att hämta [Service Bus NuGet-paketet](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span><span class="sxs-lookup"><span data-stu-id="9991f-119">The easiest way to reference the Service Bus API and to configure your application with all of the Service Bus dependencies is to download the [Service Bus NuGet package](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span></span> <span data-ttu-id="9991f-120">Du kan också använda [Package Manager-konsolen](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9991f-120">Alternatively, you can use the [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) in Visual Studio.</span></span> <span data-ttu-id="9991f-121">Om du vill göra det kör du följande kommando i [Package Manager-konsol](http://docs.nuget.org/docs/start-here/using-the-package-manager-console)-fönstret:</span><span class="sxs-lookup"><span data-stu-id="9991f-121">To do so, issue the following command in the [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) window:</span></span>

```
Install-Package WindowsAzure.ServiceBus
```

## <a name="create-an-event-hub"></a><span data-ttu-id="9991f-122">Skapa en händelsehubb</span><span class="sxs-lookup"><span data-stu-id="9991f-122">Create an event hub</span></span>
<span data-ttu-id="9991f-123">Du kan använda klassen [NamespaceManager][] för att skapa händelsehubbar.</span><span class="sxs-lookup"><span data-stu-id="9991f-123">You can use the [NamespaceManager][] class to create Event Hubs.</span></span> <span data-ttu-id="9991f-124">Exempel:</span><span class="sxs-lookup"><span data-stu-id="9991f-124">For example:</span></span>

```csharp
var manager = new Microsoft.ServiceBus.NamespaceManager("mynamespace.servicebus.windows.net");
var description = manager.CreateEventHub("MyEventHub");
```

<span data-ttu-id="9991f-125">I de flesta fall bör du använda metoderna [CreateEventHubIfNotExists][] för att undvika att generera fel om tjänsten startas om.</span><span class="sxs-lookup"><span data-stu-id="9991f-125">In most cases, it is recommended that you use the [CreateEventHubIfNotExists][] methods to avoid generating exceptions if the service restarts.</span></span> <span data-ttu-id="9991f-126">Exempel:</span><span class="sxs-lookup"><span data-stu-id="9991f-126">For example:</span></span>

```csharp
var description = manager.CreateEventHubIfNotExists("MyEventHub");
```

<span data-ttu-id="9991f-127">Alla åtgärder för att skapa händelsehubbar inklusive [CreateEventHubIfNotExists][], kräver **hanterings**-behörigheter för det relevanta namnområdet.</span><span class="sxs-lookup"><span data-stu-id="9991f-127">All Event Hubs creation operations, including [CreateEventHubIfNotExists][], require **Manage** permissions on the namespace in question.</span></span> <span data-ttu-id="9991f-128">Om du vill begränsa behörigheterna för dina utfärdar- eller konsumentprogram kan du undvika de här anropen för att skapa åtgärder i produktionskod när du använder autentiseringsuppgifter med begränsad behörighet.</span><span class="sxs-lookup"><span data-stu-id="9991f-128">If you want to limit the permissions of your publisher or consumer applications, you can avoid these create operation calls in production code when you use credentials with limited permissions.</span></span>

<span data-ttu-id="9991f-129">Den [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) klassen innehåller information om en händelsehubb, inklusive auktoriseringsreglerna, meddelande Kvarhållningsintervall, partitions-ID: N, status och sökväg.</span><span class="sxs-lookup"><span data-stu-id="9991f-129">The [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) class contains details about an event hub, including the authorization rules, the message retention interval, partition IDs, status, and path.</span></span> <span data-ttu-id="9991f-130">Du kan använda den här klassen för att uppdatera metadata i en händelsehubb.</span><span class="sxs-lookup"><span data-stu-id="9991f-130">You can use this class to update the metadata on an event hub.</span></span>

## <a name="create-an-event-hubs-client"></a><span data-ttu-id="9991f-131">Skapa en händelsehubbklient</span><span class="sxs-lookup"><span data-stu-id="9991f-131">Create an Event Hubs client</span></span>
<span data-ttu-id="9991f-132">Den primära klassen för att interagera med Händelsehubbar är [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span><span class="sxs-lookup"><span data-stu-id="9991f-132">The primary class for interacting with Event Hubs is [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span></span> <span data-ttu-id="9991f-133">Den här klassen innehåller både sändar- och mottagarfunktioner.</span><span class="sxs-lookup"><span data-stu-id="9991f-133">This class provides both sender and receiver capabilities.</span></span> <span data-ttu-id="9991f-134">Du kan skapa en instans av den här klassen med hjälp av metoden [Skapa](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) som visas i följande exempel.</span><span class="sxs-lookup"><span data-stu-id="9991f-134">You can instantiate this class using the [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) method, as shown in the following example.</span></span>

```csharp
var client = EventHubClient.Create(description.Path);
```

<span data-ttu-id="9991f-135">Den här metoden använder anslutningsinformationen för Service Bus i App.config-filen i `appSettings`-avsnittet.</span><span class="sxs-lookup"><span data-stu-id="9991f-135">This method uses the Service Bus connection information in the App.config file, in the `appSettings` section.</span></span> <span data-ttu-id="9991f-136">Ett exempel på den `appSettings`-XML som används för att lagra informationen om Service Bus-anslutningen finns i dokumentationen för metoden [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_).</span><span class="sxs-lookup"><span data-stu-id="9991f-136">For an example of the `appSettings` XML used to store the Service Bus connection information, see the documentation for the [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method.</span></span>

<span data-ttu-id="9991f-137">Ett annat alternativ är att skapa klienten från en anslutningssträng.</span><span class="sxs-lookup"><span data-stu-id="9991f-137">Another option is to create the client from a connection string.</span></span> <span data-ttu-id="9991f-138">Det här alternativet fungerar bra när du använder arbetsroller i Azure, eftersom du kan lagra strängen i konfigurationsegenskaperna för arbetaren.</span><span class="sxs-lookup"><span data-stu-id="9991f-138">This option works well when using Azure worker roles, because you can store the string in the configuration properties for the worker.</span></span> <span data-ttu-id="9991f-139">Exempel:</span><span class="sxs-lookup"><span data-stu-id="9991f-139">For example:</span></span>

```csharp
EventHubClient.CreateFromConnectionString("your_connection_string");
```

<span data-ttu-id="9991f-140">Anslutningssträngen blir i samma format som den visas i App.config-filen för föregående metoder:</span><span class="sxs-lookup"><span data-stu-id="9991f-140">The connection string will be in the same format as it appears in the App.config file for the previous methods:</span></span>

```
Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[key]
```

<span data-ttu-id="9991f-141">Slutligen är det också möjligt att skapa ett [EventHubClient][]-objekt från en instans av [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory), enligt följande exempel.</span><span class="sxs-lookup"><span data-stu-id="9991f-141">Finally, it is also possible to create an [EventHubClient][] object from a [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory) instance, as shown in the following example.</span></span>

```csharp
var factory = MessagingFactory.CreateFromConnectionString("your_connection_string");
var client = factory.CreateEventHubClient("MyEventHub");
```

<span data-ttu-id="9991f-142">Observera att ytterligare [EventHubClient][]-objekt som har skapats från en instans av en meddelandefabrik återanvänder samma underliggande TCP-anslutning.</span><span class="sxs-lookup"><span data-stu-id="9991f-142">It is important to note that additional [EventHubClient][] objects created from a messaging factory instance will reuse the same underlying TCP connection.</span></span> <span data-ttu-id="9991f-143">Därför har de här objekten en gräns för genomflöde på klientsidan.</span><span class="sxs-lookup"><span data-stu-id="9991f-143">Therefore, these objects have a client-side limit on throughput.</span></span> <span data-ttu-id="9991f-144">Metoden [Skapa](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) återanvänder en enda meddelandefabrik.</span><span class="sxs-lookup"><span data-stu-id="9991f-144">The [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method reuses a single messaging factory.</span></span> <span data-ttu-id="9991f-145">Om du behöver mycket hög genomströmning från en enda avsändare kan du skapa flera meddelandefabriker och ett [EventHubClient][]-objekt från respektive meddelandefabrik.</span><span class="sxs-lookup"><span data-stu-id="9991f-145">If you need very high throughput from a single sender, then you can create multiple message factories and one [EventHubClient][] object from each messaging factory.</span></span>

## <a name="send-events-to-an-event-hub"></a><span data-ttu-id="9991f-146">Skicka händelser till en händelsehubb</span><span class="sxs-lookup"><span data-stu-id="9991f-146">Send events to an event hub</span></span>
<span data-ttu-id="9991f-147">Du skickar händelser till en händelsehubb genom att skapa en [EventData][] instansen och skicka den via den [skicka](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) metod.</span><span class="sxs-lookup"><span data-stu-id="9991f-147">You send events to an event hub by creating an [EventData][] instance and sending it via the [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) method.</span></span> <span data-ttu-id="9991f-148">Den här metoden tar en enda [EventData][] parameter i instansen och skickar den synkront till en händelsehubb.</span><span class="sxs-lookup"><span data-stu-id="9991f-148">This method takes a single [EventData][] instance parameter and synchronously sends it to an event hub.</span></span>

## <a name="event-serialization"></a><span data-ttu-id="9991f-149">Händelseserialisering</span><span class="sxs-lookup"><span data-stu-id="9991f-149">Event serialization</span></span>
<span data-ttu-id="9991f-150">Klassen [EventData][] har [fyra överbelastade konstruktorer](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) som tar olika parametrar, till exempel ett objekt och en serialiserare, en bytematris eller en ström.</span><span class="sxs-lookup"><span data-stu-id="9991f-150">The [EventData][] class has [four overloaded constructors](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) that take a variety of parameters, such as an object and serializer, a byte array, or a stream.</span></span> <span data-ttu-id="9991f-151">Det är också möjligt att skapa en instans av klassen [EventData][] och ange brödtextströmmen efteråt.</span><span class="sxs-lookup"><span data-stu-id="9991f-151">It is also possible to instantiate the [EventData][] class and set the body stream afterwards.</span></span> <span data-ttu-id="9991f-152">När du använder JSON med [EventData][] kan du använda **Encoding.UTF8.GetBytes()** för att hämta bytematrisen för en JSON-kodad sträng.</span><span class="sxs-lookup"><span data-stu-id="9991f-152">When using JSON with [EventData][], you can use **Encoding.UTF8.GetBytes()** to retrieve the byte array for a JSON-encoded string.</span></span>

## <a name="partition-key"></a><span data-ttu-id="9991f-153">Partitionsnyckeln</span><span class="sxs-lookup"><span data-stu-id="9991f-153">Partition key</span></span>
<span data-ttu-id="9991f-154">Klassen [EventData][] har en [PartitionKey][]-egenskap som gör att avsändaren kan ange ett värde som hashas för att skapa en tilldelning av partitionen.</span><span class="sxs-lookup"><span data-stu-id="9991f-154">The [EventData][] class has a [PartitionKey][] property that enables the sender to specify a value that is hashed to produce a partition assignment.</span></span> <span data-ttu-id="9991f-155">En partitionsnyckel garanterar att alla händelser med samma nyckel skickas till samma partition i hubben.</span><span class="sxs-lookup"><span data-stu-id="9991f-155">Using a partition key ensures that all the events with the same key are sent to the same partition in the event hub.</span></span> <span data-ttu-id="9991f-156">Vanliga partitionsnycklar är användarsession-ID:n och unika avsändar-ID:n.</span><span class="sxs-lookup"><span data-stu-id="9991f-156">Common partition keys include user session IDs and unique sender IDs.</span></span> <span data-ttu-id="9991f-157">Egenskapen [PartitionKey][] är valfri och kan anges när du använder metoderna [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) eller [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_).</span><span class="sxs-lookup"><span data-stu-id="9991f-157">The [PartitionKey][] property is optional and can be provided when using the [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) or [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_) methods.</span></span> <span data-ttu-id="9991f-158">Om du inte anger ett värde för [PartitionKey][] distribueras skickade händelser till partitioner enligt en resursallokeringsmodell.</span><span class="sxs-lookup"><span data-stu-id="9991f-158">If you do not provide a value for [PartitionKey][], sent events are distributed to partitions using a round-robin model.</span></span>

### <a name="availability-considerations"></a><span data-ttu-id="9991f-159">Överväganden för tillgänglighet</span><span class="sxs-lookup"><span data-stu-id="9991f-159">Availability considerations</span></span>

<span data-ttu-id="9991f-160">Med hjälp av en partitionsnyckel är valfri och du bör noggrant om du använder en eller inte.</span><span class="sxs-lookup"><span data-stu-id="9991f-160">Using a partition key is optional, and you should consider carefully whether or not to use one.</span></span> <span data-ttu-id="9991f-161">I många fall är med en partitionsnyckel ett bra val om händelsen ordning är viktig.</span><span class="sxs-lookup"><span data-stu-id="9991f-161">In many cases, using a partition key is a good choice if event ordering is important.</span></span> <span data-ttu-id="9991f-162">När du använder en partitionsnyckel partitionerna kräver tillgänglighet på en enda nod och driftavbrott med tiden. till exempel när compute-noder omstart och korrigering.</span><span class="sxs-lookup"><span data-stu-id="9991f-162">When you use a partition key, these partitions require availability on a single node, and outages can occur over time; for example, when compute nodes reboot and patch.</span></span> <span data-ttu-id="9991f-163">Om du ställer in ett partitions-ID och den aktuella partitionen är tillgänglig av någon anledning, misslyckas därför ett försök att komma åt data i den aktuella partitionen.</span><span class="sxs-lookup"><span data-stu-id="9991f-163">As such, if you set a partition ID and that partition becomes unavailable for some reason, an attempt to access the data in that partition will fail.</span></span> <span data-ttu-id="9991f-164">Om hög tillgänglighet är de viktigaste inte ange en partitionsnyckel; i så fall skickas händelser till partitioner enligt en resursallokeringsmodell som beskrivs ovan.</span><span class="sxs-lookup"><span data-stu-id="9991f-164">If high availability is most important, do not specify a partition key; in that case events will be sent to partitions using the round-robin model described previously.</span></span> <span data-ttu-id="9991f-165">I detta scenario upprättar du ett uttryckligt val mellan tillgänglighet (ingen partitions-ID) och konsekvens (fästning händelser till en partitions-ID).</span><span class="sxs-lookup"><span data-stu-id="9991f-165">In this scenario, you are making an explicit choice between availability (no partition ID) and consistency (pinning events to a partition ID).</span></span>

<span data-ttu-id="9991f-166">Ett annat övervägande hanterar fördröjningar i bearbetning av händelser.</span><span class="sxs-lookup"><span data-stu-id="9991f-166">Another consideration is handling delays in processing events.</span></span> <span data-ttu-id="9991f-167">I vissa fall kan det vara bättre att släppa data och försök igen än att försök och håll dig uppdaterad med bearbetning, vilket kan medföra ytterligare nedströms bearbetning fördröjningar.</span><span class="sxs-lookup"><span data-stu-id="9991f-167">In some cases it might be better to drop data and retry than to try and keep up with processing, which can potentially cause further downstream processing delays.</span></span> <span data-ttu-id="9991f-168">Till exempel med ett lager ticker är det bättre att vänta för fullständig uppdaterade data, men i en levande chatt eller VOIP-scenario i stället har du data snabbt, även om den inte är klar.</span><span class="sxs-lookup"><span data-stu-id="9991f-168">For example, with a stock ticker it's better to wait for complete up-to-date data, but in a live chat or VOIP scenario you'd rather have the data quickly, even if it isn't complete.</span></span>

<span data-ttu-id="9991f-169">Tänk också på tillgänglighet, i dessa scenarier kan du välja något av följande fel strategier för hantering:</span><span class="sxs-lookup"><span data-stu-id="9991f-169">Given these availability considerations, in these scenarios you might choose one of the following error handling strategies:</span></span>

- <span data-ttu-id="9991f-170">Stoppa (stop läsning från Händelsehubbar förrän saker har åtgärdats)</span><span class="sxs-lookup"><span data-stu-id="9991f-170">Stop (stop reading from Event Hubs until things are fixed)</span></span>
- <span data-ttu-id="9991f-171">Släpp (meddelandena inte viktig, släppa dem)</span><span class="sxs-lookup"><span data-stu-id="9991f-171">Drop (messages aren’t important, drop them)</span></span>
- <span data-ttu-id="9991f-172">Försök (försök meddelanden som du ser passar)</span><span class="sxs-lookup"><span data-stu-id="9991f-172">Retry (retry the messages as you see fit)</span></span>
- <span data-ttu-id="9991f-173">[Obeställbara](../service-bus-messaging/service-bus-dead-letter-queues.md) (använda en kö eller en annan händelsehubb till dead letter endast de meddelanden som du gick inte att bearbeta)</span><span class="sxs-lookup"><span data-stu-id="9991f-173">[Dead letter](../service-bus-messaging/service-bus-dead-letter-queues.md) (use a queue or another event hub to dead letter only the messages you couldn’t process)</span></span>

<span data-ttu-id="9991f-174">Mer information och en beskrivning av hur avvägningarna mellan tillgänglighet och konsekvens finns [tillgänglighet och konsekvens i Händelsehubbar](event-hubs-availability-and-consistency.md).</span><span class="sxs-lookup"><span data-stu-id="9991f-174">For more information and a discussion about the trade-offs between availability and consistency, see [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md).</span></span> 

## <a name="batch-event-send-operations"></a><span data-ttu-id="9991f-175">Åtgärder för att skicka batchhändelser</span><span class="sxs-lookup"><span data-stu-id="9991f-175">Batch event send operations</span></span>
<span data-ttu-id="9991f-176">Att skicka händelser i batchar kan öka genomflödet dramatiskt.</span><span class="sxs-lookup"><span data-stu-id="9991f-176">Sending events in batches can dramatically increase throughput.</span></span> <span data-ttu-id="9991f-177">Den [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) metoden tar en **IEnumerable** parameter av typen [EventData][] och skickar hela batchen som en atomisk åtgärd till händelsehubben.</span><span class="sxs-lookup"><span data-stu-id="9991f-177">The [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) method takes an **IEnumerable** parameter of type [EventData][] and sends the entire batch as an atomic operation to the event hub.</span></span>

```csharp
public void SendBatch(IEnumerable<EventData> eventDataList);
```

<span data-ttu-id="9991f-178">Observera att en enskild batch inte får överstiga 256 KB-gränsen för en händelse.</span><span class="sxs-lookup"><span data-stu-id="9991f-178">Note that a single batch must not exceed the 256 KB limit of an event.</span></span> <span data-ttu-id="9991f-179">Dessutom använder varje meddelande i batchen samma utgivaridentitet.</span><span class="sxs-lookup"><span data-stu-id="9991f-179">Additionally, each message in the batch uses the same publisher identity.</span></span> <span data-ttu-id="9991f-180">Det är avsändarens ansvar att se till att batchen inte överskrider den maximala händelsestorleken.</span><span class="sxs-lookup"><span data-stu-id="9991f-180">It is the responsibility of the sender to ensure that the batch does not exceed the maximum event size.</span></span> <span data-ttu-id="9991f-181">Om den gör det genereras ett **Skicka**-felmeddelande för klienten.</span><span class="sxs-lookup"><span data-stu-id="9991f-181">If it does, a client **Send** error is generated.</span></span>

## <a name="send-asynchronously-and-send-at-scale"></a><span data-ttu-id="9991f-182">Skicka asynkront och skicka i skala</span><span class="sxs-lookup"><span data-stu-id="9991f-182">Send asynchronously and send at scale</span></span>
<span data-ttu-id="9991f-183">Du kan även skicka händelser till en händelsehubb asynkront.</span><span class="sxs-lookup"><span data-stu-id="9991f-183">You can also send events to an event hub asynchronously.</span></span> <span data-ttu-id="9991f-184">Att skicka asynkront kan göra att en klient kan skicka händelser mer frekvent.</span><span class="sxs-lookup"><span data-stu-id="9991f-184">Sending asynchronously can increase the rate at which a client is able to send events.</span></span> <span data-ttu-id="9991f-185">Både metoderna [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) och [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) är tillgängliga i asynkrona versioner som returnerar ett [Task](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx)-objekt.</span><span class="sxs-lookup"><span data-stu-id="9991f-185">Both the [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) and [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) methods are available in asynchronous versions that return a [Task](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx) object.</span></span> <span data-ttu-id="9991f-186">Även om den här tekniken kan öka genomflödet kan den också göra att klienten fortsätter att skicka händelser även när den begränsas av händelsehubbtjänsten. Det kan leda till att klienten råkar ut för fel eller förlorade meddelanden om tekniken inte implementeras på ett korrekt sätt.</span><span class="sxs-lookup"><span data-stu-id="9991f-186">While this technique can increase throughput, it can also cause the client to continue to send events even while it is being throttled by the Event Hubs service and can result in the client experiencing failures or lost messages if not properly implemented.</span></span> <span data-ttu-id="9991f-187">Du kan dessutom använda egenskapen [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) på klienten för att styra alternativ för att försöka igen i klienten.</span><span class="sxs-lookup"><span data-stu-id="9991f-187">In addition, you can use the [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) property on the client to control client retry options.</span></span>

## <a name="create-a-partition-sender"></a><span data-ttu-id="9991f-188">Skapa en partitionsavsändare</span><span class="sxs-lookup"><span data-stu-id="9991f-188">Create a partition sender</span></span>
<span data-ttu-id="9991f-189">I vissa fall kanske du vill skicka händelser direkt till en given partition, även om det är vanligt att skicka händelser till en händelsehubb utan någon partitionsnyckel.</span><span class="sxs-lookup"><span data-stu-id="9991f-189">Although it is most common to send events to an event hub without a partition key, in some cases you might want to send events directly to a given partition.</span></span> <span data-ttu-id="9991f-190">Exempel:</span><span class="sxs-lookup"><span data-stu-id="9991f-190">For example:</span></span>

```csharp
var partitionedSender = client.CreatePartitionedSender(description.PartitionIds[0]);
```

<span data-ttu-id="9991f-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) returnerar ett [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) objekt som du kan använda för att publicera händelser i en viss händelse hubb partition.</span><span class="sxs-lookup"><span data-stu-id="9991f-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) returns an [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) object that you can use to publish events to a specific event hub partition.</span></span>

## <a name="event-consumers"></a><span data-ttu-id="9991f-192">Händelsekonsumenter</span><span class="sxs-lookup"><span data-stu-id="9991f-192">Event consumers</span></span>
<span data-ttu-id="9991f-193">Händelsehubbar har två primära modeller för händelsekonsumtion: direkta mottagare och abstraktioner på högre nivåer som t.ex. [EventProcessorHost][].</span><span class="sxs-lookup"><span data-stu-id="9991f-193">Event Hubs has two primary models for event consumption: direct receivers and higher-level abstractions, such as [EventProcessorHost][].</span></span> <span data-ttu-id="9991f-194">Direkta mottagare är ansvariga för sin egen samordning av åtkomst till partitioner inom en konsumentgrupp.</span><span class="sxs-lookup"><span data-stu-id="9991f-194">Direct receivers are responsible for their own coordination of access to partitions within a consumer group.</span></span>

### <a name="direct-consumer"></a><span data-ttu-id="9991f-195">Direktkonsumenten</span><span class="sxs-lookup"><span data-stu-id="9991f-195">Direct consumer</span></span>
<span data-ttu-id="9991f-196">Det snabbaste sättet att läsa från en partition inom en konsumentgrupp är att använda klassen [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver).</span><span class="sxs-lookup"><span data-stu-id="9991f-196">The most direct way to read from a partition within a consumer group is to use the [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) class.</span></span> <span data-ttu-id="9991f-197">Om du vill skapa en instans av den här klassen måste du använda en instans av klassen [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup).</span><span class="sxs-lookup"><span data-stu-id="9991f-197">To create an instance of this class, you must use an instance of the [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) class.</span></span> <span data-ttu-id="9991f-198">I följande exempel måste partitions-ID:et anges när du skapar mottagaren för konsumentgruppen.</span><span class="sxs-lookup"><span data-stu-id="9991f-198">In the following example, the partition ID must be specified when creating the receiver for the consumer group.</span></span>

```csharp
EventHubConsumerGroup group = client.GetDefaultConsumerGroup();
var receiver = group.CreateReceiver(client.GetRuntimeInformation().PartitionIds[0]);
```

<span data-ttu-id="9991f-199">Metoden [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) har flera överlagringar som  underlättar kontroll över den läsare som skapas.</span><span class="sxs-lookup"><span data-stu-id="9991f-199">The [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) method has several overloads that facilitate control over the reader being created.</span></span> <span data-ttu-id="9991f-200">De här metoderna omfattar att ange en offset antingen som en sträng eller en tidsstämpel, och möjligheten att ange om du ska ta med den här angivna offseten i den returnerade strömmen eller starta efter den.</span><span class="sxs-lookup"><span data-stu-id="9991f-200">These methods include specifying an offset as either a string or timestamp, and the ability to specify whether to include this specified offset in the returned stream, or start after it.</span></span> <span data-ttu-id="9991f-201">När du har skapat mottagaren kan du börja ta emot händelser på det returnerade objektet.</span><span class="sxs-lookup"><span data-stu-id="9991f-201">After you create the receiver, you can start receiving events on the returned object.</span></span> <span data-ttu-id="9991f-202">Metoden [Receive](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) har fyra överlagringar som styr parametrarna för mottagningsåtgärden, t.ex. batchstorlek och väntetid.</span><span class="sxs-lookup"><span data-stu-id="9991f-202">The [Receive](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) method has four overloads that control the receive operation parameters, such as batch size and wait time.</span></span> <span data-ttu-id="9991f-203">Du kan använda de asynkrona versionerna av de här metoderna för att öka genomflödet av en konsument.</span><span class="sxs-lookup"><span data-stu-id="9991f-203">You can use the asynchronous versions of these methods to increase the throughput of a consumer.</span></span> <span data-ttu-id="9991f-204">Exempel:</span><span class="sxs-lookup"><span data-stu-id="9991f-204">For example:</span></span>

```csharp
bool receive = true;
string myOffset;
while(receive)
{
    var message = receiver.Receive();
    myOffset = message.Offset;
    string body = Encoding.UTF8.GetString(message.GetBytes());
    Console.WriteLine(String.Format("Received message offset: {0} \nbody: {1}", myOffset, body));
}
```

<span data-ttu-id="9991f-205">Med avseende på en specifik partition tas emot meddelandena i den ordning som de skickades till händelsehubben.</span><span class="sxs-lookup"><span data-stu-id="9991f-205">With respect to a specific partition, the messages are received in the order in which they were sent to the event hub.</span></span> <span data-ttu-id="9991f-206">Offseten är en strängtoken som används för att identifiera ett meddelande i en partition.</span><span class="sxs-lookup"><span data-stu-id="9991f-206">The offset is a string token used to identify a message in a partition.</span></span>

<span data-ttu-id="9991f-207">Observera att en enda partition inom en konsumentgrupp inte samtidigt kan ha fler än fem läsare anslutna vid en viss tidpunkt.</span><span class="sxs-lookup"><span data-stu-id="9991f-207">Note that a single partition within a consumer group cannot have more than 5 concurrent readers connected at any time.</span></span> <span data-ttu-id="9991f-208">När läsare ansluts eller kopplas från, kan sessionerna förbli aktiva i flera minuter innan tjänsten känner av att de har kopplats från.</span><span class="sxs-lookup"><span data-stu-id="9991f-208">As readers connect or become disconnected, their sessions might stay active for several minutes before the service recognizes that they have disconnected.</span></span> <span data-ttu-id="9991f-209">Under den här tiden kan det vara omöjligt att återansluta till en partition.</span><span class="sxs-lookup"><span data-stu-id="9991f-209">During this time, reconnecting to a partition may fail.</span></span> <span data-ttu-id="9991f-210">En komplett exempel för att skriva en direkt mottagare för Händelsehubbar finns i [Event Hubs Direct Receivers](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) exempel.</span><span class="sxs-lookup"><span data-stu-id="9991f-210">For a complete example of writing a direct receiver for Event Hubs, see the [Event Hubs Direct Receivers](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) sample.</span></span>

### <a name="event-processor-host"></a><span data-ttu-id="9991f-211">Värd för händelsebearbetning</span><span class="sxs-lookup"><span data-stu-id="9991f-211">Event processor host</span></span>
<span data-ttu-id="9991f-212">Klassen [EventProcessorHost][] bearbetar data från händelsehubbar.</span><span class="sxs-lookup"><span data-stu-id="9991f-212">The [EventProcessorHost][] class processes data from Event Hubs.</span></span> <span data-ttu-id="9991f-213">Du bör använda den här implementeringen när du skapar händelseläsare på .NET-plattformen.</span><span class="sxs-lookup"><span data-stu-id="9991f-213">You should use this implementation when building event readers on the .NET platform.</span></span> <span data-ttu-id="9991f-214">[EventProcessorHost][] ger en trådsäker, flerprocessig, säker körningsmiljö för implementeringar av händelseprocessorer som också ger hantering av kontrollpunkter och hantering av partitionsleasing.</span><span class="sxs-lookup"><span data-stu-id="9991f-214">[EventProcessorHost][] provides a thread-safe, multi-process, safe runtime environment for event processor implementations that also provides checkpointing and partition lease management.</span></span>

<span data-ttu-id="9991f-215">Om du vill använda klassen [EventProcessorHost][] kan du implementera [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span><span class="sxs-lookup"><span data-stu-id="9991f-215">To use the [EventProcessorHost][] class, you can implement [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span></span> <span data-ttu-id="9991f-216">Det här gränssnittet innehåller tre metoder:</span><span class="sxs-lookup"><span data-stu-id="9991f-216">This interface contains three methods:</span></span>

* [<span data-ttu-id="9991f-217">OpenAsync</span><span class="sxs-lookup"><span data-stu-id="9991f-217">OpenAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_OpenAsync_Microsoft_ServiceBus_Messaging_PartitionContext_)
* [<span data-ttu-id="9991f-218">CloseAsync</span><span class="sxs-lookup"><span data-stu-id="9991f-218">CloseAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_CloseAsync_Microsoft_ServiceBus_Messaging_PartitionContext_Microsoft_ServiceBus_Messaging_CloseReason_)
* [<span data-ttu-id="9991f-219">ProcessEventsAsync</span><span class="sxs-lookup"><span data-stu-id="9991f-219">ProcessEventsAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_ProcessEventsAsync_Microsoft_ServiceBus_Messaging_PartitionContext_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__)

<span data-ttu-id="9991f-220">Om du vill starta händelsebearbetning instansiera [EventProcessorHost][], ger lämpliga parametrar för händelsehubben.</span><span class="sxs-lookup"><span data-stu-id="9991f-220">To start event processing, instantiate [EventProcessorHost][], providing the appropriate parameters for your event hub.</span></span> <span data-ttu-id="9991f-221">Anropa sedan [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) för att registrera din implementering av [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) i körningen.</span><span class="sxs-lookup"><span data-stu-id="9991f-221">Then, call [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) to register your [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) implementation with the runtime.</span></span> <span data-ttu-id="9991f-222">Nu värden kommer att försöka skaffa en leasing för varje partition i händelsehubben med hjälp av en ”girig” algoritm.</span><span class="sxs-lookup"><span data-stu-id="9991f-222">At this point, the host will attempt to acquire a lease on every partition in the event hub using a "greedy" algorithm.</span></span> <span data-ttu-id="9991f-223">De här leasingarna varar en viss tid och måste sedan förnyas.</span><span class="sxs-lookup"><span data-stu-id="9991f-223">These leases will last for a given timeframe and must then be renewed.</span></span> <span data-ttu-id="9991f-224">Allteftersom nya noder, i det här fallet arbetarinstanser, kommer ut online, placerar den ut leasingreservationer och med tiden skiftar arbetsbelastningen mellan noderna då varje nod försöker skaffa fler leasingar.</span><span class="sxs-lookup"><span data-stu-id="9991f-224">As new nodes, worker instances in this case, come online, they place lease reservations and over time the load shifts between nodes as each attempts to acquire more leases.</span></span>

![Värd för händelsebearbetning](./media/event-hubs-programming-guide/IC759863.png)

<span data-ttu-id="9991f-226">Med tiden etableras ett jämviktsläge.</span><span class="sxs-lookup"><span data-stu-id="9991f-226">Over time, an equilibrium is established.</span></span> <span data-ttu-id="9991f-227">Den här dynamiska funktionen gör att processorbaserad autoskalning kan tillämpas på konsumenter för både uppskalning och nedskalning.</span><span class="sxs-lookup"><span data-stu-id="9991f-227">This dynamic capability enables CPU-based autoscaling to be applied to consumers for both scale-up and scale-down.</span></span> <span data-ttu-id="9991f-228">Eftersom händelsehubbar inte har ett direkt begrepp om antalet meddelanden är den genomsnittliga processoranvändningen oftast den bästa metoden för att mäta skalan för serverdelen eller konsumenterna.</span><span class="sxs-lookup"><span data-stu-id="9991f-228">Because Event Hubs do not have a direct concept of message counts, average CPU utilization is often the best mechanism to measure back end or consumer scale.</span></span> <span data-ttu-id="9991f-229">Om utgivare börjar publicera fler händelser än konsumenterna kan bearbeta kan processorökningen för konsumenterna användas för att autoskala efter antalet arbetsinstanser.</span><span class="sxs-lookup"><span data-stu-id="9991f-229">If publishers begin to publish more events than consumers can process, the CPU increase on consumers can be used to cause an auto-scale on worker instance count.</span></span>

<span data-ttu-id="9991f-230">Klassen [EventProcessorHost][] implementerar också en mekanism för Azure storage-baserade kontrollpunkter.</span><span class="sxs-lookup"><span data-stu-id="9991f-230">The [EventProcessorHost][] class also implements an Azure storage-based checkpointing mechanism.</span></span> <span data-ttu-id="9991f-231">Den här mekanismen lagrar offseten på en per partition-basis, så att varje konsument kan fastställa vilken den senaste kontrollpunkten från den föregående konsumenten var.</span><span class="sxs-lookup"><span data-stu-id="9991f-231">This mechanism stores the offset on a per partition basis, so that each consumer can determine what the last checkpoint from the previous consumer was.</span></span> <span data-ttu-id="9991f-232">Eftersom partitioner övergår mellan noder via leasingar är det här den synkroniseringsmekanism som gör det lättare att skifta belastningar.</span><span class="sxs-lookup"><span data-stu-id="9991f-232">As partitions transition between nodes via leases, this is the synchronization mechanism that facilitates load shifting.</span></span>

## <a name="publisher-revocation"></a><span data-ttu-id="9991f-233">Återkallande av utgivare</span><span class="sxs-lookup"><span data-stu-id="9991f-233">Publisher revocation</span></span>
<span data-ttu-id="9991f-234">Förutom de avancerade funktionerna för körning av [EventProcessorHost][], Event Hubs gör att återkalla utgivare för att hindra specifika utgivare från att skicka händelser till en händelsehubb.</span><span class="sxs-lookup"><span data-stu-id="9991f-234">In addition to the advanced run-time features of [EventProcessorHost][], Event Hubs enables publisher revocation in order to block specific publishers from sending event to an event hub.</span></span> <span data-ttu-id="9991f-235">De här funktionerna är särskilt användbara om en utgivartoken har komprometterats eller om en programuppdatering får dem att bete sig på ett olämpligt sätt</span><span class="sxs-lookup"><span data-stu-id="9991f-235">These features are particularly useful if a publisher token has been compromised, or a software update is causing them to behave inappropriately.</span></span> <span data-ttu-id="9991f-236">I sådana situationer kan utgivarens identitet, vilken är en del av deras SAS-token, blockeras från att publicera händelser.</span><span class="sxs-lookup"><span data-stu-id="9991f-236">In these situations, the publisher's identity, which is part of their SAS token, can be blocked from publishing events.</span></span>

<span data-ttu-id="9991f-237">Mer information om att återkalla utgivare och om hur du skickar till Event Hubs som utgivare finns i exemplet [Service Bus Event Hubs säker publicering i stor skala](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab).</span><span class="sxs-lookup"><span data-stu-id="9991f-237">For more information about publisher revocation and how to send to Event Hubs as a publisher, see the [Event Hubs Large Scale Secure Publishing](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) sample.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9991f-238">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="9991f-238">Next steps</span></span>
<span data-ttu-id="9991f-239">Mer information om scenarier i händelsehubbar finns i följande länkar:</span><span class="sxs-lookup"><span data-stu-id="9991f-239">To learn more about Event Hubs scenarios, visit these links:</span></span>

* [<span data-ttu-id="9991f-240">Event Hubs API-översikt</span><span class="sxs-lookup"><span data-stu-id="9991f-240">Event Hubs API overview</span></span>](event-hubs-api-overview.md)
* [<span data-ttu-id="9991f-241">Vad är Händelsehubbar</span><span class="sxs-lookup"><span data-stu-id="9991f-241">What is Event Hubs</span></span>](event-hubs-what-is-event-hubs.md)
* [<span data-ttu-id="9991f-242">Tillgänglighet och konsekvens i Event Hubs</span><span class="sxs-lookup"><span data-stu-id="9991f-242">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="9991f-243">Händelsebearbetningsvärd API-referens</span><span class="sxs-lookup"><span data-stu-id="9991f-243">Event processor host API reference</span></span>](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost)

<span data-ttu-id="9991f-244">[NamespaceManager]: /dotnet/api/microsoft.servicebus.namespacemanager</span><span class="sxs-lookup"><span data-stu-id="9991f-244">[NamespaceManager]: /dotnet/api/microsoft.servicebus.namespacemanager</span></span>
<span data-ttu-id="9991f-245">[EventHubClient]: /dotnet/api/microsoft.servicebus.messaging.eventhubclient</span><span class="sxs-lookup"><span data-stu-id="9991f-245">[EventHubClient]: /dotnet/api/microsoft.servicebus.messaging.eventhubclient</span></span>
<span data-ttu-id="9991f-246">[EventData]: /dotnet/api/microsoft.servicebus.messaging.eventdata</span><span class="sxs-lookup"><span data-stu-id="9991f-246">[EventData]: /dotnet/api/microsoft.servicebus.messaging.eventdata</span></span>
<span data-ttu-id="9991f-247">[CreateEventHubIfNotExists]: /dotnet/api/microsoft.servicebus.namespacemanager.createeventhubifnotexists</span><span class="sxs-lookup"><span data-stu-id="9991f-247">[CreateEventHubIfNotExists]: /dotnet/api/microsoft.servicebus.namespacemanager.createeventhubifnotexists</span></span>
<span data-ttu-id="9991f-248">[PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.eventdata#Microsoft_ServiceBus_Messaging_EventData_PartitionKey</span><span class="sxs-lookup"><span data-stu-id="9991f-248">[PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.eventdata#Microsoft_ServiceBus_Messaging_EventData_PartitionKey</span></span>
<span data-ttu-id="9991f-249">[EventProcessorHost]: /dotnet/api/microsoft.servicebus.messaging.eventprocessorhost</span><span class="sxs-lookup"><span data-stu-id="9991f-249">[EventProcessorHost]: /dotnet/api/microsoft.servicebus.messaging.eventprocessorhost</span></span>
