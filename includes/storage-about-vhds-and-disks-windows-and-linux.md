
## <a name="about-vhds"></a><span data-ttu-id="e9a9e-101">Om virtuella hårddiskar</span><span class="sxs-lookup"><span data-stu-id="e9a9e-101">About VHDs</span></span>

<span data-ttu-id="e9a9e-102">hello virtuella hårddiskar som används i Azure är VHD-filer som lagras som sidblobbar i en standard- eller premium storage-konto i Azure.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-102">hello VHDs used in Azure are .vhd files stored as page blobs in a standard or premium storage account in Azure.</span></span> <span data-ttu-id="e9a9e-103">Mer information om sidblobar finns [Understanding block blobs and page blobs](/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs/) (Förstå blockblobar och sidblobar).</span><span class="sxs-lookup"><span data-stu-id="e9a9e-103">For details about page blobs, see [Understanding block blobs and page blobs](/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs/).</span></span> <span data-ttu-id="e9a9e-104">Mer information om premium-lagring finns i [High-performance premium storage and Azure VMs](../articles/storage/common/storage-premium-storage.md) (Premium-lagring och virtuella Azure-datorer med hög prestanda).</span><span class="sxs-lookup"><span data-stu-id="e9a9e-104">For details about premium storage, see [High-performance premium storage and Azure VMs](../articles/storage/common/storage-premium-storage.md).</span></span>

<span data-ttu-id="e9a9e-105">Azure stöder hello fast disk VHD-format.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-105">Azure supports hello fixed disk VHD format.</span></span> <span data-ttu-id="e9a9e-106">hello fast format skapar hello logisk disk ut linjärt i hello-fil, så att disken förskjutningen X lagras på blob-offset X. En liten sidfot hello slutet av hello blob beskriver hello egenskaper för hello VHD.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-106">hello fixed format lays hello logical disk out linearly within hello file, so that disk offset X is stored at blob offset X. A small footer at hello end of hello blob describes hello properties of hello VHD.</span></span> <span data-ttu-id="e9a9e-107">Ofta slösar hello fast format utrymme eftersom de flesta diskar med stora oanvända intervall i.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-107">Often, hello fixed format wastes space because most disks have large unused ranges in them.</span></span> <span data-ttu-id="e9a9e-108">Dock Azure lagrar VHD-filer i en sparse-format så får du hello fördelarna med båda hello fast och dynamiska diskar på hello samma tid.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-108">However, Azure stores .vhd files in a sparse format, so you receive hello benefits of both hello fixed and dynamic disks at hello same time.</span></span> <span data-ttu-id="e9a9e-109">Mer information finns i [Komma igång med virtuella hårddiskar](https://technet.microsoft.com/library/dd979539.aspx).</span><span class="sxs-lookup"><span data-stu-id="e9a9e-109">For more details, see [Getting started with virtual hard disks](https://technet.microsoft.com/library/dd979539.aspx).</span></span>

<span data-ttu-id="e9a9e-110">Alla VHD-filer i Azure som du vill toouse som en källa toocreate diskar eller avbildningar är skrivskyddade.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-110">All .vhd files in Azure that you want toouse as a source toocreate disks or images are read-only.</span></span> <span data-ttu-id="e9a9e-111">När du skapar en disk eller avbildning gör Azure kopior av hello VHD-filer.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-111">When you create a disk or image, Azure makes copies of hello .vhd files.</span></span> <span data-ttu-id="e9a9e-112">Dessa kopior kan vara skrivskyddade eller och-skrivskyddad, beroende på hur du använder hello VHD.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-112">These copies can be read-only or read-and-write, depending on how you use hello VHD.</span></span>

<span data-ttu-id="e9a9e-113">När du skapar en virtuell dator från en avbildning skapar Azure en disk för hello virtuell dator som är en kopia av hello käll-VHD-filen.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-113">When you create a virtual machine from an image, Azure creates a disk for hello virtual machine that is a copy of hello source .vhd file.</span></span> <span data-ttu-id="e9a9e-114">tooprotect oavsiktlig borttagning Azure placerar ett lån på alla käll-VHD-filen som har använt toocreate en bild, en operativsystemdisk eller en datadisk.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-114">tooprotect against accidental deletion, Azure places a lease on any source .vhd file that’s used toocreate an image, an operating system disk, or a data disk.</span></span>

<span data-ttu-id="e9a9e-115">Innan du kan ta bort en käll-VHD-filen måste tooremove hello lån genom att ta bort hello disk eller avbildningen.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-115">Before you can delete a source .vhd file, you’ll need tooremove hello lease by deleting hello disk or image.</span></span> <span data-ttu-id="e9a9e-116">toodelete en VHD-fil som används av en virtuell dator som en operativsystemdisk, du kan ta bort hello virtuell dator och hello operativsystemdisk hello käll-VHD-filen på en gång genom att ta bort hello virtuella datorn och ta bort alla associerade diskar.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-116">toodelete a .vhd file that is being used by a virtual machine as an operating system disk, you can delete hello virtual machine, hello operating system disk, and hello source .vhd file all at once by deleting hello virtual machine and deleting all associated disks.</span></span> <span data-ttu-id="e9a9e-117">Men det krävs att du genomför ett antal steg i en viss ordning för att ta bort en .vhd-fil som är en källa för en datadisk.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-117">However, deleting a .vhd file that’s a source for a data disk requires several steps in a set order.</span></span> <span data-ttu-id="e9a9e-118">Först du koppla från hello disk från hello virtuell dator och sedan ta bort hello disken och ta sedan bort hello VHD-filen.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-118">First you detach hello disk from hello virtual machine, then delete hello disk, and then delete hello .vhd file.</span></span>

> [!WARNING]
> <span data-ttu-id="e9a9e-119">Om du tar bort en .vhd-fil som används som källa från lagringen eller tar bort ditt lagringskonto kan Microsoft inte återställa dessa data åt dig.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-119">If you delete a source .vhd file from storage, or delete your storage account, Microsoft can't recover that data for you.</span></span>
> 

## <a name="types-of-disks"></a><span data-ttu-id="e9a9e-120">Typer av diskar</span><span class="sxs-lookup"><span data-stu-id="e9a9e-120">Types of disks</span></span> 

<span data-ttu-id="e9a9e-121">Azure-diskar har en tillförlitlighet på 99,999 %.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-121">Azure Disks are designed for 99.999% availability.</span></span> <span data-ttu-id="e9a9e-122">Azure-diskarna har konsekvent leverera företagsklass hållbarhet med ett branschledande noll % Felintervall Annualized.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-122">Azure Disks have consistently delivered enterprise-grade durability, with an industry-leading ZERO% Annualized Failure Rate.</span></span>

<span data-ttu-id="e9a9e-123">Det finns två prestandanivåer för lagring som du kan välja när du skapar diskar – Standard Storage och Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-123">There are two performance tiers for storage that you can choose from when creating your disks -- Standard Storage and Premium Storage.</span></span> <span data-ttu-id="e9a9e-124">Dessutom finns två typer av diskar, ohanterade och hanterade, som kan användas på båda prestandanivåerna.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-124">Also, there are two types of disks -- unmanaged and managed -- and they can reside in either performance tier.</span></span>


### <a name="standard-storage"></a><span data-ttu-id="e9a9e-125">Standard Storage</span><span class="sxs-lookup"><span data-stu-id="e9a9e-125">Standard storage</span></span> 

<span data-ttu-id="e9a9e-126">Standard Storage stöds av hårddiskar och levererar kostnadseffektiv lagring samtidigt som det är högpresterande.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-126">Standard Storage is backed by HDDs, and delivers cost-effective storage while still being performant.</span></span> <span data-ttu-id="e9a9e-127">Standard Storage kan replikeras lokalt i ett datacenter eller vara geo-redundant med primära och sekundära datacenter.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-127">Standard storage can be replicated locally in one datacenter, or be geo-redundant with primary and secondary data centers.</span></span> <span data-ttu-id="e9a9e-128">Mer information om lagringsreplikeringsalternativ finns i [Azure Storage-replikering](../articles/storage/common/storage-redundancy.md).</span><span class="sxs-lookup"><span data-stu-id="e9a9e-128">For more information about storage replication, please see [Azure Storage replication](../articles/storage/common/storage-redundancy.md).</span></span> 

<span data-ttu-id="e9a9e-129">Mer information om hur du använder Standard Storage med VM-diskar finns i [Standard Storage and Disks](../articles/storage/common/storage-standard-storage.md) (Standard Storage och diskar).</span><span class="sxs-lookup"><span data-stu-id="e9a9e-129">For more information about using Standard Storage with VM disks, please see [Standard Storage and Disks](../articles/storage/common/storage-standard-storage.md).</span></span>

### <a name="premium-storage"></a><span data-ttu-id="e9a9e-130">Premium Storage</span><span class="sxs-lookup"><span data-stu-id="e9a9e-130">Premium storage</span></span> 

<span data-ttu-id="e9a9e-131">Premium Storage stöds av solid state-hårddiskar och levererar högpresterande disksupport med låg fördröjning för virtuella datorer som kör I/O-intensiva arbetsbelastningar.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-131">Premium Storage is backed by SSDs, and delivers high-performance, low-latency disk support for VMs running I/O-intensive workloads.</span></span> <span data-ttu-id="e9a9e-132">Du kan använda Premium-lagring med DS, DSv2, GS, Ls eller FS serien Azure virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-132">You can use Premium Storage with DS, DSv2, GS, Ls, or FS series Azure VMs.</span></span> <span data-ttu-id="e9a9e-133">Mer information finns i [Premium Storage](../articles/storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="e9a9e-133">For more information, please see [Premium Storage](../articles/storage/common/storage-premium-storage.md).</span></span>

### <a name="unmanaged-disks"></a><span data-ttu-id="e9a9e-134">Ohanterade diskar</span><span class="sxs-lookup"><span data-stu-id="e9a9e-134">Unmanaged disks</span></span>

<span data-ttu-id="e9a9e-135">Ohanterad diskar är hello vanlig typ av diskar som har använts av virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-135">Unmanaged disks are hello traditional type of disks that have been used by VMs.</span></span> <span data-ttu-id="e9a9e-136">Med dessa kan du skapa egna storage-konto och ange detta lagringskonto när du skapar hello disk.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-136">With these, you create your own storage account and specify that storage account when you create hello disk.</span></span> <span data-ttu-id="e9a9e-137">Du har för många diskar inte placera toomake hello samma lagringskonto, eftersom du kan överskrida hello [skalbarhetsmål](../articles/storage/common/storage-scalability-targets.md) av hello lagringskonto (20 000 IOPS, till exempel), vilket resulterar i hello VMs begränsas.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-137">You have toomake sure you don't put too many disks in hello same storage account, because you could exceed hello [scalability targets](../articles/storage/common/storage-scalability-targets.md) of hello storage account (20,000 IOPS, for example), resulting in hello VMs being throttled.</span></span> <span data-ttu-id="e9a9e-138">Med ohanterad diskar har toofigure ut hur toomaximize hello användning av en eller flera konton tooget hello bästa lagringsprestanda utanför din virtuella dator.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-138">With unmanaged disks, you have toofigure out how toomaximize hello use of one or more storage accounts tooget hello best performance out of your VMs.</span></span>

### <a name="managed-disks"></a><span data-ttu-id="e9a9e-139">Hanterade diskar</span><span class="sxs-lookup"><span data-stu-id="e9a9e-139">Managed disks</span></span> 

<span data-ttu-id="e9a9e-140">Hanterade diskar handtag hello lagring utgör skapande och hantering i hello bakgrund och garanterar att du inte har tooworry om hello skalbarhetsbegränsningar av hello storage-konto.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-140">Managed Disks handles hello storage account creation/management in hello background for you, and ensures that you do not have tooworry about hello scalability limits of hello storage account.</span></span> <span data-ttu-id="e9a9e-141">Du bara ange hello diskstorleken och hello prestandanivån (Standard/Premium) och Azure skapar och hanterar hello disk åt dig.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-141">You simply specify hello disk size and hello performance tier (Standard/Premium), and Azure creates and manages hello disk for you.</span></span> <span data-ttu-id="e9a9e-142">Även om du lägger till diskar eller skala upp eller ned hello VM, kan du inte har tooworry om hello lagring som används.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-142">Even as you add disks or scale hello VM up and down, you don't have tooworry about hello storage being used.</span></span> 

<span data-ttu-id="e9a9e-143">Du kan också hantera egna, anpassade avbildningar i ett lagringskonto per Azure-region och använda dem toocreate hundratals för virtuella datorer i hello samma prenumeration.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-143">You can also manage your custom images in one storage account per Azure region, and use them toocreate hundreds of VMs in hello same subscription.</span></span> <span data-ttu-id="e9a9e-144">Mer information om hanterade diskar finns hello [översikt för hanterade diskar](../articles/virtual-machines/windows/managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e9a9e-144">For more information about Managed Disks, please see hello [Managed Disks Overview](../articles/virtual-machines/windows/managed-disks-overview.md).</span></span>

<span data-ttu-id="e9a9e-145">Vi rekommenderar att du använder Azure hanterade diskar för nya virtuella datorer och att du konverterar tidigare ohanterade diskar toomanaged diskarna, tootake nytta av hello många funktioner som är tillgängliga i hanterade diskar.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-145">We recommend that you use Azure Managed Disks for new VMs, and that you convert your previous unmanaged disks toomanaged disks, tootake advantage of hello many features available in Managed Disks.</span></span>

### <a name="disk-comparison"></a><span data-ttu-id="e9a9e-146">Diskjämförelse</span><span class="sxs-lookup"><span data-stu-id="e9a9e-146">Disk comparison</span></span>

<span data-ttu-id="e9a9e-147">hello följande tabell innehåller en jämförelse av Premium vs Standard för både ohanterade och hanterade diskar toohelp du bestämma vilka toouse.</span><span class="sxs-lookup"><span data-stu-id="e9a9e-147">hello following table provides a comparison of Premium vs Standard for both unmanaged and managed disks toohelp you decide what toouse.</span></span>

|    | <span data-ttu-id="e9a9e-148">Azure Premium-disk</span><span class="sxs-lookup"><span data-stu-id="e9a9e-148">Azure Premium Disk</span></span> | <span data-ttu-id="e9a9e-149">Azure Standard-disk</span><span class="sxs-lookup"><span data-stu-id="e9a9e-149">Azure Standard Disk</span></span> |
|--- | ------------------ | ------------------- |
| <span data-ttu-id="e9a9e-150">Disktyp</span><span class="sxs-lookup"><span data-stu-id="e9a9e-150">Disk Type</span></span> | <span data-ttu-id="e9a9e-151">Solid State-hårddiskar (SSD)</span><span class="sxs-lookup"><span data-stu-id="e9a9e-151">Solid State Drives (SSD)</span></span> | <span data-ttu-id="e9a9e-152">Hårddiskar (HDD)</span><span class="sxs-lookup"><span data-stu-id="e9a9e-152">Hard Disk Drives (HDD)</span></span>  |
| <span data-ttu-id="e9a9e-153">Översikt</span><span class="sxs-lookup"><span data-stu-id="e9a9e-153">Overview</span></span>  | <span data-ttu-id="e9a9e-154">SSD-baserad högpresterande disksupport med låg fördröjning för virtuella datorer som kör I/O-intensiva arbetsbelastningar eller är värd för verksamhetskritisk produktionsmiljö</span><span class="sxs-lookup"><span data-stu-id="e9a9e-154">SSD-based high-performance, low-latency disk support for VMs running IO-intensive workloads or hosting mission critical production environment</span></span> | <span data-ttu-id="e9a9e-155">HDD-baserad kostnadseffektiv disksupport för Dev/Test-VM-scenarier</span><span class="sxs-lookup"><span data-stu-id="e9a9e-155">HDD-based cost effective disk support for Dev/Test VM scenarios</span></span> |
| <span data-ttu-id="e9a9e-156">Scenario</span><span class="sxs-lookup"><span data-stu-id="e9a9e-156">Scenario</span></span>  | <span data-ttu-id="e9a9e-157">Produktion och prestandakänsliga arbetsbelastningar</span><span class="sxs-lookup"><span data-stu-id="e9a9e-157">Production and performance sensitive workloads</span></span> | <span data-ttu-id="e9a9e-158">Dev/Test, icke-kritiska,</span><span class="sxs-lookup"><span data-stu-id="e9a9e-158">Dev/Test, non-critical,</span></span> <br><span data-ttu-id="e9a9e-159">Lågfrekvent åtkomst</span><span class="sxs-lookup"><span data-stu-id="e9a9e-159">Infrequent access</span></span> |
| <span data-ttu-id="e9a9e-160">Diskstorlek</span><span class="sxs-lookup"><span data-stu-id="e9a9e-160">Disk Size</span></span> | <span data-ttu-id="e9a9e-161">P4: 32 GB (endast för hanterade diskar)</span><span class="sxs-lookup"><span data-stu-id="e9a9e-161">P4: 32 GB (Managed Disks only)</span></span><br><span data-ttu-id="e9a9e-162">P6: 64 GB (endast för hanterade diskar)</span><span class="sxs-lookup"><span data-stu-id="e9a9e-162">P6: 64 GB (Managed Disks only)</span></span><br><span data-ttu-id="e9a9e-163">P10: 128 GB</span><span class="sxs-lookup"><span data-stu-id="e9a9e-163">P10: 128 GB</span></span><br><span data-ttu-id="e9a9e-164">P20: 512 GB</span><span class="sxs-lookup"><span data-stu-id="e9a9e-164">P20: 512 GB</span></span><br><span data-ttu-id="e9a9e-165">P30: 1024 GB</span><span class="sxs-lookup"><span data-stu-id="e9a9e-165">P30: 1024 GB</span></span><br><span data-ttu-id="e9a9e-166">P40: 2 048 GB</span><span class="sxs-lookup"><span data-stu-id="e9a9e-166">P40: 2048 GB</span></span><br><span data-ttu-id="e9a9e-167">P 50: 4095 GB</span><span class="sxs-lookup"><span data-stu-id="e9a9e-167">P50: 4095 GB</span></span> | <span data-ttu-id="e9a9e-168">Ohanterad diskar: 1 GB – 4 TB (4095 GB)</span><span class="sxs-lookup"><span data-stu-id="e9a9e-168">Unmanaged Disks: 1 GB – 4 TB (4095 GB)</span></span> <br><br><span data-ttu-id="e9a9e-169">Hanterade diskar:</span><span class="sxs-lookup"><span data-stu-id="e9a9e-169">Managed Disks:</span></span><br> <span data-ttu-id="e9a9e-170">S4: 32 GB</span><span class="sxs-lookup"><span data-stu-id="e9a9e-170">S4: 32 GB</span></span> <br><span data-ttu-id="e9a9e-171">S6: 64 GB</span><span class="sxs-lookup"><span data-stu-id="e9a9e-171">S6: 64 GB</span></span> <br><span data-ttu-id="e9a9e-172">S10: 128 GB</span><span class="sxs-lookup"><span data-stu-id="e9a9e-172">S10: 128 GB</span></span> <br><span data-ttu-id="e9a9e-173">S20: 512 GB</span><span class="sxs-lookup"><span data-stu-id="e9a9e-173">S20: 512 GB</span></span> <br><span data-ttu-id="e9a9e-174">S30: 1024 GB</span><span class="sxs-lookup"><span data-stu-id="e9a9e-174">S30: 1024 GB</span></span> <br><span data-ttu-id="e9a9e-175">S40: 2 048 GB</span><span class="sxs-lookup"><span data-stu-id="e9a9e-175">S40: 2048 GB</span></span><br><span data-ttu-id="e9a9e-176">S50: 4095 GB</span><span class="sxs-lookup"><span data-stu-id="e9a9e-176">S50: 4095 GB</span></span>| 
| <span data-ttu-id="e9a9e-177">Maxdataflöde per disk</span><span class="sxs-lookup"><span data-stu-id="e9a9e-177">Max Throughput per Disk</span></span> | <span data-ttu-id="e9a9e-178">250 MB/s</span><span class="sxs-lookup"><span data-stu-id="e9a9e-178">250 MB/s</span></span> | <span data-ttu-id="e9a9e-179">60 MB/s</span><span class="sxs-lookup"><span data-stu-id="e9a9e-179">60 MB/s</span></span> | 
| <span data-ttu-id="e9a9e-180">Max-IOPS per disk</span><span class="sxs-lookup"><span data-stu-id="e9a9e-180">Max IOPS per Disk</span></span> | <span data-ttu-id="e9a9e-181">7500 IOPS</span><span class="sxs-lookup"><span data-stu-id="e9a9e-181">7500 IOPS</span></span> | <span data-ttu-id="e9a9e-182">500 IOPS</span><span class="sxs-lookup"><span data-stu-id="e9a9e-182">500 IOPS</span></span> | 

