# <a name="internet-of-things-security-architecture"></a><span data-ttu-id="a7432-101">Sakernas Internet-säkerhetsarkitekturen</span><span class="sxs-lookup"><span data-stu-id="a7432-101">Internet of Things security architecture</span></span>
<span data-ttu-id="a7432-102">När du designar ett system, är viktiga toounderstand hello potentiella hot toothat system och Lägg till lämpliga försvar därför hello system är utformad och konstruerad.</span><span class="sxs-lookup"><span data-stu-id="a7432-102">When designing a system, it is important toounderstand hello potential threats toothat system, and add appropriate defenses accordingly, as hello system is designed and architected.</span></span> <span data-ttu-id="a7432-103">Det är särskilt viktigt toodesign hello produkten från hello start med säkerhet i åtanke eftersom förstå hur en angripare kan vara kan toocompromise ett system som hjälper dig att se till att lämpliga åtgärder är på plats från hello början.</span><span class="sxs-lookup"><span data-stu-id="a7432-103">It is particularly important toodesign hello product from hello start with security in mind because understanding how an attacker might be able toocompromise a system helps make sure appropriate mitigations are in place from hello beginning.</span></span> 

## <a name="security-starts-with-a-threat-model"></a><span data-ttu-id="a7432-104">Säkerhet som börjar med en hotmodell</span><span class="sxs-lookup"><span data-stu-id="a7432-104">Security starts with a threat model</span></span>
<span data-ttu-id="a7432-105">Microsoft har länge använt hot modeller för sina produkter och gjort hello företagets hot modellera processen offentligt tillgängliga.</span><span class="sxs-lookup"><span data-stu-id="a7432-105">Microsoft has long used threat models for its products and has made hello company’s threat modeling process publically available.</span></span> <span data-ttu-id="a7432-106">hello företagets erfarenhet visar att hello modellering har oväntat fördelar utöver hello omedelbar förståelse för vilka hot är hello de flesta om.</span><span class="sxs-lookup"><span data-stu-id="a7432-106">hello company experience demonstrates that hello modelling has unexpected benefits beyond hello immediate understanding of what threats are hello most concerning.</span></span> <span data-ttu-id="a7432-107">Till exempel skapar det också en väg för en öppen diskussion med andra utanför hello Utvecklingsteamet, vilket kan leda toonew idéer och förbättringar i hello produkten.</span><span class="sxs-lookup"><span data-stu-id="a7432-107">For example, it also creates an avenue for an open discussion with others outside hello development team, which can lead toonew ideas and improvements in hello product.</span></span>

<span data-ttu-id="a7432-108">Hej syftar hotmodellering toounderstand hur en angripare kan vara kan toocompromise ett system och kontrollera sedan lämpliga åtgärder på plats.</span><span class="sxs-lookup"><span data-stu-id="a7432-108">hello objective of threat modeling is toounderstand how an attacker might be able toocompromise a system and then make sure appropriate mitigations are in place.</span></span> <span data-ttu-id="a7432-109">Hotmodellering tvingar hello design team tooconsider åtgärder som hello är utformat snarare än när ett system har distribuerats.</span><span class="sxs-lookup"><span data-stu-id="a7432-109">Threat modeling forces hello design team tooconsider mitigations as hello system is designed rather than after a system is deployed.</span></span> <span data-ttu-id="a7432-110">Detta är ytterst viktigt eftersom onlineåterställningspunkter säkerhet försvar tooa myriad av enheter i hello fältet är omöjligt, tillförlitligt och lämnar kunder i fara.</span><span class="sxs-lookup"><span data-stu-id="a7432-110">This fact is critically important, because retrofitting security defenses tooa myriad of devices in hello field is infeasible, error prone and will leave customers at risk.</span></span>

<span data-ttu-id="a7432-111">Många utvecklingsgrupper göra en utmärkt jobb som avbildar hello funktionella krav för hello system som har nytta av kunder.</span><span class="sxs-lookup"><span data-stu-id="a7432-111">Many development teams do an excellent job capturing hello functional requirements for hello system that benefit customers.</span></span> <span data-ttu-id="a7432-112">Identifiera icke-uppenbara sätt att någon kan missbrukas hello system är dock mer utmanande.</span><span class="sxs-lookup"><span data-stu-id="a7432-112">However, identifying non-obvious ways that someone might misuse hello system is more challenging.</span></span> <span data-ttu-id="a7432-113">Hotmodellering hjälper dig att förstå vad en angripare kan göra utvecklingsgrupper och varför.</span><span class="sxs-lookup"><span data-stu-id="a7432-113">Threat modeling can help development teams understand what an attacker might do and why.</span></span> <span data-ttu-id="a7432-114">Hotmodellering är en strukturerad process som skapar en diskussion om hello säkerhet designbeslut i hello system samt ändringar toohello design som görs hello vägen som påverkar säkerheten.</span><span class="sxs-lookup"><span data-stu-id="a7432-114">Threat modeling is a structured process that creates a discussion about hello security design decisions in hello system, as well as changes toohello design that are made along hello way that impact security.</span></span> <span data-ttu-id="a7432-115">En hotmodell är bara ett dokument, representerar den här dokumentationen också en bästa sättet att tooensure kontinuitet i knowledge kvarhållning av erfarenheter lärt dig och hjälpa nytt team komma igång snabbt.</span><span class="sxs-lookup"><span data-stu-id="a7432-115">While a threat model is simply a document, this documentation also represents an ideal way tooensure continuity of knowledge, retention of lessons learned, and help new team onboard rapidly.</span></span> <span data-ttu-id="a7432-116">Slutligen är ett resultat av hotmodellering tooenable du tooconsider andra aspekter av säkerhet, till exempel vilka säkerhetsåtaganden gärna tooprovide tooyour kunder.</span><span class="sxs-lookup"><span data-stu-id="a7432-116">Finally, an outcome of threat modeling is tooenable you tooconsider other aspects of security, such as what security commitments you wish tooprovide tooyour customers.</span></span> <span data-ttu-id="a7432-117">Dessa åtaganden tillsammans med hotmodellering informera och enheten testning av din lösning för Sakernas Internet (IoT).</span><span class="sxs-lookup"><span data-stu-id="a7432-117">These commitments in conjunction with threat modeling will inform and drive testing of your Internet of Things (IoT) solution.</span></span>

### <a name="when-toothreat-model"></a><span data-ttu-id="a7432-118">När toothreat modellen</span><span class="sxs-lookup"><span data-stu-id="a7432-118">When toothreat model</span></span>
<span data-ttu-id="a7432-119">[Hotmodellering](http://www.microsoft.com/security/sdl/adopt/threatmodeling.aspx) erbjudanden hello största värdet om det ingår i hello designfasen.</span><span class="sxs-lookup"><span data-stu-id="a7432-119">[Threat modeling](http://www.microsoft.com/security/sdl/adopt/threatmodeling.aspx) offers hello greatest value if it is incorporated into hello design phase.</span></span> <span data-ttu-id="a7432-120">När du designar har hello störst flexibilitet toomake ändringar tooeliminate hot.</span><span class="sxs-lookup"><span data-stu-id="a7432-120">When you are designing, you have hello greatest flexibility toomake changes tooeliminate threats.</span></span> <span data-ttu-id="a7432-121">Eliminera hot avsiktligt är hello önskat utfall.</span><span class="sxs-lookup"><span data-stu-id="a7432-121">Eliminating threats by design is hello desired outcome.</span></span> <span data-ttu-id="a7432-122">Det är mycket enklare än att lägga till åtgärder, testa dem och att de fortfarande är aktuella och dessutom sådan eliminering är inte alltid möjligt.</span><span class="sxs-lookup"><span data-stu-id="a7432-122">It is much easier than adding mitigations, testing them, and ensuring they remain current and moreover, such elimination is not always possible.</span></span> <span data-ttu-id="a7432-123">Det blir svårare tooeliminate hot som en produkt blir mer mogna och i sin tur slutligen kräver mer arbete och mycket svårare kompromisser än hot modeling tidigt under hello utveckling.</span><span class="sxs-lookup"><span data-stu-id="a7432-123">It becomes harder tooeliminate threats as a product becomes more mature, and in turn will ultimately require more work and a lot harder tradeoffs than threat modeling early on in hello development.</span></span>

### <a name="what-toothreat-model"></a><span data-ttu-id="a7432-124">Vilka toothreat modellen</span><span class="sxs-lookup"><span data-stu-id="a7432-124">What toothreat model</span></span>
<span data-ttu-id="a7432-125">Du bör koppla modellen hello lösning som en helt och även fokus i hello följande områden:</span><span class="sxs-lookup"><span data-stu-id="a7432-125">You should thread model hello solution as a whole and also focus in hello following areas:</span></span>

* <span data-ttu-id="a7432-126">hello funktioner för säkerhet och sekretess</span><span class="sxs-lookup"><span data-stu-id="a7432-126">hello security and privacy features</span></span>
* <span data-ttu-id="a7432-127">hello funktioner vars fel är relevanta säkerhet</span><span class="sxs-lookup"><span data-stu-id="a7432-127">hello features whose failures are security relevant</span></span>
* <span data-ttu-id="a7432-128">hello-funktioner som rör en förtroendegräns</span><span class="sxs-lookup"><span data-stu-id="a7432-128">hello features that touch a trust boundary</span></span> 

### <a name="who-threat-models"></a><span data-ttu-id="a7432-129">Som hot modeller</span><span class="sxs-lookup"><span data-stu-id="a7432-129">Who threat models</span></span>
<span data-ttu-id="a7432-130">Hotmodellering är en process som någon annan.</span><span class="sxs-lookup"><span data-stu-id="a7432-130">Threat modeling is a process like any other.</span></span>  <span data-ttu-id="a7432-131">Det är en bra idé tootreat hello hot modelldokument som alla andra komponenter i hello lösning och verifiera den.</span><span class="sxs-lookup"><span data-stu-id="a7432-131">It is a good idea tootreat hello threat model document like any other component of hello solution and validate it.</span></span> <span data-ttu-id="a7432-132">Många utvecklingsgrupper göra en utmärkt jobb som avbildar hello funktionella krav för hello system som har nytta av kunder.</span><span class="sxs-lookup"><span data-stu-id="a7432-132">Many development teams do an excellent job capturing hello functional requirements for hello system that benefit customers.</span></span> <span data-ttu-id="a7432-133">Identifiera icke-uppenbara sätt att någon kan missbrukas hello system är dock mer utmanande.</span><span class="sxs-lookup"><span data-stu-id="a7432-133">However, identifying non-obvious ways that someone might misuse hello system is more challenging.</span></span> <span data-ttu-id="a7432-134">Hotmodellering hjälper dig att förstå vad en angripare kan göra utvecklingsgrupper och varför.</span><span class="sxs-lookup"><span data-stu-id="a7432-134">Threat modeling can help development teams understand what an attacker might do and why.</span></span>

### <a name="how-toothreat-model"></a><span data-ttu-id="a7432-135">Hur toothreat modellen</span><span class="sxs-lookup"><span data-stu-id="a7432-135">How toothreat model</span></span>
<span data-ttu-id="a7432-136">hello hot modellera processen består av fyra steg; hello stegen är:</span><span class="sxs-lookup"><span data-stu-id="a7432-136">hello threat modeling process is composed of four steps; hello steps are:</span></span>

* <span data-ttu-id="a7432-137">Modellen hello program</span><span class="sxs-lookup"><span data-stu-id="a7432-137">Model hello application</span></span>
* <span data-ttu-id="a7432-138">Räkna upp hot</span><span class="sxs-lookup"><span data-stu-id="a7432-138">Enumerate Threats</span></span>
* <span data-ttu-id="a7432-139">Risken för hot</span><span class="sxs-lookup"><span data-stu-id="a7432-139">Mitigate threats</span></span>
* <span data-ttu-id="a7432-140">Validera hello åtgärder</span><span class="sxs-lookup"><span data-stu-id="a7432-140">Validate hello mitigations</span></span>

#### <a name="hello-process-steps"></a><span data-ttu-id="a7432-141">hello steg</span><span class="sxs-lookup"><span data-stu-id="a7432-141">hello process steps</span></span>
<span data-ttu-id="a7432-142">Tre tumregel tookeep i åtanke när du skapar en hotmodell:</span><span class="sxs-lookup"><span data-stu-id="a7432-142">Three rules of thumb tookeep in mind when building a threat model:</span></span>

1. <span data-ttu-id="a7432-143">Skapa ett diagram utanför Referensarkitektur.</span><span class="sxs-lookup"><span data-stu-id="a7432-143">Create a diagram out of reference architecture.</span></span> 
2. <span data-ttu-id="a7432-144">Starta första bredd.</span><span class="sxs-lookup"><span data-stu-id="a7432-144">Start breadth-first.</span></span> <span data-ttu-id="a7432-145">Få en översikt och förstå hello system som helhet innan du dyker djup.</span><span class="sxs-lookup"><span data-stu-id="a7432-145">Get an overview, and understand hello system as a whole, before deep-diving.</span></span>  <span data-ttu-id="a7432-146">Detta säkerställer att placerar du djupdykning i hello rätt.</span><span class="sxs-lookup"><span data-stu-id="a7432-146">This helps ensure that you deep-dive in hello right places.</span></span>
3. <span data-ttu-id="a7432-147">Enheten hello process, låt inte hello processen enhet du.</span><span class="sxs-lookup"><span data-stu-id="a7432-147">Drive hello process, don’t let hello process drive you.</span></span> <span data-ttu-id="a7432-148">Om du hittar ett problem i hello modeling fasen och vill tooexplore det gå för den!</span><span class="sxs-lookup"><span data-stu-id="a7432-148">If you find an issue in hello modeling phase and want tooexplore it, go for it!</span></span>  <span data-ttu-id="a7432-149">Tycker att du inte behöver toofollow här slavishly.</span><span class="sxs-lookup"><span data-stu-id="a7432-149">Don’t feel you need toofollow these steps slavishly.</span></span>  

#### <a name="threats"></a><span data-ttu-id="a7432-150">Hot</span><span class="sxs-lookup"><span data-stu-id="a7432-150">Threats</span></span>
<span data-ttu-id="a7432-151">hello fyra kärnor element i en hotmodell är:</span><span class="sxs-lookup"><span data-stu-id="a7432-151">hello four core elements of a threat model are:</span></span>

* <span data-ttu-id="a7432-152">Processer (web services, Win32-tjänster, * nix Daemon osv. Observera att vissa avancerade entiteter (till exempel fältet gateways och sensorer) kan representeras som en processen när en teknisk detaljnivån i dessa områden inte är möjlig.</span><span class="sxs-lookup"><span data-stu-id="a7432-152">Processes (web services, Win32 services, *nix daemons, etc. Note that some complex entities (for example field gateways and sensors) can be abstracted as a process when a technical drill down in these areas is not possible.</span></span>
* <span data-ttu-id="a7432-153">Datalager (var som helst data lagras, till exempel en konfigurationsfil eller databas)</span><span class="sxs-lookup"><span data-stu-id="a7432-153">Data stores (anywhere data is stored, such as a configuration file or database)</span></span>
* <span data-ttu-id="a7432-154">Dataflöde (där data flyttas mellan olika element i hello program)</span><span class="sxs-lookup"><span data-stu-id="a7432-154">Data flow (where data moves between other elements in hello application)</span></span>
* <span data-ttu-id="a7432-155">Externa enheter (något som interagerar med hello, men är inte under hello kontroll av programmet hello, exempel innehåller användare och satellit feeds)</span><span class="sxs-lookup"><span data-stu-id="a7432-155">External Entities (anything that interacts with hello system, but is not under hello control of hello application, examples include users and satellite feeds)</span></span>

<span data-ttu-id="a7432-156">Alla element i hello Arkitekturdiagram är ämne toovarious hot; Vi använder hello STRIDE mnemonik.</span><span class="sxs-lookup"><span data-stu-id="a7432-156">All elements in hello architectural diagram are subject toovarious threats; we will use hello STRIDE mnemonic.</span></span> <span data-ttu-id="a7432-157">Läs [hot Modeling igen, STRIDE](https://blogs.msdn.microsoft.com/larryosterman/2007/09/04/threat-modeling-again-stride/) tooknow mer om hello STRIDE element.</span><span class="sxs-lookup"><span data-stu-id="a7432-157">Read [Threat Modeling Again, STRIDE](https://blogs.msdn.microsoft.com/larryosterman/2007/09/04/threat-modeling-again-stride/) tooknow more about hello STRIDE elements.</span></span>

<span data-ttu-id="a7432-158">Olika delar av diagram över hello är ämne toocertain STRIDE hot:</span><span class="sxs-lookup"><span data-stu-id="a7432-158">Different elements of hello application diagram are subject toocertain STRIDE threats:</span></span>

* <span data-ttu-id="a7432-159">Processer är ämne tooSTRIDE</span><span class="sxs-lookup"><span data-stu-id="a7432-159">Processes are subject tooSTRIDE</span></span>
* <span data-ttu-id="a7432-160">Dataflöden är ämne tooTID</span><span class="sxs-lookup"><span data-stu-id="a7432-160">Data flows are subject tooTID</span></span>
* <span data-ttu-id="a7432-161">Datalager är ämne tooTID, och ibland R, om hello datalager loggfiler.</span><span class="sxs-lookup"><span data-stu-id="a7432-161">Data stores are subject tooTID, and sometimes R, if hello data stores are log files.</span></span>
* <span data-ttu-id="a7432-162">Externa enheter är ämne tooSRD</span><span class="sxs-lookup"><span data-stu-id="a7432-162">External entities are subject tooSRD</span></span>

## <a name="security-in-iot"></a><span data-ttu-id="a7432-163">Säkerhet i IoT</span><span class="sxs-lookup"><span data-stu-id="a7432-163">Security in IoT</span></span>
<span data-ttu-id="a7432-164">Den anslutna särskilda enheter har ett stort antal potentiella interaktion ytan områden och interaktion mönster, som måste beaktas tooprovide ett ramverk för att skydda digital åtkomst toothose enheter.</span><span class="sxs-lookup"><span data-stu-id="a7432-164">Connected special-purpose devices have a significant number of potential interaction surface areas and interaction patterns, all of which must be considered tooprovide a framework for securing digital access toothose devices.</span></span> <span data-ttu-id="a7432-165">hello termen ”digitala åtkomst” är används här toodistinguish från alla åtgärder som utförs via direkt enhetsinteraktion där åtkomstsäkerhet tillhandahålls via fysiska åtkomstkontroll.</span><span class="sxs-lookup"><span data-stu-id="a7432-165">hello term “digital access” is used here toodistinguish from any operations that are carried out through direct device interaction where access security is provided through physical access control.</span></span> <span data-ttu-id="a7432-166">Till exempel placera hello enhet till en plats med ett lås på hello dörren.</span><span class="sxs-lookup"><span data-stu-id="a7432-166">For example, putting hello device into a room with a lock on hello door.</span></span> <span data-ttu-id="a7432-167">Även om fysisk åtkomst kan nekas med hjälp av programvara och maskinvara, kan vidta åtgärder tooprevent fysisk åtkomst från ledande toosystem störningar.</span><span class="sxs-lookup"><span data-stu-id="a7432-167">While physical access cannot be denied using software and hardware, measures can be taken tooprevent physical access from leading toosystem interference.</span></span> 

<span data-ttu-id="a7432-168">Vi utforska hello interaktion mönster vi ska titta på ”enhetskontroll” och ”enhetsdata” med hello samma nivå av uppmärksamhet.</span><span class="sxs-lookup"><span data-stu-id="a7432-168">As we explore hello interaction patterns, we will look at “device control” and “device data” with hello same level of attention.</span></span> <span data-ttu-id="a7432-169">”Enhetskontroll” kan klassificeras som all information som medföljer tooa enhet av part hello målet att påverka sitt beteende mot dess eller hello tillstånd i sin miljö.</span><span class="sxs-lookup"><span data-stu-id="a7432-169">“Device control” can be classified as any information that is provided tooa device by any party with hello goal of changing or influencing its behavior towards its state or hello state of its environment.</span></span> <span data-ttu-id="a7432-170">”Enhetsdata” kan klassificeras som all information som en enhet genererar tooany motparten om dess tillstånd och hello observerats tillståndet för sin miljö.</span><span class="sxs-lookup"><span data-stu-id="a7432-170">“Device data” can be classified as any information that a device emits tooany other party about its state and hello observed state of its environment.</span></span>

<span data-ttu-id="a7432-171">I ordning toooptimize säkerhetsmetoder rekommenderar vi att en typisk IoT-arkitekturen delas upp i flera komponent-zoner som en del av hello hot modeling övningen.</span><span class="sxs-lookup"><span data-stu-id="a7432-171">In order toooptimize security best practices, it is recommended that a typical IoT architecture be divided into several component/zones as part of hello threat modeling exercise.</span></span> <span data-ttu-id="a7432-172">Dessa zoner beskrivs fullständigt i det här avsnittet och inkluderar:</span><span class="sxs-lookup"><span data-stu-id="a7432-172">These zones are described fully throughout this section and include:</span></span>

* <span data-ttu-id="a7432-173">Enheten</span><span class="sxs-lookup"><span data-stu-id="a7432-173">Device,</span></span>
* <span data-ttu-id="a7432-174">Fältet Gateway</span><span class="sxs-lookup"><span data-stu-id="a7432-174">Field Gateway,</span></span>
* <span data-ttu-id="a7432-175">Molnet gateways, och</span><span class="sxs-lookup"><span data-stu-id="a7432-175">Cloud gateways, and</span></span>
* <span data-ttu-id="a7432-176">Tjänster.</span><span class="sxs-lookup"><span data-stu-id="a7432-176">Services.</span></span>

<span data-ttu-id="a7432-177">Zoner är breda sätt toosegment en lösning. varje zon har ofta krav data och autentisering och auktorisering.</span><span class="sxs-lookup"><span data-stu-id="a7432-177">Zones are broad way toosegment a solution; each zone often has its own data and authentication and authorization requirements.</span></span> <span data-ttu-id="a7432-178">Zoner kan också använda tooisolation skada och begränsa hello effekten av låg förtroende zoner på högre förtroende zoner.</span><span class="sxs-lookup"><span data-stu-id="a7432-178">Zones can also be used tooisolation damage and restrict hello impact of low trust zones on higher trust zones.</span></span>

<span data-ttu-id="a7432-179">Varje zon skiljs åt av en förtroende gräns som anges som hello prickad röd linje i hello diagrammet nedan.</span><span class="sxs-lookup"><span data-stu-id="a7432-179">Each zone is separated by a Trust Boundary, which is noted as hello dotted red line in hello diagram below.</span></span> <span data-ttu-id="a7432-180">Representerar en övergång av data/information från en källa tooanother.</span><span class="sxs-lookup"><span data-stu-id="a7432-180">It represents a transition of data/information from one source tooanother.</span></span> <span data-ttu-id="a7432-181">Under den här övergången kan hello informationen vara ämne tooSpoofing, Tampering, Repudiation, avslöjande av Information, Denial of Service och höjning av privilegier (STRIDE).</span><span class="sxs-lookup"><span data-stu-id="a7432-181">During this transition, hello data/information could be subject tooSpoofing, Tampering, Repudiation, Information Disclosure, Denial of Service and Elevation of Privilege (STRIDE).</span></span>

![IoT-säkerhetszoner](media/iot-security-architecture/iot-security-architecture-fig1.png) 

<span data-ttu-id="a7432-183">hello komponenter som beskrivs i varje gräns är också utsatts tooSTRIDE som aktiverar en fullständig 360 hot modeling vy över hello lösning.</span><span class="sxs-lookup"><span data-stu-id="a7432-183">hello components depicted within each boundary are also subjected tooSTRIDE, enabling a full 360 threat modeling view of hello solution.</span></span> <span data-ttu-id="a7432-184">hello avsnitten nedan utveckla varje hello komponenter och specifika säkerhetsfrågor och lösningar som ska införas.</span><span class="sxs-lookup"><span data-stu-id="a7432-184">hello sections below elaborate on each of hello components and specific security concerns and solutions that should be put into place.</span></span>

<span data-ttu-id="a7432-185">hello avsnitten som följer beskrivs standard komponenter som vanligtvis finns i dessa zoner.</span><span class="sxs-lookup"><span data-stu-id="a7432-185">hello sections that follows will discuss standard components typically found in these zones.</span></span>

### <a name="hello-device-zone"></a><span data-ttu-id="a7432-186">hello enheten zon</span><span class="sxs-lookup"><span data-stu-id="a7432-186">hello Device Zone</span></span>
<span data-ttu-id="a7432-187">Hej Enhetsmiljö är hello omedelbar fysiskt utrymme runt hello enheten där fysisk åtkomst och/eller ”lokala nätverk” peer-to-peer digital komma åt toohello enheten är möjligt.</span><span class="sxs-lookup"><span data-stu-id="a7432-187">hello device environment is hello immediate physical space around hello device where physical access and/or “local network” peer-to-peer digital access toohello device is feasible.</span></span> <span data-ttu-id="a7432-188">”Lokala nätverk” antas toobe ett nätverk som är separat och isolerade från – men potentiellt bryggade för – hello offentliga Internet och innehåller alla kort Håll trådlösa alternativknapp-teknik som möjliggör peer-to-peer-kommunikation av enheter.</span><span class="sxs-lookup"><span data-stu-id="a7432-188">A “local network” is assumed toobe a network that is distinct and insulated from – but potentially bridged too– hello public Internet, and includes any short-range wireless radio technology that permits peer-to-peer communication of devices.</span></span> <span data-ttu-id="a7432-189">Det gör *inte* omfattar alla nätverk virtualiseringsteknik skapar hello illusionen av ett lokalt nätverk och det också omfattar inte offentlig operatör nätverk som kräver någon två enheter toocommunicate i offentliga nätverk utrymme Om de vore tooenter peer-to-peer-kommunikation relationen.</span><span class="sxs-lookup"><span data-stu-id="a7432-189">It does *not* include any network virtualization technology creating hello illusion of such a local network and it does also not include public operator networks that require any two devices toocommunicate across public network space if they were tooenter a peer-to-peer communication relationship.</span></span>

### <a name="hello-field-gateway-zone"></a><span data-ttu-id="a7432-190">hello fältet Gateway zon</span><span class="sxs-lookup"><span data-stu-id="a7432-190">hello Field Gateway Zone</span></span>
<span data-ttu-id="a7432-191">Fältet gateway är en enhet/installation eller vissa generell server-programvara som fungerar som kommunikation aktiveraren och eventuella som ett system för enheten och enheten databearbetning hubb.</span><span class="sxs-lookup"><span data-stu-id="a7432-191">Field gateway is a device/appliance or some general-purpose server computer software that acts as communication enabler and, potentially, as a device control system and device data processing hub.</span></span> <span data-ttu-id="a7432-192">hello fältet gateway zonen innehåller hello fältet själva gatewayen och alla enheter som är anslutna tooit.</span><span class="sxs-lookup"><span data-stu-id="a7432-192">hello field gateway zone includes hello field gateway itself and all devices that are attached tooit.</span></span> <span data-ttu-id="a7432-193">Hello namnet antyder fältet gateways fungerar utanför dedikerade databearbetning verksamhet, är vanligtvis plats bunden finns potentiellt ämne toophysical intrång och begränsad operativa redundans.</span><span class="sxs-lookup"><span data-stu-id="a7432-193">As hello name implies, field gateways act outside dedicated data processing facilities, are usually location bound, are potentially subject toophysical intrusion, and will have limited operational redundancy.</span></span> <span data-ttu-id="a7432-194">Alla toosay som en gateway för fältet är ofta en sak en kan touch och sabotera samtidigt som du vet vad dess funktion är.</span><span class="sxs-lookup"><span data-stu-id="a7432-194">All toosay that a field gateway is commonly a thing one can touch and sabotage while knowing what its function is.</span></span> 

<span data-ttu-id="a7432-195">En gateway för fältet skiljer sig från en router för enbart trafik i att den har en aktiv roll vid hantering av åtkomst som informationsflödet, vilket innebär att det är ett program åtgärdas entiteten och nätverksanslutning eller session terminal.</span><span class="sxs-lookup"><span data-stu-id="a7432-195">A field gateway is different from a mere traffic router in that it has had an active role in managing access and information flow, meaning it is an application addressed entity and network connection or session terminal.</span></span> <span data-ttu-id="a7432-196">En NAT-enhet eller brandvägg däremot inte uppfyller kraven som fältet gateways eftersom de inte är explicit anslutning eller session terminaler, men i stället en väg (eller block) anslutningar eller sessioner görs via dem.</span><span class="sxs-lookup"><span data-stu-id="a7432-196">An NAT device or firewall, in contrast, do not qualify as field gateways since they are not explicit connection or session terminals, but rather a route (or block) connections or sessions made through them.</span></span> <span data-ttu-id="a7432-197">hello fältet gateway har två olika områden i ytan.</span><span class="sxs-lookup"><span data-stu-id="a7432-197">hello field gateway has two distinct surface areas.</span></span> <span data-ttu-id="a7432-198">En står hello-enheter som är anslutna tooit och representerar hello inuti hello zon och hello andra står alla externa parter och är hello kant hello zonen.</span><span class="sxs-lookup"><span data-stu-id="a7432-198">One faces hello devices that are attached tooit and represents hello inside of hello zone, and hello other faces all external parties and is hello edge of hello zone.</span></span>   

### <a name="hello-cloud-gateway-zone"></a><span data-ttu-id="a7432-199">hello molnet gateway zon</span><span class="sxs-lookup"><span data-stu-id="a7432-199">hello cloud gateway zone</span></span>
<span data-ttu-id="a7432-200">Molngatewayen är ett system som möjliggör kommunikation från samt toodevices eller fältet gateways från flera olika platser över offentligt nätverk utrymme, vanligtvis mot en molnbaserad kontroll- och analys systemet, en federation på sådana system.</span><span class="sxs-lookup"><span data-stu-id="a7432-200">Cloud gateway is a system that enables remote communication from and toodevices or field gateways from several different sites across public network space, typically towards a cloud-based control and data analysis system, a federation of such systems.</span></span> <span data-ttu-id="a7432-201">I vissa fall kan underlätta en molngateway omedelbart åtkomst toospecial syfte enheter från terminaler, till exempel surfplattor eller telefoner.</span><span class="sxs-lookup"><span data-stu-id="a7432-201">In some cases, a cloud gateway may immediately facilitate access toospecial-purpose devices from terminals such as tablets or phones.</span></span> <span data-ttu-id="a7432-202">I hello kontext som beskrivs här, ”moln” är endast avsedda toorefer tooa dedikerad databearbetning system som inte är bunden toohello samma plats som hello anslutna enheter eller gateways för fältet.</span><span class="sxs-lookup"><span data-stu-id="a7432-202">In hello context discussed here, “cloud” is meant toorefer tooa dedicated data processing system that is not bound toohello same site as hello attached devices or field gateways.</span></span> <span data-ttu-id="a7432-203">Också förhindra riktade fysisk åtkomst operativa åtgärder i en zon för molnet och är inte nödvändigtvis exponerade tooa ”offentliga moln” infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="a7432-203">Also in a Cloud Zone, operational measures prevent targeted physical access and is not necessarily exposed tooa “public cloud” infrastructure.</span></span>  

<span data-ttu-id="a7432-204">En molngateway kan potentiellt mappas till en överlägget tooinsulate hello molnet nätverksgateway för virtualisering och alla dess anslutna enheter eller gateways för fältet från annan nätverkstrafik.</span><span class="sxs-lookup"><span data-stu-id="a7432-204">A cloud gateway may potentially be mapped into a network virtualization overlay tooinsulate hello cloud gateway and all of its attached devices or field gateways from any other network traffic.</span></span> <span data-ttu-id="a7432-205">hello molnet själva gatewayen är varken ett system för enheten eller en bearbetning eller lagringsutrymmet för enhetsdata; Dessa anläggningar gränssnitt med hello molngateway.</span><span class="sxs-lookup"><span data-stu-id="a7432-205">hello cloud gateway itself is neither a device control system nor a processing or storage facility for device data; those facilities interface with hello cloud gateway.</span></span> <span data-ttu-id="a7432-206">hello molnet gateway zonen innehåller hello molnet själva gatewayen tillsammans med alla fält gatewayer och enheter direkt eller indirekt anslutna tooit.</span><span class="sxs-lookup"><span data-stu-id="a7432-206">hello cloud gateway zone includes hello cloud gateway itself along with all field gateways and devices directly or indirectly attached tooit.</span></span> <span data-ttu-id="a7432-207">hello kant hello zonen är en distinkta ytan där alla externa parter kommunicerar via.</span><span class="sxs-lookup"><span data-stu-id="a7432-207">hello edge of hello zone is a distinct surface area where all external parties communicate through.</span></span>

### <a name="hello-services-zone"></a><span data-ttu-id="a7432-208">hello services zon</span><span class="sxs-lookup"><span data-stu-id="a7432-208">hello services zone</span></span>
<span data-ttu-id="a7432-209">”Tjänst” har definierats för den här kontexten som en programvarukomponent eller modul som samverkar med enheter via en gateway fältet eller molnet för insamling och analys, samt för kommandot och kontroll.</span><span class="sxs-lookup"><span data-stu-id="a7432-209">A “service” is defined for this context as any software component or module that is interfacing with devices through a field- or cloud gateway for data collection and analysis, as well as for command and control.</span></span>  <span data-ttu-id="a7432-210">Tjänster är medlare.</span><span class="sxs-lookup"><span data-stu-id="a7432-210">Services are mediators.</span></span> <span data-ttu-id="a7432-211">De fungerar under sin identitet mot gateways och andra undersystem, lagra och analysera data, självständigt problemet kommandon toodevices baserat på datainsikter eller scheman och visa information och kontroll funktioner tooauthorized slutanvändare.</span><span class="sxs-lookup"><span data-stu-id="a7432-211">They act under their identity towards gateways and other subsystems, store and analyze data, autonomously issue commands toodevices based on data insights or schedules and expose information and control capabilities tooauthorized end-users.</span></span>

### <a name="information-devices-vs-special-purpose-devices"></a><span data-ttu-id="a7432-212">Information enheter jämfört med särskilda enheter</span><span class="sxs-lookup"><span data-stu-id="a7432-212">Information-devices vs. special-purpose devices</span></span>
<span data-ttu-id="a7432-213">Datorer, telefoner och surfplattor är främst interaktiv information enheter.</span><span class="sxs-lookup"><span data-stu-id="a7432-213">PCs, phones, and tablets are primarily interactive information devices.</span></span> <span data-ttu-id="a7432-214">Telefoner och surfplattor är uttryckligen optimerade runt maximera batteri livslängd.</span><span class="sxs-lookup"><span data-stu-id="a7432-214">Phones and tablets are explicitly optimized around maximizing battery lifetime.</span></span> <span data-ttu-id="a7432-215">De helst inaktivera delvis när inte omedelbart interagerar med en person eller när de inte tillhandahåller tjänster som spela musik eller sina ägare för steg tooa viss plats.</span><span class="sxs-lookup"><span data-stu-id="a7432-215">They preferably turn off partially when not immediately interacting with a person, or when not providing services like playing music or guiding their owner tooa particular location.</span></span> <span data-ttu-id="a7432-216">Ur system fungerar enheterna information technology huvudsakligen som proxy för personer.</span><span class="sxs-lookup"><span data-stu-id="a7432-216">From a systems perspective, these information technology devices are mainly acting as proxies towards people.</span></span> <span data-ttu-id="a7432-217">De är ”personer motstånd” föreslå ”personer sensorer” samla in indata och åtgärder.</span><span class="sxs-lookup"><span data-stu-id="a7432-217">They are “people actuators” suggesting actions and “people sensors” collecting input.</span></span> 

<span data-ttu-id="a7432-218">Särskilda enheter, är från enkla temperatur sensorer toocomplex factory produktion rader med tusentals komponenter i dem, olika.</span><span class="sxs-lookup"><span data-stu-id="a7432-218">Special-purpose devices, from simple temperature sensors toocomplex factory production lines with thousands of components inside them, are different.</span></span> <span data-ttu-id="a7432-219">Dessa enheter är mycket mer begränsade i syfte och även om de innehåller vissa användargränssnittet, de är i stort sett begränsade toointerfacing med eller integreras i tillgångar i fysiska hälsningsmeddelande.</span><span class="sxs-lookup"><span data-stu-id="a7432-219">These devices are much more scoped in purpose and even if they provide some user interface, they are largely scoped toointerfacing with or be integrated into assets in hello physical world.</span></span> <span data-ttu-id="a7432-220">De mått och rapportera miljömässiga omständigheter, aktivera ventiler, styra servos, ljud larm, Växla ljus och utföra andra uppgifter.</span><span class="sxs-lookup"><span data-stu-id="a7432-220">They measure and report environmental circumstances, turn valves, control servos, sound alarms, switch lights, and do many other tasks.</span></span> <span data-ttu-id="a7432-221">De hjälper toodo fungerar som en information-enhet är antingen för Allmänt för dyr, för stort eller för sprödbrott.</span><span class="sxs-lookup"><span data-stu-id="a7432-221">They help toodo work for which an information device is either too generic, too expensive, too big, or too brittle.</span></span> <span data-ttu-id="a7432-222">hello konkreta syfte avgör omedelbart sina tekniska designen som korrekt hello tillgänglig monetära budget för produktions- och schemalagda livstid igen.</span><span class="sxs-lookup"><span data-stu-id="a7432-222">hello concrete purpose immediately dictates their technical design as well hello available monetary budget for their production and scheduled lifetime operation.</span></span> <span data-ttu-id="a7432-223">hello kombination av dessa två viktiga faktorer begränsar hello tillgängliga operativa energi budget fysiska storleken och därmed tillgängligt lagringsutrymme beräknings- och säkerhetsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="a7432-223">hello combination of these two key factors constrains hello available operational energy budget, physical footprint, and thus available storage, compute, and security capabilities.</span></span>  

<span data-ttu-id="a7432-224">Om något ”går fel” med automatisk eller fjärråtkomst kan kontrolleras enheter, till exempel obehöriga fysiska fel eller kontrollen logik fel toowillful intrång och hantering.</span><span class="sxs-lookup"><span data-stu-id="a7432-224">If something “goes wrong” with automated or remote controllable devices, for example, physical defects or control logic defects toowillful unauthorized intrusion and manipulation.</span></span> <span data-ttu-id="a7432-225">hello produktion många kan förstöras, byggnader kan looted eller bränt och personer kan vara skadade eller även die.</span><span class="sxs-lookup"><span data-stu-id="a7432-225">hello production lots may be destroyed, buildings may be looted or burned down, and people may be injured or even die.</span></span> <span data-ttu-id="a7432-226">Detta är naturligtvis en helt annan klass skadan än någon ökar ett stulna kreditkort gränsen.</span><span class="sxs-lookup"><span data-stu-id="a7432-226">This is, of course, a whole different class of damage than someone maxing out a stolen credit card's limit.</span></span> <span data-ttu-id="a7432-227">hello Säkerhetsfältet för enheter som sätt att flytta och även för sensordata som slutligen leder till att kommandon som orsakar saker toomove måste vara högre än i e-handel eller banktjänstscenario.</span><span class="sxs-lookup"><span data-stu-id="a7432-227">hello security bar for devices that make things move, and also for sensor data that eventually results in commands that cause things toomove, must be higher than in any e-commerce or banking scenario.</span></span> 

### <a name="device-control-and-device-data-interactions"></a><span data-ttu-id="a7432-228">Kontroll av enhet och enheten data interaktioner</span><span class="sxs-lookup"><span data-stu-id="a7432-228">Device control and device data interactions</span></span>
<span data-ttu-id="a7432-229">Den anslutna särskilda enheter har ett stort antal potentiella interaktion ytan områden och interaktion mönster, som måste beaktas tooprovide ett ramverk för att skydda digital åtkomst toothose enheter.</span><span class="sxs-lookup"><span data-stu-id="a7432-229">Connected special-purpose devices have a significant number of potential interaction surface areas and interaction patterns, all of which must be considered tooprovide a framework for securing digital access toothose devices.</span></span> <span data-ttu-id="a7432-230">hello termen ”digitala åtkomst” är används här toodistinguish från alla åtgärder som utförs via direkt enhetsinteraktion där åtkomstsäkerhet tillhandahålls via fysiska åtkomstkontroll.</span><span class="sxs-lookup"><span data-stu-id="a7432-230">hello term “digital access” is used here toodistinguish from any operations that are carried out through direct device interaction where access security is provided through physical access control.</span></span> <span data-ttu-id="a7432-231">Till exempel placera hello enhet till en plats med ett lås på hello dörren.</span><span class="sxs-lookup"><span data-stu-id="a7432-231">For example, putting hello device into a room with a lock on hello door.</span></span> <span data-ttu-id="a7432-232">Även om fysisk åtkomst kan nekas med hjälp av programvara och maskinvara, kan vidta åtgärder tooprevent fysisk åtkomst från ledande toosystem störningar.</span><span class="sxs-lookup"><span data-stu-id="a7432-232">While physical access cannot be denied using software and hardware, measures can be taken tooprevent physical access from leading toosystem interference.</span></span> 

<span data-ttu-id="a7432-233">Vi utforska hello interaktion mönster vi ska titta på ”enhetskontroll” och ”enhetsdata” med Hej kontrolleras när hotmodellering samma nivå.</span><span class="sxs-lookup"><span data-stu-id="a7432-233">As we explore hello interaction patterns, we will look at “device control” and “device data” with hello same level of attention while threat modeling.</span></span> <span data-ttu-id="a7432-234">”Enhetskontroll” kan klassificeras som all information som medföljer tooa enhet av part hello målet att påverka sitt beteende mot dess eller hello tillstånd i sin miljö.</span><span class="sxs-lookup"><span data-stu-id="a7432-234">“Device control” can be classified as any information that is provided tooa device by any party with hello goal of changing or influencing its behavior towards its state or hello state of its environment.</span></span> <span data-ttu-id="a7432-235">”Enhetsdata” kan klassificeras som all information som en enhet genererar tooany motparten om dess tillstånd och hello observerats tillståndet för sin miljö.</span><span class="sxs-lookup"><span data-stu-id="a7432-235">“Device data” can be classified as any information that a device emits tooany other party about its state and hello observed state of its environment.</span></span> 

## <a name="threat-modeling-hello-azure-iot-reference-architecture"></a><span data-ttu-id="a7432-236">Hot modeling hello Azure IoT-Referensarkitektur</span><span class="sxs-lookup"><span data-stu-id="a7432-236">Threat modeling hello Azure IoT reference architecture</span></span>
<span data-ttu-id="a7432-237">Microsoft använder hello framework ovan toodo hot modellering för Azure IoT.</span><span class="sxs-lookup"><span data-stu-id="a7432-237">Microsoft uses hello framework outlined above toodo threat modelling for Azure IoT.</span></span> <span data-ttu-id="a7432-238">I hello avsnittet nedan använder vi därför hello konkreta exempel på Azure IoT-Referensarkitektur toodemonstrate hur toothink om hot modellering för IoT och hur tooaddress hello hot identifieras.</span><span class="sxs-lookup"><span data-stu-id="a7432-238">In hello section below we therefore use hello concrete example of Azure IoT Reference Architecture toodemonstrate how toothink about threat modelling for IoT and how tooaddress hello threats identified.</span></span> <span data-ttu-id="a7432-239">I vårt fall har identifierat fyra huvudsakliga områden i fokus:</span><span class="sxs-lookup"><span data-stu-id="a7432-239">In our case we identified four main areas of focus:</span></span>

* <span data-ttu-id="a7432-240">Enheter och datakällor</span><span class="sxs-lookup"><span data-stu-id="a7432-240">Devices and Data Sources,</span></span>
* <span data-ttu-id="a7432-241">Datatransport</span><span class="sxs-lookup"><span data-stu-id="a7432-241">Data Transport,</span></span>
* <span data-ttu-id="a7432-242">Enheten och händelsebearbetning, och</span><span class="sxs-lookup"><span data-stu-id="a7432-242">Device and Event Processing, and</span></span>
* <span data-ttu-id="a7432-243">Presentation</span><span class="sxs-lookup"><span data-stu-id="a7432-243">Presentation</span></span>

![Hot modellering för Azure IoT](media/iot-security-architecture/iot-security-architecture-fig2.png) 

<span data-ttu-id="a7432-245">hello diagrammet nedan ger en förenklad vy av Microsofts IoT-arkitekturen med en modell för Flödesdiagram för Data som används av hello hot Modeling verktyget:</span><span class="sxs-lookup"><span data-stu-id="a7432-245">hello diagram below provides a simplified view of Microsoft’s IoT Architecture using a Data Flow Diagram model that is used by hello Microsoft Threat Modeling Tool:</span></span>

![Hot modellering för Azure IoT verktyget MS hot modellering](media/iot-security-architecture/iot-security-architecture-fig3.png)

<span data-ttu-id="a7432-247">Det är viktigt toonote som hello arkitektur skiljer hello enheter och gateway-funktioner.</span><span class="sxs-lookup"><span data-stu-id="a7432-247">It is important toonote that hello architecture separates hello device and gateway capabilities.</span></span> <span data-ttu-id="a7432-248">Detta gör att hello användaren tooleverage gatewayenheter som är säkrare: de är kan kommunicera med hello gateway moln som använder säker protokoll, som vanligtvis kräver större bearbetning omkostnader som en ursprunglig enhet – till exempel en termostat - kunde Ange egen.</span><span class="sxs-lookup"><span data-stu-id="a7432-248">This allows hello user tooleverage gateway devices that are more secure: they are capable of communicating with hello cloud gateway using secure protocols, which typically requires greater processing overhead that a native device  - such as a thermostat - could provide on its own.</span></span> <span data-ttu-id="a7432-249">I hello Azure-tjänster zon antar vi att hello Molngateway som representeras av hello Azure IoT Hub-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="a7432-249">In hello Azure services zone, we assume that hello Cloud Gateway is represented by hello Azure IoT Hub service.</span></span>

### <a name="device-and-data-sourcesdata-transport"></a><span data-ttu-id="a7432-250">Transport-enheten och data källor/data</span><span class="sxs-lookup"><span data-stu-id="a7432-250">Device and data sources/data transport</span></span>
<span data-ttu-id="a7432-251">Det här avsnittet behandlar hello-arkitektur som beskrivs ovan via hello lins hotmodellering och ger en översikt över hur vi adressering vissa hello inbyggd frågor.</span><span class="sxs-lookup"><span data-stu-id="a7432-251">This section explores hello architecture outlined above through hello lens of threat modeling and gives an overview of how we are addressing some of hello inherent concerns.</span></span> <span data-ttu-id="a7432-252">Vi kommer att inriktas på hello grundelementen i en hotmodell:</span><span class="sxs-lookup"><span data-stu-id="a7432-252">We will focus on hello core elements of a threat model:</span></span>

* <span data-ttu-id="a7432-253">Processer (de under våra kontroll och externa objekt)</span><span class="sxs-lookup"><span data-stu-id="a7432-253">Processes (those under our control and external items)</span></span>
* <span data-ttu-id="a7432-254">Kommunikation (kallas även dataflöden)</span><span class="sxs-lookup"><span data-stu-id="a7432-254">Communication (also called data flows)</span></span>
* <span data-ttu-id="a7432-255">Lagring (kallas även för datalager)</span><span class="sxs-lookup"><span data-stu-id="a7432-255">Storage (also called data stores)</span></span>

#### <a name="processes"></a><span data-ttu-id="a7432-256">Processer</span><span class="sxs-lookup"><span data-stu-id="a7432-256">Processes</span></span>
<span data-ttu-id="a7432-257">Var och en av hello kategorier som beskrivs i hello Azure IoT-arkitekturen vi försök toomitigate ett antal olika hot över hello olika faser/informationen finns i: processen, kommunikation och lagring.</span><span class="sxs-lookup"><span data-stu-id="a7432-257">In each of hello categories outlined in hello Azure IoT architecture, we try toomitigate a number of different threats across hello different stages data/information exists in: process, communication, and storage.</span></span> <span data-ttu-id="a7432-258">Nedan ger vi en översikt över hello vanligaste för hello ”process” kategori, följt av en översikt över hur dessa kunde bäst undvikas:</span><span class="sxs-lookup"><span data-stu-id="a7432-258">Below we give an overview of hello most common ones for hello “process” category, followed by an overview of how these could be best mitigated:</span></span> 

<span data-ttu-id="a7432-259">**(S)-förfalskning**: en angripare kan extrahera kryptografiska nyckelmaterial från en enhet, antingen på hello programvara eller maskinvara och komma åt hello system med en annan fysisk eller virtuell enhet under hello identitet hello enheten hello senare nyckelmaterial har tagits från.</span><span class="sxs-lookup"><span data-stu-id="a7432-259">**Spoofing (S)**: An attacker may extract cryptographic key material from a device, either at hello software or hardware level, and subsequently access hello system with a different physical or virtual device under hello identity of hello device hello key material has been taken from.</span></span> <span data-ttu-id="a7432-260">En bra bild är fjärransluten kontroller som kan aktivera valfri TV och som är populära prankster verktyg.</span><span class="sxs-lookup"><span data-stu-id="a7432-260">A good illustration is remote controls that can turn any TV and that are popular prankster tools.</span></span>

<span data-ttu-id="a7432-261">**Denial för tjänsten (D)**: en enhet kan återges inte klarar fungerar eller kommunikation med stör alternativknapp frekvenser eller skärande kablar.</span><span class="sxs-lookup"><span data-stu-id="a7432-261">**Denial of Service (D)**: A device can be rendered incapable of functioning or communicating by interfering with radio frequencies or cutting wires.</span></span> <span data-ttu-id="a7432-262">Till exempel rapporterar övervakning kamera som hade ström eller nätverket anslutningen avsiktligt blockerade inte data, alls.</span><span class="sxs-lookup"><span data-stu-id="a7432-262">For example, a surveillance camera that had its power or network connection intentionally knocked out will not report data, at all.</span></span>

<span data-ttu-id="a7432-263">**Manipulering (T)**: en angripare kan helt eller delvis ersätta hello-program som körs på hello enheten, vilket potentiellt hello ersatt programvara tooleverage hello äkta identitet hello enheten om hello nyckeln material eller hello kryptografiska verksamhet hålla viktiga material var tillgängliga toohello olaglig program.</span><span class="sxs-lookup"><span data-stu-id="a7432-263">**Tampering (T)**: An attacker may partially or wholly replace hello software running on hello device, potentially allowing hello replaced software tooleverage hello genuine identity of hello device if hello key material or hello cryptographic facilities holding key materials were available toohello illicit program.</span></span> <span data-ttu-id="a7432-264">Till exempel att en angripare kan utnyttja extraherade viktiga väsentlig toointercept och utelämna data från hello enhet på hello kommunikation sökväg och Ersätt den med falska data som har verifierats med hello stulen nyckelmaterial.</span><span class="sxs-lookup"><span data-stu-id="a7432-264">For example, an attacker may leverage extracted key material toointercept and suppress data from hello device on hello communication path and replace it with false data that is authenticated with hello stolen key material.</span></span>

<span data-ttu-id="a7432-265">**Avslöjande av information (I)**: om hello enheten kör behandlas för programvara, behandlas programvaran potentiellt kan läcka ut data toounauthorized parter.</span><span class="sxs-lookup"><span data-stu-id="a7432-265">**Information Disclosure (I)**: If hello device is running manipulated software, such manipulated software could potentially leak data toounauthorized parties.</span></span> <span data-ttu-id="a7432-266">En angripare kan utnyttja extraherade viktiga väsentlig tooinject sig själv i sökvägen för hello kommunikation mellan hello enhet och en domänkontrollant eller fältet gateway eller molnet gateway toosiphon av information.</span><span class="sxs-lookup"><span data-stu-id="a7432-266">For example, an attacker may leverage extracted key material tooinject itself into hello communication path between hello device and a controller or field gateway or cloud gateway toosiphon off information.</span></span>

<span data-ttu-id="a7432-267">**Höjning av privilegier (E)**: en enhet som har en specifik funktion kan vara framtvingad toodo någonting annat.</span><span class="sxs-lookup"><span data-stu-id="a7432-267">**Elevation of Privilege (E)**: A device that does specific function can be forced toodo something else.</span></span> <span data-ttu-id="a7432-268">Till exempel en ventilen är programmerade tooopen hälften sätt kan vara att tooopen alla hello sätt.</span><span class="sxs-lookup"><span data-stu-id="a7432-268">For example, a valve that is programmed tooopen half way can be tricked tooopen all hello way.</span></span>

| <span data-ttu-id="a7432-269">**Komponent**</span><span class="sxs-lookup"><span data-stu-id="a7432-269">**Component**</span></span> | <span data-ttu-id="a7432-270">**Hot**</span><span class="sxs-lookup"><span data-stu-id="a7432-270">**Threat**</span></span> | <span data-ttu-id="a7432-271">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="a7432-271">**Mitigation**</span></span> | <span data-ttu-id="a7432-272">**Risk**</span><span class="sxs-lookup"><span data-stu-id="a7432-272">**Risk**</span></span> | <span data-ttu-id="a7432-273">**Implementering**</span><span class="sxs-lookup"><span data-stu-id="a7432-273">**Implementation**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="a7432-274">Enhet</span><span class="sxs-lookup"><span data-stu-id="a7432-274">Device</span></span> |<span data-ttu-id="a7432-275">S</span><span class="sxs-lookup"><span data-stu-id="a7432-275">S</span></span> |<span data-ttu-id="a7432-276">Tilldela identitet toohello enhet och autentisera hello-enhet</span><span class="sxs-lookup"><span data-stu-id="a7432-276">Assigning identity toohello device and authenticating hello device</span></span> |<span data-ttu-id="a7432-277">Ersätt enhet eller en del av hello-enhet med en annan enhet.</span><span class="sxs-lookup"><span data-stu-id="a7432-277">Replacing device or part of hello device with some other device.</span></span> <span data-ttu-id="a7432-278">Hur vet vi pratar vi toohello rätt enhet?</span><span class="sxs-lookup"><span data-stu-id="a7432-278">How do we know we are talking toohello right device?</span></span> |<span data-ttu-id="a7432-279">Autentiserande hello enheten med Transport Layer Security (TLS) eller IPSec.</span><span class="sxs-lookup"><span data-stu-id="a7432-279">Authenticating hello device, using Transport Layer Security (TLS) or IPSec.</span></span> <span data-ttu-id="a7432-280">Infrastrukturen ska ha stöd för med i förväg delad nyckel (PSK) på de enheter som inte kan hantera fullständig asymmetrisk kryptering.</span><span class="sxs-lookup"><span data-stu-id="a7432-280">Infrastructure should support using pre-shared key (PSK) on those devices that cannot handle full asymmetric cryptography.</span></span> <span data-ttu-id="a7432-281">Använda Azure AD [OAuth](http://www.rfc-editor.org/in-notes/internet-drafts/draft-ietf-ace-oauth-authz-01.txt)</span><span class="sxs-lookup"><span data-stu-id="a7432-281">Leverage Azure AD, [OAuth](http://www.rfc-editor.org/in-notes/internet-drafts/draft-ietf-ace-oauth-authz-01.txt)</span></span> |
| <span data-ttu-id="a7432-282">TRID</span><span class="sxs-lookup"><span data-stu-id="a7432-282">TRID</span></span> |<span data-ttu-id="a7432-283">Till exempel gäller tamperproof mekanismer toohello enhet genom att göra det mycket svårt tooimpossible tooextract nycklar och andra kryptografiska material från hello enhet.</span><span class="sxs-lookup"><span data-stu-id="a7432-283">Apply tamperproof mechanisms toohello device for example by making it very hard tooimpossible tooextract keys and other cryptographic material from hello device.</span></span> |<span data-ttu-id="a7432-284">hello risken är om någon är manipulation hello enhet (fysiska störningar).</span><span class="sxs-lookup"><span data-stu-id="a7432-284">hello risk is if someone is tampering hello device (physical interference).</span></span> <span data-ttu-id="a7432-285">Hur ska vi visst kan enheten inte har manipulerats.</span><span class="sxs-lookup"><span data-stu-id="a7432-285">How are we sure, that device has not tampered with.</span></span> |<span data-ttu-id="a7432-286">hello mest effektiva minskning är en betrodd platform module (TPM) funktion som gör att lagra nycklar på särskilda-chip kretsar från vilka hello nycklar går inte att läsa, men kan endast användas för kryptografiska åtgärder som använder hello nyckel men lämna aldrig ut hello nyckel .</span><span class="sxs-lookup"><span data-stu-id="a7432-286">hello most effective mitigation is a trusted platform module (TPM) capability that allows storing keys in special on-chip circuitry from which hello keys cannot be read, but can only be used for cryptographic operations that use hello key but never disclose hello key.</span></span> <span data-ttu-id="a7432-287">Minne kryptering av hello enhet.</span><span class="sxs-lookup"><span data-stu-id="a7432-287">Memory encryption of hello device.</span></span> <span data-ttu-id="a7432-288">Nyckelhantering för hello enhet.</span><span class="sxs-lookup"><span data-stu-id="a7432-288">Key management for hello device.</span></span> <span data-ttu-id="a7432-289">Signering hello kod.</span><span class="sxs-lookup"><span data-stu-id="a7432-289">Signing hello code.</span></span> | |
| <span data-ttu-id="a7432-290">E</span><span class="sxs-lookup"><span data-stu-id="a7432-290">E</span></span> |<span data-ttu-id="a7432-291">Med åtkomstkontroll av hello enhet.</span><span class="sxs-lookup"><span data-stu-id="a7432-291">Having access control of hello device.</span></span> <span data-ttu-id="a7432-292">Auktoriseringsschema.</span><span class="sxs-lookup"><span data-stu-id="a7432-292">Authorization scheme.</span></span> |<span data-ttu-id="a7432-293">Om hello-enheten tillåter för enskilda åtgärder toobe utförs baserat på kommandon från en extern källa eller även komprometteras sensorer, kommer du att kunna hello attack tooperform operations annars inte tillgänglig.</span><span class="sxs-lookup"><span data-stu-id="a7432-293">If hello device allows for individual actions toobe performed based on commands from an outside source, or even compromised sensors, it will allow hello attack tooperform operations not otherwise accessible.</span></span> |<span data-ttu-id="a7432-294">Med auktorisering schemat för hello-enhet</span><span class="sxs-lookup"><span data-stu-id="a7432-294">Having authorization scheme for hello device</span></span> | |
| <span data-ttu-id="a7432-295">Fältet Gateway</span><span class="sxs-lookup"><span data-stu-id="a7432-295">Field Gateway</span></span> |<span data-ttu-id="a7432-296">S</span><span class="sxs-lookup"><span data-stu-id="a7432-296">S</span></span> |<span data-ttu-id="a7432-297">Autentisera hello fältet gateway tooCloud Gateway (certifikatbaserad, PSK, anspråk baserat,...)</span><span class="sxs-lookup"><span data-stu-id="a7432-297">Authenticating hello Field gateway tooCloud Gateway (cert based, PSK, Claim based,..)</span></span> |<span data-ttu-id="a7432-298">Om någon kan imitera fältet Gateway att den sig själv som en enhet.</span><span class="sxs-lookup"><span data-stu-id="a7432-298">If someone can spoof Field Gateway, then it can present itself as any device.</span></span> |<span data-ttu-id="a7432-299">TLS RSA/PSK, IPSec, [RFC 4279](https://tools.ietf.org/html/rfc4279).</span><span class="sxs-lookup"><span data-stu-id="a7432-299">TLS RSA/PSK, IPSec, [RFC 4279](https://tools.ietf.org/html/rfc4279).</span></span> <span data-ttu-id="a7432-300">Alla hello samma nyckellagring och gäller för attestering av enheter i allmänhet – bästa möjliga är att använda TPM.</span><span class="sxs-lookup"><span data-stu-id="a7432-300">All hello same key storage and attestation concerns of devices in general – best case is use TPM.</span></span> <span data-ttu-id="a7432-301">6LowPAN tillägget för IPSec-toosupport trådlösa Sensor nätverk (WSN).</span><span class="sxs-lookup"><span data-stu-id="a7432-301">6LowPAN extension for IPSec toosupport Wireless Sensor Networks (WSN).</span></span> |
| <span data-ttu-id="a7432-302">TRID</span><span class="sxs-lookup"><span data-stu-id="a7432-302">TRID</span></span> |<span data-ttu-id="a7432-303">Skydda hello fältet Gateway mot manipulation (TPM)?</span><span class="sxs-lookup"><span data-stu-id="a7432-303">Protect hello Field Gateway against tampering (TPM?)</span></span> |<span data-ttu-id="a7432-304">Bedrägeri som lura hello molngateway tänker pratar toofield kan gateway leda till avslöjande av information och data manipulation</span><span class="sxs-lookup"><span data-stu-id="a7432-304">Spoofing attacks that trick hello cloud gateway thinking it is talking toofield gateway could result in information disclosure and data tampering</span></span> |<span data-ttu-id="a7432-305">Minne-kryptering, TPM'S, autentisering.</span><span class="sxs-lookup"><span data-stu-id="a7432-305">Memory encryption, TPM’s, authentication.</span></span> | |
| <span data-ttu-id="a7432-306">E</span><span class="sxs-lookup"><span data-stu-id="a7432-306">E</span></span> |<span data-ttu-id="a7432-307">Åtkomstkontroll för fältet Gateway</span><span class="sxs-lookup"><span data-stu-id="a7432-307">Access control mechanism for Field Gateway</span></span> | | | |

<span data-ttu-id="a7432-308">Här följer några exempel på hot i den här kategorin:</span><span class="sxs-lookup"><span data-stu-id="a7432-308">Here are some examples of threats in this category:</span></span>

<span data-ttu-id="a7432-309">Förfalskning: Kan en angripare extrahera kryptografiska nyckelmaterial från en enhet, antingen på hello programvara eller maskinvara nivå och därefter åtkomst hello system med en annan fysisk eller virtuell enhet under hello identitet för enheten hello hello nyckelmaterial har hämtas från.</span><span class="sxs-lookup"><span data-stu-id="a7432-309">Spoofing: An attacker may extract cryptographic key material from a device, either at hello software or hardware level, and subsequently access hello system with a different physical or virtual device under hello identity of hello device hello key material has been taken from.</span></span>

<span data-ttu-id="a7432-310">**DOS-attack**: en enhet kan återges inte klarar fungerar eller kommunikation med stör alternativknapp frekvenser eller skärande kablar.</span><span class="sxs-lookup"><span data-stu-id="a7432-310">**Denial of Service**: A device can be rendered incapable of functioning or communicating by interfering with radio frequencies or cutting wires.</span></span> <span data-ttu-id="a7432-311">Till exempel rapporterar övervakning kamera som hade ström eller nätverket anslutningen avsiktligt blockerade inte data, alls.</span><span class="sxs-lookup"><span data-stu-id="a7432-311">For example, a surveillance camera that had its power or network connection intentionally knocked out will not report data, at all.</span></span>

<span data-ttu-id="a7432-312">**Manipulering**: en angripare kan helt eller delvis ersätta hello-program som körs på hello enheten, vilket potentiellt hello ersatt programvara tooleverage hello äkta identitet hello enheten om hello nyckeln material eller hello kryptografiska verksamhet hålla viktiga material var tillgängliga toohello olaglig program.</span><span class="sxs-lookup"><span data-stu-id="a7432-312">**Tampering**: An attacker may partially or wholly replace hello software running on hello device, potentially allowing hello replaced software tooleverage hello genuine identity of hello device if hello key material or hello cryptographic facilities holding key materials were available toohello illicit program.</span></span>

<span data-ttu-id="a7432-313">**Manipulering**: kamera övervakning som visas en synliga spektrumet bild av ett tomt Hall kunde syftar på ett foto av sådana Hall.</span><span class="sxs-lookup"><span data-stu-id="a7432-313">**Tampering**: A surveillance camera that’s showing a visible-spectrum picture of an empty hallway could be aimed at a photograph of such a hallway.</span></span> <span data-ttu-id="a7432-314">En rök eller brand sensor kunde reporting någon hålla en ljusare under den.</span><span class="sxs-lookup"><span data-stu-id="a7432-314">A smoke or fire sensor could be reporting someone holding a lighter under it.</span></span> <span data-ttu-id="a7432-315">I båda fallen hello enheten kan vara tekniskt fullständigt betrodd mot hello system, men den rapporteras behandlas för information.</span><span class="sxs-lookup"><span data-stu-id="a7432-315">In either case, hello device may be technically fully trustworthy towards hello system, but it will report manipulated information.</span></span>

<span data-ttu-id="a7432-316">**Manipulering**: en angripare kan utnyttja extraherade viktiga väsentlig toointercept och ignorera data från hello enhet på hello kommunikation sökväg och Ersätt den med falska data som har verifierats med nyckelmaterial hello blir stulen.</span><span class="sxs-lookup"><span data-stu-id="a7432-316">**Tampering**: An attacker may leverage extracted key material toointercept and suppress data from hello device on hello communication path and replace it with false data that is authenticated with hello stolen key material.</span></span>

<span data-ttu-id="a7432-317">**Manipulering**: en angripare kan helt eller delvis ersätta hello-program som körs på hello enheten, vilket potentiellt hello ersatt programvara tooleverage hello äkta identitet hello enheten om hello nyckeln material eller hello kryptografiska verksamhet hålla viktiga material var tillgängliga toohello olaglig program.</span><span class="sxs-lookup"><span data-stu-id="a7432-317">**Tampering**: An attacker may partially or completely replace hello software running on hello device, potentially allowing hello replaced software tooleverage hello genuine identity of hello device if hello key material or hello cryptographic facilities holding key materials were available toohello illicit program.</span></span>

<span data-ttu-id="a7432-318">**Avslöjande av information**: om hello enheten kör behandlas för programvara, behandlas programvaran potentiellt kan läcka ut data toounauthorized parter.</span><span class="sxs-lookup"><span data-stu-id="a7432-318">**Information Disclosure**: If hello device is running manipulated software, such manipulated software could potentially leak data toounauthorized parties.</span></span>

<span data-ttu-id="a7432-319">**Avslöjande av information**: en angripare kan utnyttja extraherade viktiga väsentlig tooinject sig själv i sökvägen för hello kommunikation mellan hello enhet och en domänkontrollant eller fältet gateway eller molnet gateway toosiphon av information.</span><span class="sxs-lookup"><span data-stu-id="a7432-319">**Information Disclosure**: An attacker may leverage extracted key material tooinject itself into hello communication path between hello device and a controller or field gateway or cloud gateway toosiphon off information.</span></span>

<span data-ttu-id="a7432-320">**DOS-attack**: hello enheten kan vara avstängd eller aktiverat i ett läge där kommunikation är möjlig (vilket är avsiktlig i många industriella datorer).</span><span class="sxs-lookup"><span data-stu-id="a7432-320">**Denial of Service**: hello device can be turned off or turned into a mode where communication is not possible (which is intentional in many industrial machines).</span></span>

<span data-ttu-id="a7432-321">**Manipulering**: hello enhet kan vara omkonfigurerats toooperate i ett tillstånd okänt toohello Kontrollera system (utanför kända kalibreringsparametrar) och därför ger data som kan tolkas</span><span class="sxs-lookup"><span data-stu-id="a7432-321">**Tampering**: hello device can be reconfigured toooperate in a state unknown toohello control system (outside of known calibration parameters) and thus provide data that can be misinterpreted</span></span>

<span data-ttu-id="a7432-322">**Rättighetsökning**: en enhet som har en specifik funktion kan vara framtvingad toodo någonting annat.</span><span class="sxs-lookup"><span data-stu-id="a7432-322">**Elevation of Privilege**: A device that does specific function can be forced toodo something else.</span></span> <span data-ttu-id="a7432-323">Till exempel en ventilen är programmerade tooopen hälften sätt kan vara att tooopen alla hello sätt.</span><span class="sxs-lookup"><span data-stu-id="a7432-323">For example, a valve that is programmed tooopen half way can be tricked tooopen all hello way.</span></span>

<span data-ttu-id="a7432-324">**DOS-attack**: hello enheten kan omvandlas till ett tillstånd där kommunikation är möjlig.</span><span class="sxs-lookup"><span data-stu-id="a7432-324">**Denial of Service**: hello device can be turned into a state where communication is not possible.</span></span>

<span data-ttu-id="a7432-325">**Manipulering**: hello enhet kan vara omkonfigurerats toooperate i ett tillstånd okänt toohello Kontrollera system (utanför kända kalibreringsparametrar) och därför ger data som kan tolkas.</span><span class="sxs-lookup"><span data-stu-id="a7432-325">**Tampering**: hello device can be reconfigured toooperate in a state unknown toohello control system (outside of known calibration parameters) and thus provide data that can be misinterpreted.</span></span>

<span data-ttu-id="a7432-326">**Förfalskning/Tampering/Repudiation**: om inte skyddade (vilket är det sällan hello med konsumenten remote kontroller) en angripare kan manipulera hello tillståndet för en enhet anonymt.</span><span class="sxs-lookup"><span data-stu-id="a7432-326">**Spoofing/Tampering/Repudiation**: If not secured (which is rarely hello case with consumer remote controls) an attacker can manipulate hello state of a device anonymously.</span></span> <span data-ttu-id="a7432-327">En bra bild är fjärransluten kontroller som kan aktivera valfri TV och som är populära prankster verktyg.</span><span class="sxs-lookup"><span data-stu-id="a7432-327">A good illustration is remote controls that can turn any TV and that are popular prankster tools.</span></span>

#### <a name="communication"></a><span data-ttu-id="a7432-328">Kommunikation</span><span class="sxs-lookup"><span data-stu-id="a7432-328">Communication</span></span>
<span data-ttu-id="a7432-329">Hot runt kommunikationssökvägen mellan enheter, enheter och fältet gateways och gateway-enhet och molnet.</span><span class="sxs-lookup"><span data-stu-id="a7432-329">Threats around communication path between devices, devices and field gateways and device and cloud gateway.</span></span> <span data-ttu-id="a7432-330">hello tabellen nedan har vägledning runt öppna sockets hello enheten/VPN:</span><span class="sxs-lookup"><span data-stu-id="a7432-330">hello table below has some guidance around open sockets on hello device/VPN:</span></span>

| <span data-ttu-id="a7432-331">**Komponent**</span><span class="sxs-lookup"><span data-stu-id="a7432-331">**Component**</span></span> | <span data-ttu-id="a7432-332">**Hot**</span><span class="sxs-lookup"><span data-stu-id="a7432-332">**Threat**</span></span> | <span data-ttu-id="a7432-333">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="a7432-333">**Mitigation**</span></span> | <span data-ttu-id="a7432-334">**Risk**</span><span class="sxs-lookup"><span data-stu-id="a7432-334">**Risk**</span></span> | <span data-ttu-id="a7432-335">**Implementering**</span><span class="sxs-lookup"><span data-stu-id="a7432-335">**Implementation**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="a7432-336">Enheten IoT-hubb</span><span class="sxs-lookup"><span data-stu-id="a7432-336">Device IoT Hub</span></span> |<span data-ttu-id="a7432-337">TID</span><span class="sxs-lookup"><span data-stu-id="a7432-337">TID</span></span> |<span data-ttu-id="a7432-338">(D) TLS (PSK/RSA) tooencrypt hello trafik</span><span class="sxs-lookup"><span data-stu-id="a7432-338">(D)TLS (PSK/RSA) tooencrypt hello traffic</span></span> |<span data-ttu-id="a7432-339">Avlyssning eller stör hello kommunikationen mellan hello enheten och hello gateway</span><span class="sxs-lookup"><span data-stu-id="a7432-339">Eavesdropping or interfering hello communication between hello device and hello gateway</span></span> |<span data-ttu-id="a7432-340">Säkerhet på protokollnivå hello.</span><span class="sxs-lookup"><span data-stu-id="a7432-340">Security on hello protocol level.</span></span> <span data-ttu-id="a7432-341">Med anpassade protokoll måste toofigure reda på hur tooprotect dem.</span><span class="sxs-lookup"><span data-stu-id="a7432-341">With custom protocols, we need toofigure out how tooprotect them.</span></span> <span data-ttu-id="a7432-342">I de flesta fall sker hello kommunikation från hello enheten toohello IoT-hubb (enheten inleder hello anslutning).</span><span class="sxs-lookup"><span data-stu-id="a7432-342">In most cases, hello communication takes place from hello device toohello IoT Hub (device initiates hello connection).</span></span> |
| <span data-ttu-id="a7432-343">Enheten enhet</span><span class="sxs-lookup"><span data-stu-id="a7432-343">Device Device</span></span> |<span data-ttu-id="a7432-344">TID</span><span class="sxs-lookup"><span data-stu-id="a7432-344">TID</span></span> |<span data-ttu-id="a7432-345">(D) TLS (PSK/RSA) tooencrypt hello trafik.</span><span class="sxs-lookup"><span data-stu-id="a7432-345">(D)TLS (PSK/RSA) tooencrypt hello traffic.</span></span> |<span data-ttu-id="a7432-346">Läsningen av data som överförs mellan enheter.</span><span class="sxs-lookup"><span data-stu-id="a7432-346">Reading data in transit between devices.</span></span> <span data-ttu-id="a7432-347">Manipulering av hello data.</span><span class="sxs-lookup"><span data-stu-id="a7432-347">Tampering with hello data.</span></span> <span data-ttu-id="a7432-348">Överbelastning hello-enhet med nya anslutningar</span><span class="sxs-lookup"><span data-stu-id="a7432-348">Overloading hello device with new connections</span></span> |<span data-ttu-id="a7432-349">Säkerhet på protokollnivå för hello (MQTT/AMQP/HTTP/CoAP.</span><span class="sxs-lookup"><span data-stu-id="a7432-349">Security on hello protocol level (MQTT/AMQP/HTTP/CoAP.</span></span> <span data-ttu-id="a7432-350">Med anpassade protokoll måste toofigure reda på hur tooprotect dem.</span><span class="sxs-lookup"><span data-stu-id="a7432-350">With custom protocols, we need toofigure out how tooprotect them.</span></span> <span data-ttu-id="a7432-351">Hej för hello DoS hot är toopeer enheter via en moln- eller gateway och har endast act som klienter mot hello nätverk.</span><span class="sxs-lookup"><span data-stu-id="a7432-351">hello mitigation for hello DoS threat is toopeer devices through a cloud or field gateway and have them only act as clients towards hello network.</span></span> <span data-ttu-id="a7432-352">Hej peering kan resultera i en direkt anslutning mellan hello peer-datorer efter att ha varit asynkrona av hello gateway</span><span class="sxs-lookup"><span data-stu-id="a7432-352">hello peering may result in a direct connection between hello peers after having been brokered by hello gateway</span></span> |
| <span data-ttu-id="a7432-353">Extern enhet enhet</span><span class="sxs-lookup"><span data-stu-id="a7432-353">External Entity Device</span></span> |<span data-ttu-id="a7432-354">TID</span><span class="sxs-lookup"><span data-stu-id="a7432-354">TID</span></span> |<span data-ttu-id="a7432-355">Stark länkning av hello extern enhet toohello enhet</span><span class="sxs-lookup"><span data-stu-id="a7432-355">Strong pairing of hello external entity toohello device</span></span> |<span data-ttu-id="a7432-356">Tjuvlyssnande hello toohello anslutning.</span><span class="sxs-lookup"><span data-stu-id="a7432-356">Eavesdropping hello connection toohello device.</span></span> <span data-ttu-id="a7432-357">Störande hello kommunikation med hello-enhet</span><span class="sxs-lookup"><span data-stu-id="a7432-357">Interfering hello communication with hello device</span></span> |<span data-ttu-id="a7432-358">Länkning hello extern enhet toohello enheten NFC/Bluetooth LE på ett säkert sätt.</span><span class="sxs-lookup"><span data-stu-id="a7432-358">Securely pairing hello external entity toohello device NFC/Bluetooth LE.</span></span> <span data-ttu-id="a7432-359">Kontrollera hello operativa panelen av hello enhet (fysiska)</span><span class="sxs-lookup"><span data-stu-id="a7432-359">Controlling hello operational panel of hello device (Physical)</span></span> |
| <span data-ttu-id="a7432-360">Fältet Gateway Cloud Gateway</span><span class="sxs-lookup"><span data-stu-id="a7432-360">Field Gateway Cloud Gateway</span></span> |<span data-ttu-id="a7432-361">TID</span><span class="sxs-lookup"><span data-stu-id="a7432-361">TID</span></span> |<span data-ttu-id="a7432-362">TLS (PSK/RSA) tooencrypt hello trafik.</span><span class="sxs-lookup"><span data-stu-id="a7432-362">TLS (PSK/RSA) tooencrypt hello traffic.</span></span> |<span data-ttu-id="a7432-363">Avlyssning eller stör hello kommunikationen mellan hello enheten och hello gateway</span><span class="sxs-lookup"><span data-stu-id="a7432-363">Eavesdropping or interfering hello communication between hello device and hello gateway</span></span> |<span data-ttu-id="a7432-364">Säkerhet på protokollnivå för hello (MQTT/AMQP/HTTP/CoAP).</span><span class="sxs-lookup"><span data-stu-id="a7432-364">Security on hello protocol level (MQTT/AMQP/HTTP/CoAP).</span></span> <span data-ttu-id="a7432-365">Med anpassade protokoll måste toofigure reda på hur tooprotect dem.</span><span class="sxs-lookup"><span data-stu-id="a7432-365">With custom protocols, we need toofigure out how tooprotect them.</span></span> |
| <span data-ttu-id="a7432-366">Gateway för enhet moln</span><span class="sxs-lookup"><span data-stu-id="a7432-366">Device Cloud Gateway</span></span> |<span data-ttu-id="a7432-367">TID</span><span class="sxs-lookup"><span data-stu-id="a7432-367">TID</span></span> |<span data-ttu-id="a7432-368">TLS (PSK/RSA) tooencrypt hello trafik.</span><span class="sxs-lookup"><span data-stu-id="a7432-368">TLS (PSK/RSA) tooencrypt hello traffic.</span></span> |<span data-ttu-id="a7432-369">Avlyssning eller stör hello kommunikationen mellan hello enheten och hello gateway</span><span class="sxs-lookup"><span data-stu-id="a7432-369">Eavesdropping or interfering hello communication between hello device and hello gateway</span></span> |<span data-ttu-id="a7432-370">Säkerhet på protokollnivå för hello (MQTT/AMQP/HTTP/CoAP).</span><span class="sxs-lookup"><span data-stu-id="a7432-370">Security on hello protocol level (MQTT/AMQP/HTTP/CoAP).</span></span> <span data-ttu-id="a7432-371">Med anpassade protokoll måste toofigure reda på hur tooprotect dem.</span><span class="sxs-lookup"><span data-stu-id="a7432-371">With custom protocols, we need toofigure out how tooprotect them.</span></span> |

<span data-ttu-id="a7432-372">Här följer några exempel på hot i den här kategorin:</span><span class="sxs-lookup"><span data-stu-id="a7432-372">Here are some examples of threats in this category:</span></span>

<span data-ttu-id="a7432-373">**DOS-attack**: begränsad enheter är vanligtvis under DoS hot om de aktivt lyssna efter inkommande anslutningar eller oönskad datagram i ett nätverk, eftersom en angripare inte kan öppna många anslutningar parallellt och tjänsten dem eller tjänst dem mycket långsamt eller hello enhet kan vara översvämmat med oönskad trafik.</span><span class="sxs-lookup"><span data-stu-id="a7432-373">**Denial of Service**: Constrained devices are generally under DoS threat when they actively listen for inbound connections or unsolicited datagrams on a network, because an attacker can open many connections in parallel and not service them or service them very slowly, or hello device can be flooded with unsolicited traffic.</span></span> <span data-ttu-id="a7432-374">I båda fallen renderas hello enheten effektivt oanvändbara hello nätverket.</span><span class="sxs-lookup"><span data-stu-id="a7432-374">In both cases, hello device can effectively be rendered inoperable on hello network.</span></span>

<span data-ttu-id="a7432-375">**Förfalskning, avslöjande av Information**: begränsad enheter och särskilda enheter har ofta en för alla säkerhet verksamhet som lösenord eller PIN-skydd eller de helt förlitar sig på betrodda hello-nätverket, vilket innebär att de kommer att ge åtkomst tooinformation när en enhet är på hello samma nätverk och att nätverket är ofta endast skyddas av en delad nyckel.</span><span class="sxs-lookup"><span data-stu-id="a7432-375">**Spoofing, Information Disclosure**: Constrained devices and special-purpose devices often have one-for-all security facilities like password or PIN protection, or they wholly rely on trusting hello network, meaning they will grant access tooinformation when a device is on hello same network, and that network is often only protected by a shared key.</span></span> <span data-ttu-id="a7432-376">Som innebär att när hello delade hemliga toodevice eller nätverket lämnas, det är möjligt toocontrol hello enhet se data som sänds från hello enhet.</span><span class="sxs-lookup"><span data-stu-id="a7432-376">That means that when hello shared secret toodevice or network is disclosed, it is possible toocontrol hello device or observe data emitted from hello device.</span></span>  

<span data-ttu-id="a7432-377">**Förfalskning**: en angripare kan fånga upp eller delvis åsidosätta hello broadcast och spoof hello avsändaren (man hello mitten)</span><span class="sxs-lookup"><span data-stu-id="a7432-377">**Spoofing**: an attacker may intercept or partially override hello broadcast and spoof hello originator (man in hello middle)</span></span>

<span data-ttu-id="a7432-378">**Manipulering**: en angripare kan fånga upp eller delvis åsidosätta hello sändning och skicka falsk information</span><span class="sxs-lookup"><span data-stu-id="a7432-378">**Tampering**: an attacker may intercept or partially override hello broadcast and send false information</span></span> 

<span data-ttu-id="a7432-379">**Avslöjande av information:** en angripare kan eavesdrop på en sändning och få information utan tillstånd **Denial of Service:** en angripare kan sylt hello-utsändningssignalen och neka information distribution</span><span class="sxs-lookup"><span data-stu-id="a7432-379">**Information Disclosure:** an attacker may eavesdrop on a broadcast and obtain information without authorization **Denial of Service:** an attacker may jam hello broadcast signal and deny information distribution</span></span>

#### <a name="storage"></a><span data-ttu-id="a7432-380">Lagring</span><span class="sxs-lookup"><span data-stu-id="a7432-380">Storage</span></span>
<span data-ttu-id="a7432-381">Varje enhet och fältet gateway har någon form av lagring (tillfälliga för meddelandeköer hello data, operativsystem (OS) bildlagring).</span><span class="sxs-lookup"><span data-stu-id="a7432-381">Every device and field gateway has some form of storage (temporary for queuing hello data, operating system (OS) image storage).</span></span>

| <span data-ttu-id="a7432-382">**Komponent**</span><span class="sxs-lookup"><span data-stu-id="a7432-382">**Component**</span></span> | <span data-ttu-id="a7432-383">**Hot**</span><span class="sxs-lookup"><span data-stu-id="a7432-383">**Threat**</span></span> | <span data-ttu-id="a7432-384">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="a7432-384">**Mitigation**</span></span> | <span data-ttu-id="a7432-385">**Risk**</span><span class="sxs-lookup"><span data-stu-id="a7432-385">**Risk**</span></span> | <span data-ttu-id="a7432-386">**Implementering**</span><span class="sxs-lookup"><span data-stu-id="a7432-386">**Implementation**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="a7432-387">Enhetslagring</span><span class="sxs-lookup"><span data-stu-id="a7432-387">Device storage</span></span> |<span data-ttu-id="a7432-388">TRID</span><span class="sxs-lookup"><span data-stu-id="a7432-388">TRID</span></span> |<span data-ttu-id="a7432-389">Lagringskryptering signering hello loggar</span><span class="sxs-lookup"><span data-stu-id="a7432-389">Storage encryption, signing hello logs</span></span> |<span data-ttu-id="a7432-390">Läsning av data från hello lagring (personligt identifierbar information data), manipulera telemetridata.</span><span class="sxs-lookup"><span data-stu-id="a7432-390">Reading data from hello storage (PII data), tampering with telemetry data.</span></span> <span data-ttu-id="a7432-391">Manipulera i kö eller cachelagrad kommandot kontrolldata.</span><span class="sxs-lookup"><span data-stu-id="a7432-391">Tampering with queued or cached command control data.</span></span> <span data-ttu-id="a7432-392">Manipulera konfiguration eller inbyggd programvara uppdateringspaket kan medan cachelagras eller köade lokalt leda tooOS och/eller system komponenter komprometteras</span><span class="sxs-lookup"><span data-stu-id="a7432-392">Tampering with configuration or firmware update packages while cached or queued locally can lead tooOS and/or system components being compromised</span></span> |<span data-ttu-id="a7432-393">Kryptering, message authentication code (MAC) eller digital signatur.</span><span class="sxs-lookup"><span data-stu-id="a7432-393">Encryption, message authentication code (MAC) or digital signature.</span></span> <span data-ttu-id="a7432-394">Möjligt, starkt åtkomstkontroll via resursåtkomst styra där listor (ACL) eller behörigheter.</span><span class="sxs-lookup"><span data-stu-id="a7432-394">Where possible, strong access control through resource access control lists (ACLs) or permissions.</span></span> |
| <span data-ttu-id="a7432-395">Enhetens OS-bild</span><span class="sxs-lookup"><span data-stu-id="a7432-395">Device OS image</span></span> |<span data-ttu-id="a7432-396">TRID</span><span class="sxs-lookup"><span data-stu-id="a7432-396">TRID</span></span> | |<span data-ttu-id="a7432-397">Manipulera OS / ersätta hello OS-komponenter</span><span class="sxs-lookup"><span data-stu-id="a7432-397">Tampering with OS /replacing hello OS components</span></span> |<span data-ttu-id="a7432-398">OS-partitionen är skrivskyddad, signerade OS-avbildning, kryptering</span><span class="sxs-lookup"><span data-stu-id="a7432-398">Read-only OS partition, signed OS image, Encryption</span></span> |
| <span data-ttu-id="a7432-399">Fältet Gateway-lagring (queuing hello data)</span><span class="sxs-lookup"><span data-stu-id="a7432-399">Field Gateway storage (queuing hello data)</span></span> |<span data-ttu-id="a7432-400">TRID</span><span class="sxs-lookup"><span data-stu-id="a7432-400">TRID</span></span> |<span data-ttu-id="a7432-401">Lagringskryptering signering hello loggar</span><span class="sxs-lookup"><span data-stu-id="a7432-401">Storage encryption, signing hello logs</span></span> |<span data-ttu-id="a7432-402">Läsning av data från hello lagring (personligt identifierbar information data), manipulera telemetridata, manipulera i kö eller cachelagrad kommandot kontrolldata.</span><span class="sxs-lookup"><span data-stu-id="a7432-402">Reading data from hello storage (PII data), tampering with telemetry data, tampering with queued or cached command control data.</span></span> <span data-ttu-id="a7432-403">Manipulera konfiguration eller inbyggd programvara uppdateringspaket (avsedda för enheter eller fältet gateway) kan medan cachelagras eller köade lokalt leda tooOS och/eller system komponenter komprometteras</span><span class="sxs-lookup"><span data-stu-id="a7432-403">Tampering with configuration or firmware update packages (destined for devices or field gateway) while cached or queued locally can lead tooOS and/or system components being compromised</span></span> |<span data-ttu-id="a7432-404">BitLocker</span><span class="sxs-lookup"><span data-stu-id="a7432-404">BitLocker</span></span> |
| <span data-ttu-id="a7432-405">Fältet Gateway OS-avbildningen</span><span class="sxs-lookup"><span data-stu-id="a7432-405">Field Gateway OS image</span></span> |<span data-ttu-id="a7432-406">TRID</span><span class="sxs-lookup"><span data-stu-id="a7432-406">TRID</span></span> | |<span data-ttu-id="a7432-407">Manipulera OS / ersätta hello OS-komponenter</span><span class="sxs-lookup"><span data-stu-id="a7432-407">Tampering with OS /replacing hello OS components</span></span> |<span data-ttu-id="a7432-408">OS-partitionen är skrivskyddad, signerade OS-avbildning, kryptering</span><span class="sxs-lookup"><span data-stu-id="a7432-408">Read-only OS partition, signed OS image, Encryption</span></span> |

### <a name="device-and-event-processingcloud-gateway-zone"></a><span data-ttu-id="a7432-409">Enheten och händelsen bearbetning eller ett moln gateway zon</span><span class="sxs-lookup"><span data-stu-id="a7432-409">Device and event processing/cloud gateway zone</span></span>
<span data-ttu-id="a7432-410">En molngateway är system som aktiverar fjärrkommunikation från och toodevices eller fältet gateways från flera olika platser över offentligt nätverk utrymme, vanligtvis mot en molnbaserad kontroll- och analys systemet, en federation på sådana system.</span><span class="sxs-lookup"><span data-stu-id="a7432-410">A cloud gateway is system that enables remote communication from and toodevices or field gateways from several different sites across public network space, typically towards a cloud-based control and data analysis system, a federation of such systems.</span></span> <span data-ttu-id="a7432-411">I vissa fall kan underlätta en molngateway omedelbart åtkomst toospecial syfte enheter från terminaler, till exempel surfplattor eller telefoner.</span><span class="sxs-lookup"><span data-stu-id="a7432-411">In some cases, a cloud gateway may immediately facilitate access toospecial-purpose devices from terminals such as tablets or phones.</span></span> <span data-ttu-id="a7432-412">I hello kontext som beskrivs är här, ”moln” avsedd toorefer tooa dedikerad databearbetning system som inte är bunden toohello samma plats som hello anslutna enheter eller fältet gateways, och där operativa åtgärder för att förhindra fysisk åtkomst som mål men är inte nödvändigtvis tooa ”offentliga” molninfrastruktur.</span><span class="sxs-lookup"><span data-stu-id="a7432-412">In hello context discussed here, “cloud” is meant toorefer tooa dedicated data processing system that is not bound toohello same site as hello attached devices or field gateways, and where operational measures prevent targeted physical access but is not necessarily tooa “public cloud” infrastructure.</span></span>  <span data-ttu-id="a7432-413">En molngateway kan potentiellt mappas till en överlägget tooinsulate hello molnet nätverksgateway för virtualisering och alla dess anslutna enheter eller gateways för fältet från annan nätverkstrafik.</span><span class="sxs-lookup"><span data-stu-id="a7432-413">A cloud gateway may potentially be mapped into a network virtualization overlay tooinsulate hello cloud gateway and all of its attached devices or field gateways from any other network traffic.</span></span> <span data-ttu-id="a7432-414">hello molnet själva gatewayen är varken ett system för enheten eller en bearbetning eller lagringsutrymmet för enhetsdata; Dessa anläggningar gränssnitt med hello molngateway.</span><span class="sxs-lookup"><span data-stu-id="a7432-414">hello cloud gateway itself is neither a device control system nor a processing or storage facility for device data; those facilities interface with hello cloud gateway.</span></span> <span data-ttu-id="a7432-415">hello molnet gateway zonen innehåller hello molnet själva gatewayen tillsammans med alla fält gatewayer och enheter direkt eller indirekt anslutna tooit.</span><span class="sxs-lookup"><span data-stu-id="a7432-415">hello cloud gateway zone includes hello cloud gateway itself along with all field gateways and devices directly or indirectly attached tooit.</span></span>

<span data-ttu-id="a7432-416">Molngatewayen är främst anpassade inbyggd typ av program som körs som en tjänst med exponerade slutpunkter toowhich fältet gateway och enheter ansluter.</span><span class="sxs-lookup"><span data-stu-id="a7432-416">Cloud gateway is mostly custom built piece of software running as a service with exposed endpoints toowhich field gateway and devices connect.</span></span> <span data-ttu-id="a7432-417">Det måste därför utformas med säkerhet i åtanke.</span><span class="sxs-lookup"><span data-stu-id="a7432-417">As such it must be designed with security in mind.</span></span> <span data-ttu-id="a7432-418">Följ [SDL](http://www.microsoft.com/sdl) processer för att designa och skapa den här tjänsten.</span><span class="sxs-lookup"><span data-stu-id="a7432-418">Please follow [SDL](http://www.microsoft.com/sdl) process for designing and building this service.</span></span> 

#### <a name="services-zone"></a><span data-ttu-id="a7432-419">Zonen för tjänster</span><span class="sxs-lookup"><span data-stu-id="a7432-419">Services zone</span></span>
<span data-ttu-id="a7432-420">Ett system för (eller domänkontrollant) är en programvarulösning som gränssnitt med en enhet eller en gateway för fältet eller gateway moln i hello syftet att styra en eller flera enheter och/eller toocollect och/eller store och/eller analysera data på enheten för presentation eller Syftet med efterföljande kontroll.</span><span class="sxs-lookup"><span data-stu-id="a7432-420">A control system (or controller) is a software solution that interfaces with a device, or a field gateway, or cloud gateway for hello purpose of controlling one or multiple devices and/or toocollect and/or store and/or analyze device data for presentation, or subsequent control purposes.</span></span> <span data-ttu-id="a7432-421">System är hello endast enheter i hello omfånget för den här diskussionen som kan underlätta interaktion med personer omedelbart.</span><span class="sxs-lookup"><span data-stu-id="a7432-421">Control systems are hello only entities in hello scope of this discussion that may immediately facilitate interaction with people.</span></span> <span data-ttu-id="a7432-422">hello undantag är mellanliggande fysisk kontroll på portalen innehåller på enheter som en växel som gör en person tooturn hello enheten ut eller ändra andra egenskaper och där det finns ingen funktionell motsvarande som kan nås digitalt.</span><span class="sxs-lookup"><span data-stu-id="a7432-422">hello exception are intermediate physical control surfaces on devices, like a switch that allows a person tooturn hello device off or change other properties, and for which there is no functional equivalent that can be accessed digitally.</span></span> 

<span data-ttu-id="a7432-423">Mellanliggande fysisk kontroll på portalen innehåller är sådana där alla slags styr logik avgränsar hello funktionen av hello fysiska yta så att motsvarande funktion kan initieras via fjärranslutning eller inkommande står i konflikt med fjärråtkomst indata kan undvika – sådana intermediated kontrollen hämtar är begreppsmässigt bifogade tooa lokala system för att hello använder samma underliggande funktionaliteten som alla andra fjärrstyrning system som hello enheten kan vara anslutna tooin parallellt.</span><span class="sxs-lookup"><span data-stu-id="a7432-423">Intermediate physical control surfaces are those where any sort of governing logic constrains hello function of hello physical control surface such that an equivalent function can be initiated remotely or input conflicts with remote input can be avoided – such intermediated control surfaces are conceptually attached tooa local control system that leverages hello same underlying functionality as any other remote control system that hello device may be attached tooin parallel.</span></span> <span data-ttu-id="a7432-424">Övre hot toohello cloud computing-lösningar kan läsas på [Cloud Security Alliance (CSA)](https://cloudsecurityalliance.org/research/top-threats/) sidan.</span><span class="sxs-lookup"><span data-stu-id="a7432-424">Top threats toohello cloud computing can be read at [Cloud Security Alliance (CSA)](https://cloudsecurityalliance.org/research/top-threats/) page.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="a7432-425">Ytterligare resurser</span><span class="sxs-lookup"><span data-stu-id="a7432-425">Additional resources</span></span>
<span data-ttu-id="a7432-426">Se toohello följande artiklar för ytterligare information:</span><span class="sxs-lookup"><span data-stu-id="a7432-426">Refer toohello following articles for additional information:</span></span>

* [<span data-ttu-id="a7432-427">SDL hot modellering verktyget</span><span class="sxs-lookup"><span data-stu-id="a7432-427">SDL Threat Modeling Tool</span></span>](https://www.microsoft.com/sdl/adopt/threatmodeling.aspx)
* [<span data-ttu-id="a7432-428">Microsoft Azure IoT Referensarkitektur</span><span class="sxs-lookup"><span data-stu-id="a7432-428">Microsoft Azure IoT reference architecture</span></span>](https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/)

