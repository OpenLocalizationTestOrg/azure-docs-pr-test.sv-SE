

<span data-ttu-id="1c123-101">Med hjälp av VM-tillägg kan du göra följande:</span><span class="sxs-lookup"><span data-stu-id="1c123-101">VM extensions can help you:</span></span>

* <span data-ttu-id="1c123-102">Ändra säkerhets- och identitetsfunktioner, till exempel återställa kontovärden och använda program mot skadlig kod</span><span class="sxs-lookup"><span data-stu-id="1c123-102">Modify security and identity features, such as resetting account values and using antimalware</span></span>
* <span data-ttu-id="1c123-103">Starta, stoppa och konfigurera övervakning och diagnostik</span><span class="sxs-lookup"><span data-stu-id="1c123-103">Start, stop, or configure monitoring and diagnostics</span></span>
* <span data-ttu-id="1c123-104">Återställa/installera anslutningsfunktioner, till exempel RDP och SSH</span><span class="sxs-lookup"><span data-stu-id="1c123-104">Reset or install connectivity features, such as RDP and SSH</span></span>
* <span data-ttu-id="1c123-105">Diagnostisera, övervaka och hantera virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="1c123-105">Diagnose, monitor, and manage your VMs</span></span>

<span data-ttu-id="1c123-106">Det finns många andra funktioner också.</span><span class="sxs-lookup"><span data-stu-id="1c123-106">There are many other features as well.</span></span> <span data-ttu-id="1c123-107">Nya funktioner för virtuella datortillägg släpps regelbundet.</span><span class="sxs-lookup"><span data-stu-id="1c123-107">New VM Extension features are released regularly.</span></span> <span data-ttu-id="1c123-108">Den här artikeln beskriver hello Azure VM agenter för Windows- och Linux- och hur de stöder VM-tillägget funktioner.</span><span class="sxs-lookup"><span data-stu-id="1c123-108">This article describes hello Azure VM Agents for Windows and Linux, and how they support VM Extension functionality.</span></span> <span data-ttu-id="1c123-109">En lista över virtuella datortillägg efter funktionskategori finns i [Azure VM-tillägg och -funktioner](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="1c123-109">For a listing of VM Extensions by feature category, see [Azure VM Extensions and Features](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

## <a name="azure-vm-agents-for-windows-and-linux"></a><span data-ttu-id="1c123-110">Azure VM-agenter för Windows- och Linux</span><span class="sxs-lookup"><span data-stu-id="1c123-110">Azure VM Agents for Windows and Linux</span></span>
<span data-ttu-id="1c123-111">hello Azure-agenten för virtuella datorer (VM-Agent) är en säker, inaktiverad process som installerar, konfigurerar och tar bort VM-tillägg på instanser av virtuella datorer i Azure.</span><span class="sxs-lookup"><span data-stu-id="1c123-111">hello Azure Virtual Machines Agent (VM Agent) is a secured, light-weight process that installs, configures, and removes VM extensions on instances of Azure Virtual Machines.</span></span> <span data-ttu-id="1c123-112">hello VM-agenten fungerar som hello säker lokal kontroll tjänst för Azure-VM.</span><span class="sxs-lookup"><span data-stu-id="1c123-112">hello VM Agent acts as hello secure local control service for your Azure VM.</span></span> <span data-ttu-id="1c123-113">hello-tillägg som hello agent belastningar ange specifika funktioner tooincrease produktiviteten använder hello-instans.</span><span class="sxs-lookup"><span data-stu-id="1c123-113">hello extensions that hello agent loads provide specific features tooincrease your productivity using hello instance.</span></span>

<span data-ttu-id="1c123-114">Två Azure VM-agenter finns, en för virtuella datorer i Windows och en för virtuella Linux-datorer.</span><span class="sxs-lookup"><span data-stu-id="1c123-114">Two Azure VM Agents exist, one for Windows VMs and one for Linux VMs.</span></span>

<span data-ttu-id="1c123-115">Om du vill en virtuell dator instans toouse en eller flera VM-tillägg, måste hello instans ha en installerad VM-Agent.</span><span class="sxs-lookup"><span data-stu-id="1c123-115">If you want a virtual machine instance toouse one or more VM extensions, hello instance must have an installed VM Agent.</span></span> <span data-ttu-id="1c123-116">En avbildning av virtuell dator som skapats med hjälp av hello Azure-portalen och en bild från hello **Marketplace** en VM-Agent installeras automatiskt i hello-processen.</span><span class="sxs-lookup"><span data-stu-id="1c123-116">A virtual machine image created by using hello Azure portal and an image from hello **Marketplace** automatically installs a VM Agent in hello creation process.</span></span> <span data-ttu-id="1c123-117">Om en virtuell datorinstans saknar en VM-Agent, kan du installera hello VM-agenten när hello virtuella instans skapas.</span><span class="sxs-lookup"><span data-stu-id="1c123-117">If a virtual machine instance lacks a VM Agent, you can install hello VM Agent after hello virtual machine instance is created.</span></span> <span data-ttu-id="1c123-118">Eller så kan du installera hello-agent på en anpassad VM-avbildning som du sedan överför.</span><span class="sxs-lookup"><span data-stu-id="1c123-118">Or, you can install hello agent in a custom VM image that you then upload.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1c123-119">Dessa VM-agenter är mycket lätta tjänster som möjliggör säker administration av virtuella datorinstanser.</span><span class="sxs-lookup"><span data-stu-id="1c123-119">These VM Agents are very light-weight, services that enable secured administration of virtual machine instances.</span></span> <span data-ttu-id="1c123-120">Det kan finnas fall där du inte vill hello VM-agenten.</span><span class="sxs-lookup"><span data-stu-id="1c123-120">There might be cases in which you do not want hello VM Agent.</span></span> <span data-ttu-id="1c123-121">I så fall vara säker på att toocreate VMs som inte har hello VM-agenten är installerad med hello Azure CLI eller PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1c123-121">If so, be sure toocreate VMs that do not have hello VM Agent installed using hello Azure CLI or PowerShell.</span></span> <span data-ttu-id="1c123-122">Även om hello VM-agenten kan tas bort fysiskt har hello beteendet för VM-tillägg på hello-instansen inte definierats.</span><span class="sxs-lookup"><span data-stu-id="1c123-122">Although hello VM Agent can be removed physically, hello behavior of VM Extensions on hello instance is undefined.</span></span> <span data-ttu-id="1c123-123">Därför finns det inte stöd för att ta bort en installerad VM-agent.</span><span class="sxs-lookup"><span data-stu-id="1c123-123">As a result, removing an installed VM Agent is not supported.</span></span>
>

<span data-ttu-id="1c123-124">hello VM-agenten är aktiverat i hello följande situationer:</span><span class="sxs-lookup"><span data-stu-id="1c123-124">hello VM Agent is enabled in hello following situations:</span></span>

* <span data-ttu-id="1c123-125">När du skapar en instans av en virtuell dator med hjälp av hello Azure-portalen och välja en bild från hello **Marketplace**,</span><span class="sxs-lookup"><span data-stu-id="1c123-125">When you create an instance of a VM by using hello Azure portal and selecting an image from hello **Marketplace**,</span></span>
* <span data-ttu-id="1c123-126">När du skapar en instans av en virtuell dator med hjälp av hello [ny AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) eller hello [ny AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="1c123-126">When you create an instance of a VM by using hello [New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) or hello [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet.</span></span> <span data-ttu-id="1c123-127">Du kan skapa en virtuell dator utan en VM-agenten genom att lägga till hello **– DisableGuestAgent** parametern toohello [Lägg till AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet,</span><span class="sxs-lookup"><span data-stu-id="1c123-127">You can create a VM without a VM Agent by adding hello **–DisableGuestAgent** parameter toohello [Add-AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet,</span></span>

* <span data-ttu-id="1c123-128">När du manuellt ladda ned och installera hello VM-agenten på en befintlig VM-instans och ange hello **ProvisionGuestAgent** värdet för**SANT**.</span><span class="sxs-lookup"><span data-stu-id="1c123-128">When you manually download and install hello VM Agent on an existing VM instance, and set hello **ProvisionGuestAgent** value too**true**.</span></span> <span data-ttu-id="1c123-129">Du kan använda denna teknik för Windows- och Linux-agenter med hjälp av ett PowerShell-kommando eller ett REST-anrop.</span><span class="sxs-lookup"><span data-stu-id="1c123-129">You can use this technique for Windows and Linux agents, by using a PowerShell command or a REST call.</span></span> <span data-ttu-id="1c123-130">(Om du inte anger hello **ProvisionGuestAgent** värdet när du har installerat hello hello tillägg av hello VM-agenten inte identifieras korrekt på VM-agenten manuellt.) hello följande exempel visas hur toodo detta med hjälp av PowerShell där hello `$svc` och `$name` argument har redan visats:</span><span class="sxs-lookup"><span data-stu-id="1c123-130">(If you do not set hello **ProvisionGuestAgent** value after manually installing hello VM Agent, hello addition of hello VM Agent is not detected properly.) hello following code example shows how toodo this using PowerShell where hello `$svc` and `$name` arguments have already been determined:</span></span>

      $vm = Get-AzureVM –ServiceName $svc –Name $name
      $vm.VM.ProvisionGuestAgent = $TRUE
      Update-AzureVM –Name $name –VM $vm.VM –ServiceName $svc

* <span data-ttu-id="1c123-131">När du skapar en VM-avbildning som innehåller en installerad VM-agent.</span><span class="sxs-lookup"><span data-stu-id="1c123-131">When you create a VM image that includes an installed VM Agent.</span></span> <span data-ttu-id="1c123-132">Du kan ladda upp det bild tooAzure när hello avbildningen med hello VM-agenten finns.</span><span class="sxs-lookup"><span data-stu-id="1c123-132">Once hello image with hello VM Agent exists, you can upload that image tooAzure.</span></span> <span data-ttu-id="1c123-133">En virtuell Windows-dator, kan du hämta hello [Windows VM-agenten MSI-filen](http://go.microsoft.com/fwlink/?LinkID=394789) och installera hello VM-agenten.</span><span class="sxs-lookup"><span data-stu-id="1c123-133">For a Windows VM, download hello [Windows VM Agent .msi file](http://go.microsoft.com/fwlink/?LinkID=394789) and install hello VM Agent.</span></span> <span data-ttu-id="1c123-134">För en Linux-VM installera hello VM-agenten från hello GitHub-lagringsplatsen finns på <https://github.com/Azure/WALinuxAgent>.</span><span class="sxs-lookup"><span data-stu-id="1c123-134">For a Linux VM, install hello VM Agent from hello GitHub repository located at <https://github.com/Azure/WALinuxAgent>.</span></span> <span data-ttu-id="1c123-135">Mer information om hur tooinstall hello VM-agenten på Linux finns hello [användarhandboken för Azure Linux VM-agenten](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="1c123-135">For more information on how tooinstall hello VM Agent on Linux, see hello [Azure Linux VM Agent User Guide](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

> [!NOTE]
> <span data-ttu-id="1c123-136">I PaaS, hello VM Agent kallas **WindowsAzureGuestAgent**, och alltid är tillgänglig på webben och Worker-rollen virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="1c123-136">In PaaS, hello VM Agent is called **WindowsAzureGuestAgent**, and is always available on Web and Worker Role VMs.</span></span> <span data-ttu-id="1c123-137">(Mer information finns i [Azure rollen arkitektur](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) hello VM-agenten för rollen virtuella datorer kan nu lägga till tillägg toohello Molntjänsten virtuella datorer i hello samma sätt som för permanenta virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="1c123-137">(For more information, see [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) hello VM Agent for Role VMs can now add extensions toohello cloud service VMs in hello same way that it does for persistent Virtual Machines.</span></span> <span data-ttu-id="1c123-138">hello största skillnaden mellan VM-tillägg för roll för virtuella datorer och permanenta virtuella datorer är om hello VM-tillägg som läggs till.</span><span class="sxs-lookup"><span data-stu-id="1c123-138">hello biggest difference between VM Extensions on role VMs and persistent VMs is when hello VM extensions are added.</span></span> <span data-ttu-id="1c123-139">Med rollen VMs läggs tillägg första toohello molnbaserad tjänst bör sedan toohello distributioner i Molntjänsten.</span><span class="sxs-lookup"><span data-stu-id="1c123-139">With role VMs, extensions are added first toohello cloud service, then toohello deployments within that cloud service.</span></span>
>
> <span data-ttu-id="1c123-140">Använd den [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) cmdlet toolist alla tillgängliga roller VM-tillägg.</span><span class="sxs-lookup"><span data-stu-id="1c123-140">Use the [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) cmdlet toolist all available role VM extensions.</span></span>
>
>

## <a name="find-add-update-and-remove-vm-extensions"></a><span data-ttu-id="1c123-141">Hitta, lägga till, uppdatera och ta bort tillägg för virtuell dator</span><span class="sxs-lookup"><span data-stu-id="1c123-141">Find, Add, Update, and Remove VM Extensions</span></span>
<span data-ttu-id="1c123-142">Mer information om dessa uppgifter finns i [Lägg till, hitta, uppdatera och ta bort Azure VM-tillägg](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="1c123-142">For details on these tasks, see [Add, Find, Update, and Remove Azure VM Extensions](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>
