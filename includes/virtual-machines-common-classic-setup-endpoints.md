
<span data-ttu-id="20f71-101">Varje slutpunkt har en *offentlig port* och en *privat port*:</span><span class="sxs-lookup"><span data-stu-id="20f71-101">Each endpoint has a *public port* and a *private port*:</span></span>

* <span data-ttu-id="20f71-102">hello offentliga porten används av hello Azure load balancer toolisten för inkommande trafik toohello virtuell dator från hello Internet.</span><span class="sxs-lookup"><span data-stu-id="20f71-102">hello public port is used by hello Azure load balancer toolisten for incoming traffic toohello virtual machine from hello Internet.</span></span>
* <span data-ttu-id="20f71-103">hello privat port används av hello virtuella toolisten för inkommande trafik, vanligtvis är avsedda tooan program eller tjänst som körs på hello virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="20f71-103">hello private port is used by hello virtual machine toolisten for incoming traffic, typically destined tooan application or service running on hello virtual machine.</span></span>

<span data-ttu-id="20f71-104">Standardvärden för hello IP-protokollet och TCP eller UDP-portar för välkända nätverksprotokoll tillhandahålls när du skapar slutpunkter med hello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="20f71-104">Default values for hello IP protocol and TCP or UDP ports for well-known network protocols are provided when you create endpoints with hello Azure portal.</span></span> <span data-ttu-id="20f71-105">För anpassade slutpunkter behöver toospecify hello rätt IP-protokoll (TCP och UDP) och hello offentliga och privata portar.</span><span class="sxs-lookup"><span data-stu-id="20f71-105">For custom endpoints, you'll need toospecify hello correct IP protocol (TCP or UDP) and hello public and private ports.</span></span> <span data-ttu-id="20f71-106">toodistribute inkommande trafik slumpmässigt över flera virtuella datorer, måste du ha toocreate en belastningsutjämnad uppsättning som består av flera slutpunkter.</span><span class="sxs-lookup"><span data-stu-id="20f71-106">toodistribute incoming traffic randomly across multiple virtual machines, you'll need toocreate a load-balanced set consisting of multiple endpoints.</span></span>

<span data-ttu-id="20f71-107">När du har skapat en slutpunkt kan du använda en åtkomstkontrollistan (ACL) toodefine regler för åtkomstkontroll som tillåter eller nekar hello inkommande trafik toohello offentlig port för hello slutpunkten baserat på dess IP-adress.</span><span class="sxs-lookup"><span data-stu-id="20f71-107">After you create an endpoint, you can use an access control list (ACL) toodefine rules that permit or deny hello incoming traffic toohello public port of hello endpoint based on its source IP address.</span></span> <span data-ttu-id="20f71-108">Du bör dock använda nätverkssäkerhetsgrupper i stället om hello virtuell dator i Azure-nätverk.</span><span class="sxs-lookup"><span data-stu-id="20f71-108">However, if hello virtual machine is in an Azure virtual network, you should use network security groups instead.</span></span> <span data-ttu-id="20f71-109">Mer information finns i [om nätverkssäkerhetsgrupper](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="20f71-109">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

> [!NOTE]
> <span data-ttu-id="20f71-110">Brandväggskonfigurationen för virtuella Azure-datorer görs automatiskt för portar som är associerade med fjärranslutningar slutpunkter som Azure ställer in automatiskt.</span><span class="sxs-lookup"><span data-stu-id="20f71-110">Firewall configuration for Azure virtual machines is done automatically for ports associated with remote connectivity endpoints that Azure sets up automatically.</span></span> <span data-ttu-id="20f71-111">För portar som angetts för alla slutpunkter, ingen konfiguration görs automatiskt toohello brandvägg hello virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="20f71-111">For ports specified for all other endpoints, no configuration is done automatically toohello firewall of hello virtual machine.</span></span> <span data-ttu-id="20f71-112">När du skapar en slutpunkt för hello virtuell dator, måste du tooensure som hello brandvägg hello virtuell dator kan också hello trafik för hello protokoll och privat port motsvarande toohello slutpunktskonfigurationen.</span><span class="sxs-lookup"><span data-stu-id="20f71-112">When you create an endpoint for hello virtual machine, you'll need tooensure that hello firewall of hello virtual machine also allows hello traffic for hello protocol and private port corresponding toohello endpoint configuration.</span></span> <span data-ttu-id="20f71-113">tooconfigure hello brandväggen, se hello dokumentation eller Onlinehjälp för hello-operativsystem som körs på hello virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="20f71-113">tooconfigure hello firewall, see hello documentation or on-line help for hello operating system running on hello virtual machine.</span></span>
>
>

## <a name="create-an-endpoint"></a><span data-ttu-id="20f71-114">Skapa en slutpunkt</span><span class="sxs-lookup"><span data-stu-id="20f71-114">Create an endpoint</span></span>
1. <span data-ttu-id="20f71-115">Om du inte redan har gjort det loggar du in toohello [Azure-portalen](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="20f71-115">If you haven't already done so, sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="20f71-116">Klicka på **virtuella datorer**, och klicka sedan på hello namnet på hello virtuella dator som du vill tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="20f71-116">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="20f71-117">Klicka på **slutpunkter** i hello **inställningar** grupp.</span><span class="sxs-lookup"><span data-stu-id="20f71-117">Click **Endpoints** in hello **Settings** group.</span></span> <span data-ttu-id="20f71-118">Hej **slutpunkter** sidan listar alla aktuella hello-slutpunkter för hello virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="20f71-118">hello **Endpoints** page lists all hello current endpoints for hello virtual machine.</span></span> <span data-ttu-id="20f71-119">(Det här exemplet är en virtuell Windows-dator.</span><span class="sxs-lookup"><span data-stu-id="20f71-119">(This example is a Windows VM.</span></span> <span data-ttu-id="20f71-120">Linux VM visas som standard en slutpunkt för SSH.)</span><span class="sxs-lookup"><span data-stu-id="20f71-120">A Linux VM will by default show an endpoint for SSH.)</span></span>

   <!-- ![Endpoints](./media/virtual-machines-common-classic-setup-endpoints/endpointswindows.png) -->
   ![Slutpunkter](./media/virtual-machines-common-classic-setup-endpoints/endpointsblade.png)

4. <span data-ttu-id="20f71-122">Klicka på hello kommandofältet ovan hello endpoint poster **Lägg till**.</span><span class="sxs-lookup"><span data-stu-id="20f71-122">In hello command bar above hello endpoint entries, click **Add**.</span></span>
5. <span data-ttu-id="20f71-123">På hello **lägga till slutpunkten** anger du ett namn för hello slutpunkten i **namn**.</span><span class="sxs-lookup"><span data-stu-id="20f71-123">On hello **Add endpoint** page, type a name for hello endpoint in **Name**.</span></span>
6. <span data-ttu-id="20f71-124">I **protokollet**, Välj antingen **TCP** eller **UDP**.</span><span class="sxs-lookup"><span data-stu-id="20f71-124">In **Protocol**, choose either **TCP** or **UDP**.</span></span>
7. <span data-ttu-id="20f71-125">I **offentlig Port**, Skriv portnumret för hello hello inkommande trafik från hello Internet.</span><span class="sxs-lookup"><span data-stu-id="20f71-125">In **Public Port**, type hello port number for hello incoming traffic from hello Internet.</span></span> <span data-ttu-id="20f71-126">I **privat Port**, Skriv portnumret för hello vilka hello virtuella lyssnar.</span><span class="sxs-lookup"><span data-stu-id="20f71-126">In **Private Port**, type hello port number on which hello virtual machine is listening.</span></span> <span data-ttu-id="20f71-127">Dessa portnummer kan vara olika.</span><span class="sxs-lookup"><span data-stu-id="20f71-127">These port numbers can be different.</span></span> <span data-ttu-id="20f71-128">Se till att hello brandväggen på hello virtuella datorn har konfigurerade tooallow hello trafik motsvarande toohello protokoll (i steg 6) och privat port.</span><span class="sxs-lookup"><span data-stu-id="20f71-128">Ensure that hello firewall on hello virtual machine has been configured tooallow hello traffic corresponding toohello protocol (in step 6) and private port.</span></span>
10. <span data-ttu-id="20f71-129">Klicka på **OK**.</span><span class="sxs-lookup"><span data-stu-id="20f71-129">Click **Ok**.</span></span>

<span data-ttu-id="20f71-130">hello ny slutpunkt visas på hello **slutpunkter** sidan.</span><span class="sxs-lookup"><span data-stu-id="20f71-130">hello new endpoint will be listed on hello **Endpoints** page.</span></span>

![Skapa en slutpunkt lyckades](./media/virtual-machines-common-classic-setup-endpoints/endpointcreated.png)

## <a name="manage-hello-acl-on-an-endpoint"></a><span data-ttu-id="20f71-132">Hantera hello ACL på en slutpunkt</span><span class="sxs-lookup"><span data-stu-id="20f71-132">Manage hello ACL on an endpoint</span></span>
<span data-ttu-id="20f71-133">toodefine hello uppsättning datorer som kan skicka trafik, hello ACL på en slutpunkt kan begränsa trafik baserat på källans IP-adress.</span><span class="sxs-lookup"><span data-stu-id="20f71-133">toodefine hello set of computers that can send traffic, hello ACL on an endpoint can restrict traffic based upon source IP address.</span></span> <span data-ttu-id="20f71-134">Följ dessa steg tooadd, ändra eller ta bort en ACL för en slutpunkt.</span><span class="sxs-lookup"><span data-stu-id="20f71-134">Follow these steps tooadd, modify, or remove an ACL on an endpoint.</span></span>

> [!NOTE]
> <span data-ttu-id="20f71-135">Om hello slutpunkten är del av en belastningsutjämnad uppsättning, alla ändringar du gör toohello ACL på en slutpunkt är tillämpade tooall slutpunkter i hello uppsättningen.</span><span class="sxs-lookup"><span data-stu-id="20f71-135">If hello endpoint is part of a load-balanced set, any changes you make toohello ACL on an endpoint are applied tooall endpoints in hello set.</span></span>
>
>

<span data-ttu-id="20f71-136">Om hello virtuella datorn är i ett virtuellt Azure-nätverk, rekommenderar vi nätverkssäkerhetsgrupper i stället för ACL: er.</span><span class="sxs-lookup"><span data-stu-id="20f71-136">If hello virtual machine is in an Azure virtual network, we recommend network security groups instead of ACLs.</span></span> <span data-ttu-id="20f71-137">Mer information finns i [om nätverkssäkerhetsgrupper](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="20f71-137">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

1. <span data-ttu-id="20f71-138">Om du inte redan har gjort logga in toohello Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="20f71-138">If you haven't already done so, sign in toohello Azure portal.</span></span>
2. <span data-ttu-id="20f71-139">Klicka på **virtuella datorer**, och klicka sedan på hello namnet på hello virtuella dator som du vill tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="20f71-139">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="20f71-140">Klicka på **Slutpunkter**.</span><span class="sxs-lookup"><span data-stu-id="20f71-140">Click **Endpoints**.</span></span> <span data-ttu-id="20f71-141">Välj lämplig hello-slutpunkt hello listan.</span><span class="sxs-lookup"><span data-stu-id="20f71-141">From hello list, select hello appropriate endpoint.</span></span> <span data-ttu-id="20f71-142">hello åtkomstkontrollistan är på hello hello sidans nederkant.</span><span class="sxs-lookup"><span data-stu-id="20f71-142">hello ACL list is at hello bottom of hello page.</span></span>

   ![Ange ACL-information](./media/virtual-machines-common-classic-setup-endpoints/aclpreentry.png)

4. <span data-ttu-id="20f71-144">Använd rader i hello listan tooadd, ta bort eller redigera regler för en ACL och ändra deras inbördes ordning.</span><span class="sxs-lookup"><span data-stu-id="20f71-144">Use rows in hello list tooadd, delete, or edit rules for an ACL and change their order.</span></span> <span data-ttu-id="20f71-145">Hej **fjärrundernät** värde är ett IP-adressintervall för inkommande trafik från hello Internet som hello Azure belastningen belastningsutjämnare använder toopermit eller neka hello trafik baserat på dess IP-adress.</span><span class="sxs-lookup"><span data-stu-id="20f71-145">hello **Remote Subnet** value is an IP address range for incoming traffic from hello Internet that hello Azure load balancer uses toopermit or deny hello traffic based on its source IP address.</span></span> <span data-ttu-id="20f71-146">Vara säker på att toospecify hello IP-adressintervall i CIDR-format, även kallat prefix adressformat.</span><span class="sxs-lookup"><span data-stu-id="20f71-146">Be sure toospecify hello IP address range in CIDR format, also known as address prefix format.</span></span> <span data-ttu-id="20f71-147">Ett exempel är `10.1.0.0/8`.</span><span class="sxs-lookup"><span data-stu-id="20f71-147">An example is `10.1.0.0/8`.</span></span>

 ![Ny ACL-post](./media/virtual-machines-common-classic-setup-endpoints/newaclentry.png)


<span data-ttu-id="20f71-149">Du kan använda regler tooallow endast trafik från vissa datorer motsvarande tooyour datorer i hello Internet eller toodeny trafik från specifika, kända adressintervall.</span><span class="sxs-lookup"><span data-stu-id="20f71-149">You can use rules tooallow only traffic from specific computers corresponding tooyour computers on hello Internet or toodeny traffic from specific, known address ranges.</span></span>

<span data-ttu-id="20f71-150">hello reglerna utvärderas i ordning från och med hello första regeln och slutar med hello sista regeln.</span><span class="sxs-lookup"><span data-stu-id="20f71-150">hello rules are evaluated in order starting with hello first rule and ending with hello last rule.</span></span> <span data-ttu-id="20f71-151">Detta innebär att regler ska sorteras från minst restriktiva toomost restriktiva.</span><span class="sxs-lookup"><span data-stu-id="20f71-151">This means that rules should be ordered from least restrictive toomost restrictive.</span></span> <span data-ttu-id="20f71-152">Mer information och exempel finns i [vad är en lista över åtkomstkontroll för](../articles/virtual-network/virtual-networks-acl.md).</span><span class="sxs-lookup"><span data-stu-id="20f71-152">For examples and more information, see [What is a Network Access Control List](../articles/virtual-network/virtual-networks-acl.md).</span></span>
