## <a name="configure-your-application-tooaccess-azure-storage"></a><span data-ttu-id="40e2e-101">Konfigurera ditt program tooaccess Azure Storage</span><span class="sxs-lookup"><span data-stu-id="40e2e-101">Configure your application tooaccess Azure Storage</span></span>
<span data-ttu-id="40e2e-102">Det finns två sätt tooauthenticate ditt program tooaccess Storage-tjänster:</span><span class="sxs-lookup"><span data-stu-id="40e2e-102">There are two ways tooauthenticate your application tooaccess Storage services:</span></span>

* <span data-ttu-id="40e2e-103">Delad nyckel: Använd delad nyckel endast för testning</span><span class="sxs-lookup"><span data-stu-id="40e2e-103">Shared Key: Use Shared Key for testing purposes only</span></span>
* <span data-ttu-id="40e2e-104">Signatur för delad åtkomst (SAS): Använd SAS för program i produktion</span><span class="sxs-lookup"><span data-stu-id="40e2e-104">Shared Access Signature (SAS): Use SAS for production applications</span></span>

### <a name="shared-key"></a><span data-ttu-id="40e2e-105">Delad nyckel</span><span class="sxs-lookup"><span data-stu-id="40e2e-105">Shared Key</span></span>
<span data-ttu-id="40e2e-106">Autentisering med delad nyckel innebär att programmet ska använda ditt kontonamn och kontot viktiga tooaccess lagringstjänster.</span><span class="sxs-lookup"><span data-stu-id="40e2e-106">Shared Key authentication means that your application will use your account name and account key tooaccess Storage services.</span></span> <span data-ttu-id="40e2e-107">Hello enligt snabbt visar hur toouse det här biblioteket, kommer vi att använda autentisering med delad nyckel i den här komma igång.</span><span class="sxs-lookup"><span data-stu-id="40e2e-107">For hello purposes of quickly showing how toouse this library, we will be using Shared Key authentication in this getting started.</span></span>

> [!WARNING] 
> <span data-ttu-id="40e2e-108">**Endast använda autentisering med delad nyckel för testning!**</span><span class="sxs-lookup"><span data-stu-id="40e2e-108">**Only use Shared Key authentication for testing purposes!**</span></span> <span data-ttu-id="40e2e-109">Kontonamn och kontonyckel, vilket ger fullständig läsning och skrivning åtkomst toohello associerade lagringskontot, distribuerade tooevery person som hämtas av din app.</span><span class="sxs-lookup"><span data-stu-id="40e2e-109">Your account name and account key, which give full read/write access toohello associated Storage account, will be distributed tooevery person that downloads your app.</span></span> <span data-ttu-id="40e2e-110">Detta är **inte** en bra rutin som riskerar du att din nyckel av icke-betrodda klienter.</span><span class="sxs-lookup"><span data-stu-id="40e2e-110">This is **not** a good practice as you risk having your key compromised by untrusted clients.</span></span>
> 
> 

<span data-ttu-id="40e2e-111">När du använder autentisering med delad nyckel, skapar du en [anslutningssträngen](../articles/storage/common/storage-configure-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="40e2e-111">When using Shared Key authentication, you will create a [connection string](../articles/storage/common/storage-configure-connection-string.md).</span></span> <span data-ttu-id="40e2e-112">hello anslutningssträngen består av:</span><span class="sxs-lookup"><span data-stu-id="40e2e-112">hello connection string is comprised of:</span></span>  

* <span data-ttu-id="40e2e-113">Hej **DefaultEndpointsProtocol** -du kan välja HTTP eller HTTPS.</span><span class="sxs-lookup"><span data-stu-id="40e2e-113">hello **DefaultEndpointsProtocol** - you can choose HTTP or HTTPS.</span></span> <span data-ttu-id="40e2e-114">Men rekommenderas om du använder HTTPS starkt.</span><span class="sxs-lookup"><span data-stu-id="40e2e-114">However, using HTTPS is highly recommended.</span></span>
* <span data-ttu-id="40e2e-115">Hej **kontonamn** - hello namnet på ditt lagringskonto</span><span class="sxs-lookup"><span data-stu-id="40e2e-115">hello **Account Name** - hello name of your storage account</span></span>
* <span data-ttu-id="40e2e-116">Hej **Kontonyckel** - på hello [Azure Portal](https://portal.azure.com), navigera tooyour storage-konto och klicka på hello **nycklar** ikonen toofind informationen.</span><span class="sxs-lookup"><span data-stu-id="40e2e-116">hello **Account Key** - On hello [Azure Portal](https://portal.azure.com), navigate tooyour storage account and click hello **Keys** icon toofind this information.</span></span>
* <span data-ttu-id="40e2e-117">(Valfritt) **EndpointSuffix** -används för lagringstjänster i områden med olika endpoint suffix, till exempel Azure Kina eller Azure-styrning.</span><span class="sxs-lookup"><span data-stu-id="40e2e-117">(Optional) **EndpointSuffix** - This is used for storage services in regions with different endpoint suffixes, such as Azure China or Azure Governance.</span></span>

<span data-ttu-id="40e2e-118">Här är ett exempel på anslutningssträngen med hjälp av autentisering med delad nyckel:</span><span class="sxs-lookup"><span data-stu-id="40e2e-118">Here is an example of connection string using Shared Key authentication:</span></span>

`"DefaultEndpointsProtocol=https;AccountName=your_account_name_here;AccountKey=your_account_key_here"`

### <a name="shared-access-signatures-sas"></a><span data-ttu-id="40e2e-119">Signaturer för delad åtkomst (SAS)</span><span class="sxs-lookup"><span data-stu-id="40e2e-119">Shared Access Signatures (SAS)</span></span>
<span data-ttu-id="40e2e-120">För ett mobilt program är hello rekommenderad metod för att autentisera en begäran av en klient mot hello Azure Storage-tjänst genom att använda en delad signatur åtkomst (SAS).</span><span class="sxs-lookup"><span data-stu-id="40e2e-120">For a mobile application, hello recommended method for authenticating a request by a client against hello Azure Storage service is by using a Shared Access Signature (SAS).</span></span> <span data-ttu-id="40e2e-121">SAS kan du toogrant en klient åtkomst tooa resurs för en angiven tidsperiod, med en angiven uppsättning behörigheter.</span><span class="sxs-lookup"><span data-stu-id="40e2e-121">SAS allows you toogrant a client access tooa resource for a specified period of time, with a specified set of permissions.</span></span>
<span data-ttu-id="40e2e-122">Som hello lagringskontoägaren behöver toogenerate en SAS för din mobila klienter tooconsume.</span><span class="sxs-lookup"><span data-stu-id="40e2e-122">As hello storage account owner, you'll need toogenerate a SAS for your mobile clients tooconsume.</span></span> <span data-ttu-id="40e2e-123">toogenerate Hej SAS, vill du förmodligen toowrite en separat tjänst som genererar hello SAS toobe distribuerade tooyour klienter.</span><span class="sxs-lookup"><span data-stu-id="40e2e-123">toogenerate hello SAS, you'll probably want toowrite a separate service that generates hello SAS toobe distributed tooyour clients.</span></span> <span data-ttu-id="40e2e-124">I testsyfte kan du använda hello [Microsoft Azure Lagringsutforskaren](http://storageexplorer.com) eller hello [Azure Portal](https://portal.azure.com) toogenerate en SAS.</span><span class="sxs-lookup"><span data-stu-id="40e2e-124">For testing purposes, you can use hello [Microsoft Azure Storage Explorer](http://storageexplorer.com) or hello [Azure Portal](https://portal.azure.com) toogenerate a SAS.</span></span> <span data-ttu-id="40e2e-125">När du skapar hello SAS kan ange du hello tidsintervall under vilka hello SAS är giltigt och hello behörigheter som hello SAS ger toohello klienten.</span><span class="sxs-lookup"><span data-stu-id="40e2e-125">When you create hello SAS, you can specify hello time interval over which hello SAS is valid, and hello permissions that hello SAS grants toohello client.</span></span>

<span data-ttu-id="40e2e-126">hello som följande exempel visar hur hello toouse Microsoft Azure Lagringsutforskaren toogenerate en SAS.</span><span class="sxs-lookup"><span data-stu-id="40e2e-126">hello following example shows how toouse hello Microsoft Azure Storage Explorer toogenerate a SAS.</span></span>

1. <span data-ttu-id="40e2e-127">Om du inte redan har gjort [installera hello Microsoft Azure Lagringsutforskaren](http://storageexplorer.com)</span><span class="sxs-lookup"><span data-stu-id="40e2e-127">If you haven't already, [Install hello Microsoft Azure Storage Explorer](http://storageexplorer.com)</span></span>
2. <span data-ttu-id="40e2e-128">Ansluta tooyour prenumeration.</span><span class="sxs-lookup"><span data-stu-id="40e2e-128">Connect tooyour subscription.</span></span>
3. <span data-ttu-id="40e2e-129">Klicka på ditt lagringskonto och klicka på fliken hello ”åtgärd” längst ned hello kvar.</span><span class="sxs-lookup"><span data-stu-id="40e2e-129">Click on your Storage account and click on hello "Actions" tab at hello bottom left.</span></span> <span data-ttu-id="40e2e-130">Klicka på ”Hämta signatur för delad åtkomst” toogenerate ”anslutningssträngen” för din SAS.</span><span class="sxs-lookup"><span data-stu-id="40e2e-130">Click "Get Shared Access Signature" toogenerate a "connection string" for your SAS.</span></span>
4. <span data-ttu-id="40e2e-131">Här är ett exempel på en SAS-anslutningssträng att ger Läs- och skrivbehörighet på hello service, behållare och objektnivå för hello blob-tjänsten för hello Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="40e2e-131">Here is an example of a SAS connection string that grants read and write permissions at hello service, container and object level for hello blob service of hello Storage account.</span></span>
   
   `"SharedAccessSignature=sv=2015-04-05&ss=b&srt=sco&sp=rw&se=2016-07-21T18%3A00%3A00Z&sig=3ABdLOJZosCp0o491T%2BqZGKIhafF1nlM3MzESDDD3Gg%3D;BlobEndpoint=https://youraccount.blob.core.windows.net"`

<span data-ttu-id="40e2e-132">Som du kan se när du använder en SAS, är det inte att exponera din kontonyckel i ditt program.</span><span class="sxs-lookup"><span data-stu-id="40e2e-132">As you can see, when using a SAS, you’re not exposing your account key in your application.</span></span> <span data-ttu-id="40e2e-133">Du kan lära dig mer om SAS och bästa praxis för att använda SAS genom att checka ut [signaturer för delad åtkomst: Förstå SAS-modellen för hello](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="40e2e-133">You can learn more about SAS and best practices for using SAS by checking out [Shared Access Signatures: Understanding hello SAS model](../articles/storage/common/storage-dotnet-shared-access-signature-part-1.md).</span></span>

