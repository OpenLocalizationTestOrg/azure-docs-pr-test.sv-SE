<span data-ttu-id="7375a-101">Azure utför regelbundet uppdateringar tooimprove hello tillförlitlighet, prestanda och säkerhet för hello värden infrastruktur för virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="7375a-101">Azure periodically performs updates tooimprove hello reliability, performance, and security of hello host infrastructure for virtual machines.</span></span> <span data-ttu-id="7375a-102">Dessa uppdateringar mellan korrigering programvarukomponenter i hello värdmiljön (till exempel operativsystem, hypervisor och olika agenter distribueras på hello värden) uppgraderar nätverkskomponenter, inaktivering av toohardware.</span><span class="sxs-lookup"><span data-stu-id="7375a-102">These updates range from patching software components in hello hosting environment (like operating system, hypervisor, and various agents deployed on hello host), upgrading networking components, toohardware decommissioning.</span></span> <span data-ttu-id="7375a-103">hello merparten av de här uppdateringarna utförs utan någon inverkan toohello som värd för virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="7375a-103">hello majority of these updates are performed without any impact toohello hosted virtual machines.</span></span> <span data-ttu-id="7375a-104">Det finns dock fall där uppdateringar har konsekvenser:</span><span class="sxs-lookup"><span data-stu-id="7375a-104">However, there are cases where updates do have an impact:</span></span>

- <span data-ttu-id="7375a-105">Om hello underhåll som inte kräver en omstart, använder Azure migrering på plats toopause hello VM medan hello värden uppdateras.</span><span class="sxs-lookup"><span data-stu-id="7375a-105">If hello maintenance does not require a reboot, Azure uses in-place migration toopause hello VM while hello host is updated.</span></span>

- <span data-ttu-id="7375a-106">Om en omstart krävs för underhåll, får du ett meddelande om när hello Underhåll planeras.</span><span class="sxs-lookup"><span data-stu-id="7375a-106">If maintenance requires a reboot, you get a notice of when hello maintenance is planned.</span></span> <span data-ttu-id="7375a-107">I dessa fall kan också får du ett tidsfönster där du kan starta hello underhåll själv, samtidigt som passar dig.</span><span class="sxs-lookup"><span data-stu-id="7375a-107">In these cases, you'll also be given a time window where you can start hello maintenance yourself, at a time that works for you.</span></span>

<span data-ttu-id="7375a-108">Den här sidan beskrivs hur Microsoft Azure utför båda typerna av underhåll.</span><span class="sxs-lookup"><span data-stu-id="7375a-108">This page describes how Microsoft Azure performs both types of maintenance.</span></span> <span data-ttu-id="7375a-109">Mer information om oplanerade händelser (avbrott) finns i Hantera hello tillgängligheten för virtuella datorer för [Windows] (... / articles/virtual-machines/windows/manage-availability.md) eller [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="7375a-109">For more information about unplanned events (outages), see Manage hello availability of virtual machines for [Windows] (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>

<span data-ttu-id="7375a-110">Program som körs på en virtuell dator kan samla information om kommande uppdateringar med hjälp av hello Azure Metadata Service för [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) eller [Linux] (... / articles/virtual-machines/linux/instance-metadata-service.md).</span><span class="sxs-lookup"><span data-stu-id="7375a-110">Applications running in a virtual machine can gather information about upcoming updates by using hello Azure Metadata Service for [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) or [Linux] (../articles/virtual-machines/linux/instance-metadata-service.md).</span></span>

## <a name="in-place-vm-migration"></a><span data-ttu-id="7375a-111">VM-migrering på plats</span><span class="sxs-lookup"><span data-stu-id="7375a-111">In-place VM migration</span></span>

<span data-ttu-id="7375a-112">När uppdateringar inte kräver en omstart för fullständig, används en aktiv migrering på plats.</span><span class="sxs-lookup"><span data-stu-id="7375a-112">When updates don't require a full reboot, an in-place live migration is used.</span></span> <span data-ttu-id="7375a-113">Under hello uppdatering är hello virtuella datorn pausad i 30 sekunder, bevarar hello minne i RAM, medan hello värdmiljön gäller hello nödvändiga uppdateringar och korrigeringar.</span><span class="sxs-lookup"><span data-stu-id="7375a-113">During hello update hello virtual machine is paused for about 30 seconds, preserving hello memory in RAM, while hello hosting environment applies hello necessary updates and patches.</span></span> <span data-ttu-id="7375a-114">hello virtuella sedan återupptas och hello klocka hello virtuella synkroniseras automatiskt.</span><span class="sxs-lookup"><span data-stu-id="7375a-114">hello virtual machine is then resumed and hello clock of hello virtual machine is automatically synchronized.</span></span>

<span data-ttu-id="7375a-115">För virtuella datorer i tillgänglighetsuppsättningar kan är uppdatera domäner uppdaterade ett i taget.</span><span class="sxs-lookup"><span data-stu-id="7375a-115">For VMs in availability sets, update domains are updated one at a time.</span></span> <span data-ttu-id="7375a-116">Alla virtuella datorer i en uppdateringsdomän (UD) pausas, uppdateras och återupptas innan planerat underhåll flyttas på toohello nästa UD.</span><span class="sxs-lookup"><span data-stu-id="7375a-116">All VMs in one update domain (UD) are paused, updated and then resumed before planned maintenance moves on toohello next UD.</span></span>

<span data-ttu-id="7375a-117">Vissa program kan påverkas av dessa typer av uppdateringar.</span><span class="sxs-lookup"><span data-stu-id="7375a-117">Some applications may be impacted by these types of updates.</span></span> <span data-ttu-id="7375a-118">Program som utför realtid händelsebearbetning, som direktuppspelning eller omkodning eller hög genomströmning nätverk scenarier, kanske inte utformad tootolerate en paus på 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="7375a-118">Applications that perform real-time event processing, like media streaming or transcoding, or high throughput networking scenarios, may not be designed tootolerate a 30 second pause.</span></span> <!-- sooooo, what should they do? --> 


## <a name="maintenance-requiring-a-reboot"></a><span data-ttu-id="7375a-119">Underhåll som kräver en omstart</span><span class="sxs-lookup"><span data-stu-id="7375a-119">Maintenance requiring a reboot</span></span>

<span data-ttu-id="7375a-120">När virtuella datorer måste startas om för planerat underhåll toobe, meddelas du i förväg.</span><span class="sxs-lookup"><span data-stu-id="7375a-120">When VMs need toobe rebooted for planned maintenance, you are notified in advance.</span></span> <span data-ttu-id="7375a-121">Planerat underhåll har två faser: hello självbetjäning fönster och schemalagda underhållsperiod.</span><span class="sxs-lookup"><span data-stu-id="7375a-121">Planned maintenance has two phases: hello self-service window and a scheduled maintenance window.</span></span>

<span data-ttu-id="7375a-122">Hej **självbetjäning fönstret** kan du initiera hello Underhåll på dina virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="7375a-122">hello **self-service window** lets you initiate hello maintenance on your VMs.</span></span> <span data-ttu-id="7375a-123">Under denna tid kan du fråga efter varje VM-toosee deras status och kontrollera hello resultatet av din senaste begäran.</span><span class="sxs-lookup"><span data-stu-id="7375a-123">During this time, you can query each VM toosee their status and check hello result of your last maintenance request.</span></span>

<span data-ttu-id="7375a-124">När du startar självbetjäning Underhåll är den virtuella datorn har flyttats tooa nod som redan har uppdaterats och sedan aktiveras den tillbaka.</span><span class="sxs-lookup"><span data-stu-id="7375a-124">When you start self-service maintenance, your VM is moved tooa node that has already been updated and then powers it back on.</span></span> <span data-ttu-id="7375a-125">Eftersom hello VM startas hello diskutrymme går förlorad och dynamiska IP-adresser som är kopplade till virtuella nätverksgränssnittet har uppdaterats.</span><span class="sxs-lookup"><span data-stu-id="7375a-125">Because hello VM reboots, hello temporary disk is lost and dynamic IP addresses associated with virtual network interface are updated.</span></span>

<span data-ttu-id="7375a-126">Om du startar självbetjäning underhåll och det finns ett fel under processen hello hello åtgärden är stoppad, hello VM inte uppdateras och den också tas bort från hello planerat underhåll iteration.</span><span class="sxs-lookup"><span data-stu-id="7375a-126">If you start self-service maintenance and there is an error during hello process, hello operation is stopped, hello VM is not updated and it is also removed from hello planned maintenance iteration.</span></span> <span data-ttu-id="7375a-127">Du kontaktad på senare med ett nytt schema och en ny affärsmöjlighet toodo självbetjäning underhåll som erbjuds.</span><span class="sxs-lookup"><span data-stu-id="7375a-127">You will be contacted in a later time with a new schedule and offered a new opportunity toodo self-service maintenance.</span></span> 

<span data-ttu-id="7375a-128">När hello självbetjäning fönstret har passerat hello **schemalagda underhållsperiod** börjar.</span><span class="sxs-lookup"><span data-stu-id="7375a-128">When hello self-service window has passed, hello **scheduled maintenance window** begins.</span></span> <span data-ttu-id="7375a-129">Under den här tidsfönstret du fortfarande fråga efter hello underhållsperiod, men inte längre kan toostart hello underhåll själv.</span><span class="sxs-lookup"><span data-stu-id="7375a-129">During this time window, you can still query for hello maintenance window, but no longer be able toostart hello maintenance yourself.</span></span>

## <a name="availability-considerations-during-planned-maintenance"></a><span data-ttu-id="7375a-130">Tillgänglighet under planerat underhåll</span><span class="sxs-lookup"><span data-stu-id="7375a-130">Availability Considerations during Planned Maintenance</span></span> 

<span data-ttu-id="7375a-131">Om du väljer toowait tills hello planerad underhållsperiod, finns det några saker tooconsider för att underhålla hello högsta availabilty för dina virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="7375a-131">If you decide toowait until hello planned maintenance window, there are a few things tooconsider for maintaining hello highest availabilty of your VMs.</span></span> 

### <a name="paired-regions"></a><span data-ttu-id="7375a-132">Parad regioner</span><span class="sxs-lookup"><span data-stu-id="7375a-132">Paired Regions</span></span>

<span data-ttu-id="7375a-133">Varje Azure-region paras ihop med en annan region inom hello samma geografi, tillsammans med de gör ett regionalt par.</span><span class="sxs-lookup"><span data-stu-id="7375a-133">Each Azure region is paired with another region within hello same geography, together they make a regional pair.</span></span> <span data-ttu-id="7375a-134">Under planerat underhåll uppdatera Azure bara hello virtuella datorer i en region i en region-par.</span><span class="sxs-lookup"><span data-stu-id="7375a-134">During planned maintenance, Azure will only update hello VMs in a single region of a region pair.</span></span> <span data-ttu-id="7375a-135">Till exempel när du uppdaterar hello virtuella datorer i norra centrala USA, Azure kommer inte att uppdatera alla virtuella datorer i södra centrala USA på hello samtidigt.</span><span class="sxs-lookup"><span data-stu-id="7375a-135">For example, when updating hello Virtual Machines in North Central US, Azure will not update any Virtual Machines in South Central US at hello same time.</span></span> <span data-ttu-id="7375a-136">Men andra regioner som Nordeuropa kan vara under Underhåll på hello samma tid som östra USA.</span><span class="sxs-lookup"><span data-stu-id="7375a-136">However, other regions such as North Europe can be under maintenance at hello same time as East US.</span></span> <span data-ttu-id="7375a-137">Så här fungerar region par kan hjälpa dig att förstå bättre distribuera din virtuella dator över regioner.</span><span class="sxs-lookup"><span data-stu-id="7375a-137">Understanding how region pairs work can help you better distribute your VMs across regions.</span></span> <span data-ttu-id="7375a-138">Mer information finns i [Azure-region par](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="7375a-138">For more information, see [Azure region pairs](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span></span>

### <a name="availability-sets-and-scale-sets"></a><span data-ttu-id="7375a-139">Tillgänglighetsuppsättningar och skaluppsättningar</span><span class="sxs-lookup"><span data-stu-id="7375a-139">Availability sets and scale sets</span></span>

<span data-ttu-id="7375a-140">När du distribuerar en arbetsbelastningen på virtuella Azure-datorer kan skapa du hello virtuella datorer i ett tillgänglighet set tooprovide hög tillgänglighet tooyour program.</span><span class="sxs-lookup"><span data-stu-id="7375a-140">When deploying a workload on Azure VMs, you can create hello VMs within an availability set tooprovide high availability tooyour application.</span></span> <span data-ttu-id="7375a-141">Detta garanterar att minst en virtuell dator vid ett strömavbrott eller underhåll händelser är tillgänglig.</span><span class="sxs-lookup"><span data-stu-id="7375a-141">This ensures that during either an outage or maintenance events, at least one virtual machine is available.</span></span>

<span data-ttu-id="7375a-142">I en tillgänglighetsuppsättning sprids enskilda virtuella datorer installerar too20 uppdatering domäner (UDs).</span><span class="sxs-lookup"><span data-stu-id="7375a-142">Within an availability set, individual VMs are spread across up too20 update domains (UDs).</span></span> <span data-ttu-id="7375a-143">Endast en enskild uppdateringsdomän påverkas vid en given tidpunkt under planerat underhåll.</span><span class="sxs-lookup"><span data-stu-id="7375a-143">During planned maintenance, only a single update domain is impacted at any given time.</span></span> <span data-ttu-id="7375a-144">Tänk på att hello ordningen för update-domäner som påverkas inte nödvändigtvis sker sekventiellt.</span><span class="sxs-lookup"><span data-stu-id="7375a-144">Be aware that hello order of update domains being impacted does not necessarily happen sequentially.</span></span> 

<span data-ttu-id="7375a-145">Skaluppsättningar för den virtuella datorn är en Azure compute-resurs som du kan använda toodeploy och hantera en uppsättning identiska virtuella datorer som en enskild resurs.</span><span class="sxs-lookup"><span data-stu-id="7375a-145">Virtual machine scale sets are an Azure compute resource that enables you toodeploy and manage a set of identical VMs as a single resource.</span></span> <span data-ttu-id="7375a-146">Hej skaluppsättning distribueras automatiskt uppdatera domäner som virtuella datorer i en tillgänglighetsuppsättning.</span><span class="sxs-lookup"><span data-stu-id="7375a-146">hello scale set is automatically deployed across update domains, like VMs in an availability set.</span></span> <span data-ttu-id="7375a-147">Precis som med tillgänglighetsuppsättningar påverkas med skalningsuppsättningar i en enda uppdateringsdomän vid en given tidpunkt.</span><span class="sxs-lookup"><span data-stu-id="7375a-147">Just like with availability sets, with scale sets only a single update domain is impacted at any given time.</span></span>

<span data-ttu-id="7375a-148">Mer information om hur du konfigurerar dina virtuella datorer för hög tillgänglighet finns i Hantera hello tillgängligheten för virtuella datorer för Windows (... / articles/virtual-machines/windows/manage-availability.md) eller [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="7375a-148">For more information about configuring your virtual machines for high availability, see Manage hello availability of your virtual machines for Windows (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>
