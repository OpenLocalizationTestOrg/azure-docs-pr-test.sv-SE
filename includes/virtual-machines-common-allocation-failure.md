
<span data-ttu-id="a3bb6-101">Om din Azure problemet inte åtgärdas i den här artikeln, finns det [Azure-forum på MSDN och Stack Overflow](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="a3bb6-101">If your Azure issue is not addressed in this article, visit the [Azure forums on MSDN and Stack Overflow](https://azure.microsoft.com/support/forums/).</span></span> <span data-ttu-id="a3bb6-102">Du kan publicera problemet på dessa forum eller @AzureSupport på Twitter.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-102">You can post your issue on these forums or to @AzureSupport on Twitter.</span></span> <span data-ttu-id="a3bb6-103">Du kan också filen en Azure-supportbegäran genom att välja **få support** på den [Azure-supporten](https://azure.microsoft.com/support/options/) plats.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-103">Also, you can file an Azure support request by selecting **Get support** on the [Azure support](https://azure.microsoft.com/support/options/) site.</span></span>

## <a name="general-troubleshooting-steps"></a><span data-ttu-id="a3bb6-104">Allmänna instruktioner för felsökning</span><span class="sxs-lookup"><span data-stu-id="a3bb6-104">General troubleshooting steps</span></span>
### <a name="troubleshoot-common-allocation-failures-in-the-classic-deployment-model"></a><span data-ttu-id="a3bb6-105">Felsöka vanliga Tilldelningsfel i den klassiska distributionsmodellen</span><span class="sxs-lookup"><span data-stu-id="a3bb6-105">Troubleshoot common allocation failures in the classic deployment model</span></span>
<span data-ttu-id="a3bb6-106">Dessa steg hjälper dig att lösa många buffertallokeringsfel på virtuella datorer:</span><span class="sxs-lookup"><span data-stu-id="a3bb6-106">These steps can help resolve many allocation failures in virtual machines:</span></span>

* <span data-ttu-id="a3bb6-107">Ändra storlek på den virtuella datorn till en annan VM-storlek.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-107">Resize the VM to a different VM size.</span></span><br>
    <span data-ttu-id="a3bb6-108">Klicka på **Bläddra igenom alla** > **virtuella datorer (klassisk)** > din virtuella dator > **inställningar** > **storlek**.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-108">Click **Browse all** > **Virtual machines (classic)** > your virtual machine > **Settings** > **Size**.</span></span> <span data-ttu-id="a3bb6-109">Detaljerade anvisningar finns i [ändra storlek på den virtuella datorn](https://msdn.microsoft.com/library/dn168976.aspx).</span><span class="sxs-lookup"><span data-stu-id="a3bb6-109">For detailed steps, see [Resize the virtual machine](https://msdn.microsoft.com/library/dn168976.aspx).</span></span>
* <span data-ttu-id="a3bb6-110">Ta bort alla virtuella datorer från Molntjänsten och skapa virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-110">Delete all VMs from the cloud service and re-create VMs.</span></span><br>
    <span data-ttu-id="a3bb6-111">Klicka på **Bläddra igenom alla** > **virtuella datorer (klassisk)** > din virtuella dator > **ta bort**.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-111">Click **Browse all** > **Virtual machines (classic)** > your virtual machine > **Delete**.</span></span> <span data-ttu-id="a3bb6-112">Klicka på **ny** > **Compute** > [avbildning av virtuell dator].</span><span class="sxs-lookup"><span data-stu-id="a3bb6-112">Then, click **New** > **Compute** > [virtual machine image].</span></span>

### <a name="troubleshoot-common-allocation-failures-in-the-azure-resource-manager-deployment-model"></a><span data-ttu-id="a3bb6-113">Felsöka vanliga Tilldelningsfel i Azure Resource Manager-distributionsmodellen</span><span class="sxs-lookup"><span data-stu-id="a3bb6-113">Troubleshoot common allocation failures in the Azure Resource Manager deployment model</span></span>
<span data-ttu-id="a3bb6-114">Dessa steg hjälper dig att lösa många buffertallokeringsfel på virtuella datorer:</span><span class="sxs-lookup"><span data-stu-id="a3bb6-114">These steps can help resolve many allocation failures in virtual machines:</span></span>

* <span data-ttu-id="a3bb6-115">Stoppa (frigöra) alla virtuella datorer i samma tillgänglighetsuppsättning ange och sedan starta om var och en.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-115">Stop (deallocate) all VMs in the same availability set, then restart each one.</span></span><br>
    <span data-ttu-id="a3bb6-116">Stoppa: Klicka på **resursgrupper** > resursgruppen > **resurser** > din tillgänglighetsuppsättning > **virtuella datorer** > din virtuella dator >  **Stoppa**.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-116">To stop: Click **Resource groups** > your resource group > **Resources** > your availability set > **Virtual Machines** > your virtual machine > **Stop**.</span></span>
  
    <span data-ttu-id="a3bb6-117">Efter alla virtuella datorer stoppa markerar du den första virtuella datorn och på **starta**.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-117">After all VMs stop, select the first VM and click **Start**.</span></span>

## <a name="background-information"></a><span data-ttu-id="a3bb6-118">Bakgrundsinformation</span><span class="sxs-lookup"><span data-stu-id="a3bb6-118">Background information</span></span>
### <a name="how-allocation-works"></a><span data-ttu-id="a3bb6-119">Så här fungerar allokering</span><span class="sxs-lookup"><span data-stu-id="a3bb6-119">How allocation works</span></span>
<span data-ttu-id="a3bb6-120">Servrarna i Azure-Datacenter partitioneras i kluster.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-120">The servers in Azure datacenters are partitioned into clusters.</span></span> <span data-ttu-id="a3bb6-121">Normalt en begäran om minnesallokering görs i flera kluster, men det är möjligt att vissa villkor från begäran om minnesallokering gällande Azure-plattformen för begäran i ett kluster.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-121">Normally, an allocation request is attempted in multiple clusters, but it's possible that certain constraints from the allocation request force the Azure platform to attempt the request in only one cluster.</span></span> <span data-ttu-id="a3bb6-122">I den här artikeln ska vi referera till den här som ”fäst på ett kluster”.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-122">In this article, we'll refer to this as "pinned to a cluster."</span></span> <span data-ttu-id="a3bb6-123">Bild 1 nedan visar skiftläget för en normal allokering som görs i flera kluster.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-123">Diagram 1 below illustrates the case of a normal allocation that is attempted in multiple clusters.</span></span> <span data-ttu-id="a3bb6-124">Figur 2 visar i fallet med en allokering som har fäst på klustret 2 eftersom det är där den befintliga uppsättningen Cloud Service CS_1 eller tillgänglighet körs.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-124">Diagram 2 illustrates the case of an allocation that's pinned to Cluster 2 because that's where the existing Cloud Service CS_1 or availability set is hosted.</span></span>
<span data-ttu-id="a3bb6-125">![Allokering av Diagram](./media/virtual-machines-common-allocation-failure/Allocation1.png)</span><span class="sxs-lookup"><span data-stu-id="a3bb6-125">![Allocation Diagram](./media/virtual-machines-common-allocation-failure/Allocation1.png)</span></span>

### <a name="why-allocation-failures-happen"></a><span data-ttu-id="a3bb6-126">Varför Allokeringsfel inträffa</span><span class="sxs-lookup"><span data-stu-id="a3bb6-126">Why allocation failures happen</span></span>
<span data-ttu-id="a3bb6-127">När en begäran om minnesallokering är fäst på ett kluster, finns en högre risk för att hitta lediga resurser eftersom tillgängliga resurspoolen är mindre inte.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-127">When an allocation request is pinned to a cluster, there's a higher chance of failing to find free resources since the available resource pool is smaller.</span></span> <span data-ttu-id="a3bb6-128">Dessutom misslyckas din begäran även om klustret har lediga resurser om din begäran om minnesallokering är fäst på ett kluster men typ av resurs som du har begärt stöds inte av klustret.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-128">Furthermore, if your allocation request is pinned to a cluster but the type of resource you requested is not supported by that cluster, your request will fail even if the cluster has free resources.</span></span> <span data-ttu-id="a3bb6-129">Bild 3 nedan visar de fall där en fast allokering misslyckas eftersom endast candidate klustret inte har lediga resurser.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-129">Diagram 3 below illustrates the case where a pinned allocation fails because the only candidate cluster does not have free resources.</span></span> <span data-ttu-id="a3bb6-130">Bild 4 visar de fall där en fast allokering misslyckas eftersom endast kandidat kluster inte stöder den begärda VM-storleken, även om klustret har lediga resurser.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-130">Diagram 4 illustrates the case where a pinned allocation fails because the only candidate cluster does not support the requested VM size, even though the cluster has free resources.</span></span>

![Fäst Allokeringsfel](./media/virtual-machines-common-allocation-failure/Allocation2.png)

## <a name="detailed-troubleshoot-steps-specific-allocation-failure-scenarios-in-the-classic-deployment-model"></a><span data-ttu-id="a3bb6-132">Detaljerad felsökning av steg allokering av specifika scenarier i den klassiska distributionsmodellen</span><span class="sxs-lookup"><span data-stu-id="a3bb6-132">Detailed troubleshoot steps specific allocation failure scenarios in the classic deployment model</span></span>
<span data-ttu-id="a3bb6-133">Här följer vanliga scenarier för allokering som gör en begäran om minnesallokering för att fästa.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-133">Here are common allocation scenarios that cause an allocation request to be pinned.</span></span> <span data-ttu-id="a3bb6-134">Vi kommer fördjupa dig i varje scenario senare i den här artikeln.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-134">We'll dive into each scenario later in this article.</span></span>

* <span data-ttu-id="a3bb6-135">Ändra storlek på en virtuell dator eller lägga till VM: ar eller rollinstanser i en befintlig molntjänst</span><span class="sxs-lookup"><span data-stu-id="a3bb6-135">Resize a VM or add VMs or role instances to an existing cloud service</span></span>
* <span data-ttu-id="a3bb6-136">Starta om delvis stoppats (frigjorts) virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="a3bb6-136">Restart partially stopped (deallocated) VMs</span></span>
* <span data-ttu-id="a3bb6-137">Starta om fullständigt stoppats (frigjorts) virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="a3bb6-137">Restart fully stopped (deallocated) VMs</span></span>
* <span data-ttu-id="a3bb6-138">Förproduktion/Produktionsdistribution (plattform som en tjänst endast)</span><span class="sxs-lookup"><span data-stu-id="a3bb6-138">Staging/production deployments (platform as a service only)</span></span>
* <span data-ttu-id="a3bb6-139">Tillhörighetsgruppen (VM-tjänsten närhet)</span><span class="sxs-lookup"><span data-stu-id="a3bb6-139">Affinity group (VM/service proximity)</span></span>
* <span data-ttu-id="a3bb6-140">Mappning mellan en gruppbaserad virtuellt nätverk</span><span class="sxs-lookup"><span data-stu-id="a3bb6-140">Affinity-group-based virtual network</span></span>

<span data-ttu-id="a3bb6-141">När du får ett Allokeringsfel se om någon av de scenarier som beskrivs gäller för din fel.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-141">When you receive an allocation error, see if any of the scenarios described apply to your error.</span></span> <span data-ttu-id="a3bb6-142">Använd allokering felet som returnerades av Azure-plattformen för att identifiera motsvarande scenario.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-142">Use the allocation error returned by the Azure platform to identify the corresponding scenario.</span></span> <span data-ttu-id="a3bb6-143">Om din begäran fästs avlägsna fästa begränsningarna för att öppna din förfrågan om att flera kluster, vilket ökar risken för allokering lyckades.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-143">If your request is pinned, remove some of the pinning constraints to open your request to more clusters, thereby increasing the chance of allocation success.</span></span>

<span data-ttu-id="a3bb6-144">I allmänhet så länge felet inte indikerar ”den begärda VM-storleken inte stöds”, kan du alltid försök vid ett senare tillfälle som tillräckligt med resurser kan ha frigjorts i klustret för att hantera din förfrågan.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-144">In general, as long as the error does not indicate "the requested VM size is not supported," you can always retry at a later time, as enough resources may have been freed in the cluster to accommodate your request.</span></span> <span data-ttu-id="a3bb6-145">Om problemet är att den begärda VM-storleken inte stöds, kan du prova en annan VM-storlek.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-145">If the problem is that the requested VM size is not supported, try a different VM size.</span></span> <span data-ttu-id="a3bb6-146">Annars är det enda alternativet att ta bort fästa begränsningen.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-146">Otherwise, the only option is to remove the pinning constraint.</span></span>

<span data-ttu-id="a3bb6-147">Två vanliga scenarier är relaterade till tillhörighetsgrupper.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-147">Two common failure scenarios are related to affinity groups.</span></span> <span data-ttu-id="a3bb6-148">En tillhörighetsgrupp som användes för att ange närhet av virtuella datorer/tjänstinstanser tidigare eller användes för att skapa ett virtuellt nätverk.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-148">In the past, an affinity group was used to provide close proximity to VMs/service instances, or it was used to enable the creation of a virtual network.</span></span> <span data-ttu-id="a3bb6-149">Tillhörighetsgrupper är inte längre krävs för att skapa ett virtuellt nätverk med introduktionen av regionala virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-149">With the introduction of regional virtual networks, affinity groups are no longer required to create a virtual network.</span></span> <span data-ttu-id="a3bb6-150">Rekommendationen att använda tillhörighetsgrupper för VM-tjänsten närhet har ändrats med för att minska Nätverksfördröjningen i Azure-infrastrukturen.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-150">With the reduction of network latency in Azure infrastructure, the recommendation to use affinity groups for VM/service proximity has changed.</span></span>

<span data-ttu-id="a3bb6-151">Diagram över 5 nedan visar taxonomi (fast) fördelning scenarier.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-151">Diagram 5 below presents the taxonomy of the (pinned) allocation scenarios.</span></span>
<span data-ttu-id="a3bb6-152">![Fäst allokering taxonomi](./media/virtual-machines-common-allocation-failure/Allocation3.png)</span><span class="sxs-lookup"><span data-stu-id="a3bb6-152">![Pinned Allocation Taxonomy](./media/virtual-machines-common-allocation-failure/Allocation3.png)</span></span>

> [!NOTE]
> <span data-ttu-id="a3bb6-153">Det fel som anges i varje allokering scenario är en kort form.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-153">The error listed in each allocation scenario is a short form.</span></span> <span data-ttu-id="a3bb6-154">Referera till den [sträng felsökning](#Error string lookup) för detaljerade felsträngar.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-154">Refer to the [Error string lookup](#Error string lookup) for detailed error strings.</span></span>
> 
> 

## <a name="allocation-scenario-resize-a-vm-or-add-vms-or-role-instances-to-an-existing-cloud-service"></a><span data-ttu-id="a3bb6-155">Allokering av scenario: ändra storlek på en virtuell dator eller lägga till VM: ar eller rollinstanser i en befintlig molntjänst</span><span class="sxs-lookup"><span data-stu-id="a3bb6-155">Allocation scenario: Resize a VM or add VMs or role instances to an existing cloud service</span></span>
<span data-ttu-id="a3bb6-156">**Fel**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-156">**Error**</span></span>

<span data-ttu-id="a3bb6-157">Upgrade_VMSizeNotSupported eller GeneralError</span><span class="sxs-lookup"><span data-stu-id="a3bb6-157">Upgrade_VMSizeNotSupported or GeneralError</span></span>

<span data-ttu-id="a3bb6-158">**Orsaken till klustret fästning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-158">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a3bb6-159">En begäran att ändra storlek på en virtuell dator eller lägga till en virtuell dator eller en rollinstans i en befintlig molntjänst måste göras i det ursprungliga klustret som är värd för befintlig molntjänst.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-159">A request to resize a VM or add a VM or a role instance to an existing cloud service has to be attempted at the original cluster that hosts the existing cloud service.</span></span> <span data-ttu-id="a3bb6-160">Skapa en ny molntjänst kan Azure-plattformen att hitta ett annat kluster som har lediga resurser eller stöder VM-storlek som du har begärt.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-160">Creating a new cloud service allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="a3bb6-161">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-161">**Workaround**</span></span>

<span data-ttu-id="a3bb6-162">Om felet är Upgrade_VMSizeNotSupported *, kan du prova en annan VM-storlek.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-162">If the error is Upgrade_VMSizeNotSupported*, try a different VM size.</span></span> <span data-ttu-id="a3bb6-163">Om du använder en annan VM-storlek inte är ett alternativ, men om det är tillåtet att använda en annan virtuell IP-adress (VIP), skapa en ny molntjänst för att vara värd för den nya virtuella datorn och Lägg till ny molntjänst regionalt virtuellt nätverk med de befintliga virtuella datorerna som kör.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-163">If using a different VM size is not an option, but if it's acceptable to use a different virtual IP address (VIP), create a new cloud service to host the new VM and add the new cloud service to the regional virtual network where the existing VMs are running.</span></span> <span data-ttu-id="a3bb6-164">Om en befintlig molntjänst inte använder ett regionalt virtuellt nätverk du kan fortfarande skapa ett nytt virtuellt nätverk för den nya Molntjänsten och sedan ansluta din [befintligt virtuellt nätverk till ett nytt virtuellt nätverk](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="a3bb6-164">If your existing cloud service does not use a regional virtual network, you can still create a new virtual network for the new cloud service, and then connect your [existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="a3bb6-165">Läs mer [regionala virtuella nätverk](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="a3bb6-165">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

<span data-ttu-id="a3bb6-166">Om felet GeneralError *, är det troligt att typ av resurs (till exempel en viss VM-storlek) stöds av klustret, men klustret saknar lediga resurser för tillfället.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-166">If the error is GeneralError*, it's likely that the type of resource (such as a particular VM size) is supported by the cluster, but the cluster does not have free resources at the moment.</span></span> <span data-ttu-id="a3bb6-167">Liknar scenariot ovan lägger du till den önskade beräkningsresursen genom att skapa en ny molntjänst (Observera att nya Molntjänsten måste använda en annan VIP) och ett regionalt virtuellt nätverk för att ansluta dina molntjänster.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-167">Similar to the above scenario, add the desired compute resource through creating a new cloud service (note that the new cloud service has to use a different VIP) and use a regional virtual network to connect your cloud services.</span></span>

## <a name="allocation-scenario-restart-partially-stopped-deallocated-vms"></a><span data-ttu-id="a3bb6-168">Allokering av scenario: starta om delvis stoppats (frigjorts) virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="a3bb6-168">Allocation scenario: Restart partially stopped (deallocated) VMs</span></span>
<span data-ttu-id="a3bb6-169">**Fel**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-169">**Error**</span></span>

<span data-ttu-id="a3bb6-170">GeneralError *</span><span class="sxs-lookup"><span data-stu-id="a3bb6-170">GeneralError*</span></span>

<span data-ttu-id="a3bb6-171">**Orsaken till klustret fästning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-171">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a3bb6-172">Flyttningen är delvis innebär att du har stoppats (frigjorts) en eller mer, men inte alla virtuella datorer i en molntjänst.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-172">Partial deallocation means that you stopped (deallocated) one or more, but not all, VMs in a cloud service.</span></span> <span data-ttu-id="a3bb6-173">När du stoppar (frigöra) en VM, associerade resurser släpps.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-173">When you stop (deallocate) a VM, the associated resources are released.</span></span> <span data-ttu-id="a3bb6-174">Starta om den stoppats (frigjorts) VM är därför en ny begäran om minnesallokering.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-174">Restarting that stopped (deallocated) VM is therefore a new allocation request.</span></span> <span data-ttu-id="a3bb6-175">Starta om virtuella datorer i en delvis frigjord molntjänst är detsamma som att lägga till virtuella datorer i en befintlig molntjänst.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-175">Restarting VMs in a partially deallocated cloud service is equivalent to adding VMs to an existing cloud service.</span></span> <span data-ttu-id="a3bb6-176">Begäran om minnesallokering måste göras i det ursprungliga klustret som är värd för befintlig molntjänst.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-176">The allocation request has to be attempted at the original cluster that hosts the existing cloud service.</span></span> <span data-ttu-id="a3bb6-177">Skapa en annan molntjänst kan Azure-plattformen att hitta ett annat kluster som har fri resurs eller stöder VM-storlek som du har begärt.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-177">Creating a different cloud service allows the Azure platform to find another cluster that has free resource or supports the VM size that you requested.</span></span>

<span data-ttu-id="a3bb6-178">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-178">**Workaround**</span></span>

<span data-ttu-id="a3bb6-179">Om det går att använda en annan VIP, ta bort de stoppats (frigjorts) virtuella datorerna (men behålla de associera diskarna) och lägga till de virtuella datorerna tillbaka via en annan molntjänst.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-179">If it's acceptable to use a different VIP, delete the stopped (deallocated) VMs (but keep the associated disks) and add the VMs back through a different cloud service.</span></span> <span data-ttu-id="a3bb6-180">Använd ett regionalt virtuellt nätverk för att ansluta dina molntjänster:</span><span class="sxs-lookup"><span data-stu-id="a3bb6-180">Use a regional virtual network to connect your cloud services:</span></span>

* <span data-ttu-id="a3bb6-181">Om en befintlig molntjänst använder ett regionalt virtuellt nätverk kan bara lägga till ny molntjänst till samma virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-181">If your existing cloud service uses a regional virtual network, simply add the new cloud service to the same virtual network.</span></span>
* <span data-ttu-id="a3bb6-182">Om en befintlig molntjänst inte använder ett regionalt virtuellt nätverk, skapa ett nytt virtuellt nätverk för den nya Molntjänsten och sedan [ansluta befintliga virtuella nätverket till ett nytt virtuellt nätverk](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="a3bb6-182">If your existing cloud service does not use a regional virtual network, create a new virtual network for the new cloud service, and then [connect your existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="a3bb6-183">Läs mer [regionala virtuella nätverk](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="a3bb6-183">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

## <a name="allocation-scenario-restart-fully-stopped-deallocated-vms"></a><span data-ttu-id="a3bb6-184">Allokering av scenario: starta om fullständigt stoppats (frigjorts) virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="a3bb6-184">Allocation scenario: Restart fully stopped (deallocated) VMs</span></span>
<span data-ttu-id="a3bb6-185">**Fel**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-185">**Error**</span></span>

<span data-ttu-id="a3bb6-186">GeneralError *</span><span class="sxs-lookup"><span data-stu-id="a3bb6-186">GeneralError*</span></span>

<span data-ttu-id="a3bb6-187">**Orsaken till klustret fästning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-187">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a3bb6-188">Fullständig flyttningen innebär att du har stoppats frigjorts () alla virtuella datorer från en tjänst i molnet.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-188">Full deallocation means that you stopped (deallocated) all VMs from a cloud service.</span></span> <span data-ttu-id="a3bb6-189">Av allokeringsbegäranden att starta om dessa virtuella datorer måste göras i det ursprungliga klustret som är värd för Molntjänsten.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-189">The allocation requests to restart these VMs have to be attempted at the original cluster that hosts the cloud service.</span></span> <span data-ttu-id="a3bb6-190">Skapa en ny molntjänst kan Azure-plattformen att hitta ett annat kluster som har lediga resurser eller stöder VM-storlek som du har begärt.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-190">Creating a new cloud service allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="a3bb6-191">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-191">**Workaround**</span></span>

<span data-ttu-id="a3bb6-192">Om det går att använda en annan VIP, ta bort de ursprungliga stoppats (frigjorts) virtuella datorerna (men behåll de associera diskarna) och ta bort motsvarande Molntjänsten (associerade beräkningsresurser har redan getts ut när du stoppats (frigjorts) de virtuella datorerna).</span><span class="sxs-lookup"><span data-stu-id="a3bb6-192">If it's acceptable to use a different VIP, delete the original stopped (deallocated) VMs (but keep the associated disks) and delete the corresponding cloud service (the associated compute resources were already released when you stopped (deallocated) the VMs).</span></span> <span data-ttu-id="a3bb6-193">Skapa en ny molntjänst för att lägga till de virtuella datorerna tillbaka.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-193">Create a new cloud service to add the VMs back.</span></span>

## <a name="allocation-scenario-stagingproduction-deployments-platform-as-a-service-only"></a><span data-ttu-id="a3bb6-194">Allokering av scenario: mellanlagring/Produktionsdistribution (plattform som en tjänst endast)</span><span class="sxs-lookup"><span data-stu-id="a3bb6-194">Allocation scenario: Staging/production deployments (platform as a service only)</span></span>
<span data-ttu-id="a3bb6-195">**Fel**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-195">**Error**</span></span>

<span data-ttu-id="a3bb6-196">New_General * eller * New_VMSizeNotSupported</span><span class="sxs-lookup"><span data-stu-id="a3bb6-196">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="a3bb6-197">**Orsaken till klustret fästning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-197">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a3bb6-198">Fristående distributionen och Produktionsdistribution av en tjänst i molnet finns i samma kluster.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-198">The staging deployment and the production deployment of a cloud service are hosted in the same cluster.</span></span> <span data-ttu-id="a3bb6-199">När du lägger till den andra distributionen görs motsvarande allokeringsbegäran i samma kluster som är värd för den första distributionen.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-199">When you add the second deployment, the corresponding allocation request will be attempted in the same cluster that hosts the first deployment.</span></span>

<span data-ttu-id="a3bb6-200">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-200">**Workaround**</span></span>

<span data-ttu-id="a3bb6-201">Ta bort den första distributionen och ursprungligt Molntjänsten och distribuera Molntjänsten.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-201">Delete the first deployment and the original cloud service and redeploy the cloud service.</span></span> <span data-ttu-id="a3bb6-202">Den här åtgärden kan hamna den första distributionen i ett kluster som har tillräckligt med lediga resurser för att få plats båda distributionerna eller i ett kluster som stöder VM-storlekar som du har begärt.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-202">This action may land the first deployment in a cluster that has enough free resources to fit both deployments or in a cluster that supports the VM sizes that you requested.</span></span>

## <a name="allocation-scenario-affinity-group-vmservice-proximity"></a><span data-ttu-id="a3bb6-203">Allokering av scenario: tillhörighetsgrupp (VM-tjänsten närhet)</span><span class="sxs-lookup"><span data-stu-id="a3bb6-203">Allocation scenario: Affinity group (VM/service proximity)</span></span>
<span data-ttu-id="a3bb6-204">**Fel**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-204">**Error**</span></span>

<span data-ttu-id="a3bb6-205">New_General * eller * New_VMSizeNotSupported</span><span class="sxs-lookup"><span data-stu-id="a3bb6-205">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="a3bb6-206">**Orsaken till klustret fästning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-206">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a3bb6-207">Att beräkna någon resurs som tilldelats en tillhörighetsgrupp som är kopplat till ett kluster.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-207">Any compute resource assigned to an affinity group is tied to one cluster.</span></span> <span data-ttu-id="a3bb6-208">Nya beräkningsresurser begäranden i den tillhörighetsgrupp görs i samma kluster där de befintliga resurserna finns.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-208">New compute resource requests in that affinity group are attempted in the same cluster where the existing resources are hosted.</span></span> <span data-ttu-id="a3bb6-209">Detta är SANT om nya resurser som har skapats via en ny molntjänst eller en befintlig molntjänst.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-209">This is true whether the new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="a3bb6-210">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-210">**Workaround**</span></span>

<span data-ttu-id="a3bb6-211">Om en tillhörighetsgrupp inte är nödvändigt, inte använda en tillhörighetsgrupp, eller gruppera dina beräkningsresurser i flera tillhörighetsgrupper.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-211">If an affinity group is not necessary, do not use an affinity group, or group your compute resources into multiple affinity groups.</span></span>

## <a name="allocation-scenario-affinity-group-based-virtual-network"></a><span data-ttu-id="a3bb6-212">Allokering av scenario: tillhörighet-grupp-baserade virtuella nätverk</span><span class="sxs-lookup"><span data-stu-id="a3bb6-212">Allocation scenario: Affinity-group-based virtual network</span></span>
<span data-ttu-id="a3bb6-213">**Fel**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-213">**Error**</span></span>

<span data-ttu-id="a3bb6-214">New_General * eller * New_VMSizeNotSupported</span><span class="sxs-lookup"><span data-stu-id="a3bb6-214">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="a3bb6-215">**Orsaken till klustret fästning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-215">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a3bb6-216">Innan regionala virtuella nätverk har introducerats var du tvungen att koppla ett virtuellt nätverk med en tillhörighetsgrupp.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-216">Before regional virtual networks were introduced, you were required to associate a virtual network with an affinity group.</span></span> <span data-ttu-id="a3bb6-217">Därför kan beräkna resurser placeras i en tillhörighetsgrupp som är bundna av samma begränsningar som beskrivs i den ”allokering scenario: tillhörighetsgrupp (VM-tjänsten närhet)” ovan.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-217">As a result, compute resources placed into an affinity group are bound by the same constraints as described in the "Allocation scenario: Affinity group (VM/service proximity)" section above.</span></span> <span data-ttu-id="a3bb6-218">Beräkningsresurserna är knutna till ett kluster.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-218">The compute resources are tied to one cluster.</span></span>

<span data-ttu-id="a3bb6-219">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-219">**Workaround**</span></span>

<span data-ttu-id="a3bb6-220">Om du inte behöver en tillhörighetsgrupp, skapa ett nytt regionalt virtuellt nätverk för de nya resurser som du vill lägga till, och sedan [ansluta befintliga virtuella nätverket till ett nytt virtuellt nätverk](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="a3bb6-220">If you do not need an affinity group, create a new regional virtual network for the new resources you're adding, and then [connect your existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="a3bb6-221">Läs mer [regionala virtuella nätverk](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="a3bb6-221">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

<span data-ttu-id="a3bb6-222">Du kan också [migrera tillhörighet-grupp-baserat virtuellt nätverk till ett regionalt virtuellt nätverk](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), och Lägg sedan till önskade resurser.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-222">Alternatively, you can [migrate your affinity-group-based virtual network to a regional virtual network](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), and then add the desired resources again.</span></span>

## <a name="detailed-troubleshooting-steps-specific-allocation-failure-scenarios-in-the-azure-resource-manager-deployment-model"></a><span data-ttu-id="a3bb6-223">Detaljerad felsökning steg allokering av specifika scenarier i Azure Resource Manager-distributionsmodellen</span><span class="sxs-lookup"><span data-stu-id="a3bb6-223">Detailed troubleshooting steps specific allocation failure scenarios in the Azure Resource Manager deployment model</span></span>
<span data-ttu-id="a3bb6-224">Här följer vanliga scenarier för allokering som gör en begäran om minnesallokering för att fästa.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-224">Here are common allocation scenarios that cause an allocation request to be pinned.</span></span> <span data-ttu-id="a3bb6-225">Vi kommer fördjupa dig i varje scenario senare i den här artikeln.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-225">We'll dive into each scenario later in this article.</span></span>

* <span data-ttu-id="a3bb6-226">Ändra storlek på en virtuell dator eller lägga till VM: ar eller rollinstanser i en befintlig molntjänst</span><span class="sxs-lookup"><span data-stu-id="a3bb6-226">Resize a VM or add VMs or role instances to an existing cloud service</span></span>
* <span data-ttu-id="a3bb6-227">Starta om delvis stoppats (frigjorts) virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="a3bb6-227">Restart partially stopped (deallocated) VMs</span></span>
* <span data-ttu-id="a3bb6-228">Starta om fullständigt stoppats (frigjorts) virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="a3bb6-228">Restart fully stopped (deallocated) VMs</span></span>

<span data-ttu-id="a3bb6-229">När du får ett Allokeringsfel se om någon av de scenarier som beskrivs gäller för din fel.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-229">When you receive an allocation error, see if any of the scenarios described apply to your error.</span></span> <span data-ttu-id="a3bb6-230">Använd allokering felet som returnerades av Azure-plattformen för att identifiera motsvarande scenario.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-230">Use the allocation error returned by the Azure platform to identify the corresponding scenario.</span></span> <span data-ttu-id="a3bb6-231">Om din begäran är fäst på ett befintligt kluster, kan du ta bort några av fästa begränsningarna för att öppna din förfrågan om att flera kluster, vilket ökar risken för allokering lyckades.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-231">If your request is pinned to an existing cluster, remove some of the pinning constraints to open your request to more clusters, thereby increasing the chance of allocation success.</span></span>

<span data-ttu-id="a3bb6-232">I allmänhet så länge felet inte indikerar ”den begärda VM-storleken inte stöds”, kan du alltid försök vid ett senare tillfälle som tillräckligt med resurser kan ha frigjorts i klustret för att hantera din förfrågan.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-232">In general, as long as the error does not indicate "the requested VM size is not supported," you can always retry at a later time, as enough resources may have been freed in the cluster to accommodate your request.</span></span> <span data-ttu-id="a3bb6-233">Om problemet är att den begärda VM-storleken inte stöds, se nedan för lösningar.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-233">If the problem is that the requested VM size is not supported, see below for workarounds.</span></span>

## <a name="allocation-scenario-resize-a-vm-or-add-vms-to-an-existing-availability-set"></a><span data-ttu-id="a3bb6-234">Allokering av scenario: ändra storlek på en virtuell dator eller Lägg till virtuella datorer i en befintlig tillgänglighetsuppsättning</span><span class="sxs-lookup"><span data-stu-id="a3bb6-234">Allocation scenario: Resize a VM or add VMs to an existing availability set</span></span>
<span data-ttu-id="a3bb6-235">**Fel**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-235">**Error**</span></span>

<span data-ttu-id="a3bb6-236">Upgrade_VMSizeNotSupported * eller * GeneralError</span><span class="sxs-lookup"><span data-stu-id="a3bb6-236">Upgrade_VMSizeNotSupported* or GeneralError*</span></span>

<span data-ttu-id="a3bb6-237">**Orsaken till klustret fästning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-237">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a3bb6-238">En begäran att ändra storlek på en virtuell dator eller lägga till en virtuell dator i en befintlig tillgänglighetsuppsättning måste göras i det ursprungliga klustret som är värd för den befintliga tillgänglighetsuppsättningen.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-238">A request to resize a VM or add a VM to an existing availability set has to be attempted at the original cluster that hosts the existing availability set.</span></span> <span data-ttu-id="a3bb6-239">Skapa en ny tillgänglighetsuppsättning kan Azure-plattformen att hitta ett annat kluster som har lediga resurser eller stöder VM-storlek som du har begärt.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-239">Creating a new availability set allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="a3bb6-240">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-240">**Workaround**</span></span>

<span data-ttu-id="a3bb6-241">Om felet är Upgrade_VMSizeNotSupported *, kan du prova en annan VM-storlek.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-241">If the error is Upgrade_VMSizeNotSupported*, try a different VM size.</span></span> <span data-ttu-id="a3bb6-242">Om med en annan VM-storlek inte är ett alternativ, stoppas alla virtuella datorer i tillgänglighetsuppsättningen.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-242">If using a different VM size is not an option, stop all VMs in the availability set.</span></span> <span data-ttu-id="a3bb6-243">Du kan sedan ändra storleken på den virtuella datorn som allokeras till den virtuella datorn till ett kluster som har stöd för den önskade Virtuella datorstorleken.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-243">You can then change the size of the virtual machine that will allocate the VM to a cluster that supports the desired VM size.</span></span>

<span data-ttu-id="a3bb6-244">Om felet GeneralError *, är det troligt att typ av resurs (till exempel en viss VM-storlek) stöds av klustret, men klustret saknar lediga resurser för tillfället.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-244">If the error is GeneralError*, it's likely that the type of resource (such as a particular VM size) is supported by the cluster, but the cluster does not have free resources at the moment.</span></span> <span data-ttu-id="a3bb6-245">Om den virtuella datorn kan vara en del av en annan tillgänglighetsuppsättning, kan du skapa en ny virtuell dator i en annan tillgänglighetsuppsättning (i samma region).</span><span class="sxs-lookup"><span data-stu-id="a3bb6-245">If the VM can be part of a different availability set, create a new VM in a different availability set (in the same region).</span></span> <span data-ttu-id="a3bb6-246">Den här nya virtuella datorn kan sedan läggas till samma virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-246">This new VM can then be added to the same virtual network.</span></span>  

## <a name="allocation-scenario-restart-partially-stopped-deallocated-vms"></a><span data-ttu-id="a3bb6-247">Allokering av scenario: starta om delvis stoppats (frigjorts) virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="a3bb6-247">Allocation scenario: Restart partially stopped (deallocated) VMs</span></span>
<span data-ttu-id="a3bb6-248">**Fel**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-248">**Error**</span></span>

<span data-ttu-id="a3bb6-249">GeneralError *</span><span class="sxs-lookup"><span data-stu-id="a3bb6-249">GeneralError*</span></span>

<span data-ttu-id="a3bb6-250">**Orsaken till klustret fästning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-250">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a3bb6-251">Flyttningen är delvis innebär att du har stoppats (frigjorts) en eller flera, men inte alla, virtuella datorer i en tillgänglighetsgrupp.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-251">Partial deallocation means that you stopped (deallocated) one or more, but not all, VMs in an availability set.</span></span> <span data-ttu-id="a3bb6-252">När du stoppar (frigöra) en VM, associerade resurser släpps.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-252">When you stop (deallocate) a VM, the associated resources are released.</span></span> <span data-ttu-id="a3bb6-253">Starta om den stoppats (frigjorts) VM är därför en ny begäran om minnesallokering.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-253">Restarting that stopped (deallocated) VM is therefore a new allocation request.</span></span> <span data-ttu-id="a3bb6-254">Starta om virtuella datorer i en delvis frigjord tillgänglighetsuppsättning är detsamma som att lägga till virtuella datorer i en befintlig tillgänglighetsuppsättning.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-254">Restarting VMs in a partially deallocated availability set is equivalent to adding VMs to an existing availability set.</span></span> <span data-ttu-id="a3bb6-255">Begäran om minnesallokering måste göras i det ursprungliga klustret som är värd för den befintliga tillgänglighetsuppsättningen.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-255">The allocation request has to be attempted at the original cluster that hosts the existing availability set.</span></span>

<span data-ttu-id="a3bb6-256">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-256">**Workaround**</span></span>

<span data-ttu-id="a3bb6-257">Stoppa alla virtuella datorer i tillgänglighetsuppsättning innan du startar om det första.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-257">Stop all VMs in the availability set before restarting the first one.</span></span> <span data-ttu-id="a3bb6-258">Detta garanterar att ett nytt försök för allokering körs och att ett nytt kluster kan väljas som har tillgänglig kapacitet.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-258">This will ensure that a new allocation attempt is run and that a new cluster can be selected that has available capacity.</span></span>

## <a name="allocation-scenario-restart-fully-stopped-deallocated"></a><span data-ttu-id="a3bb6-259">Allokering av scenario: starta om fullständigt stoppats (frigjorts)</span><span class="sxs-lookup"><span data-stu-id="a3bb6-259">Allocation scenario: Restart fully stopped (deallocated)</span></span>
<span data-ttu-id="a3bb6-260">**Fel**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-260">**Error**</span></span>

<span data-ttu-id="a3bb6-261">GeneralError *</span><span class="sxs-lookup"><span data-stu-id="a3bb6-261">GeneralError*</span></span>

<span data-ttu-id="a3bb6-262">**Orsaken till klustret fästning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-262">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a3bb6-263">Fullständig flyttningen innebär att du har stoppats frigjorts () alla virtuella datorer i en tillgänglighetsuppsättning.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-263">Full deallocation means that you stopped (deallocated) all VMs in an availability set.</span></span> <span data-ttu-id="a3bb6-264">Begäran om minnesallokering att starta om dessa virtuella datorer gäller alla kluster som har stöd för önskad storlek.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-264">The allocation request to restart these VMs will target all clusters that support the desired size.</span></span>

<span data-ttu-id="a3bb6-265">**Lösning**</span><span class="sxs-lookup"><span data-stu-id="a3bb6-265">**Workaround**</span></span>

<span data-ttu-id="a3bb6-266">Välj en ny VM-storlek för att allokera.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-266">Select a new VM size to allocate.</span></span> <span data-ttu-id="a3bb6-267">Försök igen senare om det inte fungerar.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-267">If this does not work, please try again later.</span></span>

## <a name="error-string-lookup"></a><span data-ttu-id="a3bb6-268">Felsökning av sträng</span><span class="sxs-lookup"><span data-stu-id="a3bb6-268">Error string lookup</span></span>
<span data-ttu-id="a3bb6-269">**New_VMSizeNotSupported***</span><span class="sxs-lookup"><span data-stu-id="a3bb6-269">**New_VMSizeNotSupported***</span></span>

<span data-ttu-id="a3bb6-270">”VM storlek (eller kombinationen av Virtuella datorstorlekar) krävs av den här distributionen kan inte tillhandahållas pga distribution begränsningar för begäran.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-270">"The VM size (or combination of VM sizes) required by this deployment cannot be provisioned due to deployment request constraints.</span></span> <span data-ttu-id="a3bb6-271">Om möjligt försök lugnt begränsningarna, t.ex virtuella nätverksbindningar, distribution till en värdbaserad tjänst med ingen distribution och till en annan tillhörighetsgrupp eller utan någon tillhörighetsgrupp, eller försök att distribuera till en annan region ”.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-271">If possible, try relaxing constraints such as virtual network bindings, deploying to a hosted service with no other deployment in it and to a different affinity group or with no affinity group, or try deploying to a different region."</span></span>

<span data-ttu-id="a3bb6-272">**New_General***</span><span class="sxs-lookup"><span data-stu-id="a3bb6-272">**New_General***</span></span>

<span data-ttu-id="a3bb6-273">”Gick inte att allokera; Det går inte att uppfylla begränsningarna i förfrågan.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-273">"Allocation failed; unable to satisfy constraints in request.</span></span> <span data-ttu-id="a3bb6-274">Den begärda nya tjänstdistributionen är bunden till en tillhörighetsgrupp eller den riktar sig till ett virtuellt nätverk eller det finns en befintlig distribution under den här värdbaserade tjänsten.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-274">The requested new service deployment is bound to an affinity group, or it targets a virtual network, or there is an existing deployment under this hosted service.</span></span> <span data-ttu-id="a3bb6-275">Dessa omständigheter begränsar den nya distributionen till specifika Azure-resurser.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-275">Any of these conditions constrains the new deployment to specific Azure resources.</span></span> <span data-ttu-id="a3bb6-276">Försök igen senare eller försök att minska den Virtuella datorstorleken eller antalet rollinstanser.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-276">Please retry later or try reducing the VM size or number of role instances.</span></span> <span data-ttu-id="a3bb6-277">Alternativt, om möjligt ta bort de tidigare nämnda begränsningarna eller försök att distribuera till en annan region ”.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-277">Alternatively, if possible, remove the aforementioned constraints or try deploying to a different region."</span></span>

<span data-ttu-id="a3bb6-278">**Upgrade_VMSizeNotSupported***</span><span class="sxs-lookup"><span data-stu-id="a3bb6-278">**Upgrade_VMSizeNotSupported***</span></span>

<span data-ttu-id="a3bb6-279">”Det gick inte att uppgradera distributionen.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-279">"Unable to upgrade the deployment.</span></span> <span data-ttu-id="a3bb6-280">Den begärda VM-storleken XXX får inte vara tillgängliga i de resurser som stödjer den befintliga distributionen.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-280">The requested VM size XXX may not be available in the resources supporting the existing deployment.</span></span> <span data-ttu-id="a3bb6-281">Försök igen senare, försök med en annan VM-storlek eller ett mindre antal rollinstanser eller skapa en distribution under en tom värdtjänst med en ny tillhörighetsgrupp eller utan tillhörighetsgruppsbindning ”.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-281">Please try again later, try with a different VM size or smaller number of role instances, or create a deployment under an empty hosted service with a new affinity group or no affinity group binding."</span></span>

<span data-ttu-id="a3bb6-282">**GeneralError***</span><span class="sxs-lookup"><span data-stu-id="a3bb6-282">**GeneralError***</span></span>

<span data-ttu-id="a3bb6-283">”Ett internt fel påträffades av servern.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-283">"The server encountered an internal error.</span></span> <span data-ttu-id="a3bb6-284">Försök att utföra begäran ”.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-284">Please retry the request."</span></span> <span data-ttu-id="a3bb6-285">Eller ”det gick inte att skapa en allokering för tjänsten”.</span><span class="sxs-lookup"><span data-stu-id="a3bb6-285">Or "Failed to produce an allocation for the service."</span></span>

