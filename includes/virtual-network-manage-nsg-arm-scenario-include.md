## <a name="sample-scenario"></a><span data-ttu-id="a4421-101">Exempelscenario</span><span class="sxs-lookup"><span data-stu-id="a4421-101">Sample Scenario</span></span>
<span data-ttu-id="a4421-102">Den här artikeln används för att illustrera hur du hanterar NSG: er bättre scenariot nedan.</span><span class="sxs-lookup"><span data-stu-id="a4421-102">To better illustrate how to manage NSGs, this article uses the scenario below.</span></span>

![VNet-scenario](./media/virtual-networks-create-nsg-scenario-include/figure1.png)

<span data-ttu-id="a4421-104">I det här scenariot skapar du en NSG för varje undernät i den **TestVNet** virtuella nätverk som beskrivs nedan:</span><span class="sxs-lookup"><span data-stu-id="a4421-104">In this scenario you will create an NSG for each subnet in the **TestVNet** virtual network, as described below:</span></span> 

* <span data-ttu-id="a4421-105">**NSG-klientdel**.</span><span class="sxs-lookup"><span data-stu-id="a4421-105">**NSG-FrontEnd**.</span></span> <span data-ttu-id="a4421-106">Klientdelen NSG tillämpas på den *klientdel* undernät, och innehåller två regler:</span><span class="sxs-lookup"><span data-stu-id="a4421-106">The front end NSG will be applied to the *FrontEnd* subnet, and contain two rules:</span></span>    
  * <span data-ttu-id="a4421-107">**RDP-regel**.</span><span class="sxs-lookup"><span data-stu-id="a4421-107">**rdp-rule**.</span></span> <span data-ttu-id="a4421-108">Den här regeln tillåter RDP-trafik till den *klientdel* undernät.</span><span class="sxs-lookup"><span data-stu-id="a4421-108">This rule will allow RDP traffic to the *FrontEnd* subnet.</span></span>
  * <span data-ttu-id="a4421-109">**regel för Web**.</span><span class="sxs-lookup"><span data-stu-id="a4421-109">**web-rule**.</span></span> <span data-ttu-id="a4421-110">Den här regeln ska tillåta HTTP-trafik till den *klientdel* undernät.</span><span class="sxs-lookup"><span data-stu-id="a4421-110">This rule will allow HTTP traffic to the *FrontEnd* subnet.</span></span>
* <span data-ttu-id="a4421-111">**NSG-BackEnd**.</span><span class="sxs-lookup"><span data-stu-id="a4421-111">**NSG-BackEnd**.</span></span> <span data-ttu-id="a4421-112">NSG tillämpas på serverdelen i *BackEnd* undernät, och innehåller två regler:</span><span class="sxs-lookup"><span data-stu-id="a4421-112">The back end NSG will be applied to the *BackEnd* subnet, and contain two rules:</span></span>    
  * <span data-ttu-id="a4421-113">**SQL-regel**.</span><span class="sxs-lookup"><span data-stu-id="a4421-113">**sql-rule**.</span></span> <span data-ttu-id="a4421-114">Den här regeln kan SQL-trafik från den *klientdel* undernät.</span><span class="sxs-lookup"><span data-stu-id="a4421-114">This rule allows SQL traffic only from the *FrontEnd* subnet.</span></span>
  * <span data-ttu-id="a4421-115">**regel för Web**.</span><span class="sxs-lookup"><span data-stu-id="a4421-115">**web-rule**.</span></span> <span data-ttu-id="a4421-116">Den här regeln nekar alla internet-bunden trafik från den *BackEnd* undernät.</span><span class="sxs-lookup"><span data-stu-id="a4421-116">This rule denies all internet bound traffic from the *BackEnd* subnet.</span></span>

<span data-ttu-id="a4421-117">Kombinationen av reglerna skapar ett DMZ-liknande scenario där backend-undernät kan bara att ta emot inkommande trafik för SQL-trafik från klientdelens undernät, och inte har åtkomst till Internet, medan klientdelens undernät kan kommunicera med Internet och ta emot inkommande HTTP-begäranden endast.</span><span class="sxs-lookup"><span data-stu-id="a4421-117">The combination of these rules create a DMZ-like scenario, where the back end subnet can only receive incoming traffic for SQL traffic from the front end subnet, and has no access to the Internet, while the front end subnet can communicate with the Internet, and receive incoming HTTP requests only.</span></span>

<span data-ttu-id="a4421-118">Om du vill distribuera det scenario som beskrivs ovan, Följ [länken](http://github.com/telmosampaio/azure-templates/tree/master/201-IaaS-WebFrontEnd-SQLBackEnd-NSG), klickar du på **till Azure**, ersätta Standardparametervärden om det behövs och följ instruktionerna i portalen.</span><span class="sxs-lookup"><span data-stu-id="a4421-118">To deploy the scenario described above, follow [this link](http://github.com/telmosampaio/azure-templates/tree/master/201-IaaS-WebFrontEnd-SQLBackEnd-NSG), click **Deploy to Azure**, replace the default parameter values if necessary, and follow the instructions in the portal.</span></span> <span data-ttu-id="a4421-119">I exemplet anvisningarna nedan mallen som användes för att distribuera en resursgruppnamn **RG NSG**.</span><span class="sxs-lookup"><span data-stu-id="a4421-119">In the sample instructions below, the template was used to deploy a resource group names **RG-NSG**.</span></span> 

