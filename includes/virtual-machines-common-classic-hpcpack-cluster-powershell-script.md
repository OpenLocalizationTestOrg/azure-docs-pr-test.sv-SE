



<span data-ttu-id="7ff8d-101">Beroende på din miljö och alternativ kan hello skript skapa alla hello klustret infrastrukturen, till exempel hello Azure-nätverk, storage-konton, molntjänster, domänkontrollant, fjärrdatorer eller lokala SQL-databaser, huvudnod och ytterligare kluster noder.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-101">Depending on your environment and choices, hello script can create all hello cluster infrastructure, including hello Azure virtual network, storage accounts, cloud services, domain controller, remote or local SQL databases, head node, and additional cluster nodes.</span></span> <span data-ttu-id="7ff8d-102">Hello skript kan även använda befintlig Azure-infrastrukturen och skapar endast hello HPC klusternoder.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-102">Alternatively, hello script can use pre-existing Azure infrastructure and create only hello HPC cluster nodes.</span></span>

<span data-ttu-id="7ff8d-103">Bakgrundsinformation om hur du planerar en HPC Pack klustret finns hello [produktutvärdering och planera](https://technet.microsoft.com/library/jj899596.aspx) och [komma igång](https://technet.microsoft.com/library/jj899590.aspx) innehåll i hello HPC Pack 2012 R2 TechNet-biblioteket.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-103">For background information about planning an HPC Pack cluster, see hello [Product Evaluation and Planning](https://technet.microsoft.com/library/jj899596.aspx) and [Getting Started](https://technet.microsoft.com/library/jj899590.aspx) content in hello HPC Pack 2012 R2 TechNet Library.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="7ff8d-104">Krav</span><span class="sxs-lookup"><span data-stu-id="7ff8d-104">Prerequisites</span></span>
* <span data-ttu-id="7ff8d-105">**Azure-prenumeration**: du kan använda en prenumeration i antingen hello Azure Global eller Azure Kina service.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-105">**Azure subscription**: You can use a subscription in either hello Azure Global or Azure China service.</span></span> <span data-ttu-id="7ff8d-106">Din prenumerationsbegränsningar påverkar hello antalet och typen av klusternoder som du kan distribuera.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-106">Your subscription limits affect hello number and type of cluster nodes you can deploy.</span></span> <span data-ttu-id="7ff8d-107">Mer information finns i [Azure-prenumeration och tjänsten gränser, kvoter och begränsningar](../articles/azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="7ff8d-107">For information, see [Azure subscription and service limits, quotas, and constraints](../articles/azure-subscription-service-limits.md).</span></span>
* <span data-ttu-id="7ff8d-108">**Windows-klientdator med Azure PowerShell 0.8.10 eller senare installerat och konfigurerat**: se [Kom igång med Azure PowerShell](/powershell/azureps-cmdlets-docs) för installationen instruktioner och steg tooconnect tooyour Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-108">**Windows client computer with Azure PowerShell 0.8.10 or later installed and configured**: See [Get started with Azure PowerShell](/powershell/azureps-cmdlets-docs) for installation instructions and steps tooconnect tooyour Azure subscription.</span></span>
* <span data-ttu-id="7ff8d-109">**HPC Pack IaaS distributionsskriptet**: hämta och packa upp hello senaste versionen av hello skriptet från hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span><span class="sxs-lookup"><span data-stu-id="7ff8d-109">**HPC Pack IaaS deployment script**: Download and unpack hello latest version of hello script from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span></span> <span data-ttu-id="7ff8d-110">Kontrollera hello version av hello skriptet genom att köra `New-HPCIaaSCluster.ps1 –Version`.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-110">Check hello version of hello script by running `New-HPCIaaSCluster.ps1 –Version`.</span></span> <span data-ttu-id="7ff8d-111">Den här artikeln baserat på version 4.5.2 hello skriptet.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-111">This article is based on version 4.5.2 of hello script.</span></span>
* <span data-ttu-id="7ff8d-112">**Konfigurationsfilen**: skapa en XML-fil att hello skript använder tooconfigure hello HPC-kluster.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-112">**Script configuration file**: Create an XML file that hello script uses tooconfigure hello HPC cluster.</span></span> <span data-ttu-id="7ff8d-113">Mer information och exempel finns avsnitt senare i den här artikeln och hello filen Manual.rtf som medföljer hello distributionsskriptet.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-113">For information and examples, see sections later in this article and hello file Manual.rtf that accompanies hello deployment script.</span></span>

## <a name="syntax"></a><span data-ttu-id="7ff8d-114">Syntax</span><span class="sxs-lookup"><span data-stu-id="7ff8d-114">Syntax</span></span>
```PowerShell
New-HPCIaaSCluster.ps1 [-ConfigFile] <String> [-AdminUserName]<String> [[-AdminPassword] <String>] [[-HPCImageName] <String>] [[-LogFile] <String>] [-Force] [-NoCleanOnFailure] [-PSSessionSkipCACheck] [<CommonParameters>]
```
> [!NOTE]
> <span data-ttu-id="7ff8d-115">Kör hello skriptet som administratör.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-115">Run hello script as an administrator.</span></span>
> 
> 

### <a name="parameters"></a><span data-ttu-id="7ff8d-116">Parametrar</span><span class="sxs-lookup"><span data-stu-id="7ff8d-116">Parameters</span></span>
* <span data-ttu-id="7ff8d-117">**ConfigFile**: Anger hello sökvägen hello configuration file toodescribe hello HPC-kluster.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-117">**ConfigFile**: Specifies hello file path of hello configuration file toodescribe hello HPC cluster.</span></span> <span data-ttu-id="7ff8d-118">Läs mer om hello-konfigurationsfil i det här avsnittet eller i hello fil Manual.rtf i hello mapp hello skript.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-118">See more about hello configuration file in this topic, or in hello file Manual.rtf in hello folder containing hello script.</span></span>
* <span data-ttu-id="7ff8d-119">**AdminUserName**: Anger hello användarnamn.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-119">**AdminUserName**: Specifies hello user name.</span></span> <span data-ttu-id="7ff8d-120">Om hello domänskog skapas av hello skript, blir det hello lokalt administratörsanvändarnamn för alla virtuella datorer och Hej administratör domännamn.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-120">If hello domain forest is created by hello script, this becomes hello local administrator user name for all VMs and hello domain administrator name.</span></span> <span data-ttu-id="7ff8d-121">Om det redan finns hello domänskog anger hello domänanvändare som hello lokal administratör användaren namnet tooinstall HPC Pack.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-121">If hello domain forest already exists, this specifies hello domain user as hello local administrator user name tooinstall HPC Pack.</span></span>
* <span data-ttu-id="7ff8d-122">**AdminPassword**: Anger hello administratörslösenord.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-122">**AdminPassword**: Specifies hello administrator’s password.</span></span> <span data-ttu-id="7ff8d-123">Om inte anges på kommandoraden för hello efterfrågar hello skript tooinput hello lösenord.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-123">If not specified in hello command line, hello script prompts you tooinput hello password.</span></span>
* <span data-ttu-id="7ff8d-124">**HPCImageName** (valfritt): Anger hello HPC Pack VM avbildningens namn används toodeploy hello HPC-kluster.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-124">**HPCImageName** (optional): Specifies hello HPC Pack VM image name used toodeploy hello HPC cluster.</span></span> <span data-ttu-id="7ff8d-125">Det måste vara en Microsoft HPC Pack-avbildning från hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-125">It must be a Microsoft-provided HPC Pack image from hello Azure Marketplace.</span></span> <span data-ttu-id="7ff8d-126">Om inte angetts (rekommenderas vanligtvis), hello skript väljer hello senaste publicerade [HPC Pack 2012 R2-avbildningen](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span><span class="sxs-lookup"><span data-stu-id="7ff8d-126">If not specified (recommended usually), hello script chooses hello latest published [HPC Pack 2012 R2 image](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span></span> <span data-ttu-id="7ff8d-127">hello baseras senaste på Windows Server 2012 R2 Datacenter med HPC Pack 2012 R2 uppdatering 3.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-127">hello latest image is based on Windows Server 2012 R2 Datacenter with HPC Pack 2012 R2 Update 3 installed.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="7ff8d-128">Distributionen misslyckas om du inte anger en giltig HPC Pack-bild.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-128">Deployment fails if you don't specify a valid HPC Pack image.</span></span>
  > 
  > 
* <span data-ttu-id="7ff8d-129">**LogFile** (valfritt): anger loggfilssökvägen hello-distribution.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-129">**LogFile** (optional): Specifies hello deployment log file path.</span></span> <span data-ttu-id="7ff8d-130">Om inget anges skapar hello skriptet en loggfil i hello temp-katalogen på hello-dator som kör hello skript.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-130">If not specified, hello script creates a log file in hello temp directory of hello computer running hello script.</span></span>
* <span data-ttu-id="7ff8d-131">**Framtvinga** (valfritt): förhindrar att alla hello bekräftelse meddelanden.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-131">**Force** (optional): Suppresses all hello confirmation prompts.</span></span>
* <span data-ttu-id="7ff8d-132">**NoCleanOnFailure** (valfritt): Anger att hello Azure virtuella datorer som inte har distribuerat inte tas bort.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-132">**NoCleanOnFailure** (optional): Specifies that hello Azure VMs that are not successfully deployed are not removed.</span></span> <span data-ttu-id="7ff8d-133">Ta bort dessa virtuella datorer manuellt innan du köra hello skriptdistributionen toocontinue hello eller hello distributionen kan misslyckas.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-133">Remove these VMs manually before rerunning hello script toocontinue hello deployment, or hello deployment may fail.</span></span>
* <span data-ttu-id="7ff8d-134">**PSSessionSkipCACheck** (valfritt): för varje molntjänst med virtuella datorer som distribueras med det här skriptet, skapas automatiskt ett självsignerat certifikat av Azure och alla hello virtuella datorer i hello Molntjänsten använda det här certifikatet som standard Windows hello Remote Management (WinRM)-certifikat.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-134">**PSSessionSkipCACheck** (optional): For every cloud service with VMs deployed by this script, a self-signed certificate is automatically generated by Azure, and all hello VMs in hello cloud service use this certificate as hello default Windows Remote Management (WinRM) certificate.</span></span> <span data-ttu-id="7ff8d-135">toodeploy HPC-funktioner i dessa virtuella datorer i Azure, hello skript som standard installeras tillfälligt certifikaten i hello lokal dator\\betrodda rotcertifikatutfärdare för hello klienten datorn toosuppress hello ”inte betrodd Certifikatutfärdare” säkerhet ett fel uppstod vid körning av skript.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-135">toodeploy HPC features in these Azure VMs, hello script by default temporarily installs these certificates in hello Local Computer\\Trusted Root Certification Authorities store of hello client computer toosuppress hello “not trusted CA” security error during script execution.</span></span> <span data-ttu-id="7ff8d-136">hello certifikat tas bort när hello skriptet har körts.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-136">hello certificates are removed when hello script finishes.</span></span> <span data-ttu-id="7ff8d-137">Om den här parametern anges hello certifikat har installerats inte på klientdatorn hello och hello Säkerhetsvarning ignoreras.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-137">If this parameter is specified, hello certificates are not installed in hello client computer, and hello security warning is suppressed.</span></span>
  
  > [!IMPORTANT]
  > <span data-ttu-id="7ff8d-138">Den här parametern rekommenderas inte för Produktionsdistribution.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-138">This parameter is not recommended for production deployments.</span></span>
  > 
  > 

### <a name="example"></a><span data-ttu-id="7ff8d-139">Exempel</span><span class="sxs-lookup"><span data-stu-id="7ff8d-139">Example</span></span>
<span data-ttu-id="7ff8d-140">hello följande exempel skapas ett HPC Pack kluster som använder konfigurationsfilen *MyConfigFile.xml*, och anger administratörsautentiseringsuppgifter som för att installera hello klustret.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-140">hello following example creates an HPC Pack cluster using the configuration file *MyConfigFile.xml*, and specifies administrator credentials for installing hello cluster.</span></span>

```PowerShell
.\New-HPCIaaSCluster.ps1 –ConfigFile MyConfigFile.xml -AdminUserName <username> –AdminPassword <password>
```

### <a name="additional-considerations"></a><span data-ttu-id="7ff8d-141">Annat som är bra att tänka på</span><span class="sxs-lookup"><span data-stu-id="7ff8d-141">Additional considerations</span></span>
* <span data-ttu-id="7ff8d-142">hello skript kan välja att jobbet via webbportalen för hello HPC Pack eller hello HPC Pack REST API.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-142">hello script can optionally enable job submission through hello HPC Pack web portal or hello HPC Pack REST API.</span></span>
* <span data-ttu-id="7ff8d-143">hello-skript kan du köra skript före och efter konfigurationen i hello huvudnod om du vill tooinstall ytterligare programvara eller konfigurera andra inställningar.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-143">hello script can optionally run custom pre- and post-configuration scripts on hello head node if you want tooinstall additional software or configure other settings.</span></span>

## <a name="configuration-file"></a><span data-ttu-id="7ff8d-144">Konfigurationsfilen</span><span class="sxs-lookup"><span data-stu-id="7ff8d-144">Configuration file</span></span>
<span data-ttu-id="7ff8d-145">hello konfigurationsfilen för hello distributionsskriptet är en XML-fil.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-145">hello configuration file for hello deployment script is an XML file.</span></span> <span data-ttu-id="7ff8d-146">hello schemafilen HPCIaaSClusterConfig.xsd är i hello HPC Pack IaaS skript distributionsmappen.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-146">hello schema file HPCIaaSClusterConfig.xsd is in hello HPC Pack IaaS deployment script folder.</span></span> <span data-ttu-id="7ff8d-147">**IaaSClusterConfig** hello rotelement hello konfigurationsfil som innehåller hello underordnade element som beskrivs i detalj i hello filen Manual.rtf i hello distributionsmappen skript.</span><span class="sxs-lookup"><span data-stu-id="7ff8d-147">**IaaSClusterConfig** is hello root element of hello configuration file, which contains hello child elements described in detail in hello file Manual.rtf in hello deployment script folder.</span></span>

