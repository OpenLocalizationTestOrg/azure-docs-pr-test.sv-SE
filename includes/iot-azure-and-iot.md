
# <a name="azure-and-internet-of-things"></a><span data-ttu-id="6b3ca-101">Azure och Sakernas Internet</span><span class="sxs-lookup"><span data-stu-id="6b3ca-101">Azure and Internet of Things</span></span>

<span data-ttu-id="6b3ca-102">Välkommen till Microsoft Azure och Sakernas Internet (Internet of Things, IoT).</span><span class="sxs-lookup"><span data-stu-id="6b3ca-102">Welcome to Microsoft Azure and the Internet of Things (IoT).</span></span> <span data-ttu-id="6b3ca-103">Den här artikeln introducerar en lösningsarkitektur för IoT som beskriver de vanligast förekommande egenskaperna för en IoT-lösning som du kan distribuera med hjälp av Azure-tjänster.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-103">This article introduces an IoT solution architecture that describes the common characteristics of an IoT solution you might deploy using Azure services.</span></span> <span data-ttu-id="6b3ca-104">IoT-lösningar kräver säker, dubbelriktad kommunikation mellan enheter, potentiellt miljontals, samt en serverdelslösning.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-104">IoT solutions require secure, bidirectional communication between devices, possibly numbering in the millions, and a solution back end.</span></span> <span data-ttu-id="6b3ca-105">En serverdelslösning kan exempelvis använda automatiserad, förutsägande analys för att få fram insikter från din enhet-till-molnet händelseström.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-105">For example, a solution back end might use automated, predictive analytics to uncover insights from your device-to-cloud event stream.</span></span>

<span data-ttu-id="6b3ca-106">Azure IoT Hub är en viktig byggsten vid implementering av den här IoT-lösningsarkitekturen med hjälp av Azure-tjänster.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-106">Azure IoT Hub is a key building block when you implement this IoT solution architecture using Azure services.</span></span> <span data-ttu-id="6b3ca-107">IoT Suite tillhandahåller fullständiga, slutpunkt-till-slutpunkts-implementeringar av den här arkitekturen för specifika IoT-scenarier.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-107">IoT Suite provides complete, end-to-end, implementations of this architecture for specific IoT scenarios.</span></span> <span data-ttu-id="6b3ca-108">Några exempel:</span><span class="sxs-lookup"><span data-stu-id="6b3ca-108">For example:</span></span>

* <span data-ttu-id="6b3ca-109">*Fjärrövervaknings*-lösningen låter dig övervaka status för enheter som till exempel varuautomater.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-109">The *remote monitoring* solution enables you to monitor the status of devices such as vending machines.</span></span>
* <span data-ttu-id="6b3ca-110">*Förutsägbart underhålls*-lösningen hjälper dig att förutse underhållsbehov av enheter som till exempel pumpar vid avlägsna pumpstationer för att kunna undvika oplanerade avbrott.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-110">The *predictive maintenance* solution helps you to anticipate maintenance needs of devices such as pumps in remote pumping stations and to avoid unscheduled downtime.</span></span>
* <span data-ttu-id="6b3ca-111">Lösningen *connected factory* hjälper dig att ansluta och övervaka dina industriella enheter.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-111">The *connected factory* solution helps you to connect and monitor your industrial devices.</span></span>

## <a name="iot-solution-architecture"></a><span data-ttu-id="6b3ca-112">IoT-lösningsarkitektur</span><span class="sxs-lookup"><span data-stu-id="6b3ca-112">IoT solution architecture</span></span>

<span data-ttu-id="6b3ca-113">I följande diagram visas en typisk IoT-lösningsarkitektur.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-113">The following diagram shows a typical IoT solution architecture.</span></span> <span data-ttu-id="6b3ca-114">Diagrammet innehåller inte namnen på några specifika Azure-tjänster, utan beskriver snarare nyckelelementen för en generisk IoT-lösningsarkitektur.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-114">The diagram does not include the names of any specific Azure services, but describes the key elements in a generic IoT solution architecture.</span></span> <span data-ttu-id="6b3ca-115">I den här lösningen samlar IoT-enheter in data som de sedan skickar till en molngateway.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-115">In this architecture, IoT devices collect data that they send to a cloud gateway.</span></span> <span data-ttu-id="6b3ca-116">Molngatewayen tillhandahåller data för bearbetning av andra serverdelstjänster som levererar data till andra verksamhetsspecifika program eller till mänskliga operatörer via en instrumentpanel eller annan presentationsenhet.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-116">The cloud gateway makes the data available for processing by other back-end services from where data is delivered to other line-of-business applications or to human operators through a dashboard or other presentation device.</span></span>

![IoT-lösningsarkitektur][img-solution-architecture]

> [!NOTE]
> <span data-ttu-id="6b3ca-118">En detaljerad beskrivning av IoT-arkitekturen finns i [Microsoft Azure IoT Reference Architecture][lnk-refarch] (Referensarkitektur för Microsoft Azure IoT).</span><span class="sxs-lookup"><span data-stu-id="6b3ca-118">For an in-depth discussion of IoT architecture, see the [Microsoft Azure IoT Reference Architecture][lnk-refarch].</span></span>

### <a name="device-connectivity"></a><span data-ttu-id="6b3ca-119">Enhetsanslutning</span><span class="sxs-lookup"><span data-stu-id="6b3ca-119">Device connectivity</span></span>

<span data-ttu-id="6b3ca-120">I den här IoT-lösningsarkitekturen skickar enheter telemetri, till exempel sensoravläsningar från en pumpstation, till en molnslutpunkt för lagring och bearbetning.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-120">In this IoT solution architecture, devices send telemetry, such as sensor readings from a pumping station, to a cloud endpoint for storage and processing.</span></span> <span data-ttu-id="6b3ca-121">I ett scenario med förutsägande underhåll kan lösningen för serverdelen använda sig av strömmen med sensordata för att fastställa när en specifik pump kräver underhåll.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-121">In a predictive maintenance scenario, the solution back end might use the stream of sensor data to determine when a specific pump requires maintenance.</span></span> <span data-ttu-id="6b3ca-122">Enheter kan också ta emot och svara på meddelanden från moln till enhet genom att läsa meddelanden från en molnslutpunkt.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-122">Devices can also receive and respond to cloud-to-device messages by reading messages from a cloud endpoint.</span></span> <span data-ttu-id="6b3ca-123">Exempelvis kan serverdelen av lösningen i scenariot med förutsägande underhåll skicka meddelanden till andra pumpar på pumpstationen för att börja dirigera om flöden strax innan underhållet ska påbörjas.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-123">For example, in the predictive maintenance scenario the solution back end might send messages to other pumps in the pumping station to begin rerouting flows just before maintenance is due to start.</span></span> <span data-ttu-id="6b3ca-124">Den här proceduren säkerställer att underhållsteknikern kan sätta igång så fort han anländer.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-124">This procedure would make sure the maintenance engineer could get started as soon as she arrives.</span></span>

<span data-ttu-id="6b3ca-125">En av de största utmaningarna med IoT-projekt är att på ett tillförlitligt och säkert sätt kunna ansluta enheter till lösningens serverdel.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-125">One of the biggest challenges facing IoT projects is how to reliably and securely connect devices to the solution back end.</span></span> <span data-ttu-id="6b3ca-126">IoT-enheter skiljer sig från andra klienter, till exempel webbläsare och mobilappar.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-126">IoT devices have different characteristics as compared to other clients such as browsers and mobile apps.</span></span> <span data-ttu-id="6b3ca-127">IoT-enheter:</span><span class="sxs-lookup"><span data-stu-id="6b3ca-127">IoT devices:</span></span>

* <span data-ttu-id="6b3ca-128">Är ofta inbyggda system utan en mänsklig operatör.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-128">Are often embedded systems with no human operator.</span></span>
* <span data-ttu-id="6b3ca-129">Kan distribueras på avlägsna platser, där fysisk åtkomst är dyr.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-129">Can be deployed in remote locations, where physical access is expensive.</span></span>
* <span data-ttu-id="6b3ca-130">Kan i vissa fall enbart nås via lösningens serverdel.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-130">May only be reachable through the solution back end.</span></span> <span data-ttu-id="6b3ca-131">Det finns inget annat sätt att interagera med enheten.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-131">There is no other way to interact with the device.</span></span>
* <span data-ttu-id="6b3ca-132">Kan ha begränsade ström- och bearbetningsresurser.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-132">May have limited power and processing resources.</span></span>
* <span data-ttu-id="6b3ca-133">Kan ha oregelbunden, långsam eller dyr nätverksanslutning.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-133">May have intermittent, slow, or expensive network connectivity.</span></span>
* <span data-ttu-id="6b3ca-134">Kan behöva använda patentskyddade, anpassade eller branschspecifika programprotokoll.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-134">May need to use proprietary, custom, or industry-specific application protocols.</span></span>
* <span data-ttu-id="6b3ca-135">Kan skapas med en stor mängd populära maskinvaru- och programvaruplattformar.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-135">Can be created using a large set of popular hardware and software platforms.</span></span>

<span data-ttu-id="6b3ca-136">Förutom kraven ovan behöver alla IoT-lösningar också erbjuda skalbarhet, säkerhet och tillförlitlighet.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-136">In addition to the requirements above, any IoT solution must also deliver scale, security, and reliability.</span></span> <span data-ttu-id="6b3ca-137">Den resulterande uppsättningen anslutningskrav är svår och tidskrävande att implementera med traditionella teknologier, till exempel webbehållare och asynkrona meddelandeköer.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-137">The resulting set of connectivity requirements is hard and time-consuming to implement using traditional technologies such as web containers and messaging brokers.</span></span> <span data-ttu-id="6b3ca-138">Azure IoT Hub och enhets-SDK:erna för Azure IoT gör det enklare att implementera lösningar som uppfyller dessa krav.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-138">Azure IoT Hub and the Azure IoT device SDKs make it easier to implement solutions that meet these requirements.</span></span>

<span data-ttu-id="6b3ca-139">En enhet kan kommunicera direkt med en slutpunkt för en molngateway, eller om enheten inte kan använda sig av något av de kommunikationsprotokoll som molgatewayen stöder så kan den ansluta via en mellanliggande gateway.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-139">A device can communicate directly with a cloud gateway endpoint, or if the device cannot use any of the communications protocols that the cloud gateway supports, it can connect through an intermediate gateway.</span></span> <span data-ttu-id="6b3ca-140">Till exempel kan [Azure IoT-protokollgatewayen][lnk-protocol-gateway] utföra protokollöversättningar om enheter inte kan använda sig av något av de protokoll som stöds av IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-140">For example, the [Azure IoT protocol gateway][lnk-protocol-gateway] can perform protocol translation if devices cannot use any of the protocols that IoT Hub supports.</span></span>

### <a name="data-processing-and-analytics"></a><span data-ttu-id="6b3ca-141">Databearbetning och analys</span><span class="sxs-lookup"><span data-stu-id="6b3ca-141">Data processing and analytics</span></span>

<span data-ttu-id="6b3ca-142">Det är i IoT-lösningens serverdel i molnet som den största delen av databearbetningen sker, speciellt vad gäller filtrering och sammanställning av telemetri och vidarebefordran till andra tjänster.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-142">In the cloud, an IoT solution back end is where most of the data processing occurs, such as filtering and aggregating telemetry and routing it to other services.</span></span> <span data-ttu-id="6b3ca-143">Serverdelen för IoT-lösningen:</span><span class="sxs-lookup"><span data-stu-id="6b3ca-143">The IoT solution back end:</span></span>

* <span data-ttu-id="6b3ca-144">Tar emot stora mängder telemetri från dina enheter och bestämmer hur telemetridata bearbetas och lagras.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-144">Receives telemetry at scale from your devices and determines how to process and store that data.</span></span> 
* <span data-ttu-id="6b3ca-145">Kan låta dig skicka kommandon från molnet till specifika enheter.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-145">May enable you to send commands from the cloud to specific device.</span></span>
* <span data-ttu-id="6b3ca-146">Möjliggör enhetsregistrering, vilket låter dig etablera enheter och styra vilka enheter som får ansluta till din infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-146">Provides device registration capabilities that enable you to provision devices and to control which devices are permitted to connect to your infrastructure.</span></span>
* <span data-ttu-id="6b3ca-147">Låter dig kontrollera status för enheter och övervaka deras verksamhet.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-147">Enables you to track the state of your devices and monitor their activities.</span></span>

<span data-ttu-id="6b3ca-148">I det förutsägande underhållsscenariot, lagrar lösningens serverdel historisk telemetridata.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-148">In the predictive maintenance scenario, the solution back end stores historical telemetry data.</span></span> <span data-ttu-id="6b3ca-149">Lösningens serverdel kan använda sig av dessa data för att identifiera mönster som indikerar att det är dags för underhåll av en viss pump.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-149">The solution back end can use this data to use to identify patterns that indicate maintenance is due on a specific pump.</span></span>

<span data-ttu-id="6b3ca-150">IoT-lösningar kan inkludera automatiska feedback-slingor.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-150">IoT solutions can include automatic feedback loops.</span></span> <span data-ttu-id="6b3ca-151">En analysmodul i lösningens serverdel kan exempelvis utläsa från telemetridata att temperaturen för en specifik enhet är över normal driftsnivå.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-151">For example, an analytics module in the solution back end can identify from telemetry that the temperature of a specific device is above normal operating levels.</span></span> <span data-ttu-id="6b3ca-152">Lösningen kan sedan skicka ett kommando till enheten och instruera den att vidta åtgärder.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-152">The solution can then send a command to the device, instructing it to take corrective action.</span></span>

### <a name="presentation-and-business-connectivity"></a><span data-ttu-id="6b3ca-153">Presentation och företagsanslutningar</span><span class="sxs-lookup"><span data-stu-id="6b3ca-153">Presentation and business connectivity</span></span>

<span data-ttu-id="6b3ca-154">Slutanvändarna kan interagera med IoT-lösningen och enheterna via ett presentations- och företagsanslutningsskikt.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-154">The presentation and business connectivity layer allows end users to interact with the IoT solution and the devices.</span></span> <span data-ttu-id="6b3ca-155">I det här skiktet kan användare se och analysera data som samlats in från deras enheter.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-155">It enables users to view and analyze the data collected from their devices.</span></span> <span data-ttu-id="6b3ca-156">Vyerna kan bestå av instrumentpaneler eller BI-rapporter som kan visa både historiska data eller nästan realtidsdata.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-156">These views can take the form of dashboards or BI reports that can display both historical data or near real-time data.</span></span> <span data-ttu-id="6b3ca-157">En operatör kan exempelvis kontrollera statusen för en viss pumpstation och se alla varningar som har utlösts i systemet.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-157">For example, an operator can check on the status of particular pumping station and see any alerts raised by the system.</span></span> <span data-ttu-id="6b3ca-158">Här kan även IoT-lösningens serverdel integreras med befintliga branschspecifika program för att knyta samman med företagets verksamhetsprocesser eller arbetsflöden.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-158">This layer also allows integration of the IoT solution back end with existing line-of-business applications to tie into enterprise business processes or workflows.</span></span> <span data-ttu-id="6b3ca-159">Förutsägande underhåll kan till exempel integreras med ett system för schemaläggning som bokar in en ingenjör att besöka en pumpstation när en pump är i behov av underhåll.</span><span class="sxs-lookup"><span data-stu-id="6b3ca-159">For example, the predictive maintenance solution can integrate with a scheduling system that books an engineer to visit a pumping station when the solution identifies a pump in need of maintenance.</span></span>

![Instrumentpanel för IoT-lösning][img-dashboard]

[img-solution-architecture]: ./media/iot-azure-and-iot/iot-reference-architecture.png
[img-dashboard]: ./media/iot-azure-and-iot/iot-suite.png

[lnk-machinelearning]: http://azure.microsoft.com/documentation/services/machine-learning/
[Azure IoT Suite]: http://azure.microsoft.com/solutions/iot
[lnk-protocol-gateway]:  ../articles/iot-hub/iot-hub-protocol-gateway.md
[lnk-refarch]: http://download.microsoft.com/download/A/4/D/A4DAD253-BC21-41D3-B9D9-87D2AE6F0719/Microsoft_Azure_IoT_Reference_Architecture.pdf
