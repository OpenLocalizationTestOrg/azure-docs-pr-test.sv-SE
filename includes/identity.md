<span data-ttu-id="8bacb-101">Hantera identitet är lika viktigt i hello offentliga molnet som lokalt.</span><span class="sxs-lookup"><span data-stu-id="8bacb-101">Managing identity is just as important in hello public cloud as it is on premises.</span></span> <span data-ttu-id="8bacb-102">toohelp med den här Azure stöder flera olika identitet molntekniker.</span><span class="sxs-lookup"><span data-stu-id="8bacb-102">toohelp with this, Azure supports several different cloud identity technologies.</span></span> <span data-ttu-id="8bacb-103">De omfattar följande:</span><span class="sxs-lookup"><span data-stu-id="8bacb-103">They include these:</span></span>

* <span data-ttu-id="8bacb-104">Du kan köra Windows Server Active Directory (kallas ofta bara AD) i hello molnet med hjälp av virtuella datorer som skapats med Azure virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="8bacb-104">You can run Windows Server Active Directory (commonly called just AD) in hello cloud using virtual machines created with Azure Virtual machines.</span></span> <span data-ttu-id="8bacb-105">Den här metoden är praktiskt när du använder Azure tooextend ditt lokala datacenter i hello moln.</span><span class="sxs-lookup"><span data-stu-id="8bacb-105">This approach makes sense when you're using Azure tooextend your on-premises datacenter into hello cloud.</span></span>
* <span data-ttu-id="8bacb-106">Du kan använda Azure Active Directory toogive användarna enkel inloggning för[programvara som en tjänst (SaaS)](https://azure.microsoft.com/overview/what-is-saas/) program.</span><span class="sxs-lookup"><span data-stu-id="8bacb-106">You can use Azure Active Directory toogive your users single sign-on too[Software as a Service (SaaS)](https://azure.microsoft.com/overview/what-is-saas/) applications.</span></span> <span data-ttu-id="8bacb-107">Microsoft Office 365 använder den här tekniken, till exempel och program som körs på Azure eller andra molnplattformar kan också använda den.</span><span class="sxs-lookup"><span data-stu-id="8bacb-107">Microsoft's Office 365 uses this technology, for example, and applications running on Azure or other cloud platforms can also use it.</span></span>
* <span data-ttu-id="8bacb-108">Program som körs i hello molnet eller lokalt kan använda Azure Active Directory-åtkomstkontroll toolet användare logga in med identiteter från Facebook, Google, Microsoft och andra identitetsleverantörer.</span><span class="sxs-lookup"><span data-stu-id="8bacb-108">Applications running in hello cloud or on-premises can use Azure Active Directory Access Control toolet users log in using identities from Facebook, Google, Microsoft, and other identity providers.</span></span>

<span data-ttu-id="8bacb-109">Den här artikeln beskrivs alla tre av dessa alternativ.</span><span class="sxs-lookup"><span data-stu-id="8bacb-109">This article describes all three of these options.</span></span>

## <a name="table-of-contents"></a><span data-ttu-id="8bacb-110">Innehållsförteckning</span><span class="sxs-lookup"><span data-stu-id="8bacb-110">Table of Contents</span></span>
* [<span data-ttu-id="8bacb-111">Kör Windows Server Active Directory på virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="8bacb-111">Running Windows Server Active Directory in virtual machines</span></span>](#adinvm)
* [<span data-ttu-id="8bacb-112">Med Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="8bacb-112">Using Azure Active Directory</span></span>](#ad)
* [<span data-ttu-id="8bacb-113">Med hjälp av Azure Active Directory-åtkomstkontroll</span><span class="sxs-lookup"><span data-stu-id="8bacb-113">Using Azure Active Directory Access Control</span></span>](#ac)

## <span data-ttu-id="8bacb-114"><a name="adinvm"></a>Kör Windows Server Active Directory på virtuella datorer</span><span class="sxs-lookup"><span data-stu-id="8bacb-114"><a name="adinvm"></a>Running Windows Server Active Directory in virtual machines</span></span>
<span data-ttu-id="8bacb-115">Kör Windows Server AD i Azure virtuella datorer är mycket lik köra det lokalt.</span><span class="sxs-lookup"><span data-stu-id="8bacb-115">Running Windows Server AD in Azure virtual machines is much like running it on-premises.</span></span> <span data-ttu-id="8bacb-116">[Bild 1](#fig1) visar ett typiskt exempel på hur detta ser ut.</span><span class="sxs-lookup"><span data-stu-id="8bacb-116">[Figure 1](#fig1) shows a typical example of how this looks.</span></span>

![Azure Active Directory på den virtuella datorn](./media/identity/identity_01_ADinVM.png)

<span data-ttu-id="8bacb-118"><a name="Fig1"></a>Bild 1: Windows Server Active Directory kan köras i virtuella Azure-datorer anslutna tooan organisationens lokala datacenter med hjälp av Azure Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="8bacb-118"><a name="Fig1"></a>Figure 1: Windows Server Active Directory can run in Azure virtual machines connected tooan organization's on-premises datacenter using Azure Virtual Network.</span></span>

<span data-ttu-id="8bacb-119">Windows Server AD körs i virtuella datorer som skapats med hjälp av Azure virtuella datorer, hello plattform IaaS-teknik i hello-exemplet som visas här.</span><span class="sxs-lookup"><span data-stu-id="8bacb-119">In hello example shown here, Windows Server AD is running in VMs created using Azure Virtual Machines, hello platform's IaaS technology.</span></span> <span data-ttu-id="8bacb-120">Dessa virtuella datorer och några andra grupperas i virtuella nätverk anslutet tooan lokala datacenter med hjälp av Azure Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="8bacb-120">These VMs and a few others are grouped into a virtual network connected tooan on-premises datacenter using Azure Virtual Network.</span></span> <span data-ttu-id="8bacb-121">hello virtuellt nätverk carves ut en grupp virtuella datorer för molnet som samverkar med hello lokalt nätverk via ett virtuellt privat nätverk (VPN)-anslutning.</span><span class="sxs-lookup"><span data-stu-id="8bacb-121">hello virtual network carves out a group of cloud virtual machines that interact with hello on-premises network via a virtual private network (VPN) connection.</span></span> <span data-ttu-id="8bacb-122">Om du gör detta kan dessa virtuella Azure-datorer ser ut som ett undernät toohello lokala datacenter.</span><span class="sxs-lookup"><span data-stu-id="8bacb-122">Doing this lets these Azure virtual machines look like just another subnet toohello on-premises datacenter.</span></span> <span data-ttu-id="8bacb-123">Som hello bild visas kör två av dessa virtuella datorer Windows Server AD-domänkontrollanter.</span><span class="sxs-lookup"><span data-stu-id="8bacb-123">As hello figure shows, two of those VMs are running Windows Server AD domain controllers.</span></span> <span data-ttu-id="8bacb-124">hello kan andra virtuella datorer i hello virtuella nätverk köra program, till exempel SharePoint eller används på annat sätt, t.ex för utveckling och testning.</span><span class="sxs-lookup"><span data-stu-id="8bacb-124">hello other virtual machines in hello virtual network might be running applications, such as SharePoint, or being used in some other way, such as for development and testing.</span></span> <span data-ttu-id="8bacb-125">hello lokala datacenter kör också två Windows Server AD-domänkontrollanter.</span><span class="sxs-lookup"><span data-stu-id="8bacb-125">hello on-premises datacenter is also running two Windows Server AD domain controllers.</span></span>

<span data-ttu-id="8bacb-126">Det finns flera alternativ för anslutande hello-domänkontrollanter i hello moln med de som kör lokalt:</span><span class="sxs-lookup"><span data-stu-id="8bacb-126">There are several options for connecting hello domain controllers in hello cloud with those running on premises:</span></span>

* <span data-ttu-id="8bacb-127">Kontrollera att alla delar av en enda Active Directory-domän.</span><span class="sxs-lookup"><span data-stu-id="8bacb-127">Make all of them part of a single Active Directory domain.</span></span>
* <span data-ttu-id="8bacb-128">Skapa separata AD domäner lokalt och i hello moln som är en del av hello samma skog.</span><span class="sxs-lookup"><span data-stu-id="8bacb-128">Create separate AD domains on-premises and in hello cloud that are part of hello same forest.</span></span>
* <span data-ttu-id="8bacb-129">Skapa separata AD-skogar i hello molnet och lokalt och sedan ansluta hello skogar med förtroenden mellan skogar eller Windows Server Active Directory Federation Services (AD FS) som kan också köra i virtuella datorer i Azure.</span><span class="sxs-lookup"><span data-stu-id="8bacb-129">Create separate AD forests in hello cloud and on-premises, then connect hello forests using cross-forest trusts or Windows Server Active Directory Federation Services (AD FS), which can also run in virtual machines on Azure.</span></span>

<span data-ttu-id="8bacb-130">Oavsett val görs, en administratör bör kontrollera att autentiseringsbegäranden från lokala användare gå toocloud domänkontrollanter bara när det behövs, eftersom hello länken toohello molnet är sannolikt toobe långsammare än lokala nätverk.</span><span class="sxs-lookup"><span data-stu-id="8bacb-130">Whatever choice is made, an administrator should make sure that authentication requests from on-premises users go toocloud domain controllers only when necessary, since hello link toohello cloud is likely toobe slower than on-premises networks.</span></span> <span data-ttu-id="8bacb-131">En annan faktor tooconsider i anslutande molnet och lokala domänkontrollanter är hello trafik som genereras av replikering.</span><span class="sxs-lookup"><span data-stu-id="8bacb-131">Another factor tooconsider in connecting cloud and on-premises domain controllers is hello traffic generated by replication.</span></span> <span data-ttu-id="8bacb-132">Domänkontrollanter i hello molnet är vanligtvis i sina egna AD-plats, vilket gör att en administratör tooschedule hur ofta replikeringen är klar.</span><span class="sxs-lookup"><span data-stu-id="8bacb-132">Domain controllers in hello cloud are typically in their own AD site, which allows an administrator tooschedule how often replication is done.</span></span> <span data-ttu-id="8bacb-133">Azure avgifter för trafik som skickas utanför ett Azure-datacenter, men inte för byte som skickas i som kan påverka Hej administratör replikering val.</span><span class="sxs-lookup"><span data-stu-id="8bacb-133">Azure charges for traffic sent out of an Azure datacenter, although not for bytes sent in, which might affect hello administrator's replication choices.</span></span> <span data-ttu-id="8bacb-134">Det är också värt pekar på att medan Azure ger stöd för sin egen Domain Name System (DNS), den här tjänsten saknar funktioner som krävs för Active Directory (till exempel stöd för dynamisk DNS- och SRV-poster).</span><span class="sxs-lookup"><span data-stu-id="8bacb-134">It's also worth pointing out that while Azure does provide its own Domain Name System (DNS) support, this service is missing features required by Active Directory (such as support for Dynamic DNS and SRV records).</span></span> <span data-ttu-id="8bacb-135">Därför kräver kör Windows Server AD på Azure att dina egna DNS-servrar i hello molnet.</span><span class="sxs-lookup"><span data-stu-id="8bacb-135">Because of this, running Windows Server AD on Azure requires setting up your own DNS servers in hello cloud.</span></span>

<span data-ttu-id="8bacb-136">Kör Windows Server AD Azure-dator kan begripliga i flera olika situationer.</span><span class="sxs-lookup"><span data-stu-id="8bacb-136">Running Windows Server AD in Azure VMs can make sense in several different situations.</span></span> <span data-ttu-id="8bacb-137">Här följer några exempel:</span><span class="sxs-lookup"><span data-stu-id="8bacb-137">Here are some examples:</span></span>

* <span data-ttu-id="8bacb-138">Om du använder Azure virtuella datorer som ett tillägg för ditt eget datacenter, kan du köra program i hello moln som behöver lokal domän domänkontrollanter toohandle saker, till exempel Windows-integrerad autentisering begäranden eller LDAP-frågor.</span><span class="sxs-lookup"><span data-stu-id="8bacb-138">If you're using Azure Virtual Machines as an extension of your own datacenter, you might run applications in hello cloud that need local domain controllers toohandle things such as Windows Integrated Authentication requests or LDAP queries.</span></span> <span data-ttu-id="8bacb-139">SharePoint, till exempel interagerar ofta med Active Directory och så det är möjligt toorun en SharePoint-grupp på Azure med hjälp av en lokal katalog, konfigurera domänkontrollanter i hello molnet förbättrar prestanda.</span><span class="sxs-lookup"><span data-stu-id="8bacb-139">SharePoint, for example, interacts frequently with Active Directory, and so while it's possible toorun a SharePoint farm on Azure using an on-premises directory, setting up domain controllers in hello cloud will significantly improve performance.</span></span> <span data-ttu-id="8bacb-140">(Det är viktigt toorealize att det inte nödvändigtvis behövs dock; tillräckligt med program kan köras i hello molnet med hjälp av endast lokala domänkontrollanter.)</span><span class="sxs-lookup"><span data-stu-id="8bacb-140">(It's important toorealize that this isn't necessarily required, however; plenty of applications can run successfully in hello cloud using only on-premises domain controllers.)</span></span>
* <span data-ttu-id="8bacb-141">Anta att ett avlägset avdelningskontor saknar hello resurser toorun egna domänkontrollanter.</span><span class="sxs-lookup"><span data-stu-id="8bacb-141">Suppose a faraway branch office lacks hello resources toorun its own domain controllers.</span></span> <span data-ttu-id="8bacb-142">Idag, måste användarna autentiseras toodomain domänkontrollanter på hello andra sidan av hello world - inloggningar är långsam.</span><span class="sxs-lookup"><span data-stu-id="8bacb-142">Today, its users must authenticate toodomain controllers on hello other side of hello world - logins are slow.</span></span> <span data-ttu-id="8bacb-143">Kör Active Directory på Azure i en närmare Microsoft-datacenter kan påskynda detta utan att fler servrar på avdelningskontor hello.</span><span class="sxs-lookup"><span data-stu-id="8bacb-143">Running Active Directory on Azure in a closer Microsoft datacenter can speed this up without requiring more servers in hello branch office.</span></span>
* <span data-ttu-id="8bacb-144">En organisation som använder Azure för katastrofåterställning kan upprätthålla en liten uppsättning aktiva virtuella datorer i molnet, hello, till exempel en domänkontrollant.</span><span class="sxs-lookup"><span data-stu-id="8bacb-144">An organization that uses Azure for disaster recovery might maintain a small set of active VMs in hello cloud, including a domain controller.</span></span> <span data-ttu-id="8bacb-145">Det kan vara förberedd tooexpand platsen som behövs tootake över för någon annanstans.</span><span class="sxs-lookup"><span data-stu-id="8bacb-145">It can then be prepared tooexpand this site as needed tootake over for failures elsewhere.</span></span>

<span data-ttu-id="8bacb-146">Det finns även andra möjligheter.</span><span class="sxs-lookup"><span data-stu-id="8bacb-146">There are also other possibilities.</span></span> <span data-ttu-id="8bacb-147">Till exempel du inte nödvändiga tooconnect Windows Server AD i hello molnet tooan lokalt datacenter.</span><span class="sxs-lookup"><span data-stu-id="8bacb-147">For example, you're not required tooconnect Windows Server AD in hello cloud tooan on-premises datacenter.</span></span> <span data-ttu-id="8bacb-148">Om du vill toorun en SharePoint-grupp som hanteras av en viss uppsättning användare kan till exempel alla skulle logga in enbart med molnbaserade identiteter, du kan skapa en fristående skog på Azure.</span><span class="sxs-lookup"><span data-stu-id="8bacb-148">If you wanted toorun a SharePoint farm that served a particular set of users, for instance, all of whom would log in solely with cloud-based identities, you might create a standalone forest on Azure.</span></span> <span data-ttu-id="8bacb-149">Hur du använder den här tekniken beror på vad som är dina mål.</span><span class="sxs-lookup"><span data-stu-id="8bacb-149">How you use this technology depends on what your goals are.</span></span> <span data-ttu-id="8bacb-150">(Mer detaljerad vägledning om hur du använder Windows Server AD med Azure, [visas här](http://msdn.microsoft.com/library/windowsazure/jj156090.aspx).)</span><span class="sxs-lookup"><span data-stu-id="8bacb-150">(For more detailed guidance on using Windows Server AD with Azure, [see here](http://msdn.microsoft.com/library/windowsazure/jj156090.aspx).)</span></span>

## <span data-ttu-id="8bacb-151"><a name="ad"></a>Med Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="8bacb-151"><a name="ad"></a>Using Azure Active Directory</span></span>
<span data-ttu-id="8bacb-152">När SaaS-program blir vanligare kan tyda på ett naturliga frågan: vilken typ av katalogtjänsten ska dessa molnbaserade program använda?</span><span class="sxs-lookup"><span data-stu-id="8bacb-152">As SaaS applications become more and more common, they raise an obvious question: What kind of directory service should these cloud-based applications use?</span></span> <span data-ttu-id="8bacb-153">Microsofts toothat fråga är Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8bacb-153">Microsoft's answer toothat question is Azure Active Directory.</span></span>

<span data-ttu-id="8bacb-154">Det finns två huvudsakliga alternativ för att använda den här katalogtjänsten i hello molnet:</span><span class="sxs-lookup"><span data-stu-id="8bacb-154">There are two main options for using this directory service in hello cloud:</span></span>

* <span data-ttu-id="8bacb-155">Enskilda användare och organisationer som använder SaaS-program kan förlitar sig på Azure Active Directory som deras ensam katalogtjänsten.</span><span class="sxs-lookup"><span data-stu-id="8bacb-155">Individuals and organizations that use only SaaS applications can rely on Azure Active Directory as their sole directory service.</span></span>
* <span data-ttu-id="8bacb-156">Organisationer som kör Windows Server Active Directory kan ansluta sina lokala directory tooAzure Active Directory och sedan använda den toogive användarna med enkel inloggning tooSaaS program.</span><span class="sxs-lookup"><span data-stu-id="8bacb-156">Organizations that run Windows Server Active Directory can connect their on-premises directory tooAzure Active Directory, then use it toogive their users single sign-on tooSaaS applications.</span></span>

<span data-ttu-id="8bacb-157">[Bild 2](#fig2) visar hello första av dessa två alternativ, där Azure Active Directory är allt som krävs.</span><span class="sxs-lookup"><span data-stu-id="8bacb-157">[Figure 2](#fig2) illustrates hello first of these two options, where Azure Active Directory is all that's required.</span></span>

![Azure Active Directory på den virtuella datorn](./media/identity/identity_02_AD.png)

<span data-ttu-id="8bacb-159"><a name="fig2"></a>Bild 2: Azure Active Directory ger en organisations användare enkel inloggning tooSaaS program, inklusive Office 365.</span><span class="sxs-lookup"><span data-stu-id="8bacb-159"><a name="fig2"></a>Figure 2: Azure Active Directory gives an organization's users single sign-on tooSaaS applications, including Office 365.</span></span>

<span data-ttu-id="8bacb-160">Hello bild visar, är Azure AD en tjänst för flera innehavare.</span><span class="sxs-lookup"><span data-stu-id="8bacb-160">As hello figure shows, Azure AD is a multi-tenant service.</span></span> <span data-ttu-id="8bacb-161">Det innebär att den samtidigt stöder många olika organisationer lagra kataloginformation om användare på var och en av dem.</span><span class="sxs-lookup"><span data-stu-id="8bacb-161">This means that it can simultaneously support many different organizations, storing directory information about users at each of them.</span></span> <span data-ttu-id="8bacb-162">I det här exemplet försöker en användare i organisationen A tooaccess ett SaaS-program.</span><span class="sxs-lookup"><span data-stu-id="8bacb-162">In this example, a user at organization A is trying tooaccess a SaaS application.</span></span> <span data-ttu-id="8bacb-163">Det här programmet kan vara en del av Office 365, till exempel SharePoint Online, eller kan det vara något annat - icke-Microsoft-program kan också använda den här tekniken.</span><span class="sxs-lookup"><span data-stu-id="8bacb-163">This application might be part of Office 365, such as SharePoint Online, or it might be something else - non-Microsoft applications can also use this technology.</span></span> <span data-ttu-id="8bacb-164">Eftersom Azure AD stöder hello SAML 2.0-protokollet, allt som krävs från ett program hello möjlighet toointeract använder den här branschstandard.</span><span class="sxs-lookup"><span data-stu-id="8bacb-164">Because Azure AD supports hello SAML 2.0 protocol, all that's required from an application is hello ability toointeract using this industry standard.</span></span> <span data-ttu-id="8bacb-165">(I praktiken program som använder Azure AD kan köras i alla datacenter, inte bara ett Azure-datacenter.)</span><span class="sxs-lookup"><span data-stu-id="8bacb-165">(In fact, applications that use Azure AD can run in any datacenter, not just an Azure datacenter.)</span></span>

<span data-ttu-id="8bacb-166">hello börjar när hello användare har åtkomst till SaaS-program (steg 1).</span><span class="sxs-lookup"><span data-stu-id="8bacb-166">hello process begins when hello user accesses a SaaS application (step 1).</span></span> <span data-ttu-id="8bacb-167">toouse det här programmet hello användaren måste ange en token som utfärdas av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8bacb-167">toouse this application, hello user must present a token issued by Azure AD.</span></span>

<span data-ttu-id="8bacb-168">Denna token innehåller information som identifierar hello användaren och signeras digitalt av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8bacb-168">This token contains information that identifies hello user, and it's digitally signed by Azure AD.</span></span> <span data-ttu-id="8bacb-169">tooget hello token hello autentiserar användaren själv tooAzure AD genom att ange ett användarnamn och lösenord (steg 2).</span><span class="sxs-lookup"><span data-stu-id="8bacb-169">tooget hello token, hello user authenticates himself tooAzure AD by providing a username and password (step 2).</span></span> <span data-ttu-id="8bacb-170">Azure AD sedan returnerar hello token han behöver (steg 3).</span><span class="sxs-lookup"><span data-stu-id="8bacb-170">Azure AD then returns hello token he needs (step 3).</span></span>

<span data-ttu-id="8bacb-171">Denna token skickas toohello SaaS-program (steg 4) som validerar hello token signatur och använder dess innehåll (steg 5).</span><span class="sxs-lookup"><span data-stu-id="8bacb-171">This token is then sent toohello SaaS application (step 4), which validates hello token's signature and uses its contents (step 5).</span></span> <span data-ttu-id="8bacb-172">Vanligtvis använder hello programmet hello identitetsinformation hello token innehåller toodecide vilken information hello användare tillåts tooaccess och eller på annat sätt.</span><span class="sxs-lookup"><span data-stu-id="8bacb-172">Typically, hello application will use hello identity information hello token contains toodecide what information hello user is allowed tooaccess and perhaps in other ways.</span></span>

<span data-ttu-id="8bacb-173">Om programmet hello behöver mer information om hello användare än vad som finns i hello token, begära den detta direkt från Azure AD med hjälp av hello Azure AD Graph API (steg 6).</span><span class="sxs-lookup"><span data-stu-id="8bacb-173">If hello application needs more information about hello user than what's contained in hello token, it can request this directly from Azure AD using hello Azure AD Graph API (step 6).</span></span> <span data-ttu-id="8bacb-174">I hello första versionen av Azure AD, hello directory-schemat är ganska enkel: den innehåller bara användare och grupper och förhållanden mellan dem..</span><span class="sxs-lookup"><span data-stu-id="8bacb-174">In hello initial version of Azure AD, hello directory schema is quite simple: It contains just users and groups and relationships among them.</span></span> <span data-ttu-id="8bacb-175">Program kan använda denna information toolearn om anslutningar mellan användare.</span><span class="sxs-lookup"><span data-stu-id="8bacb-175">Applications can use this information toolearn about connections between users.</span></span> <span data-ttu-id="8bacb-176">Anta exempelvis att ett program behöver tooknow som den här användarens manager finns toodecide om han är tillåtna åtkomst toosome datasegmentet.</span><span class="sxs-lookup"><span data-stu-id="8bacb-176">For example, suppose an application needs tooknow who this user's manager is toodecide whether he's allowed access toosome chunk of data.</span></span> <span data-ttu-id="8bacb-177">Det kan Läs detta genom att fråga Azure AD via hello Graph API.</span><span class="sxs-lookup"><span data-stu-id="8bacb-177">It can learn this by querying Azure AD through hello Graph API.</span></span>

<span data-ttu-id="8bacb-178">hello Graph API använder en vanlig RESTful-protokollet, vilket gör det enkelt toouse från de flesta klienter, inklusive mobila enheter.</span><span class="sxs-lookup"><span data-stu-id="8bacb-178">hello Graph API uses an ordinary RESTful protocol, which makes it straightforward toouse from most clients, including mobile devices.</span></span> <span data-ttu-id="8bacb-179">hello API stöder också hello-tillägg som definierats av OData, lägga till sådant som en fråga språk toolet klienter komma åt data på ett bättre sätt.</span><span class="sxs-lookup"><span data-stu-id="8bacb-179">hello API also supports hello extensions defined by OData, adding things such as a query language toolet clients access data in more useful ways.</span></span> <span data-ttu-id="8bacb-180">(Mer information om OData finns [introduktion till OData](http://download.microsoft.com/download/E/5/A/E5A59052-EE48-4D64-897B-5F7C608165B8/IntroducingOData.pdf).) Eftersom hello Graph API kan vara används toolearn om relationer mellan användare, kan program förstå hello sociala diagram som är inbäddad i hello Azure AD-schemat för en viss organisation (vilket är anledningen till att den anropas hello Graph API).</span><span class="sxs-lookup"><span data-stu-id="8bacb-180">(For more on OData, see [Introducing OData](http://download.microsoft.com/download/E/5/A/E5A59052-EE48-4D64-897B-5F7C608165B8/IntroducingOData.pdf).) Because hello Graph API can be used toolearn about relationships between users, it lets applications understand hello social graph that's embedded in hello Azure AD schema for a particular organization (which is why it's called hello Graph API).</span></span> <span data-ttu-id="8bacb-181">Och tooauthenticate själva tooAzure AD för Graph API begär, ett program som använder OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="8bacb-181">And tooauthenticate itself tooAzure AD for Graph API requests, an application uses OAuth 2.0.</span></span>

<span data-ttu-id="8bacb-182">Om organisationen inte använder Windows Server Active Directory - det inte har några lokala servrar eller domäner - och endast förlitar sig på molnprogram som använder Azure AD, skulle med hjälp av just den här molnkatalog ge hello företagets användare enkel inloggning tooall av dem.</span><span class="sxs-lookup"><span data-stu-id="8bacb-182">If an organization doesn't use Windows Server Active Directory - it has no on-premises servers or domains - and relies solely on cloud applications that use Azure AD, using just this cloud directory would give hello firm's users single sign-on tooall of them.</span></span> <span data-ttu-id="8bacb-183">Ännu medan det här scenariot hämtar vanliga varje dag, de flesta organisationer fortfarande använda lokala domäner som skapas med Windows Server Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8bacb-183">Yet while this scenario gets more common every day, most organizations still use on-premises domains created with Windows Server Active Directory.</span></span> <span data-ttu-id="8bacb-184">Azure AD har en användbar rollen tooplay här också, som [bild 3](#fig3) visar.</span><span class="sxs-lookup"><span data-stu-id="8bacb-184">Azure AD has a useful role tooplay here as well, as [Figure 3](#fig3) shows.</span></span>

<span data-ttu-id="8bacb-185">![Azure Active Directory på den virtuella datorn](./media/identity/identity_03_AD.png)
<a id="fig3"></a>bild 3: en organisation kan federera Windows Server Active Directory med Azure Active Directory toogive sina användare enkel inloggning tooSaaS program.</span><span class="sxs-lookup"><span data-stu-id="8bacb-185">![Azure Active Directory in Virtual Machine](./media/identity/identity_03_AD.png)
<a id="fig3"></a>Figure 3: An organization can federate Windows Server Active Directory with Azure Active Directory toogive its users single sign-on tooSaaS applications.</span></span>

<span data-ttu-id="8bacb-186">I det här scenariot som en användare i organisationen B tooaccess ett SaaS-program.</span><span class="sxs-lookup"><span data-stu-id="8bacb-186">In this scenario, a user at organization B wishes tooaccess a SaaS application.</span></span> <span data-ttu-id="8bacb-187">Innan hon gör detta måste hello organisation directory-administratörerna upprätta en federationsrelation med Azure AD med hjälp av AD FS, vilket hello bild visas.</span><span class="sxs-lookup"><span data-stu-id="8bacb-187">Before she does this, hello organization's directory administrators must establish a federation relationship with Azure AD using AD FS, as hello figure shows.</span></span> <span data-ttu-id="8bacb-188">Dessa administratörer måste också konfigurera synkronisering mellan hello organisationens lokala Windows Server AD och Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8bacb-188">Those admins must also configure data synchronization between hello organization's on-premises Windows Server AD and Azure AD.</span></span> <span data-ttu-id="8bacb-189">Det kopieras automatiskt användar- och gruppinformation från hello lokalt directory tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="8bacb-189">This automatically copies user and group information from hello on-premises directory tooAzure AD.</span></span> <span data-ttu-id="8bacb-190">Observera att detta gör: I praktiken hello organisation utöka sina lokala katalog i hello moln.</span><span class="sxs-lookup"><span data-stu-id="8bacb-190">Notice what this allows: In effect, hello organization is extending its on-premises directory into hello cloud.</span></span> <span data-ttu-id="8bacb-191">Kombinera Windows Server AD och Azure AD på så sätt får hello organisationen en katalogtjänst som kan hanteras som en enda enhet, medan du fortfarande har en storleken både lokalt och i molnet hello.</span><span class="sxs-lookup"><span data-stu-id="8bacb-191">Combining Windows Server AD and Azure AD in this way gives hello organization a directory service that can be managed as a single entity, while still having a footprint both on-premises and in hello cloud.</span></span>

<span data-ttu-id="8bacb-192">toouse Azure AD hello användaren först loggar in tooher lokala Active Directory-domän som vanligt (steg 1).</span><span class="sxs-lookup"><span data-stu-id="8bacb-192">toouse Azure AD, hello user first logs in tooher on-premises Active Directory domain as usual (step 1).</span></span> <span data-ttu-id="8bacb-193">När hon försöker tooaccess hello SaaS-program (steg 2) resulterar hello federationsprocessen i Azure AD utfärdar henne en token för det här programmet (steg 3).</span><span class="sxs-lookup"><span data-stu-id="8bacb-193">When she tries tooaccess hello SaaS application (step 2), hello federation process results in Azure AD issuing her a token for this application (step 3).</span></span> <span data-ttu-id="8bacb-194">(Mer information om hur federation fungerar finns i [anspråksbaserad identitet för Windows: tekniker och scenarion](http://www.davidchappell.com/writing/white_papers/Claims-Based_Identity_for_Windows_v3.0--Chappell.docx).) Som före denna token innehåller information som identifierar hello användare och signeras digitalt av Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8bacb-194">(For more on how federation works, see [Claims-Based Identity for Windows: Technologies and Scenarios](http://www.davidchappell.com/writing/white_papers/Claims-Based_Identity_for_Windows_v3.0--Chappell.docx).) As before, this token contains information that identifies hello user, and it's digitally signed by Azure AD.</span></span> <span data-ttu-id="8bacb-195">Denna token skickas toohello SaaS-program (steg 4) som validerar hello token signatur och använder dess innehåll (steg 5).</span><span class="sxs-lookup"><span data-stu-id="8bacb-195">This token is then sent toohello SaaS application (step 4), which validates hello token's signature and uses its contents (step 5).</span></span> <span data-ttu-id="8bacb-196">Och är i hello föregående scenariot hello SaaS-program kan använda hello Graph API toolearn mer om den här användaren om nödvändigt (steg 6).</span><span class="sxs-lookup"><span data-stu-id="8bacb-196">And is in hello previous scenario, hello SaaS application can use hello Graph API toolearn more about this user if necessary (step 6).</span></span>

<span data-ttu-id="8bacb-197">Idag, Azure AD är inte ett totalt utbyte för lokala Windows Server AD.</span><span class="sxs-lookup"><span data-stu-id="8bacb-197">Today, Azure AD isn't a complete replacement for on-premises Windows Server AD.</span></span> <span data-ttu-id="8bacb-198">Hej molnkatalog har en mycket enklare schema som redan nämnts och den saknar saker, exempelvis en Grupprincip, hello möjlighet toostore information om datorer, samt stöd för LDAP.</span><span class="sxs-lookup"><span data-stu-id="8bacb-198">As already mentioned, hello cloud directory has a much simpler schema, and it's also missing things such as group policy, hello ability toostore information about machines, and support for LDAP.</span></span> <span data-ttu-id="8bacb-199">(I praktiken en Windows-dator kan inte vara konfigurerade toolet användarna loggar in tooit med hjälp av något annat än Azure AD - detta är inte ett scenario som stöds.) I stället hello inledande mål av Azure AD är att låta företagsprogram användare åtkomst i hello molnet utan att behålla en separat inloggning och frigöra lokalt directory-administratörerna från manuellt synkronisera sina lokala kataloger med varje SaaS-program används för organisationen.</span><span class="sxs-lookup"><span data-stu-id="8bacb-199">(In fact, a Windows machine can't be configured toolet users log in tooit using nothing but Azure AD - this isn't a supported scenario.) Instead, hello initial goals of Azure AD include letting enterprise users access applications in hello cloud without maintaining a separate login and freeing on-premises directory administrators from manually synchronizing their on-premises directory with every SaaS application their organization uses.</span></span> <span data-ttu-id="8bacb-200">Över tiden, men förväntas det här molnet directory service tooaddress ett brett spektrum av scenarier.</span><span class="sxs-lookup"><span data-stu-id="8bacb-200">Over time, however, expect this cloud directory service tooaddress a wider range of scenarios.</span></span>

## <span data-ttu-id="8bacb-201"><a name="ac"></a>Med hjälp av Azure Active Directory-åtkomstkontroll</span><span class="sxs-lookup"><span data-stu-id="8bacb-201"><a name="ac"></a>Using Azure Active Directory Access Control</span></span>
<span data-ttu-id="8bacb-202">Molnbaserade identitets-tekniker kan vara används toosolve olika problem.</span><span class="sxs-lookup"><span data-stu-id="8bacb-202">Cloud-based identity technologies can be used toosolve a variety of problems.</span></span> <span data-ttu-id="8bacb-203">Azure Active Directory kan ge organisationens användare enkel inloggning toomultiple SaaS-program, till exempel.</span><span class="sxs-lookup"><span data-stu-id="8bacb-203">Azure Active Directory can give an organization's users single sign-on toomultiple SaaS applications, for example.</span></span> <span data-ttu-id="8bacb-204">Men identitet tekniker i hello molnet kan även användas på andra sätt.</span><span class="sxs-lookup"><span data-stu-id="8bacb-204">But identity technologies in hello cloud can also be used in other ways.</span></span>

<span data-ttu-id="8bacb-205">Anta exempelvis att ett program som användarna logga in med token som utfärdats av flera toolet *identitetsleverantörer (IdPs)*.</span><span class="sxs-lookup"><span data-stu-id="8bacb-205">Suppose, for instance, that an application wishes toolet its users log in using tokens issued by multiple *identity providers (IdPs)*.</span></span> <span data-ttu-id="8bacb-206">Många olika identitetsleverantörer finns idag, inklusive Facebook, Google, Microsoft och andra, och program att ofta användarna kan logga in med ett av dessa identiteter.</span><span class="sxs-lookup"><span data-stu-id="8bacb-206">Lots of different identity providers exist today, including Facebook, Google, Microsoft, and others, and applications frequently let users sign in using one of these identities.</span></span> <span data-ttu-id="8bacb-207">Varför bör ett program bry sig toomaintain sin egen lista över användare och lösenord när den kan förlita sig på identiteter som redan finns?</span><span class="sxs-lookup"><span data-stu-id="8bacb-207">Why should an application bother toomaintain its own list of users and passwords when it can instead rely on identities that already exist?</span></span> <span data-ttu-id="8bacb-208">Acceptera befintliga identiteter blir liv enklare för användare som har en mindre tooremember användarnamn och lösenord och hello personer och skapar hello program som inte längre behöver toomaintain sina egna listor med användarnamn och lösenord.</span><span class="sxs-lookup"><span data-stu-id="8bacb-208">Accepting existing identities makes life simpler both for users, who have one less username and password tooremember, and for hello people who create hello application, who no longer need toomaintain their own lists of usernames and passwords.</span></span>

<span data-ttu-id="8bacb-209">Men när varje identitetsleverantör utfärdar någon typ av token, de tokens inte är standard - varje IdP har ett eget format.</span><span class="sxs-lookup"><span data-stu-id="8bacb-209">But while every identity provider issues some kind of token, those tokens aren't standard - each IdP has its own format.</span></span> <span data-ttu-id="8bacb-210">Dessutom hello informationen i de tokens också inte är standard.</span><span class="sxs-lookup"><span data-stu-id="8bacb-210">Furthermore, hello information in those tokens also isn't standard.</span></span> <span data-ttu-id="8bacb-211">En App som du vill tooaccept token som utfärdats av, säg, Facebook, Google och Microsoft ställs inför med hello utmaningen i att skriva unik kod toohandle var och en av dessa format.</span><span class="sxs-lookup"><span data-stu-id="8bacb-211">An application that wishes tooaccept tokens issued by, say, Facebook, Google, and Microsoft is faced with hello challenge of writing unique code toohandle each of these different formats.</span></span>

<span data-ttu-id="8bacb-212">Men varför göra detta?</span><span class="sxs-lookup"><span data-stu-id="8bacb-212">But why do this?</span></span> <span data-ttu-id="8bacb-213">Varför inte skapa en brygga som kan generera ett enda token format med en gemensam representation av identitetsinformation i stället?</span><span class="sxs-lookup"><span data-stu-id="8bacb-213">Why not instead create an intermediary that can generate a single token format with a common representation of identity information?</span></span> <span data-ttu-id="8bacb-214">Den här metoden gör liv enklare för hello utvecklare som skapar program, eftersom de nu behöver toohandle bara en typ av token.</span><span class="sxs-lookup"><span data-stu-id="8bacb-214">This approach would make life simpler for hello developers who create applications, since they now need toohandle only one kind of token.</span></span> <span data-ttu-id="8bacb-215">Azure Active Directory-åtkomstkontroll matchar exakt det att tillhandahålla en mellanhand i hello molnet för att arbeta med olika token.</span><span class="sxs-lookup"><span data-stu-id="8bacb-215">Azure Active Directory Access Control does exactly this, providing an intermediary in hello cloud for working with diverse tokens.</span></span> <span data-ttu-id="8bacb-216">[Bild 4](#fig4) visar hur det fungerar</span><span class="sxs-lookup"><span data-stu-id="8bacb-216">[Figure 4](#fig4) shows how it works</span></span>

<span data-ttu-id="8bacb-217">![Azure Active Directory på den virtuella datorn](./media/identity/identity_04_IdentityProviders.png)
<a id="fig4"></a>bild 4: Azure Active Directory-åtkomstkontroll gör det enklare för program tooaccept identitet token som utfärdats av andra identitetsleverantörer.</span><span class="sxs-lookup"><span data-stu-id="8bacb-217">![Azure Active Directory in Virtual Machine](./media/identity/identity_04_IdentityProviders.png)
<a id="fig4"></a>Figure 4: Azure Active Directory Access Control makes it easier for applications tooaccept identity tokens issued by different identity providers.</span></span>

<span data-ttu-id="8bacb-218">hello börjar när en användare försöker tooaccess hello program från en webbläsare.</span><span class="sxs-lookup"><span data-stu-id="8bacb-218">hello process begins when a user attempts tooaccess hello application from a browser.</span></span> <span data-ttu-id="8bacb-219">hello programmet omdirigerar hennes tooan IdP hon väljer (och även litar på programmet hello).</span><span class="sxs-lookup"><span data-stu-id="8bacb-219">hello application redirects her tooan IdP of her choice (and that hello application also trusts).</span></span> <span data-ttu-id="8bacb-220">Hon autentiserar sig själv toothis IdP, exempelvis genom att ange ett användarnamn och lösenord (steg 1) och hello IdP returnerar en token som innehåller information om sitt (steg 2).</span><span class="sxs-lookup"><span data-stu-id="8bacb-220">She authenticates herself toothis IdP, such as by entering a username and password (step 1), and hello IdP returns a token containing information about her (step 2).</span></span>

<span data-ttu-id="8bacb-221">Som hello bild visar, stöder Access Control en mängd olika molnbaserade IdPs, inklusive konton som skapats av Google, Yahoo, Facebook, Microsoft (tidigare kallade Windows Live ID) och eventuella OpenID-providern.</span><span class="sxs-lookup"><span data-stu-id="8bacb-221">As hello figure shows, Access Control supports a range of different cloud-based IdPs, including accounts created by Google, Yahoo, Facebook, Microsoft (formerly known as Windows Live ID), and any OpenID provider.</span></span> <span data-ttu-id="8bacb-222">Det stöder också identiteter som skapats med hjälp av Azure Active Directory och via federation med AD FS, Windows Server Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8bacb-222">It also supports identities created using Azure Active Directory and, through federation with AD FS, Windows Server Active Directory.</span></span> <span data-ttu-id="8bacb-223">hello målet är toocover hello vanligaste identiteter idag, om de har getts ut av IdPs i hello molnet eller lokalt.</span><span class="sxs-lookup"><span data-stu-id="8bacb-223">hello goal is toocover hello most commonly used identities today, whether they're issued by IdPs in hello cloud or on-premises.</span></span>

<span data-ttu-id="8bacb-224">När hello användarens webbläsare har en IdP-token från sin vald IdP, skickar detta token tooAccess kontrollen (steg 3).</span><span class="sxs-lookup"><span data-stu-id="8bacb-224">Once hello user's browser has an IdP token from her chosen IdP, it sends this token tooAccess Control (step 3).</span></span> <span data-ttu-id="8bacb-225">Åtkomstkontroll verifierar hello token, se till att det verkligen har utfärdats av den här IdP och sedan skapar en ny token enligt toohello regler som har definierats för det här programmet.</span><span class="sxs-lookup"><span data-stu-id="8bacb-225">Access Control validates hello token, making sure that it really was issued by this IdP, then creates a new token according toohello rules that have been defined for this application.</span></span> <span data-ttu-id="8bacb-226">Åtkomstkontroll är en tjänst för flera innehavare som Azure Active Directory, men hello klienter är program i stället för kundens företag.</span><span class="sxs-lookup"><span data-stu-id="8bacb-226">Like Azure Active Directory, Access Control is a multi-tenant service, but hello tenants are applications rather than customer organizations.</span></span> <span data-ttu-id="8bacb-227">Varje program kan få ett eget namnområde som hello bild visas och kan ange olika regler om auktorisering och mer.</span><span class="sxs-lookup"><span data-stu-id="8bacb-227">Each application can get its own namespace, as hello figure shows, and can define various rules about authorization and more.</span></span>

<span data-ttu-id="8bacb-228">De här reglerna kan varje programadministratör som definierar hur token från olika IdPs ska omvandlas till en token för åtkomstkontroll.</span><span class="sxs-lookup"><span data-stu-id="8bacb-228">These rules let each application's administrator define how tokens from various IdPs should be transformed into an Access Control token.</span></span> <span data-ttu-id="8bacb-229">Till exempel om olika IdPs använder olika typer som representerar användarnamn, kan Access Control-regler omvandla alla dessa i en gemensam typ användarnamn.</span><span class="sxs-lookup"><span data-stu-id="8bacb-229">For example, if different IdPs use different types for representing usernames, Access Control rules can transform all of these into a common username type.</span></span> <span data-ttu-id="8bacb-230">Åtkomstkontroll skickar sedan den nya token tillbaka toohello webbläsaren (steg 4) som skickar den toohello program (steg 5).</span><span class="sxs-lookup"><span data-stu-id="8bacb-230">Access Control then sends this new token back toohello browser (step 4), which submits it toohello application (step 5).</span></span> <span data-ttu-id="8bacb-231">När den har hello åtkomstkontroll token verifierar hello programmet att denna token verkligen har utfärdats av åtkomstkontroll och använder sedan hello informationen (steg 6).</span><span class="sxs-lookup"><span data-stu-id="8bacb-231">Once it has hello Access Control token, hello application verifies that this token really was issued by Access Control, then uses hello information it contains (step 6).</span></span>

<span data-ttu-id="8bacb-232">När den här processen kan verka lite komplicerade, faktiskt gör det livslängd betydligt enklare för hello skapare av programmet hello.</span><span class="sxs-lookup"><span data-stu-id="8bacb-232">While this process might seem a little complicated, it actually makes life significantly simpler for hello creator of hello application.</span></span> <span data-ttu-id="8bacb-233">I stället för att hantera olika token som innehåller olika typer av information, kan programmet hello acceptera identiteter som utfärdats av flera identitetsleverantörer samtidigt som du fortfarande får bara en enda token med välbekanta information.</span><span class="sxs-lookup"><span data-stu-id="8bacb-233">Rather than handle diverse tokens containing different information, hello application can accept identities issued by multiple identity providers while still receiving only a single token with familiar information.</span></span> <span data-ttu-id="8bacb-234">Dessutom i stället för att kräva varje program toobe konfigurerats tootrust olika IdPs dessa förtroenderelationer i stället underhålls av Access Control - ett program behöver endast lita på den.</span><span class="sxs-lookup"><span data-stu-id="8bacb-234">Also, rather than require each application toobe configured tootrust various IdPs, these trust relationships are instead maintained by Access Control - an application need only trust it.</span></span>

<span data-ttu-id="8bacb-235">Det är värt pekar på att ingenting om åtkomstkontroll är bundet tooWindows - samt bara kan användas av en Linux-program som accepteras endast Google och Facebook identiteter.</span><span class="sxs-lookup"><span data-stu-id="8bacb-235">It's worth pointing out that nothing about Access Control is tied tooWindows - it could just as well be used by a Linux application that accepted only Google and Facebook identities.</span></span> <span data-ttu-id="8bacb-236">Och även om åtkomstkontroll är en del av hello Azure Active Directory-familj, Tänk på det som en tjänst som är helt skilda från vad som beskrevs i föregående avsnitt i hello.</span><span class="sxs-lookup"><span data-stu-id="8bacb-236">And even though Access Control is part of hello Azure Active Directory family, you can think of it as an entirely distinct service from what was described in hello previous section.</span></span> <span data-ttu-id="8bacb-237">Båda teknikerna fungerar med identitet, åtgärda de ganska olika problem (även om Microsoft säger att den förväntar sig toointegrate hello två vid något tillfälle).</span><span class="sxs-lookup"><span data-stu-id="8bacb-237">While both technologies work with identity, they address quite different problems (although Microsoft has said that it expects toointegrate hello two at some point).</span></span>

<span data-ttu-id="8bacb-238">Arbeta med identity är viktigt i nästan alla program.</span><span class="sxs-lookup"><span data-stu-id="8bacb-238">Working with identity is important in nearly every application.</span></span> <span data-ttu-id="8bacb-239">hello målet för åtkomstkontroll är toomake det enklare för utvecklare toocreate program som accepterar identiteter från olika leverantörer.</span><span class="sxs-lookup"><span data-stu-id="8bacb-239">hello goal of Access Control is toomake it easier for developers toocreate applications that accept identities from diverse identity providers.</span></span> <span data-ttu-id="8bacb-240">Genom att placera den här tjänsten i molnet hello har Microsoft gjort det tillgängliga tooany program som körs på alla plattformar.</span><span class="sxs-lookup"><span data-stu-id="8bacb-240">By putting this service in hello cloud, Microsoft has made it available tooany application running on any platform.</span></span>

## <a name="about-hello-author"></a><span data-ttu-id="8bacb-241">Om hello författare</span><span class="sxs-lookup"><span data-stu-id="8bacb-241">About hello Author</span></span>
<span data-ttu-id="8bacb-242">David Chappell är huvudnamn för Chappell & associerats [www.davidchappell.com](http://www.davidchappell.com) i San Francisco, California.</span><span class="sxs-lookup"><span data-stu-id="8bacb-242">David Chappell is Principal of Chappell & Associates [www.davidchappell.com](http://www.davidchappell.com) in San Francisco, California.</span></span>

