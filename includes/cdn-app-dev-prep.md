## <a name="prerequisites"></a><span data-ttu-id="9e783-101">Krav</span><span class="sxs-lookup"><span data-stu-id="9e783-101">Prerequisites</span></span>
<span data-ttu-id="9e783-102">Innan vi kan skriva kod för CDN-hantering, måste toodo vissa förberedelser tooenable vår kod toointeract med hello Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="9e783-102">Before we can write CDN management code, we need toodo some preparation tooenable our code toointeract with hello Azure Resource Manager.</span></span>  <span data-ttu-id="9e783-103">toodo, måste du:</span><span class="sxs-lookup"><span data-stu-id="9e783-103">toodo this, you'll need to:</span></span>

* <span data-ttu-id="9e783-104">Skapa en resurs grupp toocontain hello CDN-profilen i den här självstudiekursen skapar vi</span><span class="sxs-lookup"><span data-stu-id="9e783-104">Create a resource group toocontain hello CDN profile we create in this tutorial</span></span>
* <span data-ttu-id="9e783-105">Konfigurera Azure Active Directory tooprovide autentisering i appen</span><span class="sxs-lookup"><span data-stu-id="9e783-105">Configure Azure Active Directory tooprovide authentication for our application</span></span>
* <span data-ttu-id="9e783-106">Tillämpa behörigheter toohello resursgruppen så att endast behöriga användare från våra Azure AD-klient kan interagera med våra CDN-profilen</span><span class="sxs-lookup"><span data-stu-id="9e783-106">Apply permissions toohello resource group so that only authorized users from our Azure AD tenant can interact with our CDN profile</span></span>

### <a name="creating-hello-resource-group"></a><span data-ttu-id="9e783-107">Skapa hello resursgruppen.</span><span class="sxs-lookup"><span data-stu-id="9e783-107">Creating hello resource group</span></span>
1. <span data-ttu-id="9e783-108">Logga in på hello [Azure Portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="9e783-108">Log into hello [Azure Portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="9e783-109">Klicka på hello **ny** -knappen i övre vänstra hörnet hello, och sedan **Management**, och **resursgruppen**.</span><span class="sxs-lookup"><span data-stu-id="9e783-109">Click hello **New** button in hello upper left, and then **Management**, and **Resource Group**.</span></span>

    ![Skapa en ny resursgrupp](./media/cdn-app-dev-prep/cdn-new-rg-1-include.png)
3. <span data-ttu-id="9e783-111">Anropa resursgruppen *CdnConsoleTutorial*.</span><span class="sxs-lookup"><span data-stu-id="9e783-111">Call your resource group *CdnConsoleTutorial*.</span></span>  <span data-ttu-id="9e783-112">Välj din prenumeration och välj en plats nära dig.</span><span class="sxs-lookup"><span data-stu-id="9e783-112">Select your subscription and choose a location near you.</span></span>  <span data-ttu-id="9e783-113">Om du vill kan du klicka på hello **PIN-kod toodashboard** kryssrutan toopin hello resurs grupp toohello instrumentpanelen i hello-portalen.</span><span class="sxs-lookup"><span data-stu-id="9e783-113">If you wish, you may click hello **Pin toodashboard** checkbox toopin hello resource group toohello dashboard in hello portal.</span></span>  <span data-ttu-id="9e783-114">Det gör det enklare toofind senare.</span><span class="sxs-lookup"><span data-stu-id="9e783-114">This will make it easier toofind later.</span></span>  <span data-ttu-id="9e783-115">När du har gjort dina val klickar du på **skapa**.</span><span class="sxs-lookup"><span data-stu-id="9e783-115">After you've made your selections, click **Create**.</span></span>

    ![Namnge hello resursgruppen.](./media/cdn-app-dev-prep/cdn-new-rg-2-include.png)
4. <span data-ttu-id="9e783-117">Efter hello resursgruppen skapas om du inte fäster den tooyour instrumentpanelen, du kan hitta den genom att klicka på **Bläddra**, sedan **resursgrupper**.</span><span class="sxs-lookup"><span data-stu-id="9e783-117">After hello resource group is created, if you didn't pin it tooyour dashboard, you can find it by clicking **Browse**, then **Resource Groups**.</span></span>  <span data-ttu-id="9e783-118">Klicka på hello resurs grupp tooopen den.</span><span class="sxs-lookup"><span data-stu-id="9e783-118">Click hello resource group tooopen it.</span></span>  <span data-ttu-id="9e783-119">Anteckna din **prenumerations-ID**.</span><span class="sxs-lookup"><span data-stu-id="9e783-119">Make a note of your **Subscription ID**.</span></span>  <span data-ttu-id="9e783-120">Vi behöver den senare.</span><span class="sxs-lookup"><span data-stu-id="9e783-120">We'll need it later.</span></span>

    ![Namnge hello resursgruppen.](./media/cdn-app-dev-prep/cdn-subscription-id-include.png)

### <a name="creating-hello-azure-ad-application-and-applying-permissions"></a><span data-ttu-id="9e783-122">Skapa hello Azure AD-program och tillämpa behörigheter</span><span class="sxs-lookup"><span data-stu-id="9e783-122">Creating hello Azure AD application and applying permissions</span></span>
<span data-ttu-id="9e783-123">Det finns två tillvägagångssätt tooapp autentisering med Azure Active Directory: enskilda användare eller ett huvudnamn för tjänsten.</span><span class="sxs-lookup"><span data-stu-id="9e783-123">There are two approaches tooapp authentication with Azure Active Directory: Individual users or a service principal.</span></span> <span data-ttu-id="9e783-124">Ett huvudnamn för tjänsten är liknande tooa-tjänstkontot i Windows.</span><span class="sxs-lookup"><span data-stu-id="9e783-124">A service principal is similar tooa service account in Windows.</span></span>  <span data-ttu-id="9e783-125">I stället för att ge en viss användare behörighet toointeract med hello CDN profiler ge vi i stället hello behörigheter toohello tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="9e783-125">Instead of granting a particular user permissions toointeract with hello CDN profiles, we instead grant hello permissions toohello service principal.</span></span>  <span data-ttu-id="9e783-126">Tjänstens huvudnamn används normalt för automatisk, icke-interaktiv processer.</span><span class="sxs-lookup"><span data-stu-id="9e783-126">Service principals are generally used for automated, non-interactive processes.</span></span>  <span data-ttu-id="9e783-127">Även om den här kursen är skrivs en interaktiv konsolprogram, ska vi fokusera på hello service principal metod.</span><span class="sxs-lookup"><span data-stu-id="9e783-127">Even though this tutorial is writing an interactive console app, we'll focus on hello service principal approach.</span></span>

<span data-ttu-id="9e783-128">Skapa ett huvudnamn för tjänsten består av flera steg, inklusive att skapa ett Azure Active Directory-program.</span><span class="sxs-lookup"><span data-stu-id="9e783-128">Creating a service principal consists of several steps, including creating an Azure Active Directory application.</span></span>  <span data-ttu-id="9e783-129">toodo kan vi för[i den här kursen](../articles/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="9e783-129">toodo this, we're going too[follow this tutorial](../articles/resource-group-create-service-principal-portal.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9e783-130">Vara säker på att toofollow alla hello steg i hello [länkade kursen](../articles/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="9e783-130">Be sure toofollow all hello steps in hello [linked tutorial](../articles/resource-group-create-service-principal-portal.md).</span></span>  <span data-ttu-id="9e783-131">Det är *mycket viktigt* du slutför den exakt som beskrivs.</span><span class="sxs-lookup"><span data-stu-id="9e783-131">It is *extremely important* that you complete it exactly as described.</span></span>  <span data-ttu-id="9e783-132">Se till att toonote din **klient-ID**, **klientdomännamn** (vanligtvis en *. onmicrosoft.com* domän om du har angett en anpassad domän), **klient-ID** , och **klienten autentiseringsnyckel**, som vi behöver dessa senare.</span><span class="sxs-lookup"><span data-stu-id="9e783-132">Make sure toonote your **tenant ID**, **tenant domain name** (commonly a *.onmicrosoft.com* domain unless you've specified a custom domain), **client ID**, and **client authentication key**, as we will need these later.</span></span>  <span data-ttu-id="9e783-133">Vara mycket försiktig tooguard din **klient-ID** och **klienten autentiseringsnyckel**, enligt de här autentiseringsuppgifterna kan vara används av alla tooexecute åtgärder som hello tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="9e783-133">Be very careful tooguard your **client ID** and **client authentication key**, as these credentials can be used by anyone tooexecute operations as hello service principal.</span></span>
>
> <span data-ttu-id="9e783-134">När du får toohello steg med namnet konfigurera program för flera innehavare kan välja **nr**.</span><span class="sxs-lookup"><span data-stu-id="9e783-134">When you get toohello step named Configure multi-tenant application, select **No**.</span></span>
>
> <span data-ttu-id="9e783-135">När du får toohello steg [tilldela programmet toorole](../articles/azure-resource-manager/resource-group-create-service-principal-portal.md#assign-application-to-role), Använd hello resursgruppen som vi skapade tidigare, *CdnConsoleTutorial*, men i stället för hello **Reader** roll, tilldela Hej **CDN-profilen deltagare** roll.</span><span class="sxs-lookup"><span data-stu-id="9e783-135">When you get toohello step [Assign application toorole](../articles/azure-resource-manager/resource-group-create-service-principal-portal.md#assign-application-to-role), use hello resource group we created earlier,  *CdnConsoleTutorial*, but instead of hello **Reader** role, assign hello **CDN Profile Contributor** role.</span></span>  <span data-ttu-id="9e783-136">När du har tilldelat hello programmet hello **CDN-profilen deltagare** -rollen på din resursgrupp, returnerar toothis kursen.</span><span class="sxs-lookup"><span data-stu-id="9e783-136">After you assign hello application hello **CDN Profile Contributor** role on your resource group, return toothis tutorial.</span></span> 
>
>

<span data-ttu-id="9e783-137">När du har skapat din service principal och tilldelade hello **CDN-profilen deltagare** roll, hello **användare** bladet för resursgruppen bör se ut ungefär toothis.</span><span class="sxs-lookup"><span data-stu-id="9e783-137">Once you've created your service principal and assigned hello **CDN Profile Contributor** role, hello **Users** blade for your resource group should look similar toothis.</span></span>

![Bladet användare](./media/cdn-app-dev-prep/cdn-service-principal-include.png)

### <a name="interactive-user-authentication"></a><span data-ttu-id="9e783-139">Interaktiv användarautentisering</span><span class="sxs-lookup"><span data-stu-id="9e783-139">Interactive user authentication</span></span>
<span data-ttu-id="9e783-140">Om du i stället för ett huvudnamn för tjänsten har du i stället enskilda interaktiv användarautentisering, är hello processen mycket lik toothat för ett huvudnamn för tjänsten.</span><span class="sxs-lookup"><span data-stu-id="9e783-140">If, instead of a service principal, you'd rather have interactive individual user authentication, hello process is very similar toothat for a service principal.</span></span>  <span data-ttu-id="9e783-141">I praktiken måste toofollow hello samma procedur men göra några mindre ändringar.</span><span class="sxs-lookup"><span data-stu-id="9e783-141">In fact, you will need toofollow hello same procedure, but make a few minor changes.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9e783-142">Följ anvisningarna nästa endast om du väljer toouse enskilda användarautentisering i stället för en tjänstens huvudnamn.</span><span class="sxs-lookup"><span data-stu-id="9e783-142">Only follow these next steps if you are choosing toouse individual user authentication instead of a service principal.</span></span>
>
>

1. <span data-ttu-id="9e783-143">När du skapar ditt program i stället för **webbprogram**, Välj **programspecifika**.</span><span class="sxs-lookup"><span data-stu-id="9e783-143">When creating your application, instead of **Web Application**, choose **Native application**.</span></span>

    ![Det ursprungliga programmet](./media/cdn-app-dev-prep/cdn-native-application-include.png)
2. <span data-ttu-id="9e783-145">På nästa sida hello uppmanas du att för en **omdirigerings-URI**.</span><span class="sxs-lookup"><span data-stu-id="9e783-145">On hello next page, you will be prompted for a **redirect URI**.</span></span>  <span data-ttu-id="9e783-146">hello URI: N kommer inte att verifiera, men kom ihåg vad du angett.</span><span class="sxs-lookup"><span data-stu-id="9e783-146">hello URI won't be validated, but remember what you entered.</span></span>  <span data-ttu-id="9e783-147">Du behöver det senare.</span><span class="sxs-lookup"><span data-stu-id="9e783-147">You'll need it later.</span></span>
3. <span data-ttu-id="9e783-148">Det finns inget behov av toocreate en **klienten autentiseringsnyckel**.</span><span class="sxs-lookup"><span data-stu-id="9e783-148">There is no need toocreate a **client authentication key**.</span></span>
4. <span data-ttu-id="9e783-149">I stället för att tilldela en service principal toohello **CDN-profilen deltagare** roll, vi tooassign enskilda användare eller grupper.</span><span class="sxs-lookup"><span data-stu-id="9e783-149">Instead of assigning a service principal toohello **CDN Profile Contributor** role, we're going tooassign individual users or groups.</span></span>  <span data-ttu-id="9e783-150">I det här exemplet ser du att det har tilldelats *CDN Demo användaren* toohello **CDN-profilen deltagare** roll.</span><span class="sxs-lookup"><span data-stu-id="9e783-150">In this example, you can see that I've assigned  *CDN Demo User* toohello **CDN Profile Contributor** role.</span></span>  

    ![Enskilda användaråtkomst](./media/cdn-app-dev-prep/cdn-aad-user-include.png)
